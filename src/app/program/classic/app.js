var AI=AI||{};var AO=AO||{};var AV=AV||{};var BI=BI||{};var BO=BO||{};var BV=BV||{};var Delayoff=Delayoff||{};var Ext=Ext||{};if(!Ext.Toolbar){Ext.Toolbar={}}if(!Ext.app){Ext.app={}}if(!Ext.app.bind){Ext.app.bind={}}if(!Ext.app.domain){Ext.app.domain={}}if(!Ext.app.route){Ext.app.route={}}if(!Ext.button){Ext.button={}}if(!Ext.chart){Ext.chart={}}if(!Ext.chart.axis){Ext.chart.axis={}}if(!Ext.chart.axis.layout){Ext.chart.axis.layout={}}if(!Ext.chart.axis.segmenter){Ext.chart.axis.segmenter={}}if(!Ext.chart.axis.sprite){Ext.chart.axis.sprite={}}if(!Ext.chart.grid){Ext.chart.grid={}}if(!Ext.chart.interactions){Ext.chart.interactions={}}if(!Ext.chart.label){Ext.chart.label={}}if(!Ext.chart.overrides){Ext.chart.overrides={}}if(!Ext.chart.plugin){Ext.chart.plugin={}}if(!Ext.chart.series){Ext.chart.series={}}if(!Ext.chart.series.sprite){Ext.chart.series.sprite={}}if(!Ext.chart.theme){Ext.chart.theme={}}if(!Ext.container){Ext.container={}}if(!Ext.core){Ext.core={}}if(!Ext.data){Ext.data={}}if(!Ext.data.amf){Ext.data.amf={}}if(!Ext.data.field){Ext.data.field={}}if(!Ext.data.flash){Ext.data.flash={}}if(!Ext.data.identifier){Ext.data.identifier={}}if(!Ext.data.matrix){Ext.data.matrix={}}if(!Ext.data.operation){Ext.data.operation={}}if(!Ext.data.proxy){Ext.data.proxy={}}if(!Ext.data.reader){Ext.data.reader={}}if(!Ext.data.request){Ext.data.request={}}if(!Ext.data.schema){Ext.data.schema={}}if(!Ext.data.session){Ext.data.session={}}if(!Ext.data.validator){Ext.data.validator={}}if(!Ext.data.writer){Ext.data.writer={}}if(!Ext.dd){Ext.dd={}}if(!Ext.direct){Ext.direct={}}if(!Ext.dom){Ext.dom={}}if(!Ext.dom.Element){Ext.dom.Element={}}if(!Ext.draw){Ext.draw={}}if(!Ext.draw.engine){Ext.draw.engine={}}if(!Ext.draw.engine.SvgContext){Ext.draw.engine.SvgContext={}}if(!Ext.draw.gradient){Ext.draw.gradient={}}if(!Ext.draw.modifier){Ext.draw.modifier={}}if(!Ext.draw.overrides){Ext.draw.overrides={}}if(!Ext.draw.overrides.sprite){Ext.draw.overrides.sprite={}}if(!Ext.draw.sprite){Ext.draw.sprite={}}if(!Ext.event){Ext.event={}}if(!Ext.event.gesture){Ext.event.gesture={}}if(!Ext.event.publisher){Ext.event.publisher={}}if(!Ext.form){Ext.form={}}if(!Ext.form.Action){Ext.form.Action={}}if(!Ext.form.action){Ext.form.action={}}if(!Ext.form.field){Ext.form.field={}}if(!Ext.form.trigger){Ext.form.trigger={}}if(!Ext.fx){Ext.fx={}}if(!Ext.fx.animation){Ext.fx.animation={}}if(!Ext.fx.easing){Ext.fx.easing={}}if(!Ext.fx.runner){Ext.fx.runner={}}if(!Ext.fx.target){Ext.fx.target={}}if(!Ext.grid){Ext.grid={}}if(!Ext.grid.column){Ext.grid.column={}}if(!Ext.grid.feature){Ext.grid.feature={}}if(!Ext.grid.filters){Ext.grid.filters={}}if(!Ext.grid.filters.filter){Ext.grid.filters.filter={}}if(!Ext.grid.header){Ext.grid.header={}}if(!Ext.grid.locking){Ext.grid.locking={}}if(!Ext.grid.plugin){Ext.grid.plugin={}}if(!Ext.grid.property){Ext.grid.property={}}if(!Ext.grid.selection){Ext.grid.selection={}}if(!Ext.layout){Ext.layout={}}if(!Ext.layout.boxOverflow){Ext.layout.boxOverflow={}}if(!Ext.layout.component){Ext.layout.component={}}if(!Ext.layout.component.field){Ext.layout.component.field={}}if(!Ext.layout.container){Ext.layout.container={}}if(!Ext.layout.container.border){Ext.layout.container.border={}}if(!Ext.layout.container.boxOverflow){Ext.layout.container.boxOverflow={}}if(!Ext.list){Ext.list={}}if(!Ext.menu){Ext.menu={}}if(!Ext.mixin){Ext.mixin={}}if(!Ext.overrides){Ext.overrides={}}if(!Ext.overrides.app){Ext.overrides.app={}}if(!Ext.overrides.app.domain){Ext.overrides.app.domain={}}if(!Ext.overrides.dom){Ext.overrides.dom={}}if(!Ext.overrides.event){Ext.overrides.event={}}if(!Ext.overrides.event.publisher){Ext.overrides.event.publisher={}}if(!Ext.overrides.plugin){Ext.overrides.plugin={}}if(!Ext.overrides.util){Ext.overrides.util={}}if(!Ext.panel){Ext.panel={}}if(!Ext.perf){Ext.perf={}}if(!Ext.picker){Ext.picker={}}if(!Ext.plugin){Ext.plugin={}}if(!Ext.promise){Ext.promise={}}if(!Ext.resizer){Ext.resizer={}}if(!Ext.scroll){Ext.scroll={}}if(!Ext.selection){Ext.selection={}}if(!Ext.state){Ext.state={}}if(!Ext.tab){Ext.tab={}}if(!Ext.theme){Ext.theme={}}if(!Ext.theme.neptune){Ext.theme.neptune={}}if(!Ext.theme.neptune.grid){Ext.theme.neptune.grid={}}if(!Ext.theme.neptune.grid.column){Ext.theme.neptune.grid.column={}}if(!Ext.theme.neptune.layout){Ext.theme.neptune.layout={}}if(!Ext.theme.neptune.layout.component){Ext.theme.neptune.layout.component={}}if(!Ext.theme.neptune.menu){Ext.theme.neptune.menu={}}if(!Ext.theme.neptune.panel){Ext.theme.neptune.panel={}}if(!Ext.theme.neptune.picker){Ext.theme.neptune.picker={}}if(!Ext.theme.neptune.resizer){Ext.theme.neptune.resizer={}}if(!Ext.theme.neptune.toolbar){Ext.theme.neptune.toolbar={}}if(!Ext.tip){Ext.tip={}}if(!Ext.toolbar){Ext.toolbar={}}if(!Ext.tree){Ext.tree={}}if(!Ext.tree.plugin){Ext.tree.plugin={}}if(!Ext.util){Ext.util={}}if(!Ext.util.paintmonitor){Ext.util.paintmonitor={}}if(!Ext.util.sizemonitor){Ext.util.sizemonitor={}}if(!Ext.util.translatable){Ext.util.translatable={}}if(!Ext.ux){Ext.ux={}}if(!Ext.ux.data){Ext.ux.data={}}if(!Ext.ux.form){Ext.ux.form={}}if(!Ext.ux.layout){Ext.ux.layout={}}if(!Ext.view){Ext.view={}}if(!Ext.window){Ext.window={}}var Integer=Integer||{};var NOT=NOT||{};var SCFM=SCFM||{};var Switch=Switch||{};var add=add||{};var aodo=aodo||{};var aver=aver||{};var buffer=buffer||{};var comp=comp||{};var count=count||{};var delay=delay||{};var doubleBO=doubleBO||{};var enth=enth||{};var fa=fa||{};var fd=fd||{};var hour=hour||{};var hy=hy||{};var lock=lock||{};var logic=logic||{};var max=max||{};var mul=mul||{};var pid=pid||{};var program=program||{};if(!program.model){program.model={}}if(!program.store){program.store={}}if(!program.view){program.view={}}if(!program.view.grid){program.view.grid={}}if(!program.view.grid.menu){program.view.grid.menu={}}if(!program.view.main){program.view.main={}}if(!program.view.main.toolbar){program.view.main.toolbar={}}if(!program.view.massage){program.view.massage={}}if(!program.view.tab){program.view.tab={}}if(!program.view.tree){program.view.tree={}}if(!program.view.window){program.view.window={}}var pulse=pulse||{};var scale=scale||{};var select=select||{};var sub=sub||{};(function(L){var O,E=["constructor","toString","valueOf","toLocaleString"],K={},A={},M=0,D,G,y,I,P,J,C,N,H,z=function(){var d,c;G=Ext.Base;y=Ext.ClassManager;for(d=E.length;d-->0;){c=(1<<d);A[K[c]=E[d]]=c}for(d in A){M|=A[d]}M=~M;Function.prototype.$isFunction=1;H=!!(y&&y.addAlias);I=Ext.Class.getPreprocessor("config").fn;P=Ext.Class.getPreprocessor("cachedConfig")&&Ext.Class.getPreprocessor("cachedConfig").fn;J=Ext.Class.getPreprocessor("platformConfig")&&Ext.Class.getPreprocessor("platformConfig").fn;N=Ext.Class.getPreprocessor("privates")&&Ext.Class.getPreprocessor("privates").fn;C=Ext.ClassManager.postprocessors.deprecated&&Ext.ClassManager.postprocessors.deprecated.fn;O=G.$staticMembers;if(!O){O=[];for(D in G){if(G.hasOwnProperty(D)){O.push(D)}}}L.derive=F;return F.apply(this,arguments)},x=function(k,d,l){var h=l.enumerableMembers,c=k.prototype,e,m,g,i,j;if(!d){return}if(H){k.addMembers(d)}else{for(e in d){i=d[e];if(i&&i.$isFunction&&!i.$isClass&&i!==Ext.emptyFn&&i!==Ext.identityFn){j=c.hasOwnProperty(e)&&c[e];if(j){i.$previous=j}c[e]=m=i;m.$owner=k;m.$name=e}else{c[e]=i}}for(g=1;h;g<<=1){if(h&g){h&=~g;e=K[g];c[e]=m=d[e];m.$owner=k;m.$name=e}}}},B=function(h){var d=function c(){return h.apply(this,arguments)||null},e,g;d.prototype=Ext.Object.chain(h.prototype);for(e=O.length;e-->0;){g=O[e];d[g]=G[g]}return d},F=function(al,ai,ar,af,aj,p,ak,e,an,m,v){var w=function ae(){return this.constructor.apply(this,arguments)||null},c=w,u={enumerableMembers:af&M,onCreated:v,onBeforeCreated:x,aliases:e},r=ar.alternateClassName||[],h=Ext.global,l,i,g,s,j,ao,ap,am,k,ag,d,n,t,aq,q=y.alternateToName||y.maps.alternateToName,ah=y.nameToAlternates||y.maps.nameToAlternates;for(g=O.length;g-->0;){ap=O[g];w[ap]=G[ap]}if(ar.$isFunction){ar=ar(w)}u.data=ar;ag=ar.statics;delete ar.statics;ar.$className=al;if("$className" in ar){w.$className=ar.$className}w.extend(ai);k=w.prototype;if(aj){w.xtype=ar.xtype=aj[0];k.xtypes=aj}k.xtypesChain=p;k.xtypesMap=ak;ar.alias=e;c.triggerExtended(w,ar,u);if(ar.onClassExtended){w.onExtended(ar.onClassExtended,w);delete ar.onClassExtended}if(ar.privates&&N){N.call(Ext.Class,w,ar)}if(ag){if(H){w.addStatics(ag)}else{for(d in ag){if(ag.hasOwnProperty(d)){aq=ag[d];if(aq&&aq.$isFunction&&!aq.$isClass&&aq!==Ext.emptyFn&&aq!==Ext.identityFn){w[d]=t=aq;t.$owner=w;t.$name=d}w[d]=aq}}}}if(ar.inheritableStatics){w.addInheritableStatics(ar.inheritableStatics);delete ar.inheritableStatics}if(k.onClassExtended){c.onExtended(k.onClassExtended,c);delete k.onClassExtended}if(ar.platformConfig&&J){J.call(Ext.Class,w,ar);delete ar.platformConfig}if(ar.config){I.call(Ext.Class,w,ar)}if(ar.cachedConfig&&P){P.call(Ext.Class,w,ar);delete ar.cachedConfig}if(ar.deprecated&&C){C.call(Ext.ClassManager,al,w,ar)}u.onBeforeCreated(w,u.data,u);for(g=0,j=an&&an.length;g<j;++g){w.mixin.apply(w,an[g])}for(g=0,j=e.length;g<j;g++){l=e[g];y.setAlias?y.setAlias(w,l):y.addAlias(w,l)}if(ar.singleton){c=new w()}if(!(r instanceof Array)){r=[r]}n=y.getName(c);for(g=0,s=r.length;g<s;g++){i=r[g];y.classes[i]=c;if(H){y.addAlternate(w,i)}else{if(n){q[i]=n;r=ah[n]||(ah[n]=[]);r.push(i)}}}for(g=0,j=m.length;g<j;g+=2){ao=m[g];if(!ao){ao=h}ao[m[g+1]]=c}y.classes[al]=c;if(!H){if(n&&n!==al){q[al]=n;r=ah[n]||(ah[n]=[]);r.push(al)}}delete k.alternateClassName;if(u.onCreated){u.onCreated.call(c,c)}if(al){y.triggerCreated(al)}return c};L.derive=z}(Ext.cmd={}));var Ext=Ext||{};(function(){var C=this,x=Object.prototype,B=x.toString,i=["valueOf","toLocaleString","toString","constructor"],u=function(){},y=function(){},w=function(c){return c},s=function(){var c=s.caller.caller;return c.$owner.prototype[c.$name].apply(this,arguments)},D=Ext.manifest||{},v,A=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/,z=/^\\?\/Date\(([-+])?(\d+)(?:[+-]\d{4})?\)\\?\/$/;Ext.global=C;Ext.now=Date.now||(Date.now=function(){return +new Date()});Ext.ticks=(C.performance&&C.performance.now)?function(){return performance.now()}:Ext.now;Ext._startTime=Ext.ticks();u.$nullFn=w.$nullFn=u.$emptyFn=w.$identityFn=y.$nullFn=true;y.$privacy="framework";Ext.suspendLayouts=Ext.resumeLayouts=u;for(v in {toString:1}){i=null}Ext.enumerables=i;Ext.apply=function(e,g,c){if(c){Ext.apply(e,c)}if(e&&g&&typeof g==="object"){var d,h,j;for(d in g){e[d]=g[d]}if(i){for(h=i.length;h--;){j=i[h];if(g.hasOwnProperty(j)){e[j]=g[j]}}}}return e};function t(d,g,c){var h,e;for(h in c){if(c.hasOwnProperty(h)){e=c[h];if(typeof e==="function"){e.$name=h;e.$owner=g;e.$previous=d.hasOwnProperty(h)?d[h]:s}d[h]=e}}}Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-"},Ext.buildSettings||{});Ext.apply(Ext,{idSeed:0,idPrefix:"ext-",isSecure:/^https/i.test(window.location.protocol),enableGarbageCollector:false,enableListenerCollection:true,name:Ext.sandboxName||"Ext",privateFn:y,emptyFn:u,identityFn:w,frameStartTime:Ext.now(),manifest:D,enableAria:true,enableAriaButtons:true,enableAriaPanels:true,startsWithHashRe:/^#/,validIdRe:/^[a-z_][a-z0-9\-_]*$/i,BLANK_IMAGE_URL:"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",makeIdSelector:function(c){return"#"+c},id:function(e,d){if(e&&e.id){return e.id}var c=(d||Ext.idPrefix)+(++Ext.idSeed);if(e){e.id=c}return c},returnId:function(c){return c.getId()},returnTrue:function(){return true},emptyString:new String(),baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,$eventNameMap:{},$vendorEventRe:/^(Moz.+|MS.+|webkit.+)/,canonicalEventName:function(c){return Ext.$eventNameMap[c]||(Ext.$eventNameMap[c]=(Ext.$vendorEventRe.test(c)?c:c.toLowerCase()))},applyIf:function(e,d){var c;if(e){for(c in d){if(e[c]===undefined){e[c]=d[c]}}}return e},destroy:function(){var c=arguments.length,d,e;for(d=0;d<c;d++){e=arguments[d];if(e){if(Ext.isArray(e)){this.destroy.apply(this,e)}else{if(Ext.isFunction(e.destroy)){e.destroy()}}}}return null},destroyMembers:function(e){for(var c,g,d=1,h=arguments,j=h.length;d<j;d++){c=e[g=h[d]];if(c!=null){e[g]=Ext.destroy(c)}}},override:function(e,c){if(e.$isClass){e.override(c)}else{if(typeof e==="function"){Ext.apply(e.prototype,c)}else{var d=e.self,g;if(d&&d.$isClass){g=c.privates;if(g){c=Ext.apply({},c);delete c.privates;t(e,d,g)}t(e,d,c)}else{Ext.apply(e,c)}}}return e},valueFrom:function(d,c,e){return Ext.isEmpty(d,e)?c:d},isEmpty:function(c,d){return(c==null)||(!d?c==="":false)||(Ext.isArray(c)&&c.length===0)},isArray:("isArray" in Array)?Array.isArray:function(c){return B.call(c)==="[object Array]"},isDate:function(c){return B.call(c)==="[object Date]"},isMSDate:function(c){if(!Ext.isString(c)){return false}return z.test(c)},isObject:(B.call(null)==="[object Object]")?function(c){return c!==null&&c!==undefined&&B.call(c)==="[object Object]"&&c.ownerDocument===undefined}:function(c){return B.call(c)==="[object Object]"},isSimpleObject:function(c){return c instanceof Object&&c.constructor===Object},isPrimitive:function(d){var c=typeof d;return c==="string"||c==="number"||c==="boolean"},isFunction:(typeof document!=="undefined"&&typeof document.getElementsByTagName("body")==="function")?function(c){return !!c&&B.call(c)==="[object Function]"}:function(c){return !!c&&typeof c==="function"},isNumber:function(c){return typeof c==="number"&&isFinite(c)},isNumeric:function(c){return !isNaN(parseFloat(c))&&isFinite(c)},isString:function(c){return typeof c==="string"},isBoolean:function(c){return typeof c==="boolean"},isElement:function(c){return c?c.nodeType===1:false},isTextNode:function(c){return c?c.nodeName==="#text":false},isDefined:function(c){return typeof c!=="undefined"},isIterable:function(c){if(!c||typeof c.length!=="number"||typeof c==="string"||Ext.isFunction(c)){return false}if(!c.propertyIsEnumerable){return !!c.item}if(c.hasOwnProperty("length")&&!c.propertyIsEnumerable("length")){return true}return A.test(B.call(c))},isDebugEnabled:u,clone:function(c){if(c===null||c===undefined){return c}if(c.nodeType&&c.cloneNode){return c.cloneNode(true)}var d=B.call(c),e,h,j,k,g;if(d==="[object Date]"){return new Date(c.getTime())}if(d==="[object Array]"){e=c.length;k=[];while(e--){k[e]=Ext.clone(c[e])}}else{if(d==="[object Object]"&&c.constructor===Object){k={};for(g in c){k[g]=Ext.clone(c[g])}if(i){for(h=i.length;h--;){j=i[h];if(c.hasOwnProperty(j)){k[j]=c[j]}}}}}return k||c},getUniqueGlobalNamespace:function(){var c=this.uniqueGlobalNamespace,d;if(c===undefined){d=0;do{c="ExtBox"+(++d)}while(C[c]!==undefined);C[c]=Ext;this.uniqueGlobalNamespace=c}return c},functionFactoryCache:{},cacheableFunctionFactory:function(){var c=this,h=Array.prototype.slice.call(arguments),j=c.functionFactoryCache,g,e,d;if(Ext.isSandboxed){d=h.length;if(d>0){d--;h[d]="var Ext=window."+Ext.name+";"+h[d]}}g=h.join("");e=j[g];if(!e){e=Function.prototype.constructor.apply(Function.prototype,h);j[g]=e}return e},functionFactory:function(){var c=Array.prototype.slice.call(arguments),d;if(Ext.isSandboxed){d=c.length;if(d>0){d--;c[d]="var Ext=window."+Ext.name+";"+c[d]}}return Function.prototype.constructor.apply(Function.prototype,c)},Logger:{verbose:u,log:u,info:u,warn:u,error:function(c){throw new Error(c)},deprecate:u},getElementById:function(c){return document.getElementById(c)},splitAndUnescape:(function(){var c={};return function(h,j){if(!h){return[]}else{if(!j){return[h]}}var e=c[j]||(c[j]=new RegExp("\\\\"+j,"g")),k=[],d,g;d=h.split(j);while((g=d.shift())!==undefined){while(g.charAt(g.length-1)==="\\"&&d.length>0){g=g+j+d.shift()}g=g.replace(e,j);k.push(g)}return k}})()});Ext.returnTrue.$nullFn=Ext.returnId.$nullFn=true}());Ext.platformTags.modern=!(Ext.platformTags.classic=Ext.isClassic=true);(function(){function d(){var j=this,k=j.sourceClass,c=j.sourceMethod,i=j.msg;if(c){if(i){c+="(): ";c+=i}else{c+="()"}}if(k){c=c?(k+"."+c):k}return c||i||""}Ext.Error=function(c){if(Ext.isString(c)){c={msg:c}}var g=new Error();Ext.apply(g,c);g.message=g.message||g.msg;g.toString=d;return g};Ext.apply(Ext.Error,{ignore:false,raise:function(k){k=k||{};if(Ext.isString(k)){k={msg:k}}var l=this,c=l.raise.caller,j,m;if(c===Ext.raise){c=c.caller}if(c){if(!k.sourceMethod&&(m=c.$name)){k.sourceMethod=m}if(!k.sourceClass&&(m=c.$owner)&&(m=m.$className)){k.sourceClass=m}}if(l.handle(k)!==true){j=d.call(k);throw new Ext.Error(k)}},handle:function(){return this.ignore}})})();Ext.deprecated=function(d){return Ext.emptyFn};Ext.raise=function(){Ext.Error.raise.apply(Ext.Error,arguments)};Ext.Array=(function(){var L=Array.prototype,E=L.slice,C=(function(){var g=[],d,c=20;if(!g.splice){return false}while(c--){g.push("A")}g.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F");d=g.length;g.splice(13,0,"XXX");if(d+1!==g.length){return false}return true}()),D="indexOf" in L,I=true;function F(d,c){var g=d.length,h=new Array(g),i;for(i=0;i<g;i++){h[i]=i}h.sort(function(j,k){return c(d[j],d[k])||(j-k)});for(i=0;i<g;i++){h[i]=d[h[i]]}for(i=0;i<g;i++){d[i]=h[i]}return d}try{if(typeof document!=="undefined"){E.call(document.getElementsByTagName("body"))}}catch(A){I=false}var G=function(c,d){return(d<0)?Math.max(0,c.length+d):Math.min(c.length,d)},e=function(r,c,l,n){var m=n?n.length:0,j=r.length,q=G(r,c);if(q===j){if(m){r.push.apply(r,n)}}else{var d=Math.min(l,j-q),p=q+d,k=p+m-d,i=j-p,h=j-d,g;if(k<p){for(g=0;g<i;++g){r[k+g]=r[p+g]}}else{if(k>p){for(g=i;g--;){r[k+g]=r[p+g]}}}if(m&&q===h){r.length=h;r.push.apply(r,n)}else{r.length=h+m;for(g=0;g<m;++g){r[q+g]=n[g]}}}return r},J=function(g,d,h,c){if(c&&c.length){if(d===0&&!h){g.unshift.apply(g,c)}else{if(d<g.length){g.splice.apply(g,[d,h].concat(c))}else{g.push.apply(g,c)}}}else{g.splice(d,h)}return g},M=function(g,d,c){return e(g,d,c)},B=function(g,d,c){g.splice(d,c);return g},H=function(d,g,i){var h=G(d,g),c=d.slice(g,G(d,h+i));if(arguments.length<4){e(d,h,i)}else{e(d,h,i,E.call(arguments,3))}return c},K=function(c){return c.splice.apply(c,E.call(arguments,1))},x=C?B:M,z=C?J:e,y=C?K:H,N={binarySearch:function(h,d,l,g,j){var i=h.length,c,k;if(l instanceof Function){j=l;l=0;g=i}else{if(g instanceof Function){j=g;g=i}else{if(l===undefined){l=0}if(g===undefined){g=i}j=j||N.lexicalCompare}}--g;while(l<=g){c=(l+g)>>1;k=j(d,h[c]);if(k>=0){l=c+1}else{if(k<0){g=c-1}}}return l},defaultCompare:function(d,c){return(d<c)?-1:((d>c)?1:0)},lexicalCompare:function(d,c){d=String(d);c=String(c);return(d<c)?-1:((d>c)?1:0)},each:function(j,h,i,g){j=N.from(j);var d,c=j.length;if(g!==true){for(d=0;d<c;d++){if(h.call(i||j[d],j[d],d,j)===false){return d}}}else{for(d=c-1;d>-1;d--){if(h.call(i||j[d],j[d],d,j)===false){return d}}}return true},forEach:("forEach" in L)?function(g,c,d){return g.forEach(c,d)}:function(d,i,c){for(var g=0,h=d.length;g<h;g++){i.call(c,d[g],g,d)}},indexOf:D?function(g,d,c){return L.indexOf.call(g,d,c)}:function(d,i,h){var g,c=d.length;for(g=(h<0)?Math.max(0,c+h):h||0;g<c;g++){if(d[g]===i){return g}}return -1},contains:D?function(c,d){return L.indexOf.call(c,d)!==-1}:function(g,h){var d,c;for(d=0,c=g.length;d<c;d++){if(g[d]===h){return true}}return false},toArray:function(i,d,g){if(!i||!i.length){return[]}if(typeof i==="string"){i=i.split("")}if(I){return E.call(i,d||0,g||i.length)}var h=[],c;d=d||0;g=g?((g<0)?i.length+g:g):i.length;for(c=d;c<g;c++){h.push(i[c])}return h},pluck:function(j,g){var d=[],i,c,h;for(i=0,c=j.length;i<c;i++){h=j[i];d.push(h[g])}return d},map:("map" in L)?function(g,c,d){return g.map(c,d)}:function(j,d,h){var i=[],g=j.length,c;for(c=0;c<g;c++){i[c]=d.call(h,j[c],c,j)}return i},every:("every" in L)?function(g,c,d){return g.every(c,d)}:function(d,i,c){var g=0,h=d.length;for(;g<h;++g){if(!i.call(c,d[g],g,d)){return false}}return true},some:("some" in L)?function(g,c,d){return g.some(c,d)}:function(d,i,c){var g=0,h=d.length;for(;g<h;++g){if(i.call(c,d[g],g,d)){return true}}return false},equals:function(d,h){var c=d.length,g=h.length,i;if(d===h){return true}if(c!==g){return false}for(i=0;i<c;++i){if(d[i]!==h[i]){return false}}return true},clean:function(d){var c=[],g=0,h=d.length,i;for(;g<h;g++){i=d[g];if(!Ext.isEmpty(i)){c.push(i)}}return c},unique:function(d){var h=[],g=0,i=d.length,c;for(;g<i;g++){c=d[g];if(N.indexOf(h,c)===-1){h.push(c)}}return h},filter:("filter" in L)?function(g,c,d){return g.filter(c,d)}:function(j,h,i){var d=[],g=0,c=j.length;for(;g<c;g++){if(h.call(i,j[g],g,j)){d.push(j[g])}}return d},findBy:function(d,h,i){var c=0,g=d.length;for(;c<g;c++){if(h.call(i||d,d[c],c)){return d[c]}}return null},from:function(g,c){if(g===undefined||g===null){return[]}if(Ext.isArray(g)){return(c)?E.call(g):g}var d=typeof g;if(g&&g.length!==undefined&&d!=="string"&&(d!=="function"||!g.apply)){return N.toArray(g)}return[g]},remove:function(g,c){var d=N.indexOf(g,c);if(d!==-1){x(g,d,1)}return g},removeAt:function(g,c,h){var d=g.length;if(c>=0&&c<d){h=h||1;h=Math.min(h,d-c);x(g,c,h)}return g},include:function(c,d){if(!N.contains(c,d)){c.push(d)}},clone:function(c){return E.call(c)},merge:function(){var d=E.call(arguments),g=[],c,h;for(c=0,h=d.length;c<h;c++){g=g.concat(d[c])}return N.unique(g)},intersect:function(){var i=[],k=E.call(arguments),n,q,c,r,l,j,m,s,p,h,t,d,g;if(!k.length){return i}n=k.length;for(t=l=0;t<n;t++){j=k[t];if(!r||j.length<r.length){r=j;l=t}}r=N.unique(r);x(k,l,1);m=r.length;n=k.length;for(t=0;t<m;t++){s=r[t];h=0;for(d=0;d<n;d++){q=k[d];c=q.length;for(g=0;g<c;g++){p=q[g];if(s===p){h++;break}}}if(h===n){i.push(s)}}return i},difference:function(d,g){var i=E.call(d),c=i.length,h,k,j;for(h=0,j=g.length;h<j;h++){for(k=0;k<c;k++){if(i[k]===g[h]){x(i,k,1);k--;c--}}}return i},reduce:Array.prototype.reduce?function(g,c,d){if(arguments.length===3){return Array.prototype.reduce.call(g,c,d)}return Array.prototype.reduce.call(g,c)}:function(j,d,g){j=Object(j);var i=0,h=j.length>>>0,c=g;if(arguments.length<3){while(true){if(i in j){c=j[i++];break}if(++i>=h){throw new TypeError("Reduce of empty array with no initial value")}}}for(;i<h;++i){if(i in j){c=d(c,j[i],i,j)}}return c},slice:([1,2].slice(1,undefined).length?function(g,c,d){return E.call(g,c,d)}:function(g,c,d){if(typeof c==="undefined"){return E.call(g)}if(typeof d==="undefined"){return E.call(g,c)}return E.call(g,c,d)}),sort:function(c,d){return F(c,d||N.lexicalCompare)},flatten:function(g){var c=[];function d(j){var k,i,h;for(k=0,i=j.length;k<i;k++){h=j[k];if(Ext.isArray(h)){d(h)}else{c.push(h)}}return c}return d(g)},min:function(j,d){var c=j[0],g,h,i;for(g=0,h=j.length;g<h;g++){i=j[g];if(d){if(d(c,i)===1){c=i}}else{if(i<c){c=i}}}return c},max:function(j,d){var g=j[0],c,h,i;for(c=0,h=j.length;c<h;c++){i=j[c];if(d){if(d(g,i)===-1){g=i}}else{if(i>g){g=i}}}return g},mean:function(c){return c.length>0?N.sum(c)/c.length:undefined},sum:function(d){var c=0,g,h,i;for(g=0,h=d.length;g<h;g++){i=d[g];c+=i}return c},toMap:function(d,g,i){var h={},c=d.length;if(!g){while(c--){h[d[c]]=c+1}}else{if(typeof g==="string"){while(c--){h[d[c][g]]=c+1}}else{while(c--){h[g.call(i,d[c])]=c+1}}}return h},toValueMap:function(d,j,m,g){var i={},k=d.length,l,h,p,c,n,q;if(!j){while(k--){q=d[k];i[q]=q}}else{if(!(c=(typeof j!=="string"))){g=m}h=g===1;l=g===2;while(k--){q=d[k];n=c?j.call(m,q):q[j];if(h){if(n in i){i[n].push(q)}else{i[n]=[q]}}else{if(l&&(n in i)){if((p=i[n]) instanceof Array){p.push(q)}else{i[n]=[p,q]}}else{i[n]=q}}}}return i},erase:x,insert:function(g,c,d){return z(g,c,0,d)},move:function(j,d,h){if(h===d){return}var i=j[d],c=h>d?1:-1,g;for(g=d;g!=h;g+=c){j[g]=j[g+c]}j[h]=i},replace:z,splice:y,push:function(g){var d=arguments.length,h=1,c;if(g===undefined){g=[]}else{if(!Ext.isArray(g)){g=[g]}}for(;h<d;h++){c=arguments[h];Array.prototype.push[Ext.isIterable(c)?"apply":"call"](g,c)}return g},numericSortFn:function(c,d){return c-d}};Ext.each=N.each;N.union=N.merge;Ext.min=N.min;Ext.max=N.max;Ext.sum=N.sum;Ext.mean=N.mean;Ext.flatten=N.flatten;Ext.clean=N.clean;Ext.unique=N.unique;Ext.pluck=N.pluck;Ext.toArray=function(){return N.toArray.apply(N,arguments)};return N}());Ext.String=(function(){var y=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,u=/('|\\)/g,E=/([-.*+?\^${}()|\[\]\/\\])/g,s=/^\s+|\s+$/g,x=/\s+/,v=/(^[^a-z]*|[^\w])/gi,B,F,z,C,A=function(c,d){return B[d]},w=function(c,d){return(d in F)?F[d]:String.fromCharCode(parseInt(d.substr(2),10))},D=function(c,d){if(c===null||c===undefined||d===null||d===undefined){return false}return d.length<=c.length},t;return t={insert:function(d,c,e){if(!d){return c}if(!c){return d}var g=d.length;if(!e&&e!==0){e=g}if(e<0){e*=-1;if(e>=g){e=0}else{e=g-e}}if(e===0){d=c+d}else{if(e>=d.length){d+=c}else{d=d.substr(0,e)+c+d.substr(e)}}return d},startsWith:function(d,c,e){var g=D(d,c);if(g){if(e){d=d.toLowerCase();c=c.toLowerCase()}g=d.lastIndexOf(c,0)===0}return g},endsWith:function(c,e,d){var g=D(c,e);if(g){if(d){c=c.toLowerCase();e=e.toLowerCase()}g=c.indexOf(e,c.length-e.length)!==-1}return g},createVarName:function(c){return c.replace(v,"")},htmlEncode:function(c){return(!c)?c:String(c).replace(z,A)},htmlDecode:function(c){return(!c)?c:String(c).replace(C,w)},hasHtmlCharacters:function(c){return z.test(c)},addCharacterEntities:function(g){var h=[],c=[],e,d;for(e in g){d=g[e];F[e]=d;B[d]=e;h.push(d);c.push(e)}z=new RegExp("("+h.join("|")+")","g");C=new RegExp("("+c.join("|")+"|&#[0-9]{1,5};)","g")},resetCharacterEntities:function(){B={};F={};this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(c,d){if(!Ext.isEmpty(d)){return c+(c.indexOf("?")===-1?"?":"&")+d}return c},trim:function(c){if(c){c=c.replace(y,"")}return c||""},capitalize:function(c){if(c){c=c.charAt(0).toUpperCase()+c.substr(1)}return c||""},uncapitalize:function(c){if(c){c=c.charAt(0).toLowerCase()+c.substr(1)}return c||""},ellipsis:function(e,g,d){if(e&&e.length>g){if(d){var c=e.substr(0,g-2),h=Math.max(c.lastIndexOf(" "),c.lastIndexOf("."),c.lastIndexOf("!"),c.lastIndexOf("?"));if(h!==-1&&h>=(g-15)){return c.substr(0,h)+"..."}}return e.substr(0,g-3)+"..."}return e},escapeRegex:function(c){return c.replace(E,"\\$1")},createRegex:function(c,d,g,h){var e=c;if(c!=null&&!c.exec){e=t.escapeRegex(String(c));if(d!==false){e="^"+e}if(g!==false){e+="$"}e=new RegExp(e,(h!==false)?"i":"")}return e},escape:function(c){return c.replace(u,"\\$1")},toggle:function(d,c,e){return d===c?e:c},leftPad:function(e,d,c){var g=String(e);c=c||" ";while(g.length<d){g=c+g}return g},repeat:function(c,d,g){if(d<1){d=0}for(var h=[],e=d;e--;){h.push(c)}return h.join(g||"")},splitWords:function(c){if(c&&typeof c=="string"){return c.replace(s,"").split(x)}return c||[]}}}());Ext.String.resetCharacterEntities();Ext.htmlEncode=Ext.String.htmlEncode;Ext.htmlDecode=Ext.String.htmlDecode;Ext.urlAppend=Ext.String.urlAppend;Ext.Date=(function(){var u,v=Date,p=/(\\.)/g,z=/([gGhHisucUOPZ]|MS)/,t=/([djzmnYycU]|MS)/,q=/\\/gi,x=/\{(\d+)\}/g,s=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),w=Ext.String.leftPad,y=["var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,","def = me.defaults,","from = Ext.Number.from,","results = String(input).match(me.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = me.clearTime(new Date);","y = from(y, from(def.y, dt.getFullYear()));","m = from(m, from(def.m - 1, dt.getMonth()));","dayMatched = d !== undefined;","d = from(d, from(def.d, dt.getDate()));","if (!dayMatched) {","dt.setDate(1);","dt.setMonth(m);","dt.setFullYear(y);","daysInMonth = me.getDaysInMonth(dt);","if (d > daysInMonth) {","d = daysInMonth;","}","}","h  = from(h, from(def.h, dt.getHours()));","i  = from(i, from(def.i, dt.getMinutes()));","s  = from(s, from(def.s, dt.getSeconds()));","ms = from(ms, from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);","}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","if (W) {","year = y || (new Date()).getFullYear();","jan4 = new Date(year, 0, 4, 0, 0, 0);","d = jan4.getDay();","week1monday = new Date(jan4.getTime() - ((d === 0 ? 6 : d - 1) * 86400000));","v = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000 + 43200000)));","} else {","v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","}","}","}","}","if(v){","if(zz != null){","v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return (v != null) ? v : null;"].join("\n");if(!Date.prototype.toISOString){Date.prototype.toISOString=function(){var c=this;return w(c.getUTCFullYear(),4,"0")+"-"+w(c.getUTCMonth()+1,2,"0")+"-"+w(c.getUTCDate(),2,"0")+"T"+w(c.getUTCHours(),2,"0")+":"+w(c.getUTCMinutes(),2,"0")+":"+w(c.getUTCSeconds(),2,"0")+"."+w(c.getUTCMilliseconds(),3,"0")+"Z"}}function r(c){var d=Array.prototype.slice.call(arguments,1);return c.replace(x,function(g,e){return d[e]})}return u={now:v.now,toString:function(c){if(!c){c=new v()}return c.getFullYear()+"-"+w(c.getMonth()+1,2,"0")+"-"+w(c.getDate(),2,"0")+"T"+w(c.getHours(),2,"0")+":"+w(c.getMinutes(),2,"0")+":"+w(c.getSeconds(),2,"0")},getElapsed:function(c,d){return Math.abs(c-(d||u.now()))},useStrict:false,formatCodeToRegex:function(d,e){var c=u.parseCodes[d];if(c){c=typeof c==="function"?c():c;u.parseCodes[d]=c}return c?Ext.applyIf({c:c.c?r(c.c,e||"{0}"):c.c},c):{g:0,c:null,s:Ext.String.escapeRegex(d)}},parseFunctions:{MS:function(d,e){var c=(d||"").match(s);return c?new v(((c[1]||"")+c[2])*1):null},time:function(d,e){var c=parseInt(d,10);if(c||c===0){return new v(c)}return null},timestamp:function(d,e){var c=parseInt(d,10);if(c||c===0){return new v(c*1000)}return null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return u.format(this,"U")}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(c){return u.monthNames[c].substring(0,3)},getShortDayName:function(c){return u.dayNames[c].substring(0,3)},getMonthNumber:function(c){return u.monthNumbers[c.substring(0,1).toUpperCase()+c.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(c){return z.test(c.replace(p,""))},formatContainsDateInfo:function(c){return t.test(c.replace(p,""))},unescapeFormat:function(c){return c.replace(q,"")},formatCodes:{d:"Ext.String.leftPad(m.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(m.getDay())",j:"m.getDate()",l:"Ext.Date.dayNames[m.getDay()]",N:"(m.getDay() ? m.getDay() : 7)",S:"Ext.Date.getSuffix(m)",w:"m.getDay()",z:"Ext.Date.getDayOfYear(m)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(m), 2, '0')",F:"Ext.Date.monthNames[m.getMonth()]",m:"Ext.String.leftPad(m.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(m.getMonth())",n:"(m.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(m)",L:"(Ext.Date.isLeapYear(m) ? 1 : 0)",o:"(m.getFullYear() + (Ext.Date.getWeekOfYear(m) == 1 && m.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(m) >= 52 && m.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(m.getFullYear(), 4, '0')",y:"('' + m.getFullYear()).substring(2, 4)",a:"(m.getHours() < 12 ? 'am' : 'pm')",A:"(m.getHours() < 12 ? 'AM' : 'PM')",g:"((m.getHours() % 12) ? m.getHours() % 12 : 12)",G:"m.getHours()",h:"Ext.String.leftPad((m.getHours() % 12) ? m.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(m.getHours(), 2, '0')",i:"Ext.String.leftPad(m.getMinutes(), 2, '0')",s:"Ext.String.leftPad(m.getSeconds(), 2, '0')",u:"Ext.String.leftPad(m.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(m)",P:"Ext.Date.getGMTOffset(m, true)",T:"Ext.Date.getTimezone(m)",Z:"(m.getTimezoneOffset() * -60)",c:function(){var c="Y-m-dTH:i:sP",e=[],g,h=c.length,d;for(g=0;g<h;++g){d=c.charAt(g);e.push(d==="T"?"'T'":u.getFormatCode(d))}return e.join(" + ")},C:function(){return"m.toISOString()"},U:"Math.round(m.getTime() / 1000)"},isValid:function(c,k,d,g,i,h,j){g=g||0;i=i||0;h=h||0;j=j||0;var e=u.add(new v(c<100?100:c,k-1,d,g,i,h,j),u.YEAR,c<100?c-100:0);return c===e.getFullYear()&&k===e.getMonth()+1&&d===e.getDate()&&g===e.getHours()&&i===e.getMinutes()&&h===e.getSeconds()&&j===e.getMilliseconds()},parse:function(e,c,g){var d=u.parseFunctions;if(d[c]==null){u.createParser(c)}return d[c].call(u,e,Ext.isDefined(g)?g:u.useStrict)},parseDate:function(d,c,e){return u.parse(d,c,e)},getFormatCode:function(c){var d=u.formatCodes[c];if(d){d=typeof d==="function"?d():d;u.formatCodes[c]=d}return d||("'"+Ext.String.escape(c)+"'")},createFormat:function(c){var d=[],h=false,e="",g;for(g=0;g<c.length;++g){e=c.charAt(g);if(!h&&e==="\\"){h=true}else{if(h){h=false;d.push("'"+Ext.String.escape(e)+"'")}else{if(e==="\n"){d.push("'\\n'")}else{d.push(u.getFormatCode(e))}}}}u.formatFunctions[c]=Ext.functionFactory("var m=this;return "+d.join("+"))},createParser:function(h){var d=u.parseRegexes.length,g=1,c=[],i=[],k=false,e="",m=0,l=h.length,j=[],n;for(;m<l;++m){e=h.charAt(m);if(!k&&e==="\\"){k=true}else{if(k){k=false;i.push(Ext.String.escape(e))}else{n=u.formatCodeToRegex(e,g);g+=n.g;i.push(n.s);if(n.g&&n.c){if(n.calcAtEnd){j.push(n.c)}else{c.push(n.c)}}}}}c=c.concat(j);u.parseRegexes[d]=new RegExp("^"+i.join("")+"$","i");u.parseFunctions[h]=Ext.functionFactory("input","strict",r(y,d,c.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var d=[],c=0;c<7;d.push(u.getShortDayName(c)),++c){}return{g:0,c:null,s:"(?:"+d.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+u.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:1,c:"W = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+u.monthNames.join("|")+")"}},M:function(){for(var d=[],c=0;c<12;d.push(u.getShortMonthName(c)),++c){}return Ext.applyIf({s:"("+d.join("|")+")"},u.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:true},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:true},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var d=[],g=[u.formatCodeToRegex("Y",1),u.formatCodeToRegex("m",2),u.formatCodeToRegex("d",3),u.formatCodeToRegex("H",4),u.formatCodeToRegex("i",5),u.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",u.formatCodeToRegex("P",8).c,"}else{",u.formatCodeToRegex("O",8).c,"}","}"].join("\n")}],c,e;for(c=0,e=g.length;c<e;++c){d.push(g[c].c)}return{g:1,c:d.join(""),s:[g[0].s,"(?:","-",g[1].s,"(?:","-",g[2].s,"(?:","(?:T| )?",g[3].s,":",g[4].s,"(?::",g[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(d,c){return u.format(d,c)},isEqual:function(c,d){if(c&&d){return(c.getTime()===d.getTime())}return !(c||d)},format:function(d,c){var e=u.formatFunctions;if(!Ext.isDate(d)){return""}if(e[c]==null){u.createFormat(c)}return e[c].call(d)+""},getTimezone:function(c){return c.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(e,d){var c=e.getTimezoneOffset();return(c>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(c)/60),2,"0")+(d?":":"")+Ext.String.leftPad(Math.abs(c%60),2,"0")},getDayOfYear:function(e){var g=0,c=u.clone(e),h=e.getMonth(),d;for(d=0,c.setDate(1),c.setMonth(0);d<h;c.setMonth(++d)){g+=u.getDaysInMonth(c)}return g+e.getDate()-1},getWeekOfYear:(function(){var d=86400000,c=7*d;return function(h){var g=v.UTC(h.getFullYear(),h.getMonth(),h.getDate()+3)/d,i=Math.floor(g/7),e=new v(i*c).getUTCFullYear();return i-Math.floor(v.UTC(e,0,7)/c)+1}}()),isLeapYear:function(d){var c=d.getFullYear();return !!((c&3)===0&&(c%100||(c%400===0&&c)))},getFirstDayOfMonth:function(c){var d=(c.getDay()-(c.getDate()-1))%7;return(d<0)?(d+7):d},getLastDayOfMonth:function(c){return u.getLastDateOfMonth(c).getDay()},getFirstDateOfMonth:function(c){return new v(c.getFullYear(),c.getMonth(),1)},getLastDateOfMonth:function(c){return new v(c.getFullYear(),c.getMonth(),u.getDaysInMonth(c))},getDaysInMonth:(function(){var c=[31,28,31,30,31,30,31,31,30,31,30,31];return function(d){var e=d.getMonth();return e===1&&u.isLeapYear(d)?29:c[e]}}()),getSuffix:function(c){switch(c.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(c){return new v(c.getTime())},isDST:function(c){return new v(c.getFullYear(),0,1).getTimezoneOffset()!==c.getTimezoneOffset()},clearTime:function(h,c){if(isNaN(h.getTime())){return h}if(c){return u.clearTime(u.clone(h))}var e=h.getDate(),g,d;h.setHours(0);h.setMinutes(0);h.setSeconds(0);h.setMilliseconds(0);if(h.getDate()!==e){for(g=1,d=u.add(h,u.HOUR,g);d.getDate()!==e;g++,d=u.add(h,u.HOUR,g)){}h.setDate(e);h.setHours(d.getHours())}return h},add:function(h,i,d){var c=u.clone(h),j,e,g=0;if(!i||d===0){return c}e=d-parseInt(d,10);d=parseInt(d,10);if(d){switch(i.toLowerCase()){case u.MILLI:c.setTime(c.getTime()+d);break;case u.SECOND:c.setTime(c.getTime()+d*1000);break;case u.MINUTE:c.setTime(c.getTime()+d*60*1000);break;case u.HOUR:c.setTime(c.getTime()+d*60*60*1000);break;case u.DAY:c.setDate(c.getDate()+d);break;case u.MONTH:j=h.getDate();if(j>28){j=Math.min(j,u.getLastDateOfMonth(u.add(u.getFirstDateOfMonth(h),u.MONTH,d)).getDate())}c.setDate(j);c.setMonth(h.getMonth()+d);break;case u.YEAR:j=h.getDate();if(j>28){j=Math.min(j,u.getLastDateOfMonth(u.add(u.getFirstDateOfMonth(h),u.YEAR,d)).getDate())}c.setDate(j);c.setFullYear(h.getFullYear()+d);break}}if(e){switch(i.toLowerCase()){case u.MILLI:g=1;break;case u.SECOND:g=1000;break;case u.MINUTE:g=1000*60;break;case u.HOUR:g=1000*60*60;break;case u.DAY:g=1000*60*60*24;break;case u.MONTH:j=u.getDaysInMonth(c);g=1000*60*60*24*j;break;case u.YEAR:j=(u.isLeapYear(c)?366:365);g=1000*60*60*24*j;break}if(g){c.setTime(c.getTime()+g*e)}}return c},subtract:function(d,e,c){return u.add(d,e,-c)},between:function(e,c,g){var d=e.getTime();return c.getTime()<=d&&d<=g.getTime()},compat:function(){var c,k=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],d=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],i=k.length,j=d.length,g,e,h;for(h=0;h<i;h++){g=k[h];v[g]=u[g]}for(c=0;c<j;c++){e=d[c];v.prototype[e]=function(){var l=Array.prototype.slice.call(arguments);l.unshift(this);return u[e].apply(u,l)}}},diff:function(g,h,d){var e,c=+h-g;switch(d){case u.MILLI:return c;case u.SECOND:return Math.floor(c/1000);case u.MINUTE:return Math.floor(c/60000);case u.HOUR:return Math.floor(c/3600000);case u.DAY:return Math.floor(c/86400000);case"w":return Math.floor(c/604800000);case u.MONTH:e=(h.getFullYear()*12+h.getMonth())-(g.getFullYear()*12+g.getMonth());if(u.add(g,d,e)>h){return e-1}return e;case u.YEAR:e=h.getFullYear()-g.getFullYear();if(u.add(g,d,e)>h){return e-1}else{return e}}},align:function(e,c,d){var g=new v(+e);switch(c.toLowerCase()){case u.MILLI:return g;case u.SECOND:g.setUTCSeconds(g.getUTCSeconds()-g.getUTCSeconds()%d);g.setUTCMilliseconds(0);return g;case u.MINUTE:g.setUTCMinutes(g.getUTCMinutes()-g.getUTCMinutes()%d);g.setUTCSeconds(0);g.setUTCMilliseconds(0);return g;case u.HOUR:g.setUTCHours(g.getUTCHours()-g.getUTCHours()%d);g.setUTCMinutes(0);g.setUTCSeconds(0);g.setUTCMilliseconds(0);return g;case u.DAY:if(d===7||d===14){g.setUTCDate(g.getUTCDate()-g.getUTCDay()+1)}g.setUTCHours(0);g.setUTCMinutes(0);g.setUTCSeconds(0);g.setUTCMilliseconds(0);return g;case u.MONTH:g.setUTCMonth(g.getUTCMonth()-(g.getUTCMonth()-1)%d,1);g.setUTCHours(0);g.setUTCMinutes(0);g.setUTCSeconds(0);g.setUTCMilliseconds(0);return g;case u.YEAR:g.setUTCFullYear(g.getUTCFullYear()-g.getUTCFullYear()%d,1,1);g.setUTCHours(0);g.setUTCMinutes(0);g.setUTCSeconds(0);g.setUTCMilliseconds(0);return e}}}}());Ext.Function=(function(){var C=0,s,z=[],r=[],w=0,v={},x=window,A=Ext.global,y=!!(A.setImmediate&&A.clearImmediate),t=x.requestAnimationFrame||x.webkitRequestAnimationFrame||x.mozRequestAnimationFrame||x.oRequestAnimationFrame||function(c){var g=Ext.now(),e=Math.max(0,16-(g-C)),d=x.setTimeout(function(){c(g+e)},e);C=g+e;return d},B=function(){var g=z.length,c,e,d;s=null;for(e=0;e<g;e++){d=z[e];c=d[3];if(v[c]){d[0].apply(d[1]||A,d[2]||r);delete v[c]}}z=z.slice(g)},D=function(){Ext.elevateFunction(B)},u={flexSetter:function(c){return function(g,d){var h,e;if(g!==null){if(typeof g!=="string"){for(h in g){if(g.hasOwnProperty(h)){c.call(this,h,g[h])}}if(Ext.enumerables){for(e=Ext.enumerables.length;e--;){h=Ext.enumerables[e];if(g.hasOwnProperty(h)){c.call(this,h,g[h])}}}}else{c.call(this,g,d)}}return this}},bind:function(e,g,h,i){if(arguments.length===2){return function(){return e.apply(g,arguments)}}var c=e,d=Array.prototype.slice;return function(){var j=h||arguments;if(i===true){j=d.call(arguments,0);j=j.concat(h)}else{if(typeof i==="number"){j=d.call(arguments,0);Ext.Array.insert(j,i,h)}}return c.apply(g||A,j)}},bindCallback:function(c,d,e,g,h){return function(){var i=Ext.Array.slice(arguments);return Ext.callback(c,d,e?e.concat(i):i,g,h)}},pass:function(c,e,d){if(!Ext.isArray(e)){if(Ext.isIterable(e)){e=Ext.Array.clone(e)}else{e=e!==undefined?[e]:[]}}return function(){var g=e.slice();g.push.apply(g,arguments);return c.apply(d||this,g)}},alias:function(c,d){return function(){return c[d].apply(c,arguments)}},clone:function(c){return function(){return c.apply(this,arguments)}},createInterceptor:function(c,d,e,g){if(!Ext.isFunction(d)){return c}else{g=Ext.isDefined(g)?g:null;return function(){var h=this,i=arguments;return(d.apply(e||h||A,i)!==false)?c.apply(h||A,i):g}}},createDelayed:function(c,e,d,g,h){if(d||g){c=Ext.Function.bind(c,d,g,h)}return function(){var i=this,j=Array.prototype.slice.call(arguments);setTimeout(function(){if(Ext.elevateFunction){Ext.elevateFunction(c,i,j)}else{c.apply(i,j)}},e)}},defer:function(c,e,d,g,h){c=Ext.Function.bind(c,d,g,h);if(e>0){return setTimeout(function(){if(Ext.elevateFunction){Ext.elevateFunction(c)}else{c()}},e)}c();return 0},interval:function(c,e,d,g,h){c=Ext.Function.bind(c,d,g,h);return setInterval(function(){if(Ext.elevateFunction){Ext.elevateFunction(c)}else{c()}},e)},createSequence:function(d,c,e){if(!c){return d}else{return function(){var g=d.apply(this,arguments);c.apply(e||this,arguments);return g}}},createBuffered:function(c,g,d,e){var h;return function(){var i=e||Array.prototype.slice.call(arguments,0),j=d||this;if(h){clearTimeout(h)}h=setTimeout(function(){if(Ext.elevateFunction){Ext.elevateFunction(c,j,i)}else{c.apply(j,i)}},g)}},createAnimationFrame:function(d,e,g,c){var h;c=c||3;return function(){var i=g||Array.prototype.slice.call(arguments,0);e=e||this;if(c===3&&h){u.cancelAnimationFrame(h)}if((c&1)||!h){h=u.requestAnimationFrame(function(){h=null;d.apply(e,i)})}}},requestAnimationFrame:function(d,e,h){var c=++w,g=Array.prototype.slice.call(arguments,0);g[3]=c;v[c]=1;z.push(g);if(!s){s=t(Ext.elevateFunction?D:B)}return c},cancelAnimationFrame:function(c){delete v[c]},createThrottled:function(e,i,g){var d=0,j,h,k,c=function(){if(Ext.elevateFunction){Ext.elevateFunction(e,g,h)}else{e.apply(g,h)}d=Ext.now();k=null};return function(){if(!g){g=this}j=Ext.now()-d;h=arguments;if(j>=i){clearTimeout(k);c()}else{if(!k){k=Ext.defer(c,i-j)}}}},createBarrier:function(c,d,e){return function(){if(!--c){d.apply(e,arguments)}}},interceptBefore:function(g,h,d,e){var c=g[h]||Ext.emptyFn;return(g[h]=function(){var i=d.apply(e||this,arguments);c.apply(this,arguments);return i})},interceptAfter:function(g,h,d,e){var c=g[h]||Ext.emptyFn;return(g[h]=function(){c.apply(this,arguments);return d.apply(e||this,arguments)})},makeCallback:function(c,d){return function(){return d[c].apply(d,arguments)}},memoize:function(d,e,h){var g={},c=h&&Ext.isFunction(h);return function(i){var j=c?h.apply(e,arguments):i;if(!(j in g)){g[j]=d.apply(e,arguments)}return g[j]}}};Ext.asap=y?function(d,e,c){if(e!=null||c!=null){d=u.bind(d,e,c)}return setImmediate(function(){if(Ext.elevateFunction){Ext.elevateFunction(d)}else{d()}})}:function(d,e,c){if(e!=null||c!=null){d=u.bind(d,e,c)}return setTimeout(function(){if(Ext.elevateFunction){Ext.elevateFunction(d)}else{d()}},0,true)},Ext.asapCancel=y?function(c){clearImmediate(c)}:function(c){clearTimeout(c)};Ext.defer=u.defer;Ext.interval=u.interval;Ext.pass=u.pass;Ext.bind=u.bind;Ext.deferCallback=u.requestAnimationFrame;return u})();Ext.Number=(new function(){var h=this,i=(0.9).toFixed()!=="1",j=Math,k={count:false,inclusive:false,wrap:true};Ext.apply(h,{Clip:{DEFAULT:k,COUNT:Ext.applyIf({count:true},k),INCLUSIVE:Ext.applyIf({inclusive:true},k),NOWRAP:Ext.applyIf({wrap:false},k)},clipIndices:function(t,s,e){e=e||k;var g=0,u=e.wrap,c,r,d;s=s||[];for(d=0;d<2;++d){c=r;r=s[d];if(r==null){r=g}else{if(d&&e.count){r+=c;r=(r>t)?t:r}else{if(u){r=(r<0)?(t+r):r}if(d&&e.inclusive){++r}r=(r<0)?0:((r>t)?t:r)}}g=t}s[0]=c;s[1]=(r<c)?c:r;return s},constrain:function(c,d,e){var g=parseFloat(c);if(d===null){d=c}if(e===null){e=c}return(g<d)?d:((g>e)?e:g)},snap:function(d,g,e,c){var m;if(d===undefined||d<e){return e||0}if(g){m=d%g;if(m!==0){d-=m;if(m*2>=g){d+=g}else{if(m*2<-g){d-=g}}}}return h.constrain(d,e,c)},snapInRange:function(d,m,e,c){var g;e=(e||0);if(d===undefined||d<e){return e}if(m&&(g=((d-e)%m))){d-=g;g*=2;if(g>=m){d+=m}}if(c!==undefined){if(d>(c=h.snapInRange(c,m,e))){d=c}}return d},sign:function(c){c=+c;if(c===0||isNaN(c)){return c}return(c>0)?1:-1},toFixed:i?function(c,e){e=e||0;var d=j.pow(10,e);return(j.round(c*d)/d).toFixed(e)}:function(c,d){return c.toFixed(d)},from:function(c,d){if(isFinite(c)){c=parseFloat(c)}return !isNaN(c)?c:d},randomInt:function(c,d){return j.floor(j.random()*(d-c+1)+c)},correctFloat:function(c){return parseFloat(c.toPrecision(14))}});Ext.num=function(){return h.from.apply(this,arguments)}}());(function(){var l=function(){},n=/^\?/,m=/(\[):?([^\]]*)\]/g,p=/^([^\[]+)/,j=/\+/g,k=Ext.Object={chain:Object.create||function(c){l.prototype=c;var d=new l();l.prototype=null;return d},clear:function(d){for(var c in d){delete d[c]}return d},freeze:Object.freeze?function(c,e){if(c&&typeof c==="object"&&!Object.isFrozen(c)){Object.freeze(c);if(e){for(var d in c){k.freeze(c[d],e)}}}return c}:Ext.identityFn,toQueryObjects:function(d,h,e){var g=k.toQueryObjects,i=[],c,r;if(Ext.isArray(h)){for(c=0,r=h.length;c<r;c++){if(e){i=i.concat(g(d+"["+c+"]",h[c],true))}else{i.push({name:d,value:h[c]})}}}else{if(Ext.isObject(h)){for(c in h){if(h.hasOwnProperty(c)){if(e){i=i.concat(g(d+"["+c+"]",h[c],true))}else{i.push({name:d,value:h[c]})}}}}else{i.push({name:d,value:h})}}return i},toQueryString:function(g,i){var e=[],h=[],c,d,w,u,v;for(c in g){if(g.hasOwnProperty(c)){e=e.concat(k.toQueryObjects(c,g[c],i))}}for(d=0,w=e.length;d<w;d++){u=e[d];v=u.value;if(Ext.isEmpty(v)){v=""}else{if(Ext.isDate(v)){v=Ext.Date.toString(v)}}h.push(encodeURIComponent(u.name)+"="+encodeURIComponent(String(v)))}return h.join("&")},fromQueryString:function(N,e){var E=N.replace(n,"").split("&"),J={},d,I,F,D,g,L,i,h,O,K,c,G,H,M;for(g=0,L=E.length;g<L;g++){i=E[g];if(i.length>0){I=i.split("=");F=I[0];F=F.replace(j,"%20");F=decodeURIComponent(F);D=I[1];if(D!==undefined){D=D.replace(j,"%20");D=decodeURIComponent(D)}else{D=""}if(!e){if(J.hasOwnProperty(F)){if(!Ext.isArray(J[F])){J[F]=[J[F]]}J[F].push(D)}else{J[F]=D}}else{K=F.match(m);c=F.match(p);F=c[0];G=[];if(K===null){J[F]=D;continue}for(h=0,O=K.length;h<O;h++){H=K[h];H=(H.length===2)?"":H.substring(1,H.length-1);G.push(H)}G.unshift(F);d=J;for(h=0,O=G.length;h<O;h++){H=G[h];if(h===O-1){if(Ext.isArray(d)&&H===""){d.push(D)}else{d[H]=D}}else{if(d[H]===undefined||typeof d[H]==="string"){M=G[h+1];d[H]=(Ext.isNumeric(M)||M==="")?[]:{}}d=d[H]}}}}}return J},each:function(e,i,c){var g=Ext.enumerables,d,h;if(e){c=c||e;for(h in e){if(e.hasOwnProperty(h)){if(i.call(c,h,e[h],e)===false){return}}}if(g){for(d=g.length;d--;){if(e.hasOwnProperty(h=g[d])){if(i.call(c,h,e[h],e)===false){return}}}}}},eachValue:function(e,i,c){var g=Ext.enumerables,d,h;c=c||e;for(h in e){if(e.hasOwnProperty(h)){if(i.call(c,e[h])===false){return}}}if(g){for(d=g.length;d--;){if(e.hasOwnProperty(h=g[d])){if(i.call(c,e[h])===false){return}}}}},merge:function(d){var g=1,e=arguments.length,u=k.merge,i=Ext.clone,h,v,c,t;for(;g<e;g++){h=arguments[g];for(v in h){c=h[v];if(c&&c.constructor===Object){t=d[v];if(t&&t.constructor===Object){u(t,c)}else{d[v]=i(c)}}else{d[v]=c}}}return d},mergeIf:function(g){var r=1,i=arguments.length,d=Ext.clone,e,c,h;for(;r<i;r++){e=arguments[r];for(c in e){if(!(c in g)){h=e[c];if(h&&h.constructor===Object){g[c]=d(h)}else{g[c]=h}}}}return g},getAllKeys:function(e){var d=[],c;for(c in e){d.push(c)}return d},getKey:function(e,c){for(var d in e){if(e.hasOwnProperty(d)&&e[d]===c){return d}}return null},getValues:function(d){var e=[],c;for(c in d){if(d.hasOwnProperty(c)){e.push(d[c])}}return e},getKeys:(typeof Object.keys=="function")?function(c){if(!c){return[]}return Object.keys(c)}:function(e){var d=[],c;for(c in e){if(e.hasOwnProperty(c)){d.push(c)}}return d},getSize:function(e){var d=0,c;for(c in e){if(e.hasOwnProperty(c)){d++}}return d},isEmpty:function(d){for(var c in d){if(d.hasOwnProperty(c)){return false}}return true},equals:(function(){var c=function(d,e){var g;for(g in d){if(d.hasOwnProperty(g)){if(d[g]!==e[g]){return false}}}return true};return function(d,e){if(d===e){return true}if(d&&e){return c(d,e)&&c(e,d)}else{if(!d&&!e){return d===e}else{return false}}}})(),fork:function(c){var g,e,d;if(c&&c.constructor===Object){g=k.chain(c);for(e in c){d=c[e];if(d){if(d.constructor===Object){g[e]=k.fork(d)}else{if(d instanceof Array){g[e]=Ext.Array.clone(d)}}}}}else{g=c}return g},defineProperty:("defineProperty" in Object)?Object.defineProperty:function(d,e,c){if(!Object.prototype.__defineGetter__){return}if(c.get){d.__defineGetter__(e,c.get)}if(c.set){d.__defineSetter__(e,c.set)}},classify:function(c){var d=c,i=[],e={},g=function(){var v=0,u=i.length,q;for(;v<u;v++){q=i[v];this[q]=new e[q]()}},r,h;for(r in c){if(c.hasOwnProperty(r)){h=c[r];if(h&&h.constructor===Object){i.push(r);e[r]=k.classify(h)}}}g.prototype=d;return g}};Ext.merge=Ext.Object.merge;Ext.mergeIf=Ext.Object.mergeIf}());Ext.apply(Ext,{_namedScopes:{"this":{isThis:1},controller:{isController:1},self:{isSelf:1},"self.controller":{isSelf:1,isController:1}},escapeId:(function(){var k=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,j=/([\W]{1})/g,l=/^(\d)/g,m=function(c,d){return"\\"+d},i=function(c,d){return"\\00"+d.charCodeAt(0).toString(16)+" "};return function(c){return k.test(c)?c:c.replace(j,m).replace(l,i)}}()),callback:function(l,n,q,r,s,m){if(!l){return}var p=(n in Ext._namedScopes);if(l.charAt){if((!n||p)&&s){n=s.resolveListenerScope(p?n:m)}l=n[l]}else{if(p){n=m||s}else{if(!n){n=s}}}var t;if(l&&Ext.isFunction(l)){n=n||Ext.global;if(r){Ext.defer(l,r,n,q)}else{if(Ext.elevateFunction){t=Ext.elevateFunction(l,n,q)}else{if(q){t=l.apply(n,q)}else{t=l.call(n)}}}}return t},coerce:function(i,j){var k=Ext.typeOf(i),l=Ext.typeOf(j),m=typeof i==="string";if(k!==l){switch(l){case"string":return String(i);case"number":return Number(i);case"boolean":return m&&(!i||i==="false")?false:Boolean(i);case"null":return m&&(!i||i==="null")?null:i;case"undefined":return m&&(!i||i==="undefined")?undefined:i;case"date":return m&&isNaN(i)?Ext.Date.parse(i,Ext.Date.defaultFormat):Date(Number(i))}}return i},copyTo:function(q,n,l,m){if(typeof l==="string"){l=l.split(Ext.propertyNameSplitRe)}for(var r,p=0,i=l?l.length:0;p<i;p++){r=l[p];if(m||n.hasOwnProperty(r)){q[r]=n[r]}}return q},copy:function(q,n,l,m){if(typeof l==="string"){l=l.split(Ext.propertyNameSplitRe)}for(var r,p=0,i=l?l.length:0;p<i;p++){r=l[p];if(n.hasOwnProperty(r)||(m&&r in n)){q[r]=n[r]}}return q},propertyNameSplitRe:/[,;\s]+/,copyToIf:function(p,l,k){if(typeof k==="string"){k=k.split(Ext.propertyNameSplitRe)}for(var n,m=0,i=k?k.length:0;m<i;m++){n=k[m];if(p[n]===undefined){p[n]=l[n]}}return p},copyIf:function(p,l,k){if(typeof k==="string"){k=k.split(Ext.propertyNameSplitRe)}for(var n,m=0,i=k?k.length:0;m<i;m++){n=k[m];if(!(n in p)&&(n in l)){p[n]=l[n]}}return p},extend:(function(){var g=Object.prototype.constructor,e=function(c){for(var d in c){if(!c.hasOwnProperty(d)){continue}this[d]=c[d]}};return function(p,c,l){if(Ext.isObject(c)){l=c;c=p;p=l.constructor!==g?l.constructor:function(){c.apply(this,arguments)}}var m=function(){},n,d=c.prototype;m.prototype=d;n=p.prototype=new m();n.constructor=p;p.superclass=d;if(d.constructor===g){d.constructor=c}p.override=function(h){Ext.override(p,h)};n.override=e;n.proto=n;p.override(l);p.extend=function(h){return Ext.extend(p,h)};return p}}()),iterate:function(i,g,h){if(Ext.isEmpty(i)){return}if(h===undefined){h=i}if(Ext.isIterable(i)){Ext.Array.each.call(Ext.Array,i,g,h)}else{Ext.Object.each.call(Ext.Object,i,g,h)}},_resourcePoolRe:/^[<]([^<>@:]*)(?:[@]([^<>@:]+))?[>](.+)$/,resolveResource:function(g){var h=g,i;if(g&&g.charAt(0)==="<"){i=Ext._resourcePoolRe.exec(g);if(i){h=Ext.getResourcePath(i[3],i[1],i[2])}}return h},urlEncode:function(){var g=Ext.Array.from(arguments),e="";if(Ext.isString(g[1])){e=g[1]+"&";g[1]=false}return e+Ext.Object.toQueryString.apply(Ext.Object,g)},urlDecode:function(){return Ext.Object.fromQueryString.apply(Ext.Object,arguments)},getScrollbarSize:function(i){var j=Ext._scrollbarSize;if(i||!j){var k=document.body,h=document.createElement("div");h.style.width=h.style.height="100px";h.style.overflow="scroll";h.style.position="absolute";k.appendChild(h);Ext._scrollbarSize=j={width:h.offsetWidth-h.clientWidth,height:h.offsetHeight-h.clientHeight};k.removeChild(h)}return j},typeOf:(function(){var k=/\S/,i=Object.prototype.toString,h={number:1,string:1,"boolean":1,"undefined":1},j={"[object Array]":"array","[object Date]":"date","[object Boolean]":"boolean","[object Number]":"number","[object RegExp]":"regexp"};return function(d){if(d===null){return"null"}var e=typeof d,g,c;if(h[e]){return e}g=j[c=i.call(d)];if(g){return g}if(e==="function"){return"function"}if(e==="object"){if(d.nodeType!==undefined){if(d.nodeType===3){return k.test(d.nodeValue)?"textnode":"whitespace"}else{return"element"}}return"object"}return c}}()),factory:function(n,k,p,j){var l=Ext.ClassManager,m;if(!n||n.isInstance){if(p&&p!==n){p.destroy()}return n}if(j){if(typeof n==="string"){return l.instantiateByAlias(j+"."+n)}else{if(Ext.isObject(n)&&"type" in n){return l.instantiateByAlias(j+"."+n.type,n)}}}if(n===true){return p||Ext.create(k)}if("xtype" in n){m=l.instantiateByAlias("widget."+n.xtype,n)}else{if("xclass" in n){m=Ext.create(n.xclass,n)}}if(m){if(p){p.destroy()}return m}if(p){return p.setConfig(n)}return Ext.create(k,n)},log:(function(){var d=function(){};d.info=d.warn=d.error=Ext.emptyFn;return d}())});(function(){var q=[""],l=/([^\d\.])/,s=/[^\d]/g,t=/[\-+]/g,m=/\s/g,r=/_/g,n={classic:1,modern:1},p;Ext.Version=p=function(x,d){var k=this,g=k.padModes,i,z,e,c,j,h,y;if(x.isVersion){x=x.version}k.version=y=String(x).toLowerCase().replace(r,".").replace(t,"");i=y.charAt(0);if(i in g){y=y.substring(1);e=g[i]}else{e=d?g[d]:0}k.pad=e;h=y.search(l);k.shortVersion=y;if(h!==-1){k.release=j=y.substr(h,x.length);k.shortVersion=y.substr(0,h);j=p.releaseValueMap[j]||j}k.releaseValue=j||e;k.shortVersion=k.shortVersion.replace(s,"");k.parts=c=y.split(".");for(z=c.length;z--;){c[z]=parseInt(c[z],10)}if(e===Infinity){c.push(e)}k.major=c[0]||e;k.minor=c[1]||e;k.patch=c[2]||e;k.build=c[3]||e;return k};p.prototype={isVersion:true,padModes:{"~":NaN,"^":Infinity},release:"",compareTo:function(z){var k=this,d=k.pad,B=k.parts,j=B.length,e=z.isVersion?z:new p(z),h=e.pad,C=e.parts,D=C.length,i=Math.max(j,D),c,g,A;for(c=0;c<i;c++){g=(c<j)?B[c]:d;A=(c<D)?C[c]:h;if(g<A){return -1}if(g>A){return 1}}g=k.releaseValue;A=e.releaseValue;if(g<A){return -1}if(g>A){return 1}return 0},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major},getMinor:function(){return this.minor},getPatch:function(){return this.patch},getBuild:function(){return this.build},getRelease:function(){return this.release},getReleaseValue:function(){return this.releaseValue},isGreaterThan:function(c){return this.compareTo(c)>0},isGreaterThanOrEqual:function(c){return this.compareTo(c)>=0},isLessThan:function(c){return this.compareTo(c)<0},isLessThanOrEqual:function(c){return this.compareTo(c)<=0},equals:function(c){return this.compareTo(c)===0},match:function(c){c=String(c);return this.version.substr(0,c.length)===c},toArray:function(){var c=this;return[c.getMajor(),c.getMinor(),c.getPatch(),c.getBuild(),c.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(c){return this.compareTo(c)>0},lt:function(c){return this.compareTo(c)<0},gtEq:function(c){return this.compareTo(c)>=0},ltEq:function(c){return this.compareTo(c)<=0}};Ext.apply(p,{aliases:{from:{extjs:"ext",core:"core",touch:"modern"},to:{ext:["extjs"],core:["core"],modern:["touch"]}},releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(c){return !c?0:(isNaN(c)?this.releaseValueMap[c]||c:parseInt(c,10))},compare:function(e,c){var d=e.isVersion?e:new p(e);return d.compareTo(c)},set:function(e,h,i){var c=p.aliases.to[h],d=i.isVersion?i:new p(i),g;e[h]=d;if(c){for(g=c.length;g-->0;){e[c[g]]=d}}return d}});Ext.apply(Ext,{compatVersions:{},versions:{},lastRegisteredVersion:null,getCompatVersion:function(c){var d=Ext.compatVersions,e;if(!c){e=d.ext||d.touch||d.core}else{e=d[p.aliases.from[c]||c]}return e||Ext.getVersion(c)},setCompatVersion:function(c,d){p.set(Ext.compatVersions,c,d)},setVersion:function(c,d){if(c in n){Ext.toolkit=c}Ext.lastRegisteredVersion=p.set(Ext.versions,c,d);return this},getVersion:function(c){var d=Ext.versions;if(!c){return d.ext||d.touch||d.core}return d[p.aliases.from[c]||c]},checkVersion:function(L,i){var H=Ext.isArray(L),j=p.aliases.from,g=H?L:q,k=g.length,h=Ext.versions,E=h.ext||h.touch,K,F,I,e,c,D,d,J,G;if(!H){q[0]=L}for(K=0;K<k;++K){if(!Ext.isString(d=g[K])){I=Ext.checkVersion(d.and||d.or,!d.or);if(d.not){I=!I}}else{if(d.indexOf(" ")>=0){d=d.replace(m,"")}F=d.indexOf("@");if(F<0){J=d;G=E}else{D=d.substring(0,F);if(!(G=h[j[D]||D])){if(i){return false}continue}J=d.substring(F+1)}F=J.indexOf("-");if(F<0){if(J.charAt(F=J.length-1)==="+"){e=J.substring(0,F);c=null}else{e=c=J}}else{if(F>0){e=J.substring(0,F);c=J.substring(F+1)}else{e=null;c=J.substring(F+1)}}I=true;if(e){e=new p(e,"~");I=e.ltEq(G)}if(I&&c){c=new p(c,"~");I=c.gtEq(G)}}if(I){if(!i){return true}}else{if(i){return false}}}return !!i},deprecate:function(d,g,e,c){if(p.compare(Ext.getVersion(d),g)<1){e.call(c)}}})}());(function(j){var i=(j&&j.packages)||{},k=j&&j.compatibility,l,m;for(l in i){m=i[l];Ext.setVersion(l,m.version)}if(k){if(Ext.isString(k)){Ext.setCompatVersion("core",k)}else{for(l in k){Ext.setCompatVersion(l,k[l])}}}if(!i.ext&&!i.touch){Ext.setVersion("ext","6.0.1.250");Ext.setVersion("core","6.0.1.250")}})(Ext.manifest);Ext.Config=function(h){var g=this,i=h.charAt(0).toUpperCase()+h.substr(1);g.name=h;g.names={internal:"_"+h,initializing:"is"+i+"Initializing",apply:"apply"+i,update:"update"+i,get:"get"+i,set:"set"+i,initGet:"initGet"+i,changeEvent:h.toLowerCase()+"change"};g.root=g};Ext.Config.map={};Ext.Config.get=function(h){var g=Ext.Config.map,i=g[h]||(g[h]=new Ext.Config(h));return i};Ext.Config.prototype={self:Ext.Config,isConfig:true,getGetter:function(){return this.getter||(this.root.getter=this.makeGetter())},getInitGetter:function(){return this.initGetter||(this.root.initGetter=this.makeInitGetter())},getSetter:function(){return this.setter||(this.root.setter=this.makeSetter())},getEventedSetter:function(){return this.eventedSetter||(this.root.eventedSetter=this.makeEventedSetter())},getInternalName:function(d){return d.$configPrefixed?this.names.internal:this.name},mergeNew:function(j,n,k,l){var p,m;if(!n){p=j}else{if(!j){p=n}else{p=Ext.Object.chain(n);for(m in j){if(!l||!(m in p)){p[m]=j[m]}}}}return p},mergeSets:function(k,m,p){var n=m?Ext.Object.chain(m):{},l,i;if(k instanceof Array){for(l=k.length;l--;){i=k[l];if(!p||!(i in n)){n[i]=true}}}else{if(k){if(k.constructor===Object){for(l in k){i=k[l];if(!p||!(l in n)){n[l]=i}}}else{if(!p||!(k in n)){n[k]=true}}}}return n},makeGetter:function(){var g=this.name,e=this.names.internal;return function(){var c=this.$configPrefixed?e:g;return this[c]}},makeInitGetter:function(){var m=this.name,i=this.names,j=i.set,l=i.get,k=i.initializing;return function(){var c=this;c[k]=true;delete c[l];c[j](c.config[m]);delete c[k];return c[l].apply(c,arguments)}},makeSetter:function(){var r=this.name,m=this.names,p=m.internal,n=m.get,q=m.apply,k=m.update,l;l=function(g){var c=this,d=c.$configPrefixed?p:r,e=c[d];delete c[n];if(!c[q]||(g=c[q](g,e))!==undefined){if(g!==(e=c[d])){c[d]=g;if(c[k]){c[k](g,e)}}}return c};l.$isDefault=true;return l},makeEventedSetter:function(){var u=this.name,p=this.names,m=p.internal,v=p.get,n=p.apply,s=p.update,q=p.changeEvent,r=function(e,d,c,g){e[g]=d;if(e[s]){e[s](d,c)}},t;t=function(d){var e=this,g=e.$configPrefixed?m:u,c=e[g];delete e[v];if(!e[n]||(d=e[n](d,c))!==undefined){if(d!==(c=e[g])){if(e.isConfiguring){e[g]=d;if(e[s]){e[s](d,c)}}else{e.fireEventedAction(q,[e,d,c],r,e,[e,d,c,g])}}}return e};t.$isDefault=true;return t}};(function(){var h=Ext.Config,g=h.map,i=Ext.Object;Ext.Configurator=function(k){var d=this,e=k.prototype,c=k.superclass?k.superclass.self.$config:null;d.cls=k;d.superCfg=c;if(c){d.configs=i.chain(c.configs);d.cachedConfigs=i.chain(c.cachedConfigs);d.initMap=i.chain(c.initMap);d.values=i.chain(c.values);d.needsFork=c.needsFork}else{d.configs={};d.cachedConfigs={};d.initMap={};d.values={}}e.config=e.defaultConfig=d.values;k.$config=d};Ext.Configurator.prototype={self:Ext.Configurator,needsFork:false,initList:null,add:function(e,R){var d=this,N=d.cls,K=d.configs,c=d.cachedConfigs,H=d.initMap,D=N.prototype,I=R&&R.$config.configs,Q=d.values,L,J,s,P,O,M,G,E,F,C;for(G in e){C=e[G];L=C&&C.constructor===Object;J=L&&"$value" in C?C:null;if(J){s=!!J.cached;C=J.$value;L=C&&C.constructor===Object}P=J&&J.merge;O=K[G];if(O){if(R){P=O.merge;if(!P){continue}J=null}else{P=P||O.merge}M=Q[G];if(P){C=P.call(O,C,M,N,R)}else{if(L){if(M&&M.constructor===Object){C=i.merge({},M,C)}}}}else{if(I){O=I[G];J=null}else{O=h.get(G)}K[G]=O;if(O.cached||s){c[G]=true}E=O.names;if(!D[F=E.get]){D[F]=O.getter||O.getGetter()}if(!D[F=E.set]){D[F]=(J&&J.evented)?(O.eventedSetter||O.getEventedSetter()):(O.setter||O.getSetter())}}if(J){if(O.owner!==N){K[G]=O=Ext.Object.chain(O);O.owner=N}Ext.apply(O,J);delete O.$value}if(!d.needsFork&&C&&(C.constructor===Object||C instanceof Array)){d.needsFork=true}if(C!==null){H[G]=true}else{if(D.$configPrefixed){D[K[G].names.internal]=null}else{D[K[G].name]=null}if(G in H){H[G]=false}}Q[G]=C}},configure:function(Q,T){var N=this,U=N.configs,R=N.initMap,M=N.initListMap,c=N.initList,L=N.cls.prototype,Z=N.values,J=0,G=!c,Y,X,W,I,d,e,V,P,K,H,O,S,aa;Z=N.needsFork?i.fork(Z):i.chain(Z);Q.isConfiguring=true;if(G){N.initList=c=[];N.initListMap=M={};Q.isFirstInstance=true;for(K in R){I=R[K];X=U[K];O=X.cached;if(I){P=X.names;H=Z[K];if(!L[P.set].$isDefault||L[P.apply]||L[P.update]||typeof H==="object"){if(O){(Y||(Y=[])).push(X)}else{c.push(X);M[K]=true}Q[P.get]=X.initGetter||X.getInitGetter()}else{L[X.getInternalName(L)]=H}}else{if(O){L[X.getInternalName(L)]=undefined}}}}V=Y&&Y.length;if(V){for(d=0;d<V;++d){e=Y[d].getInternalName(L);Q[e]=null}for(d=0;d<V;++d){P=(X=Y[d]).names;W=P.get;if(Q.hasOwnProperty(W)){Q[P.set](Z[X.name]);delete Q[W]}}for(d=0;d<V;++d){e=Y[d].getInternalName(L);L[e]=Q[e];delete Q[e]}}if(T&&T.platformConfig){T=N.resolvePlatformConfig(Q,T)}if(G){if(Q.afterCachedConfig&&!Q.afterCachedConfig.$nullFn){Q.afterCachedConfig(T)}}Q.config=Z;for(d=0,V=c.length;d<V;++d){X=c[d];Q[X.names.get]=X.initGetter||X.getInitGetter()}if(Q.transformInstanceConfig){T=Q.transformInstanceConfig(T)}if(T){for(K in T){H=T[K];X=U[K];if(!X){Q[K]=H}else{if(!X.lazy){++J}if(!M[K]){Q[X.names.get]=X.initGetter||X.getInitGetter()}if(X.merge){H=X.merge(H,Z[K],Q)}else{if(H&&H.constructor===Object){S=Z[K];if(S&&S.constructor===Object){H=i.merge(Z[K],H)}else{H=Ext.clone(H)}}}}Z[K]=H}}if(Q.beforeInitConfig&&!Q.beforeInitConfig.$nullFn){if(Q.beforeInitConfig(T)===false){return}}if(T){for(K in T){if(!J){break}X=U[K];if(X&&!X.lazy){--J;P=X.names;W=P.get;if(Q.hasOwnProperty(W)){Q[P.set](Z[K]);delete Q[P.get]}}}}for(d=0,V=c.length;d<V;++d){X=c[d];P=X.names;W=P.get;if(!X.lazy&&Q.hasOwnProperty(W)){Q[P.set](Z[X.name]);delete Q[W]}}delete Q.isConfiguring},getCurrentConfig:function(e){var k=e.defaultConfig,c={},d;for(d in k){c[d]=e[g[d].names.get]()}return c},merge:function(s,d,p){var t=this.configs,q,c,e,r;for(q in p){c=p[q];r=t[q];if(r){if(r.merge){c=r.merge(c,d[q],s)}else{if(c&&c.constructor===Object){e=d[q];if(e&&e.constructor===Object){c=Ext.Object.merge(e,c)}else{c=Ext.clone(c)}}}}d[q]=c}return d},reconfigure:function(F,d,E){var z=F.config,y=[],G=F.$configStrict&&!(E&&E.strict===false),c=this.configs,B=E&&E.defaults,e,H,A,x,C,I,D;for(C in d){if(B&&F.hasOwnProperty(C)){continue}z[C]=d[C];e=c[C];if(e){F[e.names.get]=e.initGetter||e.getInitGetter()}else{D=F.self.prototype[C];if(G){if((typeof D==="function")&&!D.$nullFn){continue}}}y.push(C)}for(A=0,x=y.length;A<x;A++){C=y[A];e=c[C];if(e){I=e.names;H=I.get;if(F.hasOwnProperty(H)){F[I.set](d[C]);delete F[H]}}else{e=g[C]||Ext.Config.get(C);I=e.names;if(F[I.set]){F[I.set](d[C])}else{F[C]=d[C]}}}},resolvePlatformConfig:function(r,s){var d=s&&s.platformConfig,q=s,n,e,c;if(d){e=Ext.getPlatformConfigKeys(d);c=e.length;if(c){q=Ext.merge({},q);for(n=0,c=e.length;n<c;++n){this.merge(r,q,d[e[n]])}}}return q}}}());Ext.Base=(function(z){var A=[],t,r=[],q=function(e,g){var c=this,h,i,d;if(e){i=Ext.Config.map[e];d=i.names.get;if(g&&c.hasOwnProperty(d)){h=c.config[e]}else{h=c[d]()}}else{h=c.getCurrentConfig()}return h},w=function(c){return function(){return this[c].apply(this,arguments)}},B=Ext.Version,u=/^\d/,s={},x={},v=function(){},y=v.prototype;Ext.apply(v,{$className:"Ext.Base",$isClass:true,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},addDeprecations:function(h){var k=this,K=[],n=Ext.getCompatVersion(h.name),m,N,j,L,i,d,I,e,J,g,c,M,l,p;for(N in h){if(u.test(N)){p=new Ext.Version(N);p.deprecations=h[N];K.push(p)}}K.sort(B.compare);for(j=K.length;j--;){m=(p=K[j]).deprecations;i=k.prototype;l=m.statics;d=n&&n.lt(p);if(!d){break}while(m){J=m.methods;if(J){for(g in J){M=J[g];e=null;if(!M){}else{if(Ext.isString(M)){if(d){e=w(M)}}else{L="";if(M.message||M.fn){M=M.fn}I=i.hasOwnProperty(g)&&i[g];if(d&&M){M.$owner=k;M.$name=g;if(I){M.$previous=I}e=M}}}if(e){i[g]=e}}}m=l;l=null;i=k}}},extend:function(g){var d=this,k=g.prototype,i,h,e,j,c;i=d.prototype=Ext.Object.chain(k);i.self=d;d.superclass=i.superclass=k;if(!g.$isClass){for(h in y){if(h in i){i[h]=y[h]}}}c=k.$inheritableStatics;if(c){for(h=0,e=c.length;h<e;h++){j=c[h];if(!d.hasOwnProperty(j)){d[j]=g[j]}}}if(g.$onExtended){d.$onExtended=g.$onExtended.slice()}d.getConfigurator()},$onExtended:[],triggerExtended:function(){var d=this.$onExtended,e=d.length,g,c;if(e>0){for(g=0;g<e;g++){c=d[g];c.fn.apply(c.scope||this,arguments)}}},onExtended:function(c,d){this.$onExtended.push({fn:c,scope:d});return this},addStatics:function(c){this.addMembers(c,true);return this},addInheritableStatics:function(h){var d,i,e=this.prototype,g,c;d=e.$inheritableStatics;i=e.$hasInheritableStatics;if(!d){d=e.$inheritableStatics=[];i=e.$hasInheritableStatics={}}for(g in h){if(h.hasOwnProperty(g)){c=h[g];this[g]=c;if(!i[g]){i[g]=true;d.push(g)}}}return this},addMembers:function(p,H,d){var c=this,k=Ext.Function.clone,h=H?c:c.prototype,n=!H&&h.defaultConfig,J=Ext.enumerables,j=p.privates,i,l,g,m,e,I,G;if(j){delete p.privates;if(!H){G=j.statics;delete j.statics}c.addMembers(j,H,I);if(G){c.addMembers(G,true,I)}}for(e in p){if(p.hasOwnProperty(e)){m=p[e];if(typeof m==="function"&&!m.$isClass&&!m.$nullFn){if(m.$owner){m=k(m)}if(h.hasOwnProperty(e)){m.$previous=h[e]}m.$owner=c;m.$name=e}else{if(n&&(e in n)&&!h.config.hasOwnProperty(e)){(i||(i={}))[e]=m;continue}}h[e]=m}}if(i){c.addConfig(i)}if(J){for(l=0,g=J.length;l<g;++l){if(p.hasOwnProperty(e=J[l])){m=p[e];if(m&&!m.$nullFn){if(m.$owner){m=k(m)}m.$owner=c;m.$name=e;if(h.hasOwnProperty(e)){m.$previous=h[e]}}h[e]=m}}}return this},addMember:function(d,c){s[d]=c;this.addMembers(s);delete s[d];return this},borrow:function(c,j){var h=c.prototype,e={},g,d,i;j=Ext.Array.from(j);for(g=0,d=j.length;g<d;g++){i=j[g];e[i]=h[i]}return this.addMembers(e)},override:function(i){var g=this,c=i.statics,d=i.inheritableStatics,h=i.config,j=i.mixins,e=i.cachedConfig;if(c||d||h){i=Ext.apply({},i)}if(c){g.addMembers(c,true);delete i.statics}if(d){g.addInheritableStatics(d);delete i.inheritableStatics}if(h){g.addConfig(h);delete i.config}if(e){g.addCachedConfig(e);delete i.cachedConfig}delete i.mixins;g.addMembers(i);if(j){g.mixin(j)}return g},callParent:function(d){var c;return(c=this.callParent.caller)&&(c.$previous||((c=c.$owner?c:c.caller)&&c.$owner.superclass.self[c.$name])).apply(this,d||A)},callSuper:function(d){var c;return(c=this.callSuper.caller)&&((c=c.$owner?c:c.caller)&&c.$owner.superclass.self[c.$name]).apply(this,d||A)},mixin:function(e,c){var l=this,d,j,g,k,D,m,h,i,n;if(typeof e!=="string"){n=e;if(n instanceof Array){for(D=0,m=n.length;D<m;D++){d=n[D];l.mixin(d.prototype.mixinId||d.$className,d)}}else{for(var p in n){l.mixin(p,n[p])}}return}d=c.prototype;j=l.prototype;if(d.onClassMixedIn){d.onClassMixedIn.call(c,l)}if(!j.hasOwnProperty("mixins")){if("mixins" in j){j.mixins=Ext.Object.chain(j.mixins)}else{j.mixins={}}}for(g in d){i=d[g];if(g==="mixins"){Ext.applyIf(j.mixins,i)}else{if(!(g==="mixinId"||g==="config")&&(j[g]===undefined)){j[g]=i}}}k=d.$inheritableStatics;if(k){for(D=0,m=k.length;D<m;D++){h=k[D];if(!l.hasOwnProperty(h)){l[h]=c[h]}}}if("config" in d){l.addConfig(d.config,c)}j.mixins[e]=d;if(d.afterClassMixedIn){d.afterClassMixedIn.call(c,l)}return l},addConfig:function(d,c){var e=this.$config||this.getConfigurator();e.add(d,c)},addCachedConfig:function(g,d){var c={},e;for(e in g){c[e]={cached:true,$value:g[e]}}this.addConfig(c,d)},getConfigurator:function(){return this.$config||new Ext.Configurator(this)},getName:function(){return Ext.getClassName(this)},createAlias:z(function(c,d){x[c]=function(){return this[d].apply(this,arguments)};this.override(x);delete x[c]})});for(t in v){if(v.hasOwnProperty(t)){r.push(t)}}v.$staticMembers=r;v.getConfigurator();v.addMembers({$className:"Ext.Base",isInstance:true,$configPrefixed:true,$configStrict:true,isConfiguring:false,isFirstInstance:false,destroyed:false,statics:function(){var c=this.statics.caller,d=this.self;if(!c){return d}return c.$owner},callParent:function(d){var c,e=(c=this.callParent.caller)&&(c.$previous||((c=c.$owner?c:c.caller)&&c.$owner.superclass[c.$name]));return e.apply(this,d||A)},callSuper:function(d){var c,e=(c=this.callSuper.caller)&&((c=c.$owner?c:c.caller)&&c.$owner.superclass[c.$name]);return e.apply(this,d||A)},self:v,constructor:function(){return this},getConfigurator:function(){return this.$config||this.self.getConfigurator()},initConfig:function(c){var d=this,e=d.getConfigurator();d.initConfig=Ext.emptyFn;d.initialConfig=c||{};e.configure(d,c);return d},beforeInitConfig:Ext.emptyFn,getConfig:q,setConfig:function(e,c,g){var d=this,h;if(e){if(typeof e==="string"){h={};h[e]=c}else{h=e}d.getConfigurator().reconfigure(d,h,g)}return d},getCurrentConfig:function(){var c=this.getConfigurator();return c.getCurrentConfig(this)},hasConfig:function(c){return c in this.defaultConfig},getInitialConfig:function(c){var d=this.config;if(!c){return d}return d[c]},$links:null,link:function(e,c){var d=this,g=d.$links||(d.$links={});g[e]=true;d[e]=c;return c},unlink:function(c){var e=this,i,g,h,d;for(i=0,g=c.length;i<g;i++){h=c[i];d=e[h];if(d){if(d.isInstance&&!d.destroyed){d.destroy()}else{if(d.parentNode&&"nodeType" in d){d.parentNode.removeChild(d)}}}e[h]=null}return e},destroy:function(){var c=this,d=c.$links;c.initialConfig=c.config=null;c.destroy=Ext.emptyFn;c.isDestroyed=c.destroyed=true;if(d){c.$links=null;c.unlink(Ext.Object.getKeys(d))}}});y.callOverridden=y.callParent;return v}(Ext.Function.flexSetter));(function(e,g){(Ext.util||(Ext.util={})).Cache=e=function(i){var c=this,d;if(i){Ext.apply(c,i)}c.head=d={key:null,value:null};c.map={};d.next=d.prev=d};e.prototype=g={maxSize:100,count:0,clear:function(){var c=this,i=c.head,d=i.next;i.next=i.prev=i;if(!c.evict.$nullFn){for(;d!==i;d=d.next){c.evict(d.key,d.value)}}c.count=0},each:function(d,j){j=j||this;for(var k=this.head,c=k.next;c!==k;c=c.next){if(d.call(j,c.key,c.value)){break}}},get:function(l){var d=this,m=d.head,c=d.map,k=c[l];if(k){if(k.prev!==m){d.unlinkEntry(k);d.linkEntry(k)}}else{c[l]=k={key:l,value:d.miss.apply(d,arguments)};d.linkEntry(k);++d.count;while(d.count>d.maxSize){d.unlinkEntry(m.prev,true);--d.count}}return k.value},evict:Ext.emptyFn,linkEntry:function(d){var i=this.head,c=i.next;d.next=c;d.prev=i;i.next=d;c.prev=d},unlinkEntry:function(d,c){var k=d.next,j=d.prev;j.next=k;k.prev=j;if(c){this.evict(d.key,d.value)}}};g.destroy=g.clear}());(function(){var j,k=Ext.Base,i=k.$staticMembers,l=function(c,d){return(c.length-d.length)||((c<d)?-1:((c>d)?1:0))};function m(c){function d(){return this.constructor.apply(this,arguments)||null}return d}Ext.Class=j=function(d,c,e){if(typeof d!="function"){e=c;c=d;d=null}if(!c){c={}}d=j.create(d,c);j.process(d,c,e);return d};Ext.apply(j,{makeCtor:m,onBeforeCreated:function(d,c,e){d.addMembers(c);e.onCreated.call(d,d)},create:function(g,c){var d=i.length,e;if(!g){g=m()}while(d--){e=i[d];g[e]=k[e]}return g},process:function(A,c,h){var z=c.preprocessors||j.defaultPreprocessors,F=this.preprocessors,C={onBeforeCreated:this.onBeforeCreated},D=[],B,d,e,E,g,G,H;delete c.preprocessors;A._classHooks=C;for(e=0,E=z.length;e<E;e++){B=z[e];if(typeof B=="string"){B=F[B];d=B.properties;if(d===true){D.push(B.fn)}else{if(d){for(g=0,G=d.length;g<G;g++){H=d[g];if(c.hasOwnProperty(H)){D.push(B.fn);break}}}}}else{D.push(B)}}C.onCreated=h?h:Ext.emptyFn;C.preprocessors=D;this.doProcess(A,c,C)},doProcess:function(g,r,h){var c=this,q=h.preprocessors,e=q.shift(),d=c.doProcess;for(;e;e=q.shift()){if(e.call(c,g,r,h,d)===false){return}}h.onBeforeCreated.apply(c,arguments)},preprocessors:{},registerPreprocessor:function(g,c,e,h,d){if(!h){h="last"}if(!e){e=[g]}this.preprocessors[g]={name:g,properties:e||false,fn:c};this.setDefaultPreprocessorPosition(g,h,d);return this},getPreprocessor:function(c){return this.preprocessors[c]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(c){this.defaultPreprocessors=Ext.Array.from(c);return this},setDefaultPreprocessorPosition:function(e,c,d){var h=this.defaultPreprocessors,g;if(typeof c=="string"){if(c==="first"){h.unshift(e);return this}else{if(c==="last"){h.push(e);return this}}c=(c==="after")?1:-1}g=Ext.Array.indexOf(h,d);if(g!==-1){Ext.Array.splice(h,Math.max(0,g+c),0,e)}return this}});j.registerPreprocessor("extend",function(u,h,w){var g=Ext.Base,e=g.prototype,d=h.extend,v,c,t;delete h.extend;if(d&&d!==Object){v=d}else{v=g}c=v.prototype;if(!v.$isClass){for(t in e){if(!c[t]){c[t]=e[t]}}}u.extend(v);u.triggerExtended.apply(u,arguments);if(h.onClassExtended){u.onExtended(h.onClassExtended,u);delete h.onClassExtended}},true);j.registerPreprocessor("privates",function(h,d){var e=d.privates,c=e.statics,g=e.privacy||true;delete d.privates;delete e.statics;h.addMembers(e,false,g);if(c){h.addMembers(c,true,g)}});j.registerPreprocessor("statics",function(d,c){d.addStatics(c.statics);delete c.statics});j.registerPreprocessor("inheritableStatics",function(d,c){d.addInheritableStatics(c.inheritableStatics);delete c.inheritableStatics});Ext.createRuleFn=function(c){return new Function("$c","with($c) { return ("+c+"); }")};Ext.expressionCache=new Ext.util.Cache({miss:Ext.createRuleFn});Ext.ruleKeySortFn=l;Ext.getPlatformConfigKeys=function(d){var e=[],g,c;for(g in d){c=Ext.expressionCache.get(g);if(c(Ext.platformTags)){e.push(g)}}e.sort(l);return e};j.registerPreprocessor("platformConfig",function(z,d,D){var c=d.platformConfig,h=d.config,F,I,H,g,A,C,B,E,e,G;delete d.platformConfig;g=z.getConfigurator();I=g.configs;C=Ext.getPlatformConfigKeys(c);for(e=0,G=C.length;e<G;++e){H=c[C[e]];A=F=null;for(B in H){E=H[B];if(h&&B in h){(F||(F={}))[B]=E;(A||(A={}))[B]=h[B];delete h[B]}else{if(B in I){(F||(F={}))[B]=E}else{d[B]=E}}}if(A){g.add(A)}if(F){g.add(F)}}});j.registerPreprocessor("config",function(d,c){if(c.hasOwnProperty("$configPrefixed")){d.prototype.$configPrefixed=c.$configPrefixed}d.addConfig(c.config);delete c.config});j.registerPreprocessor("cachedConfig",function(d,c){if(c.hasOwnProperty("$configPrefixed")){d.prototype.$configPrefixed=c.$configPrefixed}d.addCachedConfig(c.cachedConfig);delete c.cachedConfig});j.registerPreprocessor("mixins",function(d,c,h){var e=c.mixins,g=h.onCreated;delete c.mixins;h.onCreated=function(){h.onCreated=g;d.mixin(e);return h.onCreated.apply(this,arguments)}});Ext.extend=function(d,c,e){if(arguments.length===2&&Ext.isObject(c)){e=c;c=d;d=null}var g;if(!c){throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.")}e.extend=c;e.preprocessors=["extend","statics","inheritableStatics","mixins","platformConfig","config"];if(d){g=new j(d,e);g.prototype.constructor=d}else{g=new j(e)}g.prototype.override=function(h){for(var q in h){if(h.hasOwnProperty(q)){this[q]=h[q]}}};return g}}());Ext.Inventory=function(){var d=this;d.names=[];d.paths={};d.alternateToName={};d.aliasToName={};d.nameToAliases={};d.nameToAlternates={}};Ext.Inventory.prototype={_array1:[0],prefixes:null,dotRe:/\./g,wildcardRe:/\*/g,addAlias:function(h,i,g){return this.addMapping(h,i,this.aliasToName,this.nameToAliases,g)},addAlternate:function(g,e){return this.addMapping(g,e,this.alternateToName,this.nameToAlternates)},addMapping:function(v,B,A,i,z){var E=v.$className||v,x=E,w=this._array1,t,C,F,y,D,u;if(Ext.isString(E)){x={};x[E]=B}for(F in x){C=x[F];if(Ext.isString(C)){w[0]=C;C=w}D=C.length;u=i[F]||(i[F]=[]);for(y=0;y<D;++y){if(!(t=C[y])){continue}if(A[t]!==F){A[t]=F;u.push(t)}}}},getAliasesByName:function(d){return this.nameToAliases[d]||null},getAlternatesByName:function(d){return this.nameToAlternates[d]||null},getNameByAlias:function(d){return this.aliasToName[d]||""},getNameByAlternate:function(d){return this.alternateToName[d]||""},getNamesByExpression:function(H,R,K){var n=this,C=n.aliasToName,F=n.alternateToName,Q=n.nameToAliases,O=n.nameToAlternates,A=K?R:{},I=[],B=Ext.isString(H)?[H]:H,L=B.length,N=n.wildcardRe,P,E,D,J,G,i,M;for(E=0;E<L;++E){if((P=B[E]).indexOf("*")<0){if(!(i=C[P])){if(!(i=F[P])){i=P}}if(!(i in A)&&!(R&&(i in R))){A[i]=1;I.push(i)}}else{M=new RegExp("^"+P.replace(N,"(.*?)")+"$");for(i in Q){if(!(i in A)&&!(R&&(i in R))){if(!(J=M.test(i))){G=(D=Q[i]).length;while(!J&&G-->0){J=M.test(D[G])}D=O[i];if(D&&!J){G=D.length;while(!J&&G-->0){J=M.test(D[G])}}}if(J){A[i]=1;I.push(i)}}}}}return I},getPath:function(l){var k=this,i=k.paths,m="",j;if(l in i){m=i[l]}else{j=k.getPrefix(l);if(j){l=l.substring(j.length+1);m=i[j];if(m){m+="/"}}m+=l.replace(k.dotRe,"/")+".js"}return m},getPrefix:function(l){if(l in this.paths){return l}var i=this.getPrefixes(),m=i.length,k,j;while(m-->0){k=(j=i[m]).length;if(k<l.length&&l.charAt(k)==="."&&j===l.substring(0,k)){return j}}return""},getPrefixes:function(){var g=this,e=g.prefixes;if(!e){g.prefixes=e=g.names.slice(0);e.sort(g._compareNames)}return e},removeName:function(x){var t=this,q=t.aliasToName,i=t.alternateToName,p=t.nameToAliases,u=t.nameToAlternates,w=p[x],s=u[x],v,r;delete p[x];delete u[x];if(w){for(v=w.length;v--;){if(x===(r=w[v])){delete q[r]}}}if(s){for(v=s.length;v--;){if(x===(r=s[v])){delete i[r]}}}},resolveName:function(i){var h=this,g;if(!(i in h.nameToAliases)){if(!(g=h.aliasToName[i])){g=h.alternateToName[i]}}return g||i},select:function(k,m){var l=this,j={},n={excludes:j,exclude:function(){l.getNamesByExpression(arguments,j,true);return this}},p;for(p in k){n[p]=l.selectMethod(j,k[p],m||k)}return n},selectMethod:function(h,j,k){var i=this;return function(d){var c=Ext.Array.slice(arguments,1);c.unshift(i.getNamesByExpression(d,h));return j.apply(k,c)}},setPath:Ext.Function.flexSetter(function(i,g){var h=this;h.paths[i]=g;h.names.push(i);h.prefixes=null;return h}),_compareNames:function(i,g){var h=i.length-g.length;if(!h){h=(i<g)?-1:1}return h}};Ext.ClassManager=(function(A,F,y,L,C){var O=Ext.Class.makeCtor,J=[],I={Ext:{name:"Ext",value:Ext}},N=Ext.apply(new Ext.Inventory(),{classes:{},classState:{},existCache:{},instantiators:[],isCreated:function(c){if(N.classes[c]||N.existCache[c]){return true}if(!N.lookupName(c,false)){return false}N.triggerCreated(c);return true},createdListeners:[],nameCreatedListeners:{},existsListeners:[],nameExistsListeners:{},overrideMap:{},triggerCreated:function(c,d){N.existCache[c]=d||1;N.classState[c]+=40;N.notify(c,N.createdListeners,N.nameCreatedListeners)},onCreated:function(d,e,c){N.addListener(d,e,c,N.createdListeners,N.nameCreatedListeners)},notify:function(m,k,h){var g=N.getAlternatesByName(m),l=[m],d,n,e,c,i,j;for(d=0,n=k.length;d<n;d++){i=k[d];i.fn.call(i.scope,m)}while(l){for(d=0,n=l.length;d<n;d++){j=l[d];k=h[j];if(k){for(e=0,c=k.length;e<c;e++){i=k[e];i.fn.call(i.scope,j)}delete h[j]}}l=g;g=null}},addListener:function(h,j,d,g,i){if(Ext.isArray(d)){h=Ext.Function.createBarrier(d.length,h,j);for(c=0;c<d.length;c++){this.addListener(h,null,d[c],g,i)}return}var c,e={fn:h,scope:j};if(d){if(this.isCreated(d)){h.call(j,d);return}if(!i[d]){i[d]=[]}i[d].push(e)}else{g.push(e)}},$namespaceCache:I,addRootNamespaces:function(d){for(var c in d){I[c]={name:c,value:d[c]}}},clearNamespaceCache:function(){J.length=0;for(var c in I){if(!I[c].value){delete I[c]}}},getNamespaceEntry:function(e){if(typeof e!=="string"){return e}var d=I[e],c;if(!d){c=e.lastIndexOf(".");if(c<0){d={name:e}}else{d={name:e.substring(c+1),parent:N.getNamespaceEntry(e.substring(0,c))}}I[e]=d}return d},lookupName:function(d,h){var j=N.getNamespaceEntry(d),g=Ext.global,c=0,e,i;for(e=j;e;e=e.parent){J[c++]=e}while(g&&c-->0){e=J[c];i=g;g=e.value||g[e.name];if(!g&&h){i[e.name]=g={}}}return g},setNamespace:function(g,d){var e=N.getNamespaceEntry(g),c=Ext.global;if(e.parent){c=N.lookupName(e.parent,true)}c[e.name]=d;return d},setXType:function(d,e){var i=d.$className,g=i?d:N.get(i=d),c=g.prototype,k=c.xtypes,j=c.xtypesChain,h=c.xtypesMap;if(!c.hasOwnProperty("xtypes")){c.xtypes=k=[];c.xtypesChain=j=j?j.slice(0):[];c.xtypesMap=h=Ext.apply({},h)}N.addAlias(i,"widget."+e,true);k.push(e);j.push(e);h[e]=true},set:function(c,d){var e=N.getName(d);N.classes[c]=N.setNamespace(c,d);if(e&&e!==c){N.addAlternate(e,c)}return N},get:function(c){return N.classes[c]||N.lookupName(c,false)},addNameAliasMappings:function(c){N.addAlias(c)},addNameAlternateMappings:function(c){N.addAlternate(c)},getByAlias:function(c){return N.get(N.getNameByAlias(c))},getByConfig:function(g,e){var d=g.xclass,c;if(d){c=d}else{c=g.xtype;if(c){e="widget."}else{c=g.type}c=N.getNameByAlias(e+c)}return N.get(c)},getName:function(c){return c&&c.$className||""},getClass:function(c){return c&&c.self||null},create:function(g,d,c){var e=O(g);if(typeof d==="function"){d=d(e)}d.$className=g;return new A(e,d,function(){var j=d.postprocessors||N.defaultPostprocessors,m=N.postprocessors,l=[],n,h,p,i,q,r,k;delete d.postprocessors;for(h=0,p=j.length;h<p;h++){n=j[h];if(typeof n==="string"){n=m[n];r=n.properties;if(r===true){l.push(n.fn)}else{if(r){for(i=0,q=r.length;i<q;i++){k=r[i];if(d.hasOwnProperty(k)){l.push(n.fn);break}}}}}else{l.push(n)}}d.postprocessors=l;d.createdFn=c;N.processCreate(g,this,d)})},processCreate:function(d,i,g){var h=this,c=g.postprocessors.shift(),e=g.createdFn;if(!c){if(d){h.set(d,i)}delete i._classHooks;if(e){e.call(i,i)}if(d){h.triggerCreated(d)}return}if(c.call(h,d,i,g,h.processCreate)!==false){h.processCreate(d,i,g)}},createOverride:function(c,e,h){var n=this,m=e.override,k=e.requires,g=e.uses,d=e.mixins,j,l=1,p,i=function(){var s,t,u,q,r;if(!p){t=k?k.slice(0):[];if(d){if(!(j=d instanceof Array)){for(q in d){if(Ext.isString(s=d[q])){t.push(s)}}}else{for(u=0,r=d.length;u<r;++u){if(Ext.isString(s=d[u])){t.push(s)}}}}p=true;if(t.length){Ext.require(t,i);return}}if(j){for(u=0,r=d.length;u<r;++u){if(Ext.isString(s=d[u])){d[u]=Ext.ClassManager.get(s)}}}else{if(d){for(q in d){if(Ext.isString(s=d[q])){d[q]=Ext.ClassManager.get(s)}}}}s=n.get(m);delete e.override;delete e.compatibility;delete e.requires;delete e.uses;Ext.override(s,e);Ext.Loader.history.push(c);if(g){Ext.Loader.addUsedClasses(g)}if(h){h.call(s,s)}};N.overrideMap[c]=true;if("compatibility" in e&&Ext.isString(l=e.compatibility)){l=Ext.checkVersion(l)}if(l){n.onCreated(i,n,m)}n.triggerCreated(c,2);return n},instantiateByAlias:function(){var e=arguments[0],c=y.call(arguments),d=this.getNameByAlias(e);c[0]=d;return Ext.create.apply(Ext,c)},instantiate:function(){return Ext.create.apply(Ext,arguments)},dynInstantiate:function(d,c){c=L(c,true);c.unshift(d);return Ext.create.apply(Ext,c)},getInstantiator:function(d){var e=this.instantiators,h,g,c;h=e[d];if(!h){g=d;c=[];for(g=0;g<d;g++){c.push("a["+g+"]")}h=e[d]=new Function("c","a","return new c("+c.join(",")+")")}return h},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(h,g,e,d,c){if(!d){d="last"}if(!e){e=[h]}this.postprocessors[h]={name:h,properties:e||false,fn:g};this.setDefaultPostprocessorPosition(h,d,c);return this},setDefaultPostprocessors:function(c){this.defaultPostprocessors=L(c);return this},setDefaultPostprocessorPosition:function(h,g,d){var e=this.defaultPostprocessors,c;if(typeof g==="string"){if(g==="first"){e.unshift(h);return this}else{if(g==="last"){e.push(h);return this}}g=(g==="after")?1:-1}c=Ext.Array.indexOf(e,d);if(c!==-1){Ext.Array.splice(e,Math.max(0,c+g),0,h)}return this}});N.registerPostprocessor("alias",function(g,i,e){var d=Ext.Array.from(e.alias),c,h;for(c=0,h=d.length;c<h;c++){F=d[c];this.addAlias(i,F)}},["xtype","alias"]);N.registerPostprocessor("singleton",function(g,d,c,e){if(c.singleton){e.call(this,g,new d(),c)}else{return true}return false});N.registerPostprocessor("alternateClassName",function(j,d,h){var c=h.alternateClassName,g,i,e;if(!(c instanceof Array)){c=[c]}for(g=0,i=c.length;g<i;g++){e=c[g];this.set(e,d)}});N.registerPostprocessor("debugHooks",function(g,d,e){var c=d.isInstance?d.self:d;delete c.prototype.debugHooks});N.registerPostprocessor("deprecated",function(g,d,e){var c=d.isInstance?d.self:d;c.addDeprecations(e.deprecated);delete c.prototype.deprecated});Ext.apply(Ext,{create:function(){var e=arguments[0],d=typeof e,g=y.call(arguments,1),c;if(d==="function"){c=e}else{if(d!=="string"&&g.length===0){g=[e];if(!(e=e.xclass)){e=g[0].xtype;if(e){e="widget."+e}}}e=N.resolveName(e);c=N.get(e)}if(!c){Ext.syncRequire(e);c=N.get(e)}return N.getInstantiator(g.length)(c,g)},widget:function(g,i){var e=g,d,h,c;if(typeof e!=="string"){i=g;e=i.xtype;h=i.xclass}else{i=i||{}}if(i.isComponent){return i}if(!h){d="widget."+e;h=N.getNameByAlias(d)}if(h){c=N.get(h)}if(!c){return Ext.create(h||d,i)}return new c(i)},createByAlias:F(N,"instantiateByAlias"),define:function(e,d,c){if(d.override){N.classState[e]=20;return N.createOverride.apply(N,arguments)}N.classState[e]=10;return N.create.apply(N,arguments)},undefine:function(e){var d=N.classes;delete d[e];delete N.existCache[e];delete N.classState[e];N.removeName(e);var c=N.getNamespaceEntry(e),h=c.parent?N.lookupName(c.parent,false):Ext.global;if(h){try{delete h[c.name]}catch(g){h[c.name]=undefined}}},getClassName:F(N,"getName"),getDisplayName:function(c){if(c){if(c.displayName){return c.displayName}if(c.$name&&c.$class){return Ext.getClassName(c.$class)+"#"+c.$name}if(c.$className){return c.$className}}return"Anonymous"},getClass:F(N,"getClass"),namespace:function(){var c=C,d;for(d=arguments.length;d-->0;){c=N.lookupName(arguments[d],true)}return c}});Ext.addRootNamespaces=N.addRootNamespaces;Ext.createWidget=Ext.widget;Ext.ns=Ext.namespace;A.registerPreprocessor("className",function(c,d){if("$className" in d){c.$className=d.$className}},true,"first");A.registerPreprocessor("alias",function(l,d){var n=l.prototype,h=L(d.xtype),k=L(d.alias),j="widget.",m=j.length,c=Array.prototype.slice.call(n.xtypesChain||[]),g=Ext.merge({},n.xtypesMap||{}),e,p,q,i;for(e=0,p=k.length;e<p;e++){q=k[e];if(q.substring(0,m)===j){i=q.substring(m);Ext.Array.include(h,i)}}l.xtype=d.xtype=h[0];d.xtypes=h;for(e=0,p=h.length;e<p;e++){i=h[e];if(!g[i]){g[i]=true;c.push(i)}}d.xtypesChain=c;d.xtypesMap=g;Ext.Function.interceptAfter(d,"onClassCreated",function(){var s=n.mixins,t,r;for(t in s){if(s.hasOwnProperty(t)){r=s[t];h=r.xtypes;if(h){for(e=0,p=h.length;e<p;e++){i=h[e];if(!g[i]){g[i]=true;c.push(i)}}}}}});for(e=0,p=h.length;e<p;e++){i=h[e];Ext.Array.include(k,j+i)}d.alias=k},["xtype","alias"]);if(Ext.manifest){var K=Ext.manifest,z=K.classes,D=K.paths,B={},H={},M,G,x,E,P;if(D){if(K.bootRelative){P=Ext.Boot.baseUrl;for(E in D){if(D.hasOwnProperty(E)){D[E]=P+D[E]}}}N.setPath(D)}if(z){for(M in z){H[M]=[];B[M]=[];G=z[M];if(G.alias){B[M]=G.alias}if(G.alternates){H[M]=G.alternates}}}N.addAlias(B);N.addAlternate(H)}return N}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global));(Ext.env||(Ext.env={})).Browser=function(B,H){var A=this,T=Ext.Boot.browserPrefixes,R=Ext.Boot.browserNames,S=A.enginePrefixes,L=A.engineNames,E=B.match(new RegExp("((?:"+Ext.Object.getValues(T).join(")|(?:")+"))([\\w\\._]+)")),N=B.match(new RegExp("((?:"+Ext.Object.getValues(S).join(")|(?:")+"))([\\w\\._]+)")),F=R.other,C=L.other,J="",O="",Q="",M=false,G,I,K,i,D;A.userAgent=B;if(/Edge\//.test(B)){E=B.match(/(Edge\/)([\w.]+)/)}if(E){F=R[Ext.Object.getKey(T,E[1])];if(F==="Safari"&&/^Opera/.test(B)){F="Opera"}J=new Ext.Version(E[2])}if(N){C=L[Ext.Object.getKey(S,N[1])];O=new Ext.Version(N[2])}if(C==="Trident"&&F!=="IE"){F="IE";var P=B.match(/.*rv:(\d+.\d+)/);if(P&&P.length){P=P[1];J=new Ext.Version(P)}}if(F&&J){Ext.setVersion(F,J)}if(B.match(/FB/)&&F==="Other"){F=R.safari;C=L.webkit}if(B.match(/Android.*Chrome/g)){F="ChromeMobile"}if(B.match(/OPR/)){F="Opera";E=B.match(/OPR\/(\d+.\d+)/);J=new Ext.Version(E[1])}Ext.apply(this,{engineName:C,engineVersion:O,name:F,version:J});this.setFlag(F,true,H);if(J){Q=J.getMajor()||"";if(A.is.IE){Q=parseInt(Q,10);K=document.documentMode;if(K===7||(Q===7&&K!==8&&K!==9&&K!==10)){Q=7}else{if(K===8||(Q===8&&K!==8&&K!==9&&K!==10)){Q=8}else{if(K===9||(Q===9&&K!==7&&K!==8&&K!==10)){Q=9}else{if(K===10||(Q===10&&K!==7&&K!==8&&K!==9)){Q=10}else{if(K===11||(Q===11&&K!==7&&K!==8&&K!==9&&K!==10)){Q=11}}}}}D=Math.max(Q,Ext.Boot.maxIEVersion);for(G=7;G<=D;++G){I="isIE"+G;if(Q<=G){Ext[I+"m"]=true}if(Q===G){Ext[I]=true}if(Q>=G){Ext[I+"p"]=true}}}if(A.is.Opera&&parseInt(Q,10)<=12){Ext.isOpera12m=true}Ext.chromeVersion=Ext.isChrome?Q:0;Ext.firefoxVersion=Ext.isFirefox?Q:0;Ext.ieVersion=Ext.isIE?Q:0;Ext.operaVersion=Ext.isOpera?Q:0;Ext.safariVersion=Ext.isSafari?Q:0;Ext.webKitVersion=Ext.isWebKit?Q:0;this.setFlag(F+Q,true,H);this.setFlag(F+J.getShortVersion())}for(G in R){if(R.hasOwnProperty(G)){i=R[G];this.setFlag(i,F===i)}}this.setFlag(i);if(O){this.setFlag(C+(O.getMajor()||""));this.setFlag(C+O.getShortVersion())}for(G in L){if(L.hasOwnProperty(G)){i=L[G];this.setFlag(i,C===i,H)}}this.setFlag("Standalone",!!navigator.standalone);this.setFlag("Ripple",!!document.getElementById("tinyhippos-injected")&&!Ext.isEmpty(window.top.ripple));this.setFlag("WebWorks",!!window.blackberry);if(window.PhoneGap!==undefined||window.Cordova!==undefined||window.cordova!==undefined){M=true;this.setFlag("PhoneGap");this.setFlag("Cordova")}if(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)(?!.*FBAN)/i.test(B)){M=true}this.setFlag("WebView",M);this.isStrict=Ext.isStrict=document.compatMode==="CSS1Compat";this.isSecure=Ext.isSecure;this.identity=F+Q+(this.isStrict?"Strict":"Quirks")};Ext.env.Browser.prototype={constructor:Ext.env.Browser,engineNames:{webkit:"WebKit",gecko:"Gecko",presto:"Presto",trident:"Trident",other:"Other"},enginePrefixes:{webkit:"AppleWebKit/",gecko:"Gecko/",presto:"Presto/",trident:"Trident/"},styleDashPrefixes:{WebKit:"-webkit-",Gecko:"-moz-",Trident:"-ms-",Presto:"-o-",Other:""},stylePrefixes:{WebKit:"Webkit",Gecko:"Moz",Trident:"ms",Presto:"O",Other:""},propertyPrefixes:{WebKit:"webkit",Gecko:"moz",Trident:"ms",Presto:"o",Other:""},is:function(d){return !!this.is[d]},name:null,version:null,engineName:null,engineVersion:null,setFlag:function(i,g,h){if(g===undefined){g=true}this.is[i]=g;this.is[i.toLowerCase()]=g;if(h){Ext["is"+i]=g}return this},getStyleDashPrefix:function(){return this.styleDashPrefixes[this.engineName]},getStylePrefix:function(){return this.stylePrefixes[this.engineName]},getVendorProperyName:function(g){var e=this.propertyPrefixes[this.engineName];if(e.length>0){return e+Ext.String.capitalize(g)}return g},getPreferredTranslationMethod:function(d){if(typeof d==="object"&&"translationMethod" in d&&d.translationMethod!=="auto"){return d.translationMethod}else{return"csstransform"}}};(function(d){Ext.browser=new Ext.env.Browser(d,true);Ext.userAgent=d.toLowerCase();Ext.SSL_SECURE_URL=Ext.isSecure&&Ext.isIE?"javascript:''":"about:blank"}(Ext.global.navigator.userAgent));Ext.env.OS=function(F,D,u){var v=this,w=Ext.Boot.osNames,B=Ext.Boot.osPrefixes,E,x="",z=v.is,C,y,A,i,t;u=u||Ext.browser;for(C in B){if(B.hasOwnProperty(C)){y=B[C];A=F.match(new RegExp("(?:"+y+")([^\\s;]+)"));if(A){E=w[C];t=A[1];if(t&&t==="HTC_"){x=new Ext.Version("2.3")}else{if(t&&t==="Silk/"){x=new Ext.Version("2.3")}else{x=new Ext.Version(A[A.length-1])}}break}}}if(!E){E=w[(F.toLowerCase().match(/mac|win|linux/)||["other"])[0]];x=new Ext.Version("")}this.name=E;this.version=x;if(D){this.setFlag(D.replace(/ simulator$/i,""))}this.setFlag(E);if(x){this.setFlag(E+(x.getMajor()||""));this.setFlag(E+x.getShortVersion())}for(C in w){if(w.hasOwnProperty(C)){i=w[C];if(!z.hasOwnProperty(E)){this.setFlag(i,(E===i))}}}if(this.name==="iOS"&&window.screen.height===568){this.setFlag("iPhone5")}if(u.is.Safari||u.is.Silk){if(this.is.Android2||this.is.Android3||u.version.shortVersion===501){u.setFlag("AndroidStock")}if(this.is.Android4){u.setFlag("AndroidStock");u.setFlag("AndroidStock4")}}};Ext.env.OS.prototype={constructor:Ext.env.OS,is:function(d){return !!this[d]},name:null,version:null,setFlag:function(g,e){if(e===undefined){e=true}if(this.flags){this.flags[g]=e}this.is[g]=e;this.is[g.toLowerCase()]=e;return this}};(function(){var v=Ext.global.navigator,p=v.userAgent,q=Ext.env.OS,r=(Ext.is||(Ext.is={})),n,s,u;q.prototype.flags=r;Ext.os=n=new q(p,v.platform);s=n.name;Ext["is"+s]=true;Ext.isMac=r.Mac=r.MacOS;var m=window.location.search.match(/deviceType=(Tablet|Phone)/),t=window.deviceType;if(m&&m[1]){u=m[1]}else{if(t==="iPhone"){u="Phone"}else{if(t==="iPad"){u="Tablet"}else{if(!n.is.Android&&!n.is.iOS&&!n.is.WindowsPhone&&/Windows|Linux|MacOS/.test(s)){u="Desktop";Ext.browser.is.WebView=!!Ext.browser.is.Ripple}else{if(n.is.iPad||n.is.RIMTablet||n.is.Android3||Ext.browser.is.Silk||(n.is.Android&&p.search(/mobile/i)===-1)){u="Tablet"}else{u="Phone"}}}}}n.setFlag(u,true);n.deviceType=u;delete q.prototype.flags}());Ext.feature={has:function(d){return !!this.has[d]},testElements:{},getTestElement:function(g,e){if(g===undefined){g="div"}else{if(typeof g!=="string"){return g}}if(e){return document.createElement(g)}if(!this.testElements[g]){this.testElements[g]=document.createElement(g)}return this.testElements[g]},isStyleSupported:function(i,j){var h=this.getTestElement(j).style,k=Ext.String.capitalize(i);if(typeof h[i]!=="undefined"||typeof h[Ext.browser.getStylePrefix(i)+k]!=="undefined"){return true}return false},isStyleSupportedWithoutPrefix:function(h,i){var g=this.getTestElement(i).style;if(typeof g[h]!=="undefined"){return true}return false},isEventSupported:function(k,m){if(m===undefined){m=window}var i=this.getTestElement(m),l="on"+k.toLowerCase(),j=(l in i);if(!j){if(i.setAttribute&&i.removeAttribute){i.setAttribute(l,"");j=typeof i[l]==="function";if(typeof i[l]!=="undefined"){i[l]=undefined}i.removeAttribute(l)}}return j},getStyle:function(i,j){var k=i.ownerDocument.defaultView,h=(k?k.getComputedStyle(i,null):i.currentStyle);return(h||i.style)[j]},getSupportedPropertyName:function(h,i){var g=Ext.browser.getVendorProperyName(i);if(g in h){return g}else{if(i in h){return i}}return null},detect:function(w){var v=this,t=document,z=v.toRun||v.tests,A=z.length,D=t.createElement("div"),C=[],F=Ext.supports,n=v.has,E,x,y,B,u;D.innerHTML='<div style="height:30px;width:50px;"><div style="height:20px;width:20px;"></div></div><div style="width: 200px; height: 200px; position: relative; padding: 5px;"><div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div></div><div style="position: absolute; left: 10%; top: 10%;"></div><div style="float:left; background-color:transparent;"></div>';if(w){t.body.appendChild(D)}B=v.preDetected[Ext.browser.identity]||[];while(A--){y=z[A];u=B[A];E=y.name;x=y.names;if(u===undefined){if(!w&&y.ready){C.push(y);continue}u=y.fn.call(v,t,D)}if(E){F[E]=n[E]=u}else{if(x){while(x.length){E=x.pop();F[E]=n[E]=u}}}}if(w){t.body.removeChild(D)}v.toRun=C},report:function(){var h=[],i=this.tests.length,g;for(g=0;g<i;++g){h.push(this.has[this.tests[g].name]?1:0)}Ext.log(Ext.browser.identity+": ["+h.join(",")+"]")},preDetected:{},tests:[{name:"CloneNodeCopiesExpando",fn:function(){var d=document.createElement("div");d.expandoProp={};return d.cloneNode().expandoProp===d.expandoProp}},{name:"CSSPointerEvents",fn:function(d){return"pointerEvents" in d.documentElement.style}},{name:"CSS3BoxShadow",fn:function(d){return"boxShadow" in d.documentElement.style||"WebkitBoxShadow" in d.documentElement.style||"MozBoxShadow" in d.documentElement.style}},{name:"CSS3NegationSelector",fn:function(e){try{e.querySelectorAll("foo:not(bar)")}catch(g){return false}return true}},{name:"ClassList",fn:function(d){return !!d.documentElement.classList}},{name:"Canvas",fn:function(){var d=this.getTestElement("canvas");return !!(d&&d.getContext&&d.getContext("2d"))}},{name:"Svg",fn:function(d){return !!(d.createElementNS&&!!d.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)}},{name:"Vml",fn:function(){var e=this.getTestElement(),g=false;e.innerHTML="<!--[if vml]><br><![endif]-->";g=(e.childNodes.length===1);e.innerHTML="";return g}},{name:"touchScroll",fn:function(){var d=0;if(Ext.os.is.Desktop&&(navigator.maxTouchPoints||navigator.msMaxTouchPoints)){d=1}else{if(Ext.supports.Touch){d=2}}return d}},{name:"Touch",fn:function(){var d=navigator.msMaxTouchPoints||navigator.maxTouchPoints;if(Ext.browser.is.Chrome&&Ext.browser.version.isLessThanOrEqual(39)){return(Ext.supports.TouchEvents&&d!==1)||d>1}else{return Ext.supports.TouchEvents||d>0}}},{name:"TouchEvents",fn:function(){return this.isEventSupported("touchend")}},{name:"PointerEvents",fn:function(){return navigator.pointerEnabled}},{name:"MSPointerEvents",fn:function(){return navigator.msPointerEnabled}},{name:"Orientation",fn:function(){return("orientation" in window)&&this.isEventSupported("orientationchange")}},{name:"OrientationChange",fn:function(){return this.isEventSupported("orientationchange")}},{name:"DeviceMotion",fn:function(){return this.isEventSupported("devicemotion")}},{names:["Geolocation","GeoLocation"],fn:function(){return"geolocation" in window.navigator}},{name:"SqlDatabase",fn:function(){return"openDatabase" in window}},{name:"WebSockets",fn:function(){return"WebSocket" in window}},{name:"Range",fn:function(){return !!document.createRange}},{name:"CreateContextualFragment",fn:function(){var d=!!document.createRange?document.createRange():false;return d&&!!d.createContextualFragment}},{name:"History",fn:function(){return("history" in window&&"pushState" in window.history)}},{name:"Css3dTransforms",fn:function(){return this.has("CssTransforms")&&this.isStyleSupported("perspective")}},{name:"CssTransforms",fn:function(){return this.isStyleSupported("transform")}},{name:"CssTransformNoPrefix",fn:function(){return this.isStyleSupportedWithoutPrefix("transform")}},{name:"CssAnimations",fn:function(){return this.isStyleSupported("animationName")}},{names:["CssTransitions","Transitions"],fn:function(){return this.isStyleSupported("transitionProperty")}},{names:["Audio","AudioTag"],fn:function(){return !!this.getTestElement("audio").canPlayType}},{name:"Video",fn:function(){return !!this.getTestElement("video").canPlayType}},{name:"LocalStorage",fn:function(){try{if("localStorage" in window&&window.localStorage!==null){localStorage.setItem("sencha-localstorage-test","test success");localStorage.removeItem("sencha-localstorage-test");return true}}catch(d){}return false}},{name:"XHR2",fn:function(){return window.ProgressEvent&&window.FormData&&window.XMLHttpRequest&&("withCredentials" in new XMLHttpRequest())}},{name:"XHRUploadProgress",fn:function(){if(window.XMLHttpRequest&&!Ext.browser.is.AndroidStock){var d=new XMLHttpRequest();return d&&("upload" in d)&&("onprogress" in d.upload)}return false}},{name:"NumericInputPlaceHolder",fn:function(){return !(Ext.browser.is.AndroidStock4&&Ext.os.version.getMinor()<2)}},{name:"matchesSelector",fn:function(){var l=document.documentElement,i="matches",j="webkitMatchesSelector",m="msMatchesSelector",k="mozMatchesSelector";return l[i]?i:l[j]?j:l[m]?m:l[k]?k:null}},{name:"RightMargin",ready:true,fn:function(h,g){var i=h.defaultView;return !(i&&i.getComputedStyle(g.firstChild.firstChild,null).marginRight!=="0px")}},{name:"DisplayChangeInputSelectionBug",fn:function(){var d=Ext.webKitVersion;return 0<d&&d<533}},{name:"DisplayChangeTextAreaSelectionBug",fn:function(){var d=Ext.webKitVersion;return 0<d&&d<534.24}},{name:"TransparentColor",ready:true,fn:function(h,g,i){i=h.defaultView;return !(i&&i.getComputedStyle(g.lastChild,null).backgroundColor!=="transparent")}},{name:"ComputedStyle",ready:true,fn:function(h,g,i){i=h.defaultView;return i&&i.getComputedStyle}},{name:"Float",fn:function(d){return"cssFloat" in d.documentElement.style}},{name:"CSS3BorderRadius",ready:true,fn:function(h){var j=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],i=false,k;for(k=0;k<j.length;k++){if(h.documentElement.style[j[k]]!==undefined){i=true}}return i&&!Ext.isIE9}},{name:"CSS3LinearGradient",fn:function(q,v){var n="background-image:",p="-webkit-gradient(linear, left top, right bottom, from(black), to(white))",r="linear-gradient(left top, black, white)",s="-moz-"+r,u="-ms-"+r,t="-o-"+r,m=[n+p,n+r,n+s,n+u,n+t];v.style.cssText=m.join(";");return((""+v.style.backgroundImage).indexOf("gradient")!==-1)&&!Ext.isIE9}},{name:"MouseEnterLeave",fn:function(d){return("onmouseenter" in d.documentElement&&"onmouseleave" in d.documentElement)}},{name:"MouseWheel",fn:function(d){return("onmousewheel" in d.documentElement)}},{name:"Opacity",fn:function(g,e){if(Ext.isIE8){return false}e.firstChild.style.cssText="opacity:0.73";return e.firstChild.style.opacity=="0.73"}},{name:"Placeholder",fn:function(d){return"placeholder" in d.createElement("input")}},{name:"Direct2DBug",fn:function(d){return Ext.isString(d.documentElement.style.msTransformOrigin)&&Ext.isIE9m}},{name:"BoundingClientRect",fn:function(d){return"getBoundingClientRect" in d.documentElement}},{name:"RotatedBoundingClientRect",ready:true,fn:function(i){var m=i.body,l=false,j=i.createElement("div"),k=j.style;if(j.getBoundingClientRect){k.position="absolute";k.top="0";k.WebkitTransform=k.MozTransform=k.msTransform=k.OTransform=k.transform="rotate(90deg)";k.width="100px";k.height="30px";m.appendChild(j);l=j.getBoundingClientRect().height!==100;m.removeChild(j)}return l}},{name:"ChildContentClearedWhenSettingInnerHTML",ready:true,fn:function(){var g=this.getTestElement(),e;g.innerHTML="<div>a</div>";e=g.firstChild;g.innerHTML="<div>b</div>";return e.innerHTML!=="a"}},{name:"IncludePaddingInWidthCalculation",ready:true,fn:function(g,e){return e.childNodes[1].firstChild.offsetWidth===210}},{name:"IncludePaddingInHeightCalculation",ready:true,fn:function(g,e){return e.childNodes[1].firstChild.offsetHeight===210}},{name:"TextAreaMaxLength",fn:function(d){return("maxlength" in d.createElement("textarea"))}},{name:"GetPositionPercentage",ready:true,fn:function(g,e){return Ext.feature.getStyle(e.childNodes[2],"left")==="10%"}},{name:"PercentageHeightOverflowBug",ready:true,fn:function(h){var k=false,i,j;if(Ext.getScrollbarSize().height){j=this.getTestElement();i=j.style;i.height="50px";i.width="50px";i.overflow="auto";i.position="absolute";j.innerHTML=['<div style="display:table;height:100%;">','<div style="width:51px;"></div>',"</div>"].join("");h.body.appendChild(j);if(j.firstChild.offsetHeight===50){k=true}h.body.removeChild(j)}return k}},{name:"xOriginBug",ready:true,fn:function(j,i){i.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"><div id="b2" style="position:relative;width:100%;height:20px;"></div><div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div></div>';var k=document.getElementById("b1").getBoundingClientRect(),l=document.getElementById("b2").getBoundingClientRect(),m=document.getElementById("b3").getBoundingClientRect();return(l.left!==k.left&&m.right!==k.right)}},{name:"ScrollWidthInlinePaddingBug",ready:true,fn:function(h){var k=false,i,j;j=h.createElement("div");i=j.style;i.height="50px";i.width="50px";i.padding="10px";i.overflow="hidden";i.position="absolute";j.innerHTML='<span style="display:inline-block;zoom:1;height:60px;width:60px;"></span>';h.body.appendChild(j);if(j.scrollWidth===70){k=true}h.body.removeChild(j);return k}},{name:"rtlVertScrollbarOnRight",ready:true,fn:function(i,h){h.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:scroll"><div style="width:20px;height:200px;"></div></div>';var j=h.firstChild,k=j.firstChild;return(k.offsetLeft+k.offsetWidth!==j.offsetLeft+j.offsetWidth)}},{name:"rtlVertScrollbarOverflowBug",ready:true,fn:function(h,g){g.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:auto"><div style="width:95px;height:200px;"></div></div>';var i=g.firstChild;return i.clientHeight===i.offsetHeight}},{identity:"defineProperty",fn:function(){if(Ext.isIE8m){Ext.Object.defineProperty=Ext.emptyFn;return false}return true}},{identify:"nativeXhr",fn:function(){if(typeof XMLHttpRequest!=="undefined"){return true}XMLHttpRequest=function(){try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(d){return null}};return false}},{name:"SpecialKeyDownRepeat",fn:function(){return Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!((Ext.isGecko&&!Ext.isWindows)||(Ext.isOpera&&Ext.operaVersion<12))}},{name:"EmulatedMouseOver",fn:function(){return Ext.os.is.iOS}},{name:"Hashchange",fn:function(){var d=document.documentMode;return"onhashchange" in window&&(d===undefined||d>7)}},{name:"FixedTableWidthBug",ready:true,fn:function(){if(Ext.isIE8){return false}var h=document.createElement("div"),i=document.createElement("div"),g;h.setAttribute("style","display:table;table-layout:fixed;");i.setAttribute("style","display:table-cell;min-width:50px;");h.appendChild(i);document.body.appendChild(h);h.offsetWidth;h.style.width="25px";g=h.offsetWidth;document.body.removeChild(h);return g===50}},{name:"FocusinFocusoutEvents",fn:function(){return !Ext.isGecko}},{name:"AsyncFocusEvents",fn:function(){return Ext.asyncFocus=!!Ext.isIE}},{name:"accessibility",ready:true,fn:function(m){var t=m.body,l,q,p,s,r;function n(e){var d=[],i=0,g,c;if(e.indexOf("rgb(")!==-1){d=e.replace("rgb(","").replace(")","").split(", ")}else{if(e.indexOf("#")!==-1){g=e.length===7?/^#(\S\S)(\S\S)(\S\S)$/:/^#(\S)(\S)(\S)$/;c=e.match(g);if(c){d=["0x"+c[1],"0x"+c[2],"0x"+c[3]]}}}for(var h=0;h<d.length;h++){i+=parseInt(d[h])}return i}l=m.createElement("div");q=m.createElement("img");p=l.style;Ext.apply(p,{width:"2px",position:"absolute",clip:"rect(1px,1px,1px,1px)",borderWidth:"1px",borderStyle:"solid",borderTopTolor:"#f00",borderRightColor:"#ff0",backgroundColor:"#fff",backgroundImage:"url("+Ext.BLANK_IMAGE_URL+")"});q.alt="";q.src=Ext.BLANK_IMAGE_URL;l.appendChild(q);t.appendChild(l);p=l.currentStyle||l.style;r=p.backgroundImage;s={Images:q.offsetWidth===1&&q.readyState!=="uninitialized",BackgroundImages:!(r!==null&&(r==="none"||r==="url(invalid-url:)")),BorderColors:p.borderTopColor!==p.borderRightColor,LightOnDark:n(p.color)-n(p.backgroundColor)>0};Ext.supports.HighContrastMode=!s.BackgroundImages;t.removeChild(l);l=q=null;return s}},0]};Ext.feature.tests.pop();Ext.supports={};Ext.feature.detect();Ext.env.Ready={blocks:(location.search||"").indexOf("ext-pauseReadyFire")>0?1:0,bound:0,delay:1,firing:false,generation:0,listeners:[],nextId:0,sortGeneration:0,state:0,timer:null,bind:function(){var g=Ext.env.Ready,e=document;if(!g.bound){if(e.readyState==="complete"){g.onReadyEvent({type:e.readyState||"body"})}else{g.bound=1;if(Ext.browser.is.PhoneGap&&!Ext.os.is.Desktop){g.bound=2;e.addEventListener("deviceready",g.onReadyEvent,false)}e.addEventListener("DOMContentLoaded",g.onReadyEvent,false);window.addEventListener("load",g.onReadyEvent,false)}}},block:function(){++this.blocks;Ext.isReady=false},fireReady:function(){var d=Ext.env.Ready;if(!d.state){Ext._readyTime=Ext.ticks();Ext.isDomReady=true;d.state=1;Ext.feature.detect(true);if(!d.delay){d.handleReady()}else{if(navigator.standalone){d.timer=Ext.defer(function(){d.timer=null;d.handleReadySoon()},1)}else{d.handleReadySoon()}}}},handleReady:function(){var d=this;if(d.state===1){d.state=2;Ext._beforeReadyTime=Ext.ticks();d.invokeAll();Ext._afterReadyTime=Ext.ticks()}},handleReadySoon:function(g){var e=this;if(!e.timer){e.timer=Ext.defer(function(){e.timer=null;e.handleReady()},g||e.delay)}},invoke:function(e){var g=e.delay;if(g){Ext.defer(e.fn,g,e.scope)}else{if(Ext.elevateFunction){Ext.elevateFunction(e.fn,e.scope)}else{e.fn.call(e.scope)}}},invokeAll:function(){if(Ext.elevateFunction){Ext.elevateFunction(this.doInvokeAll,this)}else{this.doInvokeAll()}},doInvokeAll:function(){var h=this,i=h.listeners,g;if(!h.blocks){Ext.isReady=true}h.firing=true;while(i.length){if(h.sortGeneration!==h.generation){h.sortGeneration=h.generation;i.sort(h.sortFn)}g=i.pop();if(h.blocks&&!g.dom){i.push(g);break}h.invoke(g)}h.firing=false},makeListener:function(h,i,j){var k={fn:h,id:++this.nextId,scope:i,dom:false,priority:0};if(j){Ext.apply(k,j)}k.phase=k.dom?0:1;return k},on:function(k,l,m){var j=Ext.env.Ready,i=j.makeListener(k,l,m);if(j.state===2&&!j.firing&&(i.dom||!j.blocks)){j.invoke(i)}else{j.listeners.push(i);++j.generation;if(!j.bound){j.bind()}}},onReadyEvent:function(e){var g=Ext.env.Ready;if(Ext.elevateFunction){Ext.elevateFunction(g.doReadyEvent,g,arguments)}else{g.doReadyEvent(e)}},doReadyEvent:function(e){var g=this;if(g.bound>0){g.unbind();g.bound=-1}if(!g.state){g.fireReady()}},sortFn:function(e,g){return -((e.phase-g.phase)||(g.priority-e.priority)||(e.id-g.id))},unblock:function(){var d=this;if(d.blocks){if(!--d.blocks){if(d.state===2&&!d.firing){d.invokeAll()}}}},unbind:function(){var g=this,e=document;if(g.bound>1){e.removeEventListener("deviceready",g.onReadyEvent,false)}e.removeEventListener("DOMContentLoaded",g.onReadyEvent,false);window.removeEventListener("load",g.onReadyEvent,false)}};(function(){var d=Ext.env.Ready;if(Ext.isIE9m){Ext.apply(d,{scrollTimer:null,readyStatesRe:/complete/i,pollScroll:function(){var e=true;try{document.documentElement.doScroll("left")}catch(c){e=false}if(e&&document.body){d.onReadyEvent({type:"doScroll"})}else{d.scrollTimer=Ext.defer(d.pollScroll,20)}return e},bind:function(){if(d.bound){return}var c=document,i;try{i=window.frameElement===undefined}catch(e){}if(!i||!c.documentElement.doScroll){d.pollScroll=Ext.emptyFn}else{if(d.pollScroll()){return}}if(c.readyState==="complete"){d.onReadyEvent({type:"already "+(c.readyState||"body")})}else{c.attachEvent("onreadystatechange",d.onReadyStateChange);window.attachEvent("onload",d.onReadyEvent);d.bound=1}},unbind:function(){document.detachEvent("onreadystatechange",d.onReadyStateChange);window.detachEvent("onload",d.onReadyEvent);if(Ext.isNumber(d.scrollTimer)){clearTimeout(d.scrollTimer);d.scrollTimer=null}},onReadyStateChange:function(){var c=document.readyState;if(d.readyStatesRe.test(c)){d.onReadyEvent({type:c})}}})}Ext.onDocumentReady=function(c,i,k){var j={dom:true};if(k){Ext.apply(j,k)}d.on(c,i,j)};Ext.onReady=function(c,h,i){d.on(c,h,i)};Ext.onInternalReady=function(c,h,i){d.on(c,h,Ext.apply({priority:1000},i))};d.bind()}());Ext.Loader=(new function(){var E=this,G=Ext.ClassManager,A=Ext.Boot,D=Ext.Class,y=Ext.env.Ready,z=Ext.Function.alias,B=["extend","mixins","requires"],u={},x=[],F=[],C=[],t={},v={},w={enabled:true,scriptChainDelay:false,disableCaching:true,disableCachingParam:"_dc",paths:G.paths,preserveScripts:true,scriptCharset:undefined},H={disableCaching:true,disableCachingParam:true,preserveScripts:true,scriptChainDelay:"loadDelay"};Ext.apply(E,{isInHistory:u,isLoading:false,history:x,config:w,readyListeners:F,optionalRequires:C,requiresMap:t,hasFileLoadError:false,scriptsLoading:0,syncModeEnabled:false,missingQueue:v,init:function(){var i=document.getElementsByTagName("script"),n=i[i.length-1].src,c=n.substring(0,n.lastIndexOf("/")+1),e=Ext._classPathMetadata,d=Ext.Microloader,l=Ext.manifest,k,h,g,j,m;if(!G.getPath("Ext")){G.setPath("Ext",c+"src")}if(e){Ext._classPathMetadata=null;E.addClassPathMappings(e)}if(l){k=l.loadOrder;h=Ext.Boot.baseUrl;if(k&&l.bootRelative){for(g=k.length,j=0;j<g;j++){m=k[j];m.path=h+m.path}}}if(d){y.block();d.onMicroloaderReady(function(){y.unblock()})}},setConfig:Ext.Function.flexSetter(function(e,d){if(e==="paths"){E.setPath(d)}else{w[e]=d;var c=H[e];if(c){A.setConfig((c===true)?e:c,d)}}return E}),getConfig:function(c){return c?w[c]:w},setPath:function(){G.setPath.apply(G,arguments);return E},addClassPathMappings:function(c){G.setPath(c);return E},addBaseUrlClassPathMappings:function(d){for(var c in d){d[c]=A.baseUrl+d[c]}Ext.Loader.addClassPathMappings(d)},getPath:function(c){return G.getPath(c)},require:function(e,g,h,c){if(c){return E.exclude(c).require(e,g,h)}var d=G.getNamesByExpression(e);return E.load(d,g,h)},syncRequire:function(){var c=E.syncModeEnabled;E.syncModeEnabled=true;var d=E.require.apply(E,arguments);E.syncModeEnabled=c;return d},exclude:function(c){var d=G.select({require:function(e,g,h){return E.load(e,g,h)},syncRequire:function(i,e,g){var j=E.syncModeEnabled;E.syncModeEnabled=true;var h=E.load(i,e,g);E.syncModeEnabled=j;return h}});d.exclude(c);return d},load:function(m,d,c){if(d){if(d.length){d=E.makeLoadCallback(m,d)}d=d.bind(c||Ext.global)}var j=[],k=m.length,g,h,i,e=[],l=G.classState;for(h=0;h<k;++h){g=G.resolveName(m[h]);if(!G.isCreated(g)){j.push(g);v[g]=E.getPath(g);if(!l[g]){e.push(v[g])}}}i=j.length;if(i){E.missingCount+=i;G.onCreated(function(){if(d){Ext.callback(d,c,arguments)}E.checkReady()},E,j);if(!w.enabled){Ext.raise("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+((j.length>1)?"es":"")+": "+j.join(", "))}if(e.length){E.loadScripts({url:e,_classNames:j})}else{E.checkReady()}}else{if(d){d.call(c)}E.checkReady()}if(E.syncModeEnabled){if(k===1){return G.get(m[0])}}return E},makeLoadCallback:function(d,c){return function(){var e=[],g=d.length;while(g-->0){e[g]=G.get(d[g])}return c.apply(this,e)}},onLoadFailure:function(){var d=this,c=d.onError;E.hasFileLoadError=true;--E.scriptsLoading;if(c){c.call(d.userScope,d)}E.checkReady()},onLoadSuccess:function(){var d=this,c=d.onLoad;--E.scriptsLoading;if(c){c.call(d.userScope,d)}E.checkReady()},onReady:function(e,g,c,h){if(c){y.on(e,g,h)}else{var d=y.makeListener(e,g,h);if(E.isLoading){F.push(d)}else{y.invoke(d)}}},addUsedClasses:function(d){var g,e,c;if(d){d=(typeof d==="string")?[d]:d;for(e=0,c=d.length;e<c;e++){g=d[e];if(typeof g==="string"&&!Ext.Array.contains(C,g)){C.push(g)}}}return E},triggerReady:function(){var d,c=C;if(E.isLoading&&c.length){C=[];E.require(c)}else{E.isLoading=false;F.sort(y.sortFn);while(F.length&&!E.isLoading){d=F.pop();y.invoke(d)}y.unblock()}},historyPush:function(c){if(c&&!u[c]&&!G.overrideMap[c]){u[c]=true;x.push(c)}return E},loadScripts:function(c){var d=Ext.manifest,h=d&&d.loadOrder,g=d&&d.loadOrderMap,e;++E.scriptsLoading;if(h&&!g){d.loadOrderMap=g=A.createLoadOrderMap(h)}E.checkReady();e=Ext.apply({loadOrder:h,loadOrderMap:g,charset:w.scriptCharset,success:E.onLoadSuccess,failure:E.onLoadFailure,sync:E.syncModeEnabled,_classNames:[]},c);e.userScope=e.scope;e.scope=e;A.load(e)},loadScriptsSync:function(c){var d=E.syncModeEnabled;E.syncModeEnabled=true;E.loadScripts({url:c});E.syncModeEnabled=d},loadScriptsSyncBasePrefix:function(c){var d=E.syncModeEnabled;E.syncModeEnabled=true;E.loadScripts({url:c,prependBaseUrl:true});E.syncModeEnabled=d},loadScript:function(c){var k=typeof c==="string",h=c instanceof Array,d=!h&&!k,l=d?c.url:c,i=d&&c.onError,g=d&&c.onLoad,e=d&&c.scope,j={url:l,scope:e,onLoad:g,onError:i,_classNames:[]};E.loadScripts(j)},flushMissingQueue:function(){var g,c,d=0,e=0;for(g in v){d++;c=v[g];if(G.isCreated(g)){delete v[g]}else{if(G.existCache[g]===2){delete v[g]}else{++e}}}this.missingCount=e},checkReady:function(){var c=E.isLoading,d;E.flushMissingQueue();d=E.missingCount+E.scriptsLoading;if(d&&!c){y.block();E.isLoading=!!d}else{if(!d&&c){E.triggerReady()}}}});Ext.require=z(E,"require");Ext.syncRequire=z(E,"syncRequire");Ext.exclude=z(E,"exclude");D.registerPreprocessor("loader",function(l,j,n,q){var c=this,e=[],s,d=G.getName(l),k,m,g,h,r,i,p,J;for(k=0,g=B.length;k<g;k++){i=B[k];if(j.hasOwnProperty(i)){p=j[i];if(typeof p==="string"){e.push(p)}else{if(p instanceof Array){for(m=0,h=p.length;m<h;m++){r=p[m];if(typeof r==="string"){e.push(r)}}}else{if(typeof p!=="function"){for(m in p){if(p.hasOwnProperty(m)){r=p[m];if(typeof r==="string"){e.push(r)}}}}}}}}if(e.length===0){return}if(d){t[d]=e}(d?E.exclude(d):E).require(e,function(){for(k=0,g=B.length;k<g;k++){i=B[k];if(j.hasOwnProperty(i)){p=j[i];if(typeof p==="string"){j[i]=G.get(p)}else{if(p instanceof Array){for(m=0,h=p.length;m<h;m++){r=p[m];if(typeof r==="string"){j[i][m]=G.get(r)}}}else{if(typeof p!=="function"){for(var I in p){if(p.hasOwnProperty(I)){r=p[I];if(typeof r==="string"){j[i][I]=G.get(r)}}}}}}}}q.call(c,l,j,n)});return false},true,"after","className");G.registerPostprocessor("uses",function(m,p,h){var n=Ext.manifest,l=n&&n.loadOrder,k=n&&n.classes,j,e,c,g,i,d;if(l){e=k[m];if(e&&!isNaN(i=e.idx)){c=l[i];j=c.uses;d={};for(g=j.length,i=0;i<g;i++){d[j[i]]=true}j=Ext.Boot.getPathsFromIndexes(d,l,true);if(j.length>0){E.loadScripts({url:j,sequential:true})}}}if(h.uses){j=h.uses;E.addUsedClasses(j)}});G.onCreated(E.historyPush);E.init()}());Ext._endTime=Ext.ticks();if(Ext._beforereadyhandler){Ext._beforereadyhandler()}(Ext.cmd.derive("Ext.Mixin",Ext.Base,function(d){return{statics:{addHook:function(c,n,q,p){var l=Ext.isFunction(c),m=function(){var e=arguments,h=l?c:p[c],g=this.callParent(e);h.apply(this,e);return g},r=n.hasOwnProperty(q)&&n[q];if(l){c.$previous=Ext.emptyFn}m.$name=q;m.$owner=n.self;if(r){m.$previous=r.$previous;r.$previous=m}else{n[q]=m}}},onClassExtended:function(c,v){var t=v.mixinConfig,q=v.xhooks,r=c.superclass,u=v.onClassMixedIn,x,s,p,w;if(q){delete v.xhooks;(t||(v.mixinConfig=t={})).on=q}if(t){x=r.mixinConfig;if(x){v.mixinConfig=t=Ext.merge({},x,t)}v.mixinId=t.id;s=t.before;p=t.after;q=t.on;w=t.extended}if(s||p||q||w){v.onClassMixedIn=function(e){var i=this.prototype,g=e.prototype,h;if(s){Ext.Object.each(s,function(k,j){e.addMember(k,function(){if(i[j].apply(this,arguments)!==false){return this.callParent(arguments)}})})}if(p){Ext.Object.each(p,function(k,j){e.addMember(k,function(){var l=this.callParent(arguments);i[j].apply(this,arguments);return l})})}if(q){for(h in q){d.addHook(q[h],g,h,i)}}if(w){e.onExtended(function(){var j=Ext.Array.slice(arguments,0);j.unshift(e);return w.apply(this,j)},this)}if(u){u.apply(this,arguments)}}}}}},0,0,0,0,0,0,[Ext,"Mixin"],0));Ext.util=Ext.util||{};Ext.util.DelayedTask=function(p,q,s,l,m){var n=this,t,r=function(){var c=Ext.GlobalEvents;clearInterval(n.id);n.id=null;p.apply(q,s||[]);if(m!==false&&c.hasListeners.idle){c.fireEvent("idle")}};l=typeof l==="boolean"?l:true;n.id=null;n.delay=function(c,e,g,d){if(l){n.cancel()}if(typeof c==="number"){t=c}p=e||p;q=g||q;s=d||s;if(!n.id){n.id=Ext.interval(r,t)}};n.cancel=function(){if(n.id){clearInterval(n.id);n.id=null}}};(Ext.cmd.derive("Ext.util.Event",Ext.Base,function(){var h=Array.prototype.slice,k=Ext.Array.insert,i=Ext.Array.toArray,j={};return{isEvent:true,suspended:0,noOptions:{},constructor:function(c,d){this.name=d;this.observable=c;this.listeners=[]},addListener:function(I,Q,P,e,E){var J=this,L=false,F=J.observable,M=J.name,D,N,c,g,H,C,O,K,d,G;if(J.findListener(I,Q)===-1){N=J.createListener(I,Q,P,e,E);if(J.firing){J.listeners=J.listeners.slice(0)}D=J.listeners;K=O=D.length;c=P&&P.priority;H=J._highestNegativePriorityIndex;C=H!==undefined;if(c){g=(c<0);if(!g||C){for(d=(g?H:0);d<O;d++){G=D[d].o?D[d].o.priority||0:0;if(G<c){K=d;break}}}else{J._highestNegativePriorityIndex=K}}else{if(C){K=H}}if(!g&&K<=H){J._highestNegativePriorityIndex++}if(K===O){D[O]=N}else{k(D,K,[N])}if(F.isElement){F._getPublisher(M).subscribe(F,M,P.delegated!==false,P.capture)}L=true}return L},createListener:function(d,z,y,x,v){var g=this,e=Ext._namedScopes[z],w={fn:d,scope:z,ev:g,caller:x,manager:v,namedScope:e,defaultScope:e?(z||g.observable):undefined,lateBound:typeof d==="string"},c=d,t=false,u;if(y){w.o=y;if(y.single){c=g.createSingle(c,w,y,z);t=true}if(y.target){c=g.createTargeted(c,w,y,z,t);t=true}if(y.delay){c=g.createDelayed(c,w,y,z,t);t=true}if(y.buffer){c=g.createBuffered(c,w,y,z,t);t=true}if(g.observable.isElement){u=y.type;if(u){w.type=u}}}w.fireFn=c;w.wrapped=t;return w},findListener:function(d,e){var g=this.listeners,n=g.length,c;while(n--){c=g[n];if(c){if(c.fn===d&&c.scope==e){return n}}}return -1},removeListener:function(H,F,J){var I=this,c=false,C=I.observable,d=I.name,A,D,E,g,z,G,B,e;J=J||I.findListener(H,F);if(J!=-1){A=I.listeners[J];E=A.o;D=I._highestNegativePriorityIndex;if(I.firing){I.listeners=I.listeners.slice(0)}if(A.task){A.task.cancel();delete A.task}g=A.tasks&&A.tasks.length;if(g){while(g--){A.tasks[g].cancel()}delete A.tasks}I.listeners.splice(J,1);z=A.manager;if(z){G=z.managedListeners;if(G){for(e=G.length;e--;){B=G[e];if(B.item===I.observable&&B.ename===d&&B.fn===H&&B.scope===F){G.splice(e,1)}}}}if(D){if(J<D){I._highestNegativePriorityIndex--}else{if(J===D&&J===I.listeners.length){delete I._highestNegativePriorityIndex}}}if(C.isElement){C._getPublisher(d).unsubscribe(C,d,E.delegated!==false,E.capture)}c=true}return c},clearListeners:function(){var d=this.listeners,e=d.length,c;while(e--){c=d[e];this.removeListener(c.fn,c.scope)}},suspend:function(){++this.suspended},resume:function(){if(this.suspended){--this.suspended}},isSuspended:function(){return this.suspended>0},fireDelegated:function(c,d){this.firingObservable=c;return this.fire.apply(this,d)},fire:function(){var K=this,G=K.listeners,R=G.length,M=K.observable,F=M.isElement,L=M.isComponent,Q=K.firingObservable,V,c,J,e,W,T,d,g,I,U,O,S,N,H,P;if(!K.suspended&&R>0){K.firing=true;W=arguments.length?h.call(arguments,0):[];d=W.length;if(F){N=W[0]}for(e=0;e<R;e++){T=G[e];V=T.o;if(F){if(I){N.setCurrentTarget(I)}U=T.type;if(U){O=N;N=W[0]=O.chain({type:U})}Ext.EventObject=N}S=W;if(V){c=V.delegate;if(c){if(F){g=N.getTarget("#"+N.currentTarget.id+" "+c);if(g){W[1]=g;I=N.currentTarget;N.setCurrentTarget(g)}else{continue}}else{if(L&&!Q.is("#"+M.id+" "+V.delegate)){continue}}}if(F){if(V.preventDefault){N.preventDefault()}if(V.stopPropagation){N.stopPropagation()}if(V.stopEvent){N.stopEvent()}}W[d]=V;if(V.args){S=V.args.concat(W)}}J=K.getFireInfo(T);H=J.fn;P=J.scope;J.fn=J.scope=null;if(H.apply(P,S)===false){Ext.EventObject=null;return(K.firing=false)}if(O){N=W[0]=O;O=null}Ext.EventObject=null}}K.firing=false;return true},getFireInfo:function(c,d){var r=this.observable,q=c.fireFn,e=c.scope,p=c.namedScope,g;if(!d&&c.wrapped){j.fn=q;return j}g=d?c.fn:q;if(c.lateBound){if(!e||p){e=(c.caller||r).resolveListenerScope(c.defaultScope)}g=e[g]}else{if(p&&p.isController){e=(c.caller||r).resolveListenerScope(c.defaultScope)}else{if(!e||p){e=r}}}j.fn=g;j.scope=e;return j},createTargeted:function(e,d,c,g,m){return function(){if(c.target===arguments[0]){var l;if(!m){l=d.ev.getFireInfo(d,true);e=l.fn;g=l.scope;l.fn=l.scope=null}return e.apply(g,arguments)}}},createBuffered:function(e,d,c,g,m){d.task=new Ext.util.DelayedTask();return function(){var l;if(!m){l=d.ev.getFireInfo(d,true);e=l.fn;g=l.scope;l.fn=l.scope=null}d.task.delay(c.buffer,e,g,i(arguments))}},createDelayed:function(e,d,c,g,m){return function(){var l=new Ext.util.DelayedTask(),p;if(!m){p=d.ev.getFireInfo(d,true);e=p.fn;g=p.scope;p.fn=p.scope=null}if(!d.tasks){d.tasks=[]}d.tasks.push(l);l.delay(c.delay||10,e,g,i(arguments))}},createSingle:function(e,d,c,g,m){return function(){var l=d.ev,p;if(l.removeListener(d.fn,g)&&l.observable){l.observable.hasListeners[l.name]--}if(!m){p=l.getFireInfo(d,true);e=p.fn;g=p.scope;p.fn=p.scope=null}return e.apply(g,arguments)}}}},1,0,0,0,0,0,[Ext.util,"Event"],0));(Ext.cmd.derive("Ext.mixin.Identifiable",Ext.Base,{statics:{uniqueIds:{}},isIdentifiable:true,mixinId:"identifiable",idCleanRegex:/\.|[^\w\-]/g,defaultIdPrefix:"ext-",defaultIdSeparator:"-",getOptimizedId:function(){return this.id},getUniqueId:function(){var j=this.id,n,l,k,p,m;if(!(j||j===0)){n=this.self.prototype;l=this.defaultIdSeparator;p=Ext.mixin.Identifiable.uniqueIds;if(!n.hasOwnProperty("identifiablePrefix")){k=this.xtype;if(k){m=this.defaultIdPrefix+k.replace(this.idCleanRegex,l)+l}else{if(!(m=n.$className)){m=this.defaultIdPrefix+"anonymous"+l}else{m=m.replace(this.idCleanRegex,l).toLowerCase()+l}}n.identifiablePrefix=m}m=this.identifiablePrefix;if(!p.hasOwnProperty(m)){p[m]=0}j=this.id=this.id=m+(++p[m])}this.getUniqueId=this.getOptimizedId;return j},setId:function(d){this.id=this.id=d},getId:function(){var d=this.id;if(!d){d=this.getUniqueId()}this.getId=this.getOptimizedId;return d}},0,0,0,0,0,0,[Ext.mixin,"Identifiable"],0));(Ext.cmd.derive("Ext.mixin.Observable",Ext.Mixin,function(p){var l=Ext.emptyFn,m=[],k=Array.prototype,j=k.slice,n=function(c){if(c instanceof n){return c}this.observable=c;if(arguments[1].isObservable){this.managedListeners=true}this.args=j.call(arguments,1)};n.prototype.destroy=function(){this.destroy=Ext.emptyFn;var c=this.observable;c[this.managedListeners?"mun":"un"].apply(c,this.args)};return{mixinConfig:{id:"observable",after:{destroy:"clearListeners"}},statics:{releaseCapture:function(c){c.fireEventArgs=this.prototype.fireEventArgs},capture:function(c,e,g){var d=function(i,h){return e.apply(g,[i].concat(h))};this.captureArgs(c,d,g)},captureArgs:function(c,d,e){c.fireEventArgs=Ext.Function.createInterceptor(c.fireEventArgs,d,e)},observe:function(d,c){if(d){if(!d.isObservable){Ext.applyIf(d,new this());this.captureArgs(d.prototype,d.fireEventArgs,d)}if(Ext.isObject(c)){d.on(c)}}return d},prepareClass:function(g,z,e){var A=g.listeners=[],c=e||g.prototype,x=c.listeners,h=z?z.listeners:g.superclass.self.listeners,w,y,B;if(h){A.push(h)}if(x){y=x.scope;if(!y){x.scope="self"}else{B=Ext._namedScopes[y];if(B&&B.isController){x.scope="self.controller"}}A.push(x);c.listeners=null}if(!g.HasListeners){var d=function(){},i=g.superclass.HasListeners||(z&&z.HasListeners)||p.HasListeners;g.prototype.HasListeners=g.HasListeners=d;d.prototype=g.hasListeners=new i()}}},isObservable:true,eventsSuspended:0,constructor:function(c){var i=this,d=i.self,e,s,h,g,t;if(i.$observableInitialized){return}i.$observableInitialized=true;i.hasListeners=new i.HasListeners();i.eventedBeforeEventNames={};i.events=i.events||{};e=d.listeners;if(e&&!i._addDeclaredListeners(e)){d.listeners=null}s=(c&&c.listeners)||i.listeners;if(s){if(s instanceof Array){for(t=0,g=s.length;t<g;++t){i.addListener(s[t])}}else{i.addListener(s)}}h=(c&&c.bubbleEvents)||i.bubbleEvents;if(h){i.enableBubble(h)}if(i.$applyConfigs){if(c){Ext.apply(i,c)}}else{i.initConfig(c)}if(s){i.listeners=null}},onClassExtended:function(d,c){if(!d.HasListeners){p.prepareClass(d,d.prototype.$observableMixedIn?undefined:c)}},$eventOptions:{scope:1,delay:1,buffer:1,onFrame:1,single:1,args:1,destroyable:1,priority:1,order:1},$orderToPriority:{before:100,current:0,after:-100},_addDeclaredListeners:function(d){var c=this;if(d instanceof Array){Ext.each(d,c._addDeclaredListeners,c)}else{c._addedDeclaredListeners=true;c.addListener(d)}return c._addedDeclaredListeners},addManagedListener:function(c,h,e,x,w,i){var g=this,d=g.managedListeners=g.managedListeners||[],u,v;if(typeof h!=="string"){v=arguments.length>4?w:h;w=h;for(h in w){if(w.hasOwnProperty(h)){u=w[h];if(!c.$eventOptions[h]){g.addManagedListener(c,h,u.fn||u,u.scope||w.scope||x,u.fn?u:v,true)}}}if(w&&w.destroyable){return new n(g,c,w)}}else{if(e!==l){c.doAddListener(h,e,x,w,null,g,g);if(!i&&w&&w.destroyable){return new n(g,c,h,e,x)}}}},removeManagedListener:function(c,i,e,x){var g=this,w,u,d,v,h;if(typeof i!=="string"){w=i;for(i in w){if(w.hasOwnProperty(i)){u=w[i];if(!c.$eventOptions[i]){g.removeManagedListener(c,i,u.fn||u,u.scope||w.scope||x)}}}}else{d=g.managedListeners?g.managedListeners.slice():[];i=Ext.canonicalEventName(i);for(h=0,v=d.length;h<v;h++){g.removeManagedListenerItem(false,d[h],c,i,e,x)}}},fireEvent:function(c){return this.fireEventArgs(c,j.call(arguments,1))},resolveListenerScope:function(c){var d=Ext._namedScopes[c];if(d){if(d.isSelf||d.isThis){c=null}}return c||this},fireEventArgs:function(g,d){g=Ext.canonicalEventName(g);var h=this,c=h.events,i=c&&c[g],e=true;if(h.hasListeners[g]){e=h.doFireEvent(g,d||m,i?i.bubble:false)}return e},fireAction:function(e,c,h,i,d,g){if(typeof h==="string"&&!i){h=this[h]}d=d?Ext.Object.chain(d):{};d.single=true;d.priority=((g==="after")?-99.5:99.5);this.doAddListener(e,h,i,d);this.fireEventArgs(e,c)},$eventedController:{_paused:1,pause:function(){++this._paused},resume:function(){var i=this,r=i.fn,c=i.scope,h=i.fnArgs,g=i.owner,d,e;if(!--i._paused){if(r){d=Ext.Array.slice(h||i.args);if(h===false){d.shift()}i.fn=null;d.push(i);if(Ext.isFunction(r)){e=r.apply(c,d)}else{if(c&&Ext.isString(r)&&Ext.isFunction(c[r])){e=c[r].apply(c,d)}}if(e===false){return false}}if(!i._paused){return i.owner.fireEventArgs(i.eventName,i.args)}}}},fireEventedAction:function(u,h,d,w,e){var g=this,x=g.eventedBeforeEventNames,i=x[u]||(x[u]="before"+u),v=Ext.apply({owner:g,eventName:u,fn:d,scope:w,fnArgs:e,args:h},g.$eventedController),c;h.push(v);c=g.fireEventArgs(i,h);h.pop();if(c===false){return false}return v.resume()},doFireEvent:function(d,r,e){var h=this,g,i,c=true;do{if(h.eventsSuspended){if((g=h.eventQueue)){g.push([d,r])}return c}else{i=h.events&&h.events[d];if(i&&i!==true){if((c=i.fire.apply(i,r))===false){break}}}}while(e&&(h=h.getBubbleParent()));return c},getBubbleParent:function(){var c=this,d=c.getBubbleTarget&&c.getBubbleTarget();if(d&&d.isObservable){return d}return null},addListener:function(g,B,A,z,i,y){var C=this,e=Ext._namedScopes,x,D,d,c,h;if(typeof g!=="string"){z=g;A=z.scope;D=A&&e[A];d=D&&D.isSelf;h=((C.isComponent||C.isWidget)&&z.element)?C.$elementEventOptions:C.$eventOptions;for(g in z){x=z[g];if(!h[g]){c=x.scope;if(c&&d){D=e[c];if(D&&D.isController){c="self.controller"}}C.doAddListener(g,x.fn||x,c||A,x.fn?x:z,i,y)}}if(z&&z.destroyable){return new n(C,z)}}else{C.doAddListener(g,B,A,z,i,y);if(z&&z.destroyable){return new n(C,g,B,A,z)}}return C},removeListener:function(c,i,r,g){var h=this,d,e;if(typeof c!=="string"){e=c;g=g||h.$eventOptions;for(c in e){if(e.hasOwnProperty(c)){d=e[c];if(!h.$eventOptions[c]){h.doRemoveListener(c,d.fn||d,d.scope||e.scope)}}}}else{h.doRemoveListener(c,i,r)}return h},onBefore:function(g,c,d,e){return this.addListener(g,c,d,e,"before")},onAfter:function(g,c,d,e){return this.addListener(g,c,d,e,"after")},unBefore:function(g,c,d,e){return this.removeListener(g,c,d,e,"before")},unAfter:function(g,c,d,e){return this.removeListener(g,c,d,e,"after")},addBeforeListener:function(){return this.onBefore.apply(this,arguments)},addAfterListener:function(){return this.onAfter.apply(this,arguments)},removeBeforeListener:function(){return this.unBefore.apply(this,arguments)},removeAfterListener:function(){return this.unAfter.apply(this,arguments)},clearListeners:function(){var h=this,d=h.events,g=h.hasListeners,c,e;if(d){for(e in d){if(d.hasOwnProperty(e)){c=d[e];if(c.isEvent){delete g[e];c.clearListeners()}}}h.events=null}h.clearManagedListeners()},clearManagedListeners:function(){var c=this,e=c.managedListeners?c.managedListeners.slice():[],d=0,g=e.length;for(;d<g;d++){c.removeManagedListenerItem(true,e[d])}c.managedListeners=[]},removeManagedListenerItem:function(e,g,h,d,i,c){if(e||(g.item===h&&g.ename===d&&(!i||g.fn===i)&&(!c||g.scope===c))){g.item.doRemoveListener(g.ename,g.fn,g.scope,g.options);if(!e){Ext.Array.remove(this.managedListeners,g)}}},hasListener:function(c){c=Ext.canonicalEventName(c);return !!this.hasListeners[c]},isSuspended:function(c){var d=this.eventsSuspended>0,e=this.events;if(!d&&c&&e){c=e[c];if(c&&c.isEvent){return c.isSuspended()}}return d},suspendEvents:function(c){++this.eventsSuspended;if(c&&!this.eventQueue){this.eventQueue=[]}},suspendEvent:function(){var h=this,c=h.events,g=arguments.length,d,i,e;for(d=0;d<g;d++){e=arguments[d];e=Ext.canonicalEventName(e);i=c[e];if(!i||!i.isEvent){i=h._initEvent(e)}i.suspend()}},resumeEvent:function(){var d=this.events||0,g=d&&arguments.length,e,c;for(e=0;e<g;e++){c=d[arguments[e]];if(c&&c.resume){c.resume()}}},resumeEvents:function(g){var e=this,h=e.eventQueue,c,d;if(e.eventsSuspended&&!--e.eventsSuspended){delete e.eventQueue;if(!g&&h){c=h.length;for(d=0;d<c;d++){e.fireEventArgs.apply(e,h[d])}}}},relayEvents:function(c,v,i){var d=this,h=v.length,t=0,u,g,e={};if(Ext.isObject(v)){for(t in v){g=v[t];e[t]=d.createRelayer(g)}}else{for(;t<h;t++){u=v[t];e[u]=d.createRelayer(i?i+u:u)}}d.mon(c,e,null,null,undefined);return new n(d,c,e)},createRelayer:function(e,d){var c=this;return function(){return c.fireEventArgs.call(c,e,d?j.apply(arguments,d):arguments)}},enableBubble:function(h){if(h){var s=this,i=(typeof h=="string")?arguments:h,d=s.events,t=d&&i.length,e,c,g;for(g=0;g<t;++g){e=i[g];e=Ext.canonicalEventName(e);c=d[e];if(!c||!c.isEvent){c=s._initEvent(e)}s.hasListeners._incr_(e);c.bubble=true}}},destroy:function(){this.clearListeners();this.callParent()},privates:{doAddListener:function(h,d,y,x,i,v,g){var e=this,w,z,c;i=i||(x&&x.order);if(i){c=(x&&x.priority);if(!c){x=x?Ext.Object.chain(x):{};x.priority=e.$orderToPriority[i]}}h=Ext.canonicalEventName(h);if(!g&&(y&&y.isObservable&&(y!==e))){g=y}if(g){z=g.managedListeners=g.managedListeners||[];z.push({item:e,ename:h,fn:d,scope:y,options:x})}w=(e.events||(e.events={}))[h];if(!w||!w.isEvent){w=e._initEvent(h)}if(d!==l){if(w.addListener(d,y,x,v,g)){e.hasListeners._incr_(h)}}},doRemoveListener:function(e,c,d){var h=this,g=h.events,i;e=Ext.canonicalEventName(e);i=g&&g[e];if(i&&i.isEvent){if(i.removeListener(c,d)){h.hasListeners._decr_(e)}}},_initEvent:function(c){return(this.events[c]=new Ext.util.Event(this,c))}},deprecated:{"5.0":{methods:{addEvents:null}}}}},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.mixin,"Observable"],function(){var n=this,k=n.prototype,m=function(){},j=function(d){if(!d.HasListeners){var c=d.prototype;c.$observableMixedIn=1;n.prepareClass(d,this);d.onExtended(function(g,e){n.prepareClass(g,null,e)});if(c.onClassMixedIn){Ext.override(d,{onClassMixedIn:function(e){j.call(this,e);this.callParent(arguments)}})}else{c.onClassMixedIn=function(e){j.call(this,e)}}}p.call(this,d)},p=k.onClassMixedIn;m.prototype={_decr_:function(c,d){if(d==null){d=1}if(!(this[c]-=d)){delete this[c]}},_incr_:function(c){if(this.hasOwnProperty(c)){++this[c]}else{this[c]=1}}};k.HasListeners=n.HasListeners=m;n.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener",setListeners:"addListener"});n.observeClass=n.observe;function l(h){var i=(this.methodEvents=this.methodEvents||{})[h],d,e,c,r=this,g;if(!i){this.methodEvents[h]=i={};i.originalFn=this[h];i.methodName=h;i.before=[];i.after=[];g=function(q,u,v){if((e=q.apply(u||r,v))!==undefined){if(typeof e=="object"){if(e.returnValue!==undefined){d=e.returnValue}else{d=e}c=!!e.cancel}else{if(e===false){c=true}else{d=e}}}};this[h]=function(){var v=Array.prototype.slice.call(arguments,0),w,q,x;d=e=undefined;c=false;for(q=0,x=i.before.length;q<x;q++){w=i.before[q];g(w.fn,w.scope,v);if(c){return d}}if((e=i.originalFn.apply(r,v))!==undefined){d=e}for(q=0,x=i.after.length;q<x;q++){w=i.after[q];g(w.fn,w.scope,v);if(c){return d}}return d}}return i}Ext.apply(k,{onClassMixedIn:j,beforeMethod:function(c,d,e){l.call(this,c).before.push({fn:d,scope:e})},afterMethod:function(c,d,e){l.call(this,c).after.push({fn:d,scope:e})},removeMethodListener:function(h,c,d){var i=this.getMethodEvent(h),e,g;for(e=0,g=i.before.length;e<g;e++){if(i.before[e].fn==c&&i.before[e].scope==d){Ext.Array.erase(i.before,e,1);return}}for(e=0,g=i.after.length;e<g;e++){if(i.after[e].fn==c&&i.after[e].scope==d){Ext.Array.erase(i.after,e,1);return}}},toggleEventLogging:function(c){Ext.util.Observable[c?"capture":"releaseCapture"](this,function(d){if(Ext.isDefined(Ext.global.console)){Ext.global.console.log(d,arguments)}})}})}));(Ext.cmd.derive("Ext.util.HashMap",Ext.Base,{generation:0,config:{keyFn:null},constructor:function(i){var g=this,h;g.mixins.observable.constructor.call(g,i);g.clear(true);h=g.getKeyFn();if(h){g.getKey=h}},getCount:function(){return this.length},getData:function(g,e){if(e===undefined){e=g;g=this.getKey(e)}return[g,e]},getKey:function(d){return d.id},add:function(i,g){var h=this;if(arguments.length===1){g=i;i=h.getKey(g)}if(h.containsKey(i)){return h.replace(i,g)}h.map[i]=g;++h.length;h.generation++;if(h.hasListeners.add){h.fireEvent("add",h,i,g)}return g},replace:function(l,j){var k=this,i=k.map,m;if(arguments.length===1){j=l;l=k.getKey(j)}if(!k.containsKey(l)){k.add(l,j)}m=i[l];i[l]=j;k.generation++;if(k.hasListeners.replace){k.fireEvent("replace",k,l,j,m)}return j},remove:function(e){var g=this.findKey(e);if(g!==undefined){return this.removeAtKey(g)}return false},removeAtKey:function(i){var h=this,g;if(h.containsKey(i)){g=h.map[i];delete h.map[i];--h.length;h.generation++;if(h.hasListeners.remove){h.fireEvent("remove",h,i,g)}return true}return false},get:function(g){var e=this.map;return e.hasOwnProperty(g)?e[g]:undefined},clear:function(g){var e=this;if(g||e.generation){e.map={};e.length=0;e.generation=g?0:e.generation+1}if(g!==true&&e.hasListeners.clear){e.fireEvent("clear",e)}return e},containsKey:function(g){var e=this.map;return e.hasOwnProperty(g)&&e[g]!==undefined},contains:function(d){return this.containsKey(this.findKey(d))},getKeys:function(){return this.getArray(true)},getValues:function(){return this.getArray(false)},getArray:function(h){var k=[],j,i=this.map;for(j in i){if(i.hasOwnProperty(j)){k.push(h?j:i[j])}}return k},each:function(j,k){var m=Ext.apply({},this.map),l,i=this.length;k=k||this;for(l in m){if(m.hasOwnProperty(l)){if(j.call(k,l,m[l],i)===false){break}}}return this},clone:function(){var g=new this.self(this.initialConfig),h=this.map,i;g.suspendEvents();for(i in h){if(h.hasOwnProperty(i)){g.add(i,h[i])}}g.resumeEvents();return g},findKey:function(h){var i,g=this.map;for(i in g){if(g.hasOwnProperty(i)&&g[i]===h){return i}}return undefined},destroy:function(){this.callParent();this.map=null}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,"HashMap"],function(e){var g=e.prototype;g.removeByKey=g.removeAtKey}));(Ext.cmd.derive("Ext.promise.Consequence",Ext.Base,function(d){return{promise:null,deferred:null,onFulfilled:null,onRejected:null,onProgress:null,constructor:function(c,k,i){var j=this;j.onFulfilled=c;j.onRejected=k;j.onProgress=i;j.deferred=new Ext.promise.Deferred();j.promise=j.deferred.promise},trigger:function(c,i){var j=this,k=j.deferred;switch(c){case"fulfill":j.propagate(i,j.onFulfilled,k,k.resolve);break;case"reject":j.propagate(i,j.onRejected,k,k.reject);break}},update:function(c){if(Ext.isFunction(this.onProgress)){c=this.onProgress(c)}this.deferred.update(c)},propagate:function(i,c,k,j){if(Ext.isFunction(c)){this.schedule(function(){try{k.resolve(c(i))}catch(e){k.reject(e)}})}else{j.call(this.deferred,i)}},schedule:function(c){var g=d.queueSize++;d.queue[g]=c;if(!g){Ext.asap(d.dispatch)}},statics:{queue:new Array(10000),queueSize:0,dispatch:function(){var i=d.queue,c,h;for(h=0;h<d.queueSize;++h){c=i[h];i[h]=null;c()}d.queueSize=0}}}},1,0,0,0,0,0,[Ext.promise,"Consequence"],0));(Ext.cmd.derive("Ext.promise.Deferred",Ext.Base,{promise:null,consequences:[],completed:false,completionAction:null,completionValue:null,constructor:function(){var d=this;d.promise=new Ext.promise.Promise(d);d.consequences=[];d.completed=false;d.completionAction=null;d.completionValue=null},then:function(i,m,j){var k=this,l=new Ext.promise.Consequence(i,m,j);if(k.completed){l.trigger(k.completionAction,k.completionValue)}else{k.consequences.push(l)}return l.promise},resolve:function(j){var k=this,m,l;if(k.completed){return}try{if(j===k.promise){throw new TypeError("A Promise cannot be resolved with itself.")}if((Ext.isObject(j)||Ext.isFunction(j))&&Ext.isFunction(l=j.then)){m=false;try{l.call(j,function(c){if(!m){m=true;k.resolve(c)}},function(c){if(!m){m=true;k.reject(c)}})}catch(e){if(!m){k.reject(e)}}}else{k.complete("fulfill",j)}}catch(e){k.reject(e)}},reject:function(d){if(this.completed){return}this.complete("reject",d)},update:function(l){var i=this.consequences,j,k,m;if(this.completed){return}for(k=0,m=i.length;k<m;k++){j=i[k];j.update(l)}},complete:function(l,m){var n=this,i=n.consequences,p,q,r;n.completionAction=l;n.completionValue=m;n.completed=true;for(q=0,r=i.length;q<r;q++){p=i[q];p.trigger(n.completionAction,n.completionValue)}n.consequences=null}},1,0,0,0,0,0,[Ext.promise,"Deferred"],0));(Ext.cmd.derive("Ext.promise.Promise",Ext.Base,function(e){var g;return{statics:{CancellationError:Ext.global.CancellationError||Error,_ready:function(){g=Ext.promise.Deferred},all:function(c){return e.when(c).then(function(w){var d=new g(),t=w.length,v=new Array(t),r,x,i,u,s;if(!t){d.resolve(v)}else{i=function(j,h){return e.when(j).then(function(k){v[h]=k;if(!--t){d.resolve(v)}return k},function(k){return d.reject(k)})};for(r=u=0,s=w.length;u<s;r=++u){x=w[r];if(r in w){i(x,r)}else{t--}}}return d.promise})},is:function(c){return(Ext.isObject(c)||Ext.isFunction(c))&&Ext.isFunction(c.then)},rethrowError:function(c){Ext.asap(function(){throw c})},when:function(c){var d=new Ext.promise.Deferred();d.resolve(c);return d.promise}},owner:null,constructor:function(c){this.owner=c},then:function(c,m,d,l){var k;if(arguments.length===1&&Ext.isObject(arguments[0])){k=arguments[0];c=k.success;m=k.failure;d=k.progress;l=k.scope}if(l){if(c){c=Ext.Function.bind(c,l)}if(m){m=Ext.Function.bind(m,l)}if(d){d=Ext.Function.bind(d,l)}}return this.owner.then(c,m,d)},otherwise:function(i,d){var c;if(arguments.length===1&&Ext.isObject(arguments[0])){c=arguments[0];i=c.fn;d=c.scope}if(d!=null){i=Ext.Function.bind(i,d)}return this.owner.then(null,i)},always:function(i,d){var c;if(arguments.length===1&&Ext.isObject(arguments[0])){c=arguments[0];i=c.fn;d=c.scope}if(d!=null){i=Ext.Function.bind(i,d)}return this.owner.then(function(k){try{i()}catch(h){e.rethrowError(h)}return k},function(h){try{i()}catch(k){e.rethrowError(k)}throw h})},done:function(){this.owner.then(null,e.rethrowError)},cancel:function(c){if(c==null){c=null}this.owner.reject(new this.self.CancellationError(c))},log:function(c){if(c==null){c=""}return this._owner.then(function(d){Ext.log(""+(c||"Promise")+" resolved with value: "+d);return d},function(d){Ext.log(""+(c||"Promise")+" rejected with reason: "+d);throw d})}}},1,0,0,0,0,0,[Ext.promise,"Promise"],function(d){d._ready()}));(Ext.cmd.derive("Ext.Promise",Ext.Base,function(){var d;return{statics:{_ready:function(){d=Ext.promise.Promise},all:function(){return d.all.apply(d,arguments)},race:function(){},reject:function(c){var g=new Ext.promise.Deferred();g.reject(c);return g.promise},resolve:function(c){var g=new Ext.promise.Deferred();g.resolve(c);return g.promise}},constructor:function(c){var g=new Ext.promise.Deferred();c(g.resolve.bind(g),g.reject.bind(g));return g.promise}}},1,0,0,0,0,0,[Ext,"Promise"],function(g){var e=Ext.global.Promise;if(e&&e.resolve){Ext.Promise=e}else{g._ready()}}));(Ext.cmd.derive("Ext.Deferred",Ext.promise.Deferred,function(h){var g,i;return{statics:{_ready:function(){g=Ext.promise.Promise;i=Ext.Promise.resolve},all:function(){return g.all.apply(g,arguments)},any:function(c){return h.some(c,1).then(function(d){return d[0]},function(d){if(d instanceof Error&&d.message==="Too few Promises were resolved."){Ext.raise("No Promises were resolved.")}else{throw d}})},delay:function(e,c){var d;if(arguments.length===1){c=e;e=undefined}c=Math.max(c,0);d=new h();setTimeout(function(){d.resolve(e)},c);return d.promise},map:function(d,c){return h.resolved(d).then(function(y){var A,t,z,v,e,x,w,u;v=y.length;x=new Array(y.length);A=new h();if(!v){A.resolve(x)}else{e=function(k,j){return h.resolved(k).then(function(l){return c(l,j,x)}).then(function(l){x[j]=l;if(!--v){A.resolve(x)}return l},function(l){return A.reject(l)})};for(t=w=0,u=y.length;w<u;t=++w){z=y[t];if(t in y){e(z,t)}else{v--}}}return A.promise})},memoize:function(c,d,k){var e=Ext.Function.memoize(c,d,k);return function(){return h.all(Ext.Array.slice(arguments)).then(function(j){return e.apply(d,j)})}},parallel:function(d,c){if(c==null){c=null}var e=Ext.Array.slice(arguments,2);return h.map(d,function(k){if(!Ext.isFunction(k)){throw new Error("Invalid parameter: expected a function.")}return k.apply(c,e)})},pipeline:function(d,e,c){if(c==null){c=null}return h.reduce(d,function(l,m){if(!Ext.isFunction(m)){throw new Error("Invalid parameter: expected a function.")}return m.call(c,l)},e)},reduce:function(e,d,k){var c=arguments.length===3;return h.resolved(e).then(function(j){var m=[j,function(r,q,l){return h.resolved(r).then(function(n){return h.resolved(q).then(function(p){return d(n,p,l,j)})})}];if(c){m.push(k)}return Ext.Array.reduce.apply(Ext.Array,m)})},rejected:function(c){var d=new Ext.Deferred();d.reject(c);return d.promise},resolved:function(c){var d=new Ext.Deferred();d.resolve(c);return d.promise},sequence:function(d,c){if(c==null){c=null}var e=Ext.Array.slice(arguments,2);return h.reduce(d,function(m,l){if(!Ext.isFunction(l)){throw new Error("Invalid parameter: expected a function.")}return h.resolved(l.apply(c,e)).then(function(j){m.push(j);return m})},[])},some:function(c,d){return h.resolved(c).then(function(z){var C,v,E,D,A,B,x,e,y,w;e=[];x=d;B=(z.length-x)+1;C=new h();if(z.length<d){C.reject(new Error("Too few Promises were resolved."))}else{D=function(j){if(x>0){e.push(j)}x--;if(x===0){C.resolve(e)}return j};E=function(j){B--;if(B===0){C.reject(new Error("Too few Promises were resolved."))}return j};for(v=y=0,w=z.length;y<w;v=++y){A=z[v];if(v in z){h.resolved(A).then(D,E)}}}return C.promise})},timeout:function(k,d){var e=new h(),c;c=setTimeout(function(){if(c){e.reject(new Error("Promise timed out."))}},d);h.resolved(k).then(function(j){clearTimeout(c);c=null;e.resolve(j)},function(j){clearTimeout(c);c=null;e.reject(j)});return e.promise}}}},0,0,0,0,0,0,[Ext,"Deferred"],function(d){d._ready()}));Ext.Factory=function(g){var e=this;e.aliasPrefix=g+".";e.cache={};e.name=g.replace(e.fixNameRe,e.fixNameFn);e.type=g};Ext.Factory.prototype={defaultProperty:"type",instanceProp:"isInstance",create:function(t,r){var n=this,v=Ext.ClassManager,u=n.cache,s,p,q,m;if(t){if(t[n.instanceProp]){return t}if(typeof t==="string"){m=t;t={};t[n.defaultProperty]=m}p=t.xclass;m=t.type}if(p){if(!(q=v.get(p))){return v.instantiate(p,t)}}else{if(!(m=m||r||n.defaultType)){q=n.defaultClass}if(!q&&!(q=u[m])){s=n.aliasPrefix+m;p=v.getNameByAlias(s);if(!(q=p&&v.get(p))){return v.instantiateByAlias(s,t)}u[m]=q}}return q.isInstance?q:new q(t)},fixNameRe:/\.[a-z]/ig,fixNameFn:function(d){return d.substring(1).toUpperCase()},clearCache:function(){this.cache={}}};Ext.Factory.define=function(j,l){var p=Ext.Factory,n,m,k;if(j.constructor===Object){Ext.Object.each(j,p.define,p)}else{m=new Ext.Factory(j);if(l){if(l.constructor===Object){Ext.apply(m,l);if(typeof(n=m.xclass)==="string"){m.defaultClass=Ext.ClassManager.get(n)}}else{m.defaultType=l}}p[m.name]=k=m.create.bind(m);k.instance=m}return k};(Ext.cmd.derive("Ext.mixin.Factoryable",Ext.Base,{mixinId:"factoryable",onClassMixedIn:function(l){var m=l.prototype,k=m.factoryConfig,n=m.alias,p={},q,r;n=n&&n.length&&n[0];if(n&&(q=n.lastIndexOf("."))>0){p.type=n.substring(0,q);p.defaultType=n.substring(q+1)}if(k){delete m.factoryConfig;Ext.apply(p,k)}r=Ext.Factory.define(p.type,p);if(l.create===Ext.Base.create){l.create=r}}},0,0,0,0,0,0,[Ext.mixin,"Factoryable"],0));(Ext.cmd.derive("Ext.data.request.Base",Ext.Base,{factoryConfig:{type:"request",defaultType:"ajax"},result:null,success:null,timer:null,constructor:function(g){var e=this;Ext.apply(e,g.options||{},g.ownerConfig);e.id=++Ext.data.Connection.requestId;e.owner=g.owner;e.options=g.options;e.requestOptions=g.requestOptions},start:function(){var g=this,e=g.getTimeout();if(e&&g.async){g.timer=Ext.defer(g.onTimeout,e,g)}},abort:function(){var d=this;d.clearTimer();if(!d.timedout){d.aborted=true}d.abort=Ext.emptyFn},createDeferred:function(){return(this.deferred=new Ext.Deferred())},getDeferred:function(){return this.deferred||this.createDeferred()},getPromise:function(){return this.getDeferred().promise},then:function(){var d=this.getPromise();return d.then.apply(d,arguments)},onComplete:function(){var g=this,h=g.deferred,i=g.result;g.clearTimer();if(h){if(g.success){h.resolve(i)}else{h.reject(i)}}},onTimeout:function(){var d=this;d.timedout=true;d.timer=null;d.abort(true)},getTimeout:function(){return this.timeout},clearTimer:function(){var d=this.timer;if(d){clearTimeout(d);this.timer=null}},destroy:function(){var d=this;d.abort();d.owner=d.options=d.requestOptions=d.result=null;d.callParent()},privates:{createException:function(){var e=this,g;g={request:e,requestId:e.id,status:e.aborted?-1:0,statusText:e.aborted?"transaction aborted":"communication failure",getResponseHeader:e._getHeader,getAllResponseHeaders:e._getHeaders};if(e.aborted){g.aborted=true}if(e.timedout){g.timedout=true}return g},_getHeader:function(g){var e=this.headers;return e&&e[g.toLowerCase()]},_getHeaders:function(){return this.headers}}},1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.request,"Base"],0));(Ext.cmd.derive("Ext.data.flash.BinaryXhr",Ext.Base,{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=true;Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById("ext-flash-polyfill");Ext.GlobalEvents.fireEvent("flashready")},flashPluginActive:false,flashPluginInjected:false,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(h,i,j){var k;k=this.liveConnections[Number(h)];if(k){k.onFlashStateChange(i,j)}},registerConnection:function(e){var g=this.connectionIndex;this.conectionIndex=this.connectionIndex+1;this.liveConnections[g]=e;return g},injectFlashPlugin:function(){var h=this,i,g;h.flashPolyfillEl=Ext.getBody().appendChild({id:"ext-flash-polyfill",cn:[{tag:"p",html:"To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed."},{tag:"a",href:"http://www.adobe.com/go/getflashplayer",cn:[{tag:"img",src:window.location.protocol+"//www.adobe.com/images/shared/download_buttons/get_flash_player.gif",alt:"Get Adobe Flash player"}]}]});i=[Ext.Loader.getPath("Ext.data.Connection"),"../../../plugins/flash/swfobject.js"].join("/");g="/plugins/flash/FlashPlugin.swf";if(Ext.flashPluginPath){g=Ext.flashPluginPath}Ext.Loader.loadScript({url:i,onLoad:function(){var l="11.4.0";var d="playerProductInstall.swf";var m={};var c={};c.quality="high";c.bgcolor="#ffffff";c.allowscriptaccess="sameDomain";c.allowfullscreen="true";var e={};e.id="ext-flash-polyfill";e.name="polyfill";e.align="middle";swfobject.embedSWF(g,"ext-flash-polyfill","0","0",l,d,m,c,e)},onError:function(){},scope:h});Ext.data.flash.BinaryXhr.flashPluginInjected=true}},readyState:0,status:0,statusText:"",responseBytes:null,javascriptId:null,constructor:function(g){if(!Ext.data.flash.BinaryXhr.flashPluginInjected){Ext.data.flash.BinaryXhr.injectFlashPlugin()}var e=this;Ext.apply(e,g);e.requestHeaders={}},abort:function(){var d=this;if(d.readyState==4){return}d.aborted=true;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.GlobalEvents.removeListener("flashready",d.onFlashReady,d);return}Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(d.javascriptId);delete Ext.data.flash.BinaryXhr.liveConnections[d.javascriptId]},getAllResponseHeaders:function(){var d=[];Ext.Object.each(this.responseHeaders,function(g,c){d.push(g+": "+c)});return d.join("\r\n")},getResponseHeader:function(e){var g=this.responseHeaders;return(g&&g[e])||null},open:function(j,m,l,p,n){var k=this;k.method=j;k.url=m;k.async=l!==false;k.user=p;k.password=n},overrideMimeType:function(d){this.mimeType=d},send:function(g){var e=this;e.body=g;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.GlobalEvents.addListener("flashready",e.onFlashReady,e)}else{this.onFlashReady()}},onFlashReady:function(){var g=this,h,i;g.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(g);h={method:g.method,url:g.url,user:g.user,password:g.password,mimeType:g.mimeType,requestHeaders:g.requestHeaders,body:g.body,javascriptId:g.javascriptId};i=Ext.data.flash.BinaryXhr.flashPlugin.postBinary(h)},setReadyState:function(e){var g=this;if(g.readyState!=e){g.readyState=e;g.onreadystatechange()}},setRequestHeader:function(e,g){this.requestHeaders[e]=g},onreadystatechange:Ext.emptyFn,parseData:function(e){var g=this;this.status=e.status||0;g.responseHeaders={};if(g.mimeType){g.responseHeaders["content-type"]=g.mimeType}if(e.reason=="complete"){this.responseBytes=e.data;g.responseHeaders["content-length"]=e.data.length}else{if(e.reason=="error"||e.reason=="securityError"){this.statusText=e.text;g.responseHeaders["content-length"]=0}}},onFlashStateChange:function(g,h){var i=this;if(g==4){i.parseData(h);delete Ext.data.flash.BinaryXhr.liveConnections[i.javascriptId]}i.setReadyState(g)}},1,0,0,0,0,0,[Ext.data.flash,"BinaryXhr"],0));(Ext.cmd.derive("Ext.data.request.Ajax",Ext.data.request.Base,{statics:{parseStatus:function(i){i=i==1223?204:i;var g=(i>=200&&i<300)||i==304,h=false;if(!g){switch(i){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:h=true;break}}return{success:g,isException:h}}},start:function(m){var p=this,q=p.options,r=p.requestOptions,n=p.isXdr,k,l;k=p.xhr=p.openRequest(q,r,p.async,p.username,p.password);if(!n){l=p.setupHeaders(k,q,r.data,r.params)}if(p.async){if(!n){k.onreadystatechange=Ext.Function.bind(p.onStateChange,p)}}if(n){p.processXdrRequest(p,k)}Ext.data.request.Base.prototype.start.call(this,m);k.send(m);if(!p.async){return p.onComplete()}return p},abort:function(j){var k=this,e=k.xhr;if(j||k.isLoading()){try{e.onreadystatechange=null}catch(i){e.onreadystatechange=Ext.emptyFn}e.abort();Ext.data.request.Base.prototype.abort.call(this,j);k.onComplete();k.cleanup()}},cleanup:function(){this.xhr=null;delete this.xhr},isLoading:function(){var k=this,h=k.xhr,j=h&&h.readyState,i=Ext.data.flash&&Ext.data.flash.BinaryXhr;if(!h||k.aborted||k.timedout){return false}if(i&&h instanceof i){return j!==4}return j!==0&&j!==4},openRequest:function(p,r,n,k,q){var m=this,l=m.newRequest(p);if(k){l.open(r.method,r.url,n,k,q)}else{if(m.isXdr){l.open(r.method,r.url)}else{l.open(r.method,r.url,n)}}if(p.binary||m.binary){if(window.Uint8Array){l.responseType="arraybuffer"}else{if(l.overrideMimeType){l.overrideMimeType("text/plain; charset=x-user-defined")}}}if(p.withCredentials||m.withCredentials){l.withCredentials=true}return l},newRequest:function(i){var h=this,g;if(i.binaryData){if(window.Uint8Array){g=h.getXhrInstance()}else{g=new Ext.data.flash.BinaryXhr()}}else{if(h.cors&&Ext.isIE9m){g=h.getXdrInstance();h.isXdr=true}else{g=h.getXhrInstance();h.isXdr=false}}return g},setupHeaders:function(e,F,A,B){var w=this,D=Ext.apply({},F.headers||{},w.defaultHeaders),t=w.defaultPostHeader,v=F.jsonData,E=F.xmlData,x="Content-Type",C=w.useDefaultXhrHeader,u,z;if(!D.hasOwnProperty(x)&&(A||B)){if(A){if(F.rawData){t="text/plain"}else{if(E&&Ext.isDefined(E)){t="text/xml"}else{if(v&&Ext.isDefined(v)){t="application/json"}}}}D[x]=t}if(C&&!D["X-Requested-With"]){D["X-Requested-With"]=w.defaultXhrHeader}if(D[x]===undefined||D[x]===null){delete D[x]}try{for(u in D){if(D.hasOwnProperty(u)){z=D[u];e.setRequestHeader(u,z)}}}catch(y){w.owner.fireEvent("exception",u,z)}return D},getXdrInstance:function(){var d;if(Ext.ieVersion>=8){d=new XDomainRequest()}else{Ext.raise({msg:"Your browser does not support CORS"})}return d},getXhrInstance:(function(){var l=[function(){return new XMLHttpRequest()},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],k=0,m=l.length,e;for(;k<m;++k){try{e=l[k];e();break}catch(i){}}return e}()),processXdrRequest:function(h,g){var i=this;delete h.headers;h.contentType=h.options.contentType||i.defaultXdrContentType;g.onload=Ext.Function.bind(i.onStateChange,i,[true]);g.onerror=g.ontimeout=Ext.Function.bind(i.onStateChange,i,[false])},processXdrResponse:function(g,e){g.getAllResponseHeaders=function(){return[]};g.getResponseHeader=function(){return""};g.contentType=e.contentType||this.defaultXdrContentType},onStateChange:function(j){var i=this,h=i.xhr,k=Ext.GlobalEvents;if((h&&h.readyState==4)||i.isXdr){i.clearTimer();i.onComplete(j);i.cleanup();if(k.hasListeners.idle){k.fireEvent("idle")}}},onComplete:function(q){var t=this,x=t.owner,p=t.options,r=t.xhr,w={success:false,isException:false},e,s,v;if(!r||t.destroyed){return t.result=w}try{e=Ext.data.request.Ajax.parseStatus(r.status);if(e.success){e.success=r.readyState===4}}catch(u){e=w}s=t.success=t.isXdr?q:e.success;if(s){v=t.createResponse(r);x.fireEvent("requestcomplete",x,v,p);Ext.callback(p.success,p.scope,[v,p])}else{if(e.isException||t.aborted||t.timedout){v=t.createException(r)}else{v=t.createResponse(r)}x.fireEvent("requestexception",x,v,p);Ext.callback(p.failure,p.scope,[v,p])}t.result=v;Ext.callback(p.callback,p.scope,[p,s,v]);x.onRequestComplete(t);Ext.data.request.Base.prototype.onComplete.call(this,q);return v},createResponse:function(r){var t=this,x=t.isXdr,y={},q=x?[]:r.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),v=q.length,p,u,s,w,z;while(v--){p=q[v];u=p.indexOf(":");if(u>=0){s=p.substr(0,u).toLowerCase();if(p.charAt(u+1)==" "){++u}y[s]=p.substr(u+1)}}w={request:t,requestId:t.id,status:r.status,statusText:r.statusText,getResponseHeader:function(c){return y[c.toLowerCase()]},getAllResponseHeaders:function(){return y}};if(x){t.processXdrResponse(w,r)}if(t.binary){w.responseBytes=t.getByteArray(r)}else{w.responseText=r.responseText;w.responseXML=r.responseXML}return w},destroy:function(){this.xhr=null;Ext.data.request.Base.prototype.destroy.call(this)},privates:{getByteArray:function(i){var t=i.response,u=i.responseBody,e=Ext.data.flash&&Ext.data.flash.BinaryXhr,v,p,r,s;if(i instanceof e){v=i.responseBytes}else{if(window.Uint8Array){v=t?new Uint8Array(t):[]}else{if(Ext.isIE9p){try{v=new VBArray(u).toArray()}catch(q){v=[]}}else{if(Ext.isIE){if(!this.self.vbScriptInjected){this.injectVBScript()}getIEByteArray(i.responseBody,v=[])}else{v=[];p=i.responseText;r=p.length;for(s=0;s<r;s++){v.push(p.charCodeAt(s)&255)}}}}}return v},injectVBScript:function(){var d=document.createElement("script");d.type="text/vbscript";d.text=["Function getIEByteArray(byteArray, out)","Dim len, i","len = LenB(byteArray)","For i = 1 to len","out.push(AscB(MidB(byteArray, i, 1)))","Next","End Function"].join("\n");Ext.getHead().dom.appendChild(d);this.self.vbScriptInjected=true}}},0,0,0,0,["request.ajax"],0,[Ext.data.request,"Ajax"],0));(Ext.cmd.derive("Ext.data.request.Form",Ext.data.request.Base,{start:function(h){var i=this,j=i.options,k=i.requestOptions;Ext.data.request.Base.prototype.start.call(this,h);i.form=i.upload(j.form,k.url,k.data,j);return i},abort:function(j){var k=this,e;if(k.isLoading()){try{e=k.frame.dom;if(e.stop){e.stop()}else{e.document.execCommand("Stop")}}catch(i){}}Ext.data.request.Base.prototype.abort.call(this,j);k.onComplete();k.cleanup()},cleanup:function(){var g=this,e=g.frame;if(e){e.un("load",g.onComplete,g);Ext.removeNode(e)}g.frame=g.form=null},isLoading:function(){return !!this.frame},upload:function(Q,L,v,M){Q=Ext.getDom(Q);M=M||{};var B=document.createElement("iframe"),H=Ext.get(B),F=H.id,P=[],O="multipart/form-data",A={target:Q.target,method:Q.method,encoding:Q.encoding,enctype:Q.enctype,action:Q.action},R=function(d,c){K=document.createElement("input");Ext.fly(K).set({type:"hidden",value:c,name:d});Q.appendChild(K);P.push(K)},K,I,D,h,E,J,G,C,N;H.set({name:F,cls:"x-hidden-display",src:Ext.SSL_SECURE_URL,tabIndex:-1});document.body.appendChild(B);if(document.frames){document.frames[F].name=F}Ext.fly(Q).set({target:F,method:"POST",enctype:O,encoding:O,action:L||A.action});if(v){I=Ext.Object.fromQueryString(v)||{};for(h in I){if(I.hasOwnProperty(h)){D=I[h];if(Ext.isArray(D)){E=D.length;for(J=0;J<E;J++){R(h,D[J])}}else{R(h,D)}}}}this.frame=H;H.on({load:this.onComplete,scope:this,single:!Ext.isOpera});Q.submit();Ext.fly(Q).set(A);for(G=P.length,C=0;C<G;C++){Ext.removeNode(P[C])}return Q},getDoc:function(){var d=this.frame.dom;return(d&&(d.contentWindow.document||d.contentDocument))||(window.frames[d.id]||{}).document},getTimeout:function(){return this.options.timeout},onComplete:function(){var s=this,w=s.frame,x=s.owner,e=s.options,q,r,p,u,v;if(!w){return}if(s.aborted||s.timedout){s.result=v=s.createException();v.responseXML=null;v.responseText='{success:false,message:"'+Ext.String.trim(v.statusText)+'"}';q=e.failure;p=false}else{try{r=s.getDoc();s.result=v={responseText:"",responseXML:null};if(r){if(Ext.isOpera&&r.location==Ext.SSL_SECURE_URL){return}if(r.body){if((u=r.body.firstChild)&&/pre/i.test(u.tagName)){v.responseText=u.textContent||u.innerText}else{if((u=r.getElementsByTagName("textarea")[0])){v.responseText=u.value}else{v.responseText=r.body.textContent||r.body.innerText}}}v.responseXML=r.XMLDocument||r;q=e.success;p=true;v.status=200}else{Ext.raise("Could not acquire a suitable connection for the file upload service.")}}catch(t){s.result=v=s.createException();v.status=400;v.statusText=(t.message||t.description)+"";v.responseText='{success:false,message:"'+Ext.String.trim(v.statusText)+'"}';v.responseXML=null;q=e.failure;p=false}}s.frame=null;s.success=p;x.fireEvent(p?"requestcomplete":"requestexception",x,v,e);Ext.callback(q,e.scope,[v,e]);Ext.callback(e.callback,e.scope,[e,p,v]);x.onRequestComplete(s);Ext.asap(w.destroy,w);Ext.data.request.Base.prototype.onComplete.call(this)},destroy:function(){this.cleanup();Ext.data.request.Base.prototype.destroy.call(this)}},0,0,0,0,["request.form"],0,[Ext.data.request,"Form"],0));(Ext.cmd.derive("Ext.data.Connection",Ext.Base,{statics:{requestId:0},enctypeRe:/multipart\/form-data/i,config:{url:null,async:true,username:"",password:"",disableCaching:true,withCredentials:false,binary:false,cors:false,isXdr:false,defaultXdrContentType:"text/plain",disableCachingParam:"_dc",timeout:30000,extraParams:null,autoAbort:false,method:null,defaultHeaders:null,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:true,defaultXhrHeader:"XMLHttpRequest"},constructor:function(d){this.mixins.observable.constructor.call(this,d);this.requests={}},request:function(j){j=j||{};var h=this,k,i;if(h.fireEvent("beforerequest",h,j)!==false){k=h.setOptions(j,j.scope||Ext.global);i=h.createRequest(j,k);return i.start(k.data)}Ext.callback(j.callback,j.scope,[j,undefined,undefined]);return Ext.Deferred.rejected([j,undefined,undefined])},createRequest:function(l,m){var i=this,k=l.type||m.type,j;if(!k){k=i.isFormUpload(l)?"form":"ajax"}if(l.autoAbort||i.getAutoAbort()){i.abort()}j=Ext.Factory.request({type:k,owner:i,options:l,requestOptions:m,ownerConfig:i.getConfig()});i.requests[j.id]=j;i.latestId=j.id;return j},isFormUpload:function(g){var e=this.getForm(g);if(e){return g.isUpload||this.enctypeRe.test(e.getAttribute("enctype"))}return false},getForm:function(d){return Ext.getDom(d.form)},setOptions:function(q,r){var t=this,x=q.params||{},u=t.getExtraParams(),y=q.urlParams,z=q.url||t.getUrl(),v=q.cors,s=q.jsonData,A,B,w;if(v!==undefined){t.setCors(v)}if(Ext.isFunction(x)){x=x.call(r,q)}if(Ext.isFunction(z)){z=z.call(r,q)}z=this.setupUrl(q,z);w=q.rawData||q.binaryData||q.xmlData||s||null;if(s&&!Ext.isPrimitive(s)){w=Ext.encode(w)}if(q.binaryData){if(t.nativeBinaryPostSupport()){w=(new Uint8Array(q.binaryData));if((Ext.isChrome&&Ext.chromeVersion<22)||Ext.isSafari||Ext.isGecko){w=w.buffer}}}if(Ext.isObject(x)){x=Ext.Object.toQueryString(x)}if(Ext.isObject(u)){u=Ext.Object.toQueryString(u)}x=x+((u)?((x)?"&":"")+u:"");y=Ext.isObject(y)?Ext.Object.toQueryString(y):y;x=this.setupParams(q,x);A=(q.method||t.getMethod()||((x||w)?"POST":"GET")).toUpperCase();this.setupMethod(q,A);B=q.disableCaching!==false?(q.disableCaching||t.getDisableCaching()):false;if(A==="GET"&&B){z=Ext.urlAppend(z,(q.disableCachingParam||t.getDisableCachingParam())+"="+(new Date().getTime()))}if((A=="GET"||w)&&x){z=Ext.urlAppend(z,x);x=null}if(y){z=Ext.urlAppend(z,y)}return{url:z,method:A,data:w||x||null}},setupUrl:function(h,i){var g=this.getForm(h);if(g){i=i||g.action}return i},setupParams:function(k,h){var i=this.getForm(k),j;if(i&&!this.isFormUpload(k)){j=Ext.Element.serializeForm(i);h=h?(h+"&"+j):j}return h},setupMethod:function(g,e){if(this.isFormUpload(g)){return"POST"}return e},isLoading:function(d){if(!d){d=this.getLatest()}return d?d.isLoading():false},abort:function(d){if(!d){d=this.getLatest()}if(d&&d.isLoading()){d.abort()}},abortAll:function(){var e=this.requests,g;for(g in e){this.abort(e[g])}},getLatest:function(){var e=this.latestId,g;if(e){g=this.requests[e]}return g||null},clearTimeout:function(d){if(!d){d=this.getLatest()}if(d){d.clearTimer()}},onRequestComplete:function(d){delete this.requests[d.id]},nativeBinaryPostSupport:function(){return Ext.isChrome||(Ext.isSafari&&Ext.isDefined(window.Uint8Array))||(Ext.isGecko&&Ext.isDefined(window.Uint8Array))}},1,0,0,0,0,[["observable",Ext.mixin.Observable]],[Ext.data,"Connection"],0));(Ext.cmd.derive("Ext.Ajax",Ext.data.Connection,{singleton:true,autoAbort:false},0,0,0,0,0,0,[Ext,"Ajax"],0));(Ext.cmd.derive("Ext.AnimationQueue",Ext.Base,{singleton:true,constructor:function(){var d=this;d.queue=[];d.taskQueue=[];d.runningQueue=[];d.idleQueue=[];d.isRunning=false;d.isIdle=true;d.run=Ext.Function.bind(d.run,d);if(Ext.os.is.iOS){Ext.interval(d.watch,500,d)}},start:function(i,j,k){var h=this;h.queue.push(arguments);if(!h.isRunning){if(h.hasOwnProperty("idleTimer")){clearTimeout(h.idleTimer);delete h.idleTimer}if(h.hasOwnProperty("idleQueueTimer")){clearTimeout(h.idleQueueTimer);delete h.idleQueueTimer}h.isIdle=false;h.isRunning=true;h.doStart()}},watch:function(){if(this.isRunning&&Ext.now()-this.lastRunTime>=500){this.run()}},run:function(){var i=this;if(!i.isRunning){return}var m=i.runningQueue,l=Ext.now(),k,j;i.lastRunTime=l;i.frameStartTime=l;m.push.apply(m,i.queue);for(k=0,j=m.length;k<j;k++){i.invoke(m[k])}m.length=0;i.doIterate()},doStart:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run);this.lastRunTime=Ext.now()},doIterate:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run)},doStop:function(){Ext.Function.cancelAnimationFrame(this.animationFrameId)},stop:function(p,q,s){var i=this;if(!i.isRunning){return}var t=i.queue,m=t.length,r,n;for(r=0;r<m;r++){n=t[r];if(n[0]===p&&n[1]===q&&n[2]===s){t.splice(r,1);r--;m--}}if(m===0){i.doStop();i.isRunning=false;i.idleTimer=Ext.defer(i.whenIdle,100,i)}},onIdle:function(m,n,r){var p=this.idleQueue,q,l,i;for(q=0,l=p.length;q<l;q++){i=p[q];if(m===i[0]&&n===i[1]&&r===i[2]){return}}p.push(arguments);if(this.isIdle){this.processIdleQueue()}},unIdle:function(m,n,r){var p=this.idleQueue,q,l,i;for(q=0,l=p.length;q<l;q++){i=p[q];if(m===i[0]&&n===i[1]&&r===i[2]){p.splice(q,1);return true}}return false},queueTask:function(g,h,i){this.taskQueue.push(arguments);this.processTaskQueue()},dequeueTask:function(m,n,r){var p=this.taskQueue,q,l,i;for(q=0,l=p.length;q<l;q++){i=p[q];if(m===i[0]&&n===i[1]&&r===i[2]){p.splice(q,1);q--;l--}}},invoke:function(h){var i=h[0],j=h[1],k=h[2];i=(typeof i=="string"?j[i]:i);if(Ext.isArray(k)){i.apply(j,k)}else{i.call(j,k)}},whenIdle:function(){this.isIdle=true;this.processIdleQueue()},processIdleQueue:function(){if(!this.hasOwnProperty("idleQueueTimer")){this.idleQueueTimer=Ext.defer(this.processIdleQueueItem,1,this)}},processIdleQueueItem:function(){delete this.idleQueueTimer;if(!this.isIdle){return}var g=this.idleQueue,e;if(g.length>0){e=g.shift();this.invoke(e);this.processIdleQueue()}},processTaskQueue:function(){if(!this.hasOwnProperty("taskQueueTimer")){this.taskQueueTimer=Ext.defer(this.processTaskQueueItem,15,this)}},processTaskQueueItem:function(){delete this.taskQueueTimer;var g=this.taskQueue,e;if(g.length>0){e=g.shift();this.invoke(e);this.processTaskQueue()}}},1,0,0,0,0,0,[Ext,"AnimationQueue"],0));(Ext.cmd.derive("Ext.ComponentManager",Ext.Base,{alternateClassName:"Ext.ComponentMgr",singleton:true,count:0,typeName:"xtype",constructor:function(g){var e=this;Ext.apply(e,g||{});e.all={};e.references={};e.onAvailableCallbacks={}},create:function(g,e){if(typeof g==="string"){return Ext.widget(g)}if(g.isComponent){return g}if("xclass" in g){return Ext.create(g.xclass,g)}return Ext.widget(g.xtype||e,g)},get:function(d){return this.all[d]},register:function(m){var i=this,j=i.all,k=m.getId(),l=i.onAvailableCallbacks;j[k]=m;if(m.getReference&&m.getReference()){i.references[k]=m}++i.count;if(!i.hasFocusListener){Ext.on("focus",i.onGlobalFocus,i);i.hasFocusListener=true}l=l&&l[k];if(l&&l.length){i.notifyAvailable(m)}},unregister:function(g){var e=g.getId();if(g.getReference&&g.getReference()){this.references[e]=null;delete this.references[e]}this.all[e]=null;delete this.all[e];this.count--},markReferencesDirty:function(){this.referencesDirty=true},fixReferences:function(){var g=this,h=g.references,i;if(g.referencesDirty){for(i in h){if(h.hasOwnProperty(i)){h[i].fixReference()}}g.referencesDirty=false}},onAvailable:function(k,p,q){var l=this,m=l.onAvailableCallbacks,r=l.all,n;if(k in r){n=r[k];p.call(q||n,n)}else{if(k){if(!Ext.isArray(m[k])){m[k]=[]}m[k].push(function(c){p.call(q||c,c)})}}},notifyAvailable:function(e){var g=this.onAvailableCallbacks[e&&e.getId()]||[];while(g.length){(g.shift())(e)}},each:function(e,g){return Ext.Object.each(this.all,e,g)},getCount:function(){return this.count},getAll:function(){return Ext.Object.getValues(this.all)},getActiveComponent:function(){return Ext.Component.fromElement(Ext.dom.Element.getActiveElement())},onGlobalFocus:function(m){var q=this,s=m.toElement,e=m.fromElement,n=Ext.Component.fromElement(s),t=Ext.Component.fromElement(e),r,p;if(n===t){return}r=q.getCommonAncestor(t,n);if(t&&!(t.destroyed||t.destroying)){if(t.handleBlurEvent){t.handleBlurEvent(m)}for(p=t;p&&p!==r;p=p.getRefOwner()){if(!(p.destroyed||p.destroying)){p.onFocusLeave({event:m.event,type:"focusleave",target:e,relatedTarget:s,fromComponent:t,toComponent:n})}}}if(n&&!n.destroyed){if(n.handleFocusEvent){n.handleFocusEvent(m)}for(p=n;p&&p!==r;p=p.getRefOwner()){p.onFocusEnter({event:m.event,type:"focusenter",relatedTarget:e,target:s,fromComponent:t,toComponent:n})}}},getCommonAncestor:function(e,g){if(e===g){return e}while(e&&!(e.isAncestor(g)||e===g)){e=e.getRefOwner()}return e},privates:{clearAll:function(){this.all={};this.references={};this.onAvailableCallbacks={}},fromElement:function(u,s,t){var p=Ext.getDom(u),v=this.all,r=0,m,q,n;if(typeof s!=="number"){m=Ext.getDom(s);s=Number.MAX_VALUE}while(p&&p.nodeType===1&&r<s&&p!==m){q=p.getAttribute("data-componentid")||p.id;if(q){n=v[q];if(n&&(!t||Ext.ComponentQuery.is(n,t))){return n}r++}p=p.parentNode}return null}},deprecated:{5:{methods:{isRegistered:null,registerType:null}}}},1,0,0,0,0,0,[Ext,"ComponentManager",Ext,"ComponentMgr"],function(){Ext.getCmp=function(d){return Ext.ComponentManager.get(d)}}));Ext.ns("Ext.util").Operators={"=":function(g,e){return g==e},"!=":function(g,e){return g!=e},"^=":function(g,e){return g&&g.substr(0,e.length)==e},"$=":function(g,e){return g&&g.substr(g.length-e.length)==e},"*=":function(g,e){return g&&g.indexOf(e)!==-1},"%=":function(g,e){return(g%e)===0},"|=":function(g,e){return g&&(g==e||g.substr(0,e.length+1)==e+"-")},"~=":function(g,e){return g&&(" "+g+" ").indexOf(" "+e+" ")!=-1}};(Ext.cmd.derive("Ext.util.LruCache",Ext.util.HashMap,{config:{maxSize:null},add:function(m,i){var j=this,k,l;j.removeAtKey(m);l=j.last;k={prev:l,next:null,key:m,value:i};if(l){l.next=k}else{j.first=k}j.last=k;Ext.util.HashMap.prototype.add.call(this,m,k);j.prune();return i},insertBefore:function(n,j,m){var k=this,p,l;if(m=this.map[this.findKey(m)]){p=k.findKey(j);if(p){k.unlinkEntry(l=k.map[p])}else{l={prev:m.prev,next:m,key:n,value:j}}if(m.prev){l.prev.next=l}else{k.first=l}l.next=m;m.prev=l;k.prune();return j}else{return k.add(n,j)}},get:function(g){var e=this.map[g];if(e){if(e.next){this.moveToEnd(e)}return e.value}},removeAtKey:function(d){this.unlinkEntry(this.map[d]);return Ext.util.HashMap.prototype.removeAtKey.apply(this,arguments)},clear:function(d){this.first=this.last=null;return Ext.util.HashMap.prototype.clear.call(this,d)},unlinkEntry:function(d){if(d){if(d.next){d.next.prev=d.prev}else{this.last=d.prev}if(d.prev){d.prev.next=d.next}else{this.first=d.next}d.prev=d.next=null}},moveToEnd:function(d){this.unlinkEntry(d);if(d.prev=this.last){this.last.next=d}else{this.first=d}this.last=d},getArray:function(g){var i=[],h=this.first;while(h){i.push(g?h.key:h.value);h=h.next}return i},each:function(m,n,p){var j=this,k=p?j.last:j.first,l=j.length;n=n||j;while(k){if(m.call(n,k.key,k.value,l)===false){break}k=p?k.prev:k.next}return j},findKey:function(h){var i,g=this.map;for(i in g){if(g.hasOwnProperty(i)&&g[i].value===h){return i}}return undefined},clone:function(){var i=new this.self(this.initialConfig),g=this.map,h;i.suspendEvents();for(h in g){if(g.hasOwnProperty(h)){i.add(h,g[h].value)}}i.resumeEvents();return i},prune:function(){var h=this,i=h.getMaxSize(),g=i?(h.length-i):0;if(g>0){for(;h.first&&g;g--){h.removeAtKey(h.first.key)}}},destroy:function(){this.first=this.last=null;Ext.util.HashMap.prototype.destroy.call(this)}},0,0,0,0,0,0,[Ext.util,"LruCache"],0));(Ext.cmd.derive("Ext.ComponentQuery",Ext.Base,{singleton:true},0,0,0,0,0,0,[Ext,"ComponentQuery"],function(){var I=this,w=Ext.util.Operators,E=/(\d*)n\+?(\d*)/,J=/\D/,C=/^(\s)+/,D=/\\(.)/g,B=new Ext.util.LruCache({maxSize:100}),A=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),z=function(c,d){return d.method.apply(this,[c].concat(d.args))},N=function(j,h){var e=[],g=0,i=j.length,d,c=h!==">";for(;g<i;g++){d=j[g];if(d.getRefItems){e=e.concat(d.getRefItems(c))}}return e},H=function(d){var e=[],h=0,c=d.length,g;for(;h<c;h++){g=d[h];while(!!(g=g.getRefOwner())){e.push(g)}}return e},K=function(d,h,j){if(h==="*"){return d.slice()}else{var e=[],i=0,c=d.length,g;for(;i<c;i++){g=d[i];if(g.isXType(h,j)){e.push(g)}}return e}},M=function(q,p,h,i){var j=[],r=0,k=q.length,m,e,n,l,c,d,g;if(p.charAt(0)==="@"){m=true;p=p.substr(1)}if(p.charAt(0)==="?"){m=true;e=true;p=p.substr(1)}for(;r<k;r++){n=q[r];g=n.getConfigurator&&n.self.$config.configs[p];if(g){l=n[g.names.get]()}else{if(m&&!n.hasOwnProperty(p)){continue}else{l=n[p]}}if(e){j.push(n)}else{if(h==="~="){if(l){if(!Ext.isArray(l)){l=l.split(" ")}for(c=0,d=l.length;c<d;c++){if(w[h](Ext.coerce(l[c],i),i)){j.push(n);break}}}}else{if(h==="/="){if(l!=null&&i.test(l)){j.push(n)}}else{if(!i?!!n[p]:w[h](Ext.coerce(l,i),i)){j.push(n)}}}}}return j},G=function(d,i){var e=[],h=0,c=d.length,g;for(;h<c;h++){g=d[h];if(g.getItemId()===i){e.push(g)}}return e},x=function(d,c,e){return I.pseudos[c](d,e)},F=/^(\s?([>\^])\s?|\s|$)/,y=/^(#)?((?:\\\.|[\w\-])+|\*)(?:\((true|false)\))?/,L=[{re:/^\.((?:\\\.|[\w\-])+)(?:\((true|false)\))?/,method:K,argTransform:function(c){if(c[1]!==undefined){c[1]=c[1].replace(D,"$1")}return c.slice(1)}},{re:/^(?:\[((?:[@?$])?[\w\-]*)\s*(?:([\^$*~%!\/]?=)\s*(['"])?((?:\\\]|.)*?)\3)?(?!\\)\])/,method:M,argTransform:function(g){var e=g[0],d=g[1],c=g[2],i=g[4],h;if(i!==undefined){i=i.replace(D,"$1")}if(c==="/="){h=B.get(i);if(h){i=h}else{i=B.add(i,new RegExp(i))}}return[d,c,i]}},{re:/^#((?:\\\.|[\w\-])+)/,method:G},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:x,argTransform:function(c){if(c[2]!==undefined){c[2]=c[2].replace(D,"$1")}return c.slice(1)}},{re:/^(?:\{([^\}]+)\})/,method:A}];I.Query=Ext.extend(Object,{constructor:function(c){c=c||{};Ext.apply(this,c)},execute:function(i){var g=this.operations,d=[],h,c,e;for(c=0,e=g.length;c<e;c++){h=g[c];d=d.concat(this._execute(i,h))}return d},_execute:function(d,g){var c=0,i=g.length,h,e;if(!d){e=Ext.ComponentManager.getAll()}else{if(Ext.isIterable(d)){e=d}else{if(d.isMixedCollection){e=d.items}}}for(;c<i;c++){h=g[c];if(h.mode==="^"){e=H(e||[d])}else{if(h.mode){e=N(e||[d],h.mode)}else{e=z(e||N([d]),h)}}if(c===i-1){return e}}return[]},is:function(g){var i=this.operations,d=false,e=i.length,h,c;if(e===0){return true}for(c=0;c<e;c++){h=i[c];d=this._is(g,h);if(d){return d}}return false},_is:function(m,k){var d=k.length,j=[m],i,g,h,e,c,l;for(g=d-1;g>=0;--g){i=k[g];e=i.mode;if(e){if(e==="^"){j=N(j," ")}else{if(e===">"){c=[];for(h=0,d=j.length;h<d;++h){l=j[h].getRefOwner();if(l){c.push(l)}}j=c}else{j=H(j)}}if(j.length===0){return false}}else{j=z(j,i);if(j.length===0){return false}}}return true},getMatches:function(e,c){var d=c.length,g;for(g=0;g<d;++g){e=z(e,c[g]);if(e.length===0){break}}return e},isMultiMatch:function(){return this.operations.length>1}});Ext.apply(I,{cache:new Ext.util.LruCache({maxSize:100}),pseudos:{not:function(h,e){var d=0,j=h.length,g=[],i=-1,c;for(;d<j;++d){c=h[d];if(!I.is(c,e)){g[++i]=c}}return g},first:function(c){var d=[];if(c.length>0){d.push(c[0])}return d},last:function(e){var d=e.length,c=[];if(d>0){c.push(e[d-1])}return c},focusable:function(d){var e=d.length,g=[],h=0,c;for(;h<e;h++){c=d[h];if(c.isFocusable&&c.isFocusable()){g.push(c)}}return g},"nth-child":function(d,c){var l=[],j=E.exec(c==="even"&&"2n"||c==="odd"&&"2n+1"||!J.test(c)&&"n+"+c||c),g=(j[1]||1)-0,e=j[2]-0,h,k,i;for(h=0;k=d[h];h++){i=h+1;if(g===1){if(e===0||i===e){l.push(k)}}else{if((i+e)%g===0){l.push(k)}}}return l},scrollable:function(d){var e=d.length,g=[],h=0,c;for(;h<e;h++){c=d[h];if(c.scrollable||c._scrollable){g.push(c)}}return g}},query:function(k,c){if(!k){return Ext.ComponentManager.all.getArray()}var i=[],l=[],e={},g=I.cache.get(k),h,d,j;if(!g){g=I.cache.add(k,I.parse(k))}i=g.execute(c);if(g.isMultiMatch()){h=i.length;for(j=0;j<h;j++){d=i[j];if(!e[d.id]){l.push(d);e[d.id]=true}}i=l}return i},visitPreOrder:function(e,h,d,g,c){I._visit(true,e,h,d,g,c)},visitPostOrder:function(e,h,d,g,c){I._visit(false,e,h,d,g,c)},_visit:function(m,j,n,p,l,e){var c=I.cache.get(j),g=[n],k,d=0,h,i;if(!c){c=I.cache.add(j,I.parse(j))}i=c.is(n);if(n.getRefItems){k=n.getRefItems();d=k.length}if(e){Ext.Array.push(g,e)}if(m){if(i){if(p.apply(l||n,g)===false){return false}}}for(h=0;h<d;h++){if(I._visit.call(I,m,j,k[h],p,l,e)===false){return false}}if(!m){if(i){if(p.apply(l||n,g)===false){return false}}}},is:function(c,d){if(!d){return true}var e=I.cache.get(d);if(!e){e=I.cache.add(d,I.parse(d))}return e.is(c)},parse:function(d){var i=[],c,h,g,e;c=Ext.splitAndUnescape(d,",");for(g=0,e=c.length;g<e;g++){h=Ext.String.trim(c[g]);i.push(I._parse(h))}return new I.Query({operations:i})},_parse:function(d){var l=[],g=Ext.String.trim,j=L.length,p,c,e,n,k,i,h,s,r,m,q;while(d&&p!==d){p=d;c=d.match(y);if(c){n=c[1];e=g(c[2]).replace(D,"$1");if(n==="#"){l.push({method:G,args:[e]})}else{l.push({method:K,args:[e,Boolean(c[3])]})}d=d.replace(c[0],"").replace(C,"$1")}while(!(k=d.match(F))){for(s=0;d&&s<j;s++){r=L[s];i=d.match(r.re);m=r.method;h=r.argTransform;if(i){if(h){q=h(i)}else{q=i.slice(1)}l.push({method:Ext.isString(r.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[m].concat(i.slice(1)))):r.method,args:q});d=d.replace(i[0],"").replace(C,"$1");break}if(s===(j-1)){Ext.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}}}if(k[1]){l.push({mode:k[2]||k[1]});d=d.replace(k[0],"").replace(C,"")}}return l}});Ext.all=function(){return I.query.apply(I,arguments)};Ext.first=function(){var c=I.query.apply(I,arguments);return(c&&c[0])||null}}));(Ext.cmd.derive("Ext.Evented",Ext.Base,{alternateClassName:"Ext.EventedBase",initialized:false,constructor:function(d){this.mixins.observable.constructor.call(this,d);this.initialized=true},onClassExtended:function(n,k){if(!k.hasOwnProperty("eventedConfig")){return}var l=k.config,j=k.eventedConfig,m,p;if(l){Ext.applyIf(l,j)}else{n.addConfig(j)}for(m in j){if(j.hasOwnProperty(m)){p=Ext.Config.get(m);k[p.names.set]=p.eventedSetter||p.getEventedSetter()}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext,"Evented",Ext,"EventedBase"],0));(Ext.cmd.derive("Ext.util.Positionable",Ext.Base,{mixinId:"positionable",_positionTopLeft:["position","top","left"],_alignRe:/^([a-z]+)-([a-z]+)([?!])?$/,afterSetPosition:Ext.emptyFn,adjustForConstraints:function(g,h){var i=this.getConstrainVector(h,g);if(i){g[0]+=i[0];g[1]+=i[1]}return g},alignTo:function(m,p,j,n){var k=this,l=k.el;return k.setXY(k.getAlignToXY(m,p,j),l.anim&&!!n?l.anim(n):false)},calculateAnchorXY:function(w,u,v,y){var t=this,z=t.el,s=document,x=(z.dom===s.body||z.dom===s),r=Math.round,q,A,B;w=(w||"tl").toLowerCase();y=y||{};A=y.width||(x?Ext.Element.getViewportWidth():t.getWidth());B=y.height||(x?Ext.Element.getViewportHeight():t.getHeight());switch(w){case"tl":q=[0,0];break;case"bl":q=[0,B];break;case"tr":q=[A,0];break;case"c":q=[r(A*0.5),r(B*0.5)];break;case"t":q=[r(A*0.5),0];break;case"l":q=[0,r(B*0.5)];break;case"r":q=[A,r(B*0.5)];break;case"b":q=[r(A*0.5),B];break;case"tc":q=[r(A*0.5),0];break;case"bc":q=[r(A*0.5),B];break;case"br":q=[A,B]}return[q[0]+u,q[1]+v]},convertPositionSpec:Ext.identityFn,getAlignToXY:function(P,J,T){var H=this,U,M,X,R,E,S,D,y,G,F,x,I,K,W,V,Q,N,L,O;P=Ext.get(P.el||P);if(!P||!P.dom){}T=T||[0,0];J=(!J||J==="?"?"tl-bl?":(!(/-/).test(J)&&J!==""?"tl-"+J:J||"tl-bl")).toLowerCase();J=H.convertPositionSpec(J);X=J.match(H._alignRe);I=X[1];K=X[2];x=!!X[3];R=H.getAnchorXY(I,true);E=H.getAnchorToXY(P,K,false);L=E[0]-R[0]+T[0];O=E[1]-R[1]+T[1];if(x){if(X[3]==="!"){U=P}else{U=H.constrainTo||H.container||H.el.parent()}U=Ext.get(U.el||U);M=U.getConstrainRegion();M.right=M.left+U.el.dom.clientWidth;S=H.getWidth();D=H.getHeight();y=P.getRegion();W=I.charAt(0);V=I.charAt(I.length-1);Q=K.charAt(0);N=K.charAt(K.length-1);G=(L<y.right&&L+S>=y.left)&&((W=="t"&&Q=="b")||(W=="b"&&Q=="t"));F=(O<y.bottom&&O+D>=y.top)&&((V=="r"&&N=="l")||(V=="l"&&N=="r"));if(L+S>M.right){if(F){L=y.left-S;F=false}else{L=M.right-S}}if(L<M.left){L=F?y.right:M.left}if(O+D>M.bottom){if(G){O=y.top-D;G=false}else{O=M.bottom-D}}if(O<M.top){O=G?y.bottom:M.top}}return[L,O]},getAnchorXY:function(w,s,y){var t=this,r=t.getXY(),z=t.el,p=document,x=z.dom==p.body||z.dom==p,q=z.getScroll(),u=x?q.left:s?0:r[0],v=x?q.top:s?0:r[1];return t.calculateAnchorXY(w,u,v,y)},getBox:function(w,t){var v=this,h=t?v.getLocalXY():v.getXY(),s=h[0],u=h[1],r=v.getWidth(),y=v.getHeight(),x,z,q;if(w){x=v.getBorderPadding();z=x.beforeX;q=x.beforeY;s+=z;u+=q;r-=(z+x.afterX);y-=(q+x.afterY)}return{x:s,left:s,0:s,y:u,top:u,1:u,width:r,height:y,right:s+r,bottom:u+y}},calculateConstrainedPosition:function(x,C,t,A){var u=this,B,w=u.floatParent,z=w?w.getTargetEl():null,D,y,v,r=false,s;if(t&&w){D=z.getXY();y=z.getBorderPadding();D[0]+=y.beforeX;D[1]+=y.beforeY;if(C){v=[C[0]+D[0],C[1]+D[1]]}}else{v=C}x=x||u.constrainTo||z||u.container||u.el.parent();if(t&&v){v=u.reverseTranslateXY(v)}B=((u.constrainHeader&&u.header.rendered)?u.header:u).getConstrainVector(x,v,A);if(B){r=C||u.getPosition(t);r[0]+=B[0];r[1]+=B[1]}return r},getConstrainRegion:function(){var t=this,x=t.el,z=x.dom.nodeName==="BODY",v=x.dom,u=x.getBorders(),s=x.getXY(),w=s[0]+u.beforeX,r=s[1]+u.beforeY,q,y,p;if(z){q=x.getScroll();w=q.left;r=q.top;y=Ext.Element.getViewportWidth();p=Ext.Element.getViewportHeight()}else{y=v.clientWidth;p=v.clientHeight}return new Ext.util.Region(r,w+y,r+p,w)},getConstrainVector:function(p,t,r){var v=this.getRegion(),s=[0,0],u=(this.shadow&&this.constrainShadow&&!this.shadowDisabled)?this.shadow.getShadowSize():undefined,m=false,n,q=this.constraintInsets;if(!(p instanceof Ext.util.Region)){p=Ext.get(p.el||p);n=p.getViewSize();p=p.getConstrainRegion();p.right=p.left+n.width;p.bottom=p.top+n.height}if(q){q=Ext.isObject(q)?q:Ext.Element.parseBox(q);p.adjust(q.top,q.right,q.bottom,q.left)}if(t){v.translateBy(t[0]-v.x,t[1]-v.y)}if(r){v.right=v.left+r[0];v.bottom=v.top+r[1]}if(u){p.adjust(u[0],-u[1],-u[2],u[3])}if(v.right>p.right){m=true;s[0]=(p.right-v.right)}if(v.left+s[0]<p.left){m=true;s[0]=(p.left-v.left)}if(v.bottom>p.bottom){m=true;s[1]=(p.bottom-v.bottom)}if(v.top+s[1]<p.top){m=true;s[1]=(p.top-v.top)}return m?s:false},getOffsetsTo:function(i){var e=this.getXY(),h=Ext.fly(i.el||i).getXY();return[e[0]-h[0],e[1]-h[1]]},getRegion:function(){var d=this.getBox();return new Ext.util.Region(d.top,d.right,d.bottom,d.left)},getClientRegion:function(){var j=this,k,i=j.getBox(),h=j.dom;k=h.offsetWidth-h.clientWidth;if(k){if(j.getStyle("direction")==="rtl"){i.left+=k}else{i.right-=k}}k=h.offsetHeight-h.clientHeight;if(k){i.bottom-=k}return new Ext.util.Region(i.top,i.right,i.bottom,i.left)},getViewRegion:function(){var s=this,v=s.el,x=v.dom.nodeName==="BODY",t,p,r,q,u,w,n;if(x){p=v.getScroll();u=p.left;q=p.top;w=Ext.Element.getViewportWidth();n=Ext.Element.getViewportHeight()}else{t=s.getBorderPadding();r=s.getXY();u=r[0]+t.beforeX;q=r[1]+t.beforeY;w=s.getWidth(true);n=s.getHeight(true)}return new Ext.util.Region(q,u+w,q+n,u)},move:function(t,A,z){var w=this,q=w.getXY(),s=q[0],u=q[1],y=[s-A,u],r=[s+A,u],v=[s,u-A],B=[s,u+A],x={l:y,left:y,r:r,right:r,t:v,top:v,up:v,b:B,bottom:B,down:B};t=t.toLowerCase();w.setXY([x[t][0],x[t][1]],z)},setBox:function(i){var j=this,k,h;if(i.isRegion){i={x:i.left,y:i.top,width:i.right-i.left,height:i.bottom-i.top}}j.constrainBox(i);k=i.x;h=i.y;j.setXY([k,h]);j.setSize(i.width,i.height);j.afterSetPosition(k,h);return j},constrainBox:function(j){var k=this,l,m,i;if(k.constrain||k.constrainHeader){m=("x" in j)?j.x:j.left;i=("y" in j)?j.y:j.top;l=k.calculateConstrainedPosition(null,[m,i],false,[j.width,j.height]);if(l){j.x=l[0];j.y=l[1]}}},translatePoints:function(i,g){var h=this.translateXY(i,g);return{left:h.x,top:h.y}},translateXY:function(p,r){var s=this,u=s.el,n=u.getStyle(s._positionTopLeft),v=n.position==="relative",t=parseFloat(n.left),q=parseFloat(n.top),m=s.getXY();if(Ext.isArray(p)){r=p[1];p=p[0]}if(isNaN(t)){t=v?0:u.dom.offsetLeft}if(isNaN(q)){q=v?0:u.dom.offsetTop}t=(typeof p==="number")?p-m[0]+t:undefined;q=(typeof r==="number")?r-m[1]+q:undefined;return{x:t,y:q}},reverseTranslateXY:function(n){var q=n,v=this.el,p=[],u=v.dom,w=u.offsetParent,x,t,r,s;if(w){x=v.isStyle("position","relative"),t=Ext.fly(w).getXY(),r=n[0]+t[0]+w.clientLeft;s=n[1]+t[1]+w.clientTop;if(x){r+=v.getPadding("l");s+=v.getPadding("t")}q=[r,s]}return q}},0,0,0,0,0,0,[Ext.util,"Positionable"],0));Ext.define("Ext.overrides.util.Positionable",{override:"Ext.util.Positionable",anchorTo:function(r,t,w,x,p,n){var s=this,q=!Ext.isEmpty(p),v=function(){s.alignTo(r,t,w,x);Ext.callback(n,s)},u=s.getAnchor();s.removeAnchor();Ext.apply(u,{fn:v,scroll:q});Ext.on("resize",v,null);if(q){Ext.getWin().on("scroll",v,null,{buffer:!isNaN(p)?p:50})}v();return s},getAnchor:function(){var h=this.el,g,i;if(!h.dom){return}g=h.getData();i=g._anchor;if(!i){i=g._anchor={}}return i},removeAnchor:function(){var d=this.getAnchor();if(d&&d.fn){Ext.un("resize",d.fn);if(d.scroll){Ext.getWin().on("scroll",d.fn)}delete d.fn}return this},setBox:function(g,i){var h=this;if(g.isRegion){g={x:g.left,y:g.top,width:g.right-g.left,height:g.bottom-g.top}}if(i){h.constrainBox(g);h.animate(Ext.applyIf({to:g,listeners:{afteranimate:Ext.Function.bind(h.afterSetPosition,h,[g.x,g.y])}},i))}else{arguments.callee.$previous.call(this,g)}return h}});(Ext.cmd.derive("Ext.dom.UnderlayPool",Ext.Base,{constructor:function(d){this.elementConfig=d;this.cache=[]},checkOut:function(){var d=this.cache.shift();if(!d){d=Ext.Element.create(this.elementConfig);d.setVisibilityMode(2)}return d},checkIn:function(d){this.cache.push(d)},reset:function(){var g=this.cache,e=g.length;while(e--){g[e].destroy()}this.cache=[]}},1,0,0,0,0,0,[Ext.dom,"UnderlayPool"],0));(Ext.cmd.derive("Ext.dom.Underlay",Ext.Base,{constructor:function(d){Ext.apply(this,d)},beforeShow:Ext.emptyFn,getInsertionTarget:function(){return this.target},getPool:function(){return this.pool||(this.self.prototype.pool=new Ext.dom.UnderlayPool(this.elementConfig))},hide:function(){var e=this,g=e.el;if(g){g.hide();e.getPool().checkIn(g);e.el=null;e.hidden=true}},realign:function(n,p,v,m){var r=this,u=r.el,s=r.target,t=r.offsets,q=Math.max;if(u){if(n==null){n=s.getX()}if(p==null){p=s.getY()}if(v==null){v=s.getWidth()}if(m==null){m=s.getHeight()}if(t){n=n+t.x;p=p+t.y;v=q(v+t.w,0);m=q(m+t.h,0)}u.setXY([n,p]);u.setSize(v,m)}},setZIndex:function(d){this.zIndex=d;if(this.el){this.el.setStyle("z-index",d)}},show:function(){var n=this,l=n.target,j=n.zIndex,p=n.el,m=n.getInsertionTarget().dom,k;if(!p){p=n.el=n.getPool().checkOut()}n.beforeShow();if(j==null){j=(parseInt(l.getStyle("z-index"),10))}if(j){p.setStyle("z-index",j)}p.setStyle("position",n.fixed?"fixed":"");k=p.dom;if(k.nextSibling!==m){l.dom.parentNode.insertBefore(k,m)}p.show();n.realign();n.hidden=false}},1,0,0,0,0,0,[Ext.dom,"Underlay"],0));(Ext.cmd.derive("Ext.dom.Shadow",Ext.dom.Underlay,{alternateClassName:"Ext.Shadow",mode:"drop",offset:4,cls:"x-"+(!Ext.supports.CSS3BoxShadow?"ie":"css")+"-shadow",constructor:function(n){var l=this,k,m,j,p;Ext.dom.Underlay.prototype.constructor.call(this,n);l.elementConfig={cls:l.cls,role:"presentation"};j=l.offset;p=Math.floor(j/2);l.opacity=50;switch(l.mode.toLowerCase()){case"drop":k={x:0,y:0,w:j,h:j};if(Ext.supports.CSS3BoxShadow){m={x:j,y:j,h:-j,w:-j}}else{m={x:-p,y:-p,h:-p,w:-p}}break;case"sides":k={x:-j,y:0,w:j*2,h:j};if(Ext.supports.CSS3BoxShadow){m={x:0,y:j,h:-j,w:0}}else{m={x:1+p-2*j,y:-(1+p),h:-1,w:p-1}}break;case"frame":k={x:-j,y:-j,w:j*2,h:j*2};if(Ext.supports.CSS3BoxShadow){m={x:0,y:0,h:0,w:0}}else{m={x:1+p-2*j,y:1+p-2*j,h:j-p-1,w:j-p-1}}break;case"bottom":k={x:-j,y:0,w:j*2,h:j};if(Ext.supports.CSS3BoxShadow){m={x:0,y:j,h:-j,w:0}}else{m={x:0,y:j,h:0,w:0}}break}l.offsets=m;l.outerOffsets=k},getShadowSize:function(){var j=this,h=j.el?j.offset:0,k=[h,h,h,h],i=j.mode.toLowerCase();if(j.el&&i!=="frame"){k[0]=0;if(i=="drop"){k[3]=0}}return k},boxShadowProperty:(function(){var e="boxShadow",g=document.documentElement.style;if(!("boxShadow" in g)){if("WebkitBoxShadow" in g){e="WebkitBoxShadow"}else{if("MozBoxShadow" in g){e="MozBoxShadow"}}}return e}()),beforeShow:function(){var h=this,i=h.el.dom.style,g=h.shim;if(Ext.supports.CSS3BoxShadow){i[h.boxShadowProperty]="0 0 "+(h.offset+2)+"px #888"}else{i.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+h.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+(h.offset)+")"}if(g){g.realign()}},setOpacity:function(g){var e=this.el;if(e){if(Ext.isIE&&!Ext.supports.CSS3BoxShadow){g=Math.floor(g*100/2)/100}this.opacity=g;e.setOpacity(g)}}},1,0,0,0,0,0,[Ext.dom,"Shadow",Ext,"Shadow"],0));(Ext.cmd.derive("Ext.dom.Shim",Ext.dom.Underlay,{cls:"x-shim",constructor:function(d){Ext.dom.Underlay.prototype.constructor.call(this,d);this.elementConfig={tag:"iframe",cls:this.cls,role:"presentation",frameBorder:"0",src:Ext.SSL_SECURE_URL,tabindex:"-1"}},getInsertionTarget:function(){var d=this.shadow;return(d&&d.el)||this.target}},1,0,0,0,0,0,[Ext.dom,"Shim"],0));(Ext.cmd.derive("Ext.dom.ElementEvent",Ext.util.Event,{addListener:function(t,q,p,x,v){var u=this,s=false,z=u.name,y,w,r;p=p||{};if(p.delegated===false||Ext.event.publisher.Dom.instance.directEvents[z]){if(p.capture){r=u.directCaptures||(u.directCaptures=new Ext.util.Event(u.observable,z));s=r.addListener(t,q,p,x,v)}else{w=u.directs||(u.directs=new Ext.util.Event(u.observable,z));s=w.addListener(t,q,p,x,v)}}else{if(p.capture){y=u.captures||(u.captures=new Ext.util.Event(u.observable,z));s=y.addListener(t,q,p,x,v)}else{s=Ext.util.Event.prototype.addListener.call(this,t,q,p,x,v)}}return s},removeListener:function(p,q){var n=this,t=n.captures,r=n.directs,m=n.directCaptures,l=false,s=n.findListener(p,q);if(s!==-1){l=Ext.util.Event.prototype.removeListener.call(this,p,q,s)}else{if(r){s=r.findListener(p,q)}if(s!==-1){l=r.removeListener(p,q,s)}else{if(t){s=t.findListener(p,q)}if(s!==-1){l=t.removeListener(p,q,s)}else{if(m){s=m.findListener(p,q);if(s!==-1){l=m.removeListener(p,q,s)}}}}}return l},clearListeners:function(){var i=this,h=i.directCaptures,j=i.directs,k=i.captures;if(h){h.clearListeners()}if(j){j.clearListeners()}if(k){k.clearListeners()}Ext.util.Event.prototype.clearListeners.call(this)},suspend:function(){var i=this,h=i.directCaptures,j=i.directs,k=i.captures;if(h){h.suspend()}if(j){j.suspend()}if(k){k.suspend()}Ext.util.Event.prototype.suspend.call(this)},resume:function(){var i=this,h=i.directCaptures,j=i.directs,k=i.captures;if(h){h.resume()}if(j){j.resume()}if(k){k.resume()}Ext.util.Event.prototype.resume.call(this)}},0,0,0,0,0,0,[Ext.dom,"ElementEvent"],0));(Ext.cmd.derive("Ext.event.publisher.Publisher",Ext.Base,{handledEvents:[],statics:{publishers:{},publishersByEvent:{}},constructor:function(){var e=this,g=e.type;e.handles={};e.registerEvents();Ext.event.publisher.Publisher.publishers[g]=e},registerEvents:function(m){var i=this,n=Ext.event.publisher.Publisher.publishersByEvent,q=m||i.handledEvents,l=q.length,r,p;for(p=0;p<l;p++){r=q[p];i.handles[r]=1;n[r]=i}},fire:function(i,k,j){var h;if(i.hasListeners[k]){h=i.events[k];if(h){h.fire.apply(h,j)}}}},1,0,0,0,0,0,[Ext.event.publisher,"Publisher"],0));(Ext.cmd.derive("Ext.util.Offset",Ext.Base,{statics:{fromObject:function(d){return new this(d.x,d.y)}},constructor:function(g,e){this.x=(g!=null&&!isNaN(g))?g:0;this.y=(e!=null&&!isNaN(e))?e:0;return this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(d){this.x=d.x;this.y=d.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(d){return(this.x==d.x&&this.y==d.y)},round:function(e){if(!isNaN(e)){var g=Math.pow(10,e);this.x=Math.round(this.x*g)/g;this.y=Math.round(this.y*g)/g}else{this.x=Math.round(this.x);this.y=Math.round(this.y)}},isZero:function(){return this.x==0&&this.y==0}},3,0,0,0,0,0,[Ext.util,"Offset"],0));(Ext.cmd.derive("Ext.util.Region",Ext.Base,{isRegion:true,statics:{getRegion:function(d){return Ext.fly(d).getRegion()},from:function(d){return new this(d.top,d.right,d.bottom,d.left)}},constructor:function(i,l,m,j){var k=this;k.y=k.top=k[1]=i;k.right=l;k.bottom=m;k.x=k.left=k[0]=j},contains:function(e){var g=this;return(e.x>=g.x&&e.right<=g.right&&e.y>=g.y&&e.bottom<=g.bottom)},intersect:function(j){var k=this,m=Math.max(k.y,j.y),l=Math.min(k.right,j.right),p=Math.min(k.bottom,j.bottom),n=Math.max(k.x,j.x);if(p>m&&l>n){return new this.self(m,l,p,n)}else{return false}},union:function(j){var k=this,m=Math.min(k.y,j.y),l=Math.max(k.right,j.right),p=Math.max(k.bottom,j.bottom),n=Math.min(k.x,j.x);return new this.self(m,l,p,n)},constrainTo:function(h){var i=this,g=Ext.Number.constrain;i.top=i.y=g(i.top,h.y,h.bottom);i.bottom=g(i.bottom,h.y,h.bottom);i.left=i.x=g(i.left,h.x,h.right);i.right=g(i.right,h.x,h.right);return i},adjust:function(i,l,m,j){var k=this;k.top=k.y+=i;k.left=k.x+=j;k.right+=l;k.bottom+=m;return k},getOutOfBoundOffset:function(i,h){if(!Ext.isObject(i)){if(i=="x"){return this.getOutOfBoundOffsetX(h)}else{return this.getOutOfBoundOffsetY(h)}}else{h=i;var d=new Ext.util.Offset();d.x=this.getOutOfBoundOffsetX(h.x);d.y=this.getOutOfBoundOffsetY(h.y);return d}},getOutOfBoundOffsetX:function(d){if(d<=this.x){return this.x-d}else{if(d>=this.right){return this.right-d}}return 0},getOutOfBoundOffsetY:function(d){if(d<=this.y){return this.y-d}else{if(d>=this.bottom){return this.bottom-d}}return 0},isOutOfBound:function(g,e){if(!Ext.isObject(g)){if(g=="x"){return this.isOutOfBoundX(e)}else{return this.isOutOfBoundY(e)}}else{e=g;return(this.isOutOfBoundX(e.x)||this.isOutOfBoundY(e.y))}},isOutOfBoundX:function(d){return(d<this.x||d>this.right)},isOutOfBoundY:function(d){return(d<this.y||d>this.bottom)},restrict:function(j,h,k){if(Ext.isObject(j)){var i;k=h;h=j;if(h.copy){i=h.copy()}else{i={x:h.x,y:h.y}}i.x=this.restrictX(h.x,k);i.y=this.restrictY(h.y,k);return i}else{if(j=="x"){return this.restrictX(h,k)}else{return this.restrictY(h,k)}}},restrictX:function(e,g){if(!g){g=1}if(e<=this.x){e-=(e-this.x)*g}else{if(e>=this.right){e-=(e-this.right)*g}}return e},restrictY:function(e,g){if(!g){g=1}if(e<=this.y){e-=(e-this.y)*g}else{if(e>=this.bottom){e-=(e-this.bottom)*g}}return e},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(e){var g=this;g.top=g.y=g[1]=e.y;g.right=e.right;g.bottom=e.bottom;g.left=g.x=g[0]=e.x;return this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(i,g){if(arguments.length==1){g=i.y;i=i.x}var h=this;h.top=h.y+=g;h.right+=i;h.bottom+=g;h.left=h.x+=i;return h},round:function(){var d=this;d.top=d.y=Math.round(d.y);d.right=Math.round(d.right);d.bottom=Math.round(d.bottom);d.left=d.x=Math.round(d.x);return d},equals:function(d){return(this.top===d.top&&this.right===d.right&&this.bottom===d.bottom&&this.left===d.left)}},3,0,0,0,0,0,[Ext.util,"Region"],0));(Ext.cmd.derive("Ext.util.Point",Ext.util.Region,{radianToDegreeConstant:180/Math.PI,origin:{x:0,y:0},statics:{fromEvent:function(h){var i=h.changedTouches,e=(i&&i.length>0)?i[0]:h;return this.fromTouch(e)},fromTouch:function(d){return new this(d.pageX,d.pageY)},from:function(d){if(!d){return new this(0,0)}if(!(d instanceof this)){return new this(d.x,d.y)}return d}},constructor:function(g,e){if(g==null){g=0}if(e==null){e=0}Ext.util.Region.prototype.constructor.call(this,e,g,e,g)},clone:function(){return new this.self(this.x,this.y)},copy:function(){return this.clone.apply(this,arguments)},copyFrom:function(d){this.x=d.x;this.y=d.y;return this},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(d){return(this.x===d.x&&this.y===d.y)},isCloseTo:function(m,n){if(typeof n=="number"){return this.getDistanceTo(m)<=n}var p=m.x,j=m.y,k=n.x,l=n.y;return(this.x<=p+k&&this.x>=p-k&&this.y<=j+l&&this.y>=j-l)},isWithin:function(){return this.isCloseTo.apply(this,arguments)},isContainedBy:function(d){if(!(d instanceof Ext.util.Region)){d=Ext.get(d.el||d).getRegion()}return d.contains(this)},roundedEquals:function(d){if(!d||typeof d!=="object"){d=this.origin}return(Math.round(this.x)===Math.round(d.x)&&Math.round(this.y)===Math.round(d.y))},getDistanceTo:function(h){if(!h||typeof h!=="object"){h=this.origin}var g=this.x-h.x,i=this.y-h.y;return Math.sqrt(g*g+i*i)},getAngleTo:function(h){if(!h||typeof h!=="object"){h=this.origin}var g=this.x-h.x,i=this.y-h.y;return Math.atan2(i,g)*this.radianToDegreeConstant}},3,0,0,0,0,0,[Ext.util,"Point"],function(){this.prototype.translate=this.prototype.translateBy}));(Ext.cmd.derive("Ext.event.Event",Ext.Base,{alternateClassName:"Ext.EventObjectImpl",isStopped:false,defaultPrevented:false,isEvent:true,statics:{resolveTextNode:function(d){return(d&&d.nodeType===3)?d.parentNode:d},pointerEvents:{pointerdown:1,pointermove:1,pointerup:1,pointercancel:1,pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerDown:1,MSPointerMove:1,MSPointerUp:1,MSPointerOver:1,MSPointerOut:1,MSPointerCancel:1,MSPointerEnter:1,MSPointerLeave:1},mouseEvents:{mousedown:1,mousemove:1,mouseup:1,mouseover:1,mouseout:1,mouseenter:1,mouseleave:1},clickEvents:{click:1,dblclick:1},touchEvents:{touchstart:1,touchmove:1,touchend:1,touchcancel:1},focusEvents:{focus:1,blur:1,focusin:1,focusout:1,focusenter:1,focusleave:1},pointerTypes:{2:"touch",3:"pen",4:"mouse",touch:"touch",pen:"pen",mouse:"mouse"}},constructor:function(u){var q=this,m=q.self,r=q.self.resolveTextNode,n=u.changedTouches,t=n?n[0]:u,p=u.type,v,s;q.pageX=t.pageX;q.pageY=t.pageY;q.target=q.delegatedTarget=r(u.target);s=u.relatedTarget;if(s){q.relatedTarget=r(s)}q.browserEvent=q.event=u;q.type=p;q.button=u.button||0;q.shiftKey=u.shiftKey;q.ctrlKey=u.ctrlKey||u.metaKey||false;q.altKey=u.altKey;q.charCode=u.charCode;q.keyCode=u.keyCode;q.buttons=u.buttons;if(q.button===0&&q.buttons===0){q.buttons=1}if(m.forwardTab!==undefined&&m.focusEvents[p]){q.forwardTab=m.forwardTab}if(m.mouseEvents[p]||m.clickEvents[p]){v="mouse"}else{if(m.pointerEvents[p]){v=m.pointerTypes[u.pointerType]}else{if(m.touchEvents[p]){v="touch"}}}if(v){q.pointerType=v}q.timeStamp=q.time=+(u.timeStamp||new Date())},chain:function(g){var e=Ext.Object.chain(this);e.parentEvent=this;return Ext.apply(e,g)},correctWheelDelta:function(g){var h=this.WHEEL_SCALE,i=Math.round(g/h);if(!i&&g){i=(g<0)?-1:1}return i},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.keyCode||this.charCode},getKeyName:function(){return this.keyCodes[this.keyCode]},getPoint:function(){var d=this.getXY();return new Ext.util.Point(d[0],d[1])},getRelatedTarget:function(l,i,m){var k=this.relatedTarget,j=null;if(k){if(l){j=Ext.fly(k).findParent(l,i,m)}else{j=m?Ext.get(k):k}}return j},getTarget:function(h,g,i){return h?Ext.fly(this.target).findParent(h,g,i):(i?Ext.get(this.target):this.target)},getTime:function(){return this.time},getWheelDelta:function(){var d=this.getWheelDeltas();return d.y},getWheelDeltas:function(){var h=this,i=h.browserEvent,j=0,k=0;if(Ext.isDefined(i.wheelDeltaX)){j=i.wheelDeltaX;k=i.wheelDeltaY}else{if(i.wheelDelta){k=i.wheelDelta}else{if(i.detail){k=-i.detail;if(k>100){k=3}else{if(k<-100){k=-3}}if(Ext.isDefined(i.axis)&&i.axis===i.HORIZONTAL_AXIS){j=k;k=0}}}}return{x:h.correctWheelDelta(j),y:h.correctWheelDelta(k)}},getX:function(){return this.getXY()[0]},getXY:function(){var p=this,m=p.xy;if(!m){m=p.xy=[p.pageX,p.pageY];var q=m[0],k,n,l,r;if(!q&&q!==0){k=p.browserEvent;n=document;l=n.documentElement;r=n.body;m[0]=k.clientX+(l&&l.scrollLeft||r&&r.scrollLeft||0)-(l&&l.clientLeft||r&&r.clientLeft||0);m[1]=k.clientY+(l&&l.scrollTop||r&&r.scrollTop||0)-(l&&l.clientTop||r&&r.clientTop||0)}}return m},getY:function(){return this.getXY()[1]},hasModifier:function(){var d=this;return !!(d.ctrlKey||d.altKey||d.shiftKey||d.metaKey)},isNavKeyPress:function(h){var i=this,k=i.keyCode,j=i.type==="keypress";return((!j||Ext.isGecko)&&k>=33&&k<=40)||(!h&&(k===i.RETURN||k===i.TAB||k===i.ESC))},isSpecialKey:function(){var h=this,j=h.keyCode,k=Ext.isGecko,i=h.type==="keypress";return(k&&i&&h.charCode===0)||(this.isNavKeyPress())||(j===h.BACKSPACE)||(j===h.ENTER)||(j>=16&&j<=20)||((!i||k)&&j>=44&&j<=46)},makeUnpreventable:function(){this.browserEvent.preventDefault=Ext.emptyFn},preventDefault:function(){var e=this,g=e.parentEvent;e.defaultPrevented=true;if(g){g.defaultPrevented=true}e.browserEvent.preventDefault();return e},setCurrentTarget:function(d){this.currentTarget=this.delegatedTarget=d},stopEvent:function(){return this.preventDefault().stopPropagation()},stopPropagation:function(){var h=this,g=h.browserEvent,i=h.parentEvent;h.isStopped=true;if(i){i.isStopped=true}if(!g.stopPropagation){g.cancelBubble=true;return h}g.stopPropagation();return h},within:function(i,h,k){var j;if(i){j=h?this.getRelatedTarget():this.getTarget()}return j?Ext.fly(i).contains(j)||!!(k&&j===Ext.getDom(i)):false},deprecated:{"4.0":{methods:{getPageX:"getX",getPageY:"getY"}}}},1,0,0,0,0,0,[Ext.event,"Event",Ext,"EventObjectImpl"],function(p){var m=p.prototype,l={BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:(function(){var c;if(Ext.isGecko){c=3}else{if(Ext.isMac){if(Ext.isSafari&&Ext.webKitVersion>=532){c=120}else{c=12}c*=3}else{c=120}}return c}())},n={},k,j;Ext.apply(p,l);Ext.apply(m,l);delete l.WHEEL_SCALE;delete l.RETURN;for(k in l){j=l[k];n[j]=k}m.keyCodes=n;m.getTrueXY=m.getXY}));Ext.define("Ext.overrides.event.Event",{override:"Ext.event.Event",mousedownEvents:{mousedown:1,pointerdown:1,touchstart:1},injectEvent:(function(){var j,i={},k;if(!Ext.isIE9m&&document.createEvent){j={createHtmlEvent:function(c,e,g,h){var d=c.createEvent("HTMLEvents");d.initEvent(e,g,h);return d},createMouseEvent:function(C,E,e,g,c,h,z,y,B,F,G,d,H){var A=C.createEvent("MouseEvents"),D=C.defaultView||window;if(A.initMouseEvent){A.initMouseEvent(E,e,g,D,c,h,z,h,z,y,B,F,G,d,H)}else{A=C.createEvent("UIEvents");A.initEvent(E,e,g);A.view=D;A.detail=c;A.screenX=h;A.screenY=z;A.clientX=h;A.clientY=z;A.ctrlKey=y;A.altKey=B;A.metaKey=G;A.shiftKey=F;A.button=d;A.relatedTarget=H}return A},createUIEvent:function(q,c,e,g,d){var r=q.createEvent("UIEvents"),h=q.defaultView||window;r.initUIEvent(c,e,g,h,d);return r},fireEvent:function(c,e,d){c.dispatchEvent(d)}}}else{if(document.createEventObject){k={0:1,1:4,2:2};j={createHtmlEvent:function(c,e,g,h){var d=c.createEventObject();d.bubbles=g;d.cancelable=h;return d},createMouseEvent:function(B,C,e,g,c,h,y,x,A,D,E,d,F){var z=B.createEventObject();z.bubbles=e;z.cancelable=g;z.detail=c;z.screenX=h;z.screenY=y;z.clientX=h;z.clientY=y;z.ctrlKey=x;z.altKey=A;z.shiftKey=D;z.metaKey=E;z.button=k[d]||d;z.relatedTarget=F;return z},createUIEvent:function(p,d,g,h,e){var c=p.createEventObject();c.bubbles=g;c.cancelable=h;return c},fireEvent:function(c,e,d){c.fireEvent("on"+e,d)}}}}Ext.Object.each({load:[false,false],unload:[false,false],select:[true,false],change:[true,false],submit:[true,true],reset:[true,false],resize:[true,false],scroll:[true,false]},function(d,c){var e=c[0],g=c[1];i[d]=function(q,h){var r=j.createHtmlEvent(d,e,g);j.fireEvent(q,d,r)}});function l(c,d){var e=(c!=="mousemove");return function(q,h){var r=h.getXY(),g=j.createMouseEvent(q.ownerDocument,c,true,e,d,r[0],r[1],h.ctrlKey,h.altKey,h.shiftKey,h.metaKey,h.button,h.relatedTarget);j.fireEvent(q,c,g)}}Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(c){i[c]=l(c,1)});Ext.Object.each({focusin:[true,false],focusout:[true,false],activate:[true,true],focus:[false,false],blur:[false,false]},function(d,c){var e=c[0],g=c[1];i[d]=function(q,h){var r=j.createUIEvent(q.ownerDocument,d,e,g,1);j.fireEvent(q,d,r)}});if(!j){i={};j={}}function m(c,d){}return function(c){var d=this,e=i[d.type]||m,g=c?(c.dom||c):d.getTarget();e(g,d)}}()),preventDefault:function(){var j=this,k=j.browserEvent,l=j.parentEvent,m,i;if(typeof k.type!=="unknown"){j.defaultPrevented=true;if(l){l.defaultPrevented=true}if(k.preventDefault){k.preventDefault()}else{if(k.type==="mousedown"){i=k.target;m=i.getAttribute("unselectable");if(m!=="on"){i.setAttribute("unselectable","on");Ext.defer(function(){i.setAttribute("unselectable",m)},1)}}k.returnValue=false;if(k.ctrlKey||k.keyCode>111&&k.keyCode<124){k.keyCode=-1}}}return j},stopPropagation:function(){var e=this,g=e.browserEvent;if(typeof g.type!=="unknown"){if(e.mousedownEvents[e.type]){Ext.GlobalEvents.fireMouseDown(e)}arguments.callee.$previous.call(this)}return e},deprecated:{"5.0":{methods:{clone:function(){return new this.self(this.browserEvent,this)}}}}},function(){var k=this,h,i=function(c){if(c.keyCode===9){k.forwardTab=!c.shiftKey}},j=function(c){if(c.keyCode===9){delete k.forwardTab}};if(Ext.isIE9m){h={0:0,1:0,4:1,2:2};k.override({statics:{enableIEAsync:function(c){var e,d={};for(e in c){d[e]=c[e]}return d}},constructor:function(d,c,g,m){var e=this;e.callParent([d,c,g,m]);e.button=h[d.button];if(d.type==="contextmenu"){e.button=2}e.toElement=d.toElement;e.fromElement=d.fromElement},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,enableIEAsync:function(c){this.browserEvent=this.self.enableIEAsync(c)},getRelatedTarget:function(n,c,p){var e=this,g,d;if(!e.relatedTarget){g=e.type;if(e.mouseLeaveRe.test(g)){d=e.toElement}else{if(e.mouseEnterRe.test(g)){d=e.fromElement}}if(d){e.relatedTarget=e.self.resolveTextNode(d)}}return e.callParent([n,c,p])}});document.attachEvent("onkeydown",i);document.attachEvent("onkeyup",j);window.attachEvent("onunload",function(){document.detachEvent("onkeydown",i);document.detachEvent("onkeyup",j)})}else{if(document.addEventListener){document.addEventListener("keydown",i,true);document.addEventListener("keyup",j,true)}}});(Ext.cmd.derive("Ext.event.publisher.Dom",Ext.event.publisher.Publisher,{type:"dom",handledDomEvents:[],reEnterCount:0,captureEvents:{animationstart:1,animationend:1,resize:1,focus:1,blur:1,scroll:1},directEvents:{mouseenter:1,mouseleave:1,pointerenter:1,pointerleave:1,MSPointerEnter:1,MSPointerLeave:1,load:1,unload:1,beforeunload:1,error:1,DOMContentLoaded:1,DOMFrameContentLoaded:1,hashchange:1},blockedPointerEvents:{pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerOver:1,MSPointerOut:1,MSPointerEnter:1,MSPointerLeave:1},blockedCompatibilityMouseEvents:{mouseenter:1,mouseleave:1},constructor:function(){var d=this;d.bubbleSubscribers={};d.captureSubscribers={};d.directSubscribers={};d.directCaptureSubscribers={};d.delegatedListeners={};d.initHandlers();Ext.onInternalReady(d.onReady,d);Ext.event.publisher.Publisher.prototype.constructor.call(this)},registerEvents:function(){var i=this,l=Ext.event.publisher.Publisher.publishersByEvent,p=i.handledDomEvents,k=p.length,m=0,n;for(;m<k;m++){n=p[m];i.handles[n]=1;l[n]=i}Ext.event.publisher.Publisher.prototype.registerEvents.call(this)},onReady:function(){var h=this,k=h.handledDomEvents,i,j;if(k){for(j=0,i=k.length;j<i;j++){h.addDelegatedListener(k[j])}}Ext.getWin().on("unload",h.destroy,h)},initHandlers:function(){var d=this;d.onDelegatedEvent=Ext.bind(d.onDelegatedEvent,d);d.onDirectEvent=Ext.bind(d.onDirectEvent,d);d.onDirectCaptureEvent=Ext.bind(d.onDirectCaptureEvent,d)},addDelegatedListener:function(d){this.delegatedListeners[d]=1;this.target.addEventListener(d,this.onDelegatedEvent,!!this.captureEvents[d])},removeDelegatedListener:function(d){delete this.delegatedListeners[d];this.target.removeEventListener(d,this.onDelegatedEvent,!!this.captureEvents[d])},addDirectListener:function(h,g,i){g.dom.addEventListener(h,i?this.onDirectCaptureEvent:this.onDirectEvent,i)},removeDirectListener:function(h,g,i){g.dom.removeEventListener(h,i?this.onDirectCaptureEvent:this.onDirectEvent,i)},subscribe:function(p,q,l,r){var n=this,m,k;if(l&&!n.directEvents[q]){m=r?n.captureSubscribers:n.bubbleSubscribers;if(!n.handles[q]&&!n.delegatedListeners[q]){n.addDelegatedListener(q)}if(m[q]){++m[q]}else{m[q]=1}}else{m=r?n.directCaptureSubscribers:n.directSubscribers;k=p.id;m=m[q]||(m[q]={});if(m[k]){++m[k]}else{m[k]=1;n.addDirectListener(q,p,r)}}},unsubscribe:function(r,q,u,m){var n=this,p,s,v,t;if(u&&!n.directEvents[q]){p=n.captureSubscribers;s=n.bubbleSubscribers;v=m?p:s;if(v[q]){--v[q]}if(!n.handles[q]&&!s[q]&&!p[q]){this.removeDelegatedListener(q)}}else{v=m?n.directCaptureSubscribers:n.directSubscribers;t=r.id;v=v[q];if(v[t]){--v[t]}if(!v[t]){delete v[t];n.removeDirectListener(q,r,m)}}},getPropagatingTargets:function(h){var i=h,j=[],k;while(i){j.push(i);k=i.parentNode;if(!k){k=i.defaultView}i=k}return j},publish:function(s,e,i){var n=this,t,q,r,p;if(Ext.isArray(e)){t=e}else{if(n.captureEvents[s]){q=Ext.cache[e.id];t=q?[q]:[]}else{t=n.getPropagatingTargets(e)}}p=t.length;if(n.captureSubscribers[s]){for(r=p;r--;){q=Ext.cache[t[r].id];if(q){n.fire(q,s,i,false,true);if(i.isStopped){break}}}}if(!i.isStopped&&n.bubbleSubscribers[s]){for(r=0;r<p;r++){q=Ext.cache[t[r].id];if(q){n.fire(q,s,i,false,false);if(i.isStopped){break}}}}},fire:function(m,n,k,e,p){var l;if(m.hasListeners[n]){l=m.events[n];if(l){if(p&&e){l=l.directCaptures}else{if(p){l=l.captures}else{if(e){l=l.directs}}}if(l){k.setCurrentTarget(m.dom);l.fire(k,k.target)}}}},onDelegatedEvent:function(d){if(Ext.elevateFunction){Ext.elevateFunction(this.doDelegatedEvent,this,[d])}else{this.doDelegatedEvent(d)}},doDelegatedEvent:function(e,i){var j=this,k=e.timeStamp;e=new Ext.event.Event(e);if(j.isEventBlocked(e)){return false}j.beforeEvent(e);Ext.frameStartTime=k;j.reEnterCount++;j.publish(e.type,e.target,e);j.reEnterCount--;if(i!==false){j.afterEvent(e)}return e},onDirectEvent:function(d){if(Ext.elevateFunction){Ext.elevateFunction(this.doDirectEvent,this,[d,false])}else{this.doDirectEvent(d,false)}},onDirectCaptureEvent:function(d){if(Ext.elevateFunction){Ext.elevateFunction(this.doDirectEvent,this,[d,true])}else{this.doDirectEvent(d,true)}},doDirectEvent:function(e,n){var l=this,k=e.currentTarget,p=e.timeStamp,m;e=new Ext.event.Event(e);if(l.isEventBlocked(e)){return}l.beforeEvent(e);Ext.frameStartTime=p;m=Ext.cache[k.id];if(m){l.reEnterCount++;l.fire(m,e.type,e,true,n);l.reEnterCount--}l.afterEvent(e)},beforeEvent:function(k){var e=k.browserEvent,m=Ext.event.publisher.Dom,l,j;if(e.type==="touchstart"){l=e.touches;if(l.length===1){j=l[0];m.lastTouchStartX=j.pageX;m.lastTouchStartY=j.pageY}}},afterEvent:function(j){var e=j.browserEvent,k=e.type,l=Ext.event.publisher.Dom,m=Ext.GlobalEvents;if(j.self.pointerEvents[k]&&j.pointerType!=="mouse"){l.lastScreenPointerEventTime=Ext.now()}if(k==="touchend"){l.lastTouchEndTime=Ext.now()}if(!this.reEnterCount&&m.hasListeners.idle&&!m.idleEventMask[k]){m.fireEvent("idle")}},isEventBlocked:function(e){var j=this,k=e.type,m=Ext.event.publisher.Dom,l=Ext.now();if(Ext.isGecko&&e.type==="click"&&e.button===2){return true}return(j.blockedPointerEvents[k]&&e.pointerType!=="mouse")||(j.blockedCompatibilityMouseEvents[k]&&(l-m.lastScreenPointerEventTime<1000))||(Ext.supports.TouchEvents&&e.self.mouseEvents[e.type]&&Math.abs(e.pageX-m.lastTouchStartX)<15&&Math.abs(e.pageY-m.lastTouchStartY)<15&&(Ext.now()-m.lastTouchEndTime)<1000)},destroy:function(){var d;for(d in this.delegatedListeners){this.removeDelegatedListener(d)}this.callParent()},reset:function(){var d=Ext.event.publisher.Dom;d.lastScreenPointerEventTime=d.lastTouchEndTime=d.lastTouchStartX=d.lastTouchStartY=undefined}},1,0,0,0,0,0,[Ext.event.publisher,"Dom"],function(j){var h=document,i=h.defaultView,k=j.prototype;if((Ext.os.is.iOS&&Ext.os.version.getMajor()<5)||Ext.browser.is.AndroidStock||!(i&&i.addEventListener)){k.target=h}else{k.target=i}j.instance=new j()}));Ext.define("Ext.overrides.event.publisher.Dom",{override:"Ext.event.publisher.Dom"},function(j){if(Ext.isIE9m){var n=document.documentElement,k=document.body,l=j.prototype,p,m;l.target=document;l.directBoundListeners={};p=function(c,d,e){c.target=c.srcElement||window;c.currentTarget=this;if(e){d.onDirectCaptureEvent(c)}else{d.onDirectEvent(c)}};m=function(c,d){c.target=c.srcElement||window;c.currentTarget=this;d.onDirectCaptureEvent(c)};j.override({addDelegatedListener:function(c){this.delegatedListeners[c]=1;this.target.attachEvent("on"+c,this.onDelegatedEvent)},removeDelegatedListener:function(c){delete this.delegatedListeners[c];this.target.detachEvent("on"+c,this.onDelegatedEvent)},addDirectListener:function(c,t,d){var i=this,h=t.dom,s=Ext.Function.bind(p,h,[i,d],true),g=i.directBoundListeners,e=g[c]||(g[c]={});e[h.id]=s;if(h.attachEvent){h.attachEvent("on"+c,s)}else{i.callParent(arguments)}},removeDirectListener:function(e,d){var c=d.dom;if(c.detachEvent){c.detachEvent("on"+e,this.directBoundListeners[e][c.id])}else{this.callParent(arguments)}},doDelegatedEvent:function(c,d){c.target=c.srcElement||window;if(c.type==="focusin"){c.relatedTarget=c.fromElement===k||c.fromElement===n?null:c.fromElement}else{if(c.type==="focusout"){c.relatedTarget=c.toElement===k||c.toElement===n?null:c.toElement}}return this.callParent([c,d])}});Ext.apply(l.directEvents,l.captureEvents);Ext.apply(l.directEvents,{change:1,input:1,paste:1});l.captureEvents={}}});(Ext.cmd.derive("Ext.event.publisher.Gesture",Ext.event.publisher.Dom,{type:"gesture",config:{async:true},isCancelEvent:{touchcancel:1,pointercancel:1,MSPointerCancel:1},handledEvents:[],handledDomEvents:[],constructor:function(A){var v=this,z=v.handledDomEvents,q=Ext.supports,s=q.TouchEvents,r=Ext.Function,y=v.onTouchStart,B=v.onTouchMove,t=v.onTouchEnd,w=r.createAnimationFrame(v.onTouchStart,v,null,1),x=r.createAnimationFrame(v.onTouchMove,v),u=r.createAnimationFrame(v.onTouchEnd,v,null,1);v._handlers={touchstart:y,touchmove:B,touchend:t,touchcancel:t,pointerdown:y,pointermove:B,pointerup:t,pointercancel:t,MSPointerDown:y,MSPointerMove:B,MSPointerUp:t,MSPointerCancel:t,mousedown:y,mousemove:B,mouseup:t};v._asyncHandlers={touchstart:w,touchmove:x,touchend:u,touchcancel:u,pointerdown:w,pointermove:x,pointerup:u,pointercancel:u,MSPointerDown:w,MSPointerMove:x,MSPointerUp:u,MSPointerCancel:u,mousedown:w,mousemove:x,mouseup:u};v.activeTouchesMap={};v.activeTouches=[];v.changedTouches=[];v.recognizers=[];if(s){v.onTargetTouchMove=v.onTargetTouchMove.bind(v);v.onTargetTouchEnd=v.onTargetTouchEnd.bind(v)}if(q.PointerEvents){z.push("pointerdown","pointermove","pointerup","pointercancel");v.mousePointerType="mouse"}else{if(q.MSPointerEvents){z.push("MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel");v.mousePointerType=4}else{if(s){z.push("touchstart","touchmove","touchend","touchcancel")}}}if(!z.length||(s&&Ext.isWebKit&&Ext.os.is.Desktop)){z.push("mousedown","mousemove","mouseup")}v.initConfig(A);return Ext.event.publisher.Dom.prototype.constructor.call(this)},onReady:function(){Ext.event.publisher.Dom.prototype.onReady.call(this);Ext.Array.sort(this.recognizers,function(h,i){var j=h.priority,k=i.priority;return(j>k)?1:(j<k)?-1:0})},registerRecognizer:function(m){var i=this,l=m.handledEvents,j=l.length,k;m.setOnRecognized(i.onRecognized);m.setCallbackScope(i);for(k=0;k<j;k++){i.handledEvents.push(l[k])}i.registerEvents(l);i.recognizers.push(m)},onRecognized:function(u,s,x){var q=this,i=s.changedTouches,r=i.length,e,t,v,w;x=x||{};x.type=u;x.target=i[0].target;x.isStopped=false;s=s.chain(x);if(r>1){e=[];for(v=0;v<r;v++){w=i[v];e.push(w.targets)}t=q.getCommonTargets(e)}else{t=i[0].targets}q.publish(u,t,s)},getCommonTargets:function(t){var i=t[0],n=t.length;if(n===1){return i}var q=[],p=1,j,s,r;while(true){j=i[i.length-p];if(!j){return q}for(r=1;r<n;r++){s=t[r];if(s[s.length-p]!==j){return q}}q.unshift(j);p++}return q},invokeRecognizers:function(m,e){var n=this.recognizers,i=n.length,l,p;if(m==="onStart"){for(l=0;l<i;l++){n[l].isActive=true}}for(l=0;l<i;l++){p=n[l];if(p.isActive&&p[m].call(p,e)===false){p.isActive=false}}},updateTouches:function(y,E){var e=this,G=y.browserEvent,B=G.changedTouches||[G],F=e.activeTouches,x=e.activeTouchesMap,I=[],i,z,C,A,D,w,H,J;for(D=0,w=B.length;D<w;D++){i=B[D];if("identifier" in i){z=i.identifier}else{if("pointerId" in i){z=i.pointerId}else{z=1}}C=x[z];if(!C){A=Ext.event.Event.resolveTextNode(i.target);C=x[z]={identifier:z,target:A,targets:e.getPropagatingTargets(A)};F.push(C)}if(E){delete x[z];Ext.Array.remove(F,C)}H=i.pageX;J=i.pageY;C.pageX=H;C.pageY=J;C.point=new Ext.util.Point(H,J);I.push(C)}y.touches=Ext.Array.clone(F);y.changedTouches=I},doDelegatedEvent:function(e){var g=this;e=Ext.event.publisher.Dom.prototype.doDelegatedEvent.call(this,e,false);if(e){if(!e.button||e.button<1){g.handlers[e.type].call(g,e)}g.afterEvent(e)}},onTouchStart:function(e){var k=this,i=e.target,j=e.browserEvent.touches;if(e.browserEvent.type==="touchstart"){i.addEventListener("touchmove",k.onTargetTouchMove);i.addEventListener("touchend",k.onTargetTouchEnd);i.addEventListener("touchcancel",k.onTargetTouchEnd)}if(j&&j.length<=k.activeTouches.length){k.removeGhostTouches(j)}k.updateTouches(e);if(!k.isStarted){k.isStarted=true;k.invokeRecognizers("onStart",e);if(Ext.enableGarbageCollector){Ext.dom.GarbageCollector.pause()}}k.invokeRecognizers("onTouchStart",e)},onTouchMove:function(e){var h=this,i=h.mousePointerType;if(h.isStarted){if(i&&e.browserEvent.pointerType===i&&e.buttons===0){e.type=Ext.dom.Element.prototype.eventMap.touchend;e.button=0;h.onTouchEnd(e);return}h.updateTouches(e);if(e.changedTouches.length>0){h.invokeRecognizers("onTouchMove",e)}}},onTouchEnd:function(e){var g=this;if(!g.isStarted){return}g.updateTouches(e,true);g.invokeRecognizers(g.isCancelEvent[e.type]?"onTouchCancel":"onTouchEnd",e);if(!g.activeTouches.length){g.isStarted=false;g.invokeRecognizers("onEnd",e);if(Ext.enableGarbageCollector){Ext.dom.GarbageCollector.resume()}}},onTargetTouchMove:function(d){if(Ext.elevateFunction){Ext.elevateFunction(this.doTargetTouchMove,this,[d])}else{this.doTargetTouchMove(d)}},doTargetTouchMove:function(d){if(!Ext.getBody().contains(d.target)){this.onTouchMove(new Ext.event.Event(d))}},onTargetTouchEnd:function(d){if(Ext.elevateFunction){Ext.elevateFunction(this.doTargetTouchEnd,this,[d])}else{this.doTargetTouchEnd(d)}},doTargetTouchEnd:function(e){var i=this,h=e.target;h.removeEventListener("touchmove",i.onTargetTouchMove);h.removeEventListener("touchend",i.onTargetTouchEnd);h.removeEventListener("touchcancel",i.onTargetTouchEnd);if(!Ext.getBody().contains(h)){i.onTouchEnd(new Ext.event.Event(e))}},updateAsync:function(d){this.handlers=d?this._asyncHandlers:this._handlers},reset:function(){var i=this,l=i.recognizers,j=l.length,k,m;i.activeTouchesMap={};i.activeTouches=[];i.changedTouches=[];i.isStarted=false;for(k=0;k<j;k++){m=l[k];m.reset();m.isActive=false}Ext.event.publisher.Dom.prototype.reset.call(this)},privates:{removeGhostTouches:function(p){var r={},t=p.length,i=this.activeTouches,q=this.activeTouchesMap,s,m,n;for(s=0;s<t;++s){r[p[s].identifier]=true}s=i.length;while(s--){n=i[s];m=n.identifier;if(!p[m]){Ext.Array.remove(i,n);delete q[m]}}}}},1,0,0,0,0,0,[Ext.event.publisher,"Gesture"],function(d){d.instance=new d()}));Ext.define("Ext.overrides.event.publisher.Gesture",{override:"Ext.event.publisher.Gesture"},function(){if(Ext.isIE9m){this.override({updateTouches:function(i,k){var e=i.browserEvent,j=i.getXY();e.pageX=j[0];e.pageY=j[1];this.callParent([i,k])},doDelegatedEvent:function(d){this.callParent([Ext.event.Event.enableIEAsync(d)])}})}});(Ext.cmd.derive("Ext.mixin.Templatable",Ext.Mixin,{mixinConfig:{id:"templatable"},referenceAttributeName:"reference",referenceSelector:"[reference]",getElementConfig:function(){return{reference:"element"}},getElementTemplate:function(){var d=document.createDocumentFragment();d.appendChild(Ext.Element.create(this.getElementConfig(),true));return d},initElement:function(){var d=this.self.prototype;d.elementTemplate=this.getElementTemplate();d.initElement=d.doInitElement;this.initElement.apply(this,arguments)},linkElement:function(g,e){this.link(g,e)},doInitElement:function(){var i=this.referenceAttributeName,p,n,m,l,q,r;p=this.elementTemplate.cloneNode(true);n=p.querySelectorAll(this.referenceSelector);for(m=0,l=n.length;m<l;m++){q=n[m];r=q.getAttribute(i);q.removeAttribute(i);this.linkElement(r,q)}}},0,0,0,0,0,0,[Ext.mixin,"Templatable"],0));(Ext.cmd.derive("Ext.TaskQueue",Ext.Base,{singleton:true,pending:false,mode:true,constructor:function(){this.readQueue=[];this.writeQueue=[];this.run=Ext.Function.bind(this.run,this);if(Ext.os.is.iOS){Ext.interval(this.watch,500,this)}},requestRead:function(g,h,i){this.request(true);this.readQueue.push(arguments)},requestWrite:function(g,h,i){this.request(false);this.writeQueue.push(arguments)},request:function(d){if(!this.pending){this.pendingTime=Date.now();this.pending=true;this.mode=d;if(d){Ext.defer(this.run,1,this)}else{Ext.Function.requestAnimationFrame(this.run)}}},watch:function(){if(this.pending&&Date.now()-this.pendingTime>=500){this.run()}},run:function(){this.pending=false;var p=this.readQueue,t=this.writeQueue,v=null,s;if(this.mode){s=p;if(t.length>0){v=false}}else{s=t;if(p.length>0){v=true}}var w=s.slice(),u,r,x,q,i;s.length=0;for(u=0,r=w.length;u<r;u++){x=w[u];q=x[0];i=x[1];if(typeof q==="string"){q=i[q]}if(x.length>2){q.apply(i,x[2])}else{q.call(i)}}w.length=0;if(v!==null){this.request(v)}}},1,0,0,0,0,0,[Ext,"TaskQueue"],0));(Ext.cmd.derive("Ext.util.sizemonitor.Abstract",Ext.Base,{config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},width:0,height:0,contentWidth:0,contentHeight:0,constructor:function(d){this.refresh=Ext.Function.bind(this.refresh,this);this.info={width:0,height:0,contentWidth:0,contentHeight:0,flag:0};this.initElement();this.initConfig(d);this.bindListeners(true)},bindListeners:Ext.emptyFn,applyElement:function(d){if(d){return Ext.get(d)}},updateElement:function(d){d.append(this.detectorsContainer);d.addCls("x-size-monitored")},applyArgs:function(d){return d.concat([this.info])},refreshMonitors:Ext.emptyFn,forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this)},getContentBounds:function(){return this.detectorsContainer.getBoundingClientRect()},getContentWidth:function(){return this.detectorsContainer.offsetWidth},getContentHeight:function(){return this.detectorsContainer.offsetHeight},refreshSize:function(){var u=this.getElement();if(!u||u.destroyed){return false}var w=u.getWidth(),n=u.getHeight(),x=this.getContentWidth(),p=this.getContentHeight(),q=this.contentWidth,s=this.contentHeight,v=this.info,t=false,r;this.width=w;this.height=n;this.contentWidth=x;this.contentHeight=p;r=((q!==x?1:0)+(s!==p?2:0));if(r>0){v.width=w;v.height=n;v.contentWidth=x;v.contentHeight=p;v.flag=r;t=true;this.getCallback().apply(this.getScope(),this.getArgs())}return t},refresh:function(d){if(this.refreshSize()||d){Ext.TaskQueue.requestWrite("refreshMonitors",this)}},destroy:function(){var e=this,g=e.getElement();e.bindListeners(false);if(g&&!g.destroyed){g.removeCls("x-size-monitored")}delete e._element;e.callParent()}},1,0,0,0,0,[[Ext.mixin.Templatable.prototype.mixinId||Ext.mixin.Templatable.$className,Ext.mixin.Templatable]],[Ext.util.sizemonitor,"Abstract"],0));(Ext.cmd.derive("Ext.util.sizemonitor.Scroll",Ext.util.sizemonitor.Abstract,{getElementConfig:function(){return{reference:"detectorsContainer",classList:["x-size-monitors","scroll"],children:[{reference:"expandMonitor",className:"expand"},{reference:"shrinkMonitor",className:"shrink"}]}},constructor:function(d){this.onScroll=Ext.Function.bind(this.onScroll,this);Ext.util.sizemonitor.Abstract.prototype.constructor.apply(this,arguments)},bindListeners:function(e){var g=e?"addEventListener":"removeEventListener";this.expandMonitor[g]("scroll",this.onScroll,true);this.shrinkMonitor[g]("scroll",this.onScroll,true)},forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this,[true])},onScroll:function(){Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){var h=this.expandMonitor,g=this.shrinkMonitor,i=1000000;if(h&&!h.destroyed){h.scrollLeft=i;h.scrollTop=i}if(g&&!g.destroyed){g.scrollLeft=i;g.scrollTop=i}}},1,0,0,0,0,0,[Ext.util.sizemonitor,"Scroll"],0));(Ext.cmd.derive("Ext.util.sizemonitor.OverflowChange",Ext.util.sizemonitor.Abstract,{constructor:function(d){this.onExpand=Ext.Function.bind(this.onExpand,this);this.onShrink=Ext.Function.bind(this.onShrink,this);Ext.util.sizemonitor.Abstract.prototype.constructor.apply(this,arguments)},getElementConfig:function(){return{reference:"detectorsContainer",classList:["x-size-monitors","overflowchanged"],children:[{reference:"expandMonitor",className:"expand",children:[{reference:"expandHelper"}]},{reference:"shrinkMonitor",className:"shrink",children:[{reference:"shrinkHelper"}]}]}},bindListeners:function(e){var g=e?"addEventListener":"removeEventListener";this.expandMonitor[g](Ext.browser.is.Firefox?"underflow":"overflowchanged",this.onExpand,true);this.shrinkMonitor[g](Ext.browser.is.Firefox?"overflow":"overflowchanged",this.onShrink,true)},onExpand:function(d){if(Ext.browser.is.Webkit&&d.horizontalOverflow&&d.verticalOverflow){return}Ext.TaskQueue.requestRead("refresh",this)},onShrink:function(d){if(Ext.browser.is.Webkit&&!d.horizontalOverflow&&!d.verticalOverflow){return}Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){if(this.destroyed){return}var j=this.expandHelper,k=this.shrinkHelper,n=this.getContentBounds(),l=n.width,p=n.height,m;if(j&&!j.destroyed){m=j.style;m.width=(l+1)+"px";m.height=(p+1)+"px"}if(k&&!k.destroyed){m=k.style;m.width=l+"px";m.height=p+"px"}Ext.TaskQueue.requestRead("refresh",this)}},1,0,0,0,0,0,[Ext.util.sizemonitor,"OverflowChange"],0));(Ext.cmd.derive("Ext.util.SizeMonitor",Ext.Base,{constructor:function(g){var e=Ext.util.sizemonitor;if(Ext.browser.is.Firefox){return new e.OverflowChange(g)}else{return new e.Scroll(g)}}},1,0,0,0,0,0,[Ext.util,"SizeMonitor"],0));(Ext.cmd.derive("Ext.event.publisher.ElementSize",Ext.event.publisher.Publisher,{type:"size",handledEvents:["resize"],constructor:function(){this.monitors={};this.subscribers={};Ext.event.publisher.Publisher.prototype.constructor.apply(this,arguments)},subscribe:function(j){var h=j.id,i=this.subscribers,k=this.monitors;if(i[h]){++i[h]}else{i[h]=1;k[h]=new Ext.util.SizeMonitor({element:j,callback:this.onElementResize,scope:this,args:[j]})}j.on("painted","forceRefresh",k[h]);return true},unsubscribe:function(k){var i=k.id,j=this.subscribers,l=this.monitors,m;if(j[i]&&!--j[i]){delete j[i];m=l[i];k.un("painted","forceRefresh",m);m.destroy();delete l[i]}},onElementResize:function(g,e){Ext.TaskQueue.requestRead("fire",this,[g,"resize",[g,e]])}},1,0,0,0,0,0,[Ext.event.publisher,"ElementSize"],function(d){d.instance=new d()}));(Ext.cmd.derive("Ext.util.paintmonitor.Abstract",Ext.Base,{config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},eventName:"",monitorClass:"",constructor:function(d){this.onElementPainted=Ext.Function.bind(this.onElementPainted,this);this.initConfig(d)},bindListeners:function(d){this.monitorElement[d?"addEventListener":"removeEventListener"](this.eventName,this.onElementPainted,true)},applyElement:function(d){if(d){return Ext.get(d)}},updateElement:function(d){this.monitorElement=Ext.Element.create({classList:["x-paint-monitor",this.monitorClass]},true);d.appendChild(this.monitorElement);d.addCls("x-paint-monitored");this.bindListeners(true)},onElementPainted:function(){},destroy:function(){var h=this,j=h.monitorElement,k=j.parentNode,i=h.getElement();h.bindListeners(false);delete h.monitorElement;if(i&&!i.destroyed){i.removeCls("x-paint-monitored");delete h._element}if(k){k.removeChild(j)}h.callParent()}},1,0,0,0,0,0,[Ext.util.paintmonitor,"Abstract"],0));(Ext.cmd.derive("Ext.util.paintmonitor.CssAnimation",Ext.util.paintmonitor.Abstract,{eventName:Ext.browser.is.WebKit?"webkitAnimationEnd":"animationend",monitorClass:"cssanimation",onElementPainted:function(d){if(d.animationName==="x-paint-monitor-helper"){this.getCallback().apply(this.getScope(),this.getArgs())}}},0,0,0,0,0,0,[Ext.util.paintmonitor,"CssAnimation"],0));(Ext.cmd.derive("Ext.util.PaintMonitor",Ext.Base,{constructor:function(d){return new Ext.util.paintmonitor.CssAnimation(d)}},1,0,0,0,0,0,[Ext.util,"PaintMonitor"],0));(Ext.cmd.derive("Ext.event.publisher.ElementPaint",Ext.event.publisher.Publisher,{type:"paint",handledEvents:["painted"],constructor:function(){this.monitors={};this.subscribers={};Ext.event.publisher.Publisher.prototype.constructor.apply(this,arguments)},subscribe:function(k){var j=this,h=k.id,i=j.subscribers;if(i[h]){++i[h]}else{i[h]=1;j.monitors[h]=new Ext.util.PaintMonitor({element:k,callback:j.onElementPainted,scope:j,args:[k]})}},unsubscribe:function(j){var h=j.id,i=this.subscribers,k=this.monitors;if(i[h]&&!--i[h]){delete i[h];k[h].destroy();delete k[h]}},onElementPainted:function(d){Ext.TaskQueue.requestRead("fire",this,[d,"painted",[d]])}},1,0,0,0,0,0,[Ext.event.publisher,"ElementPaint"],function(d){d.instance=new d()}));(Ext.cmd.derive("Ext.dom.Element",Ext.Base,function(a7){var a2=window,aq=document,aH="ext-window",ax="ext-document",be="width",at="height",aN="min-width",bi="min-height",a6="max-width",aL="max-height",ap="top",aE="right",aw="bottom",aD="left",bc="visibility",aK="hidden",bj="display",an="none",a9="z-index",aY="position",a4="relative",a3="static",aT="-",aX=/\w/g,ay=/\s+/,aJ=/[\s]+/,bl=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,aA=/table-row|table-.*-group/,bk=/top/i,aZ={t:"border-top-width",r:"border-right-width",b:"border-bottom-width",l:"border-left-width"},aP={t:"padding-top",r:"padding-right",b:"padding-bottom",l:"padding-left"},ba={t:"margin-top",r:"margin-right",b:"margin-bottom",l:"margin-left"},aF=[aP.l,aP.r,aP.t,aP.b],bg=[aZ.l,aZ.r,aZ.t,aZ.b],aS=/\d+$/,bd=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,ar="px",au=/(-[a-z])/gi,aC=/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,a5=/^\d+(?:\.\d*)?px$/i,aV={},a1="originalDisplay",a0=function(d,c){return c.charAt(1).toUpperCase()},az=function(d,g){var c,e,h;if(d.nodeType===1){d._extData=null;if(g){c=d.childNodes;for(e=0,h=c.length;e<h;++e){az(c[e],g)}}}},aI="x-hidden-visibility",aM="x-hidden-display",bb="x-hidden-offsets",bm="x-hidden-clip",aO="x-sized",av="x-unsized",aB="x-stretched",aU="x-no-touch-scroll",a8={style:"style",className:"className",cls:"cls",classList:"classList",text:"text",hidden:"hidden",html:"html",children:"children"},ao=0,aR=0,aQ=false,bh=false,aW,aG,bf;return{alternateClassName:["Ext.Element"],observableType:"element",isElement:true,skipGarbageCollection:true,$applyConfigs:true,identifiablePrefix:"ext-element-",styleHooks:{},validIdRe:Ext.validIdRe,blockedEvents:Ext.supports.EmulatedMouseOver?{mouseover:1}:{},longpressEvents:{longpress:1,taphold:1},constructor:function(d){var e=this,c;if(typeof d==="string"){d=aq.getElementById(d)}if(!d){return null}e.dom=d;c=d.id;if(c){e.id=c}else{c=d.id=e.getUniqueId()}e.el=e;Ext.cache[c]=e;e.mixins.observable.constructor.call(e)},inheritableStatics:{cache:Ext.cache={},editableSelector:'input,textarea,[contenteditable="true"]',VISIBILITY:1,DISPLAY:2,OFFSETS:3,CLIP:4,minKeyboardHeight:100,unitRe:bd,useDelegatedEvents:true,validNodeTypes:{1:1,9:1},addUnits:function(c,d){if(typeof c==="number"){return c+(d||ar)}if(c===""||c==="auto"||c==null){return c||""}if(aS.test(c)){return c+(d||ar)}if(!bd.test(c)){return c||""}return c},create:function(k,l){var d=this,h=a8.hidden,i,c,n,p,m,j,e,g;if(!k){k={}}if(k.isElement){return l?k.dom:k}else{if("nodeType" in k){return l?k:Ext.get(k)}}if(typeof k==="string"){return aq.createTextNode(k)}n=k.tag;if(!n){n="div"}if(k.namespace){i=aq.createElementNS(k.namespace,n)}else{i=aq.createElement(n)}c=i.style;if(k[h]){g=k.className;g=(g==null)?"":g+" ";k.className=g+aM;delete k[h]}for(m in k){if(m!=="tag"){p=k[m];switch(m){case a8.style:if(typeof p==="string"){i.setAttribute(m,p)}else{for(j in p){if(p.hasOwnProperty(j)){c[j]=p[j]}}}break;case a8.className:case a8.cls:i.className=p;break;case a8.classList:i.className=p.join(" ");break;case a8.text:i.textContent=p;break;case a8.html:i.innerHTML=p;break;case a8.children:for(j=0,e=p.length;j<e;j++){i.appendChild(d.create(p[j],true))}break;default:if(p!=null){i.setAttribute(m,p)}}}}if(l){return i}else{return d.get(i)}},detach:function(){var c=this.dom;if(c&&c.parentNode&&c.tagName!=="BODY"){c.parentNode.removeChild(c)}return this},fly:function(c,d){return Ext.fly(c,d)},fromPoint:function(d,c){return Ext.get(aq.elementFromPoint(d,c))},get:function(k){var g=this,m=Ext.cache,i,j,l,c,d,h,e;if(!k){return null}if(k.isFly){k=k.dom}if(typeof k==="string"){l=k;if(m.hasOwnProperty(l)){c=m[l];if(c.skipGarbageCollection||!Ext.isGarbage(c.dom)){return c}else{c.destroy()}}if(l===aH){return a7.get(a2)}else{if(l===ax){return a7.get(aq)}}j=Ext.getElementById?Ext.getElementById(l):aq.getElementById(l);if(j){return new a7(j)}}i=k.nodeType;if(i){d=(i===9);e=g.validNodeTypes[i]}else{h=(k.window==k)}if(e||h){l=k.id;if(m.hasOwnProperty(l)){c=m[l];if(c.skipGarbageCollection||k===c.dom||!Ext.isGarbage(c.dom)){return c}else{c.destroy()}}if(k===aq){k.id=ax}if(k==a2){k.id=aH}k=new a7(k);if(h||d){k.skipGarbageCollection=true}return k}if(k.isElement){return k}if(k.isComposite){return k}if(Ext.isIterable(k)){return g.select(k)}return null},getActiveElement:function(d){var c=aq.activeElement;if(!c||!c.focus){c=aq.body}return d?Ext.get(c):c},getDocumentHeight:function(){return Math.max(!Ext.isStrict?aq.body.scrollHeight:aq.documentElement.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(!Ext.isStrict?aq.body.scrollWidth:aq.documentElement.scrollWidth,this.getViewportWidth())},getOrientation:function(){if(Ext.supports.OrientationChange){return(a2.orientation==0)?"portrait":"landscape"}return(a2.innerHeight>a2.innerWidth)?"portrait":"landscape"},getViewportHeight:function(){var c=a7._viewportHeight;if(Ext.isIE9m){return aq.documentElement.clientHeight}return(c!=null)?c:a2.innerHeight},getViewportWidth:function(){var c=a7._viewportWidth;if(Ext.isIE9m){return aq.documentElement.clientWidth}return(c!=null)?c:a2.innerWidth},getViewSize:function(){return{width:a7.getViewportWidth(),height:a7.getViewportHeight()}},normalize:function(c){return aV[c]||(aV[c]=c.replace(au,a0))},_onWindowFocusChange:function(c){if(Ext.fly(c.target).is(a7.editableSelector)){ao=new Date();aQ=(c.type==="focusin"||c.type==="pointerup")}},_onWindowResize:function(){var d=window.innerWidth,c=window.innerHeight,e=new Date(),h=1000,g,i;g=d-a7._windowWidth;i=c-a7._windowHeight;a7._windowWidth=d;a7._windowHeight=c;if(((e-ao)<h)||((e-aR)<h)){if(g===0&&(aQ&&(i<=-a7.minKeyboardHeight))){bh=true;return}}if(bh&&(g===0)&&(i>=a7.minKeyboardHeight)){bh=false;aR=new Date()}if(bh){return}a7._viewportWidth=d;a7._viewportHeight=c},parseBox:function(d){d=d||0;var g=typeof d,c,e;if(g==="number"){return{top:d,right:d,bottom:d,left:d}}else{if(g!=="string"){return d}}c=d.split(" ");e=c.length;if(e===1){c[1]=c[2]=c[3]=c[0]}else{if(e===2){c[2]=c[0];c[3]=c[1]}else{if(e===3){c[3]=c[1]}}}return{top:parseFloat(c[0])||0,right:parseFloat(c[1])||0,bottom:parseFloat(c[2])||0,left:parseFloat(c[3])||0}},parseStyles:function(d){var e={},c;if(d){aC.lastIndex=0;while((c=aC.exec(d))){e[c[1]]=c[2]||""}}return e},select:function(e,c,d){return Ext.fly(d||aq).select(e,c)},query:function(d,e,c){return Ext.fly(c||aq).query(d,e)},unitizeBox:function(c,e){var d=this;c=d.parseBox(c);return d.addUnits(c.top,e)+" "+d.addUnits(c.right,e)+" "+d.addUnits(c.bottom,e)+" "+d.addUnits(c.left,e)},serializeForm:function(m){var k=m.elements||(aq.forms[m]||Ext.getDom(m)).elements,p=false,r=encodeURIComponent,g="",h=k.length,e,q,s,j,l,d,i,c,n;for(d=0;d<h;d++){e=k[d];q=e.name;s=e.type;j=e.options;if(!e.disabled&&q){if(/select-(one|multiple)/i.test(s)){c=j.length;for(i=0;i<c;i++){n=j[i];if(n.selected){l=n.hasAttribute("value");g+=Ext.String.format("{0}={1}&",r(q),r(l?n.value:n.text))}}}else{if(!(/file|undefined|reset|button/i.test(s))){if(!(/radio|checkbox/i.test(s)&&!e.checked)&&!(s=="submit"&&p)){g+=r(q)+"="+r(e.value)+"&";p=/submit/i.test(s)}}}}}return g.substr(0,g.length-1)},getCommonAncestor:function(c,d,e){bf=bf||new Ext.dom.Fly();bf.attach(Ext.getDom(c));while(!bf.isAncestor(d)){if(bf.dom.parentNode){bf.attach(bf.dom.parentNode)}else{bf.attach(document.body);break}}return e?bf.dom:Ext.get(bf)}},addCls:function(d,g,p){var c=this,j=c.getData(),n,i,l,k,h,e,m;if(!d){return c}if(!j.isSynchronized){c.synchronize()}i=c.dom;l=j.classMap;k=j.classList;g=g?g+aT:"";p=p?aT+p:"";if(typeof d==="string"){d=d.split(ay)}for(h=0,e=d.length;h<e;h++){m=d[h];if(m){m=g+m+p;if(!l[m]){l[m]=true;k.push(m);n=true}}}if(n){i.className=k.join(" ")}return c},addStyles:function(j,k){var g=0,c=(j||"").match(aX),d,i=c.length,e,h=[];if(i===1){g=Math.abs(parseFloat(this.getStyle(k[c[0]]))||0)}else{if(i){for(d=0;d<i;d++){e=c[d];h.push(k[e])}h=this.getStyle(h);for(d=0;d<i;d++){e=c[d];g+=parseFloat(h[k[e]])||0}}}return g},addUnits:function(c,d){return a7.addUnits(c,d)},adjustDirect2DDimension:function(j){var d=this,k=d.dom,g=d.getStyle("display"),h=k.style.display,c=k.style.position,e=j===be?0:1,l=k.currentStyle,i;if(g==="inline"){k.style.display="inline-block"}k.style.position=g.match(aA)?"absolute":"static";i=(parseFloat(l[j])||parseFloat(l.msTransformOrigin.split(" ")[e])*2)%1;k.style.position=c;if(g==="inline"){k.style.display=h}return i},animate:function(c){c=new Ext.fx.Animation(c);c.setElement(this);this._activeAnimation=c;c.on({animationend:this._onAnimationEnd});Ext.Animator.run(c);return c},_onAnimationEnd:function(){this._activeAnimation=null},getActiveAnimation:function(){return this._activeAnimation},append:function(){this.appendChild.apply(this,arguments)},appendChild:function(g,h){var e=this,c,i,d;if(g.nodeType||g.dom||typeof g==="string"){g=Ext.getDom(g);e.dom.appendChild(g);return !h?Ext.get(g):g}else{if(g.length){c=Ext.fly(document.createDocumentFragment());i=g.length;for(d=0;d<i;d++){c.appendChild(g[d],h)}e.dom.appendChild(c.dom);return h?c.dom:c}else{return e.createChild(g,null,h)}}},appendTo:function(c){Ext.getDom(c).appendChild(this.dom);return this},applyStyles:function(c){if(c){if(typeof c==="function"){c=c.call()}if(typeof c==="string"){c=a7.parseStyles(c)}if(typeof c==="object"){this.setStyle(c)}}return this},blur:function(){var e=this,c=e.dom;if(c!==aq.body){try{c.blur()}catch(d){}return e}else{return e.focus(undefined,c)}},cacheScrollValues:function(){var d=this,c=[],e=[],j,g,h,i;aG=aG||new Ext.dom.Fly();j=d.query("*");for(h=0,i=j.length;h<i;h++){g=j[h];if(g.scrollTop>0||g.scrollLeft!==0){e.push(g);c.push(aG.attach(g).getScroll())}}return function(){var l,k,m;for(k=0,m=e.length;k<m;k++){l=c[k];aG.attach(e[k]);aG.setScrollLeft(l.left);aG.setScrollTop(l.top)}}},center:function(c){return this.alignTo(c||aq,"c-c")},child:function(g,e){var d=this,c=Ext.get(d).id;return d.selectNode(Ext.makeIdSelector(c)+" > "+g,!!e)},clone:function(e,d){var c=this.dom.cloneNode(e);if(Ext.supports.CloneNodeCopiesExpando){az(c,e)}return d?c:Ext.get(c)},constrainScrollLeft:function(d){var c=this.dom;return Math.max(Math.min(d,c.scrollWidth-c.clientWidth),0)},constrainScrollTop:function(d){var c=this.dom;return Math.max(Math.min(d,c.scrollHeight-c.clientHeight),0)},createChild:function(d,e,c){d=d||{tag:"div"};if(e){return Ext.DomHelper.insertBefore(e,d,c!==true)}else{return Ext.DomHelper.append(this.dom,d,c!==true)}},contains:function(e){if(!e){return false}var d=this,c=Ext.getDom(e);return(c===d.dom)||d.isAncestor(c)},destroy:function(){var d=this,c=d.dom;if(c&&c.parentNode){c.parentNode.removeChild(c)}d.collect();if(!d.isFly){d.callParent()}},detach:function(){var c=this.dom;if(c&&c.parentNode&&c.tagName!=="BODY"){c.parentNode.removeChild(c)}return this},disableShadow:function(){var c=this.shadow;if(c){c.hide();c.disabled=true}},disableShim:function(){var c=this.shim;if(c){c.hide();c.disabled=true}},disableTouchContextMenu:function(){this._contextMenuListenerRemover=this.on({MSHoldVisual:function(c){c.preventDefault()},destroyable:true,delegated:false})},disableTouchScroll:function(){this.addCls(aU);this.on({touchmove:function(c){c.preventDefault()},translate:false})},doReplaceWith:function(d){var c=this.dom;c.parentNode.replaceChild(Ext.getDom(d),c)},doScrollIntoView:function(n,i,m,h,p,d){aG=aG||new Ext.dom.Fly();var c=this,g=c.dom,l=aG.attach(n)[p](),q=n.scrollTop,e=c.getScrollIntoViewXY(n,l,q),j=e.x,k=e.y;if(h){if(m){m=Ext.apply({listeners:{afteranimate:function(){aG.attach(g).highlight()}}},m)}else{aG.attach(g).highlight()}}if(k!==q){aG.attach(n).scrollTo("top",k,m)}if(i!==false&&(j!==l)){aG.attach(n)[d]("left",j,m)}return c},down:function(d,c){return this.selectNode(d,!!c)},enableShadow:function(g,h){var e=this,c=e.shadow||(e.shadow=new Ext.dom.Shadow(Ext.apply({target:e},g))),d=e.shim;if(d){d.offsets=c.outerOffsets;d.shadow=c;c.shim=d}if(h===true||(h!==false&&e.isVisible())){c.show()}else{c.hide()}c.disabled=false},enableShim:function(g,h){var e=this,c=e.shim||(e.shim=new Ext.dom.Shim(Ext.apply({target:e},g))),d=e.shadow;if(d){c.offsets=d.outerOffsets;c.shadow=d;d.shim=c}if(h===true||(h!==false&&e.isVisible())){c.show()}else{c.hide()}c.disabled=false},findParent:function(j,h,i){var e=this,d=e.dom,g=aq.documentElement,c=0;if(h||h===0){if(typeof h!=="number"){g=Ext.getDom(h);h=Number.MAX_VALUE}}else{h=50}while(d&&d.nodeType===1&&c<h&&d!==g){if(Ext.fly(d).is(j)){return i?Ext.get(d):d}c++;d=d.parentNode}return null},findParentNode:function(c,e,g){var d=Ext.fly(this.dom.parentNode);return d?d.findParent(c,e,g):null},first:function(d,c){return this.matchNode("nextSibling","firstChild",d,c)},focus:function(c,d){var e=this;d=d||e.dom;if(Number(c)){Ext.defer(e.focus,c,e,[null,d])}else{Ext.GlobalEvents.fireEvent("beforefocus",d);d.focus()}return e},collect:function(){var g=this,e=g.dom,c=g.shadow,d=g.shim;if(!g.isFly){g.mixins.observable.destroy.call(g);delete Ext.cache[g.id];g.destroyed=true;g.el=null}if(e){e._extData=g.dom=null}if(c){c.hide();g.shadow=null}if(d){d.hide();g.shim=null}},getAnchorToXY:function(c,g,d,e){return c.getAnchorXY(g,d,e)},getAttribute:function(e,d){var c=this.dom;return d?(c.getAttributeNS(d,e)||c.getAttribute(d+":"+e)):(c.getAttribute(e)||c[e]||null)},getAttributes:function(){var d=this.dom.attributes,e={},g,c,h;for(c=0,h=d.length;c<h;c++){g=d[c];e[g.name]=g.value}return e},getBottom:function(c){return(c?this.getLocalY():this.getY())+this.getHeight()},getById:function(c,e){var d=aq.getElementById(c)||this.dom.querySelector(Ext.makeIdSelector(c));return e?d:(d?Ext.get(d):null)},getBorderPadding:function(){var d=this.getStyle(aF),c=this.getStyle(bg);return{beforeX:(parseFloat(c[aZ.l])||0)+(parseFloat(d[aP.l])||0),afterX:(parseFloat(c[aZ.r])||0)+(parseFloat(d[aP.r])||0),beforeY:(parseFloat(c[aZ.t])||0)+(parseFloat(d[aP.t])||0),afterY:(parseFloat(c[aZ.b])||0)+(parseFloat(d[aP.b])||0)}},getBorders:function(){var c=this.getStyle(bg);return{beforeX:(parseFloat(c[aZ.l])||0),afterX:(parseFloat(c[aZ.r])||0),beforeY:(parseFloat(c[aZ.t])||0),afterY:(parseFloat(c[aZ.b])||0)}},getBorderWidth:function(c){return this.addStyles(c,aZ)},getData:function(e){var c=this.dom,d;if(c){d=c._extData;if(!d&&!e){c._extData=d={}}}return d},getFirstChild:function(){return Ext.get(this.dom.firstElementChild)},getHeight:function(e,h){var g=this,d=g.isStyle("display","none"),i,c;if(d){return 0}i=g.dom.offsetHeight;if(Ext.supports.Direct2DBug){c=g.adjustDirect2DDimension(at);if(h){i+=c}else{if(c>0&&c<0.5){i++}}}if(e){i-=g.getBorderWidth("tb")+g.getPadding("tb")}return(i<0)?0:i},getHtml:function(){return this.dom?this.dom.innerHTML:""},getLeft:function(c){return c?this.getLocalX():this.getX()},getLocalX:function(){var c=this,d,e=c.getStyle("left");if(!e||e==="auto"){e=0}else{if(a5.test(e)){e=parseFloat(e)}else{e=c.getX();d=c.dom.offsetParent;if(d){e-=Ext.fly(d).getX()}}}return e},getLocalXY:function(){var d=this,e,g=d.getStyle(["left","top"]),h=g.left,c=g.top;if(!h||h==="auto"){h=0}else{if(a5.test(h)){h=parseFloat(h)}else{h=d.getX();e=d.dom.offsetParent;if(e){h-=Ext.fly(e).getX()}}}if(!c||c==="auto"){c=0}else{if(a5.test(c)){c=parseFloat(c)}else{c=d.getY();e=d.dom.offsetParent;if(e){c-=Ext.fly(e).getY()}}}return[h,c]},getLocalY:function(){var d=this,e,c=d.getStyle("top");if(!c||c==="auto"){c=0}else{if(a5.test(c)){c=parseFloat(c)}else{c=d.getY();e=d.dom.offsetParent;if(e){c-=Ext.fly(e).getY()}}}return c},getMargin:(function(){var c={t:"top",l:"left",r:"right",b:"bottom"},d=["margin-top","margin-left","margin-right","margin-bottom"];return function(h){var e=this,g,i,j;if(!h){g=e.getStyle(d);j={};if(g&&typeof g==="object"){j={};for(i in ba){j[i]=j[c[i]]=parseFloat(g[ba[i]])||0}}}else{j=e.addStyles(h,ba)}return j}})(),getPadding:function(c){return this.addStyles(c,aP)},getParent:function(){return Ext.get(this.dom.parentNode)},getRight:function(c){return(c?this.getLocalX():this.getX())+this.getWidth()},getScroll:function(){var g=this,c=g.dom,h=aq.documentElement,d,e,i=document.body;if(c===aq||c===i){d=h.scrollLeft||(i?i.scrollLeft:0);e=h.scrollTop||(i?i.scrollTop:0)}else{d=c.scrollLeft;e=c.scrollTop}return{left:d,top:e}},getScrollIntoViewXY:function(l,s,c){var n=this.dom,u=Ext.getDom(l),t=this.getOffsetsTo(u),d=n.offsetWidth,h=n.offsetHeight,v=t[0]+s,j=t[1]+c,p=j+h,k=v+d,g=u.clientHeight,q=u.clientWidth,m=s,e=c,r=e+g,i=m+q;if(h>g||j<e){c=j}else{if(p>r){c=p-g}}if(d>q||v<m){s=v}else{if(k>i){s=k-q}}return{x:s,y:c}},getScrollLeft:function(){var c=this.dom;if(c===aq||c===document.body){return this.getScroll().left}else{return c.scrollLeft}},getScrollTop:function(){var c=this.dom;if(c===aq||c===document.body){return this.getScroll().top}else{return c.scrollTop}},getSize:function(c){return{width:this.getWidth(c),height:this.getHeight(c)}},getStyle:function(p,e){var d=this,l=d.dom,j=typeof p!=="string",n=d.styleHooks,q=p,c=q,g=1,h,k,s,t,m,r,i;if(j){s={};q=c[0];i=0;if(!(g=c.length)){return s}}if(!l||l.documentElement){return s||""}h=l.style;if(e){r=h}else{r=l.ownerDocument.defaultView.getComputedStyle(l,null);if(!r){e=true;r=h}}do{t=n[q];if(!t){n[q]=t={name:a7.normalize(q)}}if(t.get){m=t.get(l,d,e,r)}else{k=t.name;m=r[k]}if(!j){return m}s[q]=m;q=c[++i]}while(i<g);return s},getStyleValue:function(c){return this.dom.style.getPropertyValue(c)},getTop:function(c){return c?this.getLocalY():this.getY()},getValue:function(c){var d=this.dom.value;return c?parseInt(d,10):d},getViewSize:function(){var c=this.dom;if(c===aq||c===aq.body){return{width:a7.getViewportWidth(),height:a7.getViewportHeight()}}else{return{width:c.clientWidth,height:c.clientHeight}}},getVisibilityMode:function(){var e=this,d=e.getData(),c=d.visibilityMode;if(c===undefined){d.visibilityMode=c=a7.DISPLAY}return c},getWidth:function(i,c){var e=this,k=e.dom,d=e.isStyle("display","none"),g,h,j;if(d){return 0}if(Ext.supports.BoundingClientRect){g=k.getBoundingClientRect();h=(e.vertical&&!Ext.supports.RotatedBoundingClientRect)?(g.bottom-g.top):(g.right-g.left);h=c?h:Math.ceil(h)}else{h=k.offsetWidth}if(Ext.supports.Direct2DBug&&!e.vertical){j=e.adjustDirect2DDimension(be);if(c){h+=j}else{if(j>0&&j<0.5){h++}}}if(i){h-=e.getBorderWidth("lr")+e.getPadding("lr")}return(h<0)?0:h},getX:function(){return this.getXY()[0]},getXY:function(){var g=Math.round,c=this.dom,h=0,j=0,d,i;if(c!==aq&&c!==aq.body){try{d=c.getBoundingClientRect()}catch(e){d={left:0,top:0}}h=g(d.left);j=g(d.top);i=Ext.getDoc().getScroll();h+=i.left;j+=i.top}return[h,j]},getY:function(){return this.getXY()[1]},getZIndex:function(){return parseInt(this.getStyle("z-index"),10)},hasCls:function(d){var c=this.getData();if(!c.isSynchronized){this.synchronize()}return c.classMap.hasOwnProperty(d)},hide:function(){this.setVisible(false);return this},insertAfter:function(c){c=Ext.getDom(c);c.parentNode.insertBefore(this.dom,c.nextSibling);return this},insertBefore:function(c){c=Ext.getDom(c);c.parentNode.insertBefore(this.dom,c);return this},insertFirst:function(c,d){c=c||{};if(c.nodeType||c.dom||typeof c==="string"){c=Ext.getDom(c);this.dom.insertBefore(c,this.dom.firstChild);return !d?Ext.get(c):c}else{return this.createChild(c,this.dom.firstChild,d)}},insertHtml:function(e,d,g){var c=Ext.DomHelper.insertHtml(e,this.dom,d);return g?Ext.get(c):c},insertSibling:function(l,i,e){var g=this,d=Ext.DomHelper,c=(i||"before").toLowerCase()==="after",j,m,k,h;if(Ext.isIterable(l)){k=l.length;m=Ext.fly(document.createDocumentFragment());if(Ext.isArray(l)){for(h=0;h<k;h++){j=m.appendChild(l[h],e)}}else{for(h=0;h<k;h++){m.dom.appendChild(j=l[0])}if(e===false){j=Ext.get(j)}}g.dom.parentNode.insertBefore(m.dom,c?g.dom.nextSibling:g.dom);return j}l=l||{};if(l.nodeType||l.dom){j=g.dom.parentNode.insertBefore(Ext.getDom(l),c?g.dom.nextSibling:g.dom);if(!e){j=Ext.get(j)}}else{if(c&&!g.dom.nextSibling){j=d.append(g.dom.parentNode,l,!e)}else{j=d[c?"insertAfter":"insertBefore"](g.dom,l,!e)}}return j},is:function(e){var c=this.dom,d;if(!e){d=true}else{if(!c.tagName){d=false}else{if(Ext.isFunction(e)){d=e(c)}else{d=c[Ext.supports.matchesSelector](e)}}}return d},isAncestor:function(e){var g=false,d=this.dom,c=Ext.getDom(e);if(d&&c){if(d.contains){return d.contains(c)}else{if(d.compareDocumentPosition){return !!(d.compareDocumentPosition(c)&16)}else{while((c=c.parentNode)){g=c===d||g}}}}return g},isPainted:(function(){return !Ext.browser.is.IE?function(){var c=this.dom;return Boolean(c&&c.offsetParent)}:function(){var c=this.dom;return Boolean(c&&(c.offsetHeight!==0&&c.offsetWidth!==0))}})(),isScrollable:function(){var c=this.dom;return c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth},isStyle:function(d,c){return this.getStyle(d)===c},isVisible:function(d){var c=this.dom,e;if(!c){return false}if(!aW){aW=new Ext.dom.Fly()}for(e=c.ownerDocument.documentElement;c!==e;c=c.parentNode){if(!c||c.nodeType===11||(aW.attach(c)).isStyle(bc,aK)||aW.isStyle(bj,an)){return false}if(!d){break}}return true},last:function(d,c){return this.matchNode("previousSibling","lastChild",d,c)},maskIframes:function(){var c=document.getElementsByTagName("iframe");Ext.each(c,function(d){var e=Ext.fly(d.parentNode),g=e.mask();g.setStyle("background-color","transparent")})},matchNode:function(h,c,i,g){var e=this.dom,d;if(!e){return null}d=e[c];while(d){if(d.nodeType===1&&(!i||Ext.fly(d,"_matchNode").is(i))){return !g?Ext.get(d):d}d=d[h]}return null},next:function(d,c){return this.matchNode("nextSibling","nextSibling",d,c)},parent:function(d,c){return this.matchNode("parentNode","parentNode",d,c)},position:function(c,d,h,e){var g=this;if(g.dom.tagName!=="BODY"){if(!c&&g.isStyle(aY,a3)){g.setStyle(aY,a4)}else{if(c){g.setStyle(aY,c)}}if(d){g.setStyle(a9,d)}if(h||e){g.setXY([h||false,e||false])}}},prev:function(d,c){return this.matchNode("previousSibling","previousSibling",d,c)},query:function(k,n,d){var i=this.dom,g,e,c,l,m,h,j;if(!i){return null}n=(n!==false);k=k.split(",");if(!d){g=[]}for(h=0,e=k.length;h<e;h++){if(typeof k[h]==="string"){if(d){l=i.querySelector(k[h]);return n?l:Ext.get(l)}m=i.querySelectorAll(k[h]);for(j=0,c=m.length;j<c;j++){g.push(n?m[j]:Ext.get(m[j]))}}}return g},radioCls:function(d){var c=this.dom.parentNode.childNodes,g;d=Ext.isArray(d)?d:[d];for(var e=0,h=c.length;e<h;e++){g=c[e];if(g&&g.nodeType===1){Ext.fly(g).removeCls(d)}}return this.addCls(d)},redraw:function(){var c=this.dom,d=c.style;d.display="none";c.offsetHeight;d.display=""},remove:function(){this.destroy()},removeChild:function(c){this.dom.removeChild(Ext.getDom(c));return this},removeCls:function(d,g,p){var c=this,j=c.getData(),n,i,l,k,h,e,m;if(!d){return c}if(!j.isSynchronized){c.synchronize()}i=c.dom;l=j.classMap;k=j.classList;g=g?g+aT:"";p=p?aT+p:"";if(typeof d==="string"){d=d.split(ay)}for(h=0,e=d.length;h<e;h++){m=d[h];if(m){m=g+m+p;if(l[m]){delete l[m];Ext.Array.remove(k,m);n=true}}}if(n){i.className=k.join(" ")}return c},repaint:function(){var c=this;c.addCls("x-repaint");Ext.defer(function(){if(c.dom){Ext.fly(c.dom).removeCls("x-repaint")}},1);return c},replace:function(e,g){e=Ext.getDom(e);var h=e.parentNode,c=e.id,d=this.dom;if(g!==false&&c&&Ext.cache[c]){h.insertBefore(d,e);Ext.get(e).destroy()}else{h.replaceChild(d,e)}return this},replaceCls:function(k,c,e,l){var q=this,h,m,j,g,d,n,i=q.getData(),p;if(!k&&!c){return q}k=k||[];c=c||[];if(!i.isSynchronized){q.synchronize()}if(!l){l=""}h=q.dom;m=i.classMap;j=i.classList;e=e?e+aT:"";l=l?aT+l:"";if(typeof k==="string"){k=k.split(ay)}if(typeof c==="string"){c=c.split(ay)}for(g=0,d=k.length;g<d;g++){n=e+k[g]+l;if(m[n]){delete m[n];p=true}}for(g=0,d=c.length;g<d;g++){n=e+c[g]+l;if(!m[n]){m[n]=true;p=true}}if(p){i.classList=j=Ext.Object.getKeys(m);h.className=j.join(" ")}return q},replaceWith:function(e){var d=this,c=d.dom,g=c.parentNode,i=Ext.cache,h;d.clearListeners();if(e.nodeType||e.dom||typeof e==="string"){e=Ext.get(e);h=g.insertBefore(e.dom,c)}else{h=Ext.DomHelper.insertBefore(c,e)}g.removeChild(c);d.dom=h;if(!d.isFly){delete i[d.id];i[d.id=Ext.id(h)]=d}return d},resolveListenerScope:function(c){var d=this.component;return d?d.resolveListenerScope(c):this},scroll:function(c,l,j){if(!this.isScrollable()){return false}c=c.charAt(0);var d=this,h=d.dom,e=c==="r"||c==="l"?"left":"top",k=false,i,g;if(c==="l"||c==="t"||c==="u"){l=-l}if(e==="left"){i=h.scrollLeft;g=d.constrainScrollLeft(i+l)}else{i=h.scrollTop;g=d.constrainScrollTop(i+l)}if(g!==i){this.scrollTo(e,g,j);k=true}return k},scrollBy:function(g,h,e){var d=this,c=d.dom;if(g.length){e=h;h=g[1];g=g[0]}else{if(typeof g!="number"){e=h;h=g.y;g=g.x}}if(g){d.scrollTo("left",d.constrainScrollLeft(c.scrollLeft+g),e)}if(h){d.scrollTo("top",d.constrainScrollTop(c.scrollTop+h),e)}return d},scrollChildIntoView:function(c,d){Ext.fly(c).scrollIntoView(this,d)},scrollIntoView:function(g,c,d,e){g=Ext.getDom(g)||Ext.getBody().dom;return this.doScrollIntoView(g,c,d,e,"getScrollLeft","scrollTo")},scrollTo:function(g,d,i){var c=bk.test(g),e=this,j=c?"scrollTop":"scrollLeft",k=e.dom,h;if(!i||!e.anim){k[j]=d;k[j]=d}else{h={to:{}};h.to[j]=d;if(Ext.isObject(i)){Ext.applyIf(h,i)}e.animate(h)}return e},select:function(e,c){var g,d;if(typeof e==="string"){d=this.query(e,!c)}else{d=e;g=true}return c?new Ext.CompositeElement(d,!g):new Ext.CompositeElementLite(d,true)},selectNode:function(c,d){return this.query(c,d,true)},set:function(i,h){var e=this,c=e.dom,g,d;for(g in i){if(i.hasOwnProperty(g)){d=i[g];if(g==="style"){e.applyStyles(d)}else{if(g==="cls"){c.className=d}else{if(h!==false){if(d===undefined){c.removeAttribute(g)}else{c.setAttribute(g,d)}}else{c[g]=d}}}}}return e},setBottom:function(c){this.dom.style[aw]=a7.addUnits(c);return this},setCls:function(e){var c=this,g=c.getData(),h,d,i,k,j;if(!g.isSynchronized){c.synchronize()}if(typeof e==="string"){e=e.split(ay)}g.classList=j=e.slice();g.classMap=k={};for(h=0,d=j.length;h<d;h++){k[j[h]]=true}c.dom.className=j.join(" ")},setDisplayed:function(c){var d=this;if(typeof c==="boolean"){c=c?d._getDisplay():an}d.setStyle(bj,c);if(d.shadow||d.shim){d.setUnderlaysVisible(c!==an)}return d},setHeight:function(d){var c=this;c.dom.style[at]=a7.addUnits(d);if(c.shadow||c.shim){c.syncUnderlays()}return c},setHtml:function(c){if(this.dom){this.dom.innerHTML=c}return this},setId:function(c){var d=this,g=d.id,e=Ext.cache;if(g){delete e[g]}d.dom.id=c;d.id=c;e[c]=d;return d},setLeft:function(c){var d=this;d.dom.style[aD]=a7.addUnits(c);if(d.shadow||d.shim){d.syncUnderlays()}return d},setLocalX:function(e){var c=this,d=c.dom.style;d.right="auto";d.left=(e===null)?"auto":e+"px";if(c.shadow||c.shim){c.syncUnderlays()}return c},setLocalXY:function(g,c){var d=this,e=d.dom.style;e.right="auto";if(g&&g.length){c=g[1];g=g[0]}if(g===null){e.left="auto"}else{if(g!==undefined){e.left=g+"px"}}if(c===null){e.top="auto"}else{if(c!==undefined){e.top=c+"px"}}if(d.shadow||d.shim){d.syncUnderlays()}return d},setLocalY:function(c){var d=this;d.dom.style.top=(c===null)?"auto":c+"px";if(d.shadow||d.shim){d.syncUnderlays()}return d},setMargin:function(c){var d=this,e=d.dom.style;if(c||c===0){c=d.self.unitizeBox((c===true)?5:c);e.setProperty("margin",c,"important")}else{e.removeProperty("margin-top");e.removeProperty("margin-right");e.removeProperty("margin-bottom");e.removeProperty("margin-left")}},setMaxHeight:function(c){this.dom.style[aL]=a7.addUnits(c);return this},setMaxWidth:function(c){this.dom.style[a6]=a7.addUnits(c);return this},setMinHeight:function(c){this.dom.style[bi]=a7.addUnits(c);return this},setMinWidth:function(c){this.dom.style[aN]=a7.addUnits(c);return this},setOpacity:function(d){var c=this;if(c.dom){c.setStyle("opacity",d)}return c},setPadding:function(c){var d=this,e=d.dom.style;if(c||c===0){c=d.self.unitizeBox((c===true)?5:c);e.setProperty("padding",c,"important")}else{e.removeProperty("padding-top");e.removeProperty("padding-right");e.removeProperty("padding-bottom");e.removeProperty("padding-left")}},setRight:function(c){this.dom.style[aE]=a7.addUnits(c);return this},setScrollLeft:function(c){this.dom.scrollLeft=c;return this},setScrollTop:function(c){this.dom.scrollTop=c;return this},setSize:function(d,g){var c=this,e=c.dom.style;if(Ext.isObject(d)){g=d.height;d=d.width}e.width=a7.addUnits(d);e.height=a7.addUnits(g);if(c.shadow||c.shim){c.syncUnderlays()}return c},setSizeState:function(d){var e=this,c,g;if(d===true){c=aO;g=[av,aB]}else{if(d===false){c=av;g=[aO,aB]}else{if(d===null){c=aB;g=[aO,av]}else{g=[aO,av,aB]}}}if(c){e.addCls(c)}e.removeCls(g);return e},setStyle:function(j,c){var e=this,k=e.dom,i=e.styleHooks,g=k.style,h=j,d;if(typeof h==="string"){d=i[h];if(!d){i[h]=d={name:a7.normalize(h)}}c=(c==null)?"":c;if(d.set){d.set(k,c,e)}else{g[d.name]=c}if(d.afterSet){d.afterSet(k,c,e)}}else{for(h in j){if(j.hasOwnProperty(h)){d=i[h];if(!d){i[h]=d={name:a7.normalize(h)}}c=j[h];c=(c==null)?"":c;if(d.set){d.set(k,c,e)}else{g[d.name]=c}if(d.afterSet){d.afterSet(k,c,e)}}}}return e},setText:function(c){this.dom.textContent=c},setTop:function(c){var d=this;d.dom.style[ap]=a7.addUnits(c);if(d.shadow||d.shim){d.syncUnderlays()}return d},setUnderlaysVisible:function(e){var c=this.shadow,d=this.shim;if(c&&!c.disabled){if(e){c.show()}else{c.hide()}}if(d&&!d.disabled){if(e){d.show()}else{d.hide()}}},setVisibility:function(d){var c=this.dom.style;if(d){c.removeProperty("visibility")}else{c.setProperty("visibility","hidden","important")}},setVisibilityMode:function(c){this.getData().visibilityMode=c;return this},setVisible:function(d){var g=this,e=g.getVisibilityMode(),c=d?"removeCls":"addCls";switch(e){case a7.DISPLAY:g.removeCls([aI,bb,bm]);g[c](aM);break;case a7.VISIBILITY:g.removeCls([aM,bb,bm]);g[c](aI);break;case a7.OFFSETS:g.removeCls([aI,aM,bm]);g[c](bb);break;case a7.CLIP:g.removeCls([aI,aM,bb]);g[c](bm);break}if(g.shadow||g.shim){g.setUnderlaysVisible(d)}return g},setWidth:function(d){var c=this;c.dom.style[be]=a7.addUnits(d);if(c.shadow||c.shim){c.syncUnderlays()}return c},setX:function(c){return this.setXY([c,false])},setXY:function(e){var g=this,d=g.translatePoints(e),h=g.dom.style,c;g.position();h.right="auto";for(c in d){if(!isNaN(d[c])){h[c]=d[c]+"px"}}if(g.shadow||g.shim){g.syncUnderlays()}return g},setY:function(c){return this.setXY([false,c])},setZIndex:function(d){var c=this;if(c.shadow){c.shadow.setZIndex(d)}if(c.shim){c.shim.setZIndex(d)}return c.setStyle("z-index",d)},show:function(){this.setVisible(true);return this},swapCls:function(h,j,i,d){if(i===undefined){i=true}var e=this,c=i?h:j,g=i?j:h;if(g){e.removeCls(d?d+"-"+g:g)}if(c){e.addCls(d?d+"-"+c:c)}return e},synchronize:function(){var d=this,i=d.dom,c={},e=i.className,k,h,g,l,j=d.getData();if(e&&e.length>0){k=i.className.split(aJ);for(h=0,g=k.length;h<g;h++){l=k[h];c[l]=true}}else{k=[]}j.classList=k;j.classMap=c;j.isSynchronized=true;return d},syncUnderlays:function(){var i=this,d=i.shadow,l=i.shim,k=i.dom,c,g,h,e,j;if(i.isVisible()){c=i.getXY();g=c[0];h=c[1];e=k.offsetWidth;j=k.offsetHeight;if(d&&!d.hidden){d.realign(g,h,e,j)}if(l&&!l.hidden){l.realign(g,h,e,j)}}},toggleCls:function(d,c){if(typeof c!=="boolean"){c=!this.hasCls(d)}return c?this.addCls(d):this.removeCls(d)},toggle:function(){this.setVisible(!this.isVisible());return this},translate:function(){var c="webkitTransform" in aq.createElement("div").style?"webkitTransform":"transform";return function(g,d,e){this.dom.style[c]="translate3d("+(g||0)+"px, "+(d||0)+"px, "+(e||0)+"px)"}}(),unmaskIframes:function(){var c=document.getElementsByTagName("iframe");Ext.each(c,function(d){var e=Ext.fly(d.parentNode);e.unmask()})},unwrap:function(){var k=this.dom,h=k.parentNode,e,c=Ext.fly(Ext.Element.getActiveElement()),d,g,j,i;d=Ext.cache[c.id];if(d){c=d}if(this.contains(c)){if(d){d.suspendFocusEvents()}g=true}if(h){e=h.parentNode;if(g){i=e.getAttribute("tabIndex");j=Ext.fly(e);j.set({tabIndex:-1});j.suspendFocusEvents();j.focus()}e.insertBefore(k,h);e.removeChild(h)}else{e=document.createDocumentFragment();e.appendChild(k)}if(g){if(d){d.focus();d.resumeFocusEvents()}else{Ext.fly(c).focus()}if(j){j.resumeFocusEvents();j.set({tabIndex:i})}}return this},up:function(c,e,d){return this.findParentNode(c,e,!d)},update:function(c){return this.setHtml(c)},wrap:function(j,n,g){var c=this,e=c.dom,h=Ext.DomHelper.insertBefore(e,j||{tag:"div"},!n),d=h,k=Ext.Element.getActiveElement(),i,l,m;i=Ext.cache[k.id];if(i){k=i}if(g){d=h.selectNode(g,n)}if(c.contains(k)){if(i){i.suspendFocusEvents()}m=h.dom.getAttribute("tabIndex");h.set({tabIndex:-1});h.suspendFocusEvents();h.focus();l=true}d.appendChild(e);if(l){if(i){i.focus();i.resumeFocusEvents()}else{Ext.fly(k).focus()}h.resumeFocusEvents();h.set({tabIndex:m})}return h},privates:{doAddListener:function(h,d,c,n,l,m,k){var e=this,j,i,g;h=Ext.canonicalEventName(h);if(!e.blockedEvents[h]){j=e.mixins.observable.doAddListener;n=n||{};if(e.longpressEvents[h]){e.disableTouchContextMenu()}if(a7.useDelegatedEvents===false){n.delegated=n.delegated||false}if(n.translate!==false){i=e.additiveEvents[h];if(i){n.type=h;h=i;j.call(e,h,d,c,n,l,m,k)}g=e.eventMap[h];if(g){n.type=n.type||h;h=g}}j.call(e,h,d,c,n,l,m,k);delete n.type}},doRemoveListener:function(i,d,e){var c=this,g,j,k,h;if(!c.blockedEvents[i]){g=c.mixins.observable.doRemoveListener;if(c.longpressEvents[i]){h=this._contextMenuListenerRemover;if(h){h.destroy()}}k=c.additiveEvents[i];if(k){i=k;g.call(c,i,d,e)}j=c.eventMap[i];if(j){g.call(c,j,d,e)}g.call(c,i,d,e)}},_initEvent:function(c){return(this.events[c]=new Ext.dom.ElementEvent(this,c))},_getDisplay:function(){var d=this.getData(),c=d[a1];if(c===undefined){d[a1]=c=""}return c},_getPublisher:function(e){var c=Ext.event.publisher.Publisher,d=c.publishersByEvent[e];if(!d||(this.dom===window&&e==="resize")){d=c.publishers.dom}return d},isFocusSuspended:function(){return !!this.getData().suspendFocusEvents},suspendFocusEvents:function(){if(!this.isFly){this.suspendEvent("focus","blur")}this.getData().suspendFocusEvents=true},resumeFocusEvents:function(){function c(){var d;if(!this.destroyed){d=this.getData();if(d){d.suspendFocusEvents=false}if(!this.isFly){this.resumeEvent("focus","blur")}}}if(!this.destroyed&&this.getData().suspendFocusEvents){if(Ext.isIE){Ext.asap(c,this)}else{c.call(this)}}}},deprecated:{"5.0":{methods:{cssTranslate:null,getHTML:"getHtml",getOuterHeight:null,getOuterWidth:null,getPageBox:function(k){var h=this,j=h.dom,e=j.nodeName==="BODY",d=e?a7.getViewportWidth():j.offsetWidth,i=e?a7.getViewportHeight():j.offsetHeight,n=h.getXY(),c=n[1],m=n[0]+d,g=n[1]+i,l=n[0];if(k){return new Ext.util.Region(c,m,g,l)}else{return{left:l,top:c,width:d,height:i,right:m,bottom:g}}},getScrollParent:null,isDescendent:null,isTransparent:function(c){var d=this.getStyle(c);return d?bl.test(d):false},purgeAllListeners:"clearListeners",removeAllListeners:"clearListeners",setHTML:"setHtml",setTopLeft:null}}}}},1,0,0,0,0,[[Ext.util.Positionable.prototype.mixinId||Ext.util.Positionable.$className,Ext.util.Positionable],[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.dom,"Element",Ext,"Element"],function(U){var am=document,ac=U.prototype,ab=Ext.supports,N="pointerdown",aj="pointermove",al="pointerup",ak="pointercancel",ag="MSPointerDown",aa="MSPointerMove",W="MSPointerUp",an="MSPointerCancel",O="mousedown",Y="mousemove",M="mouseup",L="mouseover",Q="mouseout",V="mouseenter",ai="mouseleave",J="touchstart",ad="touchmove",T="touchend",ah="touchcancel",S="click",af="dblclick",K="tap",R="doubletap",ae=ac.eventMap={},P=ac.additiveEvents={},X=Ext.id,Z;Ext.id=function(c,d){var e=Ext.getDom(c,true),h,g;if(!e){g=X(c,d)}else{if(!(g=e.id)){g=X(null,d||U.prototype.identifiablePrefix);if(Ext.isSandboxed){h=Ext.sandboxPrefix||(Ext.sandboxPrefix=Ext.sandboxName.toLowerCase()+"-");g=h+g}e.id=g}}return g};if(ab.PointerEvents){ae[O]=N;ae[Y]=aj;ae[M]=al;ae[J]=N;ae[ad]=aj;ae[T]=al;ae[ah]=ak;ae[S]=K;ae[af]=R;ae[L]="pointerover";ae[Q]="pointerout";ae[V]="pointerenter";ae[ai]="pointerleave"}else{if(ab.MSPointerEvents){ae[N]=ag;ae[aj]=aa;ae[al]=W;ae[ak]=an;ae[O]=ag;ae[Y]=aa;ae[M]=W;ae[J]=ag;ae[ad]=aa;ae[T]=W;ae[ah]=an;ae[S]=K;ae[af]=R;ae[L]="MSPointerOver";ae[Q]="MSPointerOut"}else{if(ab.TouchEvents){ae[N]=J;ae[aj]=ad;ae[al]=T;ae[ak]=ah;ae[O]=J;ae[Y]=ad;ae[M]=T;ae[S]=K;ae[af]=R;if(Ext.isWebKit&&Ext.os.is.Desktop){ae[J]=O;ae[ad]=Y;ae[T]=M;ae[ah]=M;P[O]=O;P[Y]=Y;P[M]=M;P[J]=J;P[ad]=ad;P[T]=T;P[ah]=ah;P[N]=O;P[aj]=Y;P[al]=M;P[ak]=M}}else{ae[N]=O;ae[aj]=Y;ae[al]=M;ae[ak]=M;ae[J]=O;ae[ad]=Y;ae[T]=M;ae[ah]=M}}}if(Ext.isWebKit){ae.transitionend=Ext.browser.getVendorProperyName("transitionEnd");ae.animationstart=Ext.browser.getVendorProperyName("animationStart");ae.animationend=Ext.browser.getVendorProperyName("animationEnd")}if(!Ext.supports.MouseWheel&&!Ext.isOpera){ae.mousewheel="DOMMouseScroll"}Z=ac.$eventOptions=Ext.Object.chain(ac.$eventOptions);Z.translate=Z.capture=Z.delegate=Z.delegated=Z.stopEvent=Z.preventDefault=Z.stopPropagation=Z.element=1;ac.styleHooks.opacity={name:"opacity",afterSet:function(c,d,e){var g=e.shadow;if(g){g.setOpacity(d)}}};ac.getTrueXY=ac.getXY;Ext.select=U.select;Ext.query=U.query;Ext.apply(Ext,{get:function(c){return U.get(c)},getDom:function(c){if(!c||!am){return null}return typeof c==="string"?Ext.getElementById(c):"dom" in c?c.dom:c},getBody:function(){if(!Ext._bodyEl){if(!am.body){throw new Error("[Ext.getBody] document.body does not yet exist")}Ext._bodyEl=Ext.get(am.body)}return Ext._bodyEl},getHead:function(){if(!Ext._headEl){Ext._headEl=Ext.get(am.head||am.getElementsByTagName("head")[0])}return Ext._headEl},getDoc:function(){if(!Ext._docEl){Ext._docEl=Ext.get(am)}return Ext._docEl},getWin:function(){if(!Ext._winEl){Ext._winEl=Ext.get(window)}return Ext._winEl},removeNode:function(c){c=c.dom||c;var g=c&&c.id,d=Ext.cache[g],e;if(d){d.destroy()}else{if(c&&(c.nodeType===3||c.tagName.toUpperCase()!=="BODY")){e=c.parentNode;if(e){e.removeChild(c)}}}}});Ext.isGarbage=function(c){return c&&c.nodeType===1&&c.tagName!=="BODY"&&c.tagName!=="HTML"&&(!c.parentNode||(!c.offsetParent&&((Ext.isIE8?am.all[c.id]:am.getElementById(c.id))!==c)&&!(Ext.detachedBodyEl&&Ext.detachedBodyEl.isAncestor(c))))};if(Ext.os.is.Android||(Ext.os.is.Windows&&Ext.supports.Touch)){Ext.onReady(function(){var c=Ext.getWin();U._windowWidth=U._viewportWidth=window.innerWidth;U._windowHeight=U._viewportHeight=window.innerHeight;c.on({focusin:"_onWindowFocusChange",focusout:"_onWindowFocusChange",pointerup:"_onWindowFocusChange",capture:true,delegated:false,delay:1,scope:U});c.on({resize:"_onWindowResize",priority:2000,scope:U})})}}));(Ext.cmd.derive("Ext.util.Filter",Ext.Base,{isFilter:true,config:{property:null,value:null,filterFn:null,id:null,anyMatch:false,exactMatch:false,caseSensitive:false,disabled:false,disableOnEmpty:false,operator:null,root:null,serializer:null,convert:null},scope:null,$configStrict:false,statics:{createFilterFn:function(d){if(!d){return Ext.returnTrue}return function(i){var p=d.isCollection?d.items:d,c=p.length,n=true,m,l;for(m=0;n&&m<c;m++){l=p[m];if(!l.getDisabled()){n=l.filter(i)}}return n}},isInvalid:function(d){if(!d.filterFn){if(!d.property){return"A Filter requires either a property or a filterFn to be set"}if(!d.hasOwnProperty("value")&&!d.operator){return"A Filter requires either a property and value, or a filterFn to be set"}}return false}},constructor:function(d){this.initConfig(d)},preventConvert:{"in":1,notin:1},filter:function(l){var m=this,i=m._filterFn||m.getFilterFn(),j=m.getConvert(),k=m._value;m._filterValue=k;m.isDateValue=Ext.isDate(k);if(m.isDateValue){m.dateValue=k.getTime()}if(j&&!m.preventConvert[m.getOperator()]){m._filterValue=j.call(m.scope||m,k)}return i.call(m.scope||m,l)},getId:function(){var d=this._id;if(!d){d=this.getProperty();if(!d){d=Ext.id(null,"ext-filter-")}this._id=d}return d},getFilterFn:function(){var h=this,g=h._filterFn,i;if(!g){i=h.getOperator();if(i){g=h.operatorFns[i]}else{g=h.createRegexFilter()}h._filterFn=g}return g},createRegexFilter:function(){var l=this,i=!!l.getAnyMatch(),m=!!l.getExactMatch(),k=l.getValue(),j=Ext.String.createRegex(k,!i,!i&&m,!l.getCaseSensitive());return function(d){var c=l.getPropertyValue(d);return j?j.test(c):(c==null)}},getPropertyValue:function(h){var i=this._root,g=(i==null)?h:h[i];return g[this._property]},getState:function(){var g=this.getInitialConfig(),i={},h;for(h in g){if(g.hasOwnProperty(h)){i[h]=g[h]}}delete i.root;i.value=this.getValue();return i},getScope:function(){return this.scope},serialize:function(){var g=this.getState(),e=this.getSerializer();delete g.id;delete g.serializer;if(e){e.call(this,g)}return g},updateOperator:function(){this._filterFn=null},updateValue:function(d){this._filterFn=null;if(this.getDisableOnEmpty()){this.setDisabled(Ext.isEmpty(d))}},updateDisableOnEmpty:function(g){var e=false;if(g){e=Ext.isEmpty(this.getValue())}this.setDisabled(e)},privates:{getCandidateValue:function(m,n,k){var l=this,j=l._convert,p=l.getPropertyValue(m);if(j){p=j.call(l.scope||l,p)}else{if(!k){p=Ext.coerce(p,n)}}return p}}},1,0,0,0,0,0,[Ext.util,"Filter"],function(){var g=this.prototype,e=(g.operatorFns={"<":function(c){var d=this._filterValue;return this.getCandidateValue(c,d)<d},"<=":function(c){var d=this._filterValue;return this.getCandidateValue(c,d)<=d},"=":function(d){var c=this,i=c._filterValue;d=c.getCandidateValue(d,i);if(c.isDateValue&&d instanceof Date){d=d.getTime();i=c.dateValue}return d==i},"===":function(d){var c=this,i=c._filterValue;d=c.getCandidateValue(d,i,true);if(c.isDateValue&&d instanceof Date){d=d.getTime();i=c.dateValue}return d===i},">=":function(c){var d=this._filterValue;return this.getCandidateValue(c,d)>=d},">":function(c){var d=this._filterValue;return this.getCandidateValue(c,d)>d},"!=":function(d){var c=this,i=c._filterValue;d=c.getCandidateValue(d,i);if(c.isDateValue&&d instanceof Date){d=d.getTime();i=c.dateValue}return d!=i},"!==":function(d){var c=this,i=c._filterValue;d=c.getCandidateValue(d,i,true);if(c.isDateValue&&d instanceof Date){d=d.getTime();i=c.dateValue}return d!==i},"in":function(c){var d=this._filterValue;return Ext.Array.contains(d,this.getCandidateValue(c,d))},notin:function(c){var d=this._filterValue;return !Ext.Array.contains(d,this.getCandidateValue(c,d))},like:function(c){var d=this._filterValue;return d&&this.getCandidateValue(c,d).toLowerCase().indexOf(d.toLowerCase())>-1}});e["=="]=e["="];e.gt=e[">"];e.ge=e[">="];e.lt=e["<"];e.le=e["<="];e.eq=e["="];e.ne=e["!="]}));(Ext.cmd.derive("Ext.util.Observable",Ext.mixin.Observable,{$applyConfigs:true},0,0,0,0,0,0,[Ext.util,"Observable"],function(g){var e=Ext.mixin.Observable;g.releaseCapture=e.releaseCapture;g.capture=e.capture;g.captureArgs=e.captureArgs;g.observe=g.observeClass=e.observe}));(Ext.cmd.derive("Ext.util.AbstractMixedCollection",Ext.Base,{isMixedCollection:true,generation:0,indexGeneration:0,constructor:function(h,i){var g=this;if(arguments.length===1&&Ext.isObject(h)){g.initialConfig=h;Ext.apply(g,h)}else{g.allowFunctions=h===true;if(i){g.getKey=i}g.initialConfig={allowFunctions:g.allowFunctions,getKey:g.getKey}}g.items=[];g.map={};g.keys=[];g.indexMap={};g.length=0;g.mixins.observable.constructor.call(g)},destroy:function(){var d=this;d.items=d.map=d.keys=d.indexMap=null;d.callParent()},allowFunctions:false,add:function(i,h){var k=this.length,j;if(arguments.length===1){j=this.insert(k,i)}else{j=this.insert(k,i,h)}return j},getKey:function(d){return d.id},replace:function(k,i){var j=this,m,l;if(arguments.length==1){i=arguments[0];k=j.getKey(i)}m=j.map[k];if(typeof k=="undefined"||k===null||typeof m=="undefined"){return j.add(k,i)}j.generation++;l=j.indexOfKey(k);j.items[l]=i;j.map[k]=i;if(j.hasListeners.replace){j.fireEvent("replace",k,m,i)}return i},reorder:function(q){var m=this,s=m.items,r=0,n=s.length,t=[],p=[],l;m.suspendEvents();for(l in q){t[q[l]]=s[l]}for(r=0;r<n;r++){if(q[r]==undefined){p.push(s[r])}}for(r=0;r<n;r++){if(t[r]==undefined){t[r]=p.shift()}}m.clear();m.addAll(t);m.resumeEvents()},updateKey:function(l,k){var n=this,m=n.map,r=n.indexOfKey(l),p=n.indexMap,q;if(r>-1){q=m[l];delete m[l];delete p[l];m[k]=q;p[k]=r;n.keys[r]=k;n.indexGeneration=++n.generation}},addAll:function(g){var h=this,i;if(arguments.length>1||Ext.isArray(g)){h.insert(h.length,arguments.length>1?arguments:g)}else{for(i in g){if(g.hasOwnProperty(i)){if(h.allowFunctions||typeof g[i]!="function"){h.add(i,g[i])}}}}},each:function(k,l){var n=Ext.Array.push([],this.items),m=0,p=n.length,i;for(;m<p;m++){i=n[m];if(k.call(l||i,i,m,p)===false){break}}},eachKey:function(k,l){var i=this.keys,n=this.items,m=0,p=i.length;for(;m<p;m++){k.call(l||window,i[m],n[m],m,p)}},findBy:function(k,l){var i=this.keys,n=this.items,m=0,p=n.length;for(;m<p;m++){if(k.call(l||window,n[m],i[m])){return n[m]}}return null},insert:function(j,i,h){var k;if(Ext.isIterable(i)){k=this.doInsert(j,i,h)}else{if(arguments.length>2){k=this.doInsert(j,[i],[h])}else{k=this.doInsert(j,[i])}k=k[0]}return k},doInsert:function(y,i,u){var w=this,E,D,A,x=i.length,F=x,B=w.hasListeners.add,C,z={},v,G,H;if(u!=null){w.useLinearSearch=true}else{u=i;i=new Array(x);for(A=0;A<x;A++){i[A]=this.getKey(u[A])}}w.suspendEvents();for(A=0;A<x;A++){E=i[A];D=w.indexOfKey(E);if(D!==-1){if(D<y){y--}w.removeAt(D)}if(E!=null){if(z[E]!=null){v=true;F--}z[E]=A}}w.resumeEvents();if(v){G=i;H=u;i=new Array(F);u=new Array(F);A=0;for(E in z){i[A]=G[z[E]];u[A]=H[z[E]];A++}x=F}C=y===w.length&&w.indexGeneration===w.generation;Ext.Array.insert(w.items,y,u);Ext.Array.insert(w.keys,y,i);w.length+=x;w.generation++;if(C){w.indexGeneration=w.generation}for(A=0;A<x;A++,y++){E=i[A];if(E!=null){w.map[E]=u[A];if(C){w.indexMap[E]=y}}if(B){w.fireEvent("add",y,u[A],E)}}return u},remove:function(h){var i=this,j,k;if(!i.useLinearSearch&&(j=i.getKey(h))){k=i.indexOfKey(j)}else{k=Ext.Array.indexOf(i.items,h)}return(k===-1)?false:i.removeAt(k)},removeAll:function(i){var g=this,h;if(i||g.hasListeners.remove){if(i){for(h=i.length-1;h>=0;--h){g.remove(i[h])}}else{while(g.length){g.removeAt(0)}}}else{g.length=g.items.length=g.keys.length=0;g.map={};g.indexMap={};g.generation++;g.indexGeneration=g.generation}},removeAt:function(k){var i=this,h,j;if(k<i.length&&k>=0){i.length--;h=i.items[k];Ext.Array.erase(i.items,k,1);j=i.keys[k];if(typeof j!="undefined"){delete i.map[j]}Ext.Array.erase(i.keys,k,1);if(i.hasListeners.remove){i.fireEvent("remove",h,j)}i.generation++;return h}return false},removeRange:function(p,v){var n=this,u,i,q,r,t,s;if(p<n.length&&p>=0){if(!v){v=1}r=Math.min(p+v,n.length);v=r-p;s=r===n.length;t=s&&n.indexGeneration===n.generation;for(q=p;q<r;q++){i=n.keys[q];if(i!=null){delete n.map[i];if(t){delete n.indexMap[i]}}}u=n.items[q-1];n.length-=v;n.generation++;if(t){n.indexGeneration=n.generation}if(s){n.items.length=n.keys.length=n.length}else{n.items.splice(p,v);n.keys.splice(p,v)}return u}return false},removeAtKey:function(j){var h=this,i=h.keys,k;if(j==null){for(k=i.length-1;k>=0;k--){if(i[k]==null){h.removeAt(k)}}}else{return h.removeAt(h.indexOfKey(j))}},getCount:function(){return this.length},indexOf:function(g){var h=this,i;if(g!=null){if(!h.useLinearSearch&&(i=h.getKey(g))){return this.indexOfKey(i)}return Ext.Array.indexOf(h.items,g)}return -1},indexOfKey:function(d){if(!this.map.hasOwnProperty(d)){return -1}if(this.indexGeneration!==this.generation){this.rebuildIndexMap()}return this.indexMap[d]},rebuildIndexMap:function(){var i=this,j=i.indexMap={},k=i.keys,m=k.length,l;for(l=0;l<m;l++){j[k[l]]=l}i.indexGeneration=i.generation},get:function(j){var h=this,k=h.map[j],i=k!==undefined?k:(typeof j=="number")?h.items[j]:undefined;return typeof i!="function"||h.allowFunctions?i:null},getAt:function(d){return this.items[d]},getByKey:function(d){return this.map[d]},contains:function(g){var h=this,i;if(g!=null){if(!h.useLinearSearch&&(i=h.getKey(g))){return this.map[i]!=null}return Ext.Array.indexOf(this.items,g)!==-1}return false},containsKey:function(d){return this.map.hasOwnProperty(d)},clear:function(){var d=this;if(d.generation){d.length=0;d.items=[];d.keys=[];d.map={};d.indexMap={};d.generation++;d.indexGeneration=d.generation}if(d.hasListeners.clear){d.fireEvent("clear")}},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(m,s,i,t){var r=this.extractValues(m,s),n=r.length,p=0,q;i=i||0;t=(t||t===0)?t:n-1;for(q=i;q<=t;q++){p+=r[q]}return p},collect:function(p,t,r){var i=this.extractValues(p,t),x=i.length,w={},v=[],q,s,u;for(u=0;u<x;u++){q=i[u];s=String(q);if((r||!Ext.isEmpty(q))&&!w[s]){w[s]=true;v.push(q)}}return v},extractValues:function(g,i){var h=this.items;if(i){h=Ext.Array.pluck(h,i)}return Ext.Array.pluck(h,g)},hasRange:function(e,g){return(g<this.length)},getRange:function(l,s){var m=this,q=m.items,r=[],t=q.length,n,p;if(t<1){return r}if(l>s){p=true;n=l;l=s;s=n}if(l<0){l=0}if(s==null||s>=t){s=t-1}r=q.slice(l,s+1);if(p&&r.length){r.reverse()}return r},filter:function(j,k,i,m){var l=[];if(Ext.isString(j)){l.push(new Ext.util.Filter({property:j,value:k,anyMatch:i,caseSensitive:m}))}else{if(Ext.isArray(j)||j instanceof Ext.util.Filter){l=l.concat(j)}}return this.filterBy(Ext.util.Filter.createFilterFn(l))},filterBy:function(p,q){var i=this,t=new i.self(i.initialConfig),m=i.keys,s=i.items,n=s.length,r;t.getKey=i.getKey;for(r=0;r<n;r++){if(p.call(q||i,s[r],m[r])){t.add(m[r],s[r])}}t.useLinearSearch=i.useLinearSearch;return t},findIndex:function(k,l,i,j,m){if(Ext.isEmpty(l,false)){return -1}l=this.createValueMatcher(l,j,m);return this.findIndexBy(function(c){return c&&l.test(c[k])},null,i)},findIndexBy:function(p,q,i){var m=this,n=m.keys,s=m.items,r=i||0,t=s.length;for(;r<t;r++){if(p.call(q||m,s[r],n[r])){return r}}return -1},createValueMatcher:function(k,i,m,l){if(!k.exec){var j=Ext.String.escapeRegex;k=String(k);if(i===true){k=j(k)}else{k="^"+j(k);if(l===true){k+="$"}}k=new RegExp(k,m?"":"i")}return k},clone:function(){var g=this,e=new g.self(g.initialConfig);e.add(g.keys,g.items);e.useLinearSearch=g.useLinearSearch;return e}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.util,"AbstractMixedCollection"],0));(Ext.cmd.derive("Ext.util.Sorter",Ext.Base,{isSorter:true,config:{property:null,sorterFn:null,root:null,transform:null,direction:"ASC",id:undefined},statics:{createComparator:function(e,g){g=g||0;return function(p,c){var m=e.isCollection?e.items:e,d=m.length,n,i;for(i=0;i<d;++i){n=m[i].sort(p,c);if(n){return n}}return g&&g(p,c)}}},multiplier:1,constructor:function(d){this.initConfig(d)},getId:function(){var d=this._id;if(!d){d=this.getProperty();if(!d){d=Ext.id(null,"ext-sorter-")}this._id=d}return d},sort:function(g,e){return this.multiplier*this.sortFn(g,e)},sortFn:function(q,r){var n=this,p=n._transform,s=n._root,m=n._property,t,l;if(s){q=q[s];r=r[s]}t=q[m];l=r[m];if(p){t=p(t);l=p(l)}return(t>l)?1:(t<l?-1:0)},applyDirection:function(d){return d?d:"ASC"},updateDirection:function(d){this.multiplier=(d.toUpperCase()==="DESC")?-1:1},updateProperty:function(d){if(d){delete this.sortFn}},updateSorterFn:function(d){this.sortFn=d},toggle:function(){this.setDirection(Ext.String.toggle(this.getDirection(),"ASC","DESC"))},getState:function(){var e=this,g={root:e.getRoot(),property:e.getProperty(),direction:e.getDirection()};if(e._id){g.id=e._id}return g},serialize:function(){return{property:this.getProperty(),direction:this.getDirection()}}},1,0,0,0,0,0,[Ext.util,"Sorter"],0));(Ext.cmd.derive("Ext.util.Sortable",Ext.Base,{isSortable:true,$configPrefixed:false,$configStrict:false,config:{sorters:null},defaultSortDirection:"ASC",multiSortLimit:3,statics:{createComparator:function(d){return d&&d.length?function(k,l){var m=d[0].sort(k,l),c=d.length,i=1;for(;!m&&i<c;i++){m=d[i].sort.call(d[i],k,l)}return m}:function(){return 0}}},applySorters:function(g){var h=this,i=h.getSorters()||new Ext.util.MixedCollection(false,Ext.returnId);if(g){i.addAll(h.decodeSorters(g))}return i},sort:function(m,n,t,p){var s=this,l,q,r=s.getSorters();if(!r){s.setSorters(null);r=s.getSorters()}if(Ext.isArray(m)){p=t;t=n}else{if(Ext.isObject(m)){m=[m];p=t;t=n}else{if(Ext.isString(m)){l=r.get(m);if(!l){l={property:m,direction:n}}else{if(n==null){l.toggle()}else{l.setDirection(n)}}m=[l]}}}if(m&&m.length){m=s.decodeSorters(m);switch(t){case"multi":r.insert(0,m[0]);q=r.getCount()-s.multiSortLimit;if(q>0){r.removeRange(s.multiSortLimit,q)}break;case"prepend":r.insert(0,m);break;case"append":r.addAll(m);break;case undefined:case null:case"replace":r.clear();r.addAll(m);break;default:}}if(p!==false){s.fireEvent("beforesort",s,m);s.onBeforeSort(m);if(s.getSorterCount()){s.doSort(s.generateComparator())}}return m},getSorterCount:function(){return this.getSorters().items.length},generateComparator:function(){var d=this.getSorters().getRange();return d.length?this.createComparator(d):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(l){if(!Ext.isArray(l)){if(l===undefined){l=[]}else{l=[l]}}var n=l.length,i=Ext.util.Sorter,q=this.getModel?this.getModel():this.model,m,r,p;for(p=0;p<n;p++){r=l[p];if(!(r instanceof i)){if(Ext.isString(r)){r={property:r}}Ext.applyIf(r,{root:this.sortRoot,direction:"ASC"});if(r.fn){r.sorterFn=r.fn}if(typeof r=="function"){r={sorterFn:r}}if(q&&!r.transform){m=q.getField(r.property);r.transform=m&&m.sortType!==Ext.identityFn?m.sortType:undefined}l[p]=new Ext.util.Sorter(r)}}return l},getFirstSorter:function(){var i=this.getSorters().items,k=i.length,j=0,h;for(;j<k;++j){h=i[j];if(!h.isGrouper){return h}}return null}},0,0,0,0,0,0,[Ext.util,"Sortable"],function(){this.prototype.createComparator=this.createComparator}));(Ext.cmd.derive("Ext.util.MixedCollection",Ext.util.AbstractMixedCollection,{constructor:function(){this.initConfig();Ext.util.AbstractMixedCollection.prototype.constructor.apply(this,arguments)},doSort:function(d){this.sortBy(d)},_sort:function(i,y,r){var s=this,w,v,x=String(y).toUpperCase()=="DESC"?-1:1,t=[],c=s.keys,u=s.items,z;r=r||function(d,e){return d-e};for(w=0,v=u.length;w<v;w++){t[t.length]={key:c[w],value:u[w],index:w}}Ext.Array.sort(t,function(d,e){return r(d[i],e[i])*x||(d.index<e.index?-1:1)});for(w=0,v=t.length;w<v;w++){z=t[w];u[w]=z.value;c[w]=z.key;s.indexMap[z.key]=w}s.generation++;s.indexGeneration=s.generation;s.fireEvent("sort",s)},sortBy:function(s){var i=this,t=i.items,m,n=i.keys,q,p=t.length,r;for(r=0;r<p;r++){t[r].$extCollectionIndex=r}Ext.Array.sort(t,function(c,d){return s(c,d)||(c.$extCollectionIndex<d.$extCollectionIndex?-1:1)});for(r=0;r<p;r++){m=t[r];q=i.getKey(m);n[r]=q;i.indexMap[q]=r;delete t.$extCollectionIndex}i.generation++;i.indexGeneration=i.generation;i.fireEvent("sort",i,t,n)},findInsertionIndex:function(p,q){var n=this,s=n.items,l=0,t=s.length-1,r,m;if(!q){q=n.generateComparator()}while(l<=t){r=(l+t)>>1;m=q(p,s[r]);if(m>=0){l=r+1}else{if(m<0){t=r-1}}}return l},reorder:function(d){Ext.util.AbstractMixedCollection.prototype.reorder.call(this,d);this.fireEvent("sort",this)},sortByKey:function(g,e){this._sort("key",g,e||function(j,k){var c=String(j).toUpperCase(),d=String(k).toUpperCase();return c>d?1:(c<d?-1:0)})}},1,0,0,0,0,[["sortable",Ext.util.Sortable]],[Ext.util,"MixedCollection"],0));(Ext.cmd.derive("Ext.util.TaskRunner",Ext.Base,{interval:10,timerId:null,constructor:function(g){var e=this;if(typeof g=="number"){e.interval=g}else{if(g){Ext.apply(e,g)}}e.tasks=[];e.timerFn=Ext.Function.bind(e.onTick,e)},newTask:function(e){var g=new Ext.util.TaskRunner.Task(e);g.manager=this;return g},start:function(i){var g=this,h=Ext.Date.now();if(!i.pending){g.tasks.push(i);i.pending=true}i.stopped=false;i.taskStartTime=h;i.taskRunTime=i.fireOnStart!==false?0:i.taskStartTime;i.taskRunCount=0;if(!g.firing){if(i.fireOnStart!==false){g.startTimer(0,h)}else{g.startTimer(i.interval,h)}}return i},stop:function(d){if(!d.stopped){d.stopped=true;if(d.onStop){d.onStop.call(d.scope||d,d)}}return d},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:false,nextExpires:1e+99,onTick:function(){var u=this,A=u.tasks,F=Ext.Date.now(),i=1e+99,w=A.length,C=Ext.GlobalEvents,D,H,y,E,B,z,G;u.timerId=null;u.firing=true;for(y=0;y<w||y<(w=A.length);++y){E=A[y];if(!(z=E.stopped)){D=E.taskRunTime+E.interval;if(D<=F){B=1;if(E.hasOwnProperty("fireIdleEvent")){G=E.fireIdleEvent}else{G=u.fireIdleEvent}try{B=E.run.apply(E.scope||E,E.args||[++E.taskRunCount])}catch(x){try{if(E.onError){B=E.onError.call(E.scope||E,E,x)}}catch(v){}}E.taskRunTime=F;if(B===false||E.taskRunCount===E.repeat){u.stop(E);z=true}else{z=E.stopped;D=F+E.interval}}if(!z&&E.duration&&E.duration<=(F-E.taskStartTime)){u.stop(E);z=true}}if(z){E.pending=false;if(!H){H=A.slice(0,y)}}else{if(H){H.push(E)}if(i>D){i=D}}}if(H){u.tasks=H}u.firing=false;if(u.tasks.length){u.startTimer(i-F,Ext.Date.now())}if(G!==false&&C.hasListeners.idle){C.fireEvent("idle")}},startTimer:function(i,k){var j=this,l=k+i,m=j.timerId;if(m&&j.nextExpires-l>j.interval){clearTimeout(m);m=null}if(!m){if(i<j.interval){i=j.interval}j.timerId=Ext.defer(j.timerFn,i);j.nextExpires=l}}},1,0,0,0,0,0,[Ext.util,"TaskRunner"],function(){var e=this,g=e.prototype;g.destroy=g.stopAll;e.Task=new Ext.Class({isTask:true,stopped:true,fireOnStart:false,constructor:function(c){Ext.apply(this,c)},restart:function(c){if(c!==undefined){this.interval=c}this.manager.start(this)},start:function(c){if(this.stopped){this.restart(c)}},stop:function(){this.manager.stop(this)}});g=e.Task.prototype;g.destroy=g.stop}));(Ext.cmd.derive("Ext.fx.target.Target",Ext.Base,{isAnimTarget:true,constructor:function(d){this.target=d;this.id=this.getId()},getId:function(){return this.target.id},remove:function(){Ext.destroy(this.target)}},1,0,0,0,0,0,[Ext.fx.target,"Target"],0));(Ext.cmd.derive("Ext.fx.target.Element",Ext.fx.target.Target,{type:"element",getElVal:function(h,i,g){if(g===undefined){if(i==="x"){g=h.getX()}else{if(i==="y"){g=h.getY()}else{if(i==="scrollTop"){g=h.getScroll().top}else{if(i==="scrollLeft"){g=h.getScroll().left}else{if(i==="height"){g=h.getHeight()}else{if(i==="width"){g=h.getWidth()}else{g=h.getStyle(i)}}}}}}}return g},getAttr:function(i,g){var h=this.target;return[[h,this.getElVal(h,i,g)]]},setAttr:function(i){var n=i.length,q,t,j,p,r,s;for(p=0;p<n;p++){q=i[p].attrs;for(t in q){if(q.hasOwnProperty(t)){s=q[t].length;for(r=0;r<s;r++){j=q[t][r];this.setElVal(j[0],t,j[1])}}}}},setElVal:function(h,i,g){if(i==="x"){h.setX(g)}else{if(i==="y"){h.setY(g)}else{if(i==="scrollTop"){h.scrollTo("top",g)}else{if(i==="scrollLeft"){h.scrollTo("left",g)}else{if(i==="width"){h.setWidth(g)}else{if(i==="height"){h.setHeight(g)}else{h.setStyle(i,g)}}}}}}}},0,0,0,0,0,0,[Ext.fx.target,"Element"],0));(Ext.cmd.derive("Ext.fx.target.ElementCSS",Ext.fx.target.Element,{setAttr:function(i,A){var F={attrs:[],duration:[],easing:[]},v=i.length,j=function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},H={single:true},z,G,x,w,C,D,y,B,E;for(y=0;y<v;y++){G=i[y];C=G.duration;w=G.easing;G=G.attrs;for(x in G){if(Ext.Array.indexOf(F.attrs,x)==-1){F.attrs.push(x.replace(/[A-Z]/g,function(c){return"-"+c.toLowerCase()}));F.duration.push(C+"ms");F.easing.push(w)}}}z=F.attrs.join(",");C=F.duration.join(",");w=F.easing.join(", ");for(y=0;y<v;y++){G=i[y].attrs;for(x in G){E=G[x].length;for(B=0;B<E;B++){D=G[x][B];D[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",A?"":z);D[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",A?"":C);D[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",A?"":w);D[0].setStyle(x,D[1]);if(A){D=D[0].dom.offsetWidth}else{D[0].on(Ext.supports.CSS3TransitionEnd,j,D[0],H)}}}}}},0,0,0,0,0,0,[Ext.fx.target,"ElementCSS"],0));(Ext.cmd.derive("Ext.fx.target.CompositeElement",Ext.fx.target.Element,{isComposite:true,constructor:function(d){d.id=d.id||Ext.id(null,"ext-composite-");Ext.fx.target.Element.prototype.constructor.call(this,d)},getAttr:function(t,i){var s=[],m=this.target,n=m.elements,p=n.length,r,q;for(r=0;r<p;r++){q=n[r];if(q){q=m.getElement(q);s.push([q,this.getElVal(q,t,i)])}}return s},setAttr:function(j){var u=this.target,k=j.length,A=u.elements,C=A.length,i,y,D,v,z,w,x,B;for(w=0;w<k;w++){D=j[w].attrs;for(v in D){if(D.hasOwnProperty(v)){B=D[v].length;for(x=0;x<B;x++){i=D[v][x][1];for(y=0;y<C;++y){z=A[y];if(z){z=u.getElement(z);this.setElVal(z,v,i)}}}}}}},remove:function(){this.target.destroy()}},1,0,0,0,0,0,[Ext.fx.target,"CompositeElement"],0));(Ext.cmd.derive("Ext.fx.target.CompositeElementCSS",Ext.fx.target.CompositeElement,{setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}},0,0,0,0,0,0,[Ext.fx.target,"CompositeElementCSS"],0));(Ext.cmd.derive("Ext.fx.target.Sprite",Ext.fx.target.Target,{type:"draw",getFromPrim:function(h,i){var g;switch(i){case"rotate":case"rotation":g=h.attr.rotation;return{x:g.x||0,y:g.y||0,degrees:g.degrees||0};case"scale":case"scaling":g=h.attr.scaling;return{x:g.x||1,y:g.y||1,cx:g.cx||0,cy:g.cy||0};case"translate":case"translation":g=h.attr.translation;return{x:g.x||0,y:g.y||0};default:return h.attr[i]}},getAttr:function(g,e){return[[this.target,e!==undefined?e:this.getFromPrim(this.target,g)]]},setAttr:function(v){var z=v.length,x=[],D,A,H,F,G,i,j,B,C,w,y,E;for(B=0;B<z;B++){D=v[B].attrs;for(A in D){H=D[A];E=H.length;for(C=0;C<E;C++){G=H[C][0];F=H[C][1];if(A==="translate"||A==="translation"){j={x:F.x,y:F.y}}else{if(A==="rotate"||A==="rotation"){w=F.x;if(isNaN(w)){w=null}y=F.y;if(isNaN(y)){y=null}j={degrees:F.degrees,x:w,y:y}}else{if(A==="scale"||A==="scaling"){w=F.x;if(isNaN(w)){w=null}y=F.y;if(isNaN(y)){y=null}j={x:w,y:y,cx:F.cx,cy:F.cy}}else{if(A==="width"||A==="height"||A==="x"||A==="y"){j=parseFloat(F)}else{j=F}}}}i=Ext.Array.indexOf(x,G);if(i===-1){x.push([G,{}]);i=x.length-1}x[i][1][A]=j}}}z=x.length;for(B=0;B<z;B++){x[B][0].setAttributes(x[B][1])}this.target.redraw()}},0,0,0,0,0,0,[Ext.fx.target,"Sprite"],0));(Ext.cmd.derive("Ext.fx.target.CompositeSprite",Ext.fx.target.Sprite,{getAttr:function(r,i){var q=[],l=[].concat(this.target.items),m=l.length,n,p;for(n=0;n<m;n++){p=l[n];q.push([p,i!==undefined?i:this.getFromPrim(p,r)])}return q}},0,0,0,0,0,0,[Ext.fx.target,"CompositeSprite"],0));(Ext.cmd.derive("Ext.fx.target.Component",Ext.fx.target.Target,{type:"component",getPropMethod:{top:function(){return this.getPosition(true)[1]},left:function(){return this.getPosition(true)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},setMethods:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(g,e){return[[this.target,e!==undefined?e:this.getPropMethod[g].call(this.target)]]},setAttr:function(J,A,E){var L=this,h=J.length,G,i,D,z,B,j,C,K,H,w,F={},I;for(z=0;z<h;z++){G=J[z].attrs;for(i in G){j=G[i].length;for(B=0;B<j;B++){D=G[i][B];I=F[L.setMethods[i]]||(F[L.setMethods[i]]={});I.target=D[0];I[i]=D[1]}}if(F.setPosition){D=F.setPosition;C=(D.left===undefined)?undefined:parseFloat(D.left);K=(D.top===undefined)?undefined:parseFloat(D.top);D.target.setPosition(C,K)}if(F.setPagePosition){D=F.setPagePosition;D.target.setPagePosition(D.x,D.y)}if(F.setSize){D=F.setSize;H=(D.width===undefined)?D.target.getWidth():parseFloat(D.width);w=(D.height===undefined)?D.target.getHeight():parseFloat(D.height);D.target.el.setSize(H,w);if(E||L.dynamic){Ext.GlobalEvents.on({idle:Ext.Function.bind(D.target.setSize,D.target,[H,w]),single:true})}}if(F.setOpacity){D=F.setOpacity;D.target.el.setStyle("opacity",D.opacity)}}}},0,0,0,0,0,0,[Ext.fx.target,"Component"],0));(Ext.cmd.derive("Ext.fx.Queue",Ext.Base,{constructor:function(){this.targets=new Ext.util.HashMap();this.fxQueue={}},getFxDefaults:function(g){var e=this.targets.get(g);if(e){return e.fxDefaults}return{}},setFxDefaults:function(i,g){var h=this.targets.get(i);if(h){h.fxDefaults=Ext.apply(h.fxDefaults||{},g)}},stopAnimation:function(l){var i=this,m=i.getFxQueue(l),j=m.length,k;while(j){k=m[j-1];if(k){k.end()}j--}},getActiveAnimation:function(e){var g=this.getFxQueue(e);return(g&&!!g.length)?g[0]:false},hasFxBlock:function(e){var g=this.getFxQueue(e);return g&&g[0]&&g[0].block},getFxQueue:function(j){if(!j){return false}var i=this,k=i.fxQueue[j],h=i.targets.get(j);if(!h){return false}if(!k){i.fxQueue[j]=[];if(h.type!=="element"){h.target.on("destroy",function(){i.fxQueue[j]=[]})}}return i.fxQueue[j]},queueFx:function(j){var k=this,i=j.target,m,l;if(!i){return}m=k.getFxQueue(i.getId());l=m.length;if(l){if(j.concurrent){j.paused=false}else{m[l-1].on("afteranimate",function(){j.paused=false})}}else{j.paused=false}j.on("afteranimate",function(){Ext.Array.remove(m,j);if(m.length===0){k.targets.remove(j.target)}if(j.remove){if(i.type==="element"){var c=Ext.get(i.id);if(c){c.destroy()}}}},k,{single:true});m.push(j)}},1,0,0,0,0,0,[Ext.fx,"Queue"],0));(Ext.cmd.derive("Ext.fx.Manager",Ext.Base,{singleton:true,constructor:function(){var d=this;d.items=new Ext.util.MixedCollection();d.targetArr={};d.mixins.queue.constructor.call(d);d.taskRunner=new Ext.util.TaskRunner()},interval:16,forceJS:true,createTarget:function(h){var j=this,i=!j.forceJS&&Ext.supports.Transitions,k;j.useCSS3=i;if(h){if(h.tagName||Ext.isString(h)||h.isFly){h=Ext.get(h);k=new Ext.fx.target["Element"+(i?"CSS":"")](h)}else{if(h.dom){k=new Ext.fx.target["Element"+(i?"CSS":"")](h)}else{if(h.isComposite){k=new Ext.fx.target["CompositeElement"+(i?"CSS":"")](h)}else{if(h.isSprite){k=new Ext.fx.target.Sprite(h)}else{if(h.isCompositeSprite){k=new Ext.fx.target.CompositeSprite(h)}else{if(h.isComponent){k=new Ext.fx.target.Component(h)}else{if(h.isAnimTarget){return h}else{return null}}}}}}}j.targets.add(k);return k}else{return null}},addAnim:function(h){var i=this,j=i.items,k=i.task;j.add(h.id,h);if(!k&&j.length){k=i.task={run:i.runner,interval:i.interval,scope:i};i.taskRunner.start(k)}},removeAnim:function(h){var i=this,j=i.items,k=i.task;j.removeAtKey(h.id);if(k&&!j.length){i.taskRunner.stop(k);delete i.task}},runner:function(){var j=this,l=j.items.getRange(),k=0,m=l.length,i;j.targetArr={};j.timestamp=new Date();for(;k<m;k++){i=l[k];if(i.isReady()){j.startAnim(i)}}for(k=0;k<m;k++){i=l[k];if(i.isRunning()){j.runAnim(i)}}j.applyPendingAttrs();j.targetArr=null},startAnim:function(d){d.start(this.timestamp)},runAnim:function(p,t){if(!p){return}var q=this,m=q.useCSS3&&p.target.type==="element",s=q.timestamp-p.startTime,r=(s>=p.duration),n,l;if(t){s=p.duration;r=true}n=this.collectTargetData(p,s,m,r);if(m){p.target.setAttr(n.anims[p.id].attributes,true);q.collectTargetData(p,p.duration,m,r);p.paused=true;n=p.target.target;if(p.target.isComposite){n=p.target.target.last()}l={};l[Ext.supports.CSS3TransitionEnd]=p.lastFrame;l.scope=p;l.single=true;n.on(l)}return n},jumpToEnd:function(i){var j=this,h,k;if(!j.targetArr){j.targetArr={};k=true}h=j.runAnim(i,true);j.applyAnimAttrs(h,h.anims[i.id]);if(k){j.targetArr=null}},collectTargetData:function(m,p,k,j){var n=m.target.getId(),l=this.targetArr[n];if(!l){l=this.targetArr[n]={id:n,el:m.target,anims:{}}}l.anims[m.id]={id:m.id,anim:m,elapsed:p,isLastFrame:j,attributes:[{duration:m.duration,easing:(k&&m.reverse)?m.easingFn.reverse().toCSS3():m.easing,attrs:m.runAnim(p)}]};return l},applyAnimAttrs:function(g,i){var h=i.anim;if(i.attributes&&h.isRunning()){g.el.setAttr(i.attributes,false,i.isLastFrame);if(i.isLastFrame){h.lastFrame()}}},applyPendingAttrs:function(){var k=this.targetArr,j,m,n,l,p;for(m in k){if(k.hasOwnProperty(m)){j=k[m];for(p in j.anims){if(j.anims.hasOwnProperty(p)){n=j.anims[p];l=n.anim;if(n.attributes&&l.isRunning()){j.el.setAttr(n.attributes,false,n.isLastFrame);if(n.isLastFrame){l.lastFrame()}}}}}}}},1,0,0,0,0,[["queue",Ext.fx.Queue]],[Ext.fx,"Manager"],0));(Ext.cmd.derive("Ext.fx.Animator",Ext.Base,{isAnimator:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",running:false,paused:false,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(g){var e=this;g=Ext.apply(e,g||{});e.config=g;e.id=Ext.id(null,"ext-animator-");e.mixins.observable.constructor.call(e,g);e.timeline=[];e.createTimeline(e.keyframes);if(e.target){e.applyAnimator(e.target);Ext.fx.Manager.addAnim(e)}},sorter:function(e,g){return e.pct-g.pct},createTimeline:function(w){var t=this,q=[],s=t.to||{},y=t.duration,i,z,x,u,r,v;for(r in w){if(w.hasOwnProperty(r)&&t.animKeyFramesRE.test(r)){v={attrs:Ext.apply(w[r],s)};if(r==="from"){r=0}else{if(r==="to"){r=100}}v.pct=parseInt(r,10);q.push(v)}}Ext.Array.sort(q,t.sorter);u=q.length;for(x=0;x<u;x++){i=(q[x-1])?y*(q[x-1].pct/100):0;z=y*(q[x].pct/100);t.timeline.push({duration:z-i,attrs:q[x].attrs})}},applyAnimator:function(u){var r=this,q=[],i=r.timeline,s=i.length,w,t,x,p,v;if(r.fireEvent("beforeanimate",r)!==false){for(v=0;v<s;v++){w=i[v];p=w.attrs;t=p.easing||r.easing;x=p.damper||r.damper;delete p.easing;delete p.damper;w=new Ext.fx.Anim({target:u,easing:t,damper:x,duration:w.duration,paused:true,to:p});q.push(w)}r.animations=q;r.target=w.target;for(v=0;v<s-1;v++){w=q[v];w.nextAnim=q[v+1];w.on("afteranimate",function(){this.nextAnim.paused=false});w.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},r)}q[s-1].on("afteranimate",function(){this.lastFrame()},r)}},start:function(j){var i=this,k=i.delay,l=i.delayStart,m;if(k){if(!l){i.delayStart=j;return}else{m=j-l;if(m<k){return}else{j=new Date(l.getTime()+k)}}}if(i.fireEvent("beforeanimate",i)!==false){i.startTime=j;i.running=true;i.animations[i.keyframeStep].paused=false}},lastFrame:function(){var g=this,i=g.iterations,h=g.currentIteration;h++;if(h<i){g.startTime=new Date();g.currentIteration=h;g.keyframeStep=0;g.applyAnimator(g.target);g.animations[g.keyframeStep].paused=false}else{g.currentIteration=0;g.end()}},end:function(){var d=this;d.fireEvent("afteranimate",d,d.startTime,new Date()-d.startTime)},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return false}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.fx,"Animator"],0));(Ext.cmd.derive("Ext.fx.CubicBezier",Ext.Base,{singleton:true,cubicBezierAtTime:function(t,D,F,u,v,z){var y=3*D,w=3*(u-D)-y,G=1-y-w,A=3*F,x=3*(v-F)-A,H=1-A-x;function B(c){return((G*c+w)*c+y)*c}function E(e,c){var d=C(e,c);return((H*d+x)*d+A)*d}function C(h,k){var c,i,d,g,j,e;for(d=h,e=0;e<8;e++){g=B(d)-h;if(Math.abs(g)<k){return d}j=(3*G*d+2*w)*d+y;if(Math.abs(j)<0.000001){break}d=d-g/j}c=0;i=1;d=h;if(d<c){return c}if(d>i){return i}while(c<i){g=B(d);if(Math.abs(g-h)<k){return d}if(h>g){c=d}else{i=d}d=(i-c)/2+c}return d}return E(t,1/(200*z))},cubicBezier:function(l,i,m,k){var j=function(c){return Ext.fx.CubicBezier.cubicBezierAtTime(c,l,i,m,k,1)};j.toCSS3=function(){return"cubic-bezier("+[l,i,m,k].join(",")+")"};j.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-m,1-k,1-l,1-i)};return j}},0,0,0,0,0,0,[Ext.fx,"CubicBezier"],0));(Ext.cmd.derive("Ext.fx.Easing",Ext.Base,function(){var m=Math,k=m.PI,n=m.pow,q=m.sin,l=m.sqrt,r=m.abs,p=1.70158;return{singleton:true,linear:Ext.identityFn,ease:function(g){var t=0.07813-g/2,c=l(0.0066+t*t),e=c-t,h=n(r(e),1/3)*(e<0?-1:1),i=-c-t,j=n(r(i),1/3)*(i<0?-1:1),d=h+j+0.25;return n(1-d,2)*3*d*0.1+(1-d)*3*d*d+d*d*d},easeIn:function(c){return n(c,1.7)},easeOut:function(c){return n(c,0.48)},easeInOut:function(g){var t=0.48-g/1.04,c=l(0.1734+t*t),e=c-t,h=n(r(e),1/3)*(e<0?-1:1),i=-c-t,j=n(r(i),1/3)*(i<0?-1:1),d=h+j+0.5;return(1-d)*3*d*d+d*d*d},backIn:function(c){return c*c*((p+1)*c-p)},backOut:function(c){c=c-1;return c*c*((p+1)*c+p)+1},elasticIn:function(c){if(c===0||c===1){return c}var d=0.3,e=d/4;return n(2,-10*c)*q((c-e)*(2*k)/d)+1},elasticOut:function(c){return 1-Ext.fx.Easing.elasticIn(1-c)},bounceIn:function(c){return 1-Ext.fx.Easing.bounceOut(1-c)},bounceOut:function(e){var c=7.5625,g=2.75,d;if(e<(1/g)){d=c*e*e}else{if(e<(2/g)){e-=(1.5/g);d=c*e*e+0.75}else{if(e<(2.5/g)){e-=(2.25/g);d=c*e*e+0.9375}else{e-=(2.625/g);d=c*e*e+0.984375}}}return d}}},0,0,0,0,0,0,[Ext.fx,"Easing"],function(h){var g=h.self,i=g.prototype;g.addMembers({"back-in":i.backIn,"back-out":i.backOut,"ease-in":i.easeIn,"ease-out":i.easeOut,"elastic-in":i.elasticIn,"elastic-out":i.elasticOut,"bounce-in":i.bounceIn,"bounce-out":i.bounceOut,"ease-in-out":i.easeInOut})}));(Ext.cmd.derive("Ext.fx.DrawPath",Ext.Base,{singleton:true,pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,is:function(e,g){g=String(g).toLowerCase();return(g=="object"&&e===Object(e))||(g=="undefined"&&typeof e==g)||(g=="null"&&e===null)||(g=="array"&&Array.isArray&&Array.isArray(e))||(Object.prototype.toString.call(e).toLowerCase().slice(8,-1))==g},path2string:function(){return this.join(",").replace(Ext.fx.DrawPath.pathToStringRE,"$1")},pathToString:function(d){return d.join(",").replace(Ext.fx.DrawPath.pathToStringRE,"$1")},parsePathString:function(k){if(!k){return null}var h={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=[],j=this;if(j.is(k,"array")&&j.is(k[0],"array")){i=j.pathClone(k)}if(!i.length){String(k).replace(j.pathCommandRE,function(g,m,c){var d=[],e=m.toLowerCase();c.replace(j.pathValuesRE,function(p,l){if(l){d.push(+l)}});if(e=="m"&&d.length>2){i.push([m].concat(Ext.Array.splice(d,0,2)));e="l";m=(m=="m")?"l":"L"}while(d.length>=h[e]){i.push([m].concat(Ext.Array.splice(d,0,h[e])));if(!h[e]){break}}})}i.toString=j.path2string;return i},pathClone:function(i){var m=[],p,j,n,l;if(!this.is(i,"array")||!this.is(i&&i[0],"array")){i=this.parsePathString(i)}for(n=0,l=i.length;n<l;n++){m[n]=[];for(p=0,j=i[n].length;p<j;p++){m[n][p]=i[n][p]}}m.toString=this.path2string;return m},pathToAbsolute:function(y){if(!this.is(y,"array")||!this.is(y&&y[0],"array")){y=this.parsePathString(y)}var t=[],j=0,r=0,B=0,i=0,v=0,u=y.length,z,x,w,A;if(u&&y[0][0]=="M"){j=+y[0][1];r=+y[0][2];B=j;i=r;v++;t[0]=["M",j,r]}for(;v<u;v++){z=t[v]=[];x=y[v];if(x[0]!=x[0].toUpperCase()){z[0]=x[0].toUpperCase();switch(z[0]){case"A":z[1]=x[1];z[2]=x[2];z[3]=x[3];z[4]=x[4];z[5]=x[5];z[6]=+(x[6]+j);z[7]=+(x[7]+r);break;case"V":z[1]=+x[1]+r;break;case"H":z[1]=+x[1]+j;break;case"M":B=+x[1]+j;i=+x[2]+r;default:w=1;A=x.length;for(;w<A;w++){z[w]=+x[w]+((w%2)?j:r)}}}else{w=0;A=x.length;for(;w<A;w++){t[v][w]=x[w]}}switch(z[0]){case"Z":j=B;r=i;break;case"H":j=z[1];break;case"V":r=z[1];break;case"M":x=t[v];A=x.length;B=x[A-2];i=x[A-1];default:x=t[v];A=x.length;j=x[A-2];r=x[A-1]}}t.toString=this.path2string;return t},interpolatePaths:function(F,v){var x=this,B=x.pathToAbsolute(F),p=x.pathToAbsolute(v),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},E={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},D=function(e,d){if(e[d].length>7){e[d].shift();var c=e[d];while(c.length){Ext.Array.splice(e,d++,0,["C"].concat(Ext.Array.splice(c,0,6)))}Ext.Array.erase(e,d,1);H=Math.max(B.length,p.length||0)}},C=function(h,c,e,g,d){if(h&&c&&h[d][0]=="M"&&c[d][0]!="M"){Ext.Array.splice(c,d,0,["M",g.x,g.y]);e.bx=0;e.by=0;e.x=h[d][1];e.y=h[d][2];H=Math.max(B.length,p.length||0)}},y,H,z,G,A,w;for(y=0,H=Math.max(B.length,p.length||0);y<H;y++){B[y]=x.command2curve(B[y],i);D(B,y);(p[y]=x.command2curve(p[y],E));D(p,y);C(B,p,i,E,y);C(p,B,E,i,y);z=B[y];G=p[y];A=z.length;w=G.length;i.x=z[A-2];i.y=z[A-1];i.bx=parseFloat(z[A-4])||i.x;i.by=parseFloat(z[A-3])||i.y;E.bx=(parseFloat(G[w-4])||E.x);E.by=(parseFloat(G[w-3])||E.y);E.x=G[w-2];E.y=G[w-1]}return[B,p]},command2curve:function(d,h){var i=this;if(!d){return["C",h.x,h.y,h.x,h.y,h.x,h.y]}if(d[0]!="T"&&d[0]!="Q"){h.qx=h.qy=null}switch(d[0]){case"M":h.X=d[1];h.Y=d[2];break;case"A":d=["C"].concat(i.arc2curve.apply(i,[h.x,h.y].concat(d.slice(1))));break;case"S":d=["C",h.x+(h.x-(h.bx||h.x)),h.y+(h.y-(h.by||h.y))].concat(d.slice(1));break;case"T":h.qx=h.x+(h.x-(h.qx||h.x));h.qy=h.y+(h.y-(h.qy||h.y));d=["C"].concat(i.quadratic2curve(h.x,h.y,h.qx,h.qy,d[1],d[2]));break;case"Q":h.qx=d[1];h.qy=d[2];d=["C"].concat(i.quadratic2curve(h.x,h.y,d[1],d[2],d[3],d[4]));break;case"L":d=["C"].concat(h.x,h.y,d[1],d[2],d[1],d[2]);break;case"H":d=["C"].concat(h.x,h.y,d[1],h.y,d[1],h.y);break;case"V":d=["C"].concat(h.x,h.y,h.x,d[1],h.x,d[1]);break;case"Z":d=["C"].concat(h.x,h.y,h.X,h.Y,h.X,h.Y);break}return d},quadratic2curve:function(s,q,m,p,t,r){var n=1/3,l=2/3;return[n*s+l*m,n*q+l*p,n*t+l*m,n*r+l*p,t,r]},rotate:function(q,k,r){var n=Math.cos(r),p=Math.sin(r),l=q*n-k*p,m=q*p+k*n;return{x:l,y:m}},arc2curve:function(aO,aw,at,av,aH,aT,aX,aP,az,aF){var aL=this,aZ=Math.PI,aJ=aL.radian,ax=aZ*120/180,a1=aJ*(+aH||0),an=[],aq=Math,t=aq.cos,a2=aq.sin,i=aq.sqrt,aN=aq.abs,aS=aq.asin,ar,al,am,aG,a0,y,k,aB,aD,aU,aV,aQ,aW,aA,aY,aC,ak,x,aj,aE,aI,aK,h,ao,aM,ap,ay,au,aR;if(!aF){ar=aL.rotate(aO,aw,-a1);aO=ar.x;aw=ar.y;ar=aL.rotate(aP,az,-a1);aP=ar.x;az=ar.y;al=(aO-aP)/2;am=(aw-az)/2;aG=(al*al)/(at*at)+(am*am)/(av*av);if(aG>1){aG=i(aG);at=aG*at;av=aG*av}a0=at*at;y=av*av;k=(aT==aX?-1:1)*i(aN((a0*y-a0*am*am-y*al*al)/(a0*am*am+y*al*al)));aB=k*at*am/av+(aO+aP)/2;aD=k*-av*al/at+(aw+az)/2;aU=aS(((aw-aD)/av).toFixed(7));aV=aS(((az-aD)/av).toFixed(7));aU=aO<aB?aZ-aU:aU;aV=aP<aB?aZ-aV:aV;if(aU<0){aU=aZ*2+aU}if(aV<0){aV=aZ*2+aV}if(aX&&aU>aV){aU=aU-aZ*2}if(!aX&&aV>aU){aV=aV-aZ*2}}else{aU=aF[0];aV=aF[1];aB=aF[2];aD=aF[3]}aQ=aV-aU;if(aN(aQ)>ax){ay=aV;au=aP;aR=az;aV=aU+ax*(aX&&aV>aU?1:-1);aP=aB+at*t(aV);az=aD+av*a2(aV);an=aL.arc2curve(aP,az,at,av,aH,0,aX,au,aR,[aV,ay,aB,aD])}aQ=aV-aU;aW=t(aU);aA=a2(aU);aY=t(aV);aC=a2(aV);ak=aq.tan(aQ/4);x=4/3*at*ak;aj=4/3*av*ak;aE=[aO,aw];aI=[aO+x*aA,aw-aj*aW];aK=[aP+x*aC,az-aj*aY];h=[aP,az];aI[0]=2*aE[0]-aI[0];aI[1]=2*aE[1]-aI[1];if(aF){return[aI,aK,h].concat(an)}else{an=[aI,aK,h].concat(an).join().split(",");ao=[];ap=an.length;for(aM=0;aM<ap;aM++){ao[aM]=aM%2?aL.rotate(an[aM-1],an[aM],a1).y:aL.rotate(an[aM],an[aM+1],a1).x}return ao}}},0,0,0,0,0,0,[Ext.fx,"DrawPath"],0));(Ext.cmd.derive("Ext.fx.PropertyHandler",Ext.Base,{statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(m,t,v,q,n){v=(typeof v=="number")?v:1;var p=this.unitRE,s=p.exec(m),u,r;if(s){m=s[1];r=s[2];if(!this.scrollRE.test(n)&&!r&&this.pixelDefaultsRE.test(n)){r="px"}}m=+m||0;s=p.exec(t);if(s){t=s[1];r=s[2]||r}t=+t||0;u=(q!=null)?q:m;return{from:m,delta:(t-u)*v,units:r}},get:function(i,A,B,j,u){var s=i.length,y=[],x,v,t,z,w;for(x=0;x<s;x++){if(j){v=j[x][1].from}if(Ext.isArray(i[x][1])&&Ext.isArray(A)){t=[];z=0;w=i[x][1].length;for(;z<w;z++){t.push(this.computeDelta(i[x][1][z],A[z],B,v,u))}y.push([i[x][0],t])}else{y.push([i[x][0],this.computeDelta(i[x][1],A,B,v,u)])}}return y},set:function(i,q){var p=i.length,t=[],s,v,j,r,u;for(s=0;s<p;s++){v=i[s][1];if(Ext.isArray(v)){j=[];u=0;r=v.length;for(;u<r;u++){j.push(v[u].from+v[u].delta*q+(v[u].units||0))}t.push([i[s][0],j])}else{t.push([i[s][0],v.from+v.delta*q+(v.units||0)])}}return t}},stringHandler:{computeDelta:function(i,l,j,k,m){return{from:i,delta:l}},get:function(i,u,v,n,q){var p=i.length,t=[],s,r;for(s=0;s<p;s++){t.push([i[s][0],this.computeDelta(i[s][1],u,v,r,q)])}return t},set:function(p,i){var l=p.length,n=[],m,k;for(m=0;m<l;m++){k=p[m][1];n.push([p[m][0],k.delta])}return n}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(r,v){v=(typeof v=="number")?v:1;var q=false,t=[this.hexRE,this.rgbRE,this.hex3RE],s=t.length,n,u,i,p;for(p=0;p<s;p++){i=t[p];u=(p%2===0)?16:10;n=i.exec(r);if(n&&n.length===4){if(p===2){n[1]+=n[1];n[2]+=n[2];n[3]+=n[3]}q={red:parseInt(n[1],u),green:parseInt(n[2],u),blue:parseInt(n[3],u)};break}}return q||r},computeDelta:function(k,r,m,p){k=this.parseColor(k);r=this.parseColor(r,m);var l=p?p:k,q=typeof l,n=typeof r;if(q==="string"||q==="undefined"||n==="string"||n==="undefined"){return r||l}return{from:k,delta:{red:Math.round((r.red-l.red)*m),green:Math.round((r.green-l.green)*m),blue:Math.round((r.blue-l.blue)*m)}}},get:function(i,t,n,q){var m=i.length,r=[],p,s;for(p=0;p<m;p++){if(q){s=q[p][1].from}r.push([i[p][0],this.computeDelta(i[p][1],t,n,s)])}return r},set:function(i,r){var q=i.length,t=[],s,u,v,p,n;for(s=0;s<q;s++){u=i[s][1];if(u){p=u.from;n=u.delta;u=(typeof u==="object"&&"red" in u)?"rgb("+u.red+", "+u.green+", "+u.blue+")":u;u=(typeof u==="object"&&u.length)?u[0]:u;if(typeof u==="undefined"){return[]}v=typeof u==="string"?u:"rgb("+[(p.red+Math.round(n.red*r))%256,(p.green+Math.round(n.green*r))%256,(p.blue+Math.round(n.blue*r))%256].join(",")+")";t.push([i[s][0],v])}}return t}},object:{interpolate:function(h,j){j=(typeof j==="number")?j:1;var k={},i;for(i in h){k[i]=parseFloat(h[i])*j}return k},computeDelta:function(k,r,p,q){k=this.interpolate(k);r=this.interpolate(r,p);var l=q?q:k,m={},n;for(n in r){m[n]=r[n]-l[n]}return{from:k,delta:m}},get:function(i,t,n,q){var m=i.length,r=[],p,s;for(p=0;p<m;p++){if(q){s=q[p][1].from}r.push([i[p][0],this.computeDelta(i[p][1],t,n,s)])}return r},set:function(i,s){var r=i.length,v=[],t={},u,q,p,w,x;for(u=0;u<r;u++){w=i[u][1];q=w.from;p=w.delta;for(x in q){t[x]=q[x]+p[x]*s}v.push([i[u][0],t])}return v}},path:{computeDelta:function(i,m,k,l){k=(typeof k==="number")?k:1;var j;i=+i||0;m=+m||0;j=(l!=null)?l:i;return{from:i,delta:(m-j)*k}},forcePath:function(d){if(!Ext.isArray(d)&&!Ext.isArray(d[0])){d=Ext.fx.DrawPath.parsePathString(d)}return d},get:function(D,x,E,I){var C=this.forcePath(x),j=[],G=D.length,B,y,i,z,J,k,A,F,H;for(i=0;i<G;i++){H=this.forcePath(D[i][1]);z=Ext.fx.DrawPath.interpolatePaths(H,C);H=z[0];C=z[1];B=H.length;F=[];for(k=0;k<B;k++){z=[H[k][0]];y=H[k].length;for(A=1;A<y;A++){J=I&&I[0][1][k][A].from;z.push(this.computeDelta(H[k][A],C[k][A],E,J))}F.push(z)}j.push([D[i][0],F])}return j},set:function(B,j){var i=B.length,w=[],u,v,x,t,k,y,A,z;for(u=0;u<i;u++){y=B[u][1];t=[];A=y.length;for(v=0;v<A;v++){k=[y[v][0]];z=y[v].length;for(x=1;x<z;x++){k.push(y[v][x].from+y[v][x].delta*j)}t.push(k.join(","))}w.push([B[u][0],t.join(",")])}return w}}}},0,0,0,0,0,0,[Ext.fx,"PropertyHandler"],function(){var j=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],i=j.length,k=0,h;for(;k<i;k++){h=j[k];this[h]=this.color}j=["cursor"];i=j.length;k=0;for(;k<i;k++){h=j[k];this[h]=this.stringHandler}}));(Ext.cmd.derive("Ext.fx.Anim",Ext.Base,{isAnimation:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:false,running:false,paused:false,iterations:1,autoEnd:false,alternate:false,currentIteration:0,startTime:0,frameCount:0,constructor:function(i){var h=this,g;i=i||{};if(i.keyframes){return new Ext.fx.Animator(i)}Ext.apply(h,i);if(h.from===undefined){h.from={}}h.propHandlers={};h.config=i;h.target=Ext.fx.Manager.createTarget(h.target);h.easingFn=Ext.fx.Easing[h.easing];h.target.dynamic=h.dynamic;if(!h.easingFn){h.easingFn=String(h.easing).match(h.bezierRE);if(h.easingFn&&h.easingFn.length===5){g=h.easingFn;h.easingFn=Ext.fx.CubicBezier.cubicBezier(+g[1],+g[2],+g[3],+g[4])}}h.id=Ext.id(null,"ext-anim-");h.mixins.observable.constructor.call(h);Ext.fx.Manager.addAnim(h);if(i.autoEnd){h.running=true;h.jumpToEnd()}},setAttr:function(g,e){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,g,e)},initAttrs:function(){var r=this,p=r.from,n=r.to,q=r.initialFrom||{},t={},v,u,m,s;for(s in n){if(n.hasOwnProperty(s)){v=r.target.getAttr(s,p[s]);u=n[s];if(!Ext.fx.PropertyHandler[s]){if(Ext.isObject(u)){m=r.propHandlers[s]=Ext.fx.PropertyHandler.object}else{m=r.propHandlers[s]=Ext.fx.PropertyHandler.defaultHandler}}else{m=r.propHandlers[s]=Ext.fx.PropertyHandler[s]}t[s]=m.get(v,u,r.damper,q[s],s)}}r.currentAttrs=t},start:function(j){var i=this,k=i.delay,l=i.delayStart,m;if(k){if(!l){i.delayStart=j;return}else{m=j-l;if(m<k){return}else{j=new Date(l.getTime()+k)}}}if(i.fireEvent("beforeanimate",i)!==false){i.startTime=j;if(!i.paused&&!i.currentAttrs){i.initAttrs()}i.running=true;i.frameCount=0}},jumpToEnd:function(){var d=this;if(!d.endWasCalled){if(!d.currentAttrs){d.initAttrs()}Ext.fx.Manager.jumpToEnd(d);d.end()}},runAnim:function(p){var s=this,q=s.currentAttrs,w=s.duration,x=s.easingFn,y=s.propHandlers,u={},t,r,v,z;if(p>=w){p=w;z=true}if(s.reverse){p=w-p}for(v in q){if(q.hasOwnProperty(v)){r=q[v];t=z?1:x(p/w);u[v]=y[v].set(r,t)}}s.frameCount++;return u},lastFrame:function(){var g=this,i=g.iterations,h=g.currentIteration;h++;if(h<i){if(g.alternate){g.reverse=!g.reverse}g.startTime=new Date();g.currentIteration=h;g.paused=false}else{g.currentIteration=0;g.end();g.fireEvent("lastframe",g,g.startTime)}},endWasCalled:0,end:function(){var d=this;if(d.endWasCalled++){return}d.startTime=0;d.paused=false;d.running=false;Ext.fx.Manager.removeAnim(d);d.fireEvent("afteranimate",d,d.startTime);Ext.callback(d.callback,d.scope,[d,d.startTime]);if(d.remove){d.target.destroy()}},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return this.paused===false&&this.running===true&&this.isAnimator!==true}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.fx,"Anim"],0));Ext.enableFx=true;(Ext.cmd.derive("Ext.util.Animate",Ext.Base,{mixinId:"animate",isAnimate:true,animate:function(g){var e=this;if(Ext.fx.Manager.hasFxBlock(e.id)){return e}Ext.fx.Manager.queueFx(new Ext.fx.Anim(e.anim(g)));return this},anim:function(g){if(!Ext.isObject(g)){return(g)?{}:false}var e=this;if(g.stopAnimation){e.stopAnimation()}Ext.applyIf(g,Ext.fx.Manager.getFxDefaults(e.id));return Ext.apply({target:e,paused:true},g)},getAnimationProps:function(){var e=this,g=e.layout;return g&&g.animate?g.animate:{}},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(){Ext.fx.Manager.stopAnimation(this.id);return this},syncFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:true});return this},sequenceFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:false});return this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}},0,0,0,0,0,0,[Ext.util,"Animate"],0));(Ext.cmd.derive("Ext.dom.Fly",Ext.dom.Element,{alternateClassName:"Ext.dom.Element.Fly",validNodeTypes:{1:1,9:1,11:1},isFly:true,constructor:function(d){this.dom=d;this.el=this},attach:function(e){var g=this;if(!e){return g.detach()}g.dom=e;if(!Ext.cache[e.id]){g.getData().isSynchronized=false}return g},detach:function(){this.dom=null},addListener:null,removeListener:null},1,0,0,0,0,0,[Ext.dom,"Fly",Ext.dom.Element,"Fly"],function(g){var e={};g.cache=e;Ext.fly=function(c,n){var l=null,m=Ext.fly,p,d;n=n||(m.caller&&m.caller.$name)||"_global";c=Ext.getDom(c);if(c){p=c.nodeType;if(g.prototype.validNodeTypes[p]||(!p&&(c.window==c))){l=Ext.cache[c.id];if(!l||l.dom!==c){l=e[n]||(e[n]=new g());l.dom=c;d=l.getData(true);if(d){d.isSynchronized=false}}}}return l}}));(Ext.cmd.derive("Ext.dom.CompositeElementLite",Ext.Base,{alternateClassName:["Ext.CompositeElementLite"],isComposite:true,isLite:true,statics:{importElementMethods:function(){var g=Ext.dom.Element,e=this.prototype;Ext.Object.each(g.prototype,function(d,c){if(typeof c==="function"&&!e[d]){e[d]=function(){return this.invoke(d,arguments)}}})}},constructor:function(e,g){if(g){this.elements=e||[]}else{this.elements=[];this.add(e)}},getElement:function(e){var g=this._fly||(this._fly=new Ext.dom.Fly());return g.attach(e)},transformElement:function(d){return Ext.getDom(d)},getCount:function(){return this.elements.length},add:function(k,m){var i=this.elements,l,j;if(!k){return this}if(typeof k=="string"){k=Ext.fly(m||document).query(k)}else{if(k.isComposite){k=k.elements}else{if(!Ext.isIterable(k)){k=[k]}}}for(l=0,j=k.length;l<j;++l){i.push(this.transformElement(k[l]))}return this},invoke:function(p,s){var m=this,i=m.elements,n=i.length,t,q,r;if(r!==0){t=(m.isLite?Ext.dom.Fly:Ext.dom.Element).prototype;for(r=0;r<n;r++){q=i[r];if(q){t[p].apply(m.getElement(q),s)}}}return m},item:function(h){var g=this.elements[h],i=null;if(g){i=this.getElement(g)}return i},slice:function(e,g){return Ext.Array.slice(this.elements,e,g)},each:function(m,n){var i=this,p=i.elements,r=p.length,q,e;for(q=0;q<r;q++){e=p[q];if(e){e=this.getElement(e);if(m.call(n||e,e,i,q)===false){break}}}return i},fill:function(g){var e=this;e.elements=[];e.add(g);return e},insert:function(e,g){Ext.Array.insert(this.elements,e,g)},filter:function(u){var p=this,t=p.elements,q=t.length,s=[],r=0,n=typeof u=="function",i,v;for(;r<q;r++){v=t[r];i=false;if(v){v=p.getElement(v);if(n){i=u.call(v,v,p,r)!==false}else{i=v.is(u)}if(i){s.push(p.transformElement(v))}}}p.elements=s;return p},indexOf:function(d){return Ext.Array.indexOf(this.elements,this.transformElement(d))},replaceElement:function(j,k,m){var l=!isNaN(j)?j:this.indexOf(j),d;if(l>-1){k=Ext.getDom(k);if(m){d=this.elements[l];d.parentNode.insertBefore(k,d);Ext.removeNode(d)}Ext.Array.splice(this.elements,l,1,k)}return this},clear:function(h){var i=this,j=i.elements,k=j.length-1;if(h){for(;k>=0;k--){Ext.removeNode(j[k])}}this.elements=[]},addElements:function(j,l){if(!j){return this}if(typeof j==="string"){j=Ext.dom.Element.selectorFunction(j,l)}var k=this.elements,m=j.length,e;for(e=0;e<m;e++){k.push(Ext.get(j[e]))}return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(d){return this.indexOf(d)!=-1},removeElement:function(p,k){p=[].concat(p);var q=this,n=q.elements,r=p.length,m,s,t;for(t=0;t<r;t++){m=p[t];if((s=(n[m]||n[m=q.indexOf(m)]))){if(k){if(s.dom){s.destroy()}else{Ext.removeNode(s)}}Ext.Array.erase(n,m,1)}}return q},destroy:function(){return this.invoke("destroy",arguments);this.callParent()}},1,0,0,0,0,0,[Ext.dom,"CompositeElementLite",Ext,"CompositeElementLite"],function(e){var g=e.prototype;e.importElementMethods();g.on=g.addListener}));Ext.define("Ext.overrides.dom.Element",(function(){var aA,ay=window,ae=document,W="hidden",at="isClipped",Y="overflow",ao="overflow-x",ap="overflow-y",al="originalClip",ag="height",aE="width",aD="visibility",aI="display",ac="none",U="offsets",aG="clip",ax="originalDisplay",ab="visibilityMode",ak="isVisible",az="x-hidden-offsets",au="x-hidden-clip",T=['<div class="{0}-tl" role="presentation">','<div class="{0}-tr" role="presentation">','<div class="{0}-tc" role="presentation"></div>',"</div>","</div>",'<div class="{0}-ml" role="presentation">','<div class="{0}-mr" role="presentation">','<div class="{0}-mc" role="presentation"></div>',"</div>","</div>",'<div class="{0}-bl" role="presentation">','<div class="{0}-br" role="presentation">','<div class="{0}-bc" role="presentation"></div>',"</div>","</div>"].join(""),Z=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,af=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,aH=/\ssrc=([\'\"])(.*?)\1/i,av=/\S/,aB=/\stype=([\'\"])(.*?)\1/i,ai=/^-ms-/,ah=/(-[a-z])/gi,aa=function(d,c){return c.charAt(1).toUpperCase()},aw="x-masked",aj="x-masked-relative",an="x-mask-msg",aq=/^body/i,ar={},am=function(d){var c=d.getData(),e=c[ab];if(e===undefined){c[ab]=e=aA.VISIBILITY}return e},V=ae.createRange?ae.createRange():null,ad={INPUT:true,TEXTAREA:true};if(Ext.isIE8){var aC=ae.createElement("div"),X=[],aF=Ext.Function.createBuffered(function(){var d=X.length,c;for(c=0;c<d;c++){aC.appendChild(X[c])}aC.innerHTML="";X.length=0},10)}return{override:"Ext.dom.Element",mixins:[Ext.util.Animate],skipGarbageCollection:false,_init:function(c){aA=c;c.tabbableSelector+=",["+c.tabbableSavedCounterAttribute+"]"},statics:{selectableCls:"x-selectable",unselectableCls:"x-unselectable",tabbableSelector:Ext.supports.CSS3NegationSelector?'a[href],button,iframe,input,select,textarea,[tabindex]:not([tabindex="-1"]),[contenteditable="true"]':'a[href],button,iframe,input,select,textarea,[tabindex],[contenteditable="true"]',naturallyFocusableTags:{BUTTON:true,IFRAME:true,EMBED:true,INPUT:true,OBJECT:true,SELECT:true,TEXTAREA:true,HTML:Ext.isIE?true:false},naturallyTabbableTags:{BUTTON:true,IFRAME:true,INPUT:true,SELECT:true,TEXTAREA:true,OBJECT:Ext.isIE8m?true:false},tabbableSavedCounterAttribute:"data-tabindex-counter",tabbableSavedValueAttribute:"data-tabindex-value",normalize:function(c){if(c==="float"){c=Ext.supports.Float?"cssFloat":"styleFloat"}return ar[c]||(ar[c]=c.replace(ai,"ms-").replace(ah,aa))}},addClsOnClick:function(d,h,e){var c=this,i=c.dom,g=Ext.isFunction(h);c.on("mousedown",function(){if(g&&h.call(e||c,c)===false){return false}Ext.fly(i).addCls(d);var k=Ext.getDoc(),j=function(){Ext.fly(i).removeCls(d);k.removeListener("mouseup",j)};k.on("mouseup",j)});return c},addClsOnFocus:function(d,h,e){var c=this,i=c.dom,g=Ext.isFunction(h);c.on("focus",function(){if(g&&h.call(e||c,c)===false){return false}Ext.fly(i).addCls(d)});c.on("blur",function(){Ext.fly(i).removeCls(d)});return c},addClsOnOver:function(d,h,e){var c=this,i=c.dom,g=Ext.isFunction(h);c.hover(function(){if(g&&h.call(e||c,c)===false){return}Ext.fly(i).addCls(d)},function(){Ext.fly(i).removeCls(d)});return c},addKeyListener:function(e,c,d){var g;if(typeof e!=="object"||Ext.isArray(e)){g={target:this,key:e,fn:c,scope:d}}else{g={target:this,key:e.key,shift:e.shift,ctrl:e.ctrl,alt:e.alt,fn:c,scope:d}}return new Ext.util.KeyMap(g)},addKeyMap:function(c){return new Ext.util.KeyMap(Ext.apply({target:this},c))},afterAnimate:function(){var c=this.shadow;if(c&&!c.disabled&&!c.animate){c.show()}},anchorAnimX:function(d){var c=(d==="l")?"right":"left";this.dom.style[c]="0px"},anim:function(g){if(!Ext.isObject(g)){return(g)?{}:false}var e=this,d=g.duration||Ext.fx.Anim.prototype.duration,h=g.easing||"ease",c;if(g.stopAnimation){e.stopAnimation()}Ext.applyIf(g,Ext.fx.Manager.getFxDefaults(e.id));Ext.fx.Manager.setFxDefaults(e.id,{delay:0});c={target:e.dom,remove:g.remove,alternate:g.alternate||false,duration:d,easing:h,callback:g.callback,listeners:g.listeners,iterations:g.iterations||1,scope:g.scope,block:g.block,concurrent:g.concurrent,delay:g.delay||0,paused:true,keyframes:g.keyframes,from:g.from||{},to:Ext.apply({},g),userConfig:g};Ext.apply(c.to,g.to);delete c.to.to;delete c.to.from;delete c.to.remove;delete c.to.alternate;delete c.to.keyframes;delete c.to.iterations;delete c.to.listeners;delete c.to.target;delete c.to.paused;delete c.to.callback;delete c.to.scope;delete c.to.duration;delete c.to.easing;delete c.to.concurrent;delete c.to.block;delete c.to.stopAnimation;delete c.to.delay;return c},animate:function(c){this.addAnimation(c);return this},addAnimation:function(d){var i=this,e=i.dom.id||Ext.id(i.dom),c,h,g;if(!Ext.fx.Manager.hasFxBlock(e)){if(d.listeners){c=d.listeners;delete d.listeners}if(d.internalListeners){d.listeners=d.internalListeners;delete d.internalListeners}g=d.autoEnd;delete d.autoEnd;h=new Ext.fx.Anim(i.anim(d));h.on({afteranimate:"afterAnimate",beforeanimate:"beforeAnimate",scope:i,single:true});if(c){h.on(c)}Ext.fx.Manager.queueFx(h);if(g){h.jumpToEnd()}}return h},beforeAnimate:function(){var c=this.shadow;if(c&&!c.disabled&&!c.animate){c.hide()}},boxWrap:function(d){d=d||"x-box";var c=Ext.get(this.insertHtml("beforeBegin","<div class='"+d+"' role='presentation'>"+Ext.String.format(T,d)+"</div>"));c.selectNode("."+d+"-mc").appendChild(this.dom);return c},clean:function(e){var c=this,i=c.dom,j=c.getData(),h=i.firstChild,d=-1,g;if(j.isCleaned&&e!==true){return c}while(h){g=h.nextSibling;if(h.nodeType===3){if(!(av.test(h.nodeValue))){i.removeChild(h)}else{if(g&&g.nodeType===3){h.appendData(Ext.String.trim(g.data));i.removeChild(g);g=h.nextSibling;h.nodeIndex=++d}}}else{Ext.fly(h,"_clean").clean();h.nodeIndex=++d}h=g}j.isCleaned=true;return c},empty:V?function(){var c=this.dom;if(c.firstChild){V.setStartBefore(c.firstChild);V.setEndAfter(c.lastChild);V.deleteContents()}}:function(){var c=this.dom;while(c.lastChild){c.removeChild(c.lastChild)}},clearListeners:function(){this.removeAnchor();arguments.callee.$previous.call(this)},clearPositioning:function(c){c=c||"";return this.setStyle({left:c,right:c,top:c,bottom:c,"z-index":"",position:"static"})},createProxy:function(g,h,c){g=(typeof g==="object")?g:{tag:"div",role:"presentation",cls:g};var d=this,e=h?Ext.DomHelper.append(h,g,true):Ext.DomHelper.insertBefore(d.dom,g,true);e.setVisibilityMode(aA.DISPLAY);e.hide();if(c&&d.setBox&&d.getBox){e.setBox(d.getBox())}return e},clearOpacity:function(){return this.setOpacity("")},clip:function(){var d=this,c=d.getData(),e;if(!c[at]){c[at]=true;e=d.getStyle([Y,ao,ap]);c[al]={o:e[Y],x:e[ao],y:e[ap]};d.setStyle(Y,W);d.setStyle(ao,W);d.setStyle(ap,W)}return d},destroy:function(){var d=this,h=d.dom,c=d.getData(),e,g;if(h&&d.isAnimate){d.stopAnimation()}arguments.callee.$previous.call(this);if(h&&Ext.isIE8&&(h.window!=h)&&(h.nodeType!==9)&&(h.tagName!=="BODY")&&(h.tagName!=="HTML")){X[X.length]=h;aF()}if(c){e=c.maskEl;g=c.maskMsg;if(e){e.destroy()}if(g){g.destroy()}}},enableDisplayMode:function(c){var d=this;d.setVisibilityMode(aA.DISPLAY);if(c!==undefined){d.getData()[ax]=c}return d},fadeIn:function(c){var e=this,d=e.dom;e.animate(Ext.apply({},c,{opacity:1,internalListeners:{beforeanimate:function(h){var g=Ext.fly(d,"_anim");if(g.isStyle("display","none")){g.setDisplayed("")}else{g.show()}}}}));return this},fadeOut:function(c){var e=this,d=e.dom;c=Ext.apply({opacity:0,internalListeners:{afteranimate:function(h){if(d&&h.to.opacity===0){var g=Ext.fly(d,"_anim");if(c.useDisplay){g.setDisplayed(false)}else{g.hide()}}}}},c);e.animate(c);return e},fixDisplay:function(){var c=this;if(c.isStyle(aI,ac)){c.setStyle(aD,W);c.setStyle(aI,c._getDisplay());if(c.isStyle(aI,ac)){c.setStyle(aI,"block")}}},frame:function(g,c,i){var d=this,h=d.dom,e;g=g||"#C3DAF9";c=c||1;i=i||{};e=function(){var k=Ext.fly(h,"_anim"),l=this,j,n,m;k.show();j=k.getBox();n=Ext.getBody().createChild({role:"presentation",id:k.dom.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35000,border:"0px solid "+g}});m=new Ext.fx.Anim({target:n,duration:i.duration||1000,iterations:c,from:{top:j.y,left:j.x,borderWidth:0,opacity:1,height:j.height,width:j.width},to:{top:j.y-20,left:j.x-20,borderWidth:10,opacity:0,height:j.height+40,width:j.width+40}});m.on("afteranimate",function(){n.destroy();l.end()})};d.animate({duration:(Math.max(i.duration,500)*2)||2000,listeners:{beforeanimate:{fn:e}},callback:i.callback,scope:i.scope});return d},getColor:function(e,d,i){var k=this.getStyle(e),c=i||i===""?i:"#",h,g,j=0;if(!k||(/transparent|inherit/.test(k))){return d}if(/^r/.test(k)){k=k.slice(4,k.length-1).split(",");g=k.length;for(;j<g;j++){h=parseInt(k[j],10);c+=(h<16?"0":"")+h.toString(16)}}else{k=k.replace("#","");c+=k.length===3?k.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):k}return(c.length>5?c.toLowerCase():d)},getLoader:function(){var d=this,c=d.getData(),e=c.loader;if(!e){c.loader=e=new Ext.ElementLoader({target:d})}return e},getPositioning:function(d){var e=this.getStyle(["left","top","position","z-index"]),c=this.dom;if(d){if(e.left==="auto"){e.left=c.offsetLeft+"px"}if(e.top==="auto"){e.top=c.offsetTop+"px"}}return e},ghost:function(g,c){var d=this,h=d.dom,e;g=g||"b";e=function(){var k=Ext.fly(h,"_anim"),m=k.getWidth(),l=k.getHeight(),j=k.getXY(),n=k.getPositioning(),i={opacity:0};switch(g){case"t":i.y=j[1]-l;break;case"l":i.x=j[0]-m;break;case"r":i.x=j[0]+m;break;case"b":i.y=j[1]+l;break;case"tl":i.x=j[0]-m;i.y=j[1]-l;break;case"bl":i.x=j[0]-m;i.y=j[1]+l;break;case"br":i.x=j[0]+m;i.y=j[1]+l;break;case"tr":i.x=j[0]+m;i.y=j[1]-l;break}this.to=i;this.on("afteranimate",function(){var p=Ext.fly(h,"_anim");if(p){p.hide();p.clearOpacity();p.setPositioning(n)}})};d.animate(Ext.applyIf(c||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:e}}));return d},hide:function(c){if(typeof c==="string"){this.setVisible(false,c);return this}this.setVisible(false,this.anim(c));return this},highlight:function(h,j){var c=this,g=c.dom,m={},d,l,e,i,k,n;j=j||{};i=j.listeners||{};e=j.attr||"backgroundColor";m[e]=h||"ffff9c";if(!j.to){l={};l[e]=j.endColor||c.getColor(e,"ffffff","")}else{l=j.to}j.listeners=Ext.apply(Ext.apply({},i),{beforeanimate:function(){d=g.style[e];var p=Ext.fly(g,"_anim");p.clearOpacity();p.show();k=i.beforeanimate;if(k){n=k.fn||k;return n.apply(k.scope||i.scope||ay,arguments)}},afteranimate:function(){if(g){g.style[e]=d}k=i.afteranimate;if(k){n=k.fn||k;n.apply(k.scope||i.scope||ay,arguments)}}});c.animate(Ext.apply({},j,{duration:1000,easing:"ease-in",from:m,to:l}));return c},hover:function(e,g,c,d){var h=this;h.on("mouseenter",e,c||h.dom,d);h.on("mouseleave",g,c||h.dom,d);return h},initDD:function(d,e,c){var g=new Ext.dd.DD(Ext.id(this.dom),d,e);return Ext.apply(g,c)},initDDProxy:function(d,e,c){var g=new Ext.dd.DDProxy(Ext.id(this.dom),d,e);return Ext.apply(g,c)},initDDTarget:function(d,e,c){var g=new Ext.dd.DDTarget(Ext.id(this.dom),d,e);return Ext.apply(g,c)},isFocusable:function(){var d=this.dom,e=false,c;if(d&&!d.disabled){c=d.nodeName;e=!!Ext.Element.naturallyFocusableTags[c]||((c==="A"||c==="LINK")&&!!d.href)||d.getAttribute("tabIndex")!=null||d.contentEditable==="true";if(Ext.isIE8&&c==="INPUT"&&d.type==="hidden"){e=false}e=e&&this.isVisible(true)}return e},isInputField:function(){var c=this.dom,d=c.contentEditable;if((ad[c.tagName]&&c.type!=="button")||(d===""||d==="true")){return true}return false},isTabbable:function(d){var c=this.dom,h=false,i,e,g;if(c&&!c.disabled){i=c.nodeName;g=c.getAttribute("tabIndex");e=g!=null;g-=0;if(i==="A"||i==="LINK"){if(c.href){h=e&&g<0?false:true}else{if(c.contentEditable==="true"){h=!e||(e&&g>=0)?true:false}else{h=e&&g>=0?true:false}}}else{if(c.contentEditable==="true"||Ext.Element.naturallyTabbableTags[i]){h=e&&g<0?false:true}else{if(e&&g>=0){h=true}}}if(Ext.isIE8&&i==="INPUT"&&c.type==="hidden"){h=false}h=h&&(d||((!this.component||this.component.isVisible(true))&&this.isVisible(true)))}return h},isMasked:function(g){var j=this,h=j.getData(),c=h.maskEl,e=h.maskMsg,i=false,d;if(c&&c.isVisible()){if(e){e.center(j)}i=true}else{if(g){d=j.findParentNode();if(d){return Ext.fly(d).isMasked(g)}}}return i},load:function(c){this.getLoader().load(c);return this},mask:function(i,j,g){var c=this,h=c.dom,k=c.getData(),d=k.maskEl,e;if(!(aq.test(h.tagName)&&c.getStyle("position")==="static")){c.addCls(aj)}if(d){d.destroy()}d=Ext.DomHelper.append(h,{role:"presentation",cls:"x-mask x-border-box",children:{role:"presentation",cls:j?an+" "+j:an,cn:{tag:"div",role:"presentation",cls:"x-mask-msg-inner",cn:{tag:"div",role:"presentation",cls:"x-mask-msg-text",html:i||""}}}},true);e=Ext.get(d.dom.firstChild);k.maskEl=d;c.addCls(aw);d.setDisplayed(true);if(typeof i==="string"){e.setDisplayed(true);e.center(c)}else{e.setDisplayed(false)}if(h===ae.body){d.addCls("x-mask-fixed")}c.saveTabbableState({skipSelf:h===ae.body});if(Ext.isIE9m&&h!==ae.body&&c.isStyle("height","auto")){d.setSize(undefined,g||c.getHeight())}return d},monitorMouseLeave:function(g,c,d){var i=this,h,e={mouseleave:function(j){if(Ext.isIE9m){j.enableIEAsync()}h=Ext.defer(c,g,d||i,[j])},mouseenter:function(){clearTimeout(h)}};i.on(e);return e},puff:function(i){var c=this,h=c.dom,e,d=c.getBox(),g=c.getStyle(["width","height","left","right","top","bottom","position","z-index","font-size","opacity"],true);i=Ext.applyIf(i||{},{easing:"ease-out",duration:500,useDisplay:false});e=function(){var j=Ext.fly(h,"_anim");j.clearOpacity();j.show();this.to={width:d.width*2,height:d.height*2,x:d.x-(d.width/2),y:d.y-(d.height/2),opacity:0,fontSize:"200%"};this.on("afteranimate",function(){var k=Ext.fly(h,"_anim");if(k){if(i.useDisplay){k.setDisplayed(false)}else{k.hide()}k.setStyle(g);Ext.callback(i.callback,i.scope)}})};c.animate({duration:i.duration,easing:i.easing,listeners:{beforeanimate:{fn:e}}});return c},selectable:function(){var c=this;c.dom.unselectable="";c.removeCls(aA.unselectableCls);c.addCls(aA.selectableCls);return c},setCapture:function(){var c=this.dom;if(Ext.isIE9m&&c.setCapture){c.setCapture()}},setHeight:function(e,d){var c=this;if(!d||!c.anim){arguments.callee.$previous.apply(this,arguments)}else{if(!Ext.isObject(d)){d={}}c.animate(Ext.applyIf({to:{height:e}},d))}return c},setHorizontal:function(){var c=this,d=c.verticalCls;delete c.vertical;if(d){delete c.verticalCls;c.removeCls(d)}delete c.setWidth;delete c.setHeight;if(!Ext.isIE8){delete c.getWidth;delete c.getHeight}delete c.styleHooks},updateText:function(c){var g=this,d,e;if(d){e=d.firstChild;if(!e||(e.nodeType!==3||e.nextSibling)){e=ae.createTextNode();g.empty();d.appendChild(e)}if(c){e.data=c}}},setHtml:function(d,e,i,c){var k=this,h,j,g;if(!k.dom){return k}d=d||"";j=k.dom;if(e!==true){j.innerHTML=d;Ext.callback(i,k);return k}h=Ext.id();d+='<span id="'+h+'" role="presentation"></span>';g=Ext.interval(function(){var l,p,q,r,s,m,n;if(!(m=ae.getElementById(h))){return false}clearInterval(g);Ext.removeNode(m);l=Ext.getHead().dom;while((p=Z.exec(d))){q=p[1];r=q?q.match(aH):false;if(r&&r[2]){n=ae.createElement("script");n.src=r[2];s=q.match(aB);if(s&&s[2]){n.type=s[2]}l.appendChild(n)}else{if(p[2]&&p[2].length>0){if(c){Ext.functionFactory(p[2]).call(c)}else{Ext.globalEval(p[2])}}}}Ext.callback(i,c||k)},20);j.innerHTML=d.replace(af,"");return k},setOpacity:function(d,e){var c=this;if(!c.dom){return c}if(!e||!c.anim){c.setStyle("opacity",d)}else{if(typeof e!="object"){e={duration:350,easing:"ease-in"}}c.animate(Ext.applyIf({to:{opacity:d}},e))}return c},setPositioning:function(c){return this.setStyle(c)},setVertical:function(c,g){var d=this,e=aA.prototype;d.vertical=true;if(g){d.addCls(d.verticalCls=g)}d.setWidth=e.setHeight;d.setHeight=e.setWidth;if(!Ext.isIE8){d.getWidth=e.getHeight;d.getHeight=e.getWidth}d.styleHooks=(c===270)?e.verticalStyleHooks270:e.verticalStyleHooks90},setSize:function(d,g,e){var c=this;if(Ext.isObject(d)){e=g;g=d.height;d=d.width}if(!e||!c.anim){c.dom.style.width=aA.addUnits(d);c.dom.style.height=aA.addUnits(g);if(c.shadow||c.shim){c.syncUnderlays()}}else{if(e===true){e={}}c.animate(Ext.applyIf({to:{width:d,height:g}},e))}return c},setVisible:function(h,g){var d=this,c=d.dom,e=am(d);if(typeof g==="string"){switch(g){case aI:e=aA.DISPLAY;break;case aD:e=aA.VISIBILITY;break;case U:e=aA.OFFSETS;break;case aG:e=aA.CLIP;break}d.setVisibilityMode(e);g=false}if(!g||!d.anim){if(e===aA.DISPLAY){return d.setDisplayed(h)}else{if(e===aA.OFFSETS){d[h?"removeCls":"addCls"](az)}else{if(e===aA.CLIP){d[h?"removeCls":"addCls"](au)}else{if(e===aA.VISIBILITY){d.fixDisplay();c.style.visibility=h?"":W}}}}}else{if(h){d.setOpacity(0.01);d.setVisible(true)}if(!Ext.isObject(g)){g={duration:350,easing:"ease-in"}}d.animate(Ext.applyIf({callback:function(){if(!h){Ext.fly(c).setVisible(false).setOpacity(1)}},to:{opacity:(h)?1:0}},g))}d.getData()[ak]=h;if(d.shadow||d.shim){d.setUnderlaysVisible(h)}return d},setWidth:function(d,e){var c=this;if(!e||!c.anim){arguments.callee.$previous.apply(this,arguments)}else{if(!Ext.isObject(e)){e={}}c.animate(Ext.applyIf({to:{width:d}},e))}return c},setX:function(d,c){return this.setXY([d,this.getY()],c)},setXY:function(c,e){var d=this;if(!e||!d.anim){arguments.callee.$previous.call(this,c)}else{if(!Ext.isObject(e)){e={}}d.animate(Ext.applyIf({to:{x:c[0],y:c[1]}},e))}return this},setY:function(c,d){return this.setXY([this.getX(),c],d)},show:function(c){if(typeof c==="string"){this.setVisible(true,c);return this}this.setVisible(true,this.anim(c));return this},slideIn:function(h,i,g){var d=this,j=d.dom,l=j.style,m,k,e,c;h=h||"t";i=i||{};m=function(){var p=this,q=i.listeners,r=Ext.fly(j,"_anim"),n,t,u,s;if(!g){r.fixDisplay()}n=r.getBox();if((h=="t"||h=="b")&&n.height===0){n.height=j.scrollHeight}else{if((h=="l"||h=="r")&&n.width===0){n.width=j.scrollWidth}}t=r.getStyle(["width","height","left","right","top","bottom","position","z-index"],true);r.setSize(n.width,n.height);if(i.preserveScroll){e=r.cacheScrollValues()}s=r.wrap({role:"presentation",id:Ext.id()+"-anim-wrap-for-"+r.dom.id,style:{visibility:g?"visible":"hidden"}});c=s.dom.parentNode;s.setPositioning(r.getPositioning());if(s.isStyle("position","static")){s.position("relative")}r.clearPositioning("auto");s.clip();if(e){e()}r.setStyle({visibility:"",position:"absolute"});if(g){s.setSize(n.width,n.height)}switch(h){case"t":u={from:{width:n.width+"px",height:"0px"},to:{width:n.width+"px",height:n.height+"px"}};l.bottom="0px";break;case"l":u={from:{width:"0px",height:n.height+"px"},to:{width:n.width+"px",height:n.height+"px"}};d.anchorAnimX(h);break;case"r":u={from:{x:n.x+n.width,width:"0px",height:n.height+"px"},to:{x:n.x,width:n.width+"px",height:n.height+"px"}};d.anchorAnimX(h);break;case"b":u={from:{y:n.y+n.height,width:n.width+"px",height:"0px"},to:{y:n.y,width:n.width+"px",height:n.height+"px"}};break;case"tl":u={from:{x:n.x,y:n.y,width:"0px",height:"0px"},to:{width:n.width+"px",height:n.height+"px"}};l.bottom="0px";d.anchorAnimX("l");break;case"bl":u={from:{y:n.y+n.height,width:"0px",height:"0px"},to:{y:n.y,width:n.width+"px",height:n.height+"px"}};d.anchorAnimX("l");break;case"br":u={from:{x:n.x+n.width,y:n.y+n.height,width:"0px",height:"0px"},to:{x:n.x,y:n.y,width:n.width+"px",height:n.height+"px"}};d.anchorAnimX("r");break;case"tr":u={from:{x:n.x+n.width,width:"0px",height:"0px"},to:{x:n.x,width:n.width+"px",height:n.height+"px"}};l.bottom="0px";d.anchorAnimX("r");break}s.show();k=Ext.apply({},i);delete k.listeners;k=new Ext.fx.Anim(Ext.applyIf(k,{target:s,duration:500,easing:"ease-out",from:g?u.to:u.from,to:g?u.from:u.to}));k.on("afteranimate",function(){var v=Ext.fly(j,"_anim");v.setStyle(t);if(g){if(i.useDisplay){v.setDisplayed(false)}else{v.hide()}}if(s.dom){if(s.dom.parentNode){s.dom.parentNode.insertBefore(v.dom,s.dom)}else{c.appendChild(v.dom)}s.destroy()}if(e){e()}p.end()});if(q){k.on(q)}};d.animate({duration:i.duration?Math.max(i.duration,500)*2:1000,listeners:{beforeanimate:m}});return d},slideOut:function(d,c){return this.slideIn(d,c,true)},swallowEvent:function(e,d){var i=this,h,g,c=function(j){j.stopPropagation();if(d){j.preventDefault()}};if(Ext.isArray(e)){g=e.length;for(h=0;h<g;h++){i.on(e[h],c)}return i}i.on(e,c);return i},switchOff:function(d){var e=this,c=e.dom,g;d=Ext.applyIf(d||{},{easing:"ease-in",duration:500,remove:false,useDisplay:false});g=function(){var i=Ext.fly(c,"_anim"),k=this,j=i.getSize(),h=i.getXY(),l,m;i.clearOpacity();i.clip();m=i.getPositioning();l=new Ext.fx.Animator({target:c,duration:d.duration,easing:d.easing,keyframes:{33:{opacity:0.3},66:{height:1,y:h[1]+j.height/2},100:{width:1,x:h[0]+j.width/2}}});l.on("afteranimate",function(){var n=Ext.fly(c,"_anim");if(d.useDisplay){n.setDisplayed(false)}else{n.hide()}n.clearOpacity();n.setPositioning(m);n.setSize(j);k.end()})};e.animate({duration:(Math.max(d.duration,500)*2),listeners:{beforeanimate:{fn:g}},callback:d.callback,scope:d.scope});return e},syncContent:function(j){j=Ext.getDom(j);var i=j.childNodes,l=i.length,n=this.dom,m=n.childNodes,q=m.length,c,p,g,d,h,k,r,e=n._extData;if(Ext.isIE9m&&n.mergeAttributes){n.mergeAttributes(j,true);n.src=j.src}else{h=j.attributes;k=h.length;for(c=0;c<k;c++){r=h[c].name;if(r!=="id"){n.setAttribute(r,h[c].value)}}}if(e){e.isSynchronized=false}if(l!==q){n.innerHTML=j.innerHTML;return}for(c=0;c<l;c++){g=i[c];p=m[c];d=g.nodeType;if(d!==p.nodeType||(d===1&&g.tagName!==p.tagName)){n.innerHTML=j.innerHTML;return}if(d===3){p.data=g.data}else{if(g.id&&p.id!==g.id){p.id=g.id}p.style.cssText=g.style.cssText;p.className=g.className;Ext.fly(p,"_syncContent").syncContent(g)}}},toggle:function(d){var c=this;c.setVisible(!c.isVisible(),c.anim(d));return c},unmask:function(){var d=this,c=d.getData(),e=c.maskEl,g;if(e){g=e.dom.style;if(g.clearExpression){g.clearExpression("width");g.clearExpression("height")}if(e){e.destroy();delete c.maskEl}d.removeCls([aw,aj])}d.restoreTabbableState(d.dom===ae.body)},unclip:function(){var d=this,c=d.getData(),e;if(c[at]){c[at]=false;e=c[al];if(e.o){d.setStyle(Y,e.o)}if(e.x){d.setStyle(ao,e.x)}if(e.y){d.setStyle(ap,e.y)}}return d},translate:function(e,c,d){if(Ext.supports.CssTransforms&&!Ext.isIE9m){arguments.callee.$previous.apply(this,arguments)}else{if(e!=null){this.dom.style.left=e+"px"}if(c!=null){this.dom.style.top=c+"px"}}},unselectable:function(){var c=this;if(Ext.isOpera){c.dom.unselectable="on"}c.removeCls(aA.selectableCls);c.addCls(aA.unselectableCls);return c},privates:{findTabbableElements:function(l){var k,r,p,g,e,t=this.dom,c=Ext.Element.tabbableSavedCounterAttribute,m=[],n=0,j,h,d,s,q,i;if(!t){return m}if(l){k=l.skipSelf;r=l.skipChildren;p=l.excludeRoot;g=l.includeSaved;e=l.includeHidden}p=p&&Ext.getDom(p);if(p&&p.contains(t)){return m}if(!k&&((g&&t.hasAttribute(c))||this.isTabbable(e))){m[n++]=t}if(r){return m}j=t.querySelectorAll(Ext.Element.tabbableSelector);q=j.length;if(!q){return m}d=new Ext.dom.Fly();for(s=0;s<q;s++){h=j[s];i=+h.getAttribute("tabIndex");if(((g&&h.hasAttribute(c))||(!(i<0)&&d.attach(h).isTabbable(e)))&&!(p&&(p===h||p.contains(h)))){m[n++]=h}}return m},saveTabbableState:function(k){var i=Ext.Element.tabbableSavedCounterAttribute,c=Ext.Element.tabbableSavedValueAttribute,e,d,h,j,g;if(!k||k.includeSaved==null){k=Ext.Object.chain(k||null);k.includeSaved=true}d=this.findTabbableElements(k);for(j=0,g=d.length;j<g;j++){h=d[j];e=+h.getAttribute(i);if(e>0){h.setAttribute(i,++e)}else{if(h.hasAttribute("tabIndex")){h.setAttribute(c,h.getAttribute("tabIndex"))}else{h.setAttribute(c,"none")}h.setAttribute("tabIndex","-1");h.setAttribute(i,"1")}}return d},restoreTabbableState:function(k,d){var g=this.dom,n=Ext.Element.tabbableSavedCounterAttribute,m=Ext.Element.tabbableSavedValueAttribute,i=[],l,j,i,h,e,c;if(!g){return this}if(!d){i=Ext.Array.from(g.querySelectorAll("["+n+"]"))}if(!k){i.unshift(g)}for(e=0,c=i.length;e<c;e++){h=i[e];if(!h.hasAttribute(n)||!h.hasAttribute(m)){continue}j=+h.getAttribute(n);if(j>1){h.setAttribute(n,--j);continue}l=h.getAttribute(m);if(l==="none"){h.removeAttribute("tabIndex")}else{h.setAttribute("tabIndex",l)}h.removeAttribute(m);h.removeAttribute(n)}return i}},deprecated:{"4.0":{methods:{pause:function(d){var c=this;Ext.fx.Manager.setFxDefaults(c.id,{delay:d});return c},scale:function(e,d,c){this.animate(Ext.apply({},c,{width:e,height:d}));return this},shift:function(c){this.animate(c);return this}}},"4.2":{methods:{moveTo:function(e,c,d){return this.setXY([e,c],d)},setBounds:function(e,h,c,g,d){return this.setBox({x:e,y:h,width:c,height:g},d)},setLeftTop:function(c,d){var e=this,g=e.dom.style;g.left=aA.addUnits(c);g.top=aA.addUnits(d);if(e.shadow||e.shim){e.syncUnderlays()}return e},setLocation:function(e,c,d){return this.setXY([e,c],d)}}},"5.0":{methods:{getAttributeNS:function(c,d){return this.getAttribute(d,c)},getCenterXY:function(){return this.getAlignToXY(ae,"c-c")},getComputedHeight:function(){return Math.max(this.dom.offsetHeight,this.dom.clientHeight)||parseFloat(this.getStyle(ag))||0},getComputedWidth:function(){return Math.max(this.dom.offsetWidth,this.dom.clientWidth)||parseFloat(this.getStyle(aE))||0},getStyleSize:function(){var i=this,h=this.dom,e=(h===ae||h===ae.body),c,g,d;if(e){return{width:aA.getViewportWidth(),height:aA.getViewportHeight()}}c=i.getStyle(["height","width"],true);if(c.width&&c.width!=="auto"){g=parseFloat(c.width)}if(c.height&&c.height!=="auto"){d=parseFloat(c.height)}return{width:g||i.getWidth(true),height:d||i.getHeight(true)}},isBorderBox:function(){return true},isDisplayed:function(){return !this.isStyle("display","none")},focusable:"isFocusable"}}}}})(),function(){var H=Ext.dom.Element,I=H.prototype,k=!Ext.isIE8,W=document,N=W.defaultView,C=/alpha\(opacity=(.*)\)/i,R=/^\s+|\s+$/g,M=I.styleHooks,E=Ext.supports,T,J,U,F,S,L,V;I._init(H);delete I._init;Ext.plainTableCls="x-table-plain";Ext.plainListCls="x-list-plain";if(Ext.CompositeElementLite){Ext.CompositeElementLite.importElementMethods()}if(!E.Opacity&&Ext.isIE){Ext.apply(M.opacity,{get:function(d){var e=d.style.filter,g,c;if(e.match){g=e.match(C);if(g){c=parseFloat(g[1]);if(!isNaN(c)){return c?c/100:0}}}return 1},set:function(d,g){var c=d.style,e=c.filter.replace(C,"").replace(R,"");c.zoom=1;if(typeof(g)==="number"&&g>=0&&g<1){g*=100;c.filter=e+(e.length?" ":"")+"alpha(opacity="+g+")"}else{c.filter=e}}})}if(!E.matchesSelector){var P=/^([a-z]+|\*)?(?:\.([a-z][a-z\-_0-9]*))?$/i,O=/\-/g,X,D=function(c,e){var d=new RegExp("(?:^|\\s+)"+e.replace(O,"\\-")+"(?:\\s+|$)");if(c&&c!=="*"){c=c.toUpperCase();return function(g){return g.tagName===c&&d.test(g.className)}}return function(g){return d.test(g.className)}},G=function(c){c=c.toUpperCase();return function(d){return d.tagName===c}},K={};I.matcherCache=K;I.is=function(e){if(!e){return true}var d=this.dom,h,m,i,j,l,c,g;if(d.nodeType!==1){return false}if(!(i=Ext.isFunction(e)?e:K[e])){if(!(m=e.match(P))){j=d.parentNode;if(!j){l=true;j=X||(X=W.createDocumentFragment());X.appendChild(d)}c=Ext.Array.indexOf(Ext.fly(j,"_is").query(e),d)!==-1;if(l){X.removeChild(d)}return c}g=m[1];h=m[2];K[e]=i=h?D(g,h):G(g)}return i(d)}}if(!N||!N.getComputedStyle){I.getStyle=function(i,p){var n=this,t=n.dom,g=typeof i!=="string",c=i,m=c,q=1,v=p,d=n.styleHooks,h,r,j,l,u,e,s;if(g){j={};c=m[0];s=0;if(!(q=m.length)){return j}}if(!t||t.documentElement){return j||""}r=t.style;if(p){e=r}else{e=t.currentStyle;if(!e){v=true;e=r}}do{l=d[c];if(!l){d[c]=l={name:H.normalize(c)}}if(l.get){u=l.get(t,n,v,e)}else{h=l.name;u=e[h]}if(!g){return u}j[c]=u;c=m[++s]}while(s<q);return j}}if(Ext.isIE8){V=function(d,g,e,c){if(c[this.styleName]==="none"){return"0px"}return c[this.name]};U=["Top","Right","Bottom","Left"];F=U.length;while(F--){S=U[F];L="border"+S+"Width";M["border-"+S.toLowerCase()+"-width"]=M[L]={name:L,styleName:"border"+S+"Style",get:V}}var Q="x-sync-repaint";I.syncRepaint=function(){this.addCls(Q);this.getWidth();this.removeCls(Q)}}if(Ext.isIE10m){Ext.override(H,{focus:function(d,e){var g=this,h;e=e||g.dom;if(Number(d)){Ext.defer(g.focus,d,g,[null,e])}else{Ext.GlobalEvents.fireEvent("beforefocus",e);if(e&&(e.tagName==="INPUT"||e.tagname==="TEXTAREA")){Ext.synchronouslyFocusing=document.activeElement}try{e.focus()}catch(c){h=c}if(Ext.synchronouslyFocusing&&document.activeElement!==e&&!h){e.focus()}Ext.synchronouslyFocusing=null}return g}})}Ext.apply(Ext,{enableGarbageCollector:true,isBorderBox:true,useShims:false,getDetachedBody:function(){var c=Ext.detachedBodyEl;if(!c){c=W.createElement("div");Ext.detachedBodyEl=c=new Ext.dom.Fly(c);c.isDetachedBody=true}return c},getElementById:function(d){var e=W.getElementById(d),c;if(!e&&(c=Ext.detachedBodyEl)){e=c.dom.querySelector(Ext.makeIdSelector(d))}return e},addBehaviors:function(d){if(!Ext.isReady){Ext.onInternalReady(function(){Ext.addBehaviors(d)})}else{var h={},e,c,g;for(c in d){if((e=c.split("@"))[1]){g=e[0];if(!h[g]){h[g]=Ext.fly(document).select(g,true)}h[g].on(e[1],d[c])}}h=null}}});if(Ext.isIE9m){Ext.getElementById=function(d){var e=W.getElementById(d),c;if(!e&&(c=Ext.detachedBodyEl)){e=c.dom.all[d]}return e};I.getById=function(d,c){var e=this.dom,i=null,g,h;if(e){h=(k&&W.getElementById(d))||e.all[d];if(h){if(c){i=h}else{g=Ext.cache[d];if(g){if(g.skipGarbageCollection||!Ext.isGarbage(g.dom)){i=g}else{g.destroy()}}i=i||new Ext.Element(h)}}}return i}}else{if(!W.querySelector){Ext.getDetachedBody=Ext.getBody;Ext.getElementById=function(c){return W.getElementById(c)};I.getById=function(d,c){var e=W.getElementById(d);return c?e:(e?Ext.get(e):null)}}}if(Ext.isIE&&!(Ext.isIE9p&&W.documentMode>=9)){I.getAttribute=function(c,e){var d=this.dom,g;if(e){g=typeof d[e+":"+c];if(g!=="undefined"&&g!=="unknown"){return d[e+":"+c]||null}return null}if(c==="for"){c="htmlFor"}return d[c]||null}}Ext.onInternalReady(function(){var t=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,d=[],n=I.setWidth,m=I.setHeight,h=I.setSize,g=/^\d+(?:\.\d*)?px$/i,p,r,e,i;if(E.FixedTableWidthBug){M.width={name:"width",set:function(u,v,x){var y=u.style,z=x._needsTableWidthFix,w=y.display;if(z){y.display="none"}y.width=v;if(z){u.scrollWidth;y.display=w}}};I.setWidth=function(x,z){var v=this,u=v.dom,y=u.style,A=v._needsTableWidthFix,w=y.display;if(A&&!z){y.display="none"}n.call(v,x,z);if(A&&!z){u.scrollWidth;y.display=w}return v};I.setSize=function(w,z,y){var u=this,B=u.dom,x=B.style,A=u._needsTableWidthFix,v=x.display;if(A&&!y){x.display="none"}h.call(u,w,z,y);if(A&&!y){B.scrollWidth;x.display=v}return u}}if(Ext.isIE8){M.height={name:"height",set:function(u,v,x){var y=x.component,w,z;if(y&&y._syncFrameHeight&&x===y.el){z=y.frameBody.dom.style;if(g.test(v)){w=y.getFrameInfo();if(w){z.height=(parseInt(v,10)-w.height)+"px"}}else{if(!v||v==="auto"){z.height=""}}}u.style.height=v}};I.setHeight=function(y,w){var v=this.component,u,x;if(v&&v._syncFrameHeight&&this===v.el){x=v.frameBody.dom.style;if(!y||y==="auto"){x.height=""}else{u=v.getFrameInfo();if(u){x.height=(y-u.height)+"px"}}}return m.call(this,y,w)};I.setSize=function(v,z,x){var w=this.component,u,y;if(w&&w._syncFrameHeight&&this===w.el){y=w.frameBody.dom.style;if(!z||z==="auto"){y.height=""}else{u=w.getFrameInfo();if(u){y.height=(z-u.height)+"px"}}}return h.call(this,v,z,x)}}Ext.getDoc().on("selectstart",function(v,u){var w=H.selectableCls,x=H.unselectableCls,z=u&&u.tagName;z=z&&z.toLowerCase();if(z==="input"||z==="textarea"){return}while(u&&u.nodeType===1&&u!==W.documentElement){var y=Ext.fly(u);if(y.hasCls(w)){return}if(y.hasCls(x)){v.stopEvent();return}u=u.parentNode}});function q(u,x,v,y){var w=y[this.name]||"";return t.test(w)?"transparent":w}function j(v,u,w){return function(){v.selectionStart=u;v.selectionEnd=w}}function l(w){var y=E.DisplayChangeInputSelectionBug,x=E.DisplayChangeTextAreaSelectionBug,v,A,u,z;if(y||x){v=H.getActiveElement();A=v&&v.tagName;if((x&&A==="TEXTAREA")||(y&&A==="INPUT"&&v.type==="text")){if(Ext.fly(w).isAncestor(v)){u=v.selectionStart;z=v.selectionEnd;if(Ext.isNumber(u)&&Ext.isNumber(z)){return j(v,u,z)}}}}return Ext.emptyFn}function s(u,x,v,y){var A=y.marginRight,z,w;if(A!=="0px"){z=u.style;w=z.display;z.display="inline-block";A=(v?y:u.ownerDocument.defaultView.getComputedStyle(u,null)).marginRight;z.display=w}return A}function c(B,w,u,x){var A=x.marginRight,y,z,v;if(A!=="0px"){y=B.style;z=l(B);v=y.display;y.display="inline-block";A=(u?x:B.ownerDocument.defaultView.getComputedStyle(B,"")).marginRight;y.display=v;z()}return A}if(!E.RightMargin){M.marginRight=M["margin-right"]={name:"marginRight",get:(E.DisplayChangeInputSelectionBug||E.DisplayChangeTextAreaSelectionBug)?c:s}}if(!E.TransparentColor){p=["background-color","border-color","color","outline-color"];for(r=p.length;r--;){e=p[r];i=H.normalize(e);M[e]=M[i]={name:i,get:q}}}I.verticalStyleHooks90=T=Ext.Object.chain(M);I.verticalStyleHooks270=J=Ext.Object.chain(M);T.width=M.height||{name:"height"};T.height=M.width||{name:"width"};T["margin-top"]={name:"marginLeft"};T["margin-right"]={name:"marginTop"};T["margin-bottom"]={name:"marginRight"};T["margin-left"]={name:"marginBottom"};T["padding-top"]={name:"paddingLeft"};T["padding-right"]={name:"paddingTop"};T["padding-bottom"]={name:"paddingRight"};T["padding-left"]={name:"paddingBottom"};T["border-top"]={name:"borderLeft"};T["border-right"]={name:"borderTop"};T["border-bottom"]={name:"borderRight"};T["border-left"]={name:"borderBottom"};J.width=M.height||{name:"height"};J.height=M.width||{name:"width"};J["margin-top"]={name:"marginRight"};J["margin-right"]={name:"marginBottom"};J["margin-bottom"]={name:"marginLeft"};J["margin-left"]={name:"marginTop"};J["padding-top"]={name:"paddingRight"};J["padding-right"]={name:"paddingBottom"};J["padding-bottom"]={name:"paddingLeft"};J["padding-left"]={name:"paddingTop"};J["border-top"]={name:"borderRight"};J["border-right"]={name:"borderBottom"};J["border-bottom"]={name:"borderLeft"};J["border-left"]={name:"borderTop"};if(!Ext.scopeCss){d.push("x-body")}if(E.Touch){d.push("x-touch")}if(Ext.isIE&&Ext.isIE9m){d.push("x-ie","x-ie9m");d.push("x-ie8p");if(Ext.isIE8){d.push("x-ie8")}else{d.push("x-ie9","x-ie9p")}if(Ext.isIE8m){d.push("x-ie8m")}}if(Ext.isIE10){d.push("x-ie10")}if(Ext.isIE10p){d.push("x-ie10p")}if(Ext.isIE11){d.push("x-ie11")}if(Ext.isGecko){d.push("x-gecko")}if(Ext.isOpera){d.push("x-opera")}if(Ext.isOpera12m){d.push("x-opera12m")}if(Ext.isWebKit){d.push("x-webkit")}if(Ext.isSafari){d.push("x-safari")}if(Ext.isChrome){d.push("x-chrome")}if(Ext.isMac){d.push("x-mac")}if(Ext.isLinux){d.push("x-linux")}if(!E.CSS3BorderRadius){d.push("x-nbr")}if(!E.CSS3LinearGradient){d.push("x-nlg")}if(E.Touch){d.push("x-touch")}Ext.getBody().addCls(d)},null,{priority:1500})});(Ext.cmd.derive("Ext.GlobalEvents",Ext.mixin.Observable,{alternateClassName:"Ext.globalEvents",observableType:"global",singleton:true,resizeBuffer:100,idleEventMask:{mousemove:1,touchmove:1,pointermove:1,MSPointerMove:1,unload:1},constructor:function(){var d=this;d.callParent();Ext.onInternalReady(function(){d.attachListeners()})},attachListeners:function(){Ext.get(window).on("resize",this.fireResize,this,{buffer:this.resizeBuffer});Ext.getDoc().on("mousedown",this.fireMouseDown,this)},fireMouseDown:function(d){this.fireEvent("mousedown",d)},fireResize:function(){var h=this,j=Ext.Element,k=j.getViewportWidth(),i=j.getViewportHeight();if(h.curHeight!==i||h.curWidth!==k){h.curHeight=i;h.curWidth=k;h.fireEvent("resize",k,i)}}},1,0,0,0,0,0,[Ext,"GlobalEvents",Ext,"globalEvents"],function(d){Ext.on=function(){return d.addListener.apply(d,arguments)};Ext.un=function(){return d.removeListener.apply(d,arguments)}}));Ext.define("Ext.overrides.GlobalEvents",{override:"Ext.GlobalEvents",deprecated:{5:{methods:{addListener:function(s,p,n,m,t,u,r){var v,q;if(s==="ready"){q=p}else{if(typeof s!=="string"){for(v in s){if(v==="ready"){q=s[v]}}}}if(q){Ext.onReady(q)}this.callParent([s,p,n,m,t,u,r])}}}}});Ext.USE_NATIVE_JSON=false;Ext.JSON=(new (function(){var me=this,hasNative=window.JSON&&JSON.toString()==="[object JSON]",useHasOwn=!!{}.hasOwnProperty,pad=function(n){return n<10?"0"+n:n},doDecode=function(json){return eval("("+json+")")},doEncode=function(o,newline){if(o===null||o===undefined){return"null"}else{if(Ext.isDate(o)){return me.encodeDate(o)}else{if(Ext.isString(o)){if(Ext.isMSDate(o)){return me.encodeMSDate(o)}else{return me.encodeString(o)}}else{if(typeof o==="number"){return isFinite(o)?String(o):"null"}else{if(Ext.isBoolean(o)){return String(o)}else{if(o.toJSON){return o.toJSON()}else{if(Ext.isArray(o)){return encodeArray(o,newline)}else{if(Ext.isObject(o)){return encodeObject(o,newline)}else{if(typeof o==="function"){return"null"}}}}}}}}}return"undefined"},m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","\v":"\\u000b"},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(s){return'"'+s.replace(charToReplace,function(a){var c=m[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeMSDate=function(o){return'"'+o+'"'},encodeArrayPretty=function(o,newline){var len=o.length,cnewline=newline+"   ",sep=","+cnewline,a=["[",cnewline],i;for(i=0;i<len;i+=1){a.push(me.encodeValue(o[i],cnewline),sep)}a[a.length-1]=newline+"]";return a.join("")},encodeObjectPretty=function(o,newline){var cnewline=newline+"   ",sep=","+cnewline,a=["{",cnewline],i,val;for(i in o){val=o[i];if(!useHasOwn||o.hasOwnProperty(i)){if(typeof val==="function"||val===undefined){continue}a.push(me.encodeValue(i)+": "+me.encodeValue(val,cnewline),sep)}}a[a.length-1]=newline+"}";return a.join("")},encodeArray=function(o,newline){if(newline){return encodeArrayPretty(o,newline)}var a=["[",""],len=o.length,i;for(i=0;i<len;i+=1){a.push(me.encodeValue(o[i]),",")}a[a.length-1]="]";return a.join("")},encodeObject=function(o,newline){if(newline){return encodeObjectPretty(o,newline)}var a=["{",""],i,val;for(i in o){val=o[i];if(!useHasOwn||o.hasOwnProperty(i)){if(typeof val==="function"||val===undefined){continue}a.push(me.encodeValue(i),":",me.encodeValue(val),",")}}a[a.length-1]="}";return a.join("")};me.encodeString=encodeString;me.encodeValue=doEncode;me.encodeDate=function(o){return'"'+o.getFullYear()+"-"+pad(o.getMonth()+1)+"-"+pad(o.getDate())+"T"+pad(o.getHours())+":"+pad(o.getMinutes())+":"+pad(o.getSeconds())+'"'};me.encode=function(o){if(hasNative&&Ext.USE_NATIVE_JSON){return JSON.stringify(o)}return me.encodeValue(o)};me.decode=function(json,safe){try{if(hasNative&&Ext.USE_NATIVE_JSON){return JSON.parse(json)}return doDecode(json)}catch(e){if(safe){return null}Ext.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+json})}};me.encodeMSDate=encodeMSDate;if(!Ext.util){Ext.util={}}Ext.util.JSON=me;Ext.encode=me.encode;Ext.decode=me.decode})());(Ext.cmd.derive("Ext.mixin.Inheritable",Ext.Mixin,{mixinConfig:{id:"inheritable"},getInherited:function(m){var r=this,p=(m&&r.inheritedStateInner)||r.inheritedState,u=r.getRefOwner(),v=r.isContainer,n,t,s,q;if(!p||p.invalid){n=r.getRefOwner();q=r.ownerLayout;if(u){s=q?q===u.layout:true}r.inheritedState=p=Ext.Object.chain(n?n.getInherited(s):Ext.rootInheritedState);if(v){r.inheritedStateInner=t=Ext.Object.chain(p)}r.initInheritedState(p,t);p=(v&&m)?r.inheritedStateInner:r.inheritedState}return p},getInheritedConfig:function(i,m){var j=this.inheritedState,l,k;if(!j||j.invalid){j=this.getInherited()}k=j[i];if(m&&j.hasOwnProperty(i)){l=k;delete j[i];k=j[i];j[i]=l}return k},resolveListenerScope:function(j,p){var l=this,k=(typeof p==="boolean"),m=Ext._namedScopes[j],n;if(!m){n=l.getInheritedConfig("defaultListenerScope",k?p:true)||j||l}else{if(m.isController){n=l.getInheritedConfig("controller",k?p:!m.isSelf)}else{if(m.isSelf){n=l.getInheritedConfig("defaultListenerScope",k&&p)||l}else{if(m.isThis){n=l}}}}return n||null},resolveSatelliteListenerScope:function(k,i){var j=this,l=Ext._namedScopes[i],m;if(!l){m=j.getInheritedConfig("defaultListenerScope")||i||j}else{if(l.isController){m=j.getInheritedConfig("controller")}else{if(l.isSelf){m=j.getInheritedConfig("defaultListenerScope")||k}else{if(l.isThis){m=k}}}}return m||null},lookupReferenceHolder:function(d){return this.getInheritedConfig("referenceHolder",d!==false)||null},getRefOwner:function(){var d=this;return d.ownerCt||d.parent||d.$initParent||d.ownerCmp||d.floatParent},invalidateInheritedState:function(){var d=this.inheritedState;if(d){d.invalid=true;delete this.inheritedState}},privates:{fixReference:function(){var g=this,e;if(g.getReference()){e=g.lookupReferenceHolder();if(e){e.attachReference(g)}}},onInheritedAdd:function(h,i){var g=this;if(g.inheritedState&&i){g.invalidateInheritedState()}if(g.getReference()){Ext.ComponentManager.markReferencesDirty()}},onInheritedRemove:function(h){var i=this,g;if(i.getReference()){g=i.lookupReferenceHolder();if(g){g.clearReference(i)}}if(i.inheritedState&&!h){i.invalidateInheritedState()}}}},0,0,0,0,0,0,[Ext.mixin,"Inheritable"],function(){Ext.rootInheritedState={}}));(Ext.cmd.derive("Ext.mixin.Bindable",Ext.Base,{mixinId:"bindable",config:{bind:{$value:null,lazy:true},controller:null,defaultListenerScope:false,publishes:{$value:null,lazy:true,merge:function(e,g){return this.mergeSets(e,g)}},reference:null,session:{$value:null,lazy:true},twoWayBindable:{$value:null,lazy:true,merge:function(e,g){return this.mergeSets(e,g)}},viewModel:{$value:null,lazy:true}},defaultBindProperty:null,validRefRe:/^[a-z_][a-z0-9_]*$/i,initInheritedState:function(n){var m=this,r=m.getReference(),q=m.getController(),p=m.getConfig("viewModel",true),k=m.getConfig("session",true),l=m.getDefaultListenerScope();if(q){n.controller=q}if(l){n.defaultListenerScope=m}else{if(q){n.defaultListenerScope=q}}if(p){if(!p.isViewModel){p=m}n.viewModel=p}if(k){if(!k.isSession){k=m}n.session=k}if(r){m.referenceKey=(n.referencePath||"")+r;m.viewModelKey=(n.viewModelPath||"")+r}},lookupController:function(d){return this.getInheritedConfig("controller",d)||null},lookupSession:function(g){var e=g?null:this.getSession();if(!e){e=this.getInheritedConfig("session",g);if(e&&!e.isSession){e=e.getInherited().session=e.getSession()}}return e||null},lookupViewModel:function(g){var e=g?null:this.getViewModel();if(!e){e=this.getInheritedConfig("viewModel",g);if(e&&!e.isViewModel){e=e.getInherited().viewModel=e.getViewModel()}}return e||null},publishState:function(q,r){var s=this,y=s.publishedState,v=s.getBind(),t=v&&q&&v[q],u=0,x,z,w,p;if(t&&!t.syncing&&!t.isReadOnly()){if(!(t.calls===0&&(r==null||r===s.getInitialConfig()[q]))){t.setValue(r)}}if(!(z=s.getPublishes())){return}if(!(w=s.lookupViewModel())){return}if(!(p=s.viewModelKey)){return}if(q&&y){if(!z[q]){return}if(!(r&&r.constructor===Object)&&!(r instanceof Array)){if(y[q]===r){return}}p+=".";p+=q}else{y=y||(s.publishedState={});for(x in z){++u;if(x===q){y[x]=r}else{y[x]=s[x]}}if(!u){return}r=y}w.set(p,r)},privates:{addBindableUpdater:function(k){var l=this,j=l.self.$config.configs,m=j[k],i;if(m&&!l.hasOwnProperty(i=m.names.update)){l[i]=m.bindableUpdater||(m.root.bindableUpdater=l.makeBindableUpdater(m))}},applyBind:function(t,m){if(!t){return t}var r=this,p=r.lookupViewModel(),s=r.getTwoWayBindable(),v=r._getBindTemplateScope,q,n,u;if(!m||typeof m==="string"){m={}}if(Ext.isString(t)){q=t;t={};t[r.defaultBindProperty]=q}for(n in t){u=t[n];q=m[n];if(q&&typeof q!=="string"){q.destroy();q=null}if(u){q=p.bind(u,r.onBindNotify,r);q._config=Ext.Config.get(n);q.getTemplateScope=v}m[n]=q;if(s&&s[n]&&!q.isReadOnly()){r.addBindableUpdater(n)}}return m},applyController:function(d){if(d){d=Ext.Factory.controller(d);d.setView(this)}return d},applyPublishes:function(g){if(this.lookupViewModel()){for(var e in g){this.addBindableUpdater(e)}}return g},applySession:function(g){if(!g){return null}if(!g.isSession){var h=this.lookupSession(true),i=(g===true)?{}:g;if(h){g=h.spawn(i)}else{g=new Ext.data.Session(i)}}return g},applyViewModel:function(j){var i=this,k,h;if(!j){return null}if(!j.isViewModel){k={parent:i.lookupViewModel(true)};k.session=i.getSession();if(!h&&!k.parent){k.session=i.lookupSession()}if(j){if(j.constructor===Object){Ext.apply(k,j)}else{if(typeof j==="string"){k.type=j}}}j=Ext.Factory.viewModel(k)}return j},_getBindTemplateScope:function(){return this.scope.resolveListenerScope()},destroyBindable:function(){var i=this,j=i.getConfig("viewModel",true),h=i.getConfig("session",true),k=i.getController();if(j&&j.isViewModel){j.destroy();i.setViewModel(null)}if(h&&h.isSession){if(h.getAutoDestroy()){h.destroy()}i.setSession(null)}if(k){i.setController(null);k.destroy()}},initBindable:function(){this.initBindable=Ext.emptyFn;this.getBind();this.getPublishes()},makeBindableUpdater:function(g){var e=g.names.update;return function(d,k){var j=this,c=j.self.prototype[e];if(c){c.call(j,d,k)}j.publishState(g.name,d)}},isSyncing:function(j){var h=this.getBind(),k=false,i;if(h){i=h[j];if(i){k=i.syncing>0}}return k},onBindNotify:function(h,i,g){g.syncing=(g.syncing+1)||1;this[g._config.names.set](h);--g.syncing},removeBindings:function(){var j=this,h,k,i;if(!j.destroying){h=j.getBind();if(h&&typeof h!=="string"){for(k in h){i=h[k];i.destroy();i._config=i.getTemplateScope=null}}}j.setBind(null)},updateSession:function(e){var g=this.getInherited();if(e){g.session=e}else{delete g.session}},updateViewModel:function(h){var g=this.getInherited(),i=this.getController();if(h){g.viewModel=h;h.setView(this);if(i){i.initViewModel(h)}}else{delete g.viewModel}}}},0,0,0,0,0,0,[Ext.mixin,"Bindable"],0));(Ext.cmd.derive("Ext.mixin.ComponentDelegation",Ext.Mixin,{mixinConfig:{id:"componentDelegation"},privates:{addDelegatedListener:function(u,s,q,p,w,x,v){var t=this,y,z,r;w=w||p.order;if(w){r=(p&&p.priority);if(!r){p=p?Ext.Object.chain(p):{};p.priority=t.$orderToPriority[w]}}y=t.$delegatedEvents||(t.$delegatedEvents={});z=y[u]||(y[u]=new Ext.util.Event(t,u));if(z.addListener(s,q,p,x,v)){t.$hasDelegatedListeners._incr_(u)}},clearDelegatedListeners:function(){var j=this,l=j.$delegatedEvents,m,k,i;if(l){for(m in l){k=l[m];i=k.listeners.length;k.clearListeners();j.$hasDelegatedListeners._decr_(m,i);delete l[m]}}},doFireDelegatedEvent:function(q,n){var k=this,p=true,r,m,l;if(k.$hasDelegatedListeners[q]){r=k.getRefOwner();while(r){m=r.$delegatedEvents;if(m){l=m[q];if(l){p=l.fireDelegated(k,n);if(p===false){break}}}r=r.getRefOwner()}}return p},removeDelegatedListener:function(p,l,m){var j=this,n=j.$delegatedEvents,k;if(n){k=n[p];if(k&&k.removeListener(l,m)){j.$hasDelegatedListeners._decr_(p);if(k.listeners.length===0){delete n[p]}}}}},onClassMixedIn:function(g){function e(){}g.prototype.HasListeners=g.HasListeners=e;e.prototype=g.hasListeners=new Ext.mixin.ComponentDelegation.HasDelegatedListeners()}},0,0,0,0,0,0,[Ext.mixin,"ComponentDelegation"],function(e){function g(){}e.HasDelegatedListeners=g;g.prototype=e.prototype.$hasDelegatedListeners=new Ext.mixin.Observable.HasListeners()}));(Ext.cmd.derive("Ext.Widget",Ext.Evented,{isWidget:true,element:{reference:"element"},observableType:"component",cachedConfig:{style:null},config:{userCls:null},eventedConfig:{width:null,height:null},template:[],constructor:function(h){var g=this,i;g.initId(h);g.initElement();g.mixins.observable.constructor.call(g,h);Ext.ComponentManager.register(g);i=g.getController();if(i){i.init(g)}},afterCachedConfig:function(){var q=this,p=q.self.prototype,i=q.referenceList,v=q.renderElement,s,u,t,r,w,x;p.renderTemplate=s=document.createDocumentFragment();s.appendChild(v.clone(true,true));x=s.querySelectorAll("[id]");for(t=0,r=x.length;t<r;t++){u=x[t];u.removeAttribute("id")}for(t=0,r=i.length;t<r;t++){w=i[t];q[w].dom.removeAttribute("reference")}},addCls:function(d){this.el.addCls(d)},applyWidth:function(d){return this.filterLengthValue(d)},applyHeight:function(d){return this.filterLengthValue(d)},clearListeners:function(){var d=this;d.mixins.observable.clearListeners.call(d);d.mixins.componentDelegation.clearDelegatedListeners.call(d)},destroy:function(){var i=this,l=i.referenceList,k,j,m;for(k=0,j=l.length;k<j;k++){m=l[k];if(i.hasOwnProperty(m)){i[m].destroy();i[m]=null}}i.destroyBindable();Ext.Evented.prototype.destroy.call(this);Ext.ComponentManager.unregister(i)},doFireEvent:function(l,j,m){var i=this,k=i.mixins.observable.doFireEvent.call(i,l,j,m);if(k!==false){k=i.mixins.componentDelegation.doFireDelegatedEvent.call(i,l,j)}return k},getElementConfig:function(){var e=this,g=e.element;if(!("children" in g)){g=Ext.apply({children:e.getTemplate()},g)}return g},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getTemplate:function(){return this.template},initElement:function(){var t=this,s=t.self.prototype,D=t.getId(),i=t.referenceList=t.referenceList=[],B=true,w,z,x,C,y,u,v,A;if(s.hasOwnProperty("renderTemplate")){w=t.renderTemplate.cloneNode(true);z=w.firstChild}else{B=false;w=document.createDocumentFragment();z=Ext.Element.create(t.processElementConfig.call(s),true);w.appendChild(z)}C=w.querySelectorAll("[reference]");for(y=0,u=C.length;y<u;y++){v=C[y];A=v.getAttribute("reference");if(B){v.removeAttribute("reference")}if(A==="element"){v.id=D;x=t.el=t.addElementReference(A,v);x.dom.setAttribute("data-componentid",D)}else{t.addElementReferenceOnDemand(A,v)}i.push(A)}if(z===x.dom){t.renderElement=x}else{t.addElementReferenceOnDemand("renderElement",z)}},is:function(d){return Ext.ComponentQuery.is(this,d)},isXType:function(e,g){return g?(Ext.Array.indexOf(this.xtypes,e)!==-1):!!this.xtypesMap[e]},removeCls:function(d){this.el.removeCls(d)},toggleCls:function(g,e){this.element.toggleCls(g,e)},resolveListenerScope:function(e,g){return this.mixins.inheritable.resolveListenerScope.call(this,e,g)},setSize:function(e,g){if(e!==undefined){this.setWidth(e)}if(g!==undefined){this.setHeight(g)}},applyStyle:function(e,g){if(g&&e===g&&Ext.isObject(g)){e=Ext.apply({},e)}return e},updateStyle:function(d){this.element.applyStyles(d)},updateWidth:function(d){this.element.setWidth(d)},updateHeight:function(d){this.element.setHeight(d)},onFocusEnter:Ext.emptyFn,onFocusLeave:Ext.emptyFn,isAncestor:function(){return false},privates:{addElementReferenceOnDemand:function(g,e){if(this._elementListeners[g]){this.addElementReference(g,e)}else{Ext.Object.defineProperty(this,g,{get:function(){delete this[g];return this.addElementReference(g,e)},configurable:true})}},addElementReference:function(p,m){var l=this,q=l[p]=Ext.get(m),n=l._elementListeners[p],r,k;q.skipGarbageCollection=true;q.component=l;if(n){n=Ext.clone(n);for(r in n){k=n[r];if(typeof k==="object"){k.scope=l}}n.scope=l;q.on(n)}return q},detachFromBody:function(){Ext.getDetachedBody().appendChild(this.element);this.isDetached=true},doAddListener:function(v,p,n,m,t,u,s){var q=this,r;if(m&&"element" in m){q[m.element].doAddListener(v,p,n||q,m,t)}if(m){r=m.delegate;if(r){q.mixins.componentDelegation.addDelegatedListener.call(q,v,p,n,m,t,u,s);return}}Ext.Evented.prototype.doAddListener.call(this,v,p,n,m,t,u,s)},doRemoveListener:function(k,i,j){var h=this;h.mixins.observable.doRemoveListener.call(h,k,i,j);h.mixins.componentDelegation.removeDelegatedListener.call(h,k,i,j)},filterLengthValue:function(d){if(d==="auto"||(!d&&d!==0)){return null}return d},getFocusEl:function(){return this.element},initElementListeners:function(i){var q=this,w=q.self.superclass,x=w._elementListeners,v=i.reference,z=i.children,t,r,y,s,u;if(q.hasOwnProperty("_elementListeners")){t=q._elementListeners}else{t=q._elementListeners=(x?Ext.Object.chain(x):{})}if(v){r=i.listeners;if(r){if(x){y=x[v];if(y){r=Ext.Object.chain(y);Ext.apply(r,i.listeners)}}t[v]=r;i.listeners=null}}if(z){for(u=0,s=z.length;u<s;u++){q.initElementListeners(z[u])}}},initId:function(j){var i=this,k=i.config,h=(j&&j.id)||(k&&k.id);if(h){i.setId(h);i.id=h}else{i.getId()}},processElementConfig:function(){var i=this,g=i.self.superclass,h;if(i.hasOwnProperty("_elementConfig")){h=i._elementConfig}else{h=i._elementConfig=i.getElementConfig();if(g.isWidget){i.processElementConfig.call(g)}i.initElementListeners(h)}return h},reattachToBody:function(){this.isDetached=false},updateUserCls:function(e,g){this.element.replaceCls(g,e)}}},1,["widget"],["widget"],{widget:true},["widget.widget"],[[Ext.mixin.Inheritable.prototype.mixinId||Ext.mixin.Inheritable.$className,Ext.mixin.Inheritable],[Ext.mixin.Bindable.prototype.mixinId||Ext.mixin.Bindable.$className,Ext.mixin.Bindable],[Ext.mixin.ComponentDelegation.prototype.mixinId||Ext.mixin.ComponentDelegation.$className,Ext.mixin.ComponentDelegation]],[Ext,"Widget"],function(e){var g=e.prototype;(g.$elementEventOptions=Ext.Object.chain(Ext.Element.prototype.$eventOptions)).element=1;(g.$eventOptions=Ext.Object.chain(g.$eventOptions)).delegate=1}));Ext.define("Ext.overrides.Widget",{override:"Ext.Widget",$configStrict:false,isComponent:true,liquidLayout:true,rendered:true,rendering:true,config:{renderTo:null},cachedConfig:{baseCls:"x-widget"},constructor:function(i){var h=this,g;(arguments.callee.$previous||Ext.Evented.prototype.constructor).call(this,i);h.getComponentLayout();g=h.getRenderTo();if(g){h.render(g)}},addClsWithUI:function(d){this.el.addCls(d)},afterComponentLayout:Ext.emptyFn,updateLayout:function(){var d=this.getRefOwner();if(d){d.updateLayout()}},destroy:function(){var e=this,g=e.ownerCt;if(g&&g.remove){g.remove(e,false)}(arguments.callee.$previous||Ext.Evented.prototype.destroy).call(this)},finishRender:function(){this.rendering=false;this.initBindable()},getAnimationProps:function(){return{}},getComponentLayout:function(){var e=this,g=e.componentLayout;if(!g){g=e.componentLayout=new Ext.layout.component.Auto();g.setOwner(e)}return g},getEl:function(){return this.element},getTdCls:function(){return"x-"+this.getTdType()+"-"+(this.ui||"default")+"-cell"},getTdType:function(){return this.xtype},getItemId:function(){return this.itemId||this.id},getSizeModel:function(){return Ext.Component.prototype.getSizeModel.apply(this,arguments)},onAdded:function(l,i,m){var j=this,k=j.inheritedState;j.ownerCt=l;j.onInheritedAdd(j,m)},onRemoved:function(e){var g=this;if(!e){g.removeBindings()}g.onInheritedRemove(e);g.ownerCt=g.ownerLayout=null},parseBox:function(d){return Ext.Element.parseBox(d)},removeClsWithUI:function(d){this.el.removeCls(d)},render:function(n,p){var k=this,m=k.element,l=Ext.Component.prototype,j;if(!k.ownerCt||k.floating){if(Ext.scopeCss){m.addCls(l.rootCls)}m.addCls(l.borderBoxCls)}if(p){j=n.childNodes[p];if(j){Ext.fly(n).insertBefore(m,j);return}}Ext.fly(n).appendChild(m)},setPosition:function(g,e){this.el.setLocalXY(g,e)},up:function(){return Ext.Component.prototype.up.apply(this,arguments)},isAncestor:function(){return Ext.Component.prototype.isAncestor.apply(this,arguments)},onFocusEnter:function(){return Ext.Component.prototype.onFocusEnter.apply(this,arguments)},onFocusLeave:function(){return Ext.Component.prototype.onFocusLeave.apply(this,arguments)},isLayoutChild:function(e){var g=this.ownerCt;return g?(g===e||g.isLayoutChild(e)):false}},function(e){var g=e.prototype;if(Ext.isIE9m){g.addElementReferenceOnDemand=g.addElementReference}});(Ext.cmd.derive("Ext.ProgressBase",Ext.Base,{mixinId:"progressbase",config:{value:0,textTpl:null},applyTextTpl:function(d){if(!d.isTemplate){d=new Ext.XTemplate(d)}return d},applyValue:function(d){return d||0}},0,0,0,0,0,0,[Ext,"ProgressBase"],0));(Ext.cmd.derive("Ext.Progress",Ext.Widget,{alternateClassName:"Ext.ProgressBarWidget",config:{text:null,animate:false},cachedConfig:{baseCls:"x-progress",textCls:"x-progress-text",cls:null,ui:null},template:[{reference:"backgroundEl"},{reference:"barEl",children:[{reference:"textEl"}]}],defaultBindProperty:"value",updateWidth:function(h,i){var g=this;Ext.Widget.prototype.updateWidth.call(this,h,i);h-=g.element.getBorderWidth("lr");g.backgroundEl.setWidth(h);g.textEl.setWidth(h)},updateCls:function(i,g){var h=this.element;if(g){h.removeCls(g)}if(i){h.addCls(i)}},updateUi:function(i,j){var k=this.element,m=this.barEl,l=this.getBaseCls()+"-";if(j){k.removeCls(l+j);m.removeCls(l+"bar-"+j)}k.addCls(l+i);m.addCls(l+"bar-"+i)},updateBaseCls:function(e,g){this.element.addCls(e);this.barEl.addCls(e+"-bar")},updateTextCls:function(d){this.backgroundEl.addCls(d+" "+d+"-back");this.textEl.addCls(d)},updateValue:function(i,l){var j=this,m=j.barEl,k=j.getTextTpl();if(k){j.setText(k.apply({value:i,percent:Math.round(i*100)}))}if(j.getAnimate()){m.stopAnimation();m.animate(Ext.apply({from:{width:(l*100)+"%"},to:{width:(i*100)+"%"}},j.animate))}else{m.setStyle("width",(i*100)+"%")}},updateText:function(d){this.backgroundEl.setHtml(d);this.textEl.setHtml(d)}},0,["progress","progressbarwidget"],["widget","progress","progressbarwidget"],{widget:true,progress:true,progressbarwidget:true},["widget.progress","widget.progressbarwidget"],[[Ext.ProgressBase.prototype.mixinId||Ext.ProgressBase.$className,Ext.ProgressBase]],[Ext,"Progress",Ext,"ProgressBarWidget"],0));Ext.define("Ext.overrides.Progress",{override:"Ext.Progress",config:{ui:"default"}});(Ext.cmd.derive("Ext.util.Format",Ext.Base,function(){var d;return{singleton:true,defaultDateFormat:"m/d/Y",thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",percentSign:"%",currencyAtEnd:false,stripTagsRe:/<\/?[^>]+>/gi,stripScriptsRe:/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,nl2brRe:/\r?\n/g,hashRe:/#+$/,allHashes:/^#+$/,formatPattern:/[\d,\.#]+/,formatCleanRe:/[^\d\.#]/g,I18NFormatCleanRe:null,formatFns:{},constructor:function(){d=this},undef:function(c){return c!==undefined?c:""},defaultValue:function(c,g){return c!==undefined&&c!==""?c:g},substr:"ab".substr(-1)!="b"?function(j,c,k){var i=String(j);return(c<0)?i.substr(Math.max(i.length+c,0),k):i.substr(c,k)}:function(h,c,i){return String(h).substr(c,i)},lowercase:function(c){return String(c).toLowerCase()},uppercase:function(c){return String(c).toUpperCase()},usMoney:function(c){return d.currency(c,"$",2)},currency:function(p,m,q,r){var c="",i=",0",n=0;p=p-0;if(p<0){p=-p;c="-"}q=Ext.isDefined(q)?q:d.currencyPrecision;i+=(q>0?".":"");for(;n<q;n++){i+="0"}p=d.number(p,i);if((r||d.currencyAtEnd)===true){return Ext.String.format("{0}{1}{2}",c,p,m||d.currencySign)}else{return Ext.String.format("{0}{1}{2}",c,m||d.currencySign,p)}},date:function(g,c){if(!g){return""}if(!Ext.isDate(g)){g=new Date(Date.parse(g))}return Ext.Date.dateFormat(g,c||Ext.Date.defaultFormat)},dateRenderer:function(c){return function(g){return d.date(g,c)}},hex:function(c,h){var i=parseInt(c||0,10).toString(16);if(h){if(h<0){h=-h;if(i.length>h){i=i.substring(i.length-h)}}while(i.length<h){i="0"+i}}return i},or:function(c,g){return c||g},pick:function(i,j,c){if(Ext.isNumber(i)){var k=arguments[i+1];if(k){return k}}return i?c:j},stripTags:function(c){return !c?c:String(c).replace(d.stripTagsRe,"")},stripScripts:function(c){return !c?c:String(c).replace(d.stripScriptsRe,"")},fileSize:(function(){var i=1024,h=1048576,c=1073741824;return function(e){var g;if(e<i){if(e===1){g="1 byte"}else{g=e+" bytes"}}else{if(e<h){g=(Math.round(((e*10)/i))/10)+" KB"}else{if(e<c){g=(Math.round(((e*10)/h))/10)+" MB"}else{g=(Math.round(((e*10)/c))/10)+" GB"}}}return g}})(),math:(function(){var c={};return function(h,i){if(!c[i]){c[i]=Ext.functionFactory("v","return v "+i+";")}return c[i](h)}}()),round:function(c,h){var i=Number(c);if(typeof h==="number"){h=Math.pow(10,h);i=Math.round(c*h)/h}else{if(h===undefined){i=Math.round(i)}}return i},number:function(u,A){if(!A){return u}if(isNaN(u)){return""}var B=d.formatFns[A];if(!B){var x=A,F=d.thousandSeparator,t=d.decimalSeparator,z=0,C="",D,w,v,c,E,y;if(A.substr(A.length-2)==="/i"){if(!d.I18NFormatCleanRe||d.lastDecimalSeparator!==t){d.I18NFormatCleanRe=new RegExp("[^\\d\\"+t+"#]","g");d.lastDecimalSeparator=t}A=A.substr(0,A.length-2);D=A.indexOf(F)!==-1;w=A.replace(d.I18NFormatCleanRe,"").split(t)}else{D=A.indexOf(",")!==-1;w=A.replace(d.formatCleanRe,"").split(".")}v=A.replace(d.formatPattern,"");if(w.length>2){}else{if(w.length===2){z=w[1].length;c=w[1].match(d.hashRe);if(c){y=c[0].length;C='trailingZeroes=new RegExp(Ext.String.escapeRegex(utilFormat.decimalSeparator) + "*0{0,'+y+'}$")'}}}E=["var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,absVal,fnum,parts"+(D?",thousandSeparator,thousands=[],j,n,i":"")+(v?',formatString="'+A+'",formatPattern=/[\\d,\\.#]+/':"")+',trailingZeroes;return function(v){if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";neg=v<0;',"absVal=Math.abs(v);","fnum=Ext.Number.toFixed(absVal, "+z+");",C,";"];if(D){if(z){E[E.length]='parts=fnum.split(".");';E[E.length]="fnum=parts[0];"}E[E.length]="if(absVal>=1000) {";E[E.length]="thousandSeparator=utilFormat.thousandSeparator;thousands.length=0;j=fnum.length;n=fnum.length%3||3;for(i=0;i<j;i+=n){if(i!==0){n=3;}thousands[thousands.length]=fnum.substr(i,n);}fnum=thousands.join(thousandSeparator);}";if(z){E[E.length]="fnum += utilFormat.decimalSeparator+parts[1];"}}else{if(z){E[E.length]='if(utilFormat.decimalSeparator!=="."){parts=fnum.split(".");fnum=parts[0]+utilFormat.decimalSeparator+parts[1];}'}}E[E.length]='if(neg&&fnum!=="'+(z?"0."+Ext.String.repeat("0",z):"0")+'") { fnum="-"+fnum; }';if(c){E[E.length]='fnum=fnum.replace(trailingZeroes,"");'}E[E.length]="return ";if(v){E[E.length]="formatString.replace(formatPattern, fnum);"}else{E[E.length]="fnum;"}E[E.length]="};";B=d.formatFns[x]=Ext.functionFactory("Ext",E.join(""))(Ext)}return B(u)},numberRenderer:function(c){return function(g){return d.number(g,c)}},percent:function(c,g){return d.number(c*100,g||"0")+d.percentSign},attributes:function(h){if(typeof h==="object"){var i=[],c;for(c in h){if(h.hasOwnProperty(c)){i.push(c,'="',c==="style"?Ext.DomHelper.generateStyles(h[c],null,true):Ext.htmlEncode(h[c]),'" ')}}h=i.join("")}return h||""},plural:function(i,h,c){return i+" "+(i===1?h:(c?c:h+"s"))},nl2br:function(c){return Ext.isEmpty(c)?"":c.replace(d.nl2brRe,"<br/>")},capitalize:Ext.String.capitalize,uncapitalize:Ext.String.uncapitalize,ellipsis:Ext.String.ellipsis,escape:Ext.String.escape,escapeRegex:Ext.String.escapeRegex,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,toggle:Ext.String.toggle,trim:Ext.String.trim,parseBox:function(h){h=h||0;if(typeof h==="number"){return{top:h,right:h,bottom:h,left:h}}var c=h.split(" "),i=c.length;if(i===1){c[1]=c[2]=c[3]=c[0]}else{if(i===2){c[2]=c[0];c[3]=c[1]}else{if(i===3){c[3]=c[1]}}}return{top:parseInt(c[0],10)||0,right:parseInt(c[1],10)||0,bottom:parseInt(c[2],10)||0,left:parseInt(c[3],10)||0}}}},1,0,0,0,0,0,[Ext.util,"Format"],0));(Ext.cmd.derive("Ext.Template",Ext.Base,{inheritableStatics:{from:function(e,g){e=Ext.getDom(e);return new this(e.value||e.innerHTML,g||"")}},useEval:Ext.isGecko,constructor:function(n){var l=this,q=arguments,r=[],p,m=q.length,i;l.initialConfig={};if(m===1&&Ext.isArray(n)){q=n;m=q.length}if(m>1){for(p=0;p<m;p++){i=q[p];if(typeof i==="object"){Ext.apply(l.initialConfig,i);Ext.apply(l,i)}else{r.push(i)}}}else{r.push(n)}l.html=r.join("")},isTemplate:true,disableFormats:false,tokenRe:/\{(?:(?:(\d+)|([a-z_][\w\-]*))(?::([a-z_\.]+)(?:\(([^\)]*?)?\))?)?)\}/gi,apply:function(g){var e=this;if(e.compiled){if(!e.fn){e.compile()}return e.fn(g).join("")}return e.evaluate(g)},evaluate:function(p){var j=this,m=!j.disableFormats,k=Ext.util.Format,n=j;function l(c,d,e,h,g){if(e==null||e===""){e=d}if(h&&m){if(g){g=[p[e]].concat(Ext.functionFactory("return ["+g+"];")())}else{g=[p[e]]}if(h.substr(0,5)==="this."){return n[h.substr(5)].apply(n,g)}else{if(k[h]){return k[h].apply(k,g)}else{return c}}}else{return p[e]!==undefined?p[e]:""}}return j.html.replace(j.tokenRe,l)},applyOut:function(i,h){var g=this;if(g.compiled){if(!g.fn){g.compile()}h.push.apply(h,g.fn(i))}else{h.push(g.apply(i))}return h},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(i,g){var h=this;h.html=i;h.compiled=!!g;h.fn=null;return h},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var e=this,g;g=e.html.replace(e.compileARe,"\\\\").replace(e.compileBRe,"\\n").replace(e.compileCRe,"\\'").replace(e.tokenRe,e.regexReplaceFn.bind(e));g=(this.disableFormats!==true?"var fm=Ext.util.Format;":"")+(e.useEval?"$=":"return")+" function(v){return ['"+g+"'];};";e.fn=e.useEval?e.evalCompiled(g):(new Function("Ext",g))(Ext);e.compiled=true;return e},evalCompiled:function($){eval($);return $},regexReplaceFn:function(j,k,l,i,m){if(k==null||k===""){k='"'+l+'"'}else{if(this.stringFormat){k=parseInt(k)+1}}if(i&&this.disableFormats!==true){m=m?","+m:"";if(i.substr(0,5)==="this."){i=i+"("}else{if(Ext.util.Format[i]){i="fm."+i+"("}else{return j}}return"',"+i+"v["+k+"]"+m+"),'"}else{return"',v["+k+"] == undefined ? '' : v["+k+"],'"}},insertFirst:function(h,i,g){return this.doInsert("afterBegin",h,i,g)},insertBefore:function(h,i,g){return this.doInsert("beforeBegin",h,i,g)},insertAfter:function(h,i,g){return this.doInsert("afterEnd",h,i,g)},append:function(h,i,g){return this.doInsert("beforeEnd",h,i,g)},doInsert:function(l,j,m,i){var k=Ext.DomHelper.insertHtml(l,Ext.getDom(j),this.apply(m));return i?Ext.get(k):k},overwrite:function(i,k,h){var j=Ext.DomHelper.overwrite(Ext.getDom(i),this.apply(k));return h?Ext.get(j):j}},1,0,0,0,0,0,[Ext,"Template"],function(j){var k=/\{\d+\}/,m=function(c){if(k.test(c)){c=new j(c,l);return function(){return c.apply(arguments)}}else{return function(){return c}}},l={useFormat:false,compiled:true,stringFormat:true},i={};Ext.String.format=Ext.util.Format.format=function(c){var d=i[c]||(i[c]=m(c));return d.apply(this,arguments)};Ext.String.formatEncode=function(){return Ext.String.htmlEncode(Ext.String.format.apply(this,arguments))}}));(Ext.cmd.derive("Ext.util.XTemplateParser",Ext.Base,{constructor:function(d){Ext.apply(this,d)},doTpl:Ext.emptyFn,parse:function(E){var m=this,B=E.length,C={elseif:"elif"},A=m.topRe,N=m.actionsRe,L,M,H,D,J,G,I,s,t,O,K,P,F;m.level=0;m.stack=M=[];for(L=0;L<B;L=O){A.lastIndex=L;D=A.exec(E);if(!D){m.doText(E.substring(L,B));break}t=D.index;O=A.lastIndex;if(L<t){H=E.substring(L,t);if(!(F&&Ext.String.trim(H)==="")){m.doText(H)}}F=false;if(D[1]){O=E.indexOf("%}",t+2);m.doEval(E.substring(t+2,O));O+=2}else{if(D[2]){O=E.indexOf("]}",t+2);m.doExpr(E.substring(t+2,O));O+=2}else{if(D[3]){m.doTag(D[3])}else{if(D[4]){K=null;while((s=N.exec(D[4]))!==null){H=s[2]||s[3];if(H){H=Ext.String.htmlDecode(H);J=s[1];J=C[J]||J;K=K||{};G=K[J];if(typeof G=="string"){K[J]=[G,H]}else{if(G){K[J].push(H)}else{K[J]=H}}}}if(!K){if(m.elseRe.test(D[4])){m.doElse()}else{if(m.defaultRe.test(D[4])){m.doDefault()}else{m.doTpl();M.push({type:"tpl"})}}}else{if(K["if"]){m.doIf(K["if"],K);M.push({type:"if"})}else{if(K["switch"]){m.doSwitch(K["switch"],K);M.push({type:"switch"});F=true}else{if(K["case"]){m.doCase(K["case"],K)}else{if(K.elif){m.doElseIf(K.elif,K)}else{if(K["for"]){++m.level;if(P=m.propRe.exec(D[4])){K.propName=P[1]||P[2]}m.doFor(K["for"],K);M.push({type:"for",actions:K})}else{if(K.foreach){++m.level;if(P=m.propRe.exec(D[4])){K.propName=P[1]||P[2]}m.doForEach(K.foreach,K);M.push({type:"foreach",actions:K})}else{if(K.exec){m.doExec(K.exec,K);M.push({type:"exec",actions:K})}}}}}}}}}else{if(D[0].length===5){M.push({type:"tpl"})}else{I=M.pop();m.doEnd(I.type,I.actions);if(I.type=="for"||I.type=="foreach"){--m.level}}}}}}}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/},1,0,0,0,0,0,[Ext.util,"XTemplateParser"],0));(Ext.cmd.derive("Ext.util.XTemplateCompiler",Ext.util.XTemplateParser,{useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:true,propNameRe:/^[\w\d\$]*$/,compile:function(i){var g=this,h=g.generate(i);return g.useEval?g.evalTpl(h):(new Function("Ext",h))(Ext)},generate:function(k){var h=this,j="var fm=Ext.util.Format,ts=Object.prototype.toString;",i;h.maxLevel=0;h.body=["var c0=values, a0="+h.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, k0, v;\n"];if(h.definitions){if(typeof h.definitions==="string"){h.definitions=[h.definitions,j]}else{h.definitions.push(j)}}else{h.definitions=[j]}h.switches=[];h.parse(k);h.definitions.push((h.useEval?"$=":"return")+" function ("+h.fnArgs+") {",h.body.join(""),"}");i=h.definitions.join("\n");h.definitions.length=h.body.length=h.switches.length=0;delete h.definitions;delete h.body;delete h.switches;return i},doText:function(g){var h=this,i=h.body;g=g.replace(h.aposRe,"\\'").replace(h.newLineRe,"\\n");if(h.useIndex){i.push("out[out.length]='",g,"'\n")}else{i.push("out.push('",g,"')\n")}},doExpr:function(e){var g=this.body;g.push("if ((v="+e+") != null) out");if(this.useIndex){g.push("[out.length]=v+''\n")}else{g.push(".push(v+'')\n")}},doTag:function(g){var e=this.parseTag(g);if(e){this.doExpr(e)}else{this.doText("{"+g+"}")}},doElse:function(){this.body.push("} else {\n")},doEval:function(d){this.body.push(d,"\n")},doIf:function(h,g){var i=this;if(h==="."){i.body.push("if (values) {\n")}else{if(i.propNameRe.test(h)){i.body.push("if (",i.parseTag(h),") {\n")}else{i.body.push("if (",i.addFn(h),i.callFn,") {\n")}}if(g.exec){i.doExec(g.exec)}},doElseIf:function(h,g){var i=this;if(h==="."){i.body.push("else if (values) {\n")}else{if(i.propNameRe.test(h)){i.body.push("} else if (",i.parseTag(h),") {\n")}else{i.body.push("} else if (",i.addFn(h),i.callFn,") {\n")}}if(g.exec){i.doExec(g.exec)}},doSwitch:function(g){var h=this,i;if(g==="."||g==="#"){i=g==="."?"values":"xindex";h.body.push("switch (",i,") {\n")}else{if(h.propNameRe.test(g)){h.body.push("switch (",h.parseTag(g),") {\n")}else{h.body.push("switch (",h.addFn(g),h.callFn,") {\n")}}h.switches.push(0)},doCase:function(k){var l=this,m=Ext.isArray(k)?k:[k],i=l.switches.length-1,p,n;if(l.switches[i]){l.body.push("break;\n")}else{l.switches[i]++}for(n=0,i=m.length;n<i;++n){p=l.intRe.exec(m[n]);m[n]=p?p[1]:("'"+m[n].replace(l.aposRe,"\\'")+"'")}l.body.push("case ",m.join(": case "),":\n")},doDefault:function(){var g=this,e=g.switches.length-1;if(g.switches[e]){g.body.push("break;\n")}else{g.switches[e]++}g.body.push("default:\n")},doEnd:function(j,h){var i=this,k=i.level-1;if(j=="for"||j=="foreach"){if(h.exec){i.doExec(h.exec)}i.body.push("}\n");i.body.push("parent=p",k,";values=r",k+1,";xcount=n"+k+";xindex=i",k,"+1;xkey=k",k,";\n")}else{if(j=="if"||j=="switch"){i.body.push("}\n")}}},doFor:function(m,k){var n=this,p,q=n.level,r=q-1,l;if(m==="."){p="values"}else{if(n.propNameRe.test(m)){p=n.parseTag(m)}else{p=n.addFn(m)+n.callFn}}if(n.maxLevel<q){n.maxLevel=q;n.body.push("var ")}if(m=="."){l="c"+q}else{l="a"+r+"?c"+r+"[i"+r+"]:c"+r}n.body.push("i",q,"=0,n",q,"=0,c",q,"=",p,",a",q,"=",n.createArrayTest(q),",r",q,"=values,p",q,",k",q,";\n","p",q,"=parent=",l,"\n","if (c",q,"){if(a",q,"){n",q,"=c",q,".length;}else if (c",q,".isMixedCollection){c",q,"=c",q,".items;n",q,"=c",q,".length;}else if(c",q,".isStore){c",q,"=c",q,".data.items;n",q,"=c",q,".length;}else{c",q,"=[c",q,"];n",q,"=1;}}\n","for (xcount=n",q,";i",q,"<n"+q+";++i",q,"){\n","values=c",q,"[i",q,"]");if(k.propName){n.body.push(".",k.propName)}n.body.push("\n","xindex=i",q,"+1\n");if(k.between){n.body.push('if(xindex>1){ out.push("',k.between,'"); } \n')}},doForEach:function(m,k){var n=this,p,q=n.level,r=q-1,l;if(m==="."){p="values"}else{if(n.propNameRe.test(m)){p=n.parseTag(m)}else{p=n.addFn(m)+n.callFn}}if(n.maxLevel<q){n.maxLevel=q;n.body.push("var ")}if(m=="."){l="c"+q}else{l="a"+r+"?c"+r+"[i"+r+"]:c"+r}n.body.push("i",q,"=-1,n",q,"=0,c",q,"=",p,",a",q,"=",n.createArrayTest(q),",r",q,"=values,p",q,",k",q,";\n","p",q,"=parent=",l,"\n","for(k",q," in c",q,"){\n","xindex=++i",q,"+1;\n","xkey=k",q,";\n","values=c",q,"[k",q,"];");if(k.propName){n.body.push(".",k.propName)}if(k.between){n.body.push('if(xindex>1){ out.push("',k.between,'"); } \n')}},createArrayTest:("isArray" in Array)?function(d){return"Array.isArray(c"+d+")"}:function(d){return"ts.call(c"+d+')==="[object Array]"'},doExec:function(j,i){var k=this,m="f"+k.definitions.length,l=k.guards[k.strict?0:1];k.definitions.push("function "+m+"("+k.fnArgs+") {",l.doTry," var $v = values; with($v) {","  "+j," }",l.doCatch,"}");k.body.push(m+k.callFn+"\n")},guards:[{doTry:"",doCatch:""},{doTry:"try { ",doCatch:" } catch(e) {\n}"}],addFn:function(k){var h=this,j="f"+h.definitions.length,i=h.guards[h.strict?0:1];if(k==="."){h.definitions.push("function "+j+"("+h.fnArgs+") {"," return values","}")}else{if(k===".."){h.definitions.push("function "+j+"("+h.fnArgs+") {"," return parent","}")}else{h.definitions.push("function "+j+"("+h.fnArgs+") {",i.doTry," var $v = values; with($v) {","  return("+k+")"," }",i.doCatch,"}")}}return j},parseTag:function(s){var m=this,t=m.tagRe.exec(s),p,l,q,n,r;if(!t){return null}p=t[1];l=t[2];q=t[3];n=t[4];if(p=="."){if(!m.validTypes){m.definitions.push("var validTypes={string:1,number:1,boolean:1};");m.validTypes=true}r='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'}else{if(p=="#"){r="xindex"}else{if(p=="$"){r="xkey"}else{if(p.substr(0,7)=="parent."){r=p}else{if(isNaN(p)&&p.indexOf("-")==-1&&p.indexOf(".")!=-1){r="values."+p}else{r="values['"+p+"']"}}}}}if(n){r="("+r+n+")"}if(l&&m.useFormat){q=q?","+q:"";if(l.substr(0,5)!="this."){l="fm."+l+"("}else{l+="("}}else{return r}return l+r+q+")"},evalTpl:function($){eval($);return $},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},0,0,0,0,0,0,[Ext.util,"XTemplateCompiler"],function(){var d=this.prototype;d.fnArgs="out,values,parent,xindex,xcount,xkey";d.callFn=".call(this,"+d.fnArgs+")"}));(Ext.cmd.derive("Ext.XTemplate",Ext.Template,{isXTemplate:true,emptyObj:{},fn:null,strict:false,apply:function(k,j,i,h){return this.applyOut(k,[],j,i,h).join("")},applyOut:function(t,s,q,n,e){var p=this,r;if(!p.fn){r=new Ext.util.XTemplateCompiler({useFormat:p.disableFormats!==true,definitions:p.definitions,strict:p.strict});p.fn=r.compile(p.html)}n=n||1;e=e||1;if(p.strict){p.fn(s,t,q||p.emptyObj,n,e)}else{try{p.fn(s,t,q||p.emptyObj,n,e)}catch(m){}}return s},compile:function(){return this},statics:{getTpl:function(j,h){var i=j[h],k;if(i&&!i.isTemplate){i=Ext.ClassManager.dynInstantiate("Ext.XTemplate",i);if(j.hasOwnProperty(h)){k=j}else{for(k=j.self.prototype;k&&!k.hasOwnProperty(h);k=k.superclass){}}k[h]=i;i.owner=k}return i||null}}},0,0,0,0,0,0,[Ext,"XTemplate"],0));(Ext.cmd.derive("Ext.app.EventDomain",Ext.Base,{statics:{instances:{}},isEventDomain:true,isInstance:false,constructor:function(){var d=this;if(!d.isInstance){Ext.app.EventDomain.instances[d.type]=d}d.bus={};d.monitoredClasses=[]},dispatch:function(x,t,v){t=Ext.canonicalEventName(t);var u=this,w=u.bus,i=w[t],A,C,D,B,F,y,z,E;if(!i){return true}for(A in i){if(i.hasOwnProperty(A)&&u.match(x,A,u.controller)){C=i[A];for(D in C){if(C.hasOwnProperty(D)){B=C[D];if(B.controller.isActive()){F=B.list;y=F.length;for(z=0;z<y;z++){E=F[z];if(E.fire.apply(E,v)===false){return false}}}}}}}return true},listen:function(Q,I){var i=this,J=i.bus,N=i.idProperty,M=i.monitoredClasses,P=M.length,K=I.getId(),A=(i.type==="component"),F=A?I.getRefMap():null,D,L,C,E,S,R,T,G,H,B,O;for(E in Q){H=Q[E];if(A){E=F[E]||E}if(H){if(N){E=E==="*"?E:E.substring(1)}for(B in H){S=null;R=H[B];T=I;B=Ext.canonicalEventName(B);G=new Ext.util.Event(I,B);if(Ext.isObject(R)){S=R;R=S.fn;T=S.scope||I;delete S.fn;delete S.scope}if(typeof R==="string"){R=T[R]}G.addListener(R,T,S);for(D=0;D<P;++D){O=M[D].hasListeners;if(O){O._incr_(B)}}L=J[B]||(J[B]={});L=L[E]||(L[E]={});C=L[K]||(L[K]={controller:I,list:[]});C.list.push(G)}}}},match:function(g,i){var h=this.idProperty;if(h){return i==="*"||g[h]===i}return false},monitor:function(i){var j=this,k=i.isInstance?i:i.prototype,h=k.doFireEvent;j.monitoredClasses.push(i);k.doFireEvent=function(c,d){var e=h.apply(this,arguments);if(e!==false&&!this.isSuspended(c)){e=j.dispatch(this,c,d)}return e}},unlisten:function(C){var j=this.bus,F=C,H=this.monitoredClasses,x=H.length,E,i,G,w,I,B,J,y,z,D,A;if(C.isController){F=C.getId()}for(i in j){i=Ext.canonicalEventName(i);if(j.hasOwnProperty(i)&&(J=j[i])){for(B in J){E=J[B];D=E[F];if(D){G=D.list;if(G){for(y=0,w=G.length;y<w;++y){I=G[y];I.clearListeners();for(z=0;z<x;++z){A=H[z].hasListeners;if(A){A._decr_(I.name)}}}delete E[F]}}}}}},destroy:function(){this.monitoredClasses=this.bus=null;this.callParent()}},1,0,0,0,0,0,[Ext.app,"EventDomain"],0));(Ext.cmd.derive("Ext.app.domain.Component",Ext.app.EventDomain,{singleton:true,type:"component",constructor:function(){this.callParent();this.monitor(Ext.Widget)},dispatch:function(j,l,m){var n=j.lookupController(false),k,p;while(n){k=n.compDomain;if(k){if(k.dispatch(j,l,m)===false){return false}}p=n.getView();n=p?p.lookupController(true):null}return this.callParent(arguments)},match:function(e,g){return e.is(g)}},1,0,0,0,0,0,[Ext.app.domain,"Component"],0));(Ext.cmd.derive("Ext.util.ProtoElement",Ext.Base,function(){var e=Ext.String.splitWords,g=Ext.Array.toMap;return{isProtoEl:true,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:false,constructor:function(j){var c=this,k,d;if(j){Ext.apply(c,j);k=c.cls;d=c.style;delete c.cls}c.classList=k?e(k):[];c.classMap=k?g(c.classList):{};if(d){if(typeof d==="string"){c.style=Ext.Element.parseStyles(d)}else{if(Ext.isFunction(d)){c.styleFn=d;delete c.style}else{c.style=Ext.apply({},d)}}}},flush:function(){this.flushClassList=[];this.removedClasses={};delete this.style;delete this.unselectableAttr},addCls:function(c){if(!c){return this}var i=this,d=(typeof c==="string")?e(c):c,u=d.length,r=i.classList,v=i.classMap,t=i.flushClassList,s=0,q;for(;s<u;++s){q=d[s];if(!v[q]){v[q]=true;r.push(q);if(t){t.push(q);delete i.removedClasses[q]}}}return i},hasCls:function(c){return c in this.classMap},removeCls:function(c){var d=this,r=d.classList,v=(d.classList=[]),t=g(e(c)),w=r.length,x=d.classMap,s=d.removedClasses,u,i;for(u=0;u<w;++u){i=r[u];if(t[i]){if(s){if(x[i]){s[i]=true;Ext.Array.remove(d.flushClassList,i)}}delete x[i]}else{v.push(i)}}return d},setStyle:function(c,d){var j=this,k=j.style||(j.style={});if(typeof c==="string"){if(arguments.length===1){j.setStyle(Ext.Element.parseStyles(c))}else{k[c]=d}}else{Ext.apply(k,c)}return j},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls);if(Ext.isOpera){this.unselectableAttr=true}},writeTo:function(c){var k=this,d=k.flushClassList||k.classList,l=k.removedClasses,m;if(k.styleFn){m=Ext.apply({},k.styleFn());Ext.apply(m,k.style)}else{m=k.style}c[k.clsProp]=d.join(" ");if(m){c[k.styleProp]=k.styleIsText?Ext.DomHelper.generateStyles(m,null,true):m}if(l){l=Ext.Object.getKeys(l);if(l.length){c[k.removedProp]=l.join(" ")}}if(k.unselectableAttr){c.unselectable="on"}return c}}},1,0,0,0,0,0,[Ext.util,"ProtoElement"],0));(Ext.cmd.derive("Ext.dom.CompositeElement",Ext.dom.CompositeElementLite,{alternateClassName:"Ext.CompositeElement",isLite:false,getElement:function(d){return d},transformElement:function(d){return Ext.get(d)}},0,0,0,0,0,0,[Ext.dom,"CompositeElement",Ext,"CompositeElement"],0));(Ext.cmd.derive("Ext.scroll.Scroller",Ext.Evented,{factoryConfig:{defaultType:"dom"},isScroller:true,_spacerCls:"x-domscroller-spacer",config:{direction:undefined,directionLock:false,disabled:null,element:undefined,indicators:null,maxPosition:{x:0,y:0},maxUserPosition:{x:0,y:0},minPosition:{x:0,y:0},minUserPosition:{x:0,y:0},momentumEasing:null,size:null,slotSnapSize:{x:0,y:0},x:true,y:true,spacerXY:null},statics:{create:function(d){return Ext.Factory.scroller(d,Ext.supports.Touch?"touch":"dom")}},constructor:function(g){var e=this;e.position={x:0,y:0};Ext.Evented.prototype.constructor.call(this,g);e.onDomScrollEnd=Ext.Function.createBuffered(e.onDomScrollEnd,100,e)},destroy:function(){var d=this;d.setX(Ext.emptyString);d.setY(Ext.emptyString);d.setElement(null);d.onDomScrollEnd=d._partners=d.component=null;Ext.Evented.prototype.destroy.call(this)},addPartner:function(j,l){var k=this,i=k._partners||(k._partners={}),m=j._partners||(j._partners={});i[j.getId()]={scroller:j,axis:l};m[k.getId()]={scroller:k,axis:l}},applyElement:function(l,m){var j=this,k,i;if(m){j.scrollListener.destroy()}if(l){if(l.isElement){k=l}else{k=Ext.get(l)}if(k.dom===document.body){k=Ext.get(document.scrollingElement||(Ext.isWebKit?document.body:document.documentElement));i=Ext.get(Ext.isIE9m?window:document)}else{i=k}j.scrollListener=i.on({scroll:j.onDomScroll,scope:j,destroyable:true});return k}},getClientSize:function(){var d=this.getElement().dom;return{x:d.clientWidth,y:d.clientHeight}},getScrollbarSize:function(){var s=this,w=0,n=0,t,u,p,q,r,v,x;if(s.isDomScroller||Ext.supports.touchScroll===1){t=s.getElement();if(t&&!t.destroyed){p=s.getX();q=s.getY();u=t.dom;if(p||q){x=Ext.getScrollbarSize()}if(p==="scroll"){r=true}else{if(p){r=u.scrollWidth>u.clientWidth}}if(q==="scroll"){v=true}else{if(q){v=u.scrollHeight>u.clientHeight}}if(r){n=x.height}if(v){w=x.width}}}return{width:w,height:n}},getPosition:function(){return this.position},updateDirectionLock:Ext.emptyFn,updateDisabled:Ext.emptyFn,updateIndicators:Ext.emptyFn,updateMaxPosition:Ext.emptyFn,updateMaxUserPosition:Ext.emptyFn,updateMinPosition:Ext.emptyFn,updateMinUserPosition:Ext.emptyFn,updateMomenumEasing:Ext.emptyFn,updateX:Ext.emptyFn,updateY:Ext.emptyFn,onPartnerScrollStart:Ext.emptyFn,onPartnerScrollEnd:Ext.emptyFn,refresh:function(){this.fireEvent("refresh",this);return this},removePartner:function(h){var g=this._partners,i=h._partners;if(g){delete g[h.getId()]}if(i){delete (i[this.getId()])}},scrollBy:function(i,j,h){var k=this.getPosition();if(i){if(i.length){h=j;j=i[1];i=i[0]}else{if(typeof i!=="number"){h=j;j=i.y;i=i.x}}}i=(typeof i==="number")?i+k.x:null;j=(typeof j==="number")?j+k.y:null;return this.doScrollTo(i,j,h)},scrollIntoView:function(u,t,w,r){var p=this,q=p.getPosition(),s,x,n,v=p.getElement();if(u){s=Ext.fly(u).getScrollIntoViewXY(v,q.x,q.y);x=(t===false)?q.x:s.x;n=s.y;if(r){p.on({scrollend:"doHighlight",scope:p,single:true,args:[u,r]})}p.doScrollTo(x,n,w)}},isInView:function(m){var l=this,p={x:false,y:false},k,j=l.getElement(),n;if(m&&j.contains(m)){n=j.getRegion();k=Ext.fly(m).getRegion();p.x=k.right>n.left&&k.left<n.right;p.y=k.bottom>n.top&&k.top<n.bottom}return p},scrollTo:function(k,h,j){var i;if(k){if(k.length){j=h;h=k[1];k=k[0]}else{if(typeof k!=="number"){j=h;h=k.y;k=k.x}}}if(k<0||h<0){i=this.getMaxPosition();if(k<0){k+=i.x}if(h<0){h+=i.y}}this.doScrollTo(k,h,j)},updateDirection:function(i){var j=this,k,h;if(!i){k=j.getX();h=j.getY();if(k&&h){i=(h==="scroll"&&k==="scroll")?"both":"auto"}else{if(h){i="vertical"}else{if(k){i="horizontal"}}}j._direction=i}else{if(i==="auto"){k=true;h=true}else{if(i==="vertical"){k=false;h=true}else{if(i==="horizontal"){k=true;h=false}else{if(i==="both"){k="scroll";h="scroll"}}}}j.setX(k);j.setY(h)}},updateSize:function(l){var k=this,m=k.getElement(),n,p,j;if(m){n=k.getSpacer();if(l==null){n.hide()}else{if(typeof l==="number"){p=l;j=l}else{p=l.x||0;j=l.y||0}if(p>0){p-=1}if(j>0){j-=1}k.setSpacerXY({x:p,y:j});n.show()}}},deprecated:{"5":{methods:{getScroller:function(){return this}}},"5.1.0":{methods:{scrollToTop:function(d){return this.scrollTo(0,0,d)},scrollToEnd:function(d){return this.scrollTo(Infinity,Infinity,d)}}}},privates:{getSpacer:function(){var g=this,i=g._spacer,h;if(!i){h=g.getElement();i=g._spacer=h.createChild({cls:g._spacerCls,role:"presentation"});i.setVisibilityMode(2);h.position()}return i},applySpacerXY:function(e,g){if(g&&e.x===g.x&&e.y===g.y){e=undefined}return e},updateSpacerXY:function(d){this.getSpacer().setLocalXY(d.x,d.y)},convertX:function(d){return d},doHighlight:function(e,g){if(g!==true){Ext.fly(e).highlight(g)}else{Ext.fly(e).highlight()}},fireScrollStart:function(k,h){var i=this,j=i.component;i.invokePartners("onPartnerScrollStart",k,h);if(i.hasListeners.scrollstart){i.fireEvent("scrollstart",i,k,h)}if(j&&j.onScrollStart){j.onScrollStart(k,h)}Ext.GlobalEvents.fireEvent("scrollstart",i,k,h)},fireScroll:function(k,h){var i=this,j=i.component;i.invokePartners("onPartnerScroll",k,h);if(i.hasListeners.scroll){i.fireEvent("scroll",i,k,h)}if(j&&j.onScrollMove){j.onScrollMove(k,h)}Ext.GlobalEvents.fireEvent("scroll",i,k,h)},fireScrollEnd:function(k,h){var i=this,j=i.component;i.invokePartners("onPartnerScrollEnd",k,h);if(i.hasListeners.scrollend){i.fireEvent("scrollend",i,k,h)}if(j&&j.onScrollEnd){j.onScrollEnd(k,h)}Ext.GlobalEvents.fireEvent("scrollend",i,k,h)},initXStyle:function(){var e=this.getElement(),g=this.getX();if(e&&e.dom){if(!g){g="hidden"}else{if(g===true){g="auto"}}e.setStyle("overflow-x",g)}},initYStyle:function(){var g=this.getElement(),e=this.getY();if(g&&g.dom){if(!e){e="hidden"}else{if(e===true){e="auto"}}g.setStyle("overflow-y",e)}},invokePartners:function(l,t,m){var r=this,p=r._partners,s,n,q=l==="onPartnerScrollEnd";if(!r.suspendSync&!r.isReflecting){for(n in p){s=p[n].scroller;s.isReflecting=true;s[l](r,t,m);if(q){s.isReflecting=false}}}},clearReflecting:function(){this.isReflecting=false},suspendPartnerSync:function(){this.suspendSync=(this.suspendSync||0)+1},resumePartnerSync:function(){if(this.suspendSync){this.suspendSync--}},updateDomScrollPosition:function(){var h=this,i=h.getElement(),j,k=h.position;if(i&&!i.destroyed){j=h.getElementScroll(i);k.x=j.left;k.y=j.top}h.positionDirty=false;return k},getElementScroll:function(d){return d.getScroll()},onDomScroll:function(){var j=this,l,m,i,k;if(j.isTouchScroller&&Ext.supports.touchScroll===2){k=j.getElement().dom;k.scrollTop=k.scrollLeft=0;return}l=j.updateDomScrollPosition();m=l.x;i=l.y;if(!j.isScrolling){j.isScrolling=Ext.isScrolling=true;j.fireScrollStart(m,i)}j.fireScroll(m,i);j.onDomScrollEnd()},onDomScrollEnd:function(){var i=this,j=i.getPosition(),k=j.x,h=j.y;i.isScrolling=Ext.isScrolling=false;i.trackingScrollLeft=k;i.trackingScrollTop=h;i.fireScrollEnd(k,h)},onPartnerScroll:function(i,k,h){var j=i._partners[this.getId()].axis;if(j){if(j==="x"){h=null}else{if(j==="y"){k=null}}}this.doScrollTo(k,h,false,true)},restoreState:function(){var h=this,i=h.getElement(),g;if(i){g=i.dom;if(h.trackingScrollTop!==undefined){g.scrollTop=h.trackingScrollTop;g.scrollLeft=h.trackingScrollLeft}}}}},1,0,0,0,["scroller.scroller"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.scroll,"Scroller"],0));(Ext.cmd.derive("Ext.fx.easing.Abstract",Ext.Base,{config:{startTime:0,startValue:0},isEasing:true,isEnded:false,constructor:function(d){this.initConfig(d);return this},applyStartTime:function(d){if(!d){d=Ext.Date.now()}return d},updateStartTime:function(d){this.reset()},reset:function(){this.isEnded=false},getValue:Ext.emptyFn},1,0,0,0,0,0,[Ext.fx.easing,"Abstract"],0));(Ext.cmd.derive("Ext.fx.easing.Momentum",Ext.fx.easing.Abstract,{config:{acceleration:30,friction:0,startVelocity:0},alpha:0,updateFriction:function(e){var g=Math.log(1-(e/10));this.theta=g;this.alpha=g/this.getAcceleration()},updateStartVelocity:function(d){this.velocity=d*this.getAcceleration()},updateAcceleration:function(d){this.velocity=this.getStartVelocity()*d;this.alpha=this.theta/d},getValue:function(){return this.getStartValue()-this.velocity*(1-this.getFrictionFactor())/this.theta},getFrictionFactor:function(){var d=Ext.Date.now()-this.getStartTime();return Math.exp(d*this.alpha)},getVelocity:function(){return this.getFrictionFactor()*this.velocity}},0,0,0,0,0,0,[Ext.fx.easing,"Momentum"],0));(Ext.cmd.derive("Ext.fx.easing.Bounce",Ext.fx.easing.Abstract,{config:{springTension:0.3,acceleration:30,startVelocity:0},getValue:function(){var h=Ext.Date.now()-this.getStartTime(),g=(h/this.getAcceleration()),i=g*Math.pow(Math.E,-this.getSpringTension()*g);return this.getStartValue()+(this.getStartVelocity()*i)}},0,0,0,0,0,0,[Ext.fx.easing,"Bounce"],0));(Ext.cmd.derive("Ext.fx.easing.BoundMomentum",Ext.fx.easing.Abstract,{config:{momentum:null,bounce:null,minMomentumValue:0,maxMomentumValue:0,minVelocity:0.01,startVelocity:0},applyMomentum:function(g,e){return Ext.factory(g,Ext.fx.easing.Momentum,e)},applyBounce:function(g,e){return Ext.factory(g,Ext.fx.easing.Bounce,e)},updateStartTime:function(d){this.getMomentum().setStartTime(d);Ext.fx.easing.Abstract.prototype.updateStartTime.apply(this,arguments)},updateStartVelocity:function(d){this.getMomentum().setStartVelocity(d)},updateStartValue:function(d){this.getMomentum().setStartValue(d)},reset:function(){this.lastValue=null;this.isBouncingBack=false;this.isOutOfBound=false;return Ext.fx.easing.Abstract.prototype.reset.apply(this,arguments)},getValue:function(){var x=this.getMomentum(),n=this.getBounce(),t=x.getStartVelocity(),s=t>0?1:-1,r=this.getMinMomentumValue(),u=this.getMaxMomentumValue(),v=(s==1)?u:r,q=this.lastValue,p,w;if(t===0){return this.getStartValue()}if(!this.isOutOfBound){p=x.getValue();w=x.getVelocity();if(Math.abs(w)<this.getMinVelocity()){this.isEnded=true}if(p>=r&&p<=u){return p}this.isOutOfBound=true;n.setStartTime(Ext.Date.now()).setStartVelocity(w).setStartValue(v)}p=n.getValue();if(!this.isEnded){if(!this.isBouncingBack){if(q!==null){if((s==1&&p<q)||(s==-1&&p>q)){this.isBouncingBack=true}}}else{if(Math.round(p)==v){this.isEnded=true}}}this.lastValue=p;return p}},0,0,0,0,0,0,[Ext.fx.easing,"BoundMomentum"],0));(Ext.cmd.derive("Ext.fx.easing.Linear",Ext.fx.easing.Abstract,{config:{duration:0,endValue:0},updateStartValue:function(d){this.distance=this.getEndValue()-d},updateEndValue:function(d){this.distance=d-this.getStartValue()},getValue:function(){var g=Ext.Date.now()-this.getStartTime(),e=this.getDuration();if(g>e){this.isEnded=true;return this.getEndValue()}else{return this.getStartValue()+((g/e)*this.distance)}}},0,0,0,0,["easing.linear"],0,[Ext.fx.easing,"Linear"],0));(Ext.cmd.derive("Ext.fx.easing.EaseOut",Ext.fx.easing.Linear,{config:{exponent:4,duration:1500},getValue:function(){var q=Ext.Date.now()-this.getStartTime(),s=this.getDuration(),u=this.getStartValue(),n=this.getEndValue(),v=this.distance,t=q/s,p=1-t,r=1-Math.pow(p,this.getExponent()),m=u+(r*v);if(q>=s){this.isEnded=true;return n}return m}},0,0,0,0,["easing.ease-out"],0,[Ext.fx.easing,"EaseOut"],0));(Ext.cmd.derive("Ext.util.translatable.Abstract",Ext.Evented,{config:{useWrapper:null,easing:null,easingX:null,easingY:null},x:0,y:0,activeEasingX:null,activeEasingY:null,isAnimating:false,isTranslatable:true,constructor:function(d){this.mixins.observable.constructor.call(this,d);this.position={x:0,y:0}},factoryEasing:function(d){return Ext.factory(d,Ext.fx.easing.Linear,null,"easing")},applyEasing:function(d){if(!this.getEasingX()){this.setEasingX(this.factoryEasing(d))}if(!this.getEasingY()){this.setEasingY(this.factoryEasing(d))}},applyEasingX:function(d){return this.factoryEasing(d)},applyEasingY:function(d){return this.factoryEasing(d)},doTranslate:Ext.emptyFn,translate:function(i,g,h){if(h){return this.translateAnimated(i,g,h)}if(this.isAnimating){this.stopAnimation()}if(!isNaN(i)&&typeof i=="number"){this.x=i}if(!isNaN(g)&&typeof g=="number"){this.y=g}this.doTranslate(i,g)},translateAxis:function(l,j,k){var m,i;if(l=="x"){m=j}else{i=j}return this.translate(m,i,k)},getPosition:function(){var e=this,g=e.position;g.x=-e.x;g.y=-e.y;return g},animate:function(e,g){this.activeEasingX=e;this.activeEasingY=g;this.isAnimating=true;this.lastX=null;this.lastY=null;Ext.AnimationQueue.start(this.doAnimationFrame,this);this.fireEvent("animationstart",this,this.x,this.y);return this},translateAnimated:function(s,l,n){var p=this;if(!Ext.isObject(n)){n={}}if(p.isAnimating){p.stopAnimation()}p.callback=n.callback;p.callbackScope=n.scope;var q=Ext.Date.now(),m=n.easing,r=(typeof s=="number")?(n.easingX||m||p.getEasingX()||true):null,t=(typeof l=="number")?(n.easingY||m||p.getEasingY()||true):null;if(r){r=p.factoryEasing(r);r.setStartTime(q);r.setStartValue(p.x);r.setEndValue(s);if("duration" in n){r.setDuration(n.duration)}}if(t){t=p.factoryEasing(t);t.setStartTime(q);t.setStartValue(p.y);t.setEndValue(l);if("duration" in n){t.setDuration(n.duration)}}return p.animate(r,t)},doAnimationFrame:function(){var k=this,m=k.activeEasingX,n=k.activeEasingY,l=Date.now(),p,j;if(!k.isAnimating){return}k.lastRun=l;if(m===null&&n===null){k.stopAnimation();return}if(m!==null){k.x=p=Math.round(m.getValue());if(m.isEnded){k.activeEasingX=null;k.fireEvent("axisanimationend",k,"x",p)}}else{p=k.x}if(n!==null){k.y=j=Math.round(n.getValue());if(n.isEnded){k.activeEasingY=null;k.fireEvent("axisanimationend",k,"y",j)}}else{j=k.y}if(k.lastX!==p||k.lastY!==j){k.doTranslate(p,j);k.lastX=p;k.lastY=j}k.fireEvent("animationframe",k,p,j)},stopAnimation:function(){var d=this;if(!d.isAnimating){return}d.activeEasingX=null;d.activeEasingY=null;d.isAnimating=false;Ext.AnimationQueue.stop(d.doAnimationFrame,d);d.fireEvent("animationend",d,d.x,d.y);if(d.callback){d.callback.call(d.callbackScope);d.callback=null}},refresh:function(){this.translate(this.x,this.y)},destroy:function(){if(this.isAnimating){this.stopAnimation()}Ext.Evented.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.util.translatable,"Abstract"],0));(Ext.cmd.derive("Ext.util.translatable.Dom",Ext.util.translatable.Abstract,{config:{element:null},applyElement:function(d){if(!d){return}return Ext.get(d)},updateElement:function(){this.refresh()}},0,0,0,0,0,0,[Ext.util.translatable,"Dom"],0));(Ext.cmd.derive("Ext.util.translatable.CssTransform",Ext.util.translatable.Dom,{doTranslate:function(i,g){var h=this.getElement();if(!this.destroyed&&!h.destroyed){h.translate(i,g)}},destroy:function(){var d=this.getElement();if(d&&!d.destroyed){d.dom.style.webkitTransform=null}Ext.util.translatable.Dom.prototype.destroy.call(this)}},0,0,0,0,0,0,[Ext.util.translatable,"CssTransform"],0));(Ext.cmd.derive("Ext.util.translatable.ScrollPosition",Ext.util.translatable.Dom,{type:"scrollposition",config:{useWrapper:true},getWrapper:function(){var g=this.wrapper,h=this.getElement(),i;if(!g){i=h.getParent();if(!i){return null}if(i.hasCls("x-translatable-hboxfix")){i=i.getParent()}if(this.getUseWrapper()){g=h.wrap()}else{g=i}h.addCls("x-translatable");g.addCls("x-translatable-container");this.wrapper=g;g.on("painted",function(){if(!this.isAnimating){this.refresh()}},this);this.refresh()}return g},doTranslate:function(k,h){var i=this.getWrapper(),j;if(i){j=i.dom;if(typeof k=="number"){j.scrollLeft=500000-k}if(typeof h=="number"){j.scrollTop=500000-h}}},destroy:function(){var h=this,i=h.getElement(),g=h.wrapper;if(g){if(!i.destroyed){if(h.getUseWrapper()){g.doReplaceWith(i)}i.removeCls("x-translatable")}if(!g.destroyed){g.removeCls("x-translatable-container");g.un("painted","refresh",h)}delete h.wrapper;delete h._element}Ext.util.translatable.Dom.prototype.destroy.call(this)}},0,0,0,0,0,0,[Ext.util.translatable,"ScrollPosition"],0));(Ext.cmd.derive("Ext.util.translatable.ScrollParent",Ext.util.translatable.Dom,{isScrollParent:true,applyElement:function(g){var e=Ext.get(g);if(e){this.parent=e.parent()}return e},doTranslate:function(i,g){var h=this.parent;h.setScrollLeft(Math.round(-i));h.setScrollTop(Math.round(-g))},getPosition:function(){var g=this,i=g.position,h=g.parent;i.x=h.getScrollLeft();i.y=h.getScrollTop();return i}},0,0,0,0,0,0,[Ext.util.translatable,"ScrollParent"],0));(Ext.cmd.derive("Ext.util.translatable.CssPosition",Ext.util.translatable.Dom,{doTranslate:function(i,g){var h=this.getElement().dom.style;if(typeof i=="number"){h.left=i+"px"}if(typeof g=="number"){h.top=g+"px"}},destroy:function(){var d=this.getElement().dom.style;d.left=null;d.top=null;Ext.util.translatable.Dom.prototype.destroy.call(this)}},0,0,0,0,0,0,[Ext.util.translatable,"CssPosition"],0));(Ext.cmd.derive("Ext.util.Translatable",Ext.Base,{constructor:function(g){var e=Ext.util.translatable;switch(Ext.browser.getPreferredTranslationMethod(g)){case"scrollposition":return new e.ScrollPosition(g);case"scrollparent":return new e.ScrollParent(g);case"csstransform":return new e.CssTransform(g);case"cssposition":return new e.CssPosition(g)}}},1,0,0,0,0,0,[Ext.util,"Translatable"],0));(Ext.cmd.derive("Ext.scroll.Indicator",Ext.Widget,{config:{axis:null,hideAnimation:true,hideDelay:0,scroller:null,minLength:24},defaultHideAnimation:{to:{opacity:0},duration:300},names:{x:{side:"l",getSize:"getHeight",setLength:"setWidth",translate:"translateX"},y:{side:"t",getSize:"getWidth",setLength:"setHeight",translate:"translateY"}},oppositeAxis:{x:"y",y:"x"},cls:"x-scroll-indicator",applyHideAnimation:function(d){if(d){d=Ext.mergeIf({onEnd:this.onHideAnimationEnd,scope:this},this.defaultHideAnimation,d)}return d},constructor:function(i){var g=this,h;Ext.Widget.prototype.constructor.call(this,i);h=g.getAxis();g.names=g.names[h];g.element.addCls(g.cls+" "+g.cls+"-"+h)},hide:function(){var e=this,g=e.getHideDelay();if(g){e._hideTimer=Ext.defer(e.doHide,g,e)}else{e.doHide()}},setValue:function(u){var w=this,E=w.element,x=w.names,D=w.getAxis(),z=w.getScroller(),A=z.getMaxUserPosition()[D],t=z.getElementSize()[D],y=w.length,F=w.getMinLength(),G=y,B=t-y-w.sizeAdjust,H=Math.round,v=Math.max,C;if(u<0){G=H(v(y+(y*u/t),F));C=0}else{if(u>A){G=H(v(y-(y*(u-A)/t),F));C=B+y-G}else{C=H(u/A*B)}}w[x.translate](C);E[x.setLength](G)},show:function(){var h=this,i=h.element,g=i.getActiveAnimation();if(g){g.end()}if(!h._inDom){h.getScroller().getElement().appendChild(i);h._inDom=true;if(!h.size){h.cacheStyles()}}h.refreshLength();clearTimeout(h._hideTimer);i.setStyle("opacity","")},privates:{cacheStyles:function(){var h=this,i=h.element,g=h.names;h.size=i[g.getSize]();h.margin=i.getMargin(g.side)},doHide:function(){var e=this.getHideAnimation(),g=this.element;if(e){g.animate(e)}else{g.setStyle("opacity",0)}},hasOpposite:function(){return this.getScroller().isAxisEnabled(this.oppositeAxis[this.getAxis()])},onHideAnimationEnd:function(){this.element.setStyle("opacity","0")},refreshLength:function(){var p=this,q=p.names,u=p.getAxis(),s=p.getScroller(),x=s.getSize()[u],n=s.getElementSize()[u],r=n/x,v=p.margin*2,t=p.hasOpposite()?(v+p.size):v,w=Math.max(Math.round((n-t)*r),p.getMinLength());p.sizeAdjust=t;p.length=w;p.element[q.setLength](w)},translateX:function(d){this.element.translate(d)},translateY:function(d){this.element.translate(0,d)}}},1,["scrollindicator"],["widget","scrollindicator"],{widget:true,scrollindicator:true},["widget.scrollindicator"],0,[Ext.scroll,"Indicator"],0));(Ext.cmd.derive("Ext.scroll.TouchScroller",Ext.scroll.Scroller,{isTouchScroller:true,config:{autoRefresh:true,bounceEasing:{duration:400},elementSize:undefined,indicators:true,fps:"auto",maxAbsoluteVelocity:6,momentumEasing:{momentum:{acceleration:30,friction:0.5},bounce:{acceleration:30,springTension:0.3},minVelocity:1},outOfBoundRestrictFactor:0.5,innerElement:null,size:undefined,slotSnapEasing:{duration:150},slotSnapOffset:{x:0,y:0},startMomentumResetTime:300,translatable:{translationMethod:"auto",useWrapper:false}},cls:"x-scroll-container",scrollerCls:"x-scroll-scroller",dragStartTime:0,dragEndTime:0,isDragging:false,isAnimating:false,isMouseEvent:{mousedown:1,mousemove:1,mouseup:1},listenerMap:{touchstart:"onTouchStart",touchmove:"onTouchMove",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd"},refreshCounter:0,constructor:function(i){var h=this,g="onEvent";h.elementListeners={touchstart:g,touchmove:g,dragstart:g,drag:g,dragend:g,scope:h};h.minPosition={x:0,y:0};h.startPosition={x:0,y:0};h.velocity={x:0,y:0};h.isAxisEnabledFlags={x:false,y:false};h.flickStartPosition={x:0,y:0};h.flickStartTime={x:0,y:0};h.lastDragPosition={x:0,y:0};h.dragDirection={x:0,y:0};Ext.scroll.Scroller.prototype.constructor.call(this,i);h.refreshAxes();h.scheduleRefresh={idle:h.doRefresh,scope:h,single:true,destroyable:true}},applyBounceEasing:function(e){var g=Ext.fx.easing.EaseOut;return{x:Ext.factory(e,g),y:Ext.factory(e,g)}},applyElementSize:function(l){var k=this.getElement(),j,m,i;if(!k){return null}j=k.dom;if(!j){return}if(l==null){m=j.clientWidth;i=j.clientHeight}else{m=l.x;i=l.y}return{x:m,y:i}},applyIndicators:function(l,p){var m=this,q,n,r,k;if(l){if(l===true){q=n={}}else{r=l.x;k=l.y;if(r||k){q=(r==null||r===true)?{}:r;n=(r==null||k===true)?{}:k}else{q=n=l}}if(p){if(q){p.x.setConfig(q)}else{p.x.destroy();p.x=null}if(n){p.y.setConfig(n)}else{p.y.destroy();p.y=null}l=p}else{l={x:null,y:null};if(q){l.x=new Ext.scroll.Indicator(Ext.applyIf({axis:"x",scroller:m},q))}if(n){l.y=new Ext.scroll.Indicator(Ext.applyIf({axis:"y",scroller:m},n))}}}else{if(p){if(p.x){p.x.destroy()}if(p.y){p.y.destroy()}p.x=p.y=null}}return l},applyMomentumEasing:function(e){var g=Ext.fx.easing.BoundMomentum;return{x:Ext.factory(e,g),y:Ext.factory(e,g)}},applyInnerElement:function(d){if(d&&!d.isElement){d=Ext.get(d)}return d},applyMaxPosition:function(i,h){if(h&&i.x===h.x&&i.y===h.y){return}var k=this.getTranslatable(),j;if(k.isAnimating){j=k.activeEasingY;if(j&&j.getStartVelocity&&j.getStartVelocity()<0&&i.y<h.y){j.setMinMomentumValue(-i.y)}}return i},applyMaxUserPosition:function(e,g){if(g&&e.x===g.x&&e.y===g.y){return}return e},applySize:function(n){var m=this.getElement(),k,l,p,j;if(typeof n==="number"){p=n;j=n}else{if(n){p=n.x;j=n.y}}if(m&&(p==null||j==null)){k=m.dom;l=this.getInnerElement().dom;if(p==null){p=Math.max(l.scrollWidth,k.clientWidth)}if(j==null){j=Math.max(l.scrollHeight,k.clientHeight)}}return{x:p,y:j}},applySlotSnapOffset:function(d){if(typeof d==="number"){d={x:d,y:d}}return d},applySlotSnapSize:function(d){if(typeof d==="number"){d={x:d,y:d}}return d},applySlotSnapEasing:function(e){var g=Ext.fx.easing.EaseOut;return{x:Ext.factory(e,g),y:Ext.factory(e,g)}},applyTranslatable:function(e,g){return Ext.factory(e,Ext.util.Translatable,g)},destroy:function(){var i=this,j=i.getElement(),h=i.getInnerElement(),k=i.sizeMonitors;if(k){k.element.destroy();k.container.destroy()}if(j&&!j.destroyed){j.removeCls(i.cls)}if(h&&!h.destroyed){h.removeCls(i.scrollerCls)}if(i._isWrapped){if(!j.destroyed){i.unwrapContent()}h.destroy()}i.setElement(null);i.setInnerElement(null);i.setIndicators(null);Ext.destroy(i.getTranslatable());Ext.scroll.Scroller.prototype.destroy.call(this)},refresh:function(i,h){var g=this;++g.refreshCounter;if(i){g.doRefresh(h)}else{if(!g.refreshScheduled){g.scheduleRefresh.args=[h];g.refreshScheduled=Ext.on(g.scheduleRefresh)}}},updateAutoRefresh:function(d){this.toggleResizeListeners(d)},updateBounceEasing:function(d){this.getTranslatable().setEasingX(d.x).setEasingY(d.y)},updateElementSize:function(){if(!this.isConfiguring){this.refreshAxes()}},updateDisabled:function(d){if(!this.isConfiguring){if(d){this.detachListeners()}else{this.attachListeners()}}},updateElement:function(m,n){var k=this,j=k.getInnerElement(),l,p;if(!j){j=m.dom.firstChild;if(!j||j.nodeType!==1||!Ext.fly(j).hasCls(k.scrollerCls)){j=k.wrapContent(m)}k.setInnerElement(j)}m.addCls(k.cls);if(k.isConfiguring){if(!k.getTranslatable().isScrollParent){m.dom.style.overflowX=m.dom.style.overflowY="";l=k.elementListeners;l.mousewheel="onMouseWheel";l.scroll={fn:"onElementScroll",delegated:false,scope:k}}}if(!k.getDisabled()){k.attachListeners()}if(!k.isConfiguring){p=k.getAutoRefresh();if(p!==false){k.toggleResizeListeners(p);if(p){k.refresh()}else{if(p===null){k.setElementSize(null)}}}}},updateFps:function(d){if(d!=="auto"){this.getTranslatable().setFps(d)}},updateMaxUserPosition:function(){this.snapToBoundary()},updateMinUserPosition:function(){this.snapToBoundary()},updateInnerElement:function(d){if(d){d.addCls(this.scrollerCls)}this.getTranslatable().setElement(d)},updateSize:function(d){if(!this.isConfiguring){if(Ext.supports.touchScroll===1){Ext.scroll.Scroller.prototype.updateSize.call(this,d)}this.refreshAxes()}},updateTranslatable:function(d){d.setElement(this.getInnerElement());if(!d.isScrollParent){d.on({animationframe:"onAnimationFrame",animationend:"onAnimationEnd",scope:this})}},updateX:function(){if(!this.isConfiguring){this.refreshAxes()}},updateY:function(){if(!this.isConfiguring){this.refreshAxes()}},privates:{attachListeners:function(){this.getElement().on(this.elementListeners)},constrainX:function(d){return Math.min(this.getMaxPosition().x,Math.max(d,0))},constrainY:function(d){return Math.min(this.getMaxPosition().y,Math.max(d,0))},convertEasingConfig:function(d){return d},detachListeners:function(){this.getElement().un(this.elementListeners)},doRefresh:function(j){var h=this,i,k;if(h.refreshScheduled){h.refreshScheduled=h.refreshScheduled.destroy()}if(h.refreshCounter&&h.getElement()){h.stopAnimation();h.getTranslatable().refresh();if(j){i=j.size;k=j.elementSize}h.setSize(i);h.setElementSize(k);h.fireEvent("refresh",h);h.refreshCounter=0}},doScrollTo:function(u,v,C,y){var w=this,x=w.isDragging,t=w.getTranslatable().isScrollParent,D=!w.isReflecting&&!t;if(w.destroyed||!w.getElement()){return w}y=y||w.isDragging;var s=w.getTranslatable(),B=w.position,r=false,z,A;if(!x||w.isAxisEnabled("x")){if(isNaN(u)||typeof u!=="number"){u=B.x}else{if(!y){u=w.constrainX(u)}if(B.x!==u){B.x=u;r=true}}z=w.convertX(-u)}if(!x||w.isAxisEnabled("y")){if(isNaN(v)||typeof v!=="number"){v=B.y}else{if(!y){v=w.constrainY(v)}if(B.y!==v){B.y=v;r=true}}A=-v}if(r){if(D){w.onScrollStart()}if(C){s.translateAnimated(z,A,C)}else{if(!t){w.onScroll()}s.translate(z,A);if(D){w.onScrollEnd()}}}else{if(C&&C.callback){C.callback()}}return w},getAnimationEasing:function(x,u){if(!this.isAxisEnabled(x)){return null}var s=this,y=s.position[x],A=s.getMinUserPosition()[x],v=s.getMaxUserPosition()[x],C=s.getMaxAbsoluteVelocity(),z=null,B=s.dragEndTime,w=u.flick.velocity[x],e=x==="x",D,t;if(y<A){z=A}else{if(y>v){z=v}}if(e){y=s.convertX(y);z=s.convertX(z)}if(z!==null){t=s.getBounceEasing()[x];t.setConfig({startTime:B,startValue:-y,endValue:-z});return t}if(w===0){return null}if(w<-C){w=-C}else{if(w>C){w=C}}t=s.getMomentumEasing()[x];D={startTime:B,startValue:-y,startVelocity:w*1.5,minMomentumValue:-v,maxMomentumValue:0};if(e){s.convertEasingConfig(D)}t.setConfig(D);return t},getSnapPosition:function(r){var q=this,l=q.getSlotSnapSize()[r],p=null,t,m,n,s;if(l!==0&&q.isAxisEnabled(r)){t=q.position[r];m=q.getSlotSnapOffset()[r];n=q.getMaxUserPosition()[r];s=Math.floor((t-m)%l);if(s!==0){if(t!==n){if(Math.abs(s)>l/2){p=Math.min(n,t+((s>0)?l-s:s-l))}else{p=t-s}}else{p=t-s}}}return p},hideIndicators:function(){var i=this,h=i.getIndicators(),k,j;if(h){if(i.isAxisEnabled("x")){k=h.x;if(k){k.hide()}}if(i.isAxisEnabled("y")){j=h.y;if(j){j.hide()}}}},isAxisEnabled:function(d){this.getX();this.getY();return this.isAxisEnabledFlags[d]},onAnimationEnd:function(){this.snapToBoundary();this.onScrollEnd()},onAnimationFrame:function(i,j,h){var k=this.position;k.x=this.convertX(-j);k.y=-h;this.onScroll()},onAxisDrag:function(K,y){if(y&&this.isAxisEnabled(K)){var x=this,D=x.flickStartPosition,w=x.flickStartTime,F=x.lastDragPosition,B=x.dragDirection,N=x.position[K],A=x.getMinUserPosition()[K],z=x.getMaxUserPosition()[K],H=x.startPosition[K],E=F[K],C=H-y,G=B[K],I=x.getOutOfBoundRestrictFactor(),M=x.getStartMomentumResetTime(),L=Ext.Date.now(),J;if(C<A){C*=I}else{if(C>z){J=C-z;C=z+J*I}}if(C>E){B[K]=1}else{if(C<E){B[K]=-1}}if((G!==0&&(B[K]!==G))||(L-w[K])>M){D[K]=N;w[K]=L}F[K]=C;return true}},onDomScroll:function(){var h=this,g,i;if(h.getTranslatable().isScrollParent){g=h.getElement().dom;i=h.position;i.x=g.scrollLeft;i.y=g.scrollTop}Ext.scroll.Scroller.prototype.onDomScroll.call(this)},onDrag:function(e){var i=this,h=i.lastDragPosition;if(!i.isDragging){return}if(i.onAxisDrag("x",i.convertX(e.deltaX))|i.onAxisDrag("y",e.deltaY)){i.doScrollTo(h.x,h.y)}},onDragEnd:function(e){var i=this,j,k;if(!i.isDragging){return}i.dragEndTime=Ext.Date.now();i.onDrag(e);i.isDragging=false;j=i.getAnimationEasing("x",e);k=i.getAnimationEasing("y",e);if(j||k){i.getTranslatable().animate(j,k)}else{i.onScrollEnd()}},onDragStart:function(v){var u=this,G=u.getDirection(),A=v.absDeltaX,B=v.absDeltaY,w=u.getDirectionLock(),y=u.startPosition,C=u.flickStartPosition,x=u.flickStartTime,z=u.lastDragPosition,D=u.position,E=u.dragDirection,H=D.x,e=D.y,F=Ext.Date.now();if(w&&G!=="both"){if((G==="horizontal"&&A>B)||(G==="vertical"&&B>A)){v.stopPropagation()}else{return}}z.x=H;z.y=e;C.x=H;C.y=e;y.x=H;y.y=e;x.x=F;x.y=F;E.x=0;E.y=0;u.dragStartTime=F;u.isDragging=true;if(!u.isScrolling){u.onScrollStart()}},onElementResize:function(g,e){this.refresh(true,{elementSize:{x:e.contentWidth,y:e.contentHeight},size:this.getAutoRefresh()?null:this.getSize()})},onElementScroll:function(g,e){e.scrollTop=e.scrollLeft=0},onEvent:function(h){var i=this,e=h.browserEvent;if((!i.self.isTouching||i.isTouching)&&((!i.getTranslatable().isScrollParent)||(!i.isMouseEvent[e.type]&&e.pointerType!=="mouse"))&&(i.getY()||i.getX())){i[i.listenerMap[h.type]](h)}},onInnerElementResize:function(g,e){this.refresh(true,{size:{x:e.width,y:e.height}})},onMouseWheel:function(t){var s=this,e=t.getWheelDeltas(),y=-e.x,A=-e.y,w=s.position,x=s.getMaxUserPosition(),B=s.getMinUserPosition(),r=Math.max,z=Math.min,u=r(z(w.x+y,x.x),B.x),v=r(z(w.y+A,x.y),B.y);y=u-w.x;A=v-w.y;if(!y&&!A){return}t.stopEvent();s.onScrollStart();s.scrollBy(y,A);s.onScroll();s.onScrollEnd()},onPartnerScrollEnd:function(i,g){var h=this;if(!h.getTranslatable().isScrollParent){h.fireScrollEnd(i,g)}Ext.scroll.Scroller.prototype.onPartnerScrollEnd.call(this,i,g);h.isScrolling=false;h.hideIndicators()},onPartnerScrollStart:function(i,g){var h=this;h.isScrolling=true;if(!h.getTranslatable().isScrollParent){h.fireScrollStart(i,g)}h.showIndicators()},onScroll:function(){var m=this,p=m.position,q=p.x,k=p.y,l=m.getIndicators(),r,n;if(l){if(m.isAxisEnabled("x")){r=l.x;if(r){r.setValue(q)}}if(m.isAxisEnabled("y")){n=l.y;if(n){n.setValue(k)}}}m.fireScroll(q,k)},onScrollEnd:function(){var e=this,g=e.position;if(e.isScrolling&&!e.isTouching&&!e.snapToSlot()){e.hideIndicators();e.isScrolling=Ext.isScrolling=false;e.fireScrollEnd(g.x,g.y)}},onScrollStart:function(){var e=this,g=e.position;if(!e.isScrolling){e.showIndicators();e.isScrolling=Ext.isScrolling=true;e.fireScrollStart(g.x,g.y)}},onTouchEnd:function(){var d=this;d.isTouching=d.self.isTouching=false;if(!d.isDragging&&d.snapToSlot()){d.onScrollStart()}},onTouchMove:function(d){d.preventDefault()},onTouchStart:function(){var d=this;d.isTouching=d.self.isTouching=true;Ext.getDoc().on({touchend:"onTouchEnd",scope:d,single:true});d.stopAnimation()},refreshAxes:function(){var v=this,x=v.isAxisEnabledFlags,p=v.getSize(),q=v.getElementSize(),r=v.getIndicators(),y,z,s,t,w,u;if(!p||!q){return}y=Math.max(0,p.x-q.x);z=Math.max(0,p.y-q.y);s=v.getX();t=v.getY();v.setMaxPosition({x:y,y:z});if(s===true||s==="auto"){x.x=!!y}else{if(s===false){x.x=false;w=r&&r.x;if(w){w.hide()}}else{if(s==="scroll"){x.x=true}}}if(t===true||t==="auto"){x.y=!!z}else{if(t===false){x.y=false;u=r&&r.y;if(u){u.hide()}}else{if(t==="scroll"){x.y=true}}}v.setMaxUserPosition({x:x.x?y:0,y:x.y?z:0});if(Ext.supports.touchScroll===1){v.initXStyle();v.initYStyle()}},showIndicators:function(){var i=this,h=i.getIndicators(),k,j;if(h){if(i.isAxisEnabled("x")){k=h.x;if(k){k.show()}}if(i.isAxisEnabled("y")){j=h.y;if(j){j.show()}}}},snapToBoundary:function(){var q=this,r=q.getPosition();if(q.isConfiguring||!(r.x||r.y)){return}var v=q.getMinUserPosition(),s=q.getMaxUserPosition(),t=v.x,u=v.y,w=s.x,x=s.y,n=Math.round(r.x),p=Math.round(r.y);if(n<t){n=t}else{if(n>w){n=w}}if(p<u){p=u}else{if(p>x){p=x}}q.doScrollTo(n,p)},snapToSlot:function(){var k=this,i=k.getSnapPosition("x"),j=k.getSnapPosition("y"),h=k.getSlotSnapEasing();if(i!==null||j!==null){k.doScrollTo(i,j,{easingX:h.x,easingY:h.y});return true}return false},stopAnimation:function(){this.getTranslatable().stopAnimation()},toggleResizeListeners:function(p){var m=this,n=m.getElement(),j,k,l;if(n){l=m.getInnerElement();if(p){j=k="on"}else{if(p===null){j="on";k="un"}else{j=k="un"}}n[j]("resize","onElementResize",m);l[k]("resize","onInnerElementResize",m)}},unwrapContent:function(){var i=this.getInnerElement().dom,h=this.getElement().dom,g;while((g=i.firstChild)){h.insertBefore(g,i)}},wrapContent:function(k){var j=document.createElement("div"),i=k.dom,h;while(h=i.lastChild){j.insertBefore(h,j.firstChild)}i.appendChild(j);this.setInnerElement(j);this._isWrapped=true;return this.getInnerElement()}}},1,0,0,0,["scroller.touch"],0,[Ext.scroll,"TouchScroller"],0));(Ext.cmd.derive("Ext.scroll.DomScroller",Ext.scroll.Scroller,{isDomScroller:true,getMaxPosition:function(){var j=this.getElement(),k=0,h=0,i;if(j&&!j.destroyed){i=j.dom;k=i.scrollWidth-i.clientWidth;h=i.scrollHeight-i.clientHeight}return{x:k,y:h}},getMaxUserPosition:function(){var k=this,l=k.getElement(),m=0,i=0,j;if(l&&!l.destroyed){j=l.dom;if(k.getX()){m=j.scrollWidth-j.clientWidth}if(k.getY()){i=j.scrollHeight-j.clientHeight}}return{x:m,y:i}},getPosition:function(){var d=this;if(d.positionDirty){d.updateDomScrollPosition()}return d.position},getSize:function(){var h=this.getElement(),i,g;if(h&&!h.destroyed){g=h.dom;i={x:g.scrollWidth,y:g.scrollHeight}}else{i={x:0,y:0}}return i},updateElement:function(e,g){this.initXStyle();this.initYStyle()},updateX:function(d){this.initXStyle()},updateY:function(d){this.initYStyle()},privates:{doScrollTo:function(r,s,z){var t=this,w=t.getElement(),v,y,q,i,u,x;if(w&&!w.destroyed){y=w.dom;i=(r===Infinity);u=(s===Infinity);if(i||u){v=t.getMaxPosition();if(i){r=v.x}if(u){s=v.y}}r=t.convertX(r);if(z){q={};if(s!=null){q.scrollTop=s}if(r!=null){q.scrollLeft=r}w.animate(Ext.mergeIf({to:{scrollTop:s,scrollLeft:r}},z))}else{if(s!=null){y.scrollTop=s}if(r!=null){y.scrollLeft=r;if(Ext.isIE8){x=y.scrollLeft;y.scrollLeft=r}}}t.positionDirty=true}},getElementScroll:function(d){return d.getScroll()},stopAnimation:function(){var d=this.getElement().getActiveAnimation();if(d){d.end()}}}},0,0,0,0,["scroller.dom"],0,[Ext.scroll,"DomScroller"],function(d){Ext.onDocumentReady(function(){d.document=new d({x:true,y:true,element:document.body})})}));(Ext.cmd.derive("Ext.util.Floating",Ext.Base,{mixinId:"floating",focusOnToFront:true,shadow:"sides",animateShadow:false,constrain:false,config:{activeCounter:0,alwaysOnTop:false},preventDefaultAlign:false,_visModeMap:{visibility:1,display:2,offsets:3},constructor:function(){var j=this,k=j.el,i=j.shadow,m,l;if(i){l={mode:(i===true)?"sides":i};m=j.shadowOffset;if(m){l.offset=m}l.animate=j.animateShadow;l.fixed=j.fixed;k.enableShadow(l,false)}if(j.shim||Ext.useShims){k.enableShim({fixed:j.fixed},false)}k.setVisibilityMode(j._visModeMap[j.hideMode]);j.el.on({mousedown:j.onMouseDown,scope:j,capture:true});j.registerWithOwnerCt();j.initHierarchyEvents()},alignTo:function(m,p,j,l){var k=this,n;Ext.un("scroll",k.onAlignToScroll,k);if(m.isComponent){n=m.el}else{if(m.nodeType){n=Ext.fly(m)}else{n=m}}if(!n.contains(k.el)){Ext.on("scroll",k.onAlignToScroll,k)}k._lastAlignTarget=m;k._lastAlignToPos=p;k.mixins.positionable.alignTo.call(k,n,p,j,l)},initFloatConstrain:function(){var g=this,e=g.floatParent;if((g.constrain||g.constrainHeader)&&!g.constrainTo){g.constrainTo=e?e.getTargetEl():g.container}},initHierarchyEvents:function(){var e=this,g=this.syncHidden;if(!e.hasHierarchyEventListeners){e.mon(Ext.GlobalEvents,{hide:g,collapse:g,show:g,expand:g,added:g,scope:e});e.hasHierarchyEventListeners=true}},registerWithOwnerCt:function(){var g=this,h=g.ownerCt,i=g.zIndexParent;if(i){i.unregisterFloatingItem(g)}i=g.zIndexParent=g.up("[floating]");g.floatParent=h||i;g.initFloatConstrain();delete g.ownerCt;if(i){i.registerFloatingItem(g)}else{Ext.WindowManager.register(g)}},onMouseDown:function(m){var q=this,r=q.focusTask,p=m.pointerType==="touch",n,l,e;if(q.floating&&(!r||!r.id)){n=m.target;l=q.el.dom;while(!p&&n&&n!==l){if(Ext.fly(n).isFocusable()){p=true}n=n.parentNode}e=Ext.WindowManager.getActive()===q&&(n===l||p);if(!e){q.toFront(p)}}},onBeforeFloatLayout:function(){this.el.preventSync=true},onAfterFloatLayout:function(){var d=this.el;if(d.shadow||d.shim){d.setUnderlaysVisible(true);d.syncUnderlays()}},syncHidden:function(){var i=this,h=i.hidden||!i.rendered,k=i.hierarchicallyHidden=i.isHierarchicallyHidden(),j=i.pendingShow;if(h!==k){if(k){i.hide();i.pendingShow=true}else{if(j){delete i.pendingShow;if(j.length){i.show.apply(i,j)}else{i.show()}}}}},setZIndex:function(g){var e=this;e.el.setZIndex(g);g+=10;if(e.floatingDescendants){g=Math.floor(e.floatingDescendants.setBase(g)/100)*100+10000}return g},doConstrain:function(i){var h=this,g=h.calculateConstrainedPosition(i,null,true);if(g){h.setPosition(g)}},updateActiveCounter:function(g){var e=this.zIndexParent;if(e&&this.bringParentToFront!==false){e.setActiveCounter(++Ext.ZIndexManager.activeCounter)}e=this.zIndexManager;if(e){e.onComponentUpdate(this)}},updateAlwaysOnTop:function(g){var e=this.zIndexManager;if(e){e.onComponentUpdate(this)}},toFront:function(e){var g=this;if(g.zIndexManager.bringToFront(g,e||!g.focusOnToFront)){if(g.hasListeners.tofront){g.fireEvent("tofront",g,g.el.getZIndex())}}return g},setActive:function(h,j){var i=this,k;if(h){if(i.el.shadow&&!i.maximized){i.el.enableShadow(null,true)}if(j){k=Ext.ComponentManager.getActiveComponent();if(!k||!k.up(i)){i.focus()}}i.fireEvent("activate",i)}else{i.fireEvent("deactivate",i)}},toBack:function(){this.zIndexManager.sendToBack(this);return this},center:function(){var g=this,e;if(g.isVisible()){e=g.getAlignToXY(g.container,"c-c");g.setPagePosition(e)}else{g.needsCenter=true}return g},onFloatShow:function(){if(this.needsCenter){this.center()}delete this.needsCenter;if(this.toFrontOnShow){this.toFront()}},fitContainer:function(m){var j=this,k=j.floatParent,n=k?k.getTargetEl():j.container,p=n.getViewSize(),l=k||(n.dom!==document.body)?[0,0]:n.getXY();p.x=l[0];p.y=l[1];j.setBox(p,m)},privates:{onFloatDestroy:function(){this.clearAlignEl()},clearAlignEl:function(){var d=this;if(d._lastAlignTarget){Ext.un("scroll",d.onAlignToScroll,d);d._lastAlignPos=d._lastAlignTarget=null}},onAlignToScroll:function(p){var k=this,n=k._lastAlignTarget,m=n.isFloating,l,j;if(n){if(n.isComponent){l=n.destroyed;n=n.el}else{if(n.nodeType){n=Ext.fly(n)}j=n.dom;l=!j||Ext.isGarbage(j)}if(l){k.clearAlignEl()}else{if((p.getElement().contains(n)||m)&&!p.getElement().contains(k.el)){k.alignTo(n,k._lastAlignToPos)}}}}}},1,0,0,0,0,0,[Ext.util,"Floating"],0));(Ext.cmd.derive("Ext.util.ElementContainer",Ext.Base,{mixinId:"elementCt",config:{childEls:{$value:{},cached:true,lazy:true,merge:function(l,r,m,n){var p=r?Ext.Object.chain(r):{},q,i;if(l instanceof Array){for(q=l.length;q--;){i=l[q];if(!n||!(i in p)){if(typeof i==="string"){p[i]={name:i,itemId:i}}else{p[i.name]=i}}}}else{if(l){if(l.constructor===Object){for(q in l){if(!n||!(q in p)){i=l[q];if(i===true){p[q]={itemId:q}}else{if(typeof i==="string"){p[q]={itemId:i}}else{p[q]=i;if(!("itemId" in i)){i.itemId=q}}}p[q].name=q}}}else{if(!n||!(l in p)){p[l]={name:l,itemId:l}}}}}return p}}},destroy:function(){var i=this,j=i.getChildEls(),h,k;for(k in j){h=i[k];if(h){if(h.destroy){h.component=null;h.destroy()}i[k]=null}}},privates:{addChildEl:function(i){var g=this,h=g.getChildEls();if(!g.hasOwnProperty("childEls")){g.childEls=h=Ext.Object.chain(h)}if(typeof i==="string"){i={name:i,itemId:i}}h[i.name]=i},afterClassMixedIn:function(g){var h=g.prototype,i=h.childEls;if(i){delete h.childEls;g.getConfigurator().add({childEls:i})}},attachChildEls:function(B,C){var x=this,w=x.getChildEls(),y=C||x,k=y.id+"-",t=!y.frame,F,E,u,z,A,v,D;for(F in w){u=w[F];if(t&&u.frame){continue}A=u.select;if(A){v=B.select(A,true)}else{if(!(A=u.selectNode)){if(!(D=u.id)){D=k+u.itemId;v=Ext.cache[D]}else{v=Ext.cache[D]||B.getById(D)}}else{v=B.selectNode(A,false)}}if(v){if(v.isElement){v.component=y}else{if(v.isComposite&&!v.isLite){E=v.elements;for(z=E.length;z--;){E[z].component=y}}}}x[F]=v||null}}}},0,0,0,0,0,0,[Ext.util,"ElementContainer"],0));(Ext.cmd.derive("Ext.util.Renderable",Ext.Base,{mixinId:"renderable",frameCls:"x-frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElNames:["TL","TC","TR","ML","MC","MR","BL","BC","BR","Table"],frameTpl:["{%this.renderDockedItems(out,values,0);%}",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}Body" data-ref="frameBody" class="{frameBodyCls} {frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","{%this.renderDockedItems(out,values,1);%}"],frameTableTpl:["{%this.renderDockedItems(out,values,0);%}",'<table id="{fgid}Table" data-ref="frameTable" class="{frameCls} ','x-table-plain" cellpadding="0" role="presentation">','<tpl if="top">','<tr role="presentation">','<tpl if="left"><td id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>",'<tr role="presentation">','<tpl if="left"><td id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}Body" data-ref="frameBody" class="{frameBodyCls} {frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" style="{mcStyle}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">','<tr role="presentation">','<tpl if="left"><td id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","</table>","{%this.renderDockedItems(out,values,1);%}"],_renderState:0,ariaEl:"el",_layerCls:"x-layer",_fixedLayerCls:"x-fixed-layer",ariaStaticRoles:{presentation:true,article:true,definition:true,directory:true,document:true,img:true,heading:true,math:true,note:true,banner:true,complementary:true,contentinfo:true,navigation:true,search:true,"undefined":true,"null":true},statics:{makeRenderSetter:function(i,g){var h=i.name;return function(e){var k=this,c=(k.renderConfigs||(k.renderConfigs={})),d=c[g];if(k._renderState>=g){(i.setter||i.getSetter()).call(k,e)}else{if(!d){c[g]=d={}}if(!(h in d)){d[h]=k[h]}k[h]=e}return k}},processRenderConfig:function(B,r,z){var v=this.prototype,x=this.getConfigurator(),q=Ext.util.Renderable,s=q.makeRenderSetter,y=B[r],u,t,A,w;for(A in y){t=Ext.Config.get(A);if(!v[w=t.names.set]){u=(t.renderSetter||(t.renderSetter={}));v[w]=u[z]||(u[z]=s(t,z))}}delete B[r];x.add(y)}},onClassMixedIn:function(k){var m=k.override,i=this.processRenderConfig,j=function(c){if(c.beforeRenderConfig){this.processRenderConfig(c,"beforeRenderConfig",1)}if(c.renderConfig){this.processRenderConfig(c,"renderConfig",3)}m.call(this,c)},l=function(c,d){c.override=j;c.processRenderConfig=i;if(d.beforeRenderConfig){c.processRenderConfig(d,"beforeRenderConfig",1)}if(d.renderConfig){c.processRenderConfig(d,"renderConfig",3)}};l(k,k.prototype);k.onExtended(l)},afterRender:function(){var n=this,s={},u=n.protoEl,p=n.el,r,m,t,q,v;n.finishRenderChildren();n._renderState=4;if(n.contentEl){t="x-";q=t+"hidden-";v=n.contentEl=Ext.get(n.contentEl);v.component=n;v.removeCls([t+"hidden",q+"display",q+"offsets"]);n.getContentTarget().appendChild(v.dom)}u.writeTo(s);m=s.removed;if(m){p.removeCls(m)}m=s.cls;if(m.length){p.addCls(m)}m=s.style;if(s.style){p.setStyle(m)}n.protoEl=null;if(!n.ownerCt&&!n.skipLayout){n.updateLayout()}if(!(n.x&&n.y)&&(n.pageX||n.pageY)){n.setPagePosition(n.pageX,n.pageY)}if(n.disableOnRender){n.onDisable()}r=n.controller;if(r&&r.afterRender){r.afterRender(n)}},afterFirstLayout:function(y,r){var w=this,s=w.x,u=w.y,t=w.defaultAlign,A=w.alignOffset,x,z,B,v,q;if(!w.ownerLayout){z=s!==undefined;B=u!==undefined}if(w.floating&&!w.preventDefaultAlign&&(!z||!B)){if(w.floatParent){v=w.floatParent.getTargetEl().getViewRegion();q=w.el.getAlignToXY(w.alignTarget||w.floatParent.getTargetEl(),t,A);v.x=q[0]-v.x;v.y=q[1]-v.y}else{q=w.el.getAlignToXY(w.alignTarget||w.container,t,A);v=w.el.translateXY(q[0],q[1])}s=z?s:v.x;u=B?u:v.y;z=B=true}if(z||B){w.setPosition(s,u)}w.onBoxReady(y,r);x=w.controller;if(x&&x.boxReady){x.boxReady(w)}},beforeRender:function(){var j=this,i=j.floating,k=j.getComponentLayout(),l=j.userCls,m;j._renderState=1;j.ariaUsesMainElement=j.ariaEl==="el";m=j.controller;if(m&&m.beforeRender){m.beforeRender(j)}j.initBindable();if(j.renderConfigs){j.flushRenderConfigs()}if(j.reference){j.publishState()}if(l){j.addCls(l)}if(i){j.addCls(j.fixed?j._fixedLayerCls:j._layerCls);l=i.cls;if(l){j.addCls(l)}}j.frame=j.frame||j.alwaysFramed;if(!k.initialized){k.initLayout()}j.initOverflow();j.setUI(j.ui)},doApplyRenderTpl:function(i,k){var h=k.$comp,j;if(!h.rendered){j=h.initRenderTpl();j.applyOut(k.renderData,i)}},getElConfig:function(){var p=this,m=p.autoEl,q=p.getFrameInfo(),s={tag:"div",tpl:q?p.initFramingTpl(q.table):p.initRenderTpl()},l=p.layoutTargetCls,n=p.protoEl,t=p.ariaRole,r;p.initStyles(n);if(l&&!q){n.addCls(l)}n.writeTo(s);n.flush();if(m){if(Ext.isString(m)){s.tag=m}else{Ext.apply(s,m)}}if(t&&p.ariaUsesMainElement){s.role=t;if(!p.ariaStaticRoles[t]){s["aria-hidden"]=!!p.hidden;s["aria-disabled"]=!!p.disabled;if(p.ariaLabel&&!p.ariaLabelledBy){s["aria-label"]=p.ariaLabel}if(p.collapsible){s["aria-expanded"]=!p.collapsed}if(p.ariaRenderAttributes){Ext.apply(s,p.ariaRenderAttributes)}if(p.config.ariaAttributes){Ext.apply(s,p.getAriaAttributes())}}}s.id=p.id;if(s.tpl){if(q){s.tplData=r=p.getFrameRenderData();r.renderData=p.initRenderData()}else{s.tplData=p.initRenderData()}}p.ariaRenderAttributes=null;return s},getInsertPosition:function(d){if(d!==undefined){if(Ext.isNumber(d)){d=this.container.dom.childNodes[d]}else{d=Ext.getDom(d)}}return d},getRenderTree:function(){var e=this,g=null;if(!e.hasListeners.beforerender||e.fireEvent("beforerender",e)!==false){e._renderState=1;e.beforeRender();e.rendering=true;e._renderState=2;g=e.getElConfig();if(e.el){g.id=e.$pid=Ext.id(null,e.el.identifiablePrefix)}}return g},initRenderData:function(){var i=this,k=i.ariaRole,h,j;h=Ext.apply({$comp:i,id:i.id,ui:i.ui,uiCls:i.uiCls,baseCls:i.baseCls,componentCls:i.componentCls,frame:i.frame,renderScroller:i.touchScroll,scrollerCls:i.scrollerCls,childElCls:""},i.renderData);if(k&&!i.ariaUsesMainElement){j={role:k};if(!i.ariaStaticRoles[k]){j["aria-hidden"]=!!i.hidden;j["aria-disabled"]=!!i.disabled;if(i.ariaLabel&&!i.ariaLabelledBy){j["aria-label"]=i.ariaLabel}if(i.collapsible){j["aria-expanded"]=!i.collapsed}if(i.ariaRenderAttributes){Ext.apply(j,i.ariaRenderAttributes)}if(i.config.ariaAttributes){Ext.apply(j,i.getAriaAttributes())}}h.ariaAttributes=j}return h},onRender:function(s,r){var q=this,n=q.x,p=q.y,t=null,u=q.el,v,m;q.applyRenderSelectors();q.rendering=null;q.rendered=true;q._renderState=3;if(q.renderConfigs){q.flushRenderConfigs()}if(n!=null){t={x:n}}if(p!=null){(t=t||{}).y=p}if(!q.getFrameInfo()){v=q.width;m=q.height;if(typeof v==="number"){t=t||{};t.width=v}if(typeof m==="number"){t=t||{};t.height=m}}if(q.touchScroll===1){q.getOverflowEl().disableTouchScroll()}q.lastBox=u.lastBox=t},render:function(r,s){var p=this,q=p.el,l=p.ownerLayout,m,t,n;if(q&&!q.isElement){p.wrapPrimaryEl(q);q=p.el}if(!p.skipLayout){Ext.suspendLayouts()}r=p.initContainer(r);n=p.getInsertPosition(s);if(!q){t=p.getRenderTree();if(l&&l.transformItemRenderTree){t=l.transformItemRenderTree(t)}if(t){if(n){q=Ext.DomHelper.insertBefore(n,t)}else{q=Ext.DomHelper.append(r,t)}p.wrapPrimaryEl(q);p.cacheRefEls(q)}}else{if(!p.hasListeners.beforerender||p.fireEvent("beforerender",p)!==false){p.beforeRender();p.needsRenderTpl=p.rendering=true;p._renderState=2;p.initStyles(q);if(p.allowDomMove!==false){if(n){r.dom.insertBefore(q.dom,n)}else{r.dom.appendChild(q.dom)}}}else{m=true}}if(q&&!m){p.finishRender(s)}if(!p.skipLayout){Ext.resumeLayouts(!p.hidden&&!r.isDetachedBody)}},ensureAttachedToBody:function(g){var h=this,i;while(h.ownerCt){h=h.ownerCt}if(h.container.isDetachedBody){h.container=i=Ext.getBody();i.appendChild(h.el.dom);if(g){h.updateLayout()}if(typeof h.x==="number"||typeof h.y==="number"){h.setPosition(h.x,h.y)}}},privates:{applyRenderSelectors:function(){var j=this,l=j.renderSelectors,k=j.el,i,m;j.attachChildEls(k);j.ariaEl=j[j.ariaEl]||j.el;if(l){for(m in l){i=l[m];if(i){j[m]=k.selectNode(i,false)}}}},cacheRefEls:function(p){p=p||this.el;var r=Ext.cache,m=Ext.dom.Element,i=p.isElement?p.dom:p,s=i.querySelectorAll("[data-ref]"),t=s.length,n,q;for(q=0;q<t;q++){n=s[q];if(!r[n.id]){new m(n)}}},doAutoRender:function(){var d=this;if(!d.rendered){if(d.floating){d.render(d.renderTo||document.body)}else{d.render(Ext.isBoolean(d.autoRender)?Ext.getBody():d.autoRender)}}},doRenderContent:function(k,h){var j=h.$comp,i=j.data;if(j.html){Ext.DomHelper.generateMarkup(j.html,k);delete j.html}if(j.tpl){if(!j.tpl.isTemplate){j.tpl=new Ext.XTemplate(j.tpl)}if(i){j.data=i=i.isEntity?i.getData(true):i;j.tpl.applyOut(i,k)}}},doRenderFramingDockedItems:function(k,i,h){var j=i.$comp;if(!j.rendered&&j.doRenderDockedItems){i.renderData.$skipDockedItems=true;j.doRenderDockedItems.call(this,k,i,h)}},flushRenderConfigs:function(){var q=this,m=q.renderConfigs,n=q._renderState,i,r,s,t,p;if(m){for(r=0;r<=n;++r){i=m[r];if(i){m[r]=null;for(s in i){p=i[s];(t||(t={}))[s]=q[s];q[s]=p}}}if(t){q.setConfig(t)}}},finishRender:function(r){var n=this,x=Ext.cache,p,s,w,q,t,u,v;if(!n.el||n.$pid){if(n.container){v=x[n.id];u=v?v.dom:n.container.getById(n.id,true)}else{w=n.$pid||n.id;v=x[w];u=v?v.dom:Ext.getDom(w)}if(!n.el){n.wrapPrimaryEl(u)}else{delete n.$pid;if(!n.el.dom){n.wrapPrimaryEl(n.el)}u.parentNode.insertBefore(n.el.dom,u);p=u;u=n.el.dom;s=u.firstChild;while(p.firstChild){u.insertBefore(p.firstChild,s)}n.el.addCls(p.className);Ext.removeNode(p)}}else{if(n.needsRenderTpl){q=n.initRenderTpl();if(q){t=n.initRenderData();q.insertFirst(n.getTargetEl(),t)}n.cacheRefEls()}}n.el.component=n;if(!n.container){n.container=Ext.get(n.el.dom.parentNode)}if(n.ctCls){n.container.addCls(n.ctCls)}n.onRender(n.container,r);if(!n.overflowInited){n.initOverflow()}n.el.setVisibilityMode(Ext.Element[n.hideMode.toUpperCase()]);if(n.overCls){n.el.hover(n.addOverCls,n.removeOverCls,n)}if(n.hasListeners.render){n.fireEvent("render",n)}n.afterRender();if(n.hasListeners.afterrender){n.fireEvent("afterrender",n)}n.initEvents();if(n.hidden){n.el.hide()}},finishRenderChildren:function(){var d=this.getComponentLayout();d.finishRender()},getFrameRenderData:function(){var g=this,h=g.frameSize,i="";if(g._syncFrameHeight&&g.height){i="height:"+(g.height-h.height)+"px"}return{$comp:g,id:g.id,fgid:g.id+"-frame",ui:g.ui,uiCls:g.uiCls,frameCls:g.frameCls,frameBodyCls:g.layoutTargetCls||"",baseCls:g.baseCls,top:!!h.top,left:!!h.left,right:!!h.right,bottom:!!h.bottom,mcStyle:i,frameElCls:""}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return false}var z=this,F=z.frameInfoCache,L=z.getFramingInfoCls()+"-frameInfo",y=F[L],G,D,H,x,K,J,E,w,A,M,C,N,I,B;if(y==null){G=Ext.fly(z.getStyleProxy(L),"frame-style-el");D=G.getStyle("font-family");if(D){D=D.split("-");H=parseInt(D[1],10);x=parseInt(D[2],10);K=parseInt(D[3],10);J=parseInt(D[4],10);E=parseInt(D[5],10);w=parseInt(D[6],10);A=parseInt(D[7],10);M=parseInt(D[8],10);C=parseInt(D[9],10);N=parseInt(D[10],10);I=parseInt(D[11],10);B=parseInt(D[12],10);y={table:D[0].charAt(0)==="t",vertical:D[0].charAt(1)==="v",top:H,right:x,bottom:K,left:J,width:J+x,height:H+K,border:{top:E,right:w,bottom:A,left:M,width:M+w,height:E+A},padding:{top:C,right:N,bottom:I,left:B,width:B+N,height:C+I}}}else{y=false}F[L]=y}z.frame=!!y;z.frameSize=y;return y},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui},getStyleProxy:function(e){var g=this.styleProxyEl||(Ext.Component.prototype.styleProxyEl=Ext.getBody().createChild({role:"presentation",style:{position:"absolute",top:"-10000px"}},null,true));g.className=e;return g},getFrameTpl:function(d){return this.getTpl(d?"frameTableTpl":"frameTpl")},initContainer:function(g){var e=this;if(!g&&e.el){g=e.el.dom.parentNode;e.allowDomMove=false}e.container=g.dom?g:Ext.get(g);return e.container},initOverflow:function(){var l=this,p=l.getOverflowStyle(),j=l.scrollFlags,k=l.getOverflowEl(),m=(j.y||j.x),n=l.touchScroll=(m&&Ext.supports.touchScroll);if(!m||!k||!k.isElement){return}l.overflowInited=true;if(n===2){k.setStyle("overflow","hidden")}else{k.setStyle(p)}},doRenderPadding:function(i,g){var h=g.$comp;if(h.touchScroll){i.push("padding:",h.unitizeBox(h.padding))}},initFramingTpl:function(e){var g=this.getFrameTpl(e);if(g&&!g.applyRenderTpl){this.setupFramingTpl(g)}return g},initRenderTpl:function(){var d=this.getTpl("renderTpl");if(d&&!d.renderContent){this.setupRenderTpl(d)}return d},setupFramingTpl:function(d){d.applyRenderTpl=this.doApplyRenderTpl;d.renderDockedItems=this.doRenderFramingDockedItems},setupRenderTpl:function(d){d.renderBody=d.renderContent=this.doRenderContent;d.renderPadding=this.doRenderPadding},updateFrame:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return}var w=this,B=w.el.dom,x=w.frameTable,F=w.frameBody,L=F.dom,y=w.getFrameInfo(),K,C,G,D,z,J,I,E,A,H,i;G=document.createElement("div");J=w.getFrameRenderData();E=w.getFrameTpl(y.table);E.insertFirst(G,J);i=G.querySelectorAll("[data-ref]");H=G.querySelector('[data-ref="frameBody"]');for(z=L;z.parentNode!==B;){z=z.parentNode}while(G.firstChild){B.insertBefore(G.firstChild,z)}H.parentNode.replaceChild(L,H);L.className=H.className;F.setSize();K=w.getChildEls();if(x){x.destroy();w.frameTable=null}for(C in K){if(K[C].frame){D=w[C];if(D&&D!==F){D.destroy();w[C]=null}}}for(A=i.length;A--;){C=(I=i[A]).getAttribute("data-ref");if(C!=="frameBody"){w[C]=new Ext.dom.Element(I)}}},frameInfoCache:{}}},0,0,0,0,0,0,[Ext.util,"Renderable"],0));(Ext.cmd.derive("Ext.state.Provider",Ext.Base,{prefix:"ext-",constructor:function(g){var e=this;Ext.apply(e,g);e.state={};e.mixins.observable.constructor.call(e)},get:function(g,i){var h=this.state[g];return h===undefined?i:h},clear:function(g){var e=this;delete e.state[g];e.fireEvent("statechange",e,g,null)},set:function(i,g){var h=this;h.state[i]=g;h.fireEvent("statechange",h,i,g)},decodeValue:function(s){var v=this,n=/^(a|n|d|b|s|o|e)\:(.*)$/,w=n.exec(unescape(s)),r,u,x,p,t,q;if(!w||!w[1]){return}u=w[1];s=w[2];switch(u){case"e":return null;case"n":return parseFloat(s);case"d":return new Date(Date.parse(s));case"b":return(s==="1");case"a":r=[];if(s){p=s.split("^");t=p.length;for(q=0;q<t;q++){s=p[q];r.push(v.decodeValue(s))}}return r;case"o":r={};if(s){p=s.split("^");t=p.length;for(q=0;q<t;q++){s=p[q];x=s.split("=");r[x[0]]=v.decodeValue(x[1])}}return r;default:return s}},encodeValue:function(k){var i="",l=0,n,p,m;if(k==null){return"e:1"}else{if(typeof k==="number"){n="n:"+k}else{if(typeof k==="boolean"){n="b:"+(k?"1":"0")}else{if(Ext.isDate(k)){n="d:"+k.toUTCString()}else{if(Ext.isArray(k)){for(p=k.length;l<p;l++){i+=this.encodeValue(k[l]);if(l!==p-1){i+="^"}}n="a:"+i}else{if(typeof k==="object"){for(m in k){if(typeof k[m]!=="function"&&k[m]!==undefined){i+=m+"="+this.encodeValue(k[m])+"^"}}n="o:"+i.substring(0,i.length-1)}else{n="s:"+k}}}}}}return escape(n)}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.state,"Provider"],0));(Ext.cmd.derive("Ext.state.Manager",Ext.Base,{singleton:true,constructor:function(){this.provider=new Ext.state.Provider()},setProvider:function(d){this.provider=d},get:function(e,g){return this.provider.get(e,g)},set:function(g,e){this.provider.set(g,e)},clear:function(d){this.provider.clear(d)},getProvider:function(){return this.provider}},1,0,0,0,0,0,[Ext.state,"Manager"],0));(Ext.cmd.derive("Ext.state.Stateful",Ext.Base,{mixinId:"state",stateful:false,saveDelay:100,constructor:function(){var d=this;if(!d.stateEvents){d.stateEvents=[]}if(d.stateful!==false){d.addStateEvents(d.stateEvents);d.initState()}},addStateEvents:function(l){var i=this,m,k,n,p;if(i.stateful&&i.getStateId()){p=(typeof l==="string")?arguments:l;n=i.stateEventsByName||(i.stateEventsByName={});for(m=p.length;m--;){k=p[m];if(k&&!n[k]){n[k]=1;i.on(k,i.onStateChange,i)}}}},onStateChange:function(){var i=this,k=i.saveDelay,h,j;if(!i.stateful){return}if(k){if(!i.stateTask){h=Ext.state.Stateful;j=h.runner||(h.runner=new Ext.util.TaskRunner());i.stateTask=j.newTask({run:i.saveState,scope:i,interval:k,repeat:1,fireIdleEvent:false})}i.stateTask.start()}else{i.saveState()}},saveState:function(){var n=this,u=n.stateful&&n.getStateId(),p=n.hasListeners,t,r,s,q,v,i;if(u){v=n.getState()||{};t=n.getPlugins()||[];for(s=0,q=t.length;s<q;s++){r=t[s];if(r&&r.getState){i=r.getState(v);if(i&&!v[r.ptype]){v[r.ptype]=i}}}if(!p.beforestatesave||n.fireEvent("beforestatesave",n,v)!==false){Ext.state.Manager.set(u,v);if(p.statesave){n.fireEvent("statesave",n,v)}}}},getState:function(){return null},applyState:function(d){if(d){Ext.apply(this,d)}},getStateId:function(){var d=this;return d.stateId||(d.autoGenId?null:d.id)},initState:function(){var p=this,w=p.stateful&&p.getStateId(),q=p.hasListeners,x,i,t,r,u,s,v;if(w){i=Ext.state.Manager.get(w);if(i){x=Ext.apply({},i);if(!q.beforestaterestore||p.fireEvent("beforestaterestore",p,i)!==false){u=p.getPlugins()||[];for(t=0,r=u.length;t<r;t++){s=u[t];if(s){v=s.ptype;if(s.applyState){s.applyState(x[v],i)}delete x[v]}}p.applyState(x);if(q.staterestore){p.fireEvent("staterestore",p,i)}}}}},savePropToState:function(j,k,l){var n=this,m=n[j],p=n.initialConfig;if(n.hasOwnProperty(j)){if(!p||p[j]!==m){if(k){k[l||j]=m}return true}}return false},savePropsToState:function(i,k){var l=this,m,j;if(typeof i==="string"){l.savePropToState(i,k)}else{for(m=0,j=i.length;m<j;++m){l.savePropToState(i[m],k)}}return k},destroy:function(){var e=this,g=e.stateTask;if(g){g.destroy();e.stateTask=null}e.clearListeners()}},1,0,0,0,0,0,[Ext.state,"Stateful"],0));(Ext.cmd.derive("Ext.util.Focusable",Ext.Base,{mixinId:"focusable",hasFocus:false,focusable:false,focusCls:"focus",initFocusable:Ext.emptyFn,initFocusableEvents:function(){this.initFocusableElement()},getFocusClsEl:function(){return this.getFocusEl()},getFocusEl:function(){return this.element||this.el},destroyFocusable:function(){var d=this;Ext.destroy(d.focusListeners);d.focusListeners=d.focusEnterEvent=d.focusTask=null;d.focusEl=d.ariaEl=null},enableFocusable:Ext.emptyFn,disableFocusable:function(){var h=this,j,i=h.focusCls,k;if(h.hasFocus){j=h.findFocusTarget();if(j){j.focus()}}k=h.getFocusClsEl();if(i&&k){k.removeCls(h.removeClsWithUI(i,true))}},isFocusable:function(i){var g=this,h;if(!g.focusable&&(!g.isContainer||!i)){return false}h=g.getFocusEl();if(h&&g.canFocus()){return h.isFocusable(i)}return false},canFocus:function(j,h){var i=this,k;k=(i.isContainer||i.focusable)&&i.rendered&&!i.destroying&&!i.destroyed&&!i.disabled&&(j||i.isVisible(true));return k||(h&&!!i.findFocusTarget())},focus:function(n,r,l,q){var p=this,t,m,s;if((!p.focusable&&!p.isContainer)||p.destroyed||p.destroying){return}if(r){p.getFocusTask().delay(Ext.isNumber(r)?r:10,p.focus,p,[n,false,l,q]);return p}p.cancelFocus();if(p.canFocus()){if(t=p.getFocusEl()){if(t.isComponent){return t.focus(n,r,l,q)}m=t.dom;if(m){if(p.floating){s=p.container.dom.scrollTop}t.focus();if(n){if(Ext.isArray(n)){if(p.selectText){p.selectText.apply(p,n)}}else{if(m.select){m.select()}else{if(p.selectText){p.selectText()}}}}Ext.callback(l,q)}if(p.floating){if(s!==undefined){p.container.dom.scrollTop=s}}}}else{t=p.findFocusTarget();if(t){return t.focus(n,r,l,q)}}return p},cancelFocus:function(){var d=this.getFocusTask();if(d){d.cancel()}},beforeBlur:Ext.emptyFn,onBlur:function(e){var j=this,l=j.focusableContainer,k=j.focusCls,m;if(!j.focusable||j.destroying){return}j.beforeBlur(e);if(l){l.beforeFocusableChildBlur(j,e)}m=j.getFocusClsEl();if(k&&m){m.removeCls(j.removeClsWithUI(k,true))}if(j.validateOnBlur){j.validate()}j.hasFocus=false;j.fireEvent("blur",j,e);j.postBlur(e);if(l){l.afterFocusableChildBlur(j,e)}},postBlur:Ext.emptyFn,beforeFocus:Ext.emptyFn,onFocus:function(e){var j=this,l=j.focusableContainer,k=j.focusCls,m;if(!j.focusable){return}if(j.canFocus()){j.beforeFocus(e);if(l){l.beforeFocusableChildFocus(j,e)}m=j.getFocusClsEl();if(k&&m){m.addCls(j.addClsWithUI(k,true))}if(!j.hasFocus){j.hasFocus=true;j.fireEvent("focus",j,e)}j.postFocus(e);if(l){l.afterFocusableChildFocus(j,e)}}},postFocus:Ext.emptyFn,getTabIndex:function(){var g=this,h,i;if(!g.focusable){return}h=g.rendered&&g.getFocusEl();if(h){if(h.isComponent){i=h.getTabIndex()}else{if(h.isElement){i=h.getAttribute("tabIndex")}else{return}}g.tabIndex=i}else{i=g.tabIndex}return i-0},setTabIndex:function(h,k){var i=this,j;if(!i.focusable){return}i.tabIndex=h;if(!i.rendered){return}j=k||i.getFocusEl();if(j){if(j.isComponent){j.setTabIndex(h)}else{if(j.isElement){j.set({tabIndex:h})}}}},onFocusEnter:function(e){var g=this;if(g.floating&&g!==g.zIndexManager.getActive()){g.toFront(true)}g.focusEnterEvent=e;g.containsFocus=true;g.fireEvent("focusenter",g,e)},onFocusLeave:function(e){var g=this;g.focusEnterEvent=null;g.containsFocus=false;g.fireEvent("focusleave",g,e)},privates:{revertFocus:function(){var h=this,i=h.previousFocus,j=h.focusEnterEvent,k;h.previousFocus=null;if(h.preventRefocus||!h.el.contains(Ext.Element.getActiveElement())){return}k=i||(j&&j.fromComponent);if(k){if(k.canFocus&&k.canFocus(false,true)){k.focus();return}else{if(k.nodeType){k=Ext.fly(k)}if(k.isFocusable&&k.isFocusable()){k.focus();return}}}if(j){k=Ext.fly(j.relatedTarget);if(Ext.isIE8||(k.isFocusable&&k.isFocusable())){k.focus()}}},findFocusTarget:function(){var h=this,i,g;for(i=h.up(":not([disabled])");i;i=i.up(":not([disabled])")){g=Ext.ComponentQuery.query(":focusable:not([hasFocus])",i);if(g.length){return g[0]}if(i.isFocusable&&i.isFocusable()){return i}}},initFocusableElement:function(){var g=this,i=g.tabIndex,h=g.getFocusEl();if(h&&!h.isComponent){g.focusEl=h;if(i!=null&&g.canFocus(true)){g.setTabIndex(i,h)}h.dom.setAttribute("data-componentid",g.id);if(g.config.keyHandlers){g.initKeyHandlers(h)}}},getFocusTask:function(){if(!this.focusTask){this.focusTask=Ext.focusTask}return this.focusTask},handleFocusEvent:function(e){var g;if(this.isFocusing(e)){g=new Ext.event.Event(e.event);g.type="focus";g.relatedTarget=e.fromElement;g.target=e.toElement;this.onFocus(g)}},handleBlurEvent:function(e){var g;if(this.isBlurring(e)){g=new Ext.event.Event(e.event);g.type="blur";g.target=e.fromElement;g.relatedTarget=e.toElement;this.onBlur(g)}},isFocusing:function(j){var e=j.fromElement,i=j.toElement,k;if(this.focusable){k=this.getFocusEl();if(k){if(k.isComponent){return k.isFocusing(e,i)}else{return i===k.dom&&e!==i}}}return false},isBlurring:function(j){var e=j.fromElement,i=j.toElement,k;if(this.focusable){k=this.getFocusEl();if(k){if(k.isComponent){return k.isBlurring(e,i)}else{return e===k.dom&&e!==i}}}return false},blur:function(){var e=this,g;if(!e.focusable||!e.canFocus()){return}g=e.getFocusEl();if(g){e.blurring=true;g.blur();delete e.blurring}return e},disableTabbing:function(){var g=this,h=g.el,i;if(h){h.saveTabbableState()}i=g.getFocusEl();if(i){if(i.isComponent){i.disableTabbing()}else{if(i.isElement&&h&&!h.contains(i)){i.saveTabbableState()}}}},enableTabbing:function(){var g=this,h=g.el,i;i=g.getFocusEl();if(i){if(i.isComponent){i.enableTabbing()}else{if(i.isElement&&h&&!h.contains(i)){i.restoreTabbableState()}}}if(h){h.restoreTabbableState()}}}},0,0,0,0,0,0,[Ext.util,"Focusable"],function(){if(!Ext.focusTask){Ext.focusTask=new Ext.util.DelayedTask()}}));(Ext.cmd.derive("Ext.mixin.Accessible",Ext.Mixin,{mixinConfig:{id:"accessible"},config:{ariaAttributes:{$value:null,lazy:true}},privates:{getAriaLabelEl:function(p){var m=[],i,n,q,l,r;if(p){if(Ext.isFunction(p)){return p.call(this)}else{if(!Ext.isArray(p)){p=[p]}i=this.lookupReferenceHolder();if(i){for(n=0,q=p.length;n<q;n++){l=i.lookupReference(p[n]);if(l){m.push(l.ariaEl.id)}}}}}return m.length?m.join(" "):null}}},0,0,0,0,0,0,[Ext.mixin,"Accessible"],0));(Ext.cmd.derive("Ext.util.KeyboardInteractive",Ext.Mixin,{mixinConfig:{id:"keyboardinteractive"},config:{keyHandlers:{$value:null,lazy:true}},initKeyHandlers:function(j){var h=this,k=h.getKeyHandlers(),i;for(i in k){j.on("keydown",h.handleKeydown,h);h.keydownListenerAttached=true;break}},applyKeyHandlers:function(p){var m=this,r={},s,n,l,q,t;if(p){for(n in p){q=p[n];if(typeof q==="function"){r[n]=q}else{r[n]=m[q]}}if(m.focusable&&m.rendered&&!m.destroyed&&!m.destroying){s=m.getFocusEl();if(s&&!m.keydownListenerAttached){s.on("keydown",m.handleKeydown,m);m.keydownListenerAttached=true}}}return r},handleKeydown:function(e){var i=this,j,k;j=e.getKeyName();if(j){k=i.getKeyHandlers()[j];if(k){k.call(i,e)}}}},0,0,0,0,0,0,[Ext.util,"KeyboardInteractive"],0));(Ext.cmd.derive("Ext.Component",Ext.Base,{alternateClassName:"Ext.AbstractComponent",statics:{AUTO_ID:1000,pendingLayouts:null,layoutSuspendCount:0,DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g,ariaHighContrastModeCls:"x-aria-highcontrast",cancelLayout:function(i,g){var h=this.runningLayoutContext||this.pendingLayouts;if(h){h.cancelComponent(i,false,g)}},fromElement:function(g,h,i){return Ext.ComponentManager.fromElement(g,h,i)},flushLayouts:function(){var e=this,g=e.pendingLayouts;if(g&&g.invalidQueue.length){e.pendingLayouts=null;e.runningLayoutContext=g;Ext.override(g,{runComplete:function(){e.runningLayoutContext=null;var c=this.callParent();if(Ext.GlobalEvents.hasListeners.afterlayout){Ext.GlobalEvents.fireEvent("afterlayout")}return c}});g.run()}},resumeLayouts:function(d){if(this.layoutSuspendCount&&!--this.layoutSuspendCount){if(d){this.flushLayouts()}if(Ext.GlobalEvents.hasListeners.resumelayouts){Ext.GlobalEvents.fireEvent("resumelayouts")}}},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(l,i){var k=this,m=k.runningLayoutContext,j;if(m){m.queueInvalidate(l)}else{j=k.pendingLayouts||(k.pendingLayouts=new Ext.layout.Context());j.queueInvalidate(l);if(!i&&!k.layoutSuspendCount&&!l.isLayoutSuspended()){k.flushLayouts()}}}},$configPrefixed:false,$configStrict:false,config:{data:null,maxHeight:null,maxWidth:null,minHeight:null,minWidth:null,scrollable:null},defaultBindProperty:"html",alignTarget:null,autoRender:false,autoShow:false,baseCls:"x-component",childEls:{frameTable:{frame:true},frameTL:{frame:"tl"},frameTC:{frame:"tc"},frameTR:{frame:"tr"},frameML:{frame:"ml"},frameBody:{frame:"mc"},frameMR:{frame:"mr"},frameBL:{frame:"bl"},frameBC:{frame:"bc"},frameBR:{frame:"br"}},componentLayout:"autocomponent",defaultAlign:"c-c",disabled:false,disabledRe:/^(?:button|input|select|textarea|optgroup|option|fieldset)$/i,nonMaskableRe:(function(){var d=["input","select","textarea","optgroup","option","table"];if(Ext.isIE9m&&!(Ext.isIE9&&!Ext.isIEQuirks)){d.push("p")}return new RegExp("^(?:"+d.join("|")+")$","i")}()),disabledCls:"x-item-disabled",draggable:false,floating:false,hidden:false,hideMode:"display",maskElement:null,renderTpl:['<tpl if="renderScroller">','<div class="{scrollerCls}" style="{%this.renderPadding(out, values)%}">',"</tpl>","{%this.renderContent(out,values)%}",'<tpl if="renderScroller"></div></tpl>'],resizeHandles:"all",shrinkWrap:2,toFrontOnShow:true,synthetic:false,tplWriteMode:"overwrite",ui:"default",uiCls:[],userCls:null,weight:null,allowDomMove:true,autoGenId:false,borderBoxCls:"x-border-box",componentLayoutCounter:0,contentPaddingProperty:"padding",deferLayouts:false,frameSize:null,horizontalPosProp:"left",isComponent:true,_isLayoutRoot:false,layoutSuspendCount:0,liquidLayout:false,maskOnDisable:true,offsetsCls:"x-hidden-offsets",rendered:false,rootCls:"x-body",scrollerCls:"x-scroll-scroller",scrollerSelector:".x-scroll-scroller",_scrollFlags:{auto:{auto:{overflowX:"auto",overflowY:"auto",x:true,y:true,both:true},"false":{overflowX:"auto",overflowY:"hidden",x:true,y:false,both:false},scroll:{overflowX:"auto",overflowY:"scroll",x:true,y:true,both:true}},"false":{auto:{overflowX:"hidden",overflowY:"auto",x:false,y:true,both:false},"false":{overflowX:"hidden",overflowY:"hidden",x:false,y:false,both:false},scroll:{overflowX:"hidden",overflowY:"scroll",x:false,y:true,both:false}},scroll:{auto:{overflowX:"scroll",overflowY:"auto",x:true,y:true,both:true},"false":{overflowX:"scroll",overflowY:"hidden",x:true,y:false,both:false},scroll:{overflowX:"scroll",overflowY:"scroll",x:true,y:true,both:true}},none:{overflowX:"",overflowY:"",x:false,y:false,both:false}},_scrollableCfg:{x:{x:true,y:false},y:{x:false,y:true},horizontal:{x:true,y:false},vertical:{x:false,y:true},both:{x:true,y:true},"true":{x:true,y:true}},validIdRe:Ext.validIdRe,constructor:function(x){var r=this,v,s,q,t,i,u,w,p;x=x||{};if(x.initialConfig){if(x.isAction){r.baseAction=x}x=x.initialConfig}else{if(x.tagName||x.dom||Ext.isString(x)){x={applyTo:x,id:x.id||x}}}r.initialConfig=x;r.getId();r.protoEl=new Ext.util.ProtoElement();r.initConfig(x);if(r.scrollable==null){i=r.autoScroll;if(i){p=!!i}else{u=r.overflowX;w=r.overflowY;if(u||w){p={x:(u&&u!=="hidden")?u:false,y:(w&&w!=="hidden")?w:false}}}if(p){r.setScrollable(p)}}q=r.xhooks;if(q){delete r.xhooks;Ext.override(r,q)}r.mixins.elementCt.constructor.call(r);r.setupProtoEl();if(r.cls){r.initialCls=r.cls;r.protoEl.addCls(r.cls)}if(r.style){r.initialStyle=r.style;r.protoEl.setStyle(r.style)}r.renderData=r.renderData||{};r.initComponent();if(!r.preventRegister){Ext.ComponentManager.register(r)}r.mixins.state.constructor.call(r);r.addStateEvents("resize");t=r.getController();if(t){t.init(r)}if(r.plugins){for(v=0,s=r.plugins.length;v<s;v++){r.plugins[v]=r.initPlugin(r.plugins[v])}}r.loader=r.getLoader();if(r.disabled){r.disabled=false;r.disable(true)}if(r.renderTo){r.render(r.renderTo)}if(r.autoShow&&!r.$initParent){r.show()}if(r.baseAction){r.baseAction.addComponent(r)}},beforeInitConfig:function(){this.mixins.observable.constructor.call(this)},addCls:function(i){var g=this,h=g.rendered?g.el:g.protoEl;h.addCls.apply(h,arguments);return g},addClsWithUI:function(t,n){var p=this,q=[],r=0,s=p.uiCls=Ext.Array.clone(p.uiCls),u=p.activeUI,v,i;if(typeof t==="string"){t=(t.indexOf(" ")<0)?[t]:Ext.String.splitWords(t)}v=t.length;for(;r<v;r++){i=t[r];if(i&&!p.hasUICls(i)){s.push(i);if(u){q=q.concat(p.addUIClsToElement(i))}}}if(n!==true&&u){p.addCls(q)}return q},afterComponentLayout:function(l,n,m,j){var k=this,p;if(++k.componentLayoutCounter===1){p=k.scrollable;if(p){if(k.touchScroll&&p.isTouchScroller){p.setInnerElement(k.getScrollerEl())}p.setElement(k.getOverflowEl());if(Ext.isIE){Ext.on("show",k.onGlobalShow,k)}}k.afterFirstLayout(l,n)}if(l!==m||n!==j){k.onResize(l,n,m,j)}if(k.floating){k.onAfterFloatLayout()}},addPlugin:function(e){var g=this;e=g.constructPlugin(e);if(g.plugins){g.plugins.push(e)}else{g.plugins=[e]}if(g.pluginsInitialized){g.initPlugin(e)}return e},addPropertyToState:function(i,j,k){var l=this,m=arguments.length;if(m===3||l.hasOwnProperty(j)){if(m<3){k=l[j]}if(k!==l.initialConfig[j]){(i||(i={}))[j]=k}}return i},addUIClsToElement:function(l){var p=this,s=p.baseCls+"-"+p.ui+"-"+l,t=["x-"+l,p.baseCls+"-"+l,s],q,m,r,n;if(p.rendered&&p.frame&&!Ext.supports.CSS3BorderRadius){s+="-";q=p.getChildEls();for(m in q){n=q[m].frame;if(n&&n!==true){r=p[m];if(r){r.addCls(s+n)}}}}return t},removeUIClsFromElement:function(l){var p=this,s=p.baseCls+"-"+p.ui+"-"+l,t=["x-"+l,p.baseCls+"-"+l,s],q,m,r,n;if(p.rendered&&p.frame&&!Ext.supports.CSS3BorderRadius){s+="-";q=p.getChildEls();for(m in q){n=q[m].frame;if(n&&n!==true){r=p[m];if(r){r.removeCls(s+n)}}}}return t},adjustPosition:function(k,h){var j=this,i;if(j.isContainedFloater()){i=j.floatParent.getTargetEl().getViewRegion();k+=i.left;h+=i.top}return{x:k,y:h}},afterHide:function(k,i){var h=this,j=h.focusableContainer;h.hiddenByLayout=null;if(this.ownerLayout){this.updateLayout({isRoot:false})}Ext.callback(k,i||h);h.fireHierarchyEvent("hide");h.fireEvent("hide",h);if(j){j.onFocusableChildHide(h)}},afterSetPosition:function(i,g){var h=this;h.onPosition(i,g);if(h.hasListeners.move){h.fireEvent("move",h,i,g)}},afterShow:function(m,s,p){var n=this,l=n.el,t,r,q;m=n.getAnimateTarget(m);if(!n.ghost){m=null}if(m){r={x:l.getX(),y:l.getY(),width:l.dom.offsetWidth,height:l.dom.offsetHeight};t={x:m.getX(),y:m.getY(),width:m.dom.offsetWidth,height:m.dom.offsetHeight};l.addCls(n.offsetsCls);q=n.ghost();q.el.stopAnimation();q.setX(-10000);n.ghostBox=r;q.el.animate({from:t,to:r,listeners:{afteranimate:function(){delete q.componentLayout.lastComponentSize;n.unghost();delete n.ghostBox;l.removeCls(n.offsetsCls);n.onShowComplete(s,p)}}})}else{n.onShowComplete(s,p)}n.fireHierarchyEvent("show")},animate:function(L){var h=this,I,E,F,N,K,M,w,A,D,J,z,C,H,B,y,G;L=L||{};K=L.to||{};if(Ext.fx.Manager.hasFxBlock(h.id)){return h}I=Ext.isDefined(K.width);if(I){N=Ext.Number.constrain(K.width,h.minWidth,h.maxWidth)}E=Ext.isDefined(K.height);if(E){F=Ext.Number.constrain(K.height,h.minHeight,h.maxHeight)}if(!L.dynamic&&(I||E)){A=(L.from?L.from.width:undefined)||h.getWidth();D=A;J=(L.from?L.from.height:undefined)||h.getHeight();z=J;C=false;if(E&&F>J){z=F;C=true}if(I&&N>A){D=N;C=true}if(E||I){G=h.el.getStyle("overflow");if(G!=="hidden"){h.el.setStyle("overflow","hidden")}}if(C){M=!Ext.isNumber(h.width);w=!Ext.isNumber(h.height);h.setSize(D,z);h.el.setSize(A,J);if(M){delete h.width}if(w){delete h.height}}if(I){K.width=N}if(E){K.height=F}}H=h.constrain;B=h.constrainHeader;if(H||B){h.constrain=h.constrainHeader=false;y=L.callback;L.callback=function(){h.constrain=H;h.constrainHeader=B;if(y){y.call(L.scope||h,arguments)}if(G!=="hidden"){h.el.setStyle("overflow",G)}}}return h.mixins.animate.animate.apply(h,arguments)},applyScrollable:function(n,l){var p=this,j=p.rendered,k,m;if(n){if(n===true||typeof n==="string"){k=p._scrollableCfg[n];n=k}if(l){l.setConfig(n);n=l}else{n=Ext.Object.chain(n);if(j){n.element=p.getOverflowEl();m=p.getScrollerEl();if(m){n.innerElement=m}}n.autoRefresh=false;if(Ext.supports.touchScroll===1){n.translatable={translationMethod:"scrollparent"};n.indicators=false}n=Ext.scroll.Scroller.create(n);n.component=p}}else{if(l){l.setConfig({x:false,y:false});l.destroy();n=null}}if(p.rendered&&!p.destroying&&!p.destroyed){if(n){p.getOverflowStyle()}else{p.scrollFlags=p._scrollFlags.none}p.updateLayout()}return n},beforeComponentLayout:function(){return true},beforeDestroy:Ext.emptyFn,beforeLayout:function(){if(this.floating){this.onBeforeFloatLayout()}},beforeSetPosition:function(m,p,u){var q=this,n=null,s,t,v,r;if(m){if(Ext.isNumber(s=m[0])){u=p;p=m[1];m=s}else{if((s=m.x)!==undefined){u=p;p=m.y;m=s}}}if(q.constrain||q.constrainHeader){n=q.calculateConstrainedPosition(null,[m,p],true);if(n){m=n[0];p=n[1]}}t=(m!==undefined);v=(p!==undefined);if(t||v){q.x=m;q.y=p;r=q.adjustPosition(m,p);n={x:r.x,y:r.y,anim:u,hasX:t,hasY:v}}return n},beforeShow:Ext.emptyFn,bubble:function(i,j,k){var h=this;while(h){if(i.apply(j||h,k||[h])===false){break}h=h.getBubbleTarget()}return this},clearListeners:function(){var d=this;d.mixins.observable.clearListeners.call(d);d.mixins.componentDelegation.clearDelegatedListeners.call(d)},cloneConfig:function(i){i=i||{};var h=i.id||Ext.id(),k=Ext.applyIf(i,this.initialConfig),j;k.id=h;j=Ext.getClass(this);return new j(k)},destroy:function(){var l=this,p=l.renderSelectors,q=l.getConfig("viewModel",true),k=l.getConfig("session",true),r,m,n;if(!l.hasListeners.beforedestroy||l.fireEvent("beforedestroy",l)!==false){l.isDestroying=l.destroying=true;m=l.floatParent||l.ownerCt;if(l.floating){delete l.floatParent;if(l.zIndexManager){l.zIndexManager.unregister(l);l.zIndexManager=null}}l.removeBindings();l.beforeDestroy();l.destroyBindable();if(m&&m.remove){m.remove(l,false)}l.stopAnimation();l.onDestroy();Ext.destroy(l.plugins);if(l.rendered){Ext.Component.cancelLayout(l,true)}l.componentLayout=null;if(l.hasListeners.destroy){l.fireEvent("destroy",l)}if(!l.preventRegister){Ext.ComponentManager.unregister(l)}l.mixins.state.destroy.call(l);if(l.floating){l.onFloatDestroy()}l.clearListeners();if(l.rendered){if(!l.preserveElOnDestroy){l.el.destroy()}l.el.component=null;l.mixins.elementCt.destroy.call(l);if(p){for(r in p){if(p.hasOwnProperty(r)){n=l[r];if(n){delete l[r];n.destroy()}}}}l.data=l.el=l.frameBody=l.rendered=l.afterRenderEvents=null;l.tpl=l.renderTpl=l.renderData=null;l.focusableContainer=l.container=l.scrollable=null}l.isDestroying=l.destroying=false;l.callParent()}},disable:function(k,i){var j=this,l=j.focusableContainer,m=j.getInherited();if(!i){m.disabled=true;j.savedDisabled=true}if(j.maskOnDisable){m.disableMask=true}if(!j.disabled){if(l){l.beforeFocusableChildDisable(j)}j.addCls(j.disabledCls);if(j.rendered){j.onDisable()}else{j.disableOnRender=true}j.disabled=true;if(k!==true){j.fireEvent("disable",j)}if(l){l.onFocusableChildDisable(j)}}return j},doFireEvent:function(l,j,m){var i=this,k=i.mixins.observable.doFireEvent.call(i,l,j,m);if(k!==false){k=i.mixins.componentDelegation.doFireDelegatedEvent.call(i,l,j)}return k},enable:function(k,i){var j=this,l=j.focusableContainer,m=j.getInherited();if(!i){delete j.getInherited().disabled;j.savedDisabled=false}if(j.maskOnDisable){delete m.disableMask}if(j.disabled){if(!(i&&m.hasOwnProperty("disabled"))){if(l){l.beforeFocusableChildEnable(j)}j.disableOnRender=false;j.removeCls(j.disabledCls);if(j.rendered){j.onEnable()}j.disabled=false;if(k!==true){j.fireEvent("enable",j)}if(l){l.onFocusableChildEnable(j)}}}return j},findParentBy:function(g){var e;for(e=this.getRefOwner();e&&!g(e,this);e=e.getRefOwner()){}return e||null},findParentByType:function(d){return Ext.isFunction(d)?this.findParentBy(function(c){return c.constructor===d}):this.up(d)},findPlugin:function(h){var j,k=this.plugins,i=k&&k.length;for(j=0;j<i;j++){if(k[j].ptype===h){return k[j]}}},getAnimateTarget:function(d){d=d||this.animateTarget;if(d){d=d.isComponent?d.getEl():Ext.get(d)}return d||null},getBubbleTarget:function(){return this.getRefOwner()},getComponentLayout:function(){var d=this;if(!d.componentLayout||!d.componentLayout.isLayout){d.setComponentLayout(Ext.layout.Layout.create(d.componentLayout,"autocomponent"))}return d.componentLayout},getEl:function(){return this.el},getHeight:function(){return this.el.getHeight()},initInheritedState:function(i){var g=this,h=g.componentLayout;if(g.hidden){i.hidden=true}if(g.collapseImmune){i.collapseImmune=true}if(g.modelValidation!==undefined){i.modelValidation=g.modelValidation}if(g.savedDisabled){i.disabled=true}g.mixins.bindable.initInheritedState.call(g,i);if(h&&h.initInheritedState){h.initInheritedState(i)}},getId:function(){var g=this,e;if(!(g.id||(g.id=g.initialConfig.id))){e=g.getXType();if(e){e=e.replace(Ext.Component.INVALID_ID_CHARS_Re,"-")}else{e=Ext.name.toLowerCase()+"-comp"}g.id=e+"-"+g.getAutoId()}return g.id},getItemId:function(){return this.itemId||this.id},getLoader:function(){var e=this,g=e.loader;if(g){if(!g.isLoader){e.loader=new Ext.ComponentLoader(Ext.apply({target:e},g))}else{g.setTarget(e)}return e.loader}return null},getMaskTarget:function(){return this.maskElement?this[this.maskElement]:null},getPlugin:function(j){var i,k=this.plugins,h=k&&k.length;for(i=0;i<h;i++){if(k[i].pluginId===j){return k[i]}}return null},getPosition:function(m){var l=this,j,k=l.isContainedFloater(),i;if((m===true)&&!k){return[l.getLocalX(),l.getLocalY()]}j=l.getXY();if((m===true)&&k){i=l.floatParent.getTargetEl().getViewRegion();j[0]-=i.left;j[1]-=i.top}return j},getScrollX:function(){var d=this.getScrollable();return d?d.getPosition().x:0},getScrollY:function(){var d=this.getScrollable();return d?d.getPosition().y:0},getSize:function(d){return this.el.getSize(d)},getSizeModel:function(z){var v=this,I=Ext.layout.SizeModel,F=v.componentLayout.ownerContext,H=v.width,K=v.height,J,G,C,D,B,L,x,w,y,A,E=v.floating||v.floated;if(F){A=F.widthModel;B=F.heightModel}if(!A||!B){C=((J=typeof H)==="number");D=((G=typeof K)==="number");y=E||!(L=v.ownerLayout);if(y){x=Ext.layout.Layout.prototype.autoSizePolicy;w=E?3:v.shrinkWrap;if(C){A=I.configured}if(D){B=I.configured}}else{x=L.getItemSizePolicy(v,z);w=L.isItemShrinkWrap(v)}if(F){F.ownerSizePolicy=x}w=(w===true)?3:(w||0);if(y&&w){if(H&&J==="string"){w&=2}if(K&&G==="string"){w&=1}}if(w!==3){if(!z){z=v.ownerCt&&v.ownerCt.getSizeModel()}if(z){w|=(z.width.shrinkWrap?1:0)|(z.height.shrinkWrap?2:0)}}if(!A){if(!x.setsWidth){if(C){A=I.configured}else{A=(w&1)?I.shrinkWrap:I.natural}}else{if(x.readsWidth){if(C){A=I.calculatedFromConfigured}else{A=(w&1)?I.calculatedFromShrinkWrap:I.calculatedFromNatural}}else{A=I.calculated}}}if(!B){if(!x.setsHeight){if(D){B=I.configured}else{B=(w&2)?I.shrinkWrap:I.natural}}else{if(x.readsHeight){if(D){B=I.calculatedFromConfigured}else{B=(w&2)?I.calculatedFromShrinkWrap:I.calculatedFromNatural}}else{B=I.calculated}}}}return A.pairsByHeightOrdinal[B.ordinal]},getState:function(){var h=this,g=null,i=h.getSizeModel();if(i.width.configured){g=h.addPropertyToState(g,"width")}if(i.height.configured){g=h.addPropertyToState(g,"height")}return g},getUserCls:function(){return this.userCls},setUserCls:function(i){var h=this,g=h.userCls;if(i!==g){h.userCls=i;if(h.rendered){h.el.replaceCls(g,i)}}return g},getWidth:function(){return this.el.getWidth()},getXType:function(){return this.self.xtype},getXTypes:function(){var i=this.self,h,j,k;if(!i.xtypes){h=[];j=this;while(j){k=j.xtypes;if(k!==undefined){h.unshift.apply(h,k)}j=j.superclass}i.xtypeChain=h;i.xtypes=h.join("/")}return i.xtypes},hasCls:function(g){var e=this.rendered?this.el:this.protoEl;return e.hasCls.apply(e,arguments)},hasUICls:function(i){var h=this,g=h.uiCls||[];return Ext.Array.contains(g,i)},hide:function(h,k,j){var i=this;if(i.pendingShow){i.pendingShow=false}if(!(i.rendered&&!i.isVisible())){if(!i.hasListeners.beforehide||i.fireEvent("beforehide",i)!==false||i.hierarchicallyHidden){i.getInherited().hidden=i.hidden=true;i.fireHierarchyEvent("beforehide");if(i.rendered){i.onHide.apply(i,arguments)}}}return i},initComponent:function(){var g=this,h=g.width,i=g.height;if(g.plugins&&!g.plugins.processed){g.plugins=g.constructPlugins()}g.pluginsInitialized=true;if(h!=null||i!=null){g.setSize(h,i)}if(g.listeners){g.on(g.listeners);g.listeners=null}if(g.focusable){g.initFocusable()}},initEvents:function(){var m=this,k=m.afterRenderEvents,q,n,l,p,r;if(k){for(l in k){n=m[l];if(n&&n.on){q=k[l];for(p=0,r=q.length;p<r;++p){m.mon(n,q[p])}}}}if(m.focusable){m.initFocusableEvents()}},is:function(d){return Ext.ComponentQuery.is(this,d)},isDescendantOf:function(g){var e;for(e=this.getRefOwner();e&&e!==g;e=e.getRefOwner()){}return e||null},isAncestor:function(d){while(d){if(d.getRefOwner()===this){return true}d=d.getRefOwner()}},isDisabled:function(){return this.disabled},isDraggable:function(){return !!this.draggable},isDroppable:function(){return !!this.droppable},isFloating:function(){return this.floating},isHidden:function(){return this.hidden},isHierarchicallyHidden:function(){var h=this,i=false,k,j;for(;(k=h.ownerCt||h.floatParent);h=k){j=k.getInherited();if(j.hidden){i=true;break}if(h.getInherited().collapseImmune){if(k.collapsed&&!h.collapseImmune){i=true;break}}else{i=!!j.collapsed;break}}return i},isLayoutChild:function(d){return !this.floating&&!!this.up(d)},isLayoutRoot:function(){var g=this,e=g.ownerLayout;if(!e||g._isLayoutRoot||g.floating){return true}return e.isItemLayoutRoot(g)},isLayoutSuspended:function(){var g=this,e;while(g){if(g.layoutSuspendCount||g.suspendLayout){return true}e=g.ownerLayout;if(!e){break}g=e.owner}return false},isVisible:function(i){var h=this,g;if(h.hidden||!h.rendered||h.destroyed){g=true}else{if(i){g=h.isHierarchicallyHidden()}}return !g},isXType:function(e,g){return g?(Ext.Array.indexOf(this.xtypes,e)!==-1):!!this.xtypesMap[e]},isMasked:function(g){var e=this;return !!(e.masked||(e.loadMask&&e.loadMask.isVisible())||(g&&e.getInherited().masked))},setMasked:function(g){var h=this,i=h.focusableContainer;if(g){h.masked=true;h.getInherited().masked=g}else{h.masked=false;delete h.getInherited().masked}if(i){i.onFocusableChildMasked(h,g)}return h},mask:function(i,k,m){var l=this.lastBox,j=this.getMaskTarget()||this.el;if(l){m=l.height}j.mask(i,k,m);this.setMasked(true)},nextNode:function(s,n){var u=this,t=u.ownerCt,i,r,p,q,v;if(n&&u.is(s)){return u}if(t){for(r=t.items.items,q=Ext.Array.indexOf(r,u)+1,p=r.length;q<p;q++){v=r[q];if(v.is(s)){return v}if(v.down){i=v.down(s);if(i){return i}}}return t.nextNode(s)}return null},nextSibling:function(n){var k=this.ownerCt,m,l,p,c;if(k){m=k.items;p=m.indexOf(this)+1;if(p){if(n){for(l=m.getCount();p<l;p++){if((c=m.getAt(p)).is(n)){return c}}}else{if(p<m.getCount()){return m.getAt(p)}}}}return null},onAdded:function(j,h,k){var i=this;i.ownerCt=j;i.onInheritedAdd(i,k);if(i.hasListeners&&i.hasListeners.added){i.fireEvent("added",i,j,h)}if(Ext.GlobalEvents.hasListeners.added){i.fireHierarchyEvent("added")}},onRemoved:function(h){var i=this,g;if(Ext.GlobalEvents.hasListeners.removed){i.fireHierarchyEvent("removed")}if(i.hasListeners.removed){i.fireEvent("removed",i,i.ownerCt)}if(!h){i.removeBindings()}i.onInheritedRemove(h);i.ownerCt=i.ownerLayout=null},onBoxReady:function(i,k){var h=this,j;if(h.ariaLabelledBy||h.ariaDescribedBy){if(h.ariaLabelledBy){j=h.getAriaLabelEl(h.ariaLabelledBy);if(j){h.ariaEl.dom.setAttribute("aria-labelledby",j)}}if(h.ariaDescribedBy){j=h.getAriaLabelEl(h.ariaDescribedBy);if(j){h.ariaEl.dom.setAttribute("aria-describedby",j)}}}if(h.resizable){h.initResizable(h.resizable)}if(h.draggable){h.initDraggable()}if(h.hasListeners.boxready){h.fireEvent("boxready",h,i,k)}},onDestroy:function(){var e=this,g=e.focusableContainer;if(e.rendered){Ext.destroy(e.dd,e.resizer,e.proxy,e.proxyWrap,e.resizerComponent,e.scrollable,e.contentEl)}if(g){g.onFocusableChildDestroy(e)}if(e.focusable){e.destroyFocusable()}Ext.destroy(e.componentLayout,e.loadMask,e.floatingDescendants)},onDisable:function(){var i=this,h,g;if(i.focusable){i.disableFocusable()}if(!i.ariaStaticRoles[i.ariaRole]){i.ariaEl.dom.setAttribute("aria-disabled",true)}if(i.maskOnDisable&&!i.getInheritedConfig("disableMask",true)){h=i.el.dom;g=h.nodeName;if(i.disabledRe.test(g)){h.disabled=true}if(!i.nonMaskableRe.test(g)){i.mask()}}},onEnable:function(){var i=this,h,g;if(i.focusable){i.enableFocusable()}if(!i.ariaStaticRoles[i.ariaRole]){i.ariaEl.dom.setAttribute("aria-disabled",false)}if(i.maskOnDisable&&i.getInherited().hasOwnProperty("masked")){h=i.el.dom;g=h.nodeName;if(i.disabledRe.test(g)){h.disabled=false}if(!i.nonMaskableRe.test(g)){i.unmask()}}},onGlobalShow:function(c){if(this.up(c)){this.getScrollable().restoreState()}},onHide:function(k,r,m){var l=this,p,n,q;if(!l.ariaStaticRoles[l.ariaRole]){l.ariaEl.dom.setAttribute("aria-hidden",true)}l.revertFocus();k=l.getAnimateTarget(k);if(!l.ghost){k=null}if(k){q={x:k.getX(),y:k.getY(),width:k.dom.offsetWidth,height:k.dom.offsetHeight};p=l.ghost();p.el.stopAnimation();n=l.getSize();p.el.animate({to:q,listeners:{afteranimate:function(){delete p.componentLayout.lastComponentSize;p.el.hide();p.setHiddenState(true);p.el.setSize(n);l.afterHide(r,m)}}})}l.el.hide();if(!k){l.afterHide(r,m)}},onPosition:Ext.emptyFn,onResize:function(k,m,l,i){var j=this;if(j.floating&&j.constrain){j.doConstrain()}j.refreshScroll();if(j.hasListeners.resize){j.fireEvent("resize",j,k,m,l,i)}},onShow:function(){var d=this;if(!d.ariaStaticRoles[d.ariaRole]){d.ariaEl.dom.setAttribute("aria-hidden",false)}d.el.show();d.updateLayout({isRoot:false});if(d.floating){if(d.maximized){d.fitContainer()}else{if(d.constrain){d.doConstrain()}}}},onShowComplete:function(k,i){var h=this,j=h.focusableContainer;if(h.floating){h.onFloatShow()}Ext.callback(k,i||h);h.fireEvent("show",h);if(j){j.onFocusableChildShow(h)}delete h.hiddenByLayout},onShowVeto:Ext.emptyFn,previousNode:function(s,q){var i=this,m=i.ownerCt,t,n,p,r;if(q&&i.is(s)){return i}if(m){for(n=m.items.items,p=Ext.Array.indexOf(n,i)-1;p>-1;p--){r=n[p];if(r.query){t=r.query(s);t=t[t.length-1];if(t){return t}}if(r.is(s)){return r}}return m.previousNode(s,true)}return null},previousSibling:function(l){var j=this.ownerCt,k,m,c;if(j){k=j.items;m=k.indexOf(this);if(m!==-1){if(l){for(--m;m>=0;m--){if((c=k.getAt(m)).is(l)){return c}}}else{if(m){return k.getAt(--m)}}}}return null},registerFloatingItem:function(e){var g=this;if(!g.floatingDescendants){g.floatingDescendants=new Ext.ZIndexManager(g)}g.floatingDescendants.register(e)},removeCls:function(i){var g=this,h=g.rendered?g.el:g.protoEl;h.removeCls.apply(h,arguments);return g},removeClsWithUI:function(w,q){var r=this,s=[],u=0,z=Ext.Array,t=z.remove,v=r.uiCls=z.clone(r.uiCls),x=r.activeUI,y,i;if(typeof w==="string"){w=(w.indexOf(" ")<0)?[w]:Ext.String.splitWords(w)}y=w.length;for(u=0;u<y;u++){i=w[u];if(i&&r.hasUICls(i)){t(v,i);if(x){s=s.concat(r.removeUIClsFromElement(i))}}}if(q!==true&&x){r.removeCls(s)}return s},resumeLayouts:function(e){var g=this;if(!g.rendered){return}if(g.layoutSuspendCount&&!--g.layoutSuspendCount){g.suspendLayout=false;if(e&&!g.isLayoutSuspended()){g.updateLayout(e)}}},scrollBy:function(i,j,h){var k=this.getScrollable();if(k){k.scrollBy(i,j,h)}},scrollTo:function(j,h,i){var k=this.getScrollable();if(k){k.scrollTo(j,h,i)}},setAutoScroll:function(d){this.setScrollable(!!d);return this},setBorder:function(j,h){var i=this,k=!!h;if(i.rendered||k){if(!k){h=i.el}if(!j){j=0}else{if(j===true){j="1px"}else{j=this.unitizeBox(j)}}h.setStyle("border-width",j);if(!k){i.updateLayout()}}i.border=j},setDock:function(g){var h=this,i=h.ownerCt;if(g!==h.dock){if(i&&i.moveDocked){i.moveDocked(h,g)}else{h.dock=g}}return h},setDisabled:function(d){return this[d?"disable":"enable"]()},setFlex:function(d){this.flex=d},setHeight:function(d){return this.setSize(undefined,d)},setLoading:function(i,h){var j=this,k={target:j};if(j.rendered){if(i!==false){if(Ext.isString(i)){k.msg=i}else{Ext.apply(k,i)}if(!j.loadMask||!j.loadMask.isLoadMask){if(h&&k.useTargetEl==null){k.useTargetEl=true}j.loadMask=new Ext.LoadMask(k)}else{Ext.apply(j.loadMask,k)}if(j.loadMask.isVisible()){j.loadMask.syncMaskState()}else{j.loadMask.show()}}else{if(j.loadMask&&j.loadMask.isLoadMask){j.loadMask.hide()}}}return j.loadMask},setMargin:function(g,h){var i=this;if(i.rendered){if(!g&&g!==0){g=""}else{if(g===true){g=5}g=this.unitizeBox(g)}i.margin=g;i.margin$=null;i.getEl().setStyle("margin",g);if(!h){i.updateLayout(i._notAsLayoutRoot)}}else{i.margin=g}},setOverflowXY:function(e,g){this.setScrollable({x:(e&&e!=="hidden")?e:false,y:(g&&g!=="hidden")?g:false});return this},setPagePosition:function(p,j,n){var m=this,l,k;if(Ext.isArray(p)){j=p[1];p=p[0]}m.pageX=p;m.pageY=j;if(m.floating){if(m.isContainedFloater()){k=m.floatParent.getTargetEl().getViewRegion();if(Ext.isNumber(p)&&Ext.isNumber(k.left)){p-=k.left}if(Ext.isNumber(j)&&Ext.isNumber(k.top)){j-=k.top}}else{l=m.el.translateXY(p,j);p=l.x;j=l.y}m.setPosition(p,j,n)}else{l=m.el.translateXY(p,j);m.setPosition(l.x,l.y,n)}return m},setPosition:function(m,i,l){var k=this,j=k.beforeSetPosition.apply(k,arguments);if(j&&k.rendered){m=j.x;i=j.y;if(l){if(m!==k.getLocalX()||i!==k.getLocalY()){k.stopAnimation();k.animate(Ext.apply({duration:1000,listeners:{afteranimate:Ext.Function.bind(k.afterSetPosition,k,[m,i])},to:{left:m,top:i}},l))}}else{k.setLocalXY(m,i);k.afterSetPosition(m,i)}}return k},setScrollX:function(h,g){var i=this.getScrollable();if(i){i.scrollTo(h,null,g)}},setScrollY:function(g,h){var i=this.getScrollable();if(i){i.scrollTo(null,g,h)}},setSize:function(n,r){var m=this,q=m.width,k=m.height,l,p;if(n&&typeof n==="object"){r=n.height;n=n.width}if(typeof n==="number"){m.width=Ext.Number.constrain(n,m.minWidth,m.maxWidth)}else{if(n===null){delete m.width}else{if(typeof n==="string"){l=true;m.width=n}}}if(typeof r==="number"){m.height=Ext.Number.constrain(r,m.minHeight,m.maxHeight)}else{if(r===null){delete m.height}else{if(typeof r==="string"){p=true;m.height=r}}}if(m.rendered&&m.isVisible()){if(q!==m.width||k!==m.height){if(m.liquidLayout||l||p){m.el.setSize(m.width,m.height)}m.updateLayout(m._notAsLayoutRoot)}}return m},setStyle:function(g,h){var i=this.el||this.protoEl;i.setStyle(g,h);return this},setUI:function(k){var l=this,i=l.uiCls,j=l.activeUI,m;if(k===j){return}if(j){m=l.removeClsWithUI(i,true);if(m.length){l.removeCls(m)}l.removeUIFromElement()}else{l.uiCls=[]}l.ui=k;l.activeUI=k;l.addUIToElement();m=l.addClsWithUI(i,true);if(m.length){l.addCls(m)}if(l.rendered){l.updateLayout()}},setVisible:function(d){return this[d?"show":"hide"]()},setHidden:function(d){return this.setVisible(!d)},setWidth:function(d){return this.setSize(d)},show:function(j,m,l){var k=this,i=k.rendered;if(k.hierarchicallyHidden||(k.floating&&!i&&k.isHierarchicallyHidden())){if(!i){k.initHierarchyEvents()}if(arguments.length>1){arguments[0]=null;k.pendingShow=arguments}else{k.pendingShow=true}}else{if(i&&k.isVisible()){if(k.floating){k.onFloatShow()}}else{if(k.fireEvent("beforeshow",k)!==false){k.hidden=false;delete this.getInherited().hidden;Ext.suspendLayouts();if(!i&&(k.autoRender||k.floating)){k.doAutoRender();i=k.rendered}if(i){k.beforeShow();Ext.resumeLayouts();k.onShow.apply(k,arguments);k.afterShow.apply(k,arguments)}else{Ext.resumeLayouts(true)}}else{k.onShowVeto()}}}return k},showAt:function(k,h,j){var i=this;if(!i.rendered&&(i.autoRender||i.floating)){i.x=k;i.y=h;return i.show()}if(i.floating){i.setPosition(k,h,j)}else{i.setPagePosition(k,h,j)}return i.show()},showBy:function(j,h,i){var k=this;if(k.floating&&j){k.alignTarget=j;if(h){k.defaultAlign=h}if(i){k.alignOffset=i}k.show();if(!k.hidden){k.alignTo(j,h||k.defaultAlign,i||k.alignOffset)}}return k},suspendLayouts:function(){var d=this;if(!d.rendered){return}if(++d.layoutSuspendCount===1){d.suspendLayout=true}},unitizeBox:function(d){return Ext.Element.unitizeBox(d)},unmask:function(){(this.getMaskTarget()||this.el).unmask();this.setMasked(false)},unregisterFloatingItem:function(e){var g=this;if(g.floatingDescendants){g.floatingDescendants.unregister(e)}},up:function(n,m){var p=this.getRefOwner(),q=typeof m==="string",k=typeof m==="number",r=m&&m.isComponent,l=0;if(n){for(;p;p=p.getRefOwner()){l++;if(n.isComponent){if(p===n){return p}}else{if(Ext.ComponentQuery.is(p,n)){return p}}if(q&&p.is(m)){return}if(k&&l===m){return}if(r&&p===m){return}}}return p},update:function(w,t,q,y){var r=this,p=(r.tpl&&!Ext.isString(w)),s=r.getScrollable(),x=r.focusableContainer,u,z,v;if(p){r.data=(w&&w.isEntity)?w.getData(true):w}else{r.html=Ext.isObject(w)?Ext.DomHelper.markup(w):w}if(r.rendered){u=r.getSizeModel();z=u.width.shrinkWrap||u.height.shrinkWrap;if(r.isContainer){v=r.layout.getRenderTarget();z=z||r.items.items.length>0}else{v=r.touchScroll?r.getScrollerEl():r.getTargetEl()}if(p){r.tpl[r.tplWriteMode](v,r.data||{})}else{v.setHtml(r.html,t,q,y||r)}if(z){r.updateLayout()}if(s){s.refresh(true)}if(x){x.onFocusableChildUpdate(r)}}},setHtml:function(h,i,g){this.update(h,i,null,g)},applyData:function(d){this.update(d)},updateBox:function(d){this.setSize(d.width,d.height);this.setPagePosition(d.x,d.y);return this},_asLayoutRoot:{isRoot:true},_notAsLayoutRoot:{isRoot:false},updateLayout:function(k){var j=this,i,l=j.lastBox,m=k&&k.isRoot;if(l){l.invalid=true}if(!j.rendered||j.layoutSuspendCount||j.suspendLayout){return}if(j.hidden){Ext.Component.cancelLayout(j)}else{if(typeof m!=="boolean"){m=j.isLayoutRoot()}}if(m||!j.ownerLayout||!j.ownerLayout.onContentChange(j)){if(!j.isLayoutSuspended()){i=(k&&k.hasOwnProperty("defer"))?k.defer:j.deferLayouts;Ext.Component.updateLayout(j,i)}}},updateMaxHeight:function(e,g){this.changeConstraint(e,g,"min","max-height","height")},updateMaxWidth:function(e,g){this.changeConstraint(e,g,"min","max-width","width")},updateMinHeight:function(e,g){this.changeConstraint(e,g,"max","min-height","height")},updateMinWidth:function(g,e){this.changeConstraint(g,e,"max","min-width","width")},getAnchorToXY:function(h,k,i,j){return h.getAnchorXY(k,i,j)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(d){this.el.setLocalX(d)},setLocalXY:function(g,e){this.el.setLocalXY(g,e)},setLocalY:function(d){this.el.setLocalY(d)},setX:function(g,e){this.el.setX(g,e)},setXY:function(e,g){this.el.setXY(e,g)},setY:function(e,g){this.el.setY(e,g)},privates:{addOverCls:function(){var d=this;if(!d.disabled){d.el.addCls(d.overCls)}},addUIToElement:function(){var l=this,p=l.baseCls+"-"+l.ui,m,j,n,k;l.addCls(p);if(l.rendered&&l.frame&&!Ext.supports.CSS3BorderRadius){p+="-";m=l.getChildEls();for(j in m){k=m[j].frame;if(k&&k!==true){n=l[j];if(n){n.addCls(p+k)}}}}},changeConstraint:function(k,p,r,m,q){var l=this,n=l[q];if(k!=null&&typeof n==="number"){l[q]=Math[r](n,k)}if(l.liquidLayout){if(k!=null){l.setStyle(m,k+"px")}else{if(p){l.setStyle(m,"")}}}if(l.rendered){l.updateLayout()}},constructPlugin:function(e){var g=this;if(typeof e==="string"){e=Ext.PluginManager.create({},e,g)}else{e=Ext.PluginManager.create(e,null,g)}return e},constructPlugins:function(){var i=this,k=i.plugins,l,j,m;if(k){l=[];l.processed=true;if(!Ext.isArray(k)){k=[k]}for(j=0,m=k.length;j<m;j++){l[j]=i.constructPlugin(k[j])}}i.pluginsInitialized=true;return l},detachFromBody:function(){Ext.getDetachedBody().appendChild(this.el);Ext.Component.cancelLayout(this);this.isDetached=true},doAddListener:function(C,v,u,s,E,F,B){var w=this,x,z,D,t,A,y;if(Ext.isObject(v)||(s&&s.element)){if(s.element){t=s.element;x={};x[C]=v;if(u){x.scope=u}D=w.$elementEventOptions;for(z in s){if(D[z]){x[z]=s[z]}}}else{x=v;t=C}A=w[t];if(A&&A.isObservable){w.mon(A,x)}else{w.afterRenderEvents=w.afterRenderEvents||{};if(!w.afterRenderEvents[t]){w.afterRenderEvents[t]=[]}w.afterRenderEvents[t].push(x)}return}if(s){y=s.delegate;if(y){w.mixins.componentDelegation.addDelegatedListener.call(w,C,v,u,s,E,F,B);return}}w.mixins.observable.doAddListener.call(w,C,v,u,s,E,F,B)},doRemoveListener:function(k,i,j){var h=this;h.mixins.observable.doRemoveListener.call(h,k,i,j);h.mixins.componentDelegation.removeDelegatedListener.call(h,k,i,j)},fireHierarchyEvent:function(e){var g=Ext.GlobalEvents;if(g.hasListeners[e]){g.fireEvent(e,this)}},getActionEl:function(){return this.el},getAutoId:function(){this.autoGenId=true;return ++Ext.Component.AUTO_ID},getContentTarget:function(){return this.el},getDragEl:function(){return this.el},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var l=this,n=l.getScrollable(),m=l._scrollFlags,p,j,k;if(n){p=n.getX();if(p===true){p="auto"}j=n.getY();if(j===true){j="auto"}k=m[p][j]}else{k=m.none}l.scrollFlags=k;return{overflowX:k.overflowX,overflowY:k.overflowY}},getPlugins:function(){var d=this.plugins;d=(d&&d.processed)?d:this.constructPlugins();return d||null},getProxy:function(){var g=this,e;if(!g.proxy){e=Ext.getBody();g.proxy=g.el.createProxy("x-proxy-el",e,true)}return g.proxy},getScrollerEl:function(){var d=this;return d.scrollerEl||(d.scrollerEl=d.componentLayout.getScrollerEl()||d.getOverflowEl().child(d.scrollerSelector))},getTargetEl:function(){return this.frameBody||this.el},getTdCls:function(){return"x-"+this.getTdType()+"-"+this.ui+"-cell"},getTdType:function(){return this.xtype},getTpl:function(d){return Ext.XTemplate.getTpl(this,d)},initCls:function(){var h=this,i=[h.baseCls],g=h.getComponentLayout().targetCls;if(g){i.push(g)}if(h.componentCls){i.push(h.componentCls)}else{h.componentCls=h.baseCls}return i},initDraggable:function(){var g=this,i=(g.resizer&&g.resizer.el!==g.el)?g.resizerComponent=new Ext.Component({el:g.resizer.el,rendered:true,container:g.container}):g,h=Ext.applyIf({el:i.getDragEl(),constrainTo:(g.constrain||g.draggable.constrain)?(g.constrainTo||(g.floatParent?g.floatParent.getTargetEl():g.container)):undefined},g.draggable);if(g.constrain||g.constrainDelegate){h.constrain=g.constrain;h.constrainDelegate=g.constrainDelegate}g.dd=new Ext.util.ComponentDragger(i,h)},initPadding:function(g){var i=this,h=i.padding;if(h!=null){if(i.touchScroll||(i.layout&&i.layout.managePadding&&i.contentPaddingProperty==="padding")){g.setStyle("padding",0)}else{g.setStyle("padding",this.unitizeBox((h===true)?5:h))}}},initPlugin:function(d){d.init(this);return d},initResizable:function(g){var e=this;g=Ext.apply({target:e,dynamic:false,constrainTo:(e.constrain||(g&&g.constrain))?(e.constrainTo||(e.floatParent?e.floatParent.getTargetEl():e.container)):undefined,handles:e.resizeHandles},g);g.target=e;e.resizer=new Ext.resizer.Resizer(g)},initStyles:function(q){var u=this,w=u.margin,v=u.border,p=u.cls,z=u.style,s=u.x,t=u.y,x=u.liquidLayout,y,r;u.initPadding(q);if(w!=null){q.setStyle("margin",this.unitizeBox((w===true)?5:w))}if(v!=null){u.setBorder(v,q)}if(p&&p!==u.initialCls){q.addCls(p);u.cls=u.initialCls=null}if(z&&z!==u.initialStyle){q.setStyle(z);u.style=u.initialStyle=null}if(s!=null){q.setStyle(u.horizontalPosProp,(typeof s==="number")?(s+"px"):s)}if(t!=null){q.setStyle("top",(typeof t==="number")?(t+"px"):t)}if(!u.ownerCt||u.floating){if(Ext.scopeCss){q.addCls(u.rootCls)}q.addCls(u.borderBoxCls)}if(x||!u.getFrameInfo()){y=u.width;r=u.height;if(y!=null){if(typeof y==="number"){q.setStyle("width",y+"px")}else{q.setStyle("width",y)}}if(r!=null){if(typeof r==="number"){q.setStyle("height",r+"px")}else{q.setStyle("height",r)}}}},isContainedFloater:function(){return(this.floating&&this.floatParent)},isDescendant:function(g){if(g.isContainer){for(var c=this.ownerCt;c;c=c.ownerCt){if(c===g){return true}}}return false},owns:function(h){var i=false,g;if(h.isEvent){h=h.target}else{if(h.isElement){h=h.dom}}g=Ext.Component.fromElement(h);if(g){i=(g===this)||(!!g.up(this))}return i},parseBox:function(d){return Ext.Element.parseBox(d)},reattachToBody:function(){this.isDetached=false},refreshScroll:function(){var d=this.getScrollable();if(d){d.refresh()}},removeManagedListenerItem:function(s,t,l,q,n,p){var m=this,r=t.options?t.options.element:null;if(r){r=m[r];if(r&&r.un){if(s||(t.item===l&&t.ename===q&&(!n||t.fn===n)&&(!p||t.scope===p))){r.un(t.ename,t.fn,t.scope);if(!s){Ext.Array.remove(m.managedListeners,t)}}}}else{return m.mixins.observable.removeManagedListenerItem.apply(m,arguments)}},removeOverCls:function(){this.el.removeCls(this.overCls)},removePlugin:function(d){Ext.Array.remove(this.plugins,d);d.destroy()},removeUIFromElement:function(){var l=this,p=l.baseCls+"-"+l.ui,m,j,n,k;l.removeCls(p);if(l.rendered&&l.frame&&!Ext.supports.CSS3BorderRadius){p+="-";m=l.getChildEls();for(j in m){k=m[j].frame;if(k&&k!==true){n=l[j];if(n){n.removeCls(p+k)}}}}},setComponentLayout:function(e){var g=this.componentLayout;if(g&&g.isLayout&&g!==e){g.setOwner(null)}this.componentLayout=e;e.setOwner(this)},setHiddenState:function(h){var i=this,j=i.getInherited(),k=i.zIndexManager;i.hidden=h;if(h){j.hidden=true}else{delete j.hidden}if(k){k.onComponentShowHide(i)}},setupProtoEl:function(){var d=this.initCls();this.protoEl.addCls(d)},wrapPrimaryEl:function(g){var h=this,i=h.el;if(!i||!i.isElement){h.el=Ext.get(g)}if(h.floating){this.mixins.floating.constructor.call(this)}}},deprecated:{5:{methods:{addClass:"addCls",doComponentLayout:function(){this.updateLayout();return this},removeClass:"removeCls",forceComponentLayout:"updateLayout",setDocked:"setDock"}}}},1,["component","box"],["component","box"],{component:true,box:true},["widget.box","widget.component"],[[Ext.mixin.Inheritable.prototype.mixinId||Ext.mixin.Inheritable.$className,Ext.mixin.Inheritable],[Ext.util.Floating.prototype.mixinId||Ext.util.Floating.$className,Ext.util.Floating],[Ext.util.Positionable.prototype.mixinId||Ext.util.Positionable.$className,Ext.util.Positionable],[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable],[Ext.mixin.ComponentDelegation.prototype.mixinId||Ext.mixin.ComponentDelegation.$className,Ext.mixin.ComponentDelegation],[Ext.mixin.Bindable.prototype.mixinId||Ext.mixin.Bindable.$className,Ext.mixin.Bindable],[Ext.util.Animate.prototype.mixinId||Ext.util.Animate.$className,Ext.util.Animate],[Ext.util.ElementContainer.prototype.mixinId||Ext.util.ElementContainer.$className,Ext.util.ElementContainer],[Ext.util.Renderable.prototype.mixinId||Ext.util.Renderable.$className,Ext.util.Renderable],[Ext.state.Stateful.prototype.mixinId||Ext.state.Stateful.$className,Ext.state.Stateful],[Ext.util.Focusable.prototype.mixinId||Ext.util.Focusable.$className,Ext.util.Focusable],[Ext.mixin.Accessible.prototype.mixinId||Ext.mixin.Accessible.$className,Ext.mixin.Accessible],[Ext.util.KeyboardInteractive.prototype.mixinId||Ext.util.KeyboardInteractive.$className,Ext.util.KeyboardInteractive]],[Ext,"Component",Ext,"AbstractComponent"],function(e){var g=e.prototype;(g.$elementEventOptions=Ext.Object.chain(Ext.Element.prototype.$eventOptions)).element=1;(g.$eventOptions=Ext.Object.chain(g.$eventOptions)).delegate=1;e.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"});Ext.resumeLayouts=function(c){e.resumeLayouts(c)};Ext.suspendLayouts=function(){e.suspendLayouts()};Ext.batchLayouts=function(c,d){e.suspendLayouts();c.call(d);e.resumeLayouts(true)};Ext.setGlyphFontFamily=function(c){Ext._glyphFontFamily=c};e.hierarchyEventSource=g.hierarchyEventSource=Ext.GlobalEvents;Ext.onReady(function(){if(Ext.supports.HighContrastMode){Ext.getBody().addCls(e.ariaHighContrastModeCls)}})}));Ext.define("Ext.layout.container.border.Region",{override:"Ext.Component",initBorderRegion:function(){var d=this;if(!d._borderRegionInited){d._borderRegionInited=true;d.addStateEvents(["changeregion","changeweight"]);Ext.override(d,{getState:function(){var c=d.callParent();c=d.addPropertyToState(c,"region");c=d.addPropertyToState(c,"weight");return c}})}},getOwningBorderContainer:function(){var d=this.getOwningBorderLayout();return d&&d.owner},getOwningBorderLayout:function(){var d=this.ownerLayout;return(d&&d.isBorderLayout)?d:null},setRegion:function(u){var v=this,B,A=v.region;if(u!==A){B=v.getOwningBorderLayout();if(B){var y=B.regionFlags[u],t=v.placeholder,D=v.splitter,C=B.owner,r=B.regionMeta,z=v.collapsed||v.floated,s,w,x;if(v.fireEventArgs("beforechangeregion",[v,u])===false){return A}Ext.suspendLayouts();v.region=u;Ext.apply(v,y);if(v.updateCollapseTool){v.updateCollapseTool()}if(D){Ext.apply(D,y);D.updateOrientation();w=C.items;x=w.indexOf(v);if(x>=0){s=r[u].splitterDelta;if(w.getAt(x+s)!==D){w.remove(D);x=w.indexOf(v);if(s>0){++x}w.insert(x,D)}}}if(t){if(z){v.expand(false)}C.remove(t);v.placeholder=null;if(z){v.collapse(null,false)}}C.updateLayout();Ext.resumeLayouts(true);v.fireEventArgs("changeregion",[v,A])}else{v.region=u}}return A},setWeight:function(j){var k=this,l=k.getOwningBorderContainer(),i=k.placeholder,m=k.weight;if(j!==m){if(k.fireEventArgs("beforechangeweight",[k,j])!==false){k.weight=j;if(i){i.weight=j}if(l){l.updateLayout()}k.fireEventArgs("changeweight",[k,m])}}return m}},function(g){var e=g.prototype;e.setBorderRegion=e.setRegion;e.setRegionWeight=e.setWeight});Ext.define("Ext.theme.neptune.Component",{override:"Ext.Component",initComponent:function(){arguments.callee.$previous.call(this);if(this.dock&&this.border===undefined){this.border=false}},privates:{initStyles:function(){var g=this,h=g.hasOwnProperty("border"),i=g.border;if(g.dock){g.border=null}arguments.callee.$previous.apply(this,arguments);if(h){g.border=i}else{delete g.border}}}},function(){Ext.namespace("Ext.theme.is").Neptune=true;Ext.theme.name="Neptune"});Ext.define("Ext.overrides.app.domain.Component",{override:"Ext.app.domain.Component"},function(d){d.monitor(Ext.Component)});(Ext.cmd.derive("Ext.app.EventBus",Ext.Base,{singleton:true,constructor:function(){var e=this,g=Ext.app.EventDomain.instances;e.callParent();e.domains=g;e.bus=g.component.bus},control:function(e,g){return this.domains.component.listen(e,g)},listen:function(h,j){var k=this.domains,i;for(i in h){if(h.hasOwnProperty(i)){k[i].listen(h[i],j)}}},unlisten:function(g){var i=Ext.app.EventDomain.instances,h;for(h in i){i[h].unlisten(g)}}},1,0,0,0,0,0,[Ext.app,"EventBus"],0));(Ext.cmd.derive("Ext.app.domain.Global",Ext.app.EventDomain,{singleton:true,type:"global",constructor:function(){var d=this;d.callParent();d.monitor(Ext.GlobalEvents)},listen:function(e,g){this.callParent([{global:e},g])},match:Ext.returnTrue},1,0,0,0,0,0,[Ext.app.domain,"Global"],0));(Ext.cmd.derive("Ext.app.BaseController",Ext.Base,{isController:true,config:{id:null,control:null,listen:null,routes:null,before:null},constructor:function(g){var e=this;Ext.apply(e,g);delete e.control;delete e.listen;e.eventbus=Ext.app.EventBus;e.mixins.observable.constructor.call(e,g);e.ensureId()},applyListen:function(d){if(Ext.isObject(d)){d=Ext.clone(d)}return d},applyControl:function(d){if(Ext.isObject(d)){d=Ext.clone(d)}return d},updateControl:function(d){this.ensureId();if(d){this.control(d)}},updateListen:function(d){this.ensureId();if(d){this.listen(d)}},updateRoutes:function(q){if(q){var m=this,l=m.getBefore()||{},r=Ext.app.route.Router,n,p,k;for(n in q){p=q[n];if(Ext.isString(p)){p={action:p}}k=p.action;if(!p.before){p.before=l[k]}r.connect(n,p,m)}}},isActive:function(){return true},control:function(n,m,p){var l=this,k=p,j;if(Ext.isString(n)){j={};j[n]=m}else{j=n;k=m}l.eventbus.control(j,k||l)},listen:function(e,g){this.eventbus.listen(e,g||this)},destroy:function(){var e=this,g=e.eventbus;Ext.app.route.Router.disconnectAll(e);if(g){g.unlisten(e);e.eventbus=null}e.callParent()},redirectTo:function(h,g){if(h.isModel){h=h.toUrl()}if(!g){var i=Ext.util.History.getToken();if(i===h){return false}}else{Ext.app.route.Router.onStateChange(h)}Ext.util.History.add(h);return true}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.app,"BaseController"],0));(Ext.cmd.derive("Ext.app.Util",Ext.Base,{},0,0,0,0,0,0,[Ext.app,"Util"],function(){Ext.apply(Ext.app,{namespaces:{Ext:{}},addNamespaces:function(i){var h=Ext.app.namespaces,j,k;if(!Ext.isArray(i)){i=[i]}for(j=0,k=i.length;j<k;j++){h[i[j]]=true}},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(j){var h=Ext.apply({},Ext.ClassManager.paths,Ext.app.namespaces),k="",i;for(i in h){if(h.hasOwnProperty(i)&&i.length>k.length&&(i+"."===j.substring(0,i.length+1))){k=i}}return k===""?undefined:k},setupPaths:function(m,l,i){var j=Ext.manifest,k;if(m&&l!==null){j=j&&j.paths;if(!j||l!==undefined){Ext.Loader.setPath(m,(l===undefined)?"app":l)}}if(i){for(k in i){if(i.hasOwnProperty(k)){Ext.Loader.setPath(k,i[k])}}}}});Ext.getNamespace=Ext.app.getNamespace}));(Ext.cmd.derive("Ext.util.CollectionKey",Ext.Base,{isCollectionKey:true,observerPriority:-200,config:{collection:null,keyFn:null,property:null,rootProperty:null,unique:true},generation:0,map:null,mapRebuilds:0,constructor:function(d){this.initConfig(d)},get:function(g){var e=this.map||this.getMap();return e[g]||null},clear:function(){this.map=null},getRootProperty:function(){var e=this,g=(arguments.callee.$previous||Ext.Base.prototype.getRootProperty).call(this);return g!==null?g:e.getCollection().getRootProperty()},indexOf:function(n,t){var x=this.map||this.getMap(),i=x[n],s=this.getCollection(),w=s.length,u,r,q,v;if(!i){return -1}if(t===undefined){t=-1}if(i instanceof Array){q=i;r=w;for(v=q.length;v-->0;){u=s.indexOf(q[v]);if(u<r&&u>t){r=u}}if(r===w){return -1}}else{r=s.indexOf(i)}return(r>t)?r:-1},updateKey:function(m,k){var n=this,l=n.map,j,p;if(l){j=l[k];if(j instanceof Array){p=Ext.Array.indexOf(j,m);if(p>=0){if(j.length>2){j.splice(p,1)}else{l[k]=j[1-p]}}}else{if(j){delete l[k]}}n.add([m])}},onCollectionAdd:function(e,g){if(this.map){this.add(g.items)}},onCollectionItemChange:function(e,g){this.map=null},onCollectionRefresh:function(){this.map=null},onCollectionRemove:function(r,s){var p=this,v=p.map,q=s.items,u=q.length,t,i,n;if(v){if(p.getUnique()&&u<r.length/2){for(t=0;t<u;++t){n=p.getKey(i=q[t]);delete v[n]}}else{p.map=null}}},add:function(q){var p=this,v=p.map,u,r,i,n,t,s;t=q.length;s=p.getUnique();for(r=0;r<t;++r){n=p.getKey(i=q[r]);if(s||!(n in v)){v[n]=i}else{if(!((u=v[n]) instanceof Array)){v[n]=u=[u]}u.push(i)}}},applyKeyFn:function(d){if(Ext.isString(d)){this.getKey=function(c){return c[d]()}}else{this.getKey=d}},updateProperty:function(e){var g=this.getRootProperty();this.getKey=function(c){return(g?c[g]:c)[e]}},getMap:function(){var g=this,e=g.map;if(!e){g.map=e={};g.keysByItemKey={};++g.mapRebuilds;g.add(g.getCollection().items)}return e},updateCollection:function(d){d.addObserver(this)},clone:function(){return new Ext.util.CollectionKey(this.getCurrentConfig())}},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.util,"CollectionKey"],0));(Ext.cmd.derive("Ext.util.Grouper",Ext.util.Sorter,{isGrouper:true,config:{groupFn:null,sortProperty:null},constructor:function(d){Ext.util.Sorter.prototype.constructor.apply(this,arguments)},getGroupString:function(g){var e=this._groupFn(g);return(e!=null)?String(e):""},sortFn:function(s,t){var q=this,u=q._groupFn(s),r=q._groupFn(t),m=q._sortProperty,n=q._root,p=q._sorterFn,v=q._transform;if(u===r){return 0}if(m||p){if(p){return p.call(this,s,t)}if(n){s=s[n];t=t[n]}u=s[m];r=t[m];if(v){u=v(u);r=v(r)}}return(u>r)?1:(u<r?-1:0)},standardGroupFn:function(e){var g=this._root;return(g?e[g]:e)[this._property]},updateSorterFn:function(){},updateProperty:function(){if(!this.getGroupFn()){this.setGroupFn(this.standardGroupFn)}}},1,0,0,0,0,0,[Ext.util,"Grouper"],0));(Ext.cmd.derive("Ext.util.Collection",Ext.Base,{isCollection:true,config:{autoFilter:true,autoSort:true,autoGroup:true,decoder:null,extraKeys:null,filters:null,grouper:null,groups:null,rootProperty:null,sorters:null,multiSortLimit:3,defaultSortDirection:"ASC",source:null,trackGroups:true},generation:0,indices:null,indexRebuilds:0,updating:0,grouped:false,sorted:false,filtered:false,$endUpdatePriority:1001,constructor:function(g){var e=this;e.items=[];e.map={};e.length=0;if(g&&g.keyFn){e.getKey=g.keyFn}e.mixins.observable.constructor.call(e,g)},destroy:function(){var i=this,j=i._filters,h=i._sorters,k=i._groups;if(j){j.destroy();i._filters=null}if(h){h.destroy();i._sorters=null}if(k){k.destroy();i._groups=null}i.setSource(null);i.observers=i.items=i.map=null;i.callParent()},add:function(h){var i=this,k=i.decodeItems(arguments,0),j=k;if(k.length){i.requestedIndex=i.length;i.splice(i.length,0,k);delete i.requestedIndex;j=(k.length===1)?k[0]:k}return j},replaceAll:function(){var g=this,h,i;i=g.decodeItems(arguments,0);h=i;if(i.length){g.splice(0,g.length,i);h=(i.length===1)?i[0]:i}else{g.removeAll()}return h},aggregate:function(k,q,m,r,n){var l=this,p=Ext.Array.slice(arguments);p.unshift(l.items);return l.aggregateItems.apply(l,p)},aggregateByGroup:function(h,j,i){var k=this.getGroups();return this.aggregateGroups(k,h,j,i)},aggregateItems:function(x,H,C,F,B,G){var w=this,y=Ext.Number.clipIndices(x.length,[F,B]),E=(F!==0&&B!==x.length),z,A,D,j,J,I,i;F=y[0];B=y[1];if(!Ext.isFunction(C)){C=w._aggregators[C];return C.call(w,x,F,B,H,w.getRootProperty())}j=w.getRootProperty();I=new Array(D);i=E?new Array(D):x;for(z=F,A=0;z<B;++z,A++){if(E){i[A]=J=x[z]}I[A]=(j?J[j]:J)[H]}return C.call(G||w,x,I,0)},aggregateGroups:function(z,r,x,q){var t=z.items,u=t.length,y=!Ext.isFunction(x),w={},v,s,i;for(v=0;v<u;++v){s=t[v];if(!y){i=this.aggregateItems(s.items,r,x,null,null,q)}else{i=s[x](r)}w[s.getGroupKey()]=i}return w},beginUpdate:function(){if(!this.updating++){this.notify("beginupdate")}},clear:function(){var k=this,j=k.generation,m=j?k.items:[],l,i;if(j){k.items=[];k.length=0;k.map={};k.indices={};k.generation++;l=k.getExtraKeys();if(l){for(i in l){l[i].clear()}}}return m},clone:function(){var g=this,e=new g.self(g.initialConfig);e.add(g.items);return e},collect:function(i,s,q){var t=this.items,w=t.length,x={},u=[],v,r,p;for(v=0;v<w;++v){p=t[v];p=(s?p[s]:p)[i];r=String(p);if((q||!Ext.isEmpty(p))&&!x[r]){x[r]=1;u.push(p)}}return u},contains:function(g){var i=false,h;if(g!=null){h=this.getKey(g);i=this.map[h]===g}return i},containsKey:function(d){return d in this.map},createFiltered:function(i,t,A,w,B){var x=this,z=new x.self(x.initialConfig),u=x.getRootProperty(),y=x.items,D,C,E,v,F;if(Ext.isFunction(i)){v=i;F=t}else{if(Ext.isString(i)){E=[new Ext.util.Filter({property:i,value:t,root:u,anyMatch:A,caseSensitive:w,exactMatch:B})]}else{if(i instanceof Ext.util.Filter){E=[i];i.setRoot(u)}else{if(Ext.isArray(i)){E=i.slice(0);for(C=0,D=E.length;C<D;++C){E[C].setRoot(u)}}}}v=Ext.util.Filter.createFilterFn(E)}F=F||x;for(C=0,D=y.length;C<D;C++){if(v.call(F,y[C])){z.add(y[C])}}return z},filterBy:function(e,g){return this.createFiltered(e,g)},each:function(i,k){var n=this.items,p=n.length,l,m;if(p){k=k||this;n=n.slice(0);for(l=0;l<p;l++){m=i.call(k,n[l],l,p);if(m===false){break}}}return m},eachKey:function(q,i){var r=this,s=r.items,u=s.length,v,n,p,t;if(u){i=i||r;s=s.slice(0);for(v=0;v<u;v++){p=r.getKey(n=s[v]);t=q.call(i,p,n,v,u);if(t===false){break}}}return t},endUpdate:function(){if(!--this.updating){this.notify("endupdate")}},find:function(m,n,l,q,r,s){if(Ext.isEmpty(n,false)){return null}var p=Ext.String.createRegex(n,q,r,s),t=this.getRootProperty();return this.findBy(function(c){return c&&p.test((t?c[t]:c)[m])},null,l)},findBy:function(q,i,v){var r=this,s=r.items,t=s.length,u,n,p;i=i||r;for(u=v||0;u<t;u++){p=r.getKey(n=s[u]);if(q.call(i,n,p)){return s[u]}}return null},findIndex:function(l,m,k,p,q,r){var n=this.find(l,m,k,p,q,r);return n?this.indexOf(n):-1},findIndexBy:function(j,k,h){var i=this.findBy(j,k,h);return i?this.indexOf(i):-1},first:function(e){var g=e?this.getGroups():undefined;return g?this.aggregateGroups(g,null,"first"):this.items[0]},last:function(e){var g=e?this.getGroups():undefined;return g?this.aggregateGroups(g,null,"last"):this.items[this.length-1]},get:function(d){return this.map[d]},getAt:function(d){return this.items[d]},getByKey:function(d){return this.map[d]},getCount:function(){return this.length},getKey:function(g){var e=g.id;return(e===0||e)?e:((e=g._id)===0||e)?e:g.getId()},getRange:function(j,m){var k=this.items,i=k.length,l;if(!i){l=[]}else{l=Ext.Number.clipIndices(i,[j,m]);l=k.slice(l[0],l[1])}return l},getValues:function(i,p,v,u){var q=this.items,s=Ext.Number.clipIndices(q.length,[v,u]),r=[],t,n;for(t=s[0],u=s[1];t<u;++t){n=q[t];n=(p?n[p]:n)[i];r.push(n)}return r},indexOf:function(e){if(!e){return -1}var g=this.getKey(e);return this.indexOfKey(g)},indexOfKey:function(i){var h=this,g=h.indices;if(i in h.map){if(!g){g=h.getIndices()}return g[i]}return -1},insert:function(k,i){var j=this,m=j.decodeItems(arguments,1),l=m;if(m.length){j.requestedIndex=k;j.splice(k,0,m);delete j.requestedIndex;l=(m.length===1)?m[0]:m}return l},itemChanged:function(C,O,K,J){var B=this,T=K===0||!!K,N=B.filtered&&B.getAutoFilter(),R=false,S=0,H=B.items,L=B.length-1,V=B.sorted&&L>0&&B.getAutoSort(),F=B.getSource(),G=0,M=false,I=false,D,E,Q,A,P,U;if(F&&!F.updating){F.itemChanged(C,O,K,J)}else{E=B.getKey(C);if(N){P=B.indexOfKey(T?K:E);I=(P<0);M=B.isItemFiltered(C);R=(I!==M)}if(R){if(M){G=[C];U=-1}else{A=[C];U=B.length}}else{if(V&&!M){if(!N){P=B.indexOfKey(T?K:E)}Q=B.getSortFn();if(P!==-1){if(P&&Q(H[P-1],H[P])>0){S=-1;U=Ext.Array.binarySearch(H,C,0,P,Q)}else{if(P<L&&Q(H[P],H[P+1])>0){S=1;U=Ext.Array.binarySearch(H,C,P+1,Q)}}if(S){A=[C]}}}}D={item:C,key:E,index:U,filterChanged:R,keyChanged:T,indexChanged:!!S,filtered:M,oldIndex:P,newIndex:U,wasFiltered:I,meta:J};if(T){D.oldKey=K}if(O){D.modified=O}B.beginUpdate();B.notify("beforeitemchange",[D]);if(T){B.updateKey(C,K)}if(A||G){B.splice(U,G,A)}if(S>0){D.newIndex--}else{if(S<0){D.oldIndex++}}B.notify(M?"filtereditemchange":"itemchange",[D]);B.endUpdate()}},remove:function(h){var i=this,k=i.decodeRemoveItems(arguments,0),j=i.length;i.splice(0,k);return j-i.length},removeAll:function(){var e=this,g=e.length;if(e.generation&&g){e.splice(0,g)}return e},removeAt:function(q,r){var p=this,w=p.length,t=Ext.Number,u=t.clipIndices(w,[q,(r===undefined)?1:r],t.Clip.COUNT),v=u[0],x=u[1]-v,n=(x===1)&&p.getAt(v),s;p.splice(v,x);s=p.length-w;return(n&&s)?n:s},removeByKey:function(g){var e=this.getByKey(g);if(!e||!this.remove(e)){return false}return e},replace:function(e){var g=this.indexOf(e);if(g===-1){this.add(e)}else{this.insert(g,e)}},splice:function(ab,ar,ad){var at=this,az=at.sorted&&at.getAutoSort(),af=at.map,an=at.items,ap=at.length,aj=(ar instanceof Array)?at.decodeRemoveItems(ar):null,ai=!aj,aa=Ext.Number,ay=aa.clipIndices(ap,[ab,ai?ar:0],aa.Clip.COUNT),aw=ay[0],au=ay[1],U=au-aw,al=at.decodeItems(arguments,2),V=al?al.length:0,ac,ah,ak,aA=aw,aB=at.indices||((V||aj)?at.getIndices():null),ao=null,av=U?[aw]:null,ax=null,am=at.getSource(),aC,Y,X,n,ae,Z,T,aq,ag,W,i,k,au;if(am&&!am.updating){if(ai){aj=[];for(n=0;n<U;++n){aj.push(an[aw+n])}}if(aw<ap){n=am.indexOf(an[aw])}else{n=am.length}am.splice(n,aj,al);return at}if(V){ac=al;ax=[];ah={};if(az){k=at.getSorters();if(V>1){if(!ac.$cloned){al=ac=ac.slice(0)}at.sortData(ac)}}for(n=0;n<V;++n){aq=at.getKey(ae=al[n]);if((T=ah[aq])!==undefined){(i||(i={}))[T]=1}else{Z=aB[aq];if(Z<aw||au<=Z){(av||(av=[])).push(Z)}}ah[aq]=n;ax.push(aq)}if(i){ag=ax;ac=[];ax=[];ac.$cloned=true;for(n=0;n<V;++n){if(!i[n]){ae=al[n];ac.push(ae);ax.push(ag[n])}}V=ac.length}ao={items:ac,keys:ax}}for(n=aj?aj.length:0;n-->0;){aq=at.getKey(aj[n]);if((Z=aB[aq])!==undefined){(av||(av=[])).push(Z)}}if(!ao&&!av){return at}at.beginUpdate();if(av){aC=null;X=[];ak={};if(av.length>1){av.sort(Ext.Array.numericSortFn)}for(n=0,W=av.length;n<W;++n){aq=at.getKey(ae=an[Z=av[n]]);if(!(aq in af)){continue}delete af[aq];if(!aC||Z>(aC.at+Y.length)){X.push(aC={at:Z,items:(Y=[]),keys:(ag=[]),map:ak,next:aC,replacement:ao});if(ao){ao.replaced=aC}}Y.push(ak[aq]=ae);ag.push(aq);if(Z<aA){--aA}if(U>1&&Z===aw){--U;av[n--]=++aw}}if(ao){ao.at=aA}for(T=X.length;T-->0;){aC=X[T];n=aC.at;W=aC.items.length;if(n+W<ap){at.indices=aB=null}at.length=ap-=W;an.splice(n,W);if(aB){ag=aC.keys;for(n=0;n<W;++n){delete aB[ag[n]]}}++at.generation;at.notify("remove",[aC])}}if(ao){if(az&&V>1&&ap){at.spliceMerge(ac,ax)}else{if(az){if(V>1){aA=0;at.indices=aB=null}else{aA=k.findInsertionIndex(ao.items[0],an,at.getSortFn())}}if(aA===ap){au=aA;for(n=ac.length-1;n>=0;--n){an[au+n]=ac[n]}aB=at.indices;if(aB){for(n=0;n<V;++n){aB[ax[n]]=aA+n}}}else{at.indices=null;Ext.Array.insert(an,aA,ac)}for(n=0;n<V;++n){af[ax[n]]=ac[n]}at.length+=V;ao.at=aA;ao.atItem=aA===0?null:an[aA-1];++at.generation;at.notify("add",[ao])}}at.endUpdate();return at},update:function(j,k){var i=this;i.beginUpdate();try{return j.call(k||i,i)}catch(e){throw e}finally{i.endUpdate()}},updateKey:function(q,m){var r=this,n=r.map,k=r.indices,p=r.getSource(),l;if(p&&!p.updating){p.updateKey(q,m)}else{if((l=r.getKey(q))!==m){if(n[m]===q&&!(l in n)){delete n[m];r.updating++;r.generation++;n[l]=q;if(k){k[l]=k[m];delete k[m]}r.notify("updatekey",[{item:q,newKey:l,oldKey:m}]);r.updating--}}}},findInsertIndex:function(l){var k=this.getSource(),i=k.items,n=k.indexOf(l)-1,m,p;while(n>-1){m=i[n];p=this.indexOf(m);if(p>-1){return p+1}--n}return 0},onCollectionAdd:function(B,A){var s=this,i=A.atItem,t=A.items,w=s.requestedIndex,u,v,z,x,n,y;if(!s.sorted){if(w!==undefined){v=w}else{if(i){v=s.indexOf(i);if(v===-1){v=s.findInsertIndex(t[0])}else{++v}}else{v=0}}}if(s.getAutoFilter()&&s.filtered){for(x=0,y=t.length;x<y;++x){n=t[x];if(s.isItemFiltered(n)){if(!z){z=t.slice(0,x)}if(!u){u=[]}u.push(n)}else{if(z){z.push(n)}}}}s.splice((v<0)?s.length:v,0,z||t);if(u){s.notify("filteradd",[u])}},onCollectionBeforeItemChange:function(e,g){this.onCollectionUpdateKey=null},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(e,g){delete this.onCollectionUpdateKey;this.itemChanged(g.item,g.modified,g.oldKey,g.meta)},onCollectionFilteredItemChange:null,onCollectionRefresh:function(v){var q=this,u={},n={},s,i,r,p,t;r=v.items;r=q.filtered&&q.getAutoFilter()?Ext.Array.filter(r,q.getFilterFn()):r.slice(0);if(q.sorted){q.sortData(r)}q.items=r;q.length=t=r.length;q.map=u;q.indices=n;for(s=0;s<t;++s){p=q.getKey(i=r[s]);u[p]=i;n[p]=s}q.notify("refresh")},onCollectionRemove:function(e,g){this.splice(0,g.items)},onCollectionUpdateKey:function(e,g){this.updateKey(g.item,g.oldKey)},_aggregators:{average:function(m,l,n,k,p){var j=n-l;return j&&this._aggregators.sum.call(this,m,l,n,k,p)/j},bounds:function(r,v,u,i,q){for(var n,p,t,s=v;s<u;++s){n=r[s];n=(q?n[q]:n)[i];if(!(n<p)){p=n}if(!(n>t)){t=n}}return[t,p]},count:function(d){return d.length},extremes:function(w,B,z,r,t){var v=null,A=null,x,i,u,y,s;for(x=B;x<z;++x){i=w[x];s=(t?i[t]:i)[r];if(!(s<u)){u=s;v=i}if(!(s>y)){y=s;A=i}}return[A,v]},max:function(l,k,m,j,n){var p=this._aggregators.bounds.call(this,l,k,m,j,n);return p[1]},maxItem:function(l,k,m,j,n){var p=this._aggregators.extremes.call(this,l,k,m,j,n);return p[1]},min:function(l,k,m,j,n){var p=this._aggregators.bounds.call(this,l,k,m,j,n);return p[0]},minItem:function(l,k,m,j,n){var p=this._aggregators.extremes.call(this,l,k,m,j,n);return p[0]},sum:function(r,n,s,i,t){for(var m,p=0,q=n;q<s;++q){m=r[q];m=(t?m[t]:m)[i];p+=m}return p}},_eventToMethodMap:{add:"onCollectionAdd",beforeitemchange:"onCollectionBeforeItemChange",beginupdate:"onCollectionBeginUpdate",endupdate:"onCollectionEndUpdate",itemchange:"onCollectionItemChange",filtereditemchange:"onCollectionFilteredItemChange",refresh:"onCollectionRefresh",remove:"onCollectionRemove",beforesort:"beforeCollectionSort",sort:"onCollectionSort",filter:"onCollectionFilter",filteradd:"onCollectionFilterAdd",updatekey:"onCollectionUpdateKey"},addObserver:function(i){var h=this,g=h.observers;if(!g){h.observers=g=[]}g.push(i);if(g.length>1){Ext.Array.sort(g,h.prioritySortFn)}},prioritySortFn:function(h,i){var j=h.observerPriority||0,k=i.observerPriority||0;return j-k},applyExtraKeys:function(m,r){var l=this,n=r||{},p,q,k;for(q in m){k=m[q];if(!k.isCollectionKey){p={collection:l};if(Ext.isString(k)){p.property=k}else{p=Ext.apply(p,k)}k=new Ext.util.CollectionKey(p)}else{k.setCollection(l)}n[q]=l[q]=k;k.name=q}return n},applyGrouper:function(d){if(d){d=this.getSorters().decodeSorter(d,"Ext.util.Grouper")}return d},decodeItems:function(n,p){var l=this,q=(p===undefined)?n:n[p],r,i,m;if(!q||!q.$cloned){r=n.length>p+1||!Ext.isIterable(q);if(r){q=Ext.Array.slice(n,p);if(q.length===1&&q[0]===undefined){q.length=0}}i=l.getDecoder();if(i){if(!r){q=q.slice(0);r=true}for(m=q.length;m-->0;){if((q[m]=i.call(l,q[m]))===false){q.splice(m,1)}}}if(r){q.$cloned=true}}return q},getIndices:function(){var l=this,k=l.indices,p=l.items,i=p.length,m,n;if(!k){l.indices=k={};++l.indexRebuilds;for(m=0;m<i;++m){n=l.getKey(p[m]);k[n]=m}}return k},notify:function(u,r){var q=this,v=q.observers,n=q._eventToMethodMap[u],p=0,t,w,x,s;r=r||[];if(v&&n){for(t=0,w=v.length;t<w;++t){x=(s=v[t])[n];if(x){if(!p++){r.unshift(q)}x.apply(s,r)}}}if(!q.hasListeners){return}if(q.hasListeners[u]){if(!p){r.unshift(q)}q.fireEventArgs(u,r)}},getFilterFn:function(){return this.getFilters().getFilterFn()},getFilters:function(e){var g=this._filters;if(!g&&e!==false){g=new Ext.util.FilterCollection();this.setFilters(g)}return g},isItemFiltered:function(d){return !this.getFilters().filterFn(d)},onFilterChange:function(k){var l=this,j=l.getSource(),m,n,p;if(!j){m=l.getExtraKeys();if(m){n={};for(p in m){n[p]=m[p].clone(l)}}j=new Ext.util.Collection({keyFn:l.getKey,extraKeys:n,rootProperty:l.getRootProperty()});if(l.length){j.add(l.items)}l.setSource(j);l.autoSource=j}else{if(j.length||l.length){l.onCollectionRefresh(j)}}l.notify("filter")},applyFilters:function(g,e){if(g==null||(g&&g.isFilterCollection)){return g}if(g){if(!e){e=this.getFilters()}e.splice(0,e.length,g)}return e},updateFilters:function(i,h){var g=this;if(h){h.un("endupdate","onEndUpdateFilters",g)}if(i){i.on({endupdate:"onEndUpdateFilters",scope:g,priority:g.$endUpdatePriority});i.$filterable=g}g.onEndUpdateFilters(i)},onEndUpdateFilters:function(i){var j=this,h=j.filtered,k=!!i&&(i.length>0);if(h||k){j.filtered=k;j.onFilterChange(i)}},getSortFn:function(){return this._sortFn||this.createSortFn()},getSorters:function(e){var g=this._sorters;if(!g&&e!==false){g=new Ext.util.SorterCollection();this.setSorters(g)}return g},onSortChange:function(){if(this.sorted){this.sortItems()}},sort:function(k,i,h){var j=this.getSorters();j.addSort.apply(j,arguments);return this},sortData:function(d){Ext.Array.sort(d,this.getSortFn());return d},sortItems:function(e){var g=this;if(g.sorted){e=g.getSortFn()}g.indices=null;g.notify("beforesort",[g.getSorters(false)]);if(g.length){Ext.Array.sort(g.items,e)}g.notify("sort")},sortBy:function(d){return this.sortItems(d)},findInsertionIndex:function(g,i,h){if(!i){i=this.items}if(!h){h=this.getSortFn()}return Ext.Array.binarySearch(i,g,h)},applySorters:function(g,e){if(g==null||(g&&g.isSorterCollection)){return g}if(g){if(!e){e=this.getSorters()}e.splice(0,e.length,g)}return e},createSortFn:function(){var i=this,k=i.getGrouper(),h=i.getSorters(false),j=h?h.getSortFn():null;if(!k){return j}return function(e,c){var d=k.sort(e,c);if(!d&&j){d=j(e,c)}return d}},updateGrouper:function(l){var k=this,m=k.getGroups(),i=k.getSorters(),j;k.onSorterChange();k.grouped=!!l;if(l){if(k.getTrackGroups()){if(!m){m=new Ext.util.GroupCollection({itemRoot:k.getRootProperty()});m.$groupable=k;k.setGroups(m)}m.setGrouper(l);j=true}}else{if(m){k.removeObserver(m);m.destroy()}k.setGroups(null)}if(!i.updating){k.onEndUpdateSorters(i)}if(j){m.onCollectionRefresh(k)}},updateSorters:function(i,h){var g=this;if(h){h.un("endupdate","onEndUpdateSorters",g)}if(i){i.on({endupdate:"onEndUpdateSorters",scope:g,priority:g.$endUpdatePriority});i.$sortable=g}g.onSorterChange();g.onEndUpdateSorters(i)},onSorterChange:function(){this._sortFn=null},onEndUpdateSorters:function(i){var j=this,h=j.sorted,k=(j.grouped&&j.getAutoGroup())||(i&&i.length>0);if(h||k){j.sorted=!!k;j.onSortChange(i)}},removeObserver:function(g){var e=this.observers;if(e){Ext.Array.remove(e,g)}},spliceMerge:function(F,x){var y=this,z=y.map,I=F.length,L=0,E=y.items,i=E.length,G=[],H=0,C=[],K=y.getSortFn(),D,M,B,J,A,N;y.items=C;for(N=0;N<I;N=M){J=F[N];for(;L<i;++L){if(K(J,A=E[L])<0){break}C.push(A)}if(L===i){G[H++]={at:C.length,itemAt:C[C.length-1],items:(D=[])};if(H>1){G[H-2].next=G[H-1]}for(;N<I;++N){D.push(J=F[N]);C.push(J)}break}G[H++]={at:C.length,itemAt:C[C.length-1],items:(D=[J])};if(H>1){G[H-2].next=G[H-1]}C.push(J);for(M=N+1;M<I;++M){if(K(J=F[M],A)>=0){break}C.push(J);D.push(J)}}for(;L<i;++L){C.push(E[L])}for(B=0;B<I;++B){z[x[B]]=F[B]}y.length=C.length;++y.generation;y.indices=null;for(B=0;B<H;++B){y.notify("add",[G[B]])}},getGroups:function(){return(arguments.callee.$previous||Ext.Base.prototype.getGroups).call(this)||null},updateAutoGroup:function(e){var g=this.getGroups();if(g){g.setAutoGroup(e)}this.onEndUpdateSorters(this._sorters)},updateGroups:function(g,e){if(e){this.removeObserver(e)}if(g){this.addObserver(g)}},updateSource:function(h,i){var g=this.autoSource;if(i){i.removeObserver(this);if(i===g){g.destroy();this.autoSource=null}}if(h){h.addObserver(this);if(h.length||this.length){this.onCollectionRefresh(h)}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,"Collection"],function(){var d=this.prototype;d.removeAtKey=d.removeByKey;d.decodeRemoveItems=d.decodeItems;Ext.Object.each(d._aggregators,function(c){d[c]=function(i,j,k){return this.aggregate(i,c,j,k)};d[c+"ByGroup"]=function(g){return this.aggregateByGroup(g,c)}})}));(Ext.cmd.derive("Ext.util.ObjectTemplate",Ext.Base,{isObjectTemplate:true,excludeProperties:{},valueRe:/^[{][a-z\.]+[}]$/i,statics:{create:function(e,g){return e.isObjectTemplate?e:new Ext.util.ObjectTemplate(e,g)}},constructor:function(e,g){Ext.apply(this,g);this.template=e},apply:function(g){var e=this;delete e.apply;e.apply=e.compile(e.template);return e.apply(g)},privates:{compile:function(m){var l=this,q=l.excludeProperties,i,p,r,n;if(Ext.isString(m)){if(m.indexOf("{")<0){n=function(){return m}}else{if(l.valueRe.test(m)){m=m.substring(1,m.length-1).split(".");n=function(e){for(var d=e,c=0;d&&c<m.length;++c){d=d[m[c]]}return d}}else{m=new Ext.XTemplate(m);n=function(c){return m.apply(c)}}}}else{if(!m||Ext.isPrimitive(m)||Ext.isFunction(m)){n=function(){return m}}else{if(m instanceof Array){i=[];for(p=0,r=m.length;p<r;++p){i[p]=l.compile(m[p])}n=function(e){var d=[],c;for(c=0;c<r;++c){d[c]=i[c](e)}return d}}else{i={};for(p in m){if(!q[p]){i[p]=l.compile(m[p])}}n=function(e){var c={},g,d;for(g in m){d=q[g]?m[g]:i[g](e);if(d!==undefined){c[g]=d}}return c}}}}return n}}},1,0,0,0,0,0,[Ext.util,"ObjectTemplate"],0));(Ext.cmd.derive("Ext.data.schema.Role",Ext.Base,{isRole:true,left:true,owner:false,side:"left",isMany:false,defaultReaderType:"json",_internalReadOptions:{recordsOnly:true,asRoot:true},constructor:function(j,i){var h=this,k=i.extra;Ext.apply(h,i);if(k){delete k.type;Ext.apply(h,k);delete h.extra}h.association=j;if(j.owner===h.side){j.owner=h;h.owner=true}},processUpdate:function(){Ext.raise('Only the "many" for an association may be processed. "'+this.role+'" is not valid.')},processLoad:function(j,i,k,h){return k},checkMembership:Ext.emptyFn,adoptAssociated:function(h,g){var i=this.getAssociatedItem(h);if(i){g.adopt(i)}},createAssociationStore:function(w,r,x,q){var u=this,y=u.association,v=y.getFieldName(),t=y.isManyToMany,A=u.storeConfig,B=r.getId(),z={asynchronousLoad:false,model:u.cls,role:u,session:w,associatedEntity:r,disableMetaChangeEvent:true,pageSize:null,remoteFilter:true,trackRemoved:!w},s;if(t){z.filters=[{property:u.inverse.field,value:B,exactMatch:true}]}else{if(v){z.filters=[{property:v,value:B,exactMatch:true}];z.foreignKeyName=v}}if(A){Ext.apply(z,A)}s=Ext.Factory.store(z);u.onStoreCreate(s,w,B);if(v||(t&&w)){s.on({scope:u,add:"onAddToMany",remove:"onRemoveFromMany",clear:"onRemoveFromMany"})}if(x){s.loadData(x);s.complete=!!q}return s},onStoreCreate:Ext.emptyFn,getAssociatedStore:function(E,M,Q,C,A){var i=this,G=i.getStoreName(),L=E[G],R=E.session,I=M&&M.reload,F=E.$source,K=false,P,O,D,B,H,J,N,z;if(!L){if(R){if(!C&&F){F=F[G];if(F&&!F.isLoading()){N=F;C=[];H=F.getData().items;for(D=0,B=H.length;D<B;++D){J=H[D];C.push(R.getRecord(J.self,J.id))}K=!!F.complete;P=true}}if(!P){z=!!C;C=i.findRecords(R,E,C,A);if(!z&&(!C||!C.length)){C=null}K=z}}else{K=!!(C&&C.length>0)}L=i.createAssociationStore(R,E,C,K);L.$source=N;if(!C&&(i.autoLoad||M)){I=true}E[G]=L}if(M){if(I||L.isLoading()){L.on("load",function(c,e,g,d){O=[c,d];Q=Q||M.scope||E;if(g){Ext.callback(M.success,Q,O)}else{Ext.callback(M.failure,Q,O)}O.push(g);Ext.callback(M,Q,O);Ext.callback(M.callback,Q,O)},null,{single:true})}else{O=[L,null];Q=Q||M.scope||E;Ext.callback(M.success,Q,O);O.push(true);Ext.callback(M,Q,O);Ext.callback(M.callback,Q,O)}}if(I&&!L.isLoading()){L.load()}return L},getAssociatedItem:function(e){var g=this.isMany?this.getStoreName():this.getInstanceName();return e[g]||null},onDrop:Ext.emptyFn,getReaderRoot:function(){var d=this;return d.associationKey||(d.associationKey=d.association.schema.getNamer().readerRoot(d.role))},getReader:function(){var k=this,m=k.reader,j=k.cls,i=!k.associationKey,l=this.getReaderRoot();if(m&&!m.isReader){if(Ext.isString(m)){m={type:m}}Ext.applyIf(m,{model:j,rootProperty:l,useSimpleAccessors:i,type:k.defaultReaderType});m=k.reader=Ext.createByAlias("reader."+m.type,m)}return m},getInstanceName:function(){var d=this;return d.instanceName||(d.instanceName=d.association.schema.getNamer().instanceName(d.role))},getOldInstanceName:function(){return this.oldInstanceName||(this.oldInstanceName="$old"+this.getInstanceName())},getStoreName:function(){var d=this;return d.storeName||(d.storeName=d.association.schema.getNamer().storeName(d.role))},constructReader:function(p){var n=this,t=n.getReader(),m=n.cls,l=!n.associationKey,s=n.getReaderRoot(),r,q;if(!t){q=m.getProxy();if(q){r=q.getReader();t=new r.self();t.copyFrom(r);t.setRootProperty(s)}else{t=new p.self({model:m,useSimpleAccessors:l,rootProperty:s})}n.reader=t}return t},read:function(m,j,l,k){var p=this.constructReader(l),n=p.getRoot(j);if(n){return p.readRecords(n,k,this._internalReadOptions)}},getCallbackOptions:function(i,h,g){if(typeof i==="function"){i={callback:i,scope:h||g}}else{if(i){i=Ext.apply({},i);i.scope=h||i.scope||g}}return i},doGetFK:function(C,r,t){var w=this,s=w.cls,z=w.association.getFieldName(),u=w.getInstanceName(),v=C[u],D=r&&r.reload,A=v!==undefined&&!D,x=C.session,B,y;if(!A){if(x){B=C.get(z);if(B||B===0){A=x.peekRecord(s,B,true)&&!D;v=x.getRecord(s,B,false)}else{A=true;C[u]=v=null}}else{if(z){B=C.get(z);if(!B&&B!==0){A=true;C[u]=v=null}else{if(!v){v=s.createWithId(B)}}}else{A=true}}}else{if(v){A=!v.isLoading()}}if(A){if(r){y=[v,null];t=t||r.scope||C;Ext.callback(r.success,t,y);y.push(true);Ext.callback(r,t,y);Ext.callback(r.callback,t,y)}}else{C[u]=v;r=w.getCallbackOptions(r,t,C);v.load(r)}return v},doSetFK:function(D,v,r,s){var w=this,y=w.association.getFieldName(),u=w.getInstanceName(),z=D[u],B=w.inverse,A=B.setterName,x=D.session,t,C;if(v&&v.isEntity){if(z!==v){C=w.getOldInstanceName();D[C]=z;D[u]=v;if(z&&z.isEntity){z[B.getInstanceName()]=undefined}if(y){D.set(y,v.getId())}delete D[C];if(A){v[A](D)}}}else{t=(D.changingKey&&!B.isMany)||D.set(y,v);if(t&&z&&z.isEntity&&!z.isEqual(z.getId(),v)){D[u]=undefined;if(!B.isMany){z[B.getInstanceName()]=undefined}}}if(r){if(Ext.isFunction(r)){r={callback:r,scope:s||D}}return D.save(r)}}},1,0,0,0,0,0,[Ext.data.schema,"Role"],0));(Ext.cmd.derive("Ext.data.schema.Association",Ext.Base,{isOneToOne:false,isManyToOne:false,isManyToMany:false,owner:null,field:null,constructor:function(k){var i=this,h,j;Ext.apply(i,k);i.left=h=new i.Left(i,i.left);i.right=j=new i.Right(i,i.right);h.inverse=j;j.inverse=h},hasField:function(){return !!this.field},getFieldName:function(){var d=this.field;return d?d.name:""}},1,0,0,0,0,0,[Ext.data.schema,"Association"],0));(Ext.cmd.derive("Ext.data.schema.OneToOne",Ext.data.schema.Association,{isOneToOne:true,isToOne:true,kind:"one-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",onDrop:function(i,h){var g=this.getAssociatedItem(i);i[this.getInstanceName()]=null;if(g){g[this.inverse.getInstanceName()]=null}},createGetter:function(){var d=this;return function(){return d.doGet(this)}},createSetter:function(){var d=this;return function(c){return d.doSet(this,c)}},doGet:function(k){var j=this.getInstanceName(),i=k[j],h=k.session;if(!i&&h){}return i||null},doSet:function(m,i){var l=this.getInstanceName(),j=m[l],k=this.inverse.setterName;if(j!==i){m[l]=i;if(k){i[k](m)}}return j},read:function(r,n,q,m){var p=this,l=p.callParent([r,n,q,m]),k;if(l){k=l[0];if(k){k[p.inverse.getInstanceName()]=r;r[p.getInstanceName()]=k;delete r.data[p.role]}}}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:false,side:"right",createGetter:function(){var d=this;return function(g,c){return d.doGetFK(this,g,c)}},createSetter:function(){var d=this;return function(c,i,h){return d.doSetFK(this,c,i,h)}},onDrop:function(j,l){var n=this,m=n.association.field,p=n.getAssociatedItem(j),k;if(n.inverse.owner){if(l){k=j.get(m.name);if(k||k===0){p=l.getEntry(n.cls,k).record;if(p){p.drop()}}}else{if(p){p.drop()}}}if(m){j.set(m.name,null)}j[n.getInstanceName()]=null;if(p){p[n.inverse.getInstanceName()]=null}},onValueChange:function(l,m,n){var p=this,t=l[p.getOldInstanceName()]||p.getAssociatedItem(l),q=n||n===0,r=p.getInstanceName(),s=p.cls;l.changingKey=true;p.doSetFK(l,n);if(!q){l[r]=null}else{if(m&&s){l[r]=m.peekRecord(s,n)||undefined}}if(p.inverse.owner&&t){p.association.schema.queueKeyCheck(t,p)}l.changingKey=false},checkKeyForDrop:function(g){var e=this.inverse.getAssociatedItem(g);if(!e){g.drop()}},read:function(D,C,H,B){var y=this,u=y.callParent([D,C,H,B]),x,v,t,z,w,F,E,G,A;if(u){x=u[0];v=y.association.field;if(v){t=v.name}z=D.session;A=D.data;if(x){if(z){w=z.getRefs(x,this.inverse,true);G=(w&&w[D.id])||(A[t]===undefined)}else{G=true}if(G){if(v){E=A[t];F=x.id;if(E!==F){A[t]=F;if(z){z.updateReference(D,v,F,E)}}}x[y.inverse.getInstanceName()]=D;D[y.getInstanceName()]=x}delete A[y.role]}}}})},0,0,0,0,0,0,[Ext.data.schema,"OneToOne"],0));(Ext.cmd.derive("Ext.data.schema.ManyToOne",Ext.data.schema.Association,{isManyToOne:true,isToOne:true,kind:"many-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:true,onDrop:function(p,r){var q=this,i=q.getAssociatedItem(p),u,s,t,n,v;if(i){u=i.removeAll();if(u&&q.inverse.owner){for(t=0,s=u.length;t<s;++t){u[t].drop()}}i.destroy();p[q.getStoreName()]=null}else{if(r){u=r.getRefs(p,q);if(u){for(v in u){u[v].drop()}}}}},processUpdate:function(q,u){var p=this,s=p.inverse.cls,r=u.R,v,n,m,t;if(r){for(v in r){n=q.peekRecord(s,v);if(n){t=q.getEntityList(p.cls,r[v]);m=p.getAssociatedItem(n);if(m){m.loadData(t);m.complete=true}else{n[p.getterName](null,null,t)}}else{q.onInvalidAssociationEntity(s,v)}}}},findRecords:function(w,v,A,i){var x=A,u=w.getRefs(v,this,true),t=this.association.field,s=t.name,B,C,z,y,D;if(!v.phantom){x=[];if(u||i){if(A){D={};for(z=0,y=A.length;z<y;++z){B=A[z];C=B.id;if(u&&u[C]){x.push(B)}else{if(i&&B.data[s]===undefined){x.push(B);B.data[s]=v.id;w.updateReference(B,t,v.id,undefined)}}D[C]=true}}if(u){for(C in u){if(!D||!D[C]){x.push(u[C])}}}}}return x},processLoad:function(l,m,i,j){var k=i;if(j){k=this.findRecords(j,m,i,true)}this.onLoadMany(m,k,j);return k},adoptAssociated:function(n,i){var m=this.getAssociatedItem(n),k,l,p;if(m){m.setSession(i);k=m.getData().items;for(l=0,p=k.length;l<p;++l){i.adopt(k[l])}}},createGetter:function(){var d=this;return function(i,h,c){return d.getAssociatedStore(this,i,h,c,d,true)}},createSetter:null,onAddToMany:function(g,e){this.syncFK(e,g.getAssociatedEntity(),false)},onLoadMany:function(s,x,t){var i=this.inverse.getInstanceName(),A=s.getId(),r=this.association.field,v,u,y,z,w,B;if(r){for(v=0,u=x.length;v<u;++v){y=x[v];y[i]=s;if(r){B=r.name;w=y.data;z=w[B];if(z!==A){w[B]=A;if(t){t.updateReference(y,r,A,z)}}}}}},onRemoveFromMany:function(g,e){this.syncFK(e,g.getAssociatedEntity(),true)},read:function(r,x,i,v){var s=this,p=s.inverse.getInstanceName(),w=s.callParent([r,x,i,v]),q,t,u;if(w){q=r[s.getterName](null,null,w);delete r.data[s.role];w=q.getData().items;for(u=0,t=w.length;u<t;++u){w[u][p]=r}}},syncFK:function(x,s,r){var t=this.association.getFieldName(),v=this.inverse,w=v.setterName,i=v.getInstanceName(),u=x.length,A=s.getId(),B,y,z;while(u-->0){y=x[u];B=!y.isEqual(A,y.get(t));z=r?null:s;if(B!==r){y.changingKey=true;y[w](z);y.changingKey=false}else{y[i]=z}}}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:false,side:"right",onDrop:function(g,h){var i=this.association.field;if(i){g.set(i.name,null)}g[this.getInstanceName()]=null},createGetter:function(){var d=this;return function(g,c){return d.doGetFK(this,g,c)}},createSetter:function(){var d=this;return function(i,h,c){return d.doSetFK(this,i,h,c)}},checkMembership:function(i,h){var j=this.association.field,k;k=this.getSessionStore(i,h.get(j.name));if(k&&!k.contains(h)){k.add(h)}},onValueChange:function(B,x,D,E){var w=this,t=w.getInstanceName(),F=w.cls,C,i,u,A,z,v,y;if(!B.changingKey){C=D||D===0;if(!C){B[t]=null}if(x){u=w.getSessionStore(x,E);if(u){u.remove(B)}if(C){u=w.getSessionStore(x,D);if(u&&!u.isLoading()){u.add(B)}if(F){y=x.peekRecord(F,D)}B[t]=y||undefined}}else{i=B.joined;if(i){for(A=0,z=i.length;A<z;++A){u=i[A];if(u.isStore){v=u.getAssociatedEntity();if(v&&v.self===w.cls&&v.getId()===E){u.remove(B)}}}}}}if(w.owner&&D===null){w.association.schema.queueKeyCheck(B,w)}},checkKeyForDrop:function(e){var g=this.association.field;if(e.get(g.name)===null){e.drop()}},getSessionStore:function(i,j){var k=this.cls,h;if(k){h=i.peekRecord(k,j);if(h){return this.inverse.getAssociatedItem(h)}}},read:function(j,m,n,k){var l=this.callParent([j,m,n,k]),p;if(l){p=l[0];if(p){j[this.getInstanceName()]=p;delete j.data[this.role]}}}})},0,0,0,0,0,0,[Ext.data.schema,"ManyToOne"],0));(Ext.cmd.derive("Ext.data.schema.ManyToMany",Ext.data.schema.Association,{isManyToMany:true,isToMany:true,kind:"many-to-many",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:true,digitRe:/^\d+$/,findRecords:function(u,t,A){var s=u.getMatrixSlice(this.inverse,t.id),z=s.members,v=[],i=this.cls,D,x,w,C,y,B;if(A){D={};for(x=0,w=A.length;x<w;++x){B=A[x];C=B.id;y=z[C];if(!(y&&y[2]===-1)){v.push(B)}D[C]=true}}for(C in z){y=z[C];if(!D||!D[C]&&(y&&y[2]!==-1)){B=u.peekRecord(i,C);if(B){v.push(B)}}}return v},processLoad:function(l,m,i,j){var k=i;if(j){k=this.findRecords(j,m,i);this.onAddToMany(l,k,true)}return k},processUpdate:function(q,u){var p=this,s=p.inverse.cls,r=u.R,v,n,m,t;if(r){for(v in r){n=q.peekRecord(s,v);if(n){t=q.getEntityList(p.cls,r[v]);m=p.getAssociatedItem(n);if(m){m.loadData(t);m.complete=true}else{n[p.getterName](null,null,t)}}else{q.onInvalidAssociationEntity(s,v)}}}p.processMatrixBlock(q,u.C,1);p.processMatrixBlock(q,u.D,-1)},checkMembership:function(w,v){var u=w.getMatrix(this.association,true),x,A,z,s,r,D,B,y,C,t;if(!u){return}x=this.left?u.right:u.left;A=x.inverse.role.cls;z=this.inverse;r=x.slices;if(r){s=r[v.id];if(s){B=s.members;for(D in B){y=B[D];if(y[2]!==-1){C=w.peekRecord(A,D);if(C){t=z.getAssociatedItem(C);if(t){t.matrixUpdate=1;t.add(v);t.matrixUpdate=0}}}}}}},onStoreCreate:function(l,j,i){var k=this,m;if(j){m=j.getMatrixSlice(k.inverse,i);m.attach(l);m.notify=k.onMatrixUpdate;m.scope=k}},processMatrixBlock:function(m,n,p){var r=this.inverse,q=this.digitRe,l,k;if(n){for(k in n){if(q.test(k)){k=parseInt(k,10)}l=m.getMatrixSlice(r,k);l.update(n[k],p)}}},createGetter:function(){var d=this;return function(i,h,c){return d.getAssociatedStore(this,i,h,c,false)}},onAddToMany:function(i,g,h){if(!i.matrixUpdate){i.matrixUpdate=1;i.matrix.update(g,h===true?0:1);i.matrixUpdate=0}},onRemoveFromMany:function(e,g){if(!e.matrixUpdate){e.matrixUpdate=1;e.matrix.update(g,-1);e.matrixUpdate=0}},read:function(p,l,n,k){var m=this,j=m.callParent([p,l,n,k]);if(j){p[m.getterName](null,null,j);delete p.data[m.role]}},onMatrixUpdate:function(m,k,n){var r=m.store,q,l,p;if(r&&!r.loading&&!r.matrixUpdate){r.matrixUpdate=1;q=r.indexOfId(k);if(n<0){if(q>=0){r.remove([q])}}else{if(q<0){p=r.getSession().getEntry(this.type,k);l=p&&p.record;if(l){r.add(l)}}}r.matrixUpdate=0}},adoptAssociated:function(n,i){var l=this.getAssociatedItem(n),m,k,p;if(l){l.setSession(i);this.onStoreCreate(l,i,n.getId());m=l.getData().items;for(k=0,p=m.length;k<p;++k){i.adopt(m[k])}}}},function(){var d=this;Ext.ClassManager.onCreated(function(){Ext.data.schema.ManyToMany.prototype.Right=Ext.define(null,{extend:d,left:false,side:"right"})},null,"Ext.data.schema.ManyToMany")})},0,0,0,0,0,0,[Ext.data.schema,"ManyToMany"],0));(Ext.cmd.derive("Ext.util.Inflector",Ext.Base,{singleton:true,plurals:[[(/(quiz)$/i),"$1zes"],[(/^(ox)$/i),"$1en"],[(/([m|l])ouse$/i),"$1ice"],[(/(matr|vert|ind)ix|ex$/i),"$1ices"],[(/(x|ch|ss|sh)$/i),"$1es"],[(/([^aeiouy]|qu)y$/i),"$1ies"],[(/(hive)$/i),"$1s"],[(/(?:([^f])fe|([lr])f)$/i),"$1$2ves"],[(/sis$/i),"ses"],[(/([ti])um$/i),"$1a"],[(/(buffal|tomat|potat)o$/i),"$1oes"],[(/(bu)s$/i),"$1ses"],[(/(alias|status|sex)$/i),"$1es"],[(/(octop|vir)us$/i),"$1i"],[(/(ax|test)is$/i),"$1es"],[(/^(p)erson$/i),"$1eople"],[(/^(m)an$/i),"$1en"],[(/(.*)(child)(ren)?$/i),"$1$2ren"],[(/s$/i),"s"],[(/$/),"s"]],singulars:[[(/(address)$/i),"$1"],[(/(quiz)zes$/i),"$1"],[(/(matr)ices$/i),"$1ix"],[(/(vert|ind)ices$/i),"$1ex"],[(/^(ox)en/i),"$1"],[(/(alias|status)es$/i),"$1"],[(/(octop|vir)i$/i),"$1us"],[(/(cris|ax|test)es$/i),"$1is"],[(/(shoe)s$/i),"$1"],[(/(o)es$/i),"$1"],[(/(bus)es$/i),"$1"],[(/([m|l])ice$/i),"$1ouse"],[(/(x|ch|ss|sh)es$/i),"$1"],[(/(m)ovies$/i),"$1ovie"],[(/(s)eries$/i),"$1eries"],[(/([^aeiouy]|qu)ies$/i),"$1y"],[(/([lr])ves$/i),"$1f"],[(/(tive)s$/i),"$1"],[(/(hive)s$/i),"$1"],[(/([^f])ves$/i),"$1fe"],[(/(^analy)ses$/i),"$1sis"],[(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i),"$1$2sis"],[(/([ti])a$/i),"$1um"],[(/(n)ews$/i),"$1ews"],[(/(p)eople$/i),"$1erson"],[(/s$/i),""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(e,g){this.singulars.unshift([e,g])},plural:function(e,g){this.plurals.unshift([e,g])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(d){return Ext.Array.indexOf(this.uncountable,d)!=-1},pluralize:function(i){if(this.isTransnumeral(i)){return i}var k=this.plurals,l=k.length,p,m,n;for(n=0;n<l;n++){p=k[n];m=p[0];if(m==i||(m.test&&m.test(i))){return i.replace(m,p[1])}}return i},singularize:function(i){if(this.isTransnumeral(i)){return i}var k=this.singulars,l=k.length,p,m,n;for(n=0;n<l;n++){p=k[n];m=p[0];if(m==i||(m.test&&m.test(i))){return i.replace(m,p[1])}}return i},classify:function(d){return Ext.String.capitalize(this.singularize(d))},ordinalize:function(h){var j=parseInt(h,10),i=j%10,k=j%100;if(11<=k&&k<=13){return h+"th"}else{switch(i){case 1:return h+"st";case 2:return h+"nd";case 3:return h+"rd";default:return h+"th"}}}},0,0,0,0,0,0,[Ext.util,"Inflector"],function(){var e={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"},g;for(g in e){if(e.hasOwnProperty(g)){this.plural(g,e[g]);this.singular(e[g],g)}}}));(Ext.cmd.derive("Ext.data.schema.Namer",Ext.Base,{isNamer:true,capitalize:function(d){return Ext.String.capitalize(d)},fieldRole:function(e){var g=e.match(this.endsWithIdRe,"");if(g){e=e.substr(0,e.length-(g[1]||g[2]).length)}return this.apply("uncapitalize",e)},idField:function(d){return this.apply("uncapitalize,singularize",d)+"Id"},instanceName:function(d){return this.apply("underscore",d)},multiRole:function(d){return this.apply("undotted,uncapitalize,pluralize",d)},pluralize:function(d){return Ext.util.Inflector.pluralize(d)},readerRoot:function(d){return this.apply("uncapitalize",d)},singularize:function(d){return Ext.util.Inflector.singularize(d)},storeName:function(d){return this.apply("underscore",d)},uncapitalize:function(d){return Ext.String.uncapitalize(d)},underscore:function(d){return"_"+d},uniRole:function(d){return this.apply("undotted,uncapitalize,singularize",d)},undotted:function(h){if(h.indexOf(".")<0){return h}var g=h.split("."),i=g.length;while(i-->1){g[i]=this.apply("capitalize",g[i])}return g.join("")},getterName:function(e){var g=e.role;if(e&&e.isMany){return g}return"get"+this.apply("capitalize",g)},inverseFieldRole:function(m,l,p,s){var n=this,t=n.apply(l?"uniRole":"multiRole",m),q=n.apply("pluralize",p),r=n.apply("undotted,pluralize",s);if(q.toLowerCase()!==r.toLowerCase()){t=p+n.apply("capitalize",t)}return t},manyToMany:function(i,j,m){var k=this,l=k.apply("undotted,capitalize,singularize",j)+k.apply("undotted,capitalize,pluralize",m);if(i){l=k.apply("capitalize",i+l)}return l},manyToOne:function(h,j,k,i){return this.apply("capitalize,singularize",k)+this.apply("capitalize",j)},matrixRole:function(g,h){var i=this.apply(g?"multiRole,capitalize":"multiRole",h);return g?g+i:i},oneToOne:function(h,j,k,i){return this.apply("undotted,capitalize,singularize",k)+this.apply("capitalize",j)},setterName:function(d){return"set"+this.apply("capitalize",d.role)},endsWithIdRe:/(?:(_id)|[^A-Z](Id))$/,cache:{},apply:function(r,t){var n=this,u=n.cache,i=u[t]||(u[t]={}),p=i[r],q,s,v;if(!p){if(r.indexOf(",")<0){p=n[r](t)}else{s=(v=r.split(",")).length;p=t;for(q=0;q<s;++q){p=n.apply(v[q],p)}}i[r]=p}return p}},0,0,0,0,["namer.default"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.schema,"Namer"],0));(Ext.cmd.derive("Ext.data.schema.Schema",Ext.Base,{aliasPrefix:"schema.",isSchema:true,type:"default",statics:{instances:{},get:function(n){var l=this,p=l.instances,k="default",q=n&&Ext.isString(n),r,m;if(n){if(n.isSchema){return n}k=q?n:(n.id||k)}if(!(r=p[k])){p[k]=r=l.create(n);r.id=k}else{if(n&&!q){m=Ext.merge({},r.config);Ext.merge(m,n);r.setConfig(m);r.config=m}}return r},lookupEntity:function(p){var l=null,j=this.instances,m,n,k;if(p){if(p.isEntity){l=p.self}else{if(Ext.isFunction(p)){l=p}else{if(Ext.isString(p)){l=Ext.ClassManager.get(p);if(l&&(!l.prototype||!l.prototype.isEntity)){l=null}if(!l){for(n in j){k=j[n];m=k.getEntity(p);if(m){if(l){Ext.raise('Ambiguous entity name "'+p+'". Defined by schema "'+l.schema.type+'" and "'+n+'"')}l=m}}}if(!l){Ext.raise('No such Entity "'+p+'".')}}}}}return l}},assocCount:0,entityCount:0,config:{defaultIdentifier:null,keyCheckDelay:10,namer:"default",namespace:null,proxy:{type:"ajax",url:"{prefix}/{entityName}"},urlPrefix:""},onClassExtended:function(i,g){var h=g.alias;if(h&&!g.type){if(!Ext.isString(h)){h=h[0]}i.prototype.type=h.substring(this.prototype.aliasPrefix.length)}},constructor:function(d){this.initConfig(d);this.clear()},applyDefaultIdentifier:function(d){return d&&Ext.Factory.dataIdentifier(d)},applyNamer:function(e){var g=Ext.data.schema.Namer.create(e);g.schema=this;return g},applyNamespace:function(e){if(e){var g=e.length-1;if(e.charAt(g)!=="."){e+="."}}return e},applyProxy:function(d){return Ext.util.ObjectTemplate.create(d)},eachAssociation:function(h,i){var j=this.associations,k;for(k in j){if(j.hasOwnProperty(k)){if(h.call(i,k,j[k])===false){break}}}},eachEntity:function(i,j){var h=this.entities,k;for(k in h){if(h.hasOwnProperty(k)){if(i.call(j,k,h[k].cls)===false){break}}}},getAssociation:function(g){var e=this.associations[g];return e||null},getEntity:function(g){var e=this.entityClasses[g]||this.entities[g];return(e&&e.cls)||null},getEntityName:function(k){var h=this.getNamespace(),i,j;if(typeof k==="string"){j=k}else{j=k.$className||null}if(j){if(h){i=h.length;if(j.substring(0,i)!==h){return j}}if(i){j=j.substring(i)}}return j},hasAssociations:function(d){d=d.entityName||d;return !!this.associationEntityMap[d]},hasEntity:function(g){var e=this.getEntityName(g);return !!(this.entities[e]||this.entityClasses[e])},addMatrix:function(B,H,K,L,x){var w=this,D=w.getNamer(),z=w.associations,N=w.entities,I=L.type,y=x.type,J=L.field||D.apply("idField",I),F=x.field||D.apply("idField",y),M=L.role||D.matrixRole(K,I),C=x.role||D.matrixRole(K,y),A,G,E;G=N[I]||(N[I]={cls:null,name:I,associations:{}});E=N[y]||(N[y]={cls:null,name:y,associations:{}});++w.assocCount;z[H]=A=new Ext.data.schema.ManyToMany({name:H,schema:w,definedBy:B,left:{cls:G.cls,type:I,role:M,field:J,associationKey:L.associationKey},right:{cls:E.cls,type:y,role:C,field:F,associationKey:x.associationKey}});G.associations[A.right.role]=A.right;E.associations[A.left.role]=A.left;if(G.cls){w.associationEntityMap[G.cls.entityName]=true}if(E.cls){w.associationEntityMap[E.cls.entityName]=true}w.decorateModel(A)},addReference:function(B,R,D,Q){var y=this,F=y.getNamer(),O=y.entities,A=y.associations,G=B.entityName,N=D.association,C=!!D.legacy,J=D.child,H=D.parent,E=D.role,z=D.type||H||J,I=D.inverse,K=Ext.isString(I)?{role:I}:I,L=K&&K.role,P,M;if(!E){if(C){E=F.apply("uncapitalize",z)}else{E=F.apply("fieldRole",R.name)}}if(!L){L=F.inverseFieldRole(G,Q,E,z)}if(!N){if(Q){N=F.oneToOne(B,L,z,E)}else{N=F.manyToOne(B,L,z,E)}}P=O[z]||(O[z]={cls:null,name:z,associations:{}});M=Q?Ext.data.schema.OneToOne:Ext.data.schema.ManyToOne;N=new M({name:N,owner:J?"left":(H?"right":null),definedBy:B,schema:y,field:R,nullable:R?!!R.allowBlank:true,legacy:D.legacy,left:{cls:B,type:G,role:L,extra:K},right:{cls:P.cls,type:z,role:E,extra:D}});B.associations[E]=N.right;P.associations[L]=N.left;if(R){R.reference=N.right;B.references.push(R)}++y.assocCount;y.associationEntityMap[G]=true;if(P.cls){y.associationEntityMap[P.cls.entityName]=true}A[N.name]=N;if(N.right.cls){y.decorateModel(N)}},privates:{addEntity:function(w){var s=this,t=s.entities,q=w.entityName,i=t[q],u=w.fields,x,r,v,y,z;if(!i){t[q]=i={name:q,associations:{}}}else{x=i.associations;for(z in x){x[z].inverse.cls=w;s.associationEntityMap[q]=true;s.decorateModel(x[z].association)}}i.cls=w;w.prototype.associations=w.associations=i.associations;s.entityClasses[w.$className]=i;++s.entityCount;for(v=0,y=u.length;v<y;++v){r=u[v];if(r.reference){s.addReferenceDescr(w,r)}}},addMatrices:function(i,p){var k=this,n,l,m;if(Ext.isString(p)){k.addMatrixDescr(i,null,p)}else{if(p[0]){for(n=0,l=p.length;n<l;++n){k.addMatrixDescr(i,null,p[n])}}else{for(m in p){k.addMatrixDescr(i,m,p[m])}}}},addMatrixDescr:function(v,z,u){var t=this,r=v.entityName,w=t.associations,s=t.getNamer(),x=u.left,p=u.right,q,y;if(Ext.isString(u)){if(u.charAt(0)==="#"){x={type:r};p={type:u.substring(1)}}else{if(u.charAt(q=u.length-1)==="#"){x={type:u.substring(0,q)};p={type:r}}else{if(s.apply("multiRole",r)<s.apply("multiRole",u)){x={type:r};p={type:u}}else{x={type:u};p={type:r}}}}}else{y=u.relation;if(x||(!p&&s.apply("multiRole",r)<s.apply("multiRole",u.type))){if(!x||x===true){x={type:r}}else{x=Ext.apply({type:r},x)}p=u}else{if(!p||p===true){p={type:r}}else{p=Ext.apply({type:r},p)}x=u}}if(!z){z=s.manyToMany(y,x.type,p.type)}if(!(z in w)){t.addMatrix(v,z,y,x,p)}},addReferenceDescr:function(j,h){var k=this,i=h.$reference;if(Ext.isString(i)){i={type:i}}else{i=Ext.apply({},i)}if(i.legacy){if(i.single){k.addLegacySingle(j,i)}else{k.addLegacyHasMany(j,i)}}else{k.addReference(j,h,i,h.unique)}},addPending:function(m,k,i,l){var j=this.pending;if(!j[m]){j[m]=[]}j[m].push([k,i,l])},addLegacyBelongsTo:function(g,e){this.addLegacySingle(g,e)},addLegacyHasOne:function(g,e){this.addLegacySingle(g,e)},addLegacySingle:function(k,i){var l,m,j;i=this.constructLegacyAssociation(k,i);i.single=true;m=i.type;l=i.foreignKey||(m.toLowerCase()+"_id");j=k.getField(l);if(j){j.$reference=i}this.addReference(k,j,i,true)},addLegacyHasMany:function(y,t){var s=this,w=s.entities,z=s.pending,B=t.associationKey,q,A,r,u,v,x;t=this.constructLegacyAssociation(y,t);A=t.type;u=w[A];if(u&&u.cls){t.type=y.entityName;v=t.foreignKey||(t.type.toLowerCase()+"_id");q=u.cls;r=q.getField(v);t.inverse=t||{};x=t.name;if(x||B){if(x){t.inverse.role=x}if(B){t.inverse.associationKey=B}}if(r){r.$reference=t}s.addReference(q,r,t,false)}else{if(!z[A]){z[A]=[]}z[A].push([y,t])}},constructLegacyAssociation:function(h,g){if(Ext.isString(g)){g={model:g}}g.legacy=true;g.type=this.getEntityName(g.model);var i=g.associatedName||g.name;if(i){g.role=i}return g},afterLegacyAssociations:function(n){var i=this.pending,m=n.entityName,k=i[m],l,p;if(k){for(l=0,p=k.length;l<p;++l){this.addLegacyHasMany.apply(this,k[l])}delete i[m]}},clear:function(h){var i=this,g=i.timer;delete i.setConfig;if(g){window.clearTimeout(g);i.timer=null}i.associations={};i.associationEntityMap={};i.entities={};i.entityClasses={};i.pending={};i.assocCount=i.entityCount=0;if(h){i.setNamespace(null)}},constructProxy:function(h){var j=this,i=Ext.Object.chain(h),k=j.getProxy();i.schema=j;i.prefix=j.getUrlPrefix();return k.apply(i)},applyDecoration:function(k){var m=this,r=k.inverse.cls,l=m.getNamer(),p,q,n;if(r&&!k.decorated){k.decorated=true;n=r.prototype;if(!(p=k.getterName)){k.getterName=p=l.getterName(k)}n[p]=k.createGetter();if(k.createSetter){if(!(q=k.setterName)){k.setterName=q=l.setterName(k)}n[q]=k.createSetter()}}},decorateModel:function(d){this.applyDecoration(d.left);this.applyDecoration(d.right)},processKeyChecks:function(n){var l=this,q=l.keyCheckQueue,i=l.timer,r,p,m;if(i){window.clearTimeout(i);l.timer=null}if(!q){return}do{q=l.keyCheckQueue;l.keyCheckQueue=[];for(p=0,r=q.length;p<r;++p){m=q[p];m.role.checkKeyForDrop(m.record)}}while(n&&l.keyCheckQueue.length)},queueKeyCheck:function(m,i){var k=this,l=k.keyCheckQueue,j=k.timer;if(!l){k.keyCheckQueue=l=[]}l.push({record:m,role:i});if(!j){k.timer=j=Ext.Function.defer(k.processKeyChecks,k.getKeyCheckDelay(),k)}},rankEntities:function(){var k=this,i=k.entities,p=Ext.Object.getKeys(i),l=p.length,m,n;k.nextRank=1;p.sort();for(n=0;n<l;++n){m=i[p[n]].cls;if(!m.rank){k.rankEntity(m)}}},rankEntity:function(k){var l=k.associations,i,j,m;for(m in l){j=l[m];if(!j.left&&j.association.field){i=j.cls;if(!i.rank){this.rankEntity(i)}}}k.rank=this.nextRank++}}},1,0,0,0,["schema.default"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.schema,"Schema"],0));(Ext.cmd.derive("Ext.data.AbstractStore",Ext.Base,{factoryConfig:{defaultType:"store",type:"store"},$configPrefixed:false,$configStrict:false,config:{filters:null,autoDestroy:undefined,storeId:null,statefulFilters:false,sorters:null,remoteSort:{lazy:true,$value:false},remoteFilter:{lazy:true,$value:false},groupField:undefined,groupDir:"ASC",grouper:null,pageSize:25},currentPage:1,loading:false,isStore:true,updating:0,constructor:function(h){var g=this,i;g.isInitializing=true;g.mixins.observable.constructor.call(g,h);g.isInitializing=false;i=g.getStoreId();if(!i&&(h&&h.id)){g.setStoreId(i=h.id)}if(i){Ext.data.StoreManager.register(g)}},getCount:function(){return this.getData().getCount()},rangeCached:function(e,g){return this.getData().getCount()>=Math.max(e,g)},find:function(n,p,m,l,t,q){var r=!l,s=!!(r&&q);return this.getData().findIndex(n,p,m,r,s,!t)},findRecord:function(){var e=this,g=e.find.apply(e,arguments);return g!==-1?e.getAt(g):null},findExact:function(h,i,g){return this.getData().findIndexBy(function(c){return c.isEqual(c.get(h),i)},this,g)},findBy:function(h,i,g){return this.getData().findIndexBy(h,i,g)},getAt:function(d){return this.getData().getAt(d)||null},getRange:function(h,j,i){var k=this.getData().getRange(h,Ext.isNumber(j)?j+1:j);if(i&&i.callback){i.callback.call(i.scope||this,k,h,j,i)}return k},getFilters:function(e){var g=(arguments.callee.$previous||Ext.Base.prototype.getFilters).call(this);if(!g&&e!==false){this.setFilters([]);g=(arguments.callee.$previous||Ext.Base.prototype.getFilters).call(this)}return g},applyFilters:function(h,i){var g;if(!i){i=this.createFiltersCollection();g=true}i.add(h);if(g){this.onRemoteFilterSet(i,this.getRemoteFilter())}return i},getSorters:function(e){var g=(arguments.callee.$previous||Ext.Base.prototype.getSorters).call(this);if(!g&&e!==false){this.setSorters([]);g=(arguments.callee.$previous||Ext.Base.prototype.getSorters).call(this)}return g},applySorters:function(h,i){var g;if(!i){i=this.createSortersCollection();g=true}i.add(h);if(g){this.onRemoteSortSet(i,this.getRemoteSort())}return i},filter:function(h,g,i){if(Ext.isString(h)){h={property:h,value:g}}this.suppressNextFilter=!!i;this.getFilters().add(h);this.suppressNextFilter=false},removeFilter:function(k,h){var i=this,j=i.getFilters();i.suppressNextFilter=!!h;if(k instanceof Ext.util.Filter){j.remove(k)}else{j.removeByKey(k)}i.suppressNextFilter=false},updateRemoteSort:function(d){this.onRemoteSortSet(this.getSorters(false),d)},updateRemoteFilter:function(d){this.onRemoteFilterSet(this.getFilters(false),d)},addFilter:function(e,g){this.suppressNextFilter=!!g;this.getFilters().add(e);this.suppressNextFilter=false},filterBy:function(e,g){this.getFilters().add({filterFn:e,scope:g||this})},clearFilter:function(g){var h=this,i=h.getFilters(false);if(!i||i.getCount()===0){return}h.suppressNextFilter=!!g;i.removeAll();h.suppressNextFilter=false},isFiltered:function(){return this.getFilters().getCount()>0},isSorted:function(){var d=this.getSorters(false);return !!(d&&d.length>0)||this.isGrouped()},addFieldTransform:function(i){if(i.getTransform()){return}var j=i.getProperty(),k=this.getModel(),m,l;if(k){m=k.getField(j);l=m?m.getSortType():null}if(l&&l!==Ext.identityFn){i.setTransform(l)}},beginUpdate:function(){if(!this.updating++){this.fireEvent("beginupdate")}},endUpdate:function(){if(this.updating&&!--this.updating){this.fireEvent("endupdate");this.onEndUpdate()}},getState:function(){var m=this,l=[],n=m.getFilters(),q=m.getGrouper(),k,p,r;m.getSorters().each(function(c){l[l.length]=c.getState();p=true});if(m.statefulFilters&&m.saveStatefulFilters){p=true;k=[];n.each(function(c){k[k.length]=c.getState()})}if(q){p=true}if(p){r={};if(l.length){r.sorters=l}if(k){r.filters=k}if(q){r.grouper=q.getState()}}return r},applyState:function(i){var k=this,l=i.sorters,m=i.filters,j=i.grouper;if(l){k.getSorters().replaceAll(l)}if(m){k.saveStatefulFilters=true;k.getFilters().replaceAll(m)}if(j){k.setGrouper(j)}},hasPendingLoad:Ext.emptyFn,isLoaded:Ext.emptyFn,isLoading:Ext.emptyFn,destroy:function(){var d=this;if(d.getStoreId()){Ext.data.StoreManager.unregister(d)}d.callParent();d.onDestroy()},sort:function(i,j,h){var k=this;if(arguments.length===0){if(k.getRemoteSort()){k.load()}else{k.forceLocalSort()}}else{k.getSorters().addSort(i,j,h)}},onBeforeCollectionSort:function(g,e){if(e){this.fireEvent("beforesort",this,e.getRange())}},onSorterEndUpdate:function(){var g=this,e;e=g.getSorters(false);if(g.settingGroups||!e){return}e=e.getRange();if(e.length){if(g.getRemoteSort()){g.load({callback:function(){g.fireEvent("sort",g,e)}})}else{g.fireEvent("datachanged",g);g.fireEvent("refresh",g);g.fireEvent("sort",g,e)}}else{g.fireEvent("sort",g,e)}},onFilterEndUpdate:function(){var e=this,g=e.suppressNextFilter;if(e.getRemoteFilter()){e.currentPage=1;if(!g){e.load()}}else{if(!g){e.fireEvent("datachanged",e);e.fireEvent("refresh",e)}}if(e.trackStateChanges){e.saveStatefulFilters=true}e.fireEvent("filterchange",e,e.getFilters().getRange())},updateGroupField:function(d){if(d){this.setGrouper({property:d,direction:this.getGroupDir()})}else{this.setGrouper(null)}},getGrouper:function(){return this.getData().getGrouper()},group:function(m,j){var l=this,k=l.getSorters(false),i=m||(k&&k.length);if(m&&typeof m==="string"){m={property:m,direction:j||l.getGroupDir()}}l.settingGroups=true;l.getData().setGrouper(m);delete l.settingGroups;if(i){if(l.getRemoteSort()){l.load({scope:l,callback:l.fireGroupChange})}else{l.fireEvent("datachanged",l);l.fireEvent("refresh",l);l.fireGroupChange()}}else{l.fireGroupChange()}},fireGroupChange:function(){if(!this.destroyed){this.fireEvent("groupchange",this,this.getGrouper())}},clearGrouping:function(){this.group(null)},getGroupField:function(){var g=this.getGrouper(),e="";if(g){e=g.getProperty()}return e},isGrouped:function(){return !!this.getGrouper()},applyGrouper:function(d){this.group(d);return this.getData().getGrouper()},getGroups:function(){return this.getData().getGroups()},onEndUpdate:Ext.emptyFn,privates:{loadsSynchronously:Ext.privateFn,onRemoteFilterSet:function(g,e){if(g){g[e?"on":"un"]("endupdate",this.onFilterEndUpdate,this)}},onRemoteSortSet:function(h,g){var i=this;if(h){h[g?"on":"un"]("endupdate",i.onSorterEndUpdate,i);i.getData()[g?"un":"on"]("beforesort",i.onBeforeCollectionSort,i)}}},deprecated:{5:{methods:{destroyStore:function(){this.destroy()}}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data,"AbstractStore"],0));(Ext.cmd.derive("Ext.data.Error",Ext.Base,{isError:true,$configPrefixed:false,config:{field:null,message:""},constructor:function(d){this.initConfig(d);this.msg=this.message}},1,0,0,0,0,0,[Ext.data,"Error"],0));(Ext.cmd.derive("Ext.data.ErrorCollection",Ext.util.MixedCollection,{alternateClassName:"Ext.data.Errors",init:function(w){var t=this,v=w.fields,y=w.data,r,s,i,x,u,z,A,B;for(x=0,u=v.length;x<u;++x){s=v[x];B=s.name;A=y[B];if(s.validate&&!s.validate.$nullFn){r=t.length;z=s.validate(A,null,t,w);if(r===t.length&&z!==true){t.add(B,z)}}}return t},add:function(n,l){var m=this,p=Ext.data.field.Field.defaultInvalidMessage,j=n,k;if(Ext.isString(n)){j=new Ext.data.Error({field:n,message:l||p})}else{if(!(j.isError)){j=new Ext.data.Error({field:j.field||j.name,message:j.error||j.message||j.msg||p})}n=j.field}k=m.get(n);if(k){if(Ext.isArray(k)){k.push(j);return k}m.removeAtKey(n);j=[k,j];j.field=n;j=[j]}return Ext.util.MixedCollection.prototype.add.call(this,j)},getKey:function(d){return d.field},isValid:function(){return this.length===0},getByField:function(e){var g=this.get(e);if(g&&!Ext.isArray(g)){g=[g]}return g||[]}},0,0,0,0,0,0,[Ext.data,"ErrorCollection",Ext.data,"Errors"],0));(Ext.cmd.derive("Ext.data.operation.Operation",Ext.Base,{alternateClassName:"Ext.data.Operation",isOperation:true,config:{synchronous:false,url:"",params:undefined,callback:undefined,scope:undefined,resultSet:null,response:null,request:null,records:null,id:undefined,proxy:null,batch:null,recordCreator:null,internalCallback:null,internalScope:null},order:0,foreignKeyDirection:1,started:false,running:false,complete:false,success:undefined,exception:false,error:undefined,idPrefix:"ext-operation-",constructor:function(g){var e=g&&g.scope;this.initConfig(g);if(g){g.scope=e}if(e){this.setScope(e);this.initialConfig.scope=e}this._internalId=Ext.id(this,this.idPrefix)},getAction:function(){return this.action},execute:function(){var e=this,g;delete e.error;delete e.success;e.complete=e.exception=false;e.setStarted();e.request=g=e.doExecute();if(g){g.setOperation(e)}return g},doExecute:Ext.emptyFn,abort:function(){var e=this,g=e.request;if(e.running&&g){e.getProxy().abort(g);e.request=null}},process:function(l,j,m,i){var k=this;i=i!==false;k.setResponse(m);k.setResultSet(l);if(l.getSuccess()){k.doProcess(l,j,m);k.setSuccessful(i)}else{if(i){k.setException(l.getMessage())}}},_commitSetOptions:{convert:true,commit:true},doProcess:function(t,z,A){var v=this,B=v._commitSetOptions,E=v.getRecords(),C=E.length,i=E[0].clientIdProperty,F=t.getRecords(),w=F?F.length:0,u,x,D,y;if(w&&i){u=Ext.Array.toValueMap(E,"id");for(y=0;y<w;++y){x=F[y];D=u[x[i]];if(D){delete u[D.id];delete x[i];D.set(x,B)}}for(y in u){u[y].commit()}}else{for(y=0;y<C;++y){D=E[y];if(w===0||!(x=F[y])){D.commit()}else{D.set(x,B)}}}},setStarted:function(){this.started=this.running=true},setCompleted:function(){var e=this,g=e.getProxy();e.complete=true;e.running=false;e.triggerCallbacks();if(g){g.completeOperation(e)}},setSuccessful:function(d){this.success=true;if(d){this.setCompleted()}},setException:function(g){var e=this;e.exception=true;e.success=e.running=false;e.error=g;e.setCompleted()},triggerCallbacks:function(){var g=this,e=g.getInternalCallback();if(e){e.call(g.getInternalScope()||g,g);g.setInternalCallback(null);g.setInternalScope(null)}if(e=g.getCallback()){e.call(g.getScope()||g,g.getRecords(),g,g.wasSuccessful());g.setCallback(null);g.setScope(null)}},hasException:function(){return this.exception},getError:function(){return this.error},getRecords:function(){var d;return this._records||((d=this.getResultSet())?d.getRecords():null)},isStarted:function(){return this.started},isRunning:function(){return this.running},isComplete:function(){return this.complete},wasSuccessful:function(){return this.isComplete()&&this.success===true},allowWrite:function(){return true}},1,0,0,0,0,0,[Ext.data.operation,"Operation",Ext.data,"Operation"],0));(Ext.cmd.derive("Ext.data.operation.Create",Ext.data.operation.Operation,{action:"create",isCreateOperation:true,order:10,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().create(this)}},0,0,0,0,["data.operation.create"],0,[Ext.data.operation,"Create"],0));(Ext.cmd.derive("Ext.data.operation.Destroy",Ext.data.operation.Operation,{action:"destroy",isDestroyOperation:true,order:30,foreignKeyDirection:-1,doProcess:function(){var g=this.getRecords(),i=g.length,h;for(h=0;h<i;++h){g[h].setErased()}},doExecute:function(){return this.getProxy().erase(this)},getRecordData:function(m,k){var i={},j=m.idField,l=this.getNameProperty()||"name";i[j[l]]=m.id;return i}},0,0,0,0,["data.operation.destroy"],0,[Ext.data.operation,"Destroy"],0));(Ext.cmd.derive("Ext.data.operation.Read",Ext.data.operation.Operation,{action:"read",isReadOperation:true,config:{filters:undefined,sorters:undefined,grouper:undefined,start:undefined,limit:undefined,page:undefined,addRecords:false},doExecute:function(){return this.getProxy().read(this)},doProcess:Ext.emptyFn,allowWrite:function(){return false}},0,0,0,0,["data.operation.read"],0,[Ext.data.operation,"Read"],0));(Ext.cmd.derive("Ext.data.operation.Update",Ext.data.operation.Operation,{action:"update",isUpdateOperation:true,order:20,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().update(this)}},0,0,0,0,["data.operation.update"],0,[Ext.data.operation,"Update"],0));(Ext.cmd.derive("Ext.data.SortTypes",Ext.Base,{singleton:true,none:Ext.identityFn,stripCommasRe:/,/g,stripTagsRE:/<\/?[^>]+>/gi,asText:function(d){return(d!=null)?String(d).replace(this.stripTagsRe,""):"\x00"},asUCText:function(d){return(d!=null)?String(d).toUpperCase().replace(this.stripTagsRe,""):"\x00"},asUCString:function(d){return(d!=null)?String(d).toUpperCase():"\x00"},asDate:function(d){if(!d){return 0}if(Ext.isDate(d)){return d.getTime()}return Date.parse(String(d))},asFloat:function(g){var e=parseFloat(String(g).replace(this.stripCommasRe,""));return isNaN(e)?0:e},asInt:function(g){var e=parseInt(String(g).replace(this.stripCommasRe,""),10);return isNaN(e)?0:e}},0,0,0,0,0,0,[Ext.data,"SortTypes"],0));(Ext.cmd.derive("Ext.data.validator.Validator",Ext.Base,{isValidator:true,type:"base",statics:{all:{},register:function(h,i){var g=this.all;g[h.toUpperCase()]=g[h.toLowerCase()]=g[h]=i.prototype}},onClassExtended:function(g,e){if(e.type){Ext.data.validator.Validator.register(e.type,g)}},constructor:function(d){if(typeof d==="function"){this.fnOnly=true;this.validate=d}else{this.initConfig(d)}},validate:function(){return true},clone:function(){var d=this;if(d.fnOnly){return new Ext.data.validator.Validator(d.validate)}return new d.self(d.getCurrentConfig())}},1,0,0,0,["data.validator.base"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.validator,"Validator"],function(){this.register(this.prototype.type,this)}));(Ext.cmd.derive("Ext.data.field.Field",Ext.Base,{alternateClassName:"Ext.data.Field",aliasPrefix:"data.field.",type:"auto",factoryConfig:{defaultProperty:"name"},isDataField:true,isField:true,allowBlank:true,allowNull:false,critical:false,defaultInvalidMessage:"This field is invalid",defaultValue:undefined,definedBy:null,depends:null,dependents:null,mapping:null,name:null,ordinal:undefined,persist:null,reference:null,unique:false,rank:null,stripRe:/[\$,%]/g,calculated:false,evil:false,identifier:false,onClassExtended:function(m,k){var j=k.sortType,l=m.prototype,p=l.validators,n=k.validators;if(j&&Ext.isString(j)){l.sortType=Ext.data.SortTypes[j]}if(n){if(!Ext.isArray(n)){n=[n]}delete k.validators;if(p){n=p.concat(n)}l.validators=n}},argumentNamesRe:/^function\s*\(\s*([^,\)\s]+)/,calculateRe:/[^\.a-z0-9_]([a-z_][a-z_0-9]*)\.([a-z_][a-z_0-9]*)/gi,constructor:function(C){var v=this,t=v.calculateRe,z,s,u,y,D,F,x,E,w,B,A;if(C){if(Ext.isString(C)){v.name=C}else{A=C.validators;if(A){delete C.validators;v.instanceValidators=A}Ext.apply(v,C)}}if(!v.allowNull){v.allowNull=!!v.reference}z=v.calculate;D=v.depends;if(z){v.convert=v.doCalculate;if(!D){if(!(D=z.$depends)){F={};w=z.toString();z.$depends=D=[];x=v.argumentNamesRe.exec(w);E=x?x[1]:"data";while((x=t.exec(w))){if(E===x[1]&&!F[B=x[2]]){F[B]=1;D.push(B)}}}v.depends=D}}u=v.defaultValue;if(v.convert){v.calculated=s=v.convert.length>1;v.evil=s&&!D}if(v.persist===null){v.persist=!z}y=v.sortType;if(!v.sortType){v.sortType=Ext.data.SortTypes.none}else{if(Ext.isString(y)){v.sortType=Ext.data.SortTypes[y]}}if(D&&typeof D==="string"){v.depends=[D]}v.cloneDefaultValue=u!==undefined&&(Ext.isDate(u)||Ext.isArray(u)||Ext.isObject(u))},setModelValidators:function(d){this._validators=null;this.modelValidators=d},compileValidators:function(){var d=this;d._validators=[];d.constructValidators(d.validators);d.constructValidators(d.modelValidators);d.constructValidators(d.instanceValidators)},constructValidators:function(m){if(m){if(!(m instanceof Array)){m=[m]}var i=m.length,k=this._validators,l,j;for(l=0;l<i;++l){j=m[l];if(j.fn){j=j.fn}k.push(Ext.Factory.dataValidator(j))}}},collate:function(k,l){var j=this,m=k,i=l;if(j.sortType){m=j.sortType(m);i=j.sortType(i)}return(m===i)?0:((m<i)?-1:1)},compare:function(e,g){return(e===g)?0:((e<g)?-1:1)},isEqual:function(e,g){return this.compare(e,g)===0},convert:null,serialize:null,validate:function(q,v,r,u){var s=this,t="",i,z,x,y,w;if(!s._validators){s.compileValidators()}x=s._validators;for(w=0,y=x.length;w<y;++w){z=x[w];i=z.validate(q,u);if(i!==true){i=i||s.defaultInvalidMessage;if(r){r.add(s.name,i);t=t||i}else{if(v){if(t){t+=v}t+=i}else{t=i;break}}}}return t||true},doCalculate:function(g,e){return e?this.calculate(e.data):g},getName:function(){return this.name},getAllowBlank:function(){return this.allowBlank},getAllowNull:function(){return this.allowNull},getConvert:function(){return this.convert},getDefaultValue:function(){return this.defaultValue},getDepends:function(){return this.depends},getMapping:function(){return this.mapping},hasMapping:function(){var d=this.mapping;return !!(d||d===0)},getPersist:function(){return this.persist},getSortType:function(){return this.sortType},getType:function(){return"auto"},deprecated:{5.1:{methods:{getSortDir:function(){return this.sortDir}}}}},1,0,0,0,["data.field.auto"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.field,"Field",Ext.data,"Field"],0));(Ext.cmd.derive("Ext.data.field.Boolean",Ext.data.field.Field,{isBooleanField:true,trueRe:/^\s*(?:true|yes|on|1)\s*$/i,convert:function(d){if(typeof d==="boolean"){return d}if(this.allowNull&&(d===undefined||d===null||d==="")){return null}return this.trueRe.test(String(d))},getType:function(){return"bool"}},0,0,0,0,["data.field.bool","data.field.boolean"],0,[Ext.data.field,"Boolean"],0));(Ext.cmd.derive("Ext.data.field.Date",Ext.data.field.Field,{sortType:"asDate",isDateField:true,dateFormat:null,dateReadFormat:null,dateWriteFormat:null,compare:function(l,i){var j=l instanceof Date,k=i instanceof Date,m;if(k&&j){m=l.getTime()-i.getTime();if(m===0){m=0}else{m=m<0?-1:1}}else{if(j===k){m=0}else{m=j?1:-1}}return m},convert:function(g){if(!g){return null}if(g instanceof Date){return g}var i=this.dateReadFormat||this.dateFormat,h;if(i){return Ext.Date.parse(g,i)}h=Date.parse(g);return h?new Date(h):null},serialize:function(h){var i=null,g;if(Ext.isDate(h)){g=this.getDateWriteFormat();i=g?Ext.Date.format(h,g):h}return i},getDateFormat:function(){return this.dateFormat},getDateReadFormat:function(){return this.dateReadFormat},getDateWriteFormat:function(){var d=this;if(d.hasOwnProperty("dateWriteFormat")){return d.dateWriteFormat}if(d.hasOwnProperty("dateFormat")){return d.dateFormat}return d.dateWriteFormat||d.dateFormat||"timestamp"},getType:function(){return"date"}},0,0,0,0,["data.field.date"],0,[Ext.data.field,"Date"],0));(Ext.cmd.derive("Ext.data.field.Integer",Ext.data.field.Field,{isNumeric:true,isIntegerField:true,numericType:"int",convert:function(j){if(typeof j==="number"){return this.getNumber(j)}var h=j===undefined||j===null||j==="",k=this.allowNull,i;if(h){i=k?null:0}else{i=this.parse(j);if(k&&isNaN(i)){i=null}}return i},getNumber:function(d){return parseInt(d,10)},getType:function(){return this.numericType},parse:function(d){return parseInt(String(d).replace(this.stripRe,""),10)},sortType:function(d){if(d==null){d=Infinity}return d}},0,0,0,0,["data.field.int","data.field.integer"],0,[Ext.data.field,"Integer"],0));(Ext.cmd.derive("Ext.data.field.Number",Ext.data.field.Integer,{isIntegerField:false,isNumberField:true,numericType:"float",getNumber:Ext.identityFn,parse:function(d){return parseFloat(String(d).replace(this.stripRe,""))}},0,0,0,0,["data.field.float","data.field.number"],0,[Ext.data.field,"Number"],0));(Ext.cmd.derive("Ext.data.field.String",Ext.data.field.Field,{sortType:"asUCString",isStringField:true,convert:function(e){var g=this.allowNull?null:"";return(e===undefined||e===null)?g:String(e)},getType:function(){return"string"}},0,0,0,0,["data.field.string"],0,[Ext.data.field,"String"],0));(Ext.cmd.derive("Ext.data.identifier.Generator",Ext.Base,{"abstract":true,factoryConfig:{defaultType:"sequential"},isGenerator:true,config:{id:null},constructor:function(j){var i=this,k,h;i.initConfig(j);h=i.getId();if(h){k=(j&&j.cache)||Ext.data.identifier.Generator.all;k[h]=i}},privates:{clone:function(e){var g=this.getInitialConfig();g=e?Ext.apply({},e,g):g;return new this.self(g)},statics:{all:{}}}},1,0,0,0,["data.identifier.default"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.identifier,"Generator"],function(){var g=this,i=Ext.Factory,h=i.dataIdentifier;i.dataIdentifier=function(e){var c=Ext.isString(e)?e:(e&&e.id),d=c&&((e&&e.cache)||g.all)[c];return d||h(e)}}));(Ext.cmd.derive("Ext.data.identifier.Sequential",Ext.data.identifier.Generator,{config:{increment:1,prefix:null,seed:1},generate:function(){var h=this,i=h._seed,g=h._prefix;h._seed+=h._increment;return(g!==null)?g+i:i}},0,0,0,0,["data.identifier.sequential"],0,[Ext.data.identifier,"Sequential"],0));(Ext.cmd.derive("Ext.data.Model",Ext.Base,{alternateClassName:"Ext.data.Record",isEntity:true,isModel:true,validIdRe:null,erasing:false,observableType:"record",constructor:function(B,v){var u=this,G=u.self,w=G.identifier,D=Ext.data.Model,i=D.identifier,H=u.idField.name,x,F,E,y,z,C,A;u.data=u.data=B||(B={});u.session=v||null;u.internalId=y=i.generate();if((x=B) instanceof Array){u.data=B={};A=u.getFields();z=Math.min(A.length,x.length);for(C=0;C<z;++C){B[A[C].name]=x[C]}}if(!(E=G.initializeFn)){G.initializeFn=E=D.makeInitializeFn(G)}if(!E.$nullFn){G.initializeFn(u)}if(!(u.id=F=B[H])&&F!==0){if(v){w=v.getIdentifier(G);F=w.generate()}else{if(i===w){F=y}else{F=w.generate()}}B[H]=u.id=F;u.phantom=true}if(v){v.add(u)}if(u.init&&Ext.isFunction(u.init)){u.init()}},editing:false,dirty:false,session:null,dropped:false,erased:false,clientIdProperty:null,evented:false,phantom:false,idProperty:"id",manyToMany:null,identifier:null,previousValues:undefined,proxy:undefined,schema:"default",versionProperty:null,generation:1,validationSeparator:null,convertOnSet:true,beginEdit:function(){var g=this,h=g.modified,i=g.previousValues;if(!g.editing){g.editing=true;g.editMemento={dirty:g.dirty,data:Ext.apply({},g.data),generation:g.generation,modified:h&&Ext.apply({},h),previousValues:i&&Ext.apply({},i)}}},cancelEdit:function(){var e=this,g=e.editMemento;if(g){e.editing=false;Ext.apply(e,g);e.editMemento=null}},endEdit:function(j,h){var i=this,k=i.editMemento;if(k){i.editing=false;i.editMemento=null;i.previousValues=k.previousValues;if(!j){if(!h){h=i.getModifiedFieldNames(k.data)}if(i.dirty||(h&&h.length)){i.callJoined("afterEdit",[h])}}}},getField:function(d){return this.self.getField(d)},getFields:function(){return this.self.getFields()},getFieldsMap:function(){return this.fieldsMap},getIdProperty:function(){return this.idProperty},getId:function(){return this.id},getObservableId:function(){return this.internalId},setId:function(e,g){this.set(this.idProperty,e,g)},getPrevious:function(e){var g=this.previousValues;return g&&g[e]},isModified:function(e){var g=this.modified;return !!(g&&g.hasOwnProperty(e))},getModified:function(e){var g;if(this.isModified(e)){g=this.modified[e]}return g},get:function(d){return this.data[d]},_singleProp:{},_rejectOptions:{convert:false,silent:true},set:function(aq,T,ap){var Q=this,at=Q.self,P=Q.data,ah=Q.modified,R=Q.previousValues,aw=Q.session,S=Ext.isString(aq),av=(S?ap:T),ab=av?av.convert!==false:Q.convertOnSet,an=Q.fieldsMap,X=av&&av.silent,Z=av&&av.commit,ad=!(av&&av.refs===false)&&aw,af=!(av&&av.dirty===false&&!Z),ac=null,W,au,Y,i,O,aj,ao,ai,al,aa,ag=0,V,U,ak,am,ae,ar;if(S){ar=Q._singleProp;ar[aq]=T}else{ar=aq}if(!(ak=at.rankedFields)){ak=at.rankFields()}V=ak.length;do{for(O in ar){ae=ar[O];W=P[O];ao=Q;au=an[O];if(au){if(ab&&au.convert){ae=au.convert(ae,Q)}ao=au;am=au.reference}else{am=null}if(ao.isEqual(W,ae)){continue}P[O]=ae;(ac||(ac=[])).push(O);(R||(Q.previousValues=R={}))[O]=W;if(am&&am.cls){if(ad){aw.updateReference(Q,au,ae,W)}am.onValueChange(Q,aw,ae,W)}aa=(al=au&&au.dependents)&&al.length;while(aa-->0){(ai=al[aa]).dirty=true;ag=ag?Math.min(ag,ai.rank):ai.rank}if(!au||au.persist){if(ah&&ah.hasOwnProperty(O)){if(!af||ao.isEqual(ah[O],ae)){delete ah[O];Q.dirty=-1}}else{if(af){if(!ah){Q.modified=ah={}}Q.dirty=true;ah[O]=W}}}if(O===Q.idField.name){Y=true;aj=W;U=ae}}if(!ag){break}au=ak[ag-1];au.dirty=false;if(S){delete ar[aq]}else{ar=Q._singleProp;S=true}aq=au.name;ar[aq]=P[aq];ab=true;for(;ag<V;++ag){if(ak[ag].dirty){break}}if(ag<V){++ag}else{ag=0}}while(1);if(Q.dirty<0){Q.dirty=false;for(i in ah){if(ah.hasOwnProperty(i)){Q.dirty=true;break}}}if(S){delete ar[aq]}++Q.generation;if(Y){Q.id=U;Q.callJoined("onIdChanged",[aj,U])}if(Z){Q.commit(X,ac)}else{if(!X&&!Q.editing&&ac){Q.callJoined("afterEdit",[ac])}}return ac},reject:function(i){var g=this,h=g.modified;if(h){g.set(h,g._rejectOptions)}g.dropped=false;g.clearState();if(!i){g.callJoined("afterReject")}},commit:function(n,l){var m=this,j=m.versionProperty,k=m.data,p;m.clearState();if(j&&!m.phantom&&!isNaN(k[j])){++k[j]}m.phantom=false;if(m.dropped){m.erased=p=true}if(!n){if(p){m.callJoined("afterErase")}else{m.callJoined("afterCommit",[l])}}},clearState:function(){var d=this;d.dirty=d.editing=false;d.editMemento=d.modified=null},drop:function(l){var j=this,k=j.associations,i=j.session,m;if(j.erased||j.dropped){return}j.dropped=true;if(k&&l!==false){for(m in k){k[m].onDrop(j,i)}}j.callJoined("afterDrop");if(j.phantom){j.setErased()}},join:function(h){var i=this,g=i.joined;if(!g){g=i.joined=[h]}else{if(!g.length){g[0]=h}else{Ext.Array.include(g,h)}}if(h.isStore&&!i.store){i.store=h}},unjoin:function(k){var l=this,i=l.joined,p=i&&i.length,n=l.store,m;if(p===1&&i[0]===k){i.length=0}else{if(p){Ext.Array.remove(i,k)}}if(n===k){n=null;if(i){for(m=0,p=i.length;m<p;++m){k=i[m];if(k.isStore){n=k;break}}}l.store=n}},clone:function(h){var i=this,j=i.modified,k=i.copy(i.id,h);if(j){k.modified=Ext.apply({},j)}k.dirty=i.dirty;k.dropped=i.dropped;k.phantom=i.phantom;return k},copy:function(m,j){var l=this,k=Ext.apply({},l.data),n=l.idProperty,p=l.self;if(m||m===0){k[n]=m}else{if(m===null){delete k[n]}}return new p(k,j)},getProxy:function(){return this.self.getProxy()},getValidation:function(h){var g=this,i=g.validation;if(!i){g.validation=i=new Ext.data.Validation();i.attach(g)}if(h===true||(h!==false&&i.syncGeneration!==g.generation)){i.refresh(h)}return i},validate:function(){return new Ext.data.ErrorCollection().init(this)},isValid:function(){return this.getValidation().isValid()},toUrl:function(){var e=this.$className.split("."),g=e[e.length-1].toLowerCase();return g+"/"+this.getId()},erase:function(g){var e=this;e.erasing=true;e.drop();e.erasing=false;return e.save(g)},setErased:function(){this.erased=true;this.callJoined("afterErase")},getChanges:function(){return this.getData(this._getChangesOptions)},getCriticalFields:function(){var g=this.self,e=g.criticalFields;if(!e){g.rankFields();e=g.criticalFields}return e},getAssociatedData:function(H,I){var w=this,E=w.associations,i,A,J,x,D,F,y,B,C,G,z,v;H=H||{};w.$gathering=1;if(I){I=Ext.Object.chain(I)}for(C in E){B=E[C];J=B.getAssociatedItem(w);if(!J||J.$gathering){continue}if(J.isStore){J.$gathering=1;x=J.getData().items;F=x.length;D=[];for(A=0;A<F;++A){y=x[A];i=!y.$gathering;y.$gathering=1;if(I){v=I.associated;if(v===undefined){I.associated=i;z=true}else{if(!i){I.associated=false;z=true}}G=I}else{G=i?w._getAssociatedOptions:w._getNotAssociatedOptions}D.push(y.getData(G));if(z){I.associated=v;z=false}delete y.$gathering}delete J.$gathering}else{G=I||w._getAssociatedOptions;if(I&&I.associated===undefined){G.associated=true}D=J.getData(G)}H[C]=D}delete w.$gathering;return H},getData:function(I){var y=this,z={},H=(I===true)?y._getAssociatedOptions:(I||z),D=y.data,x=H.associated,L=H.changes,n=L&&H.critical,A=L?y.modified:D,B=y.fieldsMap,C=H.persist,J=H.serialize,F,w,E,G,K;if(A){for(G in A){K=D[G];w=B[G];if(w){if(C&&!w.persist){continue}if(J&&w.serialize){K=w.serialize(K,y)}}z[G]=K}}if(n){F=y.self.criticalFields||y.getCriticalFields();for(E=F.length;E-->0;){G=(w=F[E]).name;if(!(G in z)){K=D[G];if(J&&w.serialize){K=w.serialize(K,y)}z[G]=K}}}if(x){y.getAssociatedData(z,H)}return z},getTransientFields:function(){var g=this.self,e=g.transientFields;if(!e){g.rankFields();e=g.transientFields}return e},isLoading:function(){return !!this.loadOperation},abort:function(){var d=this.loadOperation;if(d){d.abort()}},load:function(s){s=Ext.apply({},s);var n=this,p=s.scope||n,r=n.getProxy(),l=s.callback,t=n.loadOperation,m=n.getId(),q;if(t){q=t.extraCalls;if(!q){q=t.extraCalls=[]}q.push(s);return t}s.id=m;s.recordCreator=function(g,d,c){var e=n.session;if(c){c.recordCreator=e?e.recordCreator:null}n.set(g,n._commitOptions);return n};s.internalCallback=function(k){var g=k.wasSuccessful()&&k.getRecords().length>0,e=n.loadOperation,i=e.extraCalls,c=[n,k],h=[n,k,g],j,d;n.loadOperation=null;if(g){Ext.callback(s.success,p,c)}else{Ext.callback(s.failure,p,c)}Ext.callback(l,p,h);if(i){for(j=0,d=i.length;j<d;++j){s=i[j];if(g){Ext.callback(s.success,p,c)}else{Ext.callback(s.failure,p,c)}Ext.callback(s.callback,p,h)}}n.callJoined("afterLoad")};delete s.callback;n.loadOperation=t=r.createOperation("read",s);t.execute();return t},save:function(m){m=Ext.apply({},m);var q=this,s=q.phantom,v=q.dropped,t=v?"destroy":(s?"create":"update"),n=m.scope||q,p=m.callback,r=q.getProxy(),u;m.records=[q];m.internalCallback=function(c){var e=[q,c],d=c.wasSuccessful();if(d){Ext.callback(m.success,n,e)}else{Ext.callback(m.failure,n,e)}e.push(d);Ext.callback(p,n,e)};delete m.callback;u=r.createOperation(t,m);if(v&&s){u.setResultSet(Ext.data.reader.Reader.prototype.nullResultSet);q.setErased();u.setSuccessful(true)}else{u.execute()}return u},inheritableStatics:{addFields:function(d){this.replaceFields(d)},replaceFields:function(t,w){var i=this,A=i.prototype,x=Ext.data.field.Field,z=i.fields,u=i.fieldsMap,C=i.fieldOrdinals,F,B,D,y,E,v;if(w===true){z.length=0;i.fieldsMap=u={};i.fieldOrdinals=C={}}else{if(w){for(B=w.length;B-->0;){E=w[B];if(E in C){delete C[E];delete u[E]}}for(B=0,y=z.length;B<y;++B){E=(F=z[B]).name;if(E in C){C[E]=B}else{z.splice(B,1);--B;--y}}}}for(B=0,y=t?t.length:0;B<y;B++){E=(F=t[B]).name;if(!(E in C)){C[E]=v=z.length;z.push(F=x.create(F));u[E]=F;F.ordinal=v;F.definedBy=F.owner=this}}i.idField=A.idField=D=u[A.idProperty];D.allowNull=D.critical=D.identifier=true;D.defaultValue=null;i.initializeFn=i.rankedFields=i.transientFields=i.criticalFields=null},removeFields:function(d){this.replaceFields(null,d)},getIdFromData:function(i){var j=this,k=j.idField,h=k.calculated?(new j(i)).id:i[k.name];return h},createWithId:function(d,l,k){var j=l,m=this;if(d||d===0){j={};if(l){Ext.apply(j,l)}j[m.idField.name]=d}return new m(j,k)},getFields:function(){return this.fields},getFieldsMap:function(){return this.fieldsMap},getField:function(d){return this.fieldsMap[d]||null},getProxy:function(){var j=this,k=j.proxy,h=j.defaultProxy,i;if(!k){k=j.proxyConfig;if(!k&&h){k=h}if(!k||!k.isProxy){if(typeof k==="string"){k={type:k}}i=j.schema.constructProxy(j);k=k?Ext.merge(i,k):i}k=j.setProxy(k)}return k},setProxy:function(h){var g=this,i;if(h){if(!h.isProxy){h=Ext.Factory.proxy(h)}else{i=h.getModel();if(i&&i!==g){h=h.clone()}}h.setModel(g)}return(g.prototype.proxy=g.proxy=h)},load:function(i,m,k){var l={},j;l[this.prototype.idProperty]=i;j=new this(l,k);j.load(m);return j}},deprecated:{5:{methods:{hasId:null,markDirty:null,setDirty:null,eachStore:function(i,l){var k=this,n=k.stores,p=n.length,m;for(m=0;m<p;++m){i.call(l,n[m])}},join:function(i){var j=this,k=j.stores,h=j.joined;if(!h){h=j.joined=[i]}else{h.push(i)}if(i.isStore){j.store=j.store||i;if(!k){k=j.stores=[]}k.push(i)}},unjoin:function(i){var j=this,k=j.stores,h=j.joined;if(h.length===1){h.length=0}else{Ext.Array.remove(h,i)}if(i.isStore){Ext.Array.remove(k,i);j.store=k[0]||null}}},properties:{persistenceProperty:null},inheritableStatics:{methods:{setFields:null}}}},privates:{_commitOptions:{commit:true},_getChangesOptions:{changes:true},_getAssociatedOptions:{associated:true},_getNotAssociatedOptions:{associated:false},copyFrom:function(u){var v=this,x=v.fields,r=x.length,A=[],t,z=0,w,y,i=v.idProperty,B,s;if(u){w=v.data;y=u.data;for(;z<r;z++){t=x[z];B=t.name;if(B!==i){s=y[B];if(s!==undefined&&!v.isEqual(w[B],s)){w[B]=s;A.push(B)}}}if(v.phantom&&!u.phantom){v.beginEdit();v.setId(u.getId());v.endEdit(true);v.commit(true)}}return A},callJoined:function(s,t){var q=this,n=q.joined,r=q.session,v,u,p,i;if(!n&&!r){return}if(t){t.unshift(q)}else{t=[q]}if(n){for(v=0,u=n.length;v<u;++v){i=n[v];if(i&&(p=i[s])){p.apply(i,t)}}}p=r&&r[s];if(p){p.apply(r,t)}},setSession:function(d){this.session=d;if(d){d.add(this)}},getModifiedFieldNames:function(p){var l=this,k=l.data,n=[],j=p||l.editMemento.data,m;for(m in k){if(k.hasOwnProperty(m)){if(!l.isEqual(k[m],j[m],m)){n.push(m)}}}return n},isEqual:function(k,h,i){var j;if(i){j=i.isField?i:this.fieldsMap[i];if(j){return j.isEqual(k,h)}}if(k instanceof Date&&h instanceof Date){return k.getTime()===h.getTime()}return k===h},statics:{EDIT:"edit",REJECT:"reject",COMMIT:"commit",defaultProxy:"memory",rankFields:function(){var p=this,q=p.prototype,u=p.fields,w=u.length,s=[],x=[],t=[],i,r,v;p.rankedFields=q.rankedFields=s;p.criticalFields=q.criticalFields=x;p.transientFields=q.transientFields=t;for(v=0;v<w;++v){r=u[v];if(r.critical){x.push(r)}if(!r.persist){t.push(r)}if(r.evil){(i||(i=[])).push(r)}else{if(!r.depends){s.push(r);r.rank=s.length}}}for(v=0;v<w;++v){if(!(r=u[v]).rank&&!r.evil){p.topoAdd(r)}}if(i){for(v=0,w=i.length;v<w;++v){s.push(r=i[v]);r.rank=s.length}}return s},topoAdd:function(i){var q=this,l=i.depends,r=l?l.length:0,n=q.rankedFields,p,m;for(p=0;p<r;++p){m=q.fieldsMap[l[p]];(m.dependents||(m.dependents=[])).push(i);if(!m.rank){q.topoAdd(m)}}n.push(i);i.rank=n.length},initFields:function(i,U,H){var N=Ext.data.field.Field,S=i.fields,G=[],M={},Q={},V=[],B=H.fields,L=i.versionProperty||H.versionProperty,J=U.idProperty,P,T,D,R,K,E,O,C,F,I;U.fields=H.fields=G;U.fieldOrdinals=H.fieldOrdinals=M;U.fieldsMap=H.fieldsMap=Q;U.references=H.references=V;if(B){for(D=0,R=B.length;D<R;++D){G[D]=T=Ext.Object.chain(B[D]);T.dependents=null;T.owner=U;M[K=T.name]=D;Q[K]=T;T.rank=null;if(T.generated){C=T;F=T.name}}}if(S){delete i.fields;for(D=0,R=S.length;D<R;++D){T=S[D];O=T.reference;if(O&&typeof O!=="string"){O=Ext.merge({},O)}T.$reference=O;T=N.create(S[D]);K=T.name;E=M[K];if(E===undefined){M[K]=E=G.length}Q[K]=T;G[E]=T;T.definedBy=T.owner=U;T.ordinal=E;if(K===J){I=T}}}P=Q[J];if(!P){if(C&&C.generated){E=C.ordinal}else{E=G.length}delete Q[F];delete M[F];P=new N(J);G[E]=P;M[J]=E;Q[J]=P;P.definedBy=U;P.ordinal=E;P.generated=true}else{if(I&&C&&C.generated){Ext.Array.remove(G,C);delete Q[F];delete M[F];Q[J]=I;for(D=0,R=G.length;D<R;++D){T=G[D];G.ordinal=D;M[T.name]=D}}}P.allowNull=P.critical=P.identifier=true;P.defaultValue=null;U.idField=H.idField=P;if(L){T=Q[L];if(!T){E=G.length;T=new N({name:L,type:"int"});G[E]=T;M[L]=E;Q[L]=T;T.definedBy=U;T.ordinal=E;T.generated=true}T.defaultValue=1;T.critical=true}},initValidators:function(y,F,w){var t=w.validators,A,u,C,v,z,B,x,D,E,i;if(t){A={};for(u in t){A[u]=Ext.Array.clone(t[u])}}v=y.validators||y.validations;if(v){delete y.validators;A=A||{};if(Ext.isArray(v)){C={};for(z=0,B=v.length;z<B;++z){i=v[z];D=i.field;if(!C[D]){C[D]=[]}i=i.fn||i;C[D].push(i)}v=C}for(D in v){x=v[D];if(!Ext.isArray(x)){x=[x]}E=A[D];if(A[D]){Ext.Array.push(E,x)}else{A[D]=x}}}if(A){for(D in A){u=F.getField(D);if(u){u.setModelValidators(A[D])}}}F.validators=w.validators=A},initAssociations:function(x,u,q){var y=u.associations,w=u.belongsTo,s=u.hasMany,i=u.hasOne,r=u.manyToMany,v,z,t;delete u.manyToMany;if(r){x.addMatrices(q,r)}delete u.associations;delete u.belongsTo;delete u.hasMany;delete u.hasOne;if(y){y=Ext.isArray(y)?y:[y];for(v=0,z=y.length;v<z;++v){t=y[v];switch(t.type){case"belongsTo":x.addLegacyBelongsTo(q,t);break;case"hasMany":x.addLegacyHasMany(q,t);break;case"hasOne":x.addLegacyHasOne(q,t);break}}}if(w){w=Ext.isArray(w)?w:[w];for(v=0,z=w.length;v<z;++v){x.addLegacyBelongsTo(q,w[v])}}if(s){s=Ext.isArray(s)?s:[s];for(v=0,z=s.length;v<z;++v){x.addLegacyHasMany(q,s[v])}}if(i){i=Ext.isArray(i)?i:[i];for(v=0,z=i.length;v<z;++v){x.addLegacyHasOne(q,i[v])}}x.afterLegacyAssociations(q)},initIdentifier:function(j,p,k){var n=j.identifier||j.idgen,l=k.identifier||p.schema._defaultIdentifier,m;if(n){delete j.identifier;delete j.idgen;n=Ext.Factory.dataIdentifier(n)}else{if(l){if(l.clone&&!l.getId()){n=l.clone()}else{if(l.isGenerator){n=l}else{n=Ext.Factory.dataIdentifier(l)}}}}p.identifier=k.identifier=n;if(!n){m=p.entityName;if(!m){m=Ext.id(null,"extModel")}p.identifier=Ext.Factory.dataIdentifier({type:"sequential",prefix:m+"-"})}},findValidator:function(r,q,s){var n=s.type||s,i=r[q],t,p,m;if(i){for(p=0,t=i.length;p<t;++p){m=i[p];if(m.type===n){return m}}}return null},makeInitializeFn:function(H){var G=["var "],z=["\nreturn function (e) {\n    var data = e.data, v;\n"],C=[],i=0,x,y,w,I,D,v,A,B,J,E,F;if(!(A=H.rankedFields)){A=H.rankFields()}for(E=0,F=A.length;E<F;++E){v=A[E];C[E]=B="f"+E;w=v.convert;if(E){G.push(",  \n    ")}G.push(B," = $fields["+E+"]");if((J=(v.defaultValue!==undefined))||w){I='data["'+v.name+'"]';++i;x=y="";if(v.cloneDefaultValue){x="Ext.clone(";y=")"}z.push("\n");if(w&&J){z.push("    v = ",I,";\n    if (v !== undefined) {\n        v = ",B,".convert(v, e);\n    }\n    if (v === undefined) {\n        v = ",x,B,".defaultValue",y,";\n    }\n    ",I," = v;")}else{if(w){z.push("    v = ",B,".convert(",I,",e);\n    if (v !== undefined) {\n        ",I," = v;\n    }\n")}else{if(J){z.push("    if (",I," === undefined) {\n        ",I," = ",x,B,".defaultValue",y,";\n    }\n")}}}}}if(!i){return Ext.emptyFn}G.push(";\n");G.push.apply(G,z);G.push("}");G=G.join("");D=new Function("$fields","Ext",G);return D(A,Ext)}}}},1,0,0,0,0,0,[Ext.data,"Model",Ext.data,"Record"],function(){var h=this,i=h.prototype,j=Ext.data.schema.Schema,k;h.proxyConfig=i.proxy;delete i.proxy;h.fields=[];h.fieldsMap=i.fieldsMap={};h.schema=i.schema=j.get(i.schema);i.idField=new Ext.data.field.Field(i.idProperty);h.identifier=new Ext.data.identifier.Sequential();h.onExtended(function(r,c){var d=r.prototype,s=c.schema,t=d.superclass.self,e,g,q;r.idProperty=c.idProperty||d.idProperty;if(s){delete c.schema;e=j.get(s)}else{if(!(e=d.schema)){e=k||(k=j.get("default"))}}r.rankFields=h.rankFields;r.topoAdd=h.topoAdd;d.schema=r.schema=e;if(!(g=c.entityName)){d.entityName=g=e.getEntityName(r)}r.entityName=g;r.fieldExtractors={};h.initIdentifier(c,r,d);h.initFields(c,r,d);h.initValidators(c,r,d);r.fields.items=r.fields;if(g){e.addEntity(r);h.initAssociations(e,c,r)}q=c.proxy;if(q){delete c.proxy}else{if(t!==h){q=t.proxyConfig||t.proxy}}r.proxyConfig=q})}));(Ext.cmd.derive("Ext.data.ResultSet",Ext.Base,{isResultSet:true,$configPrefixed:false,config:{loaded:true,count:null,total:null,success:false,records:null,message:null},constructor:function(d){this.initConfig(d)},getCount:function(){var e=(arguments.callee.$previous||Ext.Base.prototype.getCount).call(this),g;if(!e){g=this.getRecords();if(g){e=g.length}}return e}},1,0,0,0,0,0,[Ext.data,"ResultSet"],0));(Ext.cmd.derive("Ext.data.reader.Reader",Ext.Base,{alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],factoryConfig:{defaultType:null},config:{totalProperty:"total",successProperty:"success",rootProperty:"",messageProperty:"",typeProperty:"",implicitIncludes:true,readRecordsOnFailure:true,model:null,proxy:null,transform:null,keepRawData:null},isReader:true,constructor:function(g){if(g&&g.hasOwnProperty("root")){g=Ext.apply({},g);g.rootProperty=g.root;delete g.root}var e=this;e.duringInit=1;e.mixins.observable.constructor.call(e,g);--e.duringInit;e.buildExtractors()},applyModel:function(d){return Ext.data.schema.Schema.lookupEntity(d)},applyTransform:function(d){if(d){if(Ext.isFunction(d)){d={fn:d}}else{if(d.charAt){d={fn:this[d]}}}return d.fn.bind(d.scope||this)}return d},forceBuildExtractors:function(){if(!this.duringInit){this.buildExtractors(true)}},updateTotalProperty:function(){this.forceBuildExtractors()},updateMessageProperty:function(){this.forceBuildExtractors()},updateSuccessProperty:function(){this.forceBuildExtractors()},read:function(j,h){var i,k;if(j){if(j.responseText){k=this.getResponseData(j);if(k&&k.__$isError){return new Ext.data.ResultSet({total:0,count:0,records:[],success:false,message:k.msg})}else{i=this.readRecords(k,h)}}else{i=this.readRecords(j,h)}}return i||this.nullResultSet},getNullResultSet:function(){return this.nullResultSet},createReadError:function(d){return{__$isError:true,msg:d}},readRecords:function(B,D,z){var y=this,A=z&&z.recordsOnly,u=z&&z.asRoot,t,C,E,w,x,v,s,F;F=this.getTransform();if(F){B=F(B)}y.buildExtractors();if(y.getKeepRawData()){y.rawData=B}if(y.hasListeners.rawdata){y.fireEventArgs("rawdata",[B])}B=y.getData(B);t=true;C=0;E=[];if(y.getSuccessProperty()){v=y.getSuccess(B);if(v===false||v==="false"){t=false}}if(y.getMessageProperty()){s=y.getMessage(B)}if(t||y.getReadRecordsOnFailure()){w=(u||Ext.isArray(B))?B:y.getRoot(B);if(w){x=w.length}if(y.getTotalProperty()){v=parseInt(y.getTotal(B),10);if(!isNaN(v)){x=v}}if(w){E=y.extractData(w,D);C=E.length}}return A?E:new Ext.data.ResultSet({total:x||C,count:C,records:E,success:t,message:s})},extractData:function(H,A){var u=this,z=A&&A.model?Ext.data.schema.Schema.lookupEntity(A.model):u.getModel(),C=z.schema,G=C.hasAssociations(z)&&u.getImplicitIncludes(),i=u.getFieldExtractorInfo(z.fieldExtractors),F=H.length,D=new Array(F),w=u.getTypeProperty(),v,E,B,x,y;if(!F&&Ext.isObject(H)){H=[H];F=1}for(y=0;y<F;y++){x=H[y];if(!x.isModel){E=x;if(w&&(B=u.getChildType(C,E,w))){v=B.getProxy().getReader();x=v.extractRecord(E,A,B,C.hasAssociations(B)&&v.getImplicitIncludes(),v.getFieldExtractorInfo(B.fieldExtractors))}else{x=u.extractRecord(E,A,z,G,i)}if(x.isModel&&x.isNode){x.raw=E}}if(x.onLoad){x.onLoad()}D[y]=x}return D},getChildType:function(j,i,h){var k;switch(typeof h){case"string":return j.getEntity(i[h]);case"object":k=h.namespace;return j.getEntity((k?k+".":"")+i[h.name]);case"function":return j.getEntity(h(i))}},extractRecordData:function(i,h){var j=h&&h.model?Ext.data.schema.Schema.lookupEntity(h.model):this.getModel(),k=this.getFieldExtractorInfo(j.fieldExtractors);return this.extractRecord(i,h,j,false,k)},extractRecord:function(v,u,t,m,p){var q=this,r=(u&&u.recordCreator)||q.defaultRecordCreator,n,s;n=q.extractModelData(v,p);s=r.call(q,n,t||q.getModel(),u);if(m&&s.isModel){q.readAssociated(s,v,u)}return s},getFieldExtractorInfo:function(g){if(!g){return}var i=this.$className,h=g[i];if(h===undefined){g[i]=h=this.buildFieldExtractors()}return h},buildFieldExtractors:function(){var r=this.getFields(),q=r.length,t=[],i=[],u=null,w=0,p,x,s,v;for(s=0;s<q;++s){p=r[s];v=this.createFieldAccessor(p);if(v){x=p.name;t.push("val = extractors["+w+"](raw); if (val !== undefined) { data['"+x+"'] = val; }");i.push(v);++w}}if(t.length){u={extractors:i,fn:new Function("raw","data","extractors","var val;"+t.join(""))}}return u},defaultRecordCreator:function(h,g){var i=new g(h);i.phantom=false;return i},getModelData:function(d){return{}},extractModelData:function(j,k){var h=this.getModelData(j),i;if(k){i=k.fn;i(j,h,k.extractors)}return h},readAssociated:function(p,k,l){var m=p.associations,n,j;for(n in m){if(m.hasOwnProperty(n)){j=m[n];if(j.cls){j.read(p,k,this,l)}}}},getFields:function(){return this.getModel().fields},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(d){},onMetaChange:function(k){var l=this,q=k.fields,p,m,r,n;l.metaData=k;if(k.root){l.setRootProperty(k.root)}if(k.totalProperty){l.setTotalProperty(k.totalProperty)}if(k.successProperty){l.setSuccessProperty(k.successProperty)}if(k.messageProperty){l.setMessageProperty(k.messageProperty)}r=k.clientIdProperty;if(q){m=Ext.define(null,{extend:"Ext.data.Model",fields:q,clientIdProperty:r});l.setModel(m);n=l.getProxy();if(n){n.setModel(m)}}else{if(r){p=l.getModel();if(p){p.self.prototype.clientIdProperty=r}}}},buildExtractors:function(j){var l=this,k,m,i;if(j||!l.hasExtractors){k=l.getTotalProperty();m=l.getSuccessProperty();i=l.getMessageProperty();if(k){l.getTotal=l.getAccessor(k)}if(m){l.getSuccess=l.getAccessor(m)}if(i){l.getMessage=l.getAccessor(i)}l.hasExtractors=true;return true}},getAccessor:function(i){var j=this,m=j.extractorCache,l,k;if(typeof i==="string"){k=j.getAccessorKey(i);l=m.get(k);if(!l){l=j.createAccessor(i);m.add(k,l)}}else{l=j.createAccessor(i)}return l},getAccessorKey:function(d){return this.$className+d},createAccessor:Ext.emptyFn,createFieldAccessor:Ext.emptyFn,destroy:function(){var d=this;d.model=d.getTotal=d.getSuccess=d.getMessage=d.rawData=null;d.onMetaChange=null;d.transform=null;d.callParent()},privates:{copyFrom:function(g){var e=this;g.buildExtractors();e.getTotal=g.getTotal;e.getSuccess=g.getSuccess;e.getMessage=g.getMessage;++e.duringInit;e.setConfig(g.getConfig());--e.duringInit;e.hasExtractors=true}}},1,0,0,0,["reader.base"],[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.reader,"Reader",Ext.data,"Reader",Ext.data,"DataReader"],function(e){var g=e.prototype;Ext.apply(g,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:true,message:""})});g.extractorCache=new Ext.util.LruCache()}));(Ext.cmd.derive("Ext.data.writer.Writer",Ext.Base,{factoryConfig:{defaultType:null},alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],config:{clientIdProperty:null,allDataOptions:{persist:true},partialDataOptions:{changes:true,critical:true},writeAllFields:false,dateFormat:null,nameProperty:"name",writeRecordId:true,transform:null},isWriter:true,constructor:function(d){this.initConfig(d)},applyTransform:function(d){if(d){if(Ext.isFunction(d)){d={fn:d}}return d.fn.bind(d.scope||this)}return d},write:function(k){var m=k.getOperation(),n=m.getRecords()||[],p=n.length,i=[],l;for(l=0;l<p;l++){i.push(this.getRecordData(n[l],m))}return this.writeRecords(k,i)},writeRecords:Ext.emptyFn,getRecordData:function(A,C){var x=this,E=x.getNameProperty(),I=E!=="name",G=A.self.idField,K=G[E]||G.name,L=A.id,F=x.getWriteAllFields(),y,H,D,J,v,z,B,w;if(G.serialize){L=G.serialize(L)}if(!F&&C&&C.isDestroyOperation){y={};y[K]=L}else{H=x.getDateFormat();D=A.phantom;J=(D||F)?x.getAllDataOptions():x.getPartialDataOptions();v=D&&x.getClientIdProperty();z=A.getFieldsMap();J.serialize=false;B=A.getData(J);y=I?{}:B;if(v){y[v]=L;delete B[K]}else{if(!x.getWriteRecordId()){delete B[K]}}for(K in B){L=B[K];if(!(w=z[K])){if(I){y[K]=L}}else{if(w.isDateField&&H&&Ext.isDate(L)){L=Ext.Date.format(L,H)}else{if(w.serialize){L=w.serialize(L,A)}}if(I){K=w[E]||K}y[K]=L}}}return y}},1,0,0,0,["writer.base"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.data.writer,"Writer",Ext.data,"DataWriter",Ext.data,"Writer"],0));(Ext.cmd.derive("Ext.data.proxy.Proxy",Ext.Base,{$configPrefixed:false,alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],config:{batchOrder:"create,update,destroy",batchActions:true,model:undefined,reader:{type:"json"},writer:{type:"json"}},isProxy:true,isSynchronous:false,constructor:function(d){this.mixins.observable.constructor.call(this,d);this.pendingOperations={}},applyModel:function(d){return Ext.data.schema.Schema.lookupEntity(d)},updateModel:function(e){if(e){var g=this.getReader();if(g&&!g.getModel()){g.setModel(e)}}},applyReader:function(d){if(this.isSynchronous){d=d||{};d.keepRawData=true}return Ext.Factory.reader(d)},updateReader:function(i){if(i){var g=this,h=g.getModel();if(!h){h=i.getModel();if(h){g.setModel(h)}}else{i.setModel(h)}if(i.onMetaChange){i.onMetaChange=Ext.Function.createSequence(i.onMetaChange,g.onMetaChange,g)}}},applyWriter:function(e){var g=this.getReader();e=Ext.Factory.writer(e);if(e.getRecord&&!e.getRecord()&&g&&g.getRecord){g=g.getRecord();if(g){e.setRecord(g)}}return e},abort:Ext.emptyFn,onMetaChange:function(d){this.fireEvent("metachange",this,d)},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,erase:Ext.emptyFn,batch:function(r,u){var v=this,w=v.getBatchActions(),y,C,z,B,A,t,D,s,x;if(r.operations===undefined){r={operations:r,listeners:u}}if(r.batch){if(Ext.isDefined(r.batch.runOperation)){y=Ext.applyIf(r.batch,{proxy:v,listeners:{}})}}else{r.batch={proxy:v,listeners:r.listeners||{}}}if(!y){y=new Ext.data.Batch(r.batch)}y.on("complete",Ext.bind(v.onBatchComplete,v,[r],0));z=v.getBatchOrder().split(",");B=z.length;for(t=0;t<B;t++){A=z[t];C=r.operations[A];if(C){if(w){y.add(v.createOperation(A,{records:C,params:r.params}))}else{s=C.length;for(D=0;D<s;D++){x=C[D];y.add(v.createOperation(A,{records:[x],params:r.params}))}}}}y.start();return y},onBatchComplete:function(i,h){var g=i.scope||this;if(h.hasException()){if(Ext.isFunction(i.failure)){Ext.callback(i.failure,g,[h,i])}}else{if(Ext.isFunction(i.success)){Ext.callback(i.success,g,[h,i])}}if(Ext.isFunction(i.callback)){Ext.callback(i.callback,g,[h,i])}},createOperation:function(g,h){var i=Ext.createByAlias("data.operation."+g,h);i.setProxy(this);this.pendingOperations[i._internalId]=i;return i},completeOperation:function(d){delete this.pendingOperations[d._internalId]},clone:function(){return new this.self(this.getInitialConfig())},destroy:function(){var h=this.pendingOperations,i,g;for(i in h){g=h[i];if(g&&g.isRunning()){g.abort()}}this.pendingOperations=null}},1,0,0,0,["proxy.proxy"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.data.proxy,"Proxy",Ext.data,"DataProxy",Ext.data,"Proxy"],0));(Ext.cmd.derive("Ext.data.proxy.Client",Ext.data.proxy.Proxy,{alternateClassName:"Ext.data.ClientProxy",isSynchronous:true,clear:function(){}},0,0,0,0,0,0,[Ext.data.proxy,"Client",Ext.data,"ClientProxy"],0));(Ext.cmd.derive("Ext.data.proxy.Memory",Ext.data.proxy.Client,{alternateClassName:"Ext.data.MemoryProxy",isMemoryProxy:true,config:{enablePaging:false,data:{$value:null,merge:function(h,k,i,j){if(Ext.isArray(h)){return Ext.Array.clone(h)}else{return Ext.clone(h)}}}},finishOperation:function(j){var i=0,h=j.getRecords(),k=h.length;for(i;i<k;i++){h[i].commit()}j.setSuccessful(true)},create:function(d){this.finishOperation(d)},update:function(d){this.finishOperation(d)},erase:function(d){this.finishOperation(d)},read:function(q){var n=this,m=n.getReader().read(n.getData()),s=m.getRecords(),p=q.getSorters(),v=q.getGrouper(),t=q.getFilters(),u=q.getStart(),r=q.getLimit();if(q.process(m,null,null,false)!==false){if(t&&t.length){m.setRecords(s=Ext.Array.filter(s,Ext.util.Filter.createFilterFn(t)));m.setTotal(s.length)}if(v){p=p?p.concat(v):p}if(p&&p.length){m.setRecords(s=Ext.Array.sort(s,Ext.util.Sortable.createComparator(p)))}if(n.getEnablePaging()&&u!==undefined&&r!==undefined){if(u>=m.getTotal()){m.setConfig({success:false,records:[],total:0})}else{m.setRecords(Ext.Array.slice(s,u,u+r))}}q.setCompleted()}},clear:Ext.emptyFn},0,0,0,0,["proxy.memory"],0,[Ext.data.proxy,"Memory",Ext.data,"MemoryProxy"],0));(Ext.cmd.derive("Ext.data.ProxyStore",Ext.data.AbstractStore,{config:{model:undefined,fields:null,proxy:undefined,autoLoad:undefined,autoSync:false,batchUpdateMode:"operation",sortOnLoad:true,trackRemoved:true,asynchronousLoad:undefined},onClassExtended:function(l,j,m){var k=j.model,i;if(typeof k==="string"){i=m.onBeforeCreated;m.onBeforeCreated=function(){var c=this,d=arguments;Ext.require(k,function(){i.apply(c,d)})}}},implicitModel:"Ext.data.Model",autoSyncSuspended:0,constructor:function(g){var e=this;e.removed=[];Ext.data.AbstractStore.prototype.constructor.apply(this,arguments);if(e.getAsynchronousLoad()===false){e.flushLoad()}},applyAsynchronousLoad:function(d){if(d==null){d=!this.loadsSynchronously()}return d},updateAutoLoad:function(d){this.getData();if(d){this.load(Ext.isObject(d)?d:undefined)}},getTotalCount:function(){return this.totalCount||0},applyFields:function(d){if(d){this.createImplicitModel(d)}},applyModel:function(d){if(d){d=Ext.data.schema.Schema.lookupEntity(d)}else{this.getFields();d=this.getModel()||this.createImplicitModel()}return d},applyProxy:function(e){var g=this.getModel();if(e!==null){if(e){if(e.isProxy){e.setModel(g)}else{if(Ext.isString(e)){e={type:e,model:g}}else{if(!e.model){e=Ext.apply({model:g},e)}}e=Ext.createByAlias("proxy."+e.type,e);e.autoCreated=true}}else{if(g){e=g.getProxy()}}if(!e){e=Ext.createByAlias("proxy.memory");e.autoCreated=true}}return e},applyState:function(e){var g=this;Ext.data.AbstractStore.prototype.applyState.call(this,e);if(g.getAutoLoad()||g.isLoaded()){g.load()}},updateProxy:function(e,g){this.proxyListeners=Ext.destroy(this.proxyListeners)},updateTrackRemoved:function(d){this.cleanRemoved();this.removed=d?[]:null},onMetaChange:function(g,e){this.fireEvent("metachange",this,e)},create:function(k,m){var l=this,j=l.getModel(),p=new j(k),n;m=Ext.apply({},m);if(!m.records){m.records=[p]}m.internalScope=l;m.internalCallback=l.onProxyWrite;n=l.createOperation("create",m);return n.execute()},read:function(){return this.load.apply(this,arguments)},update:function(h){var g=this,i;h=Ext.apply({},h);if(!h.records){h.records=g.getUpdatedRecords()}h.internalScope=g;h.internalCallback=g.onProxyWrite;i=g.createOperation("update",h);return i.execute()},onProxyWrite:function(j){var i=this,h=j.wasSuccessful(),k=j.getRecords();switch(j.getAction()){case"create":i.onCreateRecords(k,j,h);break;case"update":i.onUpdateRecords(k,j,h);break;case"destroy":i.onDestroyRecords(k,j,h);break}if(h){i.fireEvent("write",i,j);i.fireEvent("datachanged",i)}},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(h,i,g){if(g){this.cleanRemoved()}},erase:function(h){var g=this,i;h=Ext.apply({},h);if(!h.records){h.records=g.getRemovedRecords()}h.internalScope=g;h.internalCallback=g.onProxyWrite;i=g.createOperation("destroy",h);return i.execute()},onBatchOperationComplete:function(e,g){return this.onProxyWrite(g)},onBatchComplete:function(m,p){var i=this,n=m.operations,k=n.length,l;if(i.batchUpdateMode!=="operation"){i.suspendEvents();for(l=0;l<k;l++){i.onProxyWrite(n[l])}i.resumeEvents()}i.isSyncing=false;i.fireEvent("datachanged",i)},onBatchException:function(e,g){},filterNew:function(d){return d.phantom===true&&d.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(d){return d.dirty===true&&d.phantom!==true&&d.isValid()},getRemovedRecords:function(){var d=this.getRawRemovedRecords();return d?Ext.Array.clone(d):d},sync:function(p){var m=this,q={},l=m.getNewRecords(),n=m.getUpdatedRecords(),r=m.getRemovedRecords(),k=false;m.needsSync=false;if(l.length>0){q.create=l;k=true}if(n.length>0){q.update=n;k=true}if(r.length>0){q.destroy=r;k=true}if(k&&m.fireEvent("beforesync",q)!==false){m.isSyncing=true;p=p||{};m.proxy.batch(Ext.apply(p,{operations:q,listeners:m.getBatchListeners()}))}return m},getBatchListeners:function(){var e=this,g={scope:e,exception:e.onBatchException,complete:e.onBatchComplete};if(e.batchUpdateMode==="operation"){g.operationcomplete=e.onBatchOperationComplete}return g},save:function(){return this.sync.apply(this,arguments)},load:function(g){var e=this;if(typeof g==="function"){g={callback:g}}else{g=g?Ext.Object.chain(g):{}}e.pendingLoadOptions=g;if(e.getAsynchronousLoad()){if(!e.loadTimer){e.loadTimer=Ext.asap(e.flushLoad,e)}}else{e.flushLoad()}return e},flushLoad:function(){var g=this,h=g.pendingLoadOptions,i;g.clearLoadTask();if(!h){return}g.setLoadOptions(h);if(g.getRemoteSort()&&h.sorters){g.fireEvent("beforesort",g,h.sorters)}i=Ext.apply({internalScope:g,internalCallback:g.onProxyLoad,scope:g},h);g.lastOptions=i;i=g.createOperation("read",i);if(g.fireEvent("beforeload",g,i)!==false){g.onBeforeLoad(i);g.loading=true;i.execute()}},reload:function(g){var e=Ext.apply({},g,this.lastOptions);return this.load(e)},onEndUpdate:function(){var d=this;if(d.needsSync&&d.autoSync&&!d.autoSyncSuspended){d.sync()}},afterReject:function(g){var e=this;if(e.contains(g)){e.onUpdate(g,Ext.data.Model.REJECT,null);e.fireEvent("update",e,g,Ext.data.Model.REJECT,null)}},afterCommit:function(i,g){var h=this;if(!g){g=null}if(h.contains(i)){h.onUpdate(i,Ext.data.Model.COMMIT,g);h.fireEvent("update",h,i,Ext.data.Model.COMMIT,g)}},afterErase:function(d){this.onErase(d)},onErase:Ext.emptyFn,onUpdate:Ext.emptyFn,onDestroy:function(){var e=this,g=e.getProxy();e.clearLoadTask();e.getData().destroy();e.data=null;e.setProxy(null);if(g.autoCreated){g.destroy()}e.setModel(null)},hasPendingLoad:function(){return !!this.pendingLoadOptions||this.isLoading()},isLoading:function(){return !!this.loading},isLoaded:function(){return this.loadCount>0},suspendAutoSync:function(){++this.autoSyncSuspended},resumeAutoSync:function(e){var g=this;if(g.autoSyncSuspended&&!--g.autoSyncSuspended){if(e){g.sync()}}},removeAll:Ext.emptyFn,clearData:Ext.emptyFn,privates:{getRawRemovedRecords:function(){return this.removed},onExtraParamsChanged:function(){},clearLoadTask:function(){Ext.asapCancel(this.loadTimer);this.pendingLoadOptions=this.loadTimer=null},cleanRemoved:function(){var g=this.getRawRemovedRecords(),i,h;if(g){for(h=0,i=g.length;h<i;++h){g[h].unjoin(this)}g.length=0}},createOperation:function(j,m){var i=this,l=i.getProxy(),k;if(!i.proxyListeners){k={scope:i,destroyable:true,beginprocessresponse:i.beginUpdate,endprocessresponse:i.endUpdate};if(!i.disableMetaChangeEvent){k.metachange=i.onMetaChange}i.proxyListeners=l.on(k)}return l.createOperation(j,m)},createImplicitModel:function(m){var i=this,l={extend:i.implicitModel,statics:{defaultProxy:"memory"}},j,k;if(m){l.fields=m}k=Ext.define(null,l);i.setModel(k);j=i.getProxy();if(j){k.setProxy(j)}else{i.setProxy(k.getProxy())}},loadsSynchronously:function(){return this.getProxy().isSynchronous},onBeforeLoad:Ext.privateFn,removeFromRemoved:function(g){var e=this.getRawRemovedRecords();if(e){Ext.Array.remove(e,g);g.unjoin(this)}},setLoadOptions:function(k){var i=this,j,h;if(i.getRemoteFilter()){j=i.getFilters(false);if(j&&j.getCount()){k.filters=j.getRange()}}if(i.getRemoteSort()){h=i.getSorters(false);if(h&&h.getCount()){k.sorters=h.getRange()}}}}},1,0,0,0,0,0,[Ext.data,"ProxyStore"],0));(Ext.cmd.derive("Ext.data.LocalStore",Ext.Mixin,{mixinConfig:{id:"localstore"},config:{extraKeys:null},applyExtraKeys:function(i){var g,h=this.getData();h.setExtraKeys(i);i=h.getExtraKeys();for(g in i){this[g]=i[g]}},add:function(d){return this.insert(this.getCount(),arguments.length===1?d:arguments)},constructDataCollection:function(){return new Ext.util.Collection({rootProperty:"data"})},createModel:function(i){var h=this.getSession(),g;if(!i.isModel){g=this.getModel();i=new g(i,h)}return i},createFiltersCollection:function(){return this.getData().getFilters()},createSortersCollection:function(){var d=this.getData().getSorters();d.setSorterConfigure(this.addFieldTransform,this);return d},onCollectionSort:function(){this.onSorterEndUpdate()},onCollectionFilter:function(){this.onFilterEndUpdate()},notifySorterChange:function(){this.getData().onSorterChange()},forceLocalSort:function(){this.getData().onSortChange()},contains:function(d){return this.indexOf(d)>-1},each:function(k,l){var i=this.data.items,p=i.length,n,m;for(m=0;m<p;++m){n=i[m];if(k.call(l||n,n,m,p)===false){break}}},collect:function(l,m,k){var j=this,i=j.getData();if(k===true&&i.filtered){i=i.getSource()}return i.collect(l,"data",m)},getById:function(e){var g=this.getData();if(g.filtered){g=g.getSource()}return g.get(e)||null},getByInternalId:function(i){var g=this.getData(),h;if(g.filtered){if(!g.$hasExtraKeys){h=this.makeInternalKeyCfg();g.setExtraKeys(h);g.$hasExtraKeys=true}g=g.getSource()}if(!g.$hasExtraKeys){g.setExtraKeys(h||this.makeInternalKeyCfg());g.$hasExtraKeys=true}return g.byInternalId.get(i)||null},getDataSource:function(){var d=this.getData();return d.getSource()||d},indexOf:function(d){return this.getData().indexOf(d)},indexOfId:function(d){return this.indexOf(this.getById(d))},insert:function(k,l){var i=this,m,j;if(l){if(!Ext.isIterable(l)){l=[l]}else{l=Ext.Array.clone(l)}m=l.length}if(!m){return[]}for(j=0;j<m;++j){l[j]=i.createModel(l[j])}i.getData().insert(k,l);return l},queryBy:function(h,i){var g=this.getData();return(g.getSource()||g).createFiltered(h,i)},query:function(k,l,j,p,n){var m=this.getData();return(m.getSource()||m).createFiltered(k,l,j,p,n)},first:function(d){return this.getData().first(d)||null},last:function(d){return this.getData().last(d)||null},sum:function(g,i){var h=this.getData();return(i&&this.isGrouped())?h.sumByGroup(g):h.sum(g)},count:function(g){var e=this.getData();return(g&&this.isGrouped())?e.countByGroup():e.count()},min:function(g,i){var h=this.getData();return(i&&this.isGrouped())?h.minByGroup(g):h.min(g)},max:function(g,i){var h=this.getData();return(i&&this.isGrouped())?h.maxByGroup(g):h.max(g)},average:function(g,i){var h=this.getData();return(i&&this.isGrouped())?h.averageByGroup(g):h.average(g)},aggregate:function(r,i,t,q){var s=this,x,u,w,p,v;if(t&&s.isGrouped()){x=s.getGroups().items;u=x.length;w={};for(v=0;v<u;++v){p=x[v];w[p.getGroupKey()]=s.getAggregate(r,i||s,p.items,q)}return w}else{return s.getAggregate(r,i,s.getData().items,q)}},getAggregate:function(l,m,p,i){var q=[],r=p.length,n;for(n=0;n<r;++n){q[n]=p[n].get(i)}return l.call(m||this,p,q)},addObserver:function(g){var e=this.observers;if(!e){this.observers=e=new Ext.util.Collection()}e.add(g)},removeObserver:function(g){var e=this.observers;if(e){e.remove(g)}},callObservers:function(m,q){var i=this.observers,t,r,p,s,n;if(i){r=i.items;if(q){q.unshift(this)}else{q=[this]}for(p=0,t=r.length;p<t;++p){n=r[p];s="onSource"+m;if(n[s]){n[s].apply(n,q)}}}},queryRecordsBy:function(m,n){var i=this.getData(),l=[],r,p,q;i=(i.getSource()||i).items;n=n||this;for(p=0,r=i.length;p<r;++p){q=i[p];if(m.call(n,q)===true){l.push(q)}}return l},queryRecords:function(i,l){var m=this.getData(),n=[],r,p,q;m=(m.getSource()||m).items;for(p=0,r=m.length;p<r;++p){q=m[p];if(q.get(i)===l){n.push(q)}}return n},privates:{isLast:function(d){return d===this.last()},makeInternalKeyCfg:function(){return{byInternalId:{property:"internalId",rootProperty:""}}}}},0,0,0,0,0,0,[Ext.data,"LocalStore"],0));(Ext.cmd.derive("Ext.data.proxy.Server",Ext.data.proxy.Proxy,{alternateClassName:"Ext.data.ServerProxy",isRemote:true,config:{url:"",pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",idParam:"id",simpleSortMode:false,simpleGroupMode:false,noCache:true,cacheString:"_dc",timeout:30000,api:{create:undefined,read:undefined,update:undefined,destroy:undefined},extraParams:{}},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},erase:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(i,h){var g=this.getExtraParams();g[i]=h;this.fireEvent("extraparamschanged",g)},updateExtraParams:function(e,g){this.fireEvent("extraparamschanged",e)},buildRequest:function(r){var l=this,q=Ext.apply({},r.getParams()),k=Ext.applyIf(q,l.getExtraParams()||{}),m,n,p;Ext.applyIf(k,l.getParams(r));n=r.getId();p=l.getIdParam();if(n!==undefined&&k[p]===undefined){k[p]=n}m=new Ext.data.Request({params:k,action:r.getAction(),records:r.getRecords(),url:r.getUrl(),operation:r,proxy:l});m.setUrl(l.buildUrl(m));r.setRequest(m);return m},processResponse:function(l,r,m,s){var n=this,q,t,p;n.fireEvent("beginprocessresponse",n,s,r);if(l===true){t=n.getReader();if(s.status===204){p=t.getNullResultSet()}else{p=t.read(n.extractResponseData(s),{recordCreator:r.getRecordCreator()})}r.process(p,m,s);q=!r.wasSuccessful()}else{n.setException(r,s);q=true}if(q){n.fireEvent("exception",n,s,r)}n.afterRequest(m,l);n.fireEvent("endprocessresponse",n,s,r)},setException:function(e,g){e.setException({status:g.status,statusText:g.statusText,response:g})},extractResponseData:Ext.identityFn,applyEncoding:function(d){return Ext.encode(d)},encodeSorters:function(i,k){var m=[],j=i.length,l;for(l=0;l<j;l++){m[l]=i[l].serialize()}return this.applyEncoding(k?m[0]:m)},encodeFilters:function(j){var m=[],k=j.length,l,i;for(l=0;l<k;l++){m[l]=j[l].serialize()}return this.applyEncoding(m)},getParams:function(F){if(!F.isReadOperation){return{}}var z=this,A={},C=F.getGrouper(),T=F.getSorters(),H=F.getFilters(),M=F.getPage(),N=F.getStart(),B=F.getLimit(),J=z.getSimpleSortMode(),Q=z.getSimpleGroupMode(),D=z.getPageParam(),P=z.getStartParam(),S=z.getLimitParam(),R=z.getGroupParam(),I=z.getGroupDirectionParam(),O=z.getSortParam(),E=z.getFilterParam(),G=z.getDirectionParam(),K,L;if(D&&M){A[D]=M}if(P&&(N||N===0)){A[P]=N}if(S&&B){A[S]=B}K=R&&C;if(K){if(Q){A[R]=C.getProperty();A[I]=C.getDirection()}else{A[R]=z.encodeSorters([C],true)}}if(O&&T&&T.length>0){if(J){L=0;if(T.length>1&&K){L=1}A[O]=T[L].getProperty();A[G]=T[L].getDirection()}else{A[O]=z.encodeSorters(T)}}if(E&&H&&H.length>0){A[E]=z.encodeFilters(H)}return A},buildUrl:function(g){var h=this,i=h.getUrl(g);if(h.getNoCache()){i=Ext.urlAppend(i,Ext.String.format("{0}={1}",h.getCacheString(),Ext.Date.now()))}return i},getUrl:function(e){var g;if(e){g=e.getUrl()||this.getApi()[e.getAction()]}return g?g:(arguments.callee.$previous||Ext.data.proxy.Proxy.prototype.getUrl).call(this)},doRequest:function(d){},afterRequest:Ext.emptyFn,destroy:function(){Ext.data.proxy.Proxy.prototype.destroy.call(this);Ext.destroy(this.getReader(),this.getWriter());this.reader=this.writer=null}},0,0,0,0,["proxy.server"],0,[Ext.data.proxy,"Server",Ext.data,"ServerProxy"],0));(Ext.cmd.derive("Ext.data.proxy.Ajax",Ext.data.proxy.Server,{alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],isAjaxProxy:true,defaultActionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},config:{binary:false,headers:undefined,paramsAsJson:false,withCredentials:false,useDefaultXhrHeader:true,username:null,password:null,actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"}},doRequest:function(r){var n=this,m=n.getWriter(),p=n.buildRequest(r),k=n.getMethod(p),q,l;if(m&&r.allowWrite()){p=m.write(p)}p.setConfig({binary:n.getBinary(),headers:n.getHeaders(),timeout:n.getTimeout(),scope:n,callback:n.createRequestCallback(p,r),method:k,useDefaultXhrHeader:n.getUseDefaultXhrHeader(),disableCaching:false});if(k.toUpperCase()!=="GET"&&n.getParamsAsJson()){l=p.getParams();if(l){q=p.getJsonData();if(q){q=Ext.Object.merge({},q,l)}else{q=l}p.setJsonData(q);p.setParams(undefined)}}if(n.getWithCredentials()){p.setWithCredentials(true);p.setUsername(n.getUsername());p.setPassword(n.getPassword())}return n.sendRequest(p)},sendRequest:function(d){d.setRawRequest(Ext.Ajax.request(d.getCurrentConfig()));this.lastRequest=d;return d},abort:function(d){d=d||this.lastRequest;if(d){Ext.Ajax.abort(d.getRawRequest())}},getMethod:function(k){var i=this.getActionMethods(),j=k.getAction(),h;if(i){h=i[j]}return h||this.defaultActionMethods[j]},createRequestCallback:function(g,i){var h=this;return function(d,c,e){if(g===h.lastRequest){h.lastRequest=null}h.processResponse(c,i,g,e)}},destroy:function(){this.lastRequest=null;Ext.data.proxy.Server.prototype.destroy.call(this)}},0,0,0,0,["proxy.ajax"],0,[Ext.data.proxy,"Ajax",Ext.data,"HttpProxy",Ext.data,"AjaxProxy"],0));(Ext.cmd.derive("Ext.data.reader.Json",Ext.data.reader.Reader,{alternateClassName:"Ext.data.JsonReader",config:{record:null,metaProperty:"metaData",useSimpleAccessors:false,preserveRawData:false},updateRootProperty:function(){this.forceBuildExtractors()},updateMetaProperty:function(){this.forceBuildExtractors()},readRecords:function(j,k,m){var l=this,i;if(l.getMeta){i=l.getMeta(j);if(i){l.onMetaChange(i)}}else{if(j.metaData){l.onMetaChange(j.metaData)}}return Ext.data.reader.Reader.prototype.readRecords.call(this,j,k,m)},getResponseData:function(i){var h;try{return Ext.decode(i.responseText)}catch(g){h=this.createReadError(g.message);Ext.Logger.warn("Unable to parse the JSON returned by the server");this.fireEvent("exception",this,i,h);return h}},buildExtractors:function(){var g=this,i,h;if(Ext.data.reader.Reader.prototype.buildExtractors.apply(this,arguments)){i=g.getMetaProperty();h=g.getRootProperty();if(h){g.getRoot=g.getAccessor(h)}else{g.getRoot=Ext.identityFn}if(i){g.getMeta=g.getAccessor(i)}}},extractData:function(p,k){var i=this.getRecord(),l=[],m,n;if(i){m=p.length;if(!m&&Ext.isObject(p)){m=1;p=[p]}for(n=0;n<m;n++){l[n]=p[n][i]}}else{l=p}return Ext.data.reader.Reader.prototype.extractData.call(this,l,k)},getModelData:function(d){return this.getPreserveRawData()?Ext.apply({},d):d},createAccessor:(function(){var d=/[\[\.]/;return function(K){var x=this,G=x.getUseSimpleAccessors(),E,H,A,D,F,L,I,c,i,z,y,C,J,B;if(!(K||K===0)){return}if(typeof K==="function"){return K}if(!G){E=String(K).search(d)}if(G===true||E<0){H=function(e){return e[K]}}else{A="raw";D=[];F="";L=0;B=K.length;for(C=0;C<=B;++C){y=K[C];I=y===".";c=y==="[";i=y==="]";z=I||c||i||!y;if(!z||L>1||(L&&!i)){F+=y}else{if(z){J=false;if(c){++L}else{if(i){--L;J=true}}if(F){if(J){F="["+F+"]"}else{F="."+F}A+=F;D.push(""+A);F=""}}}}H=D.join(" && ");H=Ext.functionFactory("raw","return "+H)}return H}}()),createFieldAccessor:function(i){var l=this,m=i.mapping,k=m||m===0,j=k?m:i.name;if(k){if(typeof j==="function"){return function(c){return i.mapping(c,l)}}else{return l.createAccessor(j)}}},getAccessorKey:function(e){var g=this.getUseSimpleAccessors()?"simple":"";return this.$className+g+e},privates:{copyFrom:function(d){Ext.data.reader.Reader.prototype.copyFrom.call(this,d);this.getRoot=d.getRoot}}},0,0,0,0,["reader.json"],0,[Ext.data.reader,"Json",Ext.data,"JsonReader"],0));(Ext.cmd.derive("Ext.data.writer.Json",Ext.data.writer.Writer,{alternateClassName:"Ext.data.JsonWriter",config:{rootProperty:undefined,encode:false,allowSingle:true,expandData:false},getExpandedData:function(s){var u=s.length,r=0,j,v,q,t,p,i=function(d,c){var e={};e[d]=c;return e};for(;r<u;r++){j=s[r];for(v in j){if(j.hasOwnProperty(v)){q=v.split(".");t=q.length-1;if(t>0){p=j[v];for(;t>0;t--){p=i(q[t],p)}j[q[0]]=j[q[0]]||{};Ext.Object.merge(j[q[0]],p);delete j[v]}}}}return s},writeRecords:function(m,l){var n=this,r=n.getRootProperty(),p,k,q;if(n.getExpandData()){l=n.getExpandedData(l)}if(n.getAllowSingle()&&l.length===1){l=l[0];k=true}q=this.getTransform();if(q){l=q(l,m)}if(n.getEncode()){if(r){m.setParam(r,Ext.encode(l))}else{}}else{if(k||(l&&l.length)){p=m.getJsonData()||{};if(r){p[r]=l}else{p=l}m.setJsonData(p)}}return m}},0,0,0,0,["writer.json"],0,[Ext.data.writer,"Json",Ext.data,"JsonWriter"],0));(Ext.cmd.derive("Ext.util.Group",Ext.util.Collection,{config:{groupKey:null},$endUpdatePriority:2001},0,0,0,0,0,0,[Ext.util,"Group"],0));(Ext.cmd.derive("Ext.util.SorterCollection",Ext.util.Collection,{isSorterCollection:true,$sortable:null,sortFn:null,config:{sorterOptionsFn:null,sorterOptionsScope:null},constructor:function(g){var e=this;e.sortFn=Ext.util.Sorter.createComparator(e);Ext.util.Collection.prototype.constructor.call(this,g);e.setDecoder(e.decodeSorter)},addSort:function(r,s,x){var t=this,w,v,y,p,z,q,u;if(!r){t.beginUpdate();t.endUpdate()}else{p=t.getOptions();if(r instanceof Array){u=r;x=s;s=null}else{if(Ext.isString(r)){if(!(q=t.get(r))){u=[{property:r,direction:s||p.getDefaultSortDirection()}]}else{u=[q]}}else{if(Ext.isFunction(r)){u=[{sorterFn:r,direction:s||p.getDefaultSortDirection()}]}else{u=[r];x=s;s=null}}}x=t._sortModes[x||"replace"];z=t.getAt(0);w=t.length;v=x.append?w:0;t.beginUpdate();t.splice(v,x.replace?w:0,u);if(x.multi){w=t.length;y=p.getMultiSortLimit();if(w>y){t.removeAt(y,w)}}if(q&&s){q.setDirection(s)}else{if(v===0&&z&&z===t.getAt(0)){z.toggle()}}t.endUpdate()}},clear:function(){this.beginUpdate();Ext.util.Collection.prototype.clear.call(this);this.endUpdate(this.items)},getSortFn:function(){return this.sortFn},getByProperty:function(i){var l=this.items,m=l.length,k,j;for(k=0;k<m;++k){j=l[k];if(j.getProperty()===i){return j}}return null},_sortModes:{append:{append:1},multi:{multi:1},prepend:{prepend:1},replace:{replace:1}},decodeSorter:function(n,v){var q=this,m=q.getOptions(),p=m.getRootProperty(),u=q.getSorterOptionsFn(),t,r,s;if(n.isSorter){if(!n.getRoot()){n.setRoot(p)}}else{r={direction:m.getDefaultSortDirection(),root:p};s=typeof n;if(s==="string"){t=q.get(n);if(t){return t}r.property=n}else{if(s==="function"){r.sorterFn=n}else{r=Ext.apply(r,n);if(r.fn){r.sorterFn=r.fn;delete r.fn}}}n=Ext.create(v||"Ext.util.Sorter",r)}if(u){u.call(q.getSorterOptionsScope()||q,n)}return n},setSorterConfigure:function(e,g){this.setSorterOptionsFn(e);this.setSorterOptionsScope(g)},decodeRemoveItems:function(v,y){var t=this,x=(y===undefined)?v:v[y];if(!x||!x.$cloned){if(v.length>y+1||!Ext.isIterable(x)){x=Ext.Array.slice(v,y)}var s=t.items,w=x.length,z=[],A,n,B,i,u;for(A=0;A<w;A++){i=x[A];if(i&&i.isSorter){z.push(i)}else{u=typeof i;if(u==="string"){i=t.get(i);if(i){z.push(i)}}else{if(u==="function"){for(B=s.length;B-->0;){n=s[B];if(n.getSorterFn()===i){z.push(n)}}}}}}x=z;x.$cloned=true}return x},getOptions:function(){return this.$sortable||this}},1,0,0,0,0,0,[Ext.util,"SorterCollection"],0));(Ext.cmd.derive("Ext.util.FilterCollection",Ext.util.Collection,{isFilterCollection:true,$filterable:null,filterFn:null,constructor:function(g){var e=this;e.filterFn=Ext.util.Filter.createFilterFn(e);Ext.util.Collection.prototype.constructor.call(this,g);e.setDecoder(e.decodeFilter)},filterData:function(d){return this.filtered?Ext.Array.filter(d,this.filterFn):d},getFilterFn:function(){return this.filterFn},isItemFiltered:function(d){return !this.filterFn(d)},decodeFilter:function(i){var j=this.getOptions(),k=j.getRootProperty(),h;if(i.isFilter){if(!i.getRoot()){i.setRoot(k)}}else{h={root:k};if(Ext.isFunction(i)){h.filterFn=i}else{h=Ext.apply(h,i);if(h.fn){h.filterFn=h.fn;delete h.fn}if(Ext.util.Filter.isInvalid(h)){return false}}i=new Ext.util.Filter(h)}return i},decodeRemoveItems:function(J,x){var H=this,w=(x===undefined)?J:J[x];if(!w.$cloned){if(J.length>x+1||!Ext.isIterable(w)){w=Ext.Array.slice(J,x)}var B=H.items,i=w.length,z=[],E,A,D,n,F,G,y,C,I;for(A=0;A<i;A++){E=w[A];if(E&&E.isFilter){z.push(E)}else{I=typeof E;D=I==="function";n=E.property!==undefined&&E.value!==undefined;F=I==="string";for(C=B.length;C-->0;){G=B[C];y=false;if(F){y=G.getProperty()===E}else{if(D){y=G.getFilterFn()===E}else{if(n){y=G.getProperty()===E.property&&G.getValue()===E.value}}}if(y){z.push(G)}}}}w=z;w.$cloned=true}return w},getOptions:function(){return this.$filterable||this}},1,0,0,0,0,0,[Ext.util,"FilterCollection"],0));(Ext.cmd.derive("Ext.util.GroupCollection",Ext.util.Collection,{isGroupCollection:true,config:{grouper:null,itemRoot:null},observerPriority:-100,onCollectionAdd:function(e,g){this.addItemsToGroups(e,g.items)},onCollectionBeforeItemChange:function(e,g){this.changeDetails=g},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(g,i){var h=i.item;if(!i.indexChanged){this.syncItemGrouping(g,h,g.getKey(h),i.oldKey,i.oldIndex)}this.changeDetails=null},onCollectionRefresh:function(d){this.removeAll();this.addItemsToGroups(d,d.items)},onCollectionRemove:function(z,y){var t=this,n=t.changeDetails,u,s,r,v,x,w,i;if(n){i=n.item;r=t.findGroupForItem(i);u=[];if(r){u.push({group:r,items:[i]})}}else{u=t.groupItems(z,y.items,false)}for(v=0,x=u.length;v<x;++v){r=(s=u[v]).group;if(r){r.remove(s.items);if(!r.length){(w||(w=[])).push(r)}}}if(w){t.remove(w)}},onCollectionSort:function(m){var n=this,i=m.getSorters(false),r,p,q,l;if(i){r=n.items;p=n.length;for(q=0;q<p;++q){l=r[q];if(l.getSorters()!==i){l.setSorters(i)}}}},onCollectionUpdateKey:function(h,j){var k=j.index,i=j.item;if(!j.indexChanged){k=h.indexOf(i);this.syncItemGrouping(h,i,j.newKey,j.oldKey,k)}},addItemsToGroups:function(e,g){this.groupItems(e,g,true)},groupItems:function(F,x,D){var w=this,G={},z=[],E=F.getGrouper(),i=w.itemGroupKeys,v,J,H,A,I,C,y,B;for(A=0,y=x.length;A<y;++A){H=E.getGroupString(I=x[A]);C=F.getKey(I);if(D){(i||(w.itemGroupKeys=i={}))[C]=H}else{if(i){delete i[C]}}if(!(v=G[H])){if(!(J=w.getByKey(H))&&D){(B||(B=[])).push(J=w.createGroup(F,H))}z.push(G[H]=v={group:J,items:[]})}v.items.push(I)}for(A=0,y=z.length;A<y;++A){v=z[A];v.group.add(v.items)}if(B){w.add(B)}return z},syncItemGrouping:function(H,J,C,z,G){var v=this,y=v.itemGroupKeys||(v.itemGroupKeys={}),F=H.getGrouper(),I=F.getGroupString(J),B=0,w=-1,x,u,D,A,E;if(z){A=y[z];delete y[z]}else{A=y[C]}y[C]=I;if(!(u=v.get(I))){u=v.createGroup(H,I);x=[u]}if(u.get(C)!==J){if(u.getCount()>0&&H.getSorters().getCount()===0){E=H.indexOf(u.items[0]);if(G<E){w=0}else{w=G-E}}if(w===-1){u.add(J)}else{u.insert(w,J)}}else{u.itemChanged(J)}if(I!==A&&(A===0||A)){D=v.get(A);if(D){D.remove(J);if(!D.length){B=[D]}}}if(x){v.splice(0,B,x)}else{if(B){v.splice(0,B)}}},createGroup:function(h,i){var g=new Ext.util.Group({groupKey:i,rootProperty:this.getItemRoot(),sorters:h.getSorters()});return g},getKey:function(d){return d.getGroupKey()},createSortFn:function(){var g=this,i=g.getGrouper(),h=g.getSorters().getSortFn();if(!i){return h}return function(d,c){return i.sort(d.items[0],c.items[0])||h(d,c)}},updateGrouper:function(g){var e=this;e.grouped=!!(g&&e.$groupable.getAutoGroup());e.onSorterChange();e.onEndUpdateSorters(e.getSorters())},destroy:function(){this.$groupable=null;Ext.util.Collection.prototype.destroy.call(this)},privates:{findGroupForItem:function(j){var l=this.items,m=l.length,k,i;for(k=0;k<m;++k){i=l[k];if(i.contains(j)){return i}}}}},0,0,0,0,0,0,[Ext.util,"GroupCollection"],0));(Ext.cmd.derive("Ext.data.Store",Ext.data.ProxyStore,{config:{data:0,clearRemovedOnLoad:true,clearOnPageLoad:true,associatedEntity:null,role:null,session:null},addRecordsOptions:{addRecords:true},loadCount:0,complete:false,moveMapCount:0,constructor:function(i){var h=this,g;if(i){if(i.buffered){return new Ext.data.BufferedStore(i)}}Ext.data.ProxyStore.prototype.constructor.call(this,i);h.getData().addObserver(h);g=h.inlineData;if(g){delete h.inlineData;h.loadInlineData(g)}},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},applyData:function(g,i){var h=this;h.getFields();h.getModel();if(g&&g.isCollection){i=g}else{if(!i){i=h.constructDataCollection()}if(g){if(h.isInitializing){h.inlineData=g}else{h.loadData(g)}}}return i},loadInlineData:function(g){var h=this,i=h.getProxy();if(i&&i.isMemoryProxy){i.setData(g);h.suspendEvents();h.read();h.resumeEvents()}else{h.removeAll(true);h.suspendEvents();h.loadData(g);h.resumeEvents()}},onCollectionAdd:function(e,g){this.onCollectionAddItems(e,g.items,g)},onCollectionFilterAdd:function(e,g){this.onCollectionAddItems(e,g)},onCollectionAddItems:function(z,D,E){var v=this,x=D.length,t=E?!E.next:false,y=v.removed,A=v.ignoreCollectionAdd,w=v.getSession(),F=E&&E.replaced,C,u,B,i;for(C=0;C<x;++C){B=D[C];if(w){w.adopt(B)}if(!A){B.join(v);if(y&&y.length){Ext.Array.remove(y,B)}u=u||B.phantom||B.dirty}}if(A){return}if(F){i=[];do{Ext.Array.push(i,F.items);F=F.next}while(F);v.setMoving(i,true)}if(E){if(E.replaced){if(t){v.fireEvent("refresh",v)}}else{v.fireEvent("add",v,D,E.at);if(t){v.fireEvent("datachanged",v)}}}if(i){v.setMoving(i,false)}v.needsSync=v.needsSync||u},onCollectionFilteredItemChange:function(){this.onCollectionItemChange.apply(this,arguments)},onCollectionItemChange:function(j,k){var l=this,p=k.item,m=k.modified||null,n=k.meta;if(l.fireChangeEvent(p)){l.onUpdate(p,n,m,k);l.fireEvent("update",l,p,n,m,k)}},fireChangeEvent:function(d){return this.getDataSource().contains(d)},afterChange:function(i,g,h){this.getData().itemChanged(i,g||null,undefined,h)},afterCommit:function(g,e){this.afterChange(g,e,Ext.data.Model.COMMIT)},afterEdit:function(g,e){this.needsSync=this.needsSync||g.dirty;this.afterChange(g,e,Ext.data.Model.EDIT)},afterReject:function(d){this.afterChange(d,null,Ext.data.Model.REJECT)},afterDrop:function(d){this.getData().remove(d)},afterErase:function(d){this.removeFromRemoved(d)},addSorted:function(m){var k=this,i=k.getRemoteSort(),j=k.getData(),l;if(i){j.setSorters(k.getSorters())}l=j.findInsertionIndex(m);if(i){j.setSorters(null)}return k.insert(l,m)},remove:function(u,i,p){var n=this,t=n.getDataSource(),q,s,v,r;if(u){if(u.isModel){if(t.indexOf(u)>-1){v=[u];q=1}else{q=0}}else{v=[];for(s=0,q=u.length;s<q;++s){r=u[s];if(r&&r.isEntity){if(!t.contains(r)){continue}}else{if(!(r=t.getAt(r))){continue}}v.push(r)}q=v.length}}if(!q){return[]}n.removeIsMove=i===true;n.removeIsSilent=p;t.remove(v);n.removeIsSilent=false;return v},onCollectionRemove:function(y,E){var t=this,x=t.removed,C=E.items,v=C.length,w=E.at,D=E.replacement,F=t.removeIsMove||(D&&Ext.Array.equals(C,D.items)),u=t.removeIsSilent,i=!E.next,A=t.getDataSource(),B,z;if(t.ignoreCollectionRemove){return}if(D){t.setMoving(D.items,true)}for(B=0;B<v;++B){z=C[B];if(!A.contains(z)){if(x&&!F&&!z.phantom&&!z.erasing){z.removedFrom=w+B;x.push(z);t.needsSync=true}else{z.unjoin(t)}}}if(!u){if(!D||!D.items.length){t.fireEvent("remove",t,C,w,F);if(i){t.fireEvent("datachanged",t)}}}if(D){t.setMoving(D.items,false)}},onFilterEndUpdate:function(){Ext.data.ProxyStore.prototype.onFilterEndUpdate.apply(this,arguments);this.callObservers("Filter")},removeAt:function(i,h){var g=this.getData();i=Math.max(i,0);if(i<g.length){if(arguments.length===1){h=1}else{if(!h){return}}g.removeAt(i,h)}},removeAll:function(l){var k=this,j=k.getData(),i=k.hasListeners.clear,m=j.getRange();if(j.length){k.removeIsSilent=true;k.callObservers("BeforeRemoveAll");j.removeAll();k.removeIsSilent=false;if(!l){k.fireEvent("clear",k,m);k.fireEvent("datachanged",k)}k.callObservers("AfterRemoveAll",[!!l])}return m},setRecords:function(g){var e=this.getCount();++this.loadCount;if(e){this.getData().splice(0,e,g)}else{this.add(g)}},splice:function(i,g,h){return this.getData().splice(i,g,h)},onProxyLoad:function(l){var j=this,k=l.getResultSet(),m=l.getRecords(),i=l.wasSuccessful();if(j.destroyed){return}if(k){j.totalCount=k.getTotal()}if(i){m=j.processAssociation(m);j.loadRecords(m,l.getAddRecords()?{addRecords:true}:undefined)}else{j.loading=false}if(j.hasListeners.load){j.fireEvent("load",j,m,i,l)}j.callObservers("AfterLoad",[m,i,l])},filterDataSource:function(k){var i=this.getDataSource(),n=i.items,p=n.length,m=[],l;for(l=0;l<p;l++){if(k.call(i,n[l])){m.push(n[l])}}return m},getNewRecords:function(){return this.filterDataSource(this.filterNew)},getRejectRecords:function(){return this.filterDataSource(this.filterRejects)},getUpdatedRecords:function(){return this.filterDataSource(this.filterUpdated)},loadData:function(i,p){var k=this,l=i.length,m=[],n;for(n=0;n<l;n++){m.push(k.createModel(i[n]))}m=k.processAssociation(m);k.loadRecords(m,p?k.addRecordsOptions:undefined)},loadRawData:function(m,q){var n=this,l=n.getSession(),r=n.getProxy().getReader().read(m,l?{recordCreator:l.recordCreator}:undefined),p=r.getRecords(),k=r.getSuccess();if(k){n.totalCount=r.getTotal();n.loadRecords(p,q?n.addRecordsOptions:undefined)}return k},loadRecords:function(t,r){var m=this,n=t.length,i=m.getData(),p,q,s;if(r){p=r.addRecords}if(!m.getRemoteSort()&&!m.getSortOnLoad()){s=true;i.setAutoSort(false)}if(!p){m.clearData(true)}m.loading=false;m.ignoreCollectionAdd=true;m.callObservers("BeforePopulate");i.add(t);m.ignoreCollectionAdd=false;if(s){i.setAutoSort(true)}for(q=0;q<n;q++){t[q].join(m)}++m.loadCount;m.complete=true;m.fireEvent("datachanged",m);m.fireEvent("refresh",m);m.callObservers("AfterPopulate")},loadPage:function(h,k){var i=this,j=i.getPageSize();i.currentPage=h;k=Ext.apply({page:h,start:(h-1)*j,limit:j,addRecords:!i.getClearOnPageLoad()},k);i.read(k)},nextPage:function(d){this.loadPage(this.currentPage+1,d)},previousPage:function(d){this.loadPage(this.currentPage-1,d)},clearData:function(v){var p=this,r=p.removed,u=p.getDataSource(),q=p.getClearRemovedOnLoad(),i=r&&v&&!q,x,t,w,s;if(u){x=u.items;for(w=0,s=x.length;w<s;++w){t=x[w];if(i&&Ext.Array.contains(r,t)){continue}t.unjoin(p)}p.ignoreCollectionRemove=true;p.callObservers("BeforeClear");u.removeAll();p.ignoreCollectionRemove=false;p.callObservers("AfterClear")}if(r&&(!v||q)){r.length=0}},onIdChanged:function(g,h,i){this.getData().updateKey(g,h);this.fireEvent("idchanged",this,g,h,i)},commitChanges:function(){var i=this,h=i.getModifiedRecords(),k=h.length,j=0;Ext.suspendLayouts();i.beginUpdate();for(;j<k;j++){h[j].commit()}i.cleanRemoved();i.endUpdate();Ext.resumeLayouts(true)},filterNewOnly:function(d){return d.phantom===true},filterRejects:function(d){return d.phantom||d.dirty},rejectChanges:function(){var n=this,i=n.getRejectRecords(),q=i.length,s,u,v,p,t,r;Ext.suspendLayouts();n.beginUpdate();for(s=0;s<q;s++){u=i[s];if(u.phantom){v=v||[];v.push(u)}else{u.reject()}}if(v){n.remove(v);for(s=0,q=v.length;s<q;++s){v[s].reject()}}i=n.getRawRemovedRecords();if(i){q=i.length;p=!n.getRemoteSort()&&n.isSorted();if(p){t=n.getData();r=t.getAutoSort();t.setAutoSort(false)}for(s=q-1;s>=0;s--){u=i[s];u.reject();if(!p){n.insert(u.removedFrom||0,u)}}if(p){t.setAutoSort(r);n.add(i)}i.length=0}n.endUpdate();Ext.resumeLayouts(true)},onDestroy:function(){var j=this,k=j.loadTask,h=j.getData(),i=h.getSource();j.clearData();Ext.data.ProxyStore.prototype.onDestroy.call(this);j.setSession(null);j.observers=null;if(k){k.cancel();j.loadTask=null}if(i){i.destroy()}},privates:{fetch:function(e){e=Ext.apply({},e);this.setLoadOptions(e);var g=this.createOperation("read",e);g.execute()},onBeforeLoad:function(d){this.callObservers("BeforeLoad",[d])},onRemoteFilterSet:function(g,e){if(g){this.getData().setFilters(e?null:g)}Ext.data.ProxyStore.prototype.onRemoteFilterSet.call(this,g,e)},onRemoteSortSet:function(h,g){var i=this.getData();if(h){i.setSorters(g?null:h)}i.setAutoGroup(!g);Ext.data.ProxyStore.prototype.onRemoteSortSet.call(this,h,g)},isMoving:function(m,k){var i=this.moveMap,n=0,p,l;if(i){if(m){if(Ext.isArray(m)){for(l=0,p=m.length;l<p;++l){n+=i[m[l].id]?1:0}}else{if(i[m.id]){++n}}}else{n=k?i:this.moveMapCount}}return n},setLoadOptions:function(k){var j=this,m=j.getPageSize(),i,l;if(j.getRemoteSort()&&!k.grouper){l=j.getGrouper();if(l){k.grouper=l}}if(m||"start" in k||"limit" in k||"page" in k){k.page=k.page!=null?k.page:j.currentPage;k.start=(k.start!==undefined)?k.start:(k.page-1)*m;k.limit=k.limit!=null?k.limit:m;j.currentPage=k.page}k.addRecords=k.addRecords||false;if(!k.recordCreator){i=j.getSession();if(i){k.recordCreator=i.recordCreator}}Ext.data.ProxyStore.prototype.setLoadOptions.call(this,k)},setMoving:function(q,l){var n=this,m=n.moveMap||(n.moveMap={}),r=q.length,p,i;for(p=0;p<r;++p){i=q[p].id;if(l){if(m[i]){++m[i]}else{m[i]=1;++n.moveMapCount}}else{if(--m[i]===0){delete m[i];--n.moveMapCount}}}if(n.moveMapCount===0){n.moveMap=null}},processAssociation:function(i){var g=this,h=g.getAssociatedEntity();if(h){i=g.getRole().processLoad(g,h,i,g.getSession())}return i}}},1,0,0,0,["store.store"],[[Ext.data.LocalStore.prototype.mixinId||Ext.data.LocalStore.$className,Ext.data.LocalStore]],[Ext.data,"Store"],0));(Ext.cmd.derive("Ext.data.reader.Array",Ext.data.reader.Json,{alternateClassName:"Ext.data.ArrayReader",config:{totalProperty:undefined,successProperty:undefined},createFieldAccessor:function(h){var j=h.mapping,i=h.hasMapping()?j:h.ordinal,k;h.mapping=i;k=Ext.data.reader.Json.prototype.createFieldAccessor.apply(this,arguments);h.mapping=j;return k},getModelData:function(d){return{}}},0,0,0,0,["reader.array"],0,[Ext.data.reader,"Array",Ext.data,"ArrayReader"],0));(Ext.cmd.derive("Ext.data.ArrayStore",Ext.data.Store,{alternateClassName:["Ext.data.SimpleStore"],config:{proxy:{type:"memory",reader:"array"}},loadData:function(i,m){if(this.expandData){var j=[],l=0,k=i.length;for(;l<k;l++){j[j.length]=[i[l]]}i=j}Ext.data.Store.prototype.loadData.call(this,i,m)}},0,0,0,0,["store.array"],0,[Ext.data,"ArrayStore",Ext.data,"SimpleStore"],0));(Ext.cmd.derive("Ext.data.StoreManager",Ext.util.MixedCollection,{alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:true,register:function(){for(var g=0,e;(e=arguments[g]);g++){this.add(e)}},unregister:function(){for(var g=0,e;(e=arguments[g]);g++){this.remove(this.lookup(e))}},lookup:function(p,i){if(Ext.isArray(p)){var q=["field1"],m=!Ext.isArray(p[0]),l=p,n,r;if(m){l=[];for(n=0,r=p.length;n<r;++n){l.push([p[n]])}}else{for(n=2,r=p[0].length;n<=r;++n){q.push("field"+n)}}return new Ext.data.ArrayStore({data:l,fields:q,autoDestroy:true,autoCreated:true,expanded:m})}if(Ext.isString(p)){return this.get(p)}else{return Ext.Factory.store(p,i)}},getKey:function(d){return d.storeId}},0,0,0,0,0,0,[Ext.data,"StoreManager",Ext,"StoreMgr",Ext.data,"StoreMgr",Ext,"StoreManager"],function(){Ext.regStore=function(c,h){var i;if(Ext.isObject(c)){h=c}else{if(Ext.data.StoreManager.containsKey(c)){return Ext.data.StoreManager.lookup(c)}h.storeId=c}if(h instanceof Ext.data.Store){i=h}else{i=new Ext.data.Store(h)}Ext.data.StoreManager.register(i);return i};Ext.getStore=function(c){return Ext.data.StoreManager.lookup(c)};var d=Ext.regStore("ext-empty-store",{proxy:"memory",useModelWarning:false});d.isEmptyStore=true}));(Ext.cmd.derive("Ext.app.domain.Store",Ext.app.EventDomain,{singleton:true,type:"store",prefix:"store.",idMatchRe:/^\#/,constructor:function(){var d=this;d.callParent();d.monitor(Ext.data.AbstractStore)},match:function(h,j){var k=false,i=h.alias;if(j==="*"){k=true}else{if(this.idMatchRe.test(j)){k=h.getStoreId()===j.substring(1)}else{if(i){k=Ext.Array.indexOf(i,this.prefix+j)>-1}}}return k}},1,0,0,0,0,0,[Ext.app.domain,"Store"],0));(Ext.cmd.derive("Ext.app.route.Queue",Ext.Base,{queue:null,token:null,constructor:function(d){Ext.apply(this,d);this.queue=new Ext.util.MixedCollection()},queueAction:function(g,e){this.queue.add({route:g,args:e})},clearQueue:function(){this.queue.removeAll()},runQueue:function(){var i=this.queue,g=i.removeAt(0),h;if(g){h=g&&g.route;h.execute(this.token,g.args,this.onActionExecute,this)}},onActionExecute:function(d){if(d){this.clearQueue()}else{this.runQueue()}}},1,0,0,0,0,0,[Ext.app.route,"Queue"],0));(Ext.cmd.derive("Ext.app.route.Route",Ext.Base,{action:null,conditions:null,controller:null,allowInactive:false,url:null,before:null,caseInsensitive:false,matcherRegex:null,paramMatchingRegex:null,paramsInMatchString:null,constructor:function(h){var g=this,i;Ext.apply(g,h,{conditions:{}});i=g.url;g.paramMatchingRegex=new RegExp(/:([0-9A-Za-z\_]*)/g);g.paramsInMatchString=i.match(g.paramMatchingRegex)||[];g.matcherRegex=g.createMatcherRegex(i)},recognize:function(k){var j=this,m=j.controller,i,l;if((j.allowInactive||m.isActive())&&j.recognizes(k)){i=j.matchesFor(k);l=k.match(j.matcherRegex);l.shift();return Ext.applyIf(i,{controller:m,action:j.action,historyUrl:k,args:l})}return false},recognizes:function(d){return this.matcherRegex.test(d)},execute:function(r,m,l,q){var s=m.args||[],n=this.before,t=this.controller,p=this.createCallback(m,l,q);if(n){s.push(p);if(Ext.isString(n)){n=this.before=t[n]}if(n){n.apply(t,s)}}else{p.resume()}},matchesFor:function(m){var i={},k=this.paramsInMatchString,n=m.match(this.matcherRegex),l=0,p=k.length;n.shift();for(;l<p;l++){i[k[l].replace(":","")]=n[l]}return i},createMatcherRegex:function(x){var v=this.paramsInMatchString,q=this.conditions,u=0,s=v.length,p=Ext.util.Format.format,i=this.caseInsensitive?"i":"",w,r,t;for(;u<s;u++){w=v[u];r=q[w];t=p("{0}",r||"([%a-zA-Z0-9\\-\\_\\s,]+)");x=x.replace(new RegExp(w),t)}return new RegExp("^"+x+"$",i)},createCallback:function(k,h,j){var i=this;j=j||i;return{resume:function(){var e=i.controller,c=i.action,d;if(Ext.isString(c)){c=e[c]}k=k&&k.args?k.args:[];d=k.pop();if(d&&!Ext.isObject(d)){k.push(d)}if(c){i.action=c;c.apply(e,k)}if(h){h.call(j)}},stop:function(c){if(h){h.call(j,c)}}}}},1,0,0,0,0,0,[Ext.app.route,"Route"],0));(Ext.cmd.derive("Ext.util.History",Ext.Base,{singleton:true,alternateClassName:"Ext.History",useTopWindow:false,constructor:function(){var d=this;d.hiddenField=null;d.ready=false;d.currentToken=null;d.mixins.observable.constructor.call(d)},getHash:function(){return this.win.location.hash.substr(1)},setHash:function(e){try{this.win.location.hash=e;this.currentToken=e}catch(g){}},handleStateChange:function(d){this.currentToken=d;this.fireEvent("change",d)},startUp:function(){var d=this;d.currentToken=d.getHash();if(Ext.supports.Hashchange){Ext.get(d.win).on("hashchange",d.onHashChange,d)}else{Ext.TaskManager.start({fireIdleEvent:false,run:d.onHashChange,interval:50,scope:d})}d.ready=true;d.fireEvent("ready",d)},onHashChange:function(){var e=this,g=e.getHash();if(g!==e.hash){e.hash=g;e.handleStateChange(g)}},init:function(g,i){var h=this;if(h.ready){Ext.callback(g,i,[h]);return}if(!Ext.isReady){Ext.onInternalReady(function(){h.init(g,i)});return}h.win=h.useTopWindow?window.top:window;h.hash=h.getHash();if(g){h.on("ready",g,i,{single:true})}h.startUp()},add:function(k,j){var i=this,h=false;if(j===false||i.getToken()!==k){i.setHash(k);h=true}return h},back:function(){var d=this.useTopWindow?window.top:window;d.history.go(-1)},forward:function(){var d=this.useTopWindow?window.top:window;d.history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.util,"History",Ext,"History"],0));(Ext.cmd.derive("Ext.app.route.Router",Ext.Base,{singleton:true,multipleToken:"|",queueRoutes:true,constructor:function(){var d=Ext.util.History;if(!d.ready){d.init()}d.on("change",this.onStateChange,this);this.clear()},onStateChange:function(B){var v=this,C=v.application,t=v.routes,y=t.length,F=v.queueRoutes,w=B.split(v.multipleToken),i=0,D=w.length,A,z,u,x,E;for(;i<D;i++){B=w[i];E=false;if(F){z=new Ext.app.route.Queue({token:B})}for(A=0;A<y;A++){u=t[A];x=u.recognize(B);if(x){E=true;if(F){z.queueAction(u,x)}else{u.execute(B,x)}}}if(F){z.runQueue()}if(!E&&C){C.fireEvent("unmatchedroute",B)}}},connect:function(i,h,k){var j={url:i,action:h,controller:k};if(Ext.isObject(h)){Ext.merge(j,h)}this.routes.push(new Ext.app.route.Route(j))},disconnectAll:function(m){var n=this.routes,p=n.length,k=[],i,l;for(i=0;i<p;++i){l=n[i];if(l.controller!==m){k.push(l)}}this.routes=k},recognize:function(k){var n=this.routes||[],i=0,p=n.length,m,l;for(;i<p;i++){m=n[i];l=m.recognize(k);if(l){return{route:m,args:l}}}return false},draw:function(d){d.call(this,this)},clear:function(){this.routes=[]}},1,0,0,0,0,0,[Ext.app.route,"Router"],0));(Ext.cmd.derive("Ext.app.Controller",Ext.app.BaseController,{statics:{strings:{model:{getter:"getModel",upper:"Model"},view:{getter:"getView",upper:"View"},controller:{getter:"getController",upper:"Controller"},store:{getter:"getStore",upper:"Store"},profile:{getter:"getProfile",upper:"Profiles"}},controllerRegex:/^(.*)\.controller\./,profileRegex:/^(.*)\.profile\./,createGetter:function(g,e){return function(){return this[g](e)}},getGetterName:function(m,p){var l="get",k=m.split("."),j=k.length,n;for(n=0;n<j;n++){l+=Ext.String.capitalize(k[n])}l+=p;return l},resolveNamespace:function(r,l){var k=Ext.app.Controller,m=r.prototype.isProfile?k.profileRegex:k.controllerRegex,n,p,q;n=Ext.getClassName(r);p=l.$namespace||l.namespace||Ext.app.getNamespace(n)||((q=m.exec(n))&&q[1]);return p},processDependencies:function(I,H,D,C,y,F){if(!y||!y.length){return}var x=this,J=x.strings[C],E,j,v,G,B,A,w,z;if(!Ext.isArray(y)){y=[y]}for(B=0,A=y.length;B<A;B++){G=y[B];E=x.getFullName(G,C,D,F);y[B]=j=E.absoluteName;v=E.shortName;H.push(j);w=x.getGetterName(v,J.upper);if(!I[w]){I[w]=z=x.createGetter(J.getter,G)}if(z&&C!=="controller"){z["Ext.app.getter"]=true}}},getFullName:function(p,l,m,n){var r=p,q,k;if((q=p.indexOf("@"))>0){r=p.substring(0,q);k=p.substring(q+1)+"."+r}else{if(p.indexOf(".")>0&&(Ext.ClassManager.isCreated(p)||this.hasRegisteredPrefix(p))){k=p}else{if(m){k=m+"."+l+"."+(n?n+"."+p:p);r=p}else{k=p}}}return{absoluteName:k,shortName:r}},hasRegisteredPrefix:function(i){var g=Ext.ClassManager,h=g.getPrefix(i);return h&&h!==i}},models:null,views:null,stores:null,controllers:null,config:{application:null,refs:null,active:true,moduleClassName:null},onClassExtended:function(j,i,k){var h=k.onBeforeCreated;k.onBeforeCreated=function(p,d){var c=Ext.app.Controller,g=[],n,e;e=p.prototype;n=c.resolveNamespace(p,d);if(n){e.$namespace=n}c.processDependencies(e,g,n,"model",d.models);c.processDependencies(e,g,n,"view",d.views);c.processDependencies(e,g,n,"store",d.stores);c.processDependencies(e,g,n,"controller",d.controllers);Ext.require(g,Ext.Function.pass(h,arguments,this))}},constructor:function(d){this.initAutoGetters();Ext.app.BaseController.prototype.constructor.apply(this,arguments)},normalizeRefs:function(h){var g=this,i=[];if(h){if(Ext.isObject(h)){Ext.Object.each(h,function(d,c){if(Ext.isString(c)){c={selector:c}}c.ref=d;i.push(c)})}else{if(Ext.isArray(h)){i=Ext.Array.merge(i,h)}}}h=g.refs;if(h){g.refs=null;h=g.normalizeRefs(h);if(h){i=Ext.Array.merge(i,h)}}return i},getRefMap:function(){var i=this,m=i._refMap,p,k,l,n;if(!m){p=i.getRefs();m=i._refMap={};if(p){for(n=0,l=p.length;n<l;n++){k=p[n];m[k.ref]=k.selector}}}return m},applyRefs:function(d){return this.normalizeRefs(Ext.clone(d))},updateRefs:function(d){if(d){this.ref(d)}},initAutoGetters:function(){var h=this.self.prototype,g,i;for(g in h){i=h[g];if(i&&i["Ext.app.getter"]){i.call(this)}}},doInit:function(e){var g=this;if(!g._initialized){g.init(e);g._initialized=true}},finishInit:function(i){var l=this,k=l.controllers,n,m,p;if(l._initialized&&k&&k.length){for(m=0,p=k.length;m<p;m++){n=l.getController(k[m]);n.finishInit(i)}}},init:Ext.emptyFn,onLaunch:Ext.emptyFn,activate:function(){this.setActive(true)},deactivate:function(){this.setActive(false)},isActive:function(){return this.getActive()},ref:function(r){var l=this,q=0,m=r.length,i,n,p;r=Ext.Array.from(r);l.references=l.references||[];for(;q<m;q++){i=r[q];n=i.ref;p="get"+Ext.String.capitalize(n);if(!l[p]){l[p]=Ext.Function.pass(l.getRef,[n,i],l)}l.references.push(n.toLowerCase())}},addRef:function(d){this.ref(d)},getRef:function(l,j,p){var m=this,k=m.refCache||(m.refCache={}),n=k[l];j=j||{};p=p||{};Ext.apply(j,p);if(j.forceCreate){return Ext.ComponentManager.create(j,"component")}if(!n){if(j.selector){k[l]=n=Ext.ComponentQuery.query(j.selector)[0]}if(!n&&j.autoCreate){k[l]=n=Ext.ComponentManager.create(j,"component")}if(n){n.on("beforedestroy",function(){k[l]=null})}}return n},hasRef:function(e){var g=this.references;return g&&Ext.Array.indexOf(g,e.toLowerCase())!==-1},getController:function(e){var g=this.getApplication();if(e===this.getId()){return this}return g&&g.getController(e)},getStore:function(g){var i,h;i=(g.indexOf("@")===-1)?g:g.split("@")[0];h=Ext.StoreManager.get(i);if(!h){g=Ext.app.Controller.getFullName(g,"store",this.$namespace);if(g){h=Ext.create(g.absoluteName,{id:i})}}return h},getModel:function(g){var h=Ext.app.Controller.getFullName(g,"model",this.$namespace),i=Ext.ClassManager.get(h.absoluteName);if(!i){i=Ext.data.schema.Schema.lookupEntity(g)}return i},getProfile:function(d){d=Ext.app.Controller.getFullName(d,"profile",this.$namespace);return d},getView:function(g){var e=Ext.app.Controller.getFullName(g,"view",this.$namespace);return e&&Ext.ClassManager.get(e.absoluteName)},ensureId:function(){var d=this.getId();if(!d){this.setId(this.getModuleClassName(this.$className,"controller"))}},destroy:function(p,n){var l=this,j=l.application,k,m;if(!n&&j){j.unregister(l)}l.application=null;if(p){k=l.refCache;for(m in k){if(k.hasOwnProperty(m)){Ext.destroy(k[m])}}}Ext.app.BaseController.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.app,"Controller"],0));(Ext.cmd.derive("Ext.app.Application",Ext.app.Controller,{isApplication:true,scope:undefined,namespaces:[],paths:null,config:{name:"",appProperty:"app",profiles:[],currentProfile:null,mainView:{$value:null,lazy:true},defaultToken:null,glyphFontFamily:null},onClassExtended:function(q,v,r){var w=Ext.app.Controller,u=q.prototype,n=[],t,p,x,s;x=v.name||q.superclass.name;if(x){v.$namespace=x;Ext.app.addNamespaces(x)}if(v.namespaces){Ext.app.addNamespaces(v.namespaces)}if(v["paths processed"]){delete v["paths processed"]}else{Ext.app.setupPaths(x,("appFolder" in v)?v.appFolder:q.superclass.appFolder,v.paths)}w.processDependencies(u,n,x,"profile",v.profiles);u.getDependencies(q,v,n);if(n.length){t=r.onBeforeCreated;r.onBeforeCreated=function(e,c){var d=Ext.Array.clone(arguments);Ext.require(n,function(){return t.apply(this,d)})}}},getDependencies:Ext.emptyFn,constructor:function(g){var e=this;Ext.app.route.Router.application=e;Ext.app.Controller.prototype.constructor.apply(this,arguments);e.doInit(e);e.initNamespace();Ext.on("appupdate",e.onAppUpdate,e,{single:true});this.onProfilesReady()},onAppUpdate:Ext.emptyFn,onProfilesReady:function(){var k=this,n=k.getProfiles(),l=n.length,i,m,p;for(m=0;m<l;m++){p=Ext.create(n[m],{application:k});if(p.isActive()&&!i){i=p;k.setCurrentProfile(i)}}if(i){i.init()}k.initControllers();k.onBeforeLaunch();k.finishInitControllers()},initNamespace:function(){var g=this,i=g.getAppProperty(),h;h=Ext.namespace(g.getName());if(h){h.getApplication=function(){return g};if(i){if(!h[i]){h[i]=g}}}},initControllers:function(){var j=this,i=Ext.Array.from(j.controllers),l=j.getCurrentProfile(),m,k;j.controllers=new Ext.util.MixedCollection();for(m=0,k=i.length;m<k;m++){j.getController(i[m])}if(l){i=l.getControllers();for(m=0,k=i.length;m<k;m++){j.getController(i[m])}}},finishInitControllers:function(){var i=this,h,j,k;h=i.controllers.getRange();for(j=0,k=h.length;j<k;j++){h[j].finishInit(i)}},launch:Ext.emptyFn,onBeforeLaunch:function(){var n=this,s=Ext.util.History,v=n.getDefaultToken(),q=n.getCurrentProfile(),u,p,c,r,t;n.initMainView();if(q){q.launch()}n.launch.call(n.scope||n);n.launched=true;n.fireEvent("launch",n);u=n.controllers.items;c=u.length;for(p=0;p<c;p++){r=u[p];r.onLaunch(n)}if(!s.ready){s.init()}t=s.getToken();if(t||t===v){Ext.app.route.Router.onStateChange(t)}else{if(v){s.add(v)}}if(Ext.Microloader&&Ext.Microloader.appUpdate&&Ext.Microloader.appUpdate.updated){Ext.Microloader.fireAppUpdate()}Ext.defer(Ext.ClassManager.clearNamespaceCache,2000,Ext.ClassManager)},getModuleClassName:function(g,e){return Ext.app.Controller.getFullName(g,e,this.getName()).absoluteName},initMainView:function(){var g=this,h=g.getCurrentProfile(),i;if(h){i=h.getMainView()}if(i){g.setMainView(i)}else{g.getMainView()}},applyMainView:function(e){var g=this.getView(e);return g.create()},createController:function(d){return this.getController(d)},destroyController:function(d){if(typeof d==="string"){d=this.getController(d,true)}Ext.destroy(d)},getController:function(w,x){var i=this,v=i.controllers,r,t,s,u,q,c;t=v.get(w);if(!t){c=v.items;for(u=0,s=c.length;u<s;++u){q=c[u];r=q.getModuleClassName();if(r&&r===w){t=q;break}}}if(!t&&!x){r=i.getModuleClassName(w,"controller");t=Ext.create(r,{application:i,moduleClassName:w});v.add(t);if(i._initialized){t.doInit(i)}}return t},unregister:function(d){this.controllers.remove(d)},getApplication:function(){return this},destroy:function(m){var k=this,i=k.controllers,l=Ext.namespace(k.getName()),j=k.getAppProperty();Ext.destroy(k.viewport);if(i){i.each(function(c){c.destroy(m,true)})}k.controllers=null;Ext.app.Controller.prototype.destroy.call(this,m,true);if(l&&l[j]===k){delete l[j]}},updateGlyphFontFamily:function(d){Ext.setGlyphFontFamily(d)},applyProfiles:function(g){var e=this;return Ext.Array.map(g,function(c){return e.getModuleClassName(c,"profile")})}},1,0,0,0,0,0,[Ext.app,"Application"],0));Ext.application=function(g){var e=function(c){Ext.onReady(function(){var d=Ext.viewport;d=d&&d.Viewport;if(d&&d.setup){d.setup(c.prototype.config.viewport)}Ext.app.Application.instance=new c()})};if(typeof g==="string"){Ext.require(g,function(){e(Ext.ClassManager.get(g))})}else{g=Ext.apply({extend:"Ext.app.Application"},g);Ext.app.setupPaths(g.name,g.appFolder,g.paths);g["paths processed"]=true;Ext.define(g.name+".$application",g,function(){e(this)})}};Ext.define("Ext.overrides.app.Application",{override:"Ext.app.Application",autoCreateViewport:false,config:{enableQuickTips:true},applyMainView:function(i){var l,j,k,m;if(typeof i==="string"){l=this.getView(i)}else{l=Ext.ClassManager.getByConfig(i)}j=l.prototype;if(!j.isViewport){m=j.plugins;m=["viewport"].concat(m?Ext.Array.from(m,true):[]);k={plugins:m}}return l.create(k)},getDependencies:function(r,l,n){var k=Ext.app.Controller,m=r.prototype,p=l.$namespace,q=l.autoCreateViewport;if(q){if(q===true){q="Viewport"}else{n.push("Ext.plugin.Viewport")}k.processDependencies(m,n,p,"view",q)}},onBeforeLaunch:function(){var e=this,g=e.autoCreateViewport;if(e.getEnableQuickTips()){e.initQuickTips()}if(g){e.initViewport()}arguments.callee.$previous.apply(this,arguments)},getViewportName:function(){var g=null,e=this.autoCreateViewport;if(e){g=(e===true)?"Viewport":e}return g},initViewport:function(){this.setMainView(this.getViewportName())},initQuickTips:function(){Ext.tip.QuickTipManager.init()}});(Ext.cmd.derive("Ext.app.domain.View",Ext.app.EventDomain,{isInstance:true,constructor:function(d){Ext.app.EventDomain.prototype.constructor.apply(this,arguments);this.controller=d;this.monitoredClasses=[Ext.Component]},match:function(h,k,j){var i=false;if(k==="#"){i=j===h.getController()}else{i=h.is(k)}return i},destroy:function(){this.controller=null;Ext.app.EventDomain.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.app.domain,"View"],0));(Ext.cmd.derive("Ext.app.ViewController",Ext.app.BaseController,{isViewController:true,factoryConfig:{type:"controller"},config:{closeViewAction:"destroy"},view:null,constructor:function(){this.compDomain=new Ext.app.domain.View(this);Ext.app.BaseController.prototype.constructor.apply(this,arguments)},beforeInit:Ext.emptyFn,init:Ext.emptyFn,initViewModel:Ext.emptyFn,destroy:function(){var g=this,e=g.compDomain;if(e){e.unlisten(g);e.destroy()}g.compDomain=g.view=null;Ext.app.BaseController.prototype.destroy.call(this)},closeView:function(){var g=this.getView(),e;if(g){e=this.getCloseViewAction();g[e]()}},control:function(i,h){var g=i;if(Ext.isString(i)){g={};g[i]=h}this.compDomain.listen(g,this)},listen:function(g,i){var h=g.component;if(h){g=Ext.apply({},g);delete g.component;this.control(h)}this.callParent([g,i])},getReferences:function(){var d=this.view;return d&&d.getReferences()},getView:function(){return this.view},lookup:function(e){var g=this.view;return g&&g.lookup(e)},lookupReference:function(d){return this.lookup(d)},getSession:function(){var d=this.view;return d&&d.lookupSession()},getViewModel:function(){var d=this.view;return d&&d.lookupViewModel()},getStore:function(e){var g=this.getViewModel();return g?g.getStore(e):null},fireViewEvent:function(j,l){var k=this.view,m=false,i=arguments;if(k){if(k!==l){i=Ext.Array.slice(i);i.splice(1,0,k)}m=k.fireEvent.apply(k,i)}return m},privates:{view:null,ensureId:function(){var d=this.getId();if(!d){this.setId(Ext.id(null,"controller-"))}},attachReference:function(e){var g=this.view;if(g){g.attachReference(e)}},clearReference:function(e){var g=this.view;if(g){g.clearReference(e)}},clearReferences:function(){var d=this.view;if(d){d.clearReferences()}},setView:function(d){this.view=d;if(!this.beforeInit.$nullFn){this.beforeInit(d)}}}},1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.app,"ViewController"],0));(Ext.cmd.derive("Ext.util.Bag",Ext.Base,{isBag:true,constructor:function(){this.items=[];this.map={}},generation:0,length:0,add:function(m){var n=this,k=n.getKey(m),l=n.map,p=n.items,r=l[k],q;if(r===undefined){p.push(m);l[k]=n.length++;q=m}else{q=p[r];p[r]=m}++n.generation;return q},clear:function(){var g=this,h=g.generation||g.length,i=h?g.items:[];if(h){g.items=[];g.length=0;g.map={};++g.generation}return i},clone:function(){var g=this,h=new g.self(),i=g.length;if(i){Ext.apply(h.map,g.map);h.items=g.items.slice();h.length=g.length}return h},contains:function(i){var k=false,h=this.map,j;if(i!=null){j=this.getKey(i);if(j in h){k=this.items[h[j]]===i}}return k},containsKey:function(d){return d in this.map},destroy:function(){this.items=this.map=null;this.callParent()},getAt:function(e){var g=null;if(e<this.length){g=this.items[e]}return g},getByKey:function(h){var g=this.map,i=null;if(h in g){i=this.items[g[h]]}return i},getCount:function(){return this.length},getKey:function(d){return d.id||d.getId()},remove:function(n){var p=this,m=p.map,r=p.items,s=null,t,l,q;if(p.length){t=m[l=p.getKey(n)];if(t!==undefined){delete m[l];s=r[t];q=r.pop();if(t<--p.length){r[t]=q;m[p.getKey(q)]=t}++p.generation}}return s},removeByKey:function(g){var e=this.getByKey(g);if(e){this.remove(e)}return e||null},sort:function(l){var j=this,m=j.items,i=m.length,k;if(i){Ext.Array.sort(m,l);j.map={};while(i-->0){k=m[i];j.map[j.getKey(k)]=i}++j.generation}}},1,0,0,0,0,0,[Ext.util,"Bag"],0));(Ext.cmd.derive("Ext.util.Scheduler",Ext.Base,{busyCounter:0,lastBusyCounter:0,destroyed:false,firing:null,notifyIndex:-1,nextId:0,orderedItems:null,passes:0,scheduledCount:0,validIdRe:null,config:{cycleLimit:5,preSort:null,tickDelay:5},suspendOnNotify:true,constructor:function(d){this.mixins.observable.constructor.call(this,d);this.items=new Ext.util.Bag()},destroy:function(){var g=this,e=g.timer;if(e){window.clearTimeout(e);g.timer=null}g.items.destroy();g.items=g.orderedItems=null;g.callParent()},add:function(g){var h=this,i=h.items;if(i===h.firing){h.items=i=i.clone()}g.id=g.id||++h.nextId;g.scheduler=h;i.add(g);if(!h.sortMap){h.orderedItems=null}},remove:function(g){var h=this,i=h.items;if(h.destroyed){return}if(i===h.firing){h.items=i=i.clone()}if(g.scheduled){h.unscheduleItem(g);g.scheduled=false}i.remove(g);h.orderedItems=null},sort:function(){var l=this,p=l.items,k={},i=l.getPreSort(),n,m;l.orderedItems=[];l.sortMap=k;if(i){p.sort(i)}p=p.items;for(n=0;n<p.length;++n){m=p[n];if(!k[m.id]){l.sortItem(m)}}l.sortMap=null},sortItem:function(k){var l=this,j=l.sortMap,m=l.orderedItems,i;if(!k.scheduler){l.add(k)}i=k.id;if(!(i in j)){j[i]=0;if(!k.sort.$nullFn){k.sort()}j[i]=1;k.order=l.orderedItems.length;m.push(k)}return l},sortItems:function(i){var h=this,g=h.sortItem;if(i){if(i instanceof Array){Ext.each(i,g,h)}else{Ext.Object.eachValue(i,g,h)}}return h},applyPreSort:function(i){if(typeof i==="function"){return i}var m=i.split(","),n=[],p=m.length,c,r,q;for(r=0;r<p;++r){n[r]=1;q=m[r];if((c=q.charAt(0))==="-"){n[r]=-1}else{if(c!=="+"){c=0}}if(c){m[r]=q.substring(1)}}return function(l,e){var d=0,k,g,h,j;for(k=0;!d&&k<p;++k){g=m[k];h=l[g];j=e[g];d=n[k]*((h<j)?-1:((j<h)?1:0))}return d}},notify:function(){var r=this,y=r.timer,w=r.getCycleLimit(),x=Ext.GlobalEvents,t=r.suspendOnNotify,i,v,q,s,u,z;if(y){window.clearTimeout(y);r.timer=null}if(t){Ext.suspendLayouts()}while(r.scheduledCount){if(w){--w}else{r.firing=null;break}if(!z){z=true;if(x.hasListeners.beforebindnotify){x.fireEvent("beforebindnotify",r)}}++r.passes;if(!(u=r.orderedItems)){r.sort();u=r.orderedItems}s=u.length;if(s){r.firing=r.items;for(v=0;v<s;++v){q=u[v];if(q.scheduled){q.scheduled=false;--r.scheduledCount;r.notifyIndex=v;q.react();if(!r.scheduledCount){break}}}}}r.firing=null;r.notifyIndex=-1;if(t){Ext.resumeLayouts(true)}if((i=r.busyCounter)!==r.lastBusyCounter){if(!(r.lastBusyCounter=i)){r.fireEvent("idle",r)}}},onTick:function(){this.timer=null;this.notify()},scheduleItem:function(e){var g=this;++g.scheduledCount;if(!g.timer&&!g.firing){g.scheduleTick()}},scheduleTick:function(){var d=this;if(!d.destroyed&&!d.timer){d.timer=Ext.Function.defer(d.onTick,d.getTickDelay(),d)}},unscheduleItem:function(d){if(this.scheduledCount){--this.scheduledCount}},adjustBusy:function(i){var h=this,g=h.busyCounter+i;h.busyCounter=g;if(g){if(!h.lastBusyCounter){h.lastBusyCounter=g;h.fireEvent("busy",h)}}else{if(h.lastBusyCounter&&!h.timer){h.scheduleTick()}}},isBusy:function(){return !this.isIdle()},isIdle:function(){return !(this.busyCounter+this.lastBusyCounter)}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.util,"Scheduler"],0));(Ext.cmd.derive("Ext.data.Batch",Ext.Base,{config:{pauseOnException:false},current:-1,total:0,running:false,complete:false,exception:false,constructor:function(g){var e=this;e.mixins.observable.constructor.call(e,g);e.operations=[];e.exceptions=[]},add:function(j){var h=this,i,k;if(Ext.isArray(j)){for(i=0,k=j.length;i<k;++i){h.add(j[i])}}else{h.total++;j.setBatch(h);h.operations.push(j)}return h},sort:function(){this.operations.sort(this.sortFn)},sortFn:function(m,p){var n=m.order-p.order;if(n){return n}var j=m.entityType,l=p.entityType,k;if(!j||!l){return 0}if(!(k=j.rank)){j.schema.rankEntities();k=j.rank}return(k-l.rank)*m.foreignKeyDirection},start:function(g){var e=this;if(!e.operations.length||e.running){return e}e.exceptions.length=0;e.exception=false;e.running=true;return e.runOperation(Ext.isDefined(g)?g:e.current+1)},retry:function(){return this.start(this.current)},runNextOperation:function(){var d=this;if(d.running){d.runOperation(d.current+1)}return d},pause:function(){this.running=false;return this},getOperations:function(){return this.operations},getExceptions:function(){return this.exceptions},getCurrent:function(){var g=null,e=this.current;if(!(e===-1||this.complete)){g=this.operations[e]}return g},getTotal:function(){return this.total},isRunning:function(){return this.running},isComplete:function(){return this.complete},hasException:function(){return this.exception},runOperation:function(i){var h=this,j=h.operations,k=j[i];if(k===undefined){h.running=false;h.complete=true;h.fireEvent("complete",h,j[j.length-1])}else{h.current=i;k.setInternalCallback(h.onOperationComplete);k.setInternalScope(h);k.execute()}return h},onOperationComplete:function(i){var g=this,h=i.hasException();if(h){g.exception=true;g.exceptions.push(i);g.fireEvent("exception",g,i)}if(h&&g.getPauseOnException()){g.pause()}else{g.fireEvent("operationcomplete",g,i);g.runNextOperation()}}},1,0,0,0,0,[["observable",Ext.mixin.Observable]],[Ext.data,"Batch"],0));(Ext.cmd.derive("Ext.data.matrix.Slice",Ext.Base,{constructor:function(g,e){this.id=e;this.side=g;this.members={}},attach:function(g){var e=this;e.store=g;g.matrix=e;g.on("load",e.onStoreLoad,e,{single:true})},commit:function(){var g=this.members,e;for(e in g){g[e][2]=0}},onStoreLoad:function(d){this.update(d.getData().items,0)},update:function(C,I){var i=this,G=Ext.data.matrix.Slice,L=i.side,F=L.index,J=C.length,D=i.id,x=i.members,M=L.inverse,y=M.slices,H,A,B,z,N,E,K;for(B=0;B<J;++B){A=K=null;z=C[B];N=z.isEntity?(K=z).id:z;H=x[N];if(I<0&&H&&H[2]===1){delete x[N];E=y[N];if(E){delete E.members[D]}A=1}else{if(!H){H=[N,N,I];H[F]=D;x[N]=H;E=y[N];if(!E){y[N]=E=new G(M,N)}E.members[D]=H;A=1}else{if(I!==H[2]&&I!==0){H[2]=I;E=y[N];A=1}}}if(A){if(i.notify){i.notify.call(i.scope,i,N,I)}if(E&&E.notify){E.notify.call(E.scope,E,D,I)}}}},updateId:function(A){var t=this,B=t.id,u=t.side,q=u.slices,r=q[B],z=r.members,w=u.index,y=u.inverse.slices,v,x,s;t.id=A;q[A]=r;delete q[B];for(x in z){v=z[x];v[w]=A;s=y[x].members;s[A]=s[B];delete s[B]}},destroy:function(){var e=this,g=e.store;if(g){g.matrix=null;g.un("load",e.onStoreLoad,e)}e.notify=e.scope=e.store=e.side=e.members=null;e.callParent()}},1,0,0,0,0,0,[Ext.data.matrix,"Slice"],0));(Ext.cmd.derive("Ext.data.matrix.Side",Ext.Base,{constructor:function(k,j,h){var i=this;i.matrix=k;i.index=j;i.role=h;i.slices={}},commit:function(){var g=this.slices,e;for(e in g){g[e].commit()}},get:function(l,m){var k=this,i=k.slices,j=i[l]||(i[l]=new Ext.data.matrix.Slice(k,l));return(m||m===0)?j.members[m]:j},update:function(j,k,i){var h=this.get(j);return h.update(k,i)},updateId:function(g,i){var h=this.get(g);if(h){h.updateId(i)}},destroy:function(){var i=this,h=i.slices,g;for(g in h){h[g].destroy()}i.inverse=i.matrix=i.role=i.slices=null;i.callParent()}},1,0,0,0,0,0,[Ext.data.matrix,"Side"],0));(Ext.cmd.derive("Ext.data.matrix.Matrix",Ext.Base,{constructor:function(k,p){var m=this,q=p.isManyToMany?p:k.getSchema().getAssociation(p),r=Ext.data.matrix.Side,l=new r(m,0,q.left),n=new r(m,1,q.right);m.association=q;m.session=k;m.left=l;m.right=n;l.inverse=n;n.inverse=l},commit:function(){this.left.commit();this.right.commit()},update:function(h,i,g){return this.left.update(h,i,g)},updateId:function(r,k,p){var q=r.self,l=this.left,n=this.right,m;if(q===l.role.cls){m=l}if(q===n.role.cls){m=n}if(m){m.updateId(k,p)}},destroy:function(){var d=this;d.left.destroy();d.right.destroy();d.association=d.session=d.left=d.right=null;d.callParent()}},1,0,0,0,0,0,[Ext.data.matrix,"Matrix"],0));(Ext.cmd.derive("Ext.data.session.ChangesVisitor",Ext.Base,{constructor:function(g){var i=this,h;i.session=g;h=g.getCrudProperties();i.result=null;i.writerOptions={};i.createKey=h.create;i.readKey=h.read;i.updateKey=h.update;i.dropKey=h.drop},onDirtyRecord:function(A){var x=this,u=x.crud,B=A.phantom,D=A.dropped,z=!B&&!D,w=A.$className,E=(B||D)?"allDataOptions":"partialDataOptions",y=x.writerOptions,F=A.entityName,s,C,v,t;if(B&&D){return false}u=B?x.createKey:(D?x.dropKey:x.updateKey);y=y[w]||(y[w]={});if(D){if(!(s=y.drop)){y.drop=s={all:A.getProxy().getWriter().getWriteAllFields()}}if(!s.all){v=A.id}}if(!v){if(!(s=y[E])){s=A.getProxy().getWriter().getConfig(E);y[E]=s=Ext.Object.chain(s);x.setupOptions(s)}v=A.getData(s)}t=x.result||(x.result={});C=t[F]||(t[F]={});C=C[u]||(C[u]=[]);C.push(v)},setupOptions:function(d){d.serialize=true},onMatrixChange:function(u,p,q,x){var r=this,w=u.left.type,s=u.right.role,t=x<0?r.dropKey:r.createKey,v,n;n=r.result||(r.result={});v=n[w]||(n[w]={});v=v[s]||(v[s]={});v=v[t]||(v[t]={});v=v[p]||(v[p]=[]);v.push(q)}},1,0,0,0,0,0,[Ext.data.session,"ChangesVisitor"],0));(Ext.cmd.derive("Ext.data.session.ChildChangesVisitor",Ext.data.session.ChangesVisitor,{constructor:function(){this.seen={};Ext.data.session.ChangesVisitor.prototype.constructor.apply(this,arguments)},setupOptions:function(d){Ext.data.session.ChangesVisitor.prototype.setupOptions.call(this,d);d.serialize=false},onDirtyRecord:function(d){if(Ext.data.session.ChangesVisitor.prototype.onDirtyRecord.apply(this,arguments)!==false){if(!d.$source&&(d.dropped||!d.phantom)){this.readEntity(d)}}},readEntity:function(q){var p=this,r=p.readKey,u=q.entityName,t=q.id,v=p.seen,n=u+t,m,s;if(v[n]){return}v[n]=true;m=p.result||(p.result={});s=m[u]||(m[u]={});s=s[r]||(s[r]=[]);s.push(Ext.apply({},q.modified,q.data))}},1,0,0,0,0,0,[Ext.data.session,"ChildChangesVisitor"],0));(Ext.cmd.derive("Ext.data.session.BatchVisitor",Ext.Base,{map:null,constructor:function(d){this.batch=d},getBatch:function(n){var m=this.map,q=this.batch,l,s,r,t,p;if(m){if(!q){q=new Ext.data.Batch()}for(r in m){l=m[r];s=l.entity;p=s.getProxy();delete l.entity;for(t in l){t=p.createOperation(t,{records:l[t]});t.entityType=s;q.add(t)}}}if(q&&n!==false){q.sort()}return q},onDirtyRecord:function(p){var l=this,n=p.phantom?"create":(p.dropped?"destroy":"update"),m=p.$className,k=(l.map||(l.map={})),j=(k[m]||(k[m]={entity:p.self}));j=j[n]||(j[n]=[]);j.push(p)}},1,0,0,0,0,0,[Ext.data.session,"BatchVisitor"],0));(Ext.cmd.derive("Ext.data.Session",Ext.Base,{isSession:true,config:{schema:"default",parent:null,autoDestroy:true,crudProperties:{create:"C",read:"R",update:"U",drop:"D"}},destroyed:false,crudOperations:[{type:"R",entityMethod:"readEntities"},{type:"C",entityMethod:"createEntities"},{type:"U",entityMethod:"updateEntities"},{type:"D",entityMethod:"dropEntities"}],crudKeys:{C:1,R:1,U:1,D:1},constructor:function(g){var e=this;e.data={};e.matrices={};e.identifierCache={};e.recordCreator=e.recordCreator.bind(e);e.initConfig(g)},destroy:function(){var n=this,q=n.matrices,m=n.data,p,l,r,k;for(k in q){q[k].destroy()}for(p in m){l=m[p];for(k in l){r=l[k].record;if(r){r.$source=r.session=null}}}n.recordCreator=n.matrices=n.data=null;n.setSchema(null);n.callParent()},adopt:function(j){var h=this,i=j.associations,k;if(j.session!==h){j.session=h;h.add(j);if(i){for(k in i){i[k].adoptAssociated(j,h)}}}},commit:function(){var l=this.data,n=this.matrices,m,k,j,p;for(m in l){k=l[m];for(j in k){p=k[j].record;if(p){p.commit()}}}for(j in n){n[j].commit()}},createRecord:function(l,k){var j=l.$isClass?l:this.getSchema().getEntity(l),m=this.getParent(),i;if(k&&m){i=j.getIdFromData(k);if(m.peekRecord(j,i)){Ext.raise("A parent session already contains an entry for "+j.entityName+": "+i)}}return new j(k,this)},getChanges:function(){var d=new Ext.data.session.ChangesVisitor(this);this.visitData(d);return d.result},getChangesForParent:function(){var d=new Ext.data.session.ChildChangesVisitor(this);this.visitData(d);return d.result},getRecord:function(n,v,t){var p=this,u=n.isModel,q,s,m,r;if(u){u=n;v=n.id;n=n.self}q=p.peekRecord(n,v);if(!q){s=n.$isClass?n:p.getSchema().getEntity(n);m=p.getParent();if(m){r=m.peekRecord(s,v)}if(r){if(r.isLoading()){u=false}else{q=r.copy(undefined,p);q.$source=r}}if(!q){if(u){q=u;p.adopt(q)}else{q=s.createWithId(v,null,p);if(t!==false){q.load(Ext.isObject(t)?t:undefined)}}}}return q},getSaveBatch:function(g){var e=new Ext.data.session.BatchVisitor();this.visitData(e);return e.getBatch(g)},onInvalidAssociationEntity:function(g,e){Ext.raise("Unable to read association entity: "+this.getModelIdentifier(g,e))},onInvalidEntityCreate:function(g,e){Ext.raise("Cannot create, record already not exists: "+this.getModelIdentifier(g,e))},onInvalidEntityDrop:function(g,e){Ext.raise("Cannot drop, record does not exist: "+this.getModelIdentifier(g,e))},onInvalidEntityRead:function(g,e){Ext.raise("Cannot read, record already not exists: "+this.getModelIdentifier(g,e))},onInvalidEntityUpdate:function(i,g,h){if(h){Ext.raise("Cannot update, record dropped: "+this.getModelIdentifier(i,g))}else{Ext.raise("Cannot update, record does not exist: "+this.getModelIdentifier(i,g))}},peekRecord:function(p,l,t){var m=p.$isClass?p:this.getSchema().getEntity(p),r=m.entityName,n=this.data[r],s,q;n=n&&n[l];s=n&&n.record;if(!s&&t){q=this.getParent();s=q&&q.peekRecord(p,l,t)}return s||null},save:function(){var d=new Ext.data.session.ChildChangesVisitor(this);this.visitData(d);this.getParent().update(d.result)},spawn:function(){return new this.self({schema:this.getSchema(),parent:this})},update:function(y){var w=this,C=w.getSchema(),G=w.crudOperations,x=G.length,v=w.crudKeys,i,B,I,z,D,H,E,J,A,F;w.getSchema().processKeyChecks(true);for(i in y){B=C.getEntity(i);I=y[i];for(z=0;z<x;++z){D=G[z];H=I[D.type];if(H){w[D.entityMethod](B,H)}}}for(i in y){B=C.getEntity(i);E=B.associations;I=y[i];for(J in I){if(v[J]){continue}A=E[J];F=I[A.role];A.processUpdate(w,F)}}},privates:{add:function(n){var k=this,j=n.id,l=k.getEntry(n.self,j),m,p;l.record=n;k.registerReferences(n);m=n.associations;for(p in m){m[p].checkMembership(k,n)}},afterErase:function(d){this.evict(d)},applySchema:function(d){return Ext.data.schema.Schema.get(d)},createEntities:function(n,q){var r=q.length,p,m,l,i;for(p=0;p<r;++p){m=q[p];i=n.getIdFromData(m);l=this.peekRecord(n,i);if(!l){l=this.createRecord(n,m)}else{this.onInvalidEntityCreate(n,i)}l.phantom=true}},dropEntities:function(m,n){var q=n.length,p,l,i,r;if(q){r=Ext.isObject(n[0])}for(p=0;p<q;++p){i=n[p];if(r){i=m.getIdFromData(i)}l=this.peekRecord(m,i);if(l){l.drop()}else{this.onInvalidEntityDrop(m,i)}}},evict:function(m){var l=m.entityName,j=this.data[l],i=m.id,k;if(j){delete j[i]}},getEntityList:function(n,p){var r=p.length,q,i,l,m;for(q=0;q<r;++q){i=p[q];l=this.peekRecord(n,i);if(l){p[q]=l}else{m=true;p[q]=null;this.onInvalidAssociationEntity(n,i)}}if(m){p=Ext.Array.clean(p)}return p},getEntry:function(n,j){if(n.isModel){j=n.getId();n=n.self}var l=n.$isClass?n:this.getSchema().getEntity(n),p=l.entityName,k=this.data,m;m=k[p]||(k[p]={});m=m[j]||(m[j]={});return m},getRefs:function(s,t,n){var q=this.getEntry(s),r=q&&q.refs&&q.refs[t.role],p=n&&this.getParent(),m,v,u;if(p){m=p.getRefs(s,t);if(m){for(v in m){u=m[v];if((!r||!r[v])){this.getRecord(u.self,u.id)}}r=q&&q.refs&&q.refs[t.role]}}return r||null},getIdentifier:function(j){var k=this.getParent(),p,m,l,n;if(k){n=k.getIdentifier(j)}else{p=this.identifierCache;m=j.identifier;l=m.id||j.entityName;n=p[l];if(!n){if(m.clone){n=m.clone({cache:p})}else{n=m}p[l]=n}}return n},getMatrix:function(m,i){var j=m.isManyToMany?m.name:m,k=this.matrices,l;l=k[j];if(!l&&!i){l=k[j]=new Ext.data.matrix.Matrix(this,m)}return l||null},getMatrixSlice:function(h,i){var k=this.getMatrix(h.association),j=k[h.side];return j.get(i)},getModelIdentifier:function(g,e){return e+"@"+g.entityName},onIdChanged:function(M,G,K){var B=this,Q=B.matrices,J=M.entityName,F=M.id,y=B.data[J],P=y[G],C=M.associations,O=P.refs,R=B._setNoRefs,L,N,D,I,z,H,E,A;delete y[G];y[K]=P;for(A in Q){Q[A].updateId(M,G,K)}if(O){for(H in O){E=O[H];z=C[H];L=z.association;if(!L.isManyToMany){N=L.field.name;for(I in E){E[I].set(N,F,R)}}}}B.registerReferences(M,G)},processManyBlock:function(s,r,p,u){var n=this,v,q,t,m;if(p){for(v in p){q=n.peekRecord(s,v);if(q){t=n.getEntityList(r.cls,p[v]);m=r.getAssociatedItem(q);n[u](r,m,q,t)}else{n.onInvalidAssociationEntity(s,v)}}}},processManyCreate:function(h,i,k,j){if(i){i.add(j)}else{k[h.getterName](null,null,j)}},processManyDrop:function(h,i,k,j){if(i){i.remove(j)}},processManyRead:function(h,i,k,j){if(i){i.setRecords(j)}else{k[h.getterName](null,null,j)}},readEntities:function(n,q){var r=q.length,p,m,l,i;for(p=0;p<r;++p){m=q[p];i=n.getIdFromData(m);l=this.peekRecord(n,i);if(!l){l=this.createRecord(n,m)}else{this.onInvalidEntityRead(n,i)}l.phantom=false}},recordCreator:function(k,j){var l=this,i=j.getIdFromData(k),m=l.peekRecord(j,i,true);if(!m){m=new j(k,l)}else{m=l.getRecord(j,i)}return m},registerReferences:function(x,C){var u=x.entityName,D=x.id,E=x.data,y=C||C===0,t,z,F,w,B,i,v,A;w=(i=x.references).length;for(z=0;z<w;++z){B=i[z];F=E[B.name];if(F||F===0){B=B.reference;u=B.type;A=B.inverse.role;t=this.getEntry(B.cls,F);v=t.refs||(t.refs={});v=v[A]||(v[A]={});v[D]=x;if(y){delete v[C]}}}},updateEntities:function(p,s){var t=s.length,q,n,m,i,r;if(Ext.isArray(s)){for(q=0;q<t;++q){n=s[q];i=p.getIdFromData(n);m=this.peekRecord(p,i);if(m){m.set(n)}else{this.onInvalidEntityUpdate(p,i)}}}else{for(i in s){n=s[i];m=this.peekRecord(p,i);if(m&&!m.dropped){r=m.set(n)}else{this.onInvalidEntityUpdate(p,i,!!m)}}}},updateReference:function(s,q,v,x){var u=q.reference,p=u.type,t=u.inverse.role,w=s.id,n,r;if(x||x===0){r=this.getEntry(p,x).refs[t];delete r[w]}if(v||v===0){n=this.getEntry(p,v);r=n.refs||(n.refs={});r=r[t]||(r[t]={});r[w]=s}},visitData:function(A){var y=this,C=y.data,u=y.matrices,v,z,E,H,x,D,F,B,w,t,G;y.getSchema().processKeyChecks(true);for(F in C){v=C[F];for(E in v){B=v[E].record;if(B){if(B.phantom||B.dirty||B.dropped){if(A.onDirtyRecord){A.onDirtyRecord(B)}}else{if(A.onCleanRecord){A.onCleanRecord(B)}}}}}if(A.onMatrixChange){for(F in u){x=u[F].left;t=x.slices;z=x.role.association;for(E in t){w=t[E];D=w.members;for(H in D){G=(B=D[H])[2];if(G){A.onMatrixChange(z,B[0],B[1],G)}}}}}return A},_setNoRefs:{refs:false}}},1,0,0,0,0,0,[Ext.data,"Session"],0));(Ext.cmd.derive("Ext.util.Schedulable",Ext.Base,{"abstract":true,isSchedulable:true,scheduled:false,constructor:function(){this.getScheduler().add(this)},destroy:function(){var e=this,g=e.getScheduler();if(g){g.remove(e)}e.scheduler=null;e.schedule=e.react=Ext.emptyFn;e.callParent()},getFullName:function(){return this.name||this.id},privates:{getScheduler:function(){return this.scheduler},schedule:function(){var e=this,g;if(!e.scheduled){g=e.getScheduler();if(g){e.scheduled=true;if(e.onSchedule){e.onSchedule()}g.scheduleItem(e)}}},unschedule:function(){var e=this,g;if(e.scheduled){g=e.getScheduler();if(g){g.unscheduleItem(e)}e.scheduled=false}},sort:function(){}}},1,0,0,0,0,0,[Ext.util,"Schedulable"],0));(Ext.cmd.derive("Ext.app.bind.BaseBinding",Ext.util.Schedulable,{calls:0,kind:20,defaultOptions:{},lastValue:undefined,constructor:function(m,i,k,l){var j=this;j.options=l;j.owner=m;j.scope=k;j.callback=i;j.lateBound=Ext.isString(i);if(l&&l.deep){j.deep=true}Ext.util.Schedulable.prototype.constructor.call(this)},destroy:function(){var e=this,g=e.owner;Ext.util.Schedulable.prototype.destroy.call(this);if(g){g.onBindDestroy(e)}e.scope=e.callback=e.owner=null},isReadOnly:function(){return true},privates:{getScheduler:function(){var d=this.owner;return d&&d.getScheduler()},getSession:function(){var d=this.owner;return d.isSession?d:d.getSession()},notify:function(h){var i=this,k=i.options||i.defaultOptions,j=i.lastValue;if(!i.calls||i.deep||j!==h||Ext.isArray(h)){++i.calls;i.lastValue=h;if(i.lateBound){i.scope[i.callback](h,j,i)}else{i.callback.call(i.scope,h,j,i)}if(k.single){i.destroy()}}}}},1,0,0,0,0,0,[Ext.app.bind,"BaseBinding"],0));(Ext.cmd.derive("Ext.app.bind.Binding",Ext.app.bind.BaseBinding,{constructor:function(j,i,l,m){var k=this;Ext.app.bind.BaseBinding.prototype.constructor.call(this,j.owner,i,l,m);k.stub=j;k.depth=j.depth;if(!j.isLoading()&&!j.scheduled){k.schedule()}},destroy:function(g){var i=this,h=i.stub;if(h&&!g){h.unbind(i);i.stub=null}Ext.app.bind.BaseBinding.prototype.destroy.call(this)},bindValidation:function(g,i){var h=this.stub;return h&&h.bindValidation(g,i)},bindValidationField:function(g,i){var h=this.stub;return h&&h.bindValidationField(g,i)},getFullName:function(){return this.fullName||(this.fullName="@("+this.stub.getFullName()+")")},getValue:function(){var h=this,g=h.stub,i=g&&g.getValue();if(h.transform){i=h.transform(i)}return i},isLoading:function(){var d=this.stub;return d&&d.isLoading()},isReadOnly:function(){var e=this.stub,g=this.options;if(!(g&&g.twoWay===false)){if(e){return e.isReadOnly()}}return true},refresh:function(){},setValue:function(d){this.stub.set(d)},privates:{getDataObject:function(){var d=this.stub;return d&&d.getDataObject()},getRawValue:function(){var h=this,g=h.stub,i=g&&g.getRawValue();if(h.transform){i=h.transform(i)}return i},isDescendantOf:function(g){var e=this.stub;return e?(g===e)||e.isDescendantOf(g):false},react:function(){this.notify(this.getValue())},schedule:function(){if(!this.stub.scheduled){Ext.app.bind.BaseBinding.prototype.schedule.call(this)}},sort:function(){var d=this.stub;d.scheduler.sortItem(d)}}},1,0,0,0,0,0,[Ext.app.bind,"Binding"],0));(Ext.cmd.derive("Ext.app.bind.AbstractStub",Ext.util.Schedulable,{children:null,depth:0,generation:1,kind:10,parent:null,constructor:function(i,h){var g=this;g.owner=i;g.name=h;Ext.util.Schedulable.prototype.constructor.call(this)},destroy:function(){var k=this,l=k.children,i=k.bindings,p,m,n;if(i){for(m=0,p=i.length;m<p;++m){i[m].destroy(true)}}for(n in l){l[n].destroy()}Ext.util.Schedulable.prototype.destroy.call(this);k.bindings=k.children=k.owner=null},add:function(e){var g=this;(g.children||(g.children={}))[e.name]=e;e.depth=g.depth+1;e.parent=g},getChild:function(e){var g=Ext.isString(e)?e.split("."):e;if(g&&g.length){return this.descend(g,0)}return this},getFullName:function(){var h=this,k=h.fullName,i=h.parent,j;if(!k){k=h.name||h.id;if(i&&(j=i.getFullName())){k=((j.charAt(j.length-1)!==":")?j+".":j)+k}h.fullName=k}return k},getSession:function(){var d=this.owner;return d.isSession?d:d.getSession()},bind:function(j,n,p){var m=this,l=new Ext.app.bind.Binding(m,j,n,p),k=(m.bindings||(m.bindings=[]));l.depth=m.depth;k.push(l);return l},getValue:function(){return this.isLoading()?null:this.getRawValue()},graft:function(k){var j=this,i=j.bindings,m=j.name,l;j.parent=j.bindings=null;j.destroy();k.depth=j.depth;k.bindings=i;k.generation=j.generation+1;k.name=m;k.id=j.id;k.path=j.path;if(i){for(l=i.length;l-->0;){i[l].stub=k}}return k},isDescendantOf:function(e){for(var g=this;g=g.parent;){if(g===e){return true}}return false},onSchedule:function(){for(var l,m,j,i,k=this.parent;k;k=k.parent){i=k.bindings;if(i){for(l=0,m=i.length;l<m;++l){j=i[l];if(j.deep&&!j.scheduled){j.schedule()}}}}},react:function(){var h=this.bindings,i,j,k;if(h){for(j=0,k=h.length;j<k;++j){i=h[j];if(!i.scheduled){i.schedule()}}}},unbind:function(g){var e=this.bindings;if(e&&e.length){Ext.Array.remove(e,g)}},privates:{collect:function(){var m=this.children,j=this.bindings,p=0,l=0,k,n;if(m){for(n in m){k=m[n];l=k.collect();if(l===0){k.destroy();delete m[n]}p+=l}}if(j){p+=j.length}return p},getScheduler:function(){var d=this.owner;return d&&d.getScheduler()},sort:function(){var d=this.parent;if(d){this.scheduler.sortItem(d)}}}},1,0,0,0,0,0,[Ext.app.bind,"AbstractStub"],0));(Ext.cmd.derive("Ext.app.bind.Stub",Ext.app.bind.AbstractStub,{isStub:true,dirty:true,formula:null,validationKey:"validation",statics:{trackHadValue:function(p,t,m,n){var r=n&&n.children,l,s,q;q=p!==undefined;if(!t.hadValue[m]){t.hadValue[m]=q}if(n){n.hadValue=q}if(p&&(p.constructor===Object||p.isModel)){if(p.isModel){p=p.data}for(s in p){Ext.app.bind.Stub.trackHadValue(p[s],t,m+"."+s,r&&r[s])}}}},constructor:function(m,l,k){var j=this,i=l;Ext.app.bind.AbstractStub.prototype.constructor.call(this,m,l);j.boundValue=null;if(k){k.add(j);if(!k.isRootStub){i=k.path+"."+l}}j.hadValue=m.hadValue[i];j.path=i},destroy:function(){var i=this,h=i.formula,k=i.parent,j=i.storeBinding;if(h){h.destroy()}if(j){j.destroy()}i.detachBound();i.parentValue=i.formula=i.storeBinding=null;Ext.app.bind.AbstractStub.prototype.destroy.call(this)},bindValidation:function(g,h){var i=this.parent;return i&&i.descend([this.validationKey,this.name]).bind(g,h)},bindValidationField:function(j,l){var m=this.parent,n=this.name,k=typeof j==="string",p;if(m){p=m.bind(function(d){var c=null;if(d&&d.isModel){c=d.getField(n)}if(k){l[j](c,null,this)}else{j.call(l,c,null,this)}})}return p||null},descend:function(l,p){var m=this,n=m.children||(m.children={}),k=p||0,q=l[k++],r;if(!(r=n[q])){r=new Ext.app.bind.Stub(m.owner,q,m)}if(k<l.length){r=r.descend(l,k)}return r},getChildValue:function(k){var h=this,i=h.name,j;if(!k&&!Ext.isString(k)){j=h.hadValue?null:undefined}else{j=h.inspectValue(k);if(!j){if(k.isEntity){j=k.data[i]}else{j=k[i]}}}return j},getDataObject:function(){var j=this,n=j.parent.getDataObject(),l=j.name,m=n?n[l]:null,k,p;if(!m&&n&&n.isEntity){k=n.associations;if(k&&l in k){m=n[k[l].getterName]()}}if(!m||!(m.$className||Ext.isObject(m))){n[l]=m={};j.hadValue=j.owner.hadValue[j.path]=true;j.invalidate(true,true)}return m},getRawValue:function(){return this.getChildValue(this.getParentValue())},graft:function(k){var i=this,l=i.parent,m=i.children,p=i.name,n;k.parent=l;k.children=m;if(l){l.children[p]=k}if(m){for(n in m){m[n].parent=k}}i.children=null;return Ext.app.bind.AbstractStub.prototype.graft.call(this,k)},isLoading:function(){var n=this,p=n.parent,k=false,q,l,m,r;if(p&&!(k=p.isLoading())){l=n.getParentValue();m=n.inspectValue(l);if(m){k=m.isLoading()}else{if(l&&l.isModel){q=l.associations;if(!(q&&n.name in q)){k=false;r=true}}if(!r){k=!n.hadValue&&n.getRawValue()===undefined}}}return k},invalidate:function(l,m){var i=this,j=i.children,k;i.dirty=true;if(!m&&!i.isLoading()){if(!i.scheduled){i.schedule()}}if(l&&j){for(k in j){j[k].invalidate(l,m)}}},isReadOnly:function(){var d=this.formula;return !!(d&&!d.set)},set:function(n){var p=this,m=p.parent,v=p.name,r=p.formula,q,t,u,s;if(r&&!r.settingValue&&r.set){r.setValue(n);return}else{if(p.isLinkStub){s=p.getLinkFormulaStub();r=s?s.formula:null;if(r){r.setValue(n);return}}}q=m.getDataObject();if(q.isEntity){t=q.associations;if(t&&(v in t)){u=t[v];q[u.setterName](n);p.invalidate(true)}else{q.set(v,n)}}else{if((n&&n.constructor===Object)||n!==q[v]){if(!p.setByLink(n)){if(n===undefined){delete q[v]}else{q[v]=n;Ext.app.bind.Stub.trackHadValue(n,p.owner,p.path,p)}p.inspectValue(q);p.invalidate(true)}}}},onStoreLoad:function(){this.invalidate(true)},afterLoad:function(d){this.invalidate(true)},afterCommit:function(d){this.afterEdit(d,null)},afterEdit:function(p,r){var t=this.children,n=r&&r.length,s=p.associations,i,q,u,v;if(t){if(n){for(q=0;q<n;++q){u=t[r[q]];if(u){u.invalidate()}}}else{for(i in t){if(!(s&&i in s)){t[i].invalidate()}}}}this.invalidate()},afterReject:function(d){this.afterEdit(d,null)},setByLink:function(n){var p=this,i=0,r,q,l,m;for(m=p;m;m=m.parent){if(m.isLinkStub){q=m;if(i){for(l=[],r=0,m=p;m!==q;m=m.parent){++r;l[i-r]=m.name}}break}++i}if(!q||!(m=q.getTargetStub())){return false}if(l){m=m.descend(l)}m.set(n);return true},setFormula:function(g){var i=this,h=i.formula;if(h){h.destroy()}i.formula=new Ext.app.bind.Formula(i,g)},react:function(){var i=this,j=this.boundValue,k=i.children,h;if(j){if(j.isValidation){j.refresh();h=j.generation;if(i.lastValidationGeneration===h){return}i.lastValidationGeneration=h}else{if(j.isModel){if(k&&k[i.validationKey]){j.isValid()}}else{if(j.isStore){if(j.isLoading()&&!j.loadCount){return}}}}}Ext.app.bind.AbstractStub.prototype.react.call(this)},privates:{collect:function(){var i=this,k=Ext.app.bind.AbstractStub.prototype.collect.call(this),j=i.storeBinding?1:0,h=i.formula?1:0;return k+j+h},getLinkFormulaStub:function(){var d=this;while(d.isLinkStub){d=d.binding.stub}return d.formula?d:null},getParentValue:function(){var d=this;if(d.dirty){d.parentValue=d.parent.getValue();d.dirty=false}return d.parentValue},setStore:function(d){this.storeBinding=d},inspectValue:function(p){var n=this,v=n.name,r=n.boundValue,u=null,t,m,s,q;if(p&&p.isEntity){t=p.associations;if(t&&(v in t)){u=p[t[v].getterName]();if(u&&u.isStore){u.$associatedStore=true}}else{if(v===n.validationKey){u=p.getValidation();n.lastValidationGeneration=null}}}else{if(p){m=p[v];if(m&&(m.isModel||m.isStore)){u=m}}}s=r!==u;if(s){if(r){n.detachBound()}if(u){if(u.isModel){u.join(n)}else{q=u.associatedEntity;if(q&&!q.phantom&&!u.complete&&!u.hasPendingLoad()){u.load()}u.on("load",n.onStoreLoad,n,{single:true})}}n.boundValue=u}return u},detachBound:function(){var g=this,e=g.boundValue;if(e){if(e.isModel){e.unjoin(g)}else{e.un("load",g.onStoreLoad,g)}}},sort:function(){var i=this,h=i.formula,k=i.scheduler,j=i.storeBinding;Ext.app.bind.AbstractStub.prototype.sort.call(this);if(j){k.sortItem(j)}if(h){k.sortItem(h)}}}},1,0,0,0,0,0,[Ext.app.bind,"Stub"],0));(Ext.cmd.derive("Ext.app.bind.LinkStub",Ext.app.bind.Stub,{isLinkStub:true,binding:null,destroy:function(){var h=this,g=h.binding,i=h.owner;if(g){h.binding=null;g.destroy();if(i){delete i.linkData[h.name]}}h.target=null;Ext.app.bind.Stub.prototype.destroy.call(this)},getFullName:function(){var d=this;return d.fullName||(d.fullName="("+Ext.app.bind.Stub.prototype.getFullName.call(this)+" -> "+d.binding.getFullName()+")")},getDataObject:function(){var d=this.binding;return d&&d.getDataObject()},getRawValue:function(){var d=this.binding;return d&&d.getRawValue()},getValue:function(){var d=this.binding;return d&&d.getValue()},getTargetStub:function(){var d=this.binding;return d&&d.stub},isLoading:function(){var d=this.binding;return d?d.isLoading():false},link:function(h,j){var k=this,i=k.binding;if(i){i.destroy()}j=k.target=j||k.owner;k.linkDescriptor=h;k.binding=j.bind(h,k.onChange,k);k.binding.deep=true},onChange:function(){this.invalidate(true)},react:function(){var e=this,g=e.owner.linkData;g[e.name]=e.getValue();Ext.app.bind.Stub.prototype.react.call(this)},privates:{collect:function(){var h=this,i=Ext.app.bind.Stub.prototype.collect.call(this),g=h.binding?1:0;return i+g},sort:function(){var d=this.binding;if(d){this.scheduler.sortItem(d)}}}},0,0,0,0,0,0,[Ext.app.bind,"LinkStub"],0));(Ext.cmd.derive("Ext.app.bind.RootStub",Ext.app.bind.AbstractStub,{isRootStub:true,depth:0,createRootChild:function(x,t){var p=this,w=p.owner,s=w.getData(),v=p.children,q=v&&v[x],r=q?null:p,n,u;if(t||s.hasOwnProperty(x)||!(n=w.getParent())){u=new Ext.app.bind.Stub(w,x,r)}else{u=new Ext.app.bind.LinkStub(w,x,q?null:r);u.link("{"+x+"}",n)}if(q){q.graft(u)}return u},createStubChild:function(d){return this.createRootChild(d,true)},descend:function(l,p){var m=this,n=m.children,k=p||0,q=l[k++],r=(n&&n[q])||m.createRootChild(q);if(k<l.length){r=r.descend(l,k)}return r},getFullName:function(){return this.fullName||(this.fullName=this.owner.id+":")},getDataObject:function(){return this.owner.data},getRawValue:function(){return this.owner.data},getValue:function(){return this.owner.data},isDescendantOf:function(){return false},isLoading:function(){return false},set:function(r){var s=this,w=s.children||(s.children={}),x=s.owner,u=x.data,n=x.getParent(),t,v,p,q;for(q in r){if((p=r[q])!==undefined){if(!(v=w[q])){v=new Ext.app.bind.Stub(x,q,s)}else{if(v.isLinkStub){if(!v.getLinkFormulaStub()){t=v;v=new Ext.app.bind.Stub(x,q);t.graft(v)}}}v.set(p)}else{if(u.hasOwnProperty(q)){delete u[q];v=w[q];if(v&&!v.isLinkStub&&n){v=s.createRootChild(q)}v.invalidate(true)}}}},schedule:Ext.emptyFn,unschedule:Ext.emptyFn},0,0,0,0,0,0,[Ext.app.bind,"RootStub"],0));(Ext.cmd.derive("Ext.app.bind.Multi",Ext.app.bind.BaseBinding,{isMultiBinding:true,missing:1,deep:true,constructor:function(m,r,k,p,q){var n=this,l=q&&q.trackStatics;Ext.app.bind.BaseBinding.prototype.constructor.call(this,r,k,p,q);n.bindings=[];n.literal=m.$literal;if(m.constructor===Object){if(l){n.staticKeys=[]}n.addObject(m,n.lastValue={},n.staticKeys)}else{n.addArray(m,n.lastValue=[])}if(!--n.missing&&!n.scheduled){n.schedule()}},destroy:function(){var d=this;d.bindings=Ext.destroy(d.bindings);Ext.app.bind.BaseBinding.prototype.destroy.call(this)},add:function(u,q,m){var n=this,s=n.owner,t=n.bindings,v=n.literal?(u.reference?"bindEntity":"bindExpression"):"bind",p,r;++n.missing;p=s[v](u,function(c){q[m]=c;if(p.calls===1){--n.missing}if(!n.missing&&!n.scheduled){n.schedule()}},n,null);r=p.depth;if(!t.length||r<n.depth){n.depth=r}t.push(p);return !this.isBindingStatic(p)},addArray:function(s,i){var p=this,m=s.length,r=false,n,t,q;for(q=0;q<m;++q){t=s[q];if(t&&(t.reference||Ext.isString(t))){n=p.add(t,i,q)}else{if(Ext.isArray(t)){n=p.addArray(t,i[q]=[])}else{if(t&&t.constructor===Object){n=p.addObject(t,i[q]={})}else{i[q]=t;n=false}}}r=r||n}return r},addObject:function(s,p,m){var n=this,q=false,l,t,r;for(r in s){t=s[r];if(t&&(t.reference||Ext.isString(t))){l=n.add(t,p,r)}else{if(Ext.isArray(t)){l=n.addArray(t,p[r]=[])}else{if(t&&t.constructor===Object){l=n.addObject(t,p[r]={})}else{p[r]=t;l=false}}}if(m&&!l){m.push(r)}q=q||l}return q},getFullName:function(){var k=this,j=k.fullName,i=k.bindings,l=i.length,m;if(!j){j="@[";for(m=0;m<l;++m){if(m){j+=","}j+=i[m].getFullName()}j+="]";k.fullName=j}return j},getRawValue:function(){return this.lastValue},isDescendantOf:function(){return false},isLoading:function(){for(var e=this.bindings,g=e.length;g-->0;){if(e[g].isLoading()){return true}}return false},isBindingStatic:function(d){return d.isTemplateBinding&&d.isStatic},isStatic:function(){var h=this.bindings,k=h.length,j,i;for(j=0;j<k;++j){i=h[j];if(!this.isBindingStatic(i)){return false}}return true},pruneStaticKeys:function(){var h=Ext.apply({},this.lastValue),i=this.staticKeys,k=i.length,j;for(j=0;j<k;++j){delete h[i[j]]}return h},react:function(){this.notify(this.lastValue)},refresh:function(){},privates:{sort:function(){this.scheduler.sortItems(this.bindings)}}},1,0,0,0,0,0,[Ext.app.bind,"Multi"],0));(Ext.cmd.derive("Ext.app.bind.Formula",Ext.util.Schedulable,{statics:{getFormulaParser:function(j){var k=this.formulaCache,h,i;if(!k){k=this.formulaCache=new Ext.util.LruCache({maxSize:20})}h=k.get(j);if(!h){i="[^\\.a-z0-9_]"+j+"\\(\\s*(['\"])(.*?)\\1\\s*\\)";h=new RegExp(i,"gi");k.add(j,h)}return h}},isFormula:true,calculation:null,explicit:false,set:null,single:false,argumentNamesRe:/^function\s*\(\s*([^,\)\s]+)/,constructor:function(m,l){var n=this,s=m.owner,q,p,t,r;n.owner=s;n.stub=m;Ext.util.Schedulable.prototype.constructor.call(this);if(l instanceof Function){n.get=t=l}else{n.get=t=l.get;n.set=l.set;p=l.bind;if(l.single){n.single=l.single}if(p){q=p.bindTo;if(q){r=Ext.apply({},p);delete r.bindTo;p=q}}}if(p){n.explicit=true}else{p=t.$expressions||n.parseFormula(t)}n.binding=s.bind(p,n.onChange,n,r)},destroy:function(){var i=this,g=i.binding,h=i.stub;if(g){g.destroy();i.binding=null}if(h){h.formula=null}Ext.util.Schedulable.prototype.destroy.call(this);i.getterFn=i.owner=null},getFullName:function(){return this.fullName||(this.fullName=this.stub.getFullName()+"="+Ext.util.Schedulable.prototype.getFullName.call(this)+")")},getRawValue:function(){return this.calculation},onChange:function(){if(!this.scheduled){this.schedule()}},parseFormula:function(k){var l=k.toString(),n={$literal:true},p,q,r,m;p=this.argumentNamesRe.exec(l);q=p?p[1]:"get";r=Ext.app.bind.Formula.getFormulaParser(q);while((p=r.exec(l))){m=p[2];n[m]=m}n.$literal=true;k.$expressions=n;return n},react:function(){var k=this,l=k.owner,j=k.binding.lastValue,i=k.getterFn,m;if(k.explicit){m=j}else{m=l.getFormulaFn(j)}k.settingValue=true;k.stub.set(k.calculation=k.get.call(l,m));k.settingValue=false;if(k.single){k.destroy()}},setValue:function(d){this.set.call(this.stub.owner,d)},privates:{getScheduler:function(){var d=this.owner;return d&&d.getScheduler()},sort:function(){var g=this,e=g.binding;if(!e.destroyed){g.scheduler.sortItem(e)}}}},1,0,0,0,0,0,[Ext.app.bind,"Formula"],0));(Ext.cmd.derive("Ext.app.bind.Template",Ext.Base,{numberRe:/^(?:\d+(?:\.\d*)?)$/,stringRe:/^(?:["][^"]*["])$/,tokenRe:/\{[!]?(?:(?:(\d+)|([a-z_][\w\-\.]*))(?::([a-z_\.]+)(?:\(([^\)]*?)?\))?)?)\}/gi,formatRe:/^([a-z_]+)(?:\(([^\)]*?)?\))?$/i,buffer:null,slots:null,tokens:null,constructor:function(h){var i=this,j=i._initters,k;i.text=h;for(k in j){i[k]=j[k]}},_initters:{apply:function(g,e){return this.parse().apply(g,e)},getTokens:function(){return this.parse().getTokens()}},apply:function(n,i){var r=this,s=r.slots,u=r.buffer,v=s.length,t,p,q;for(t=0;t<v;++t){p=s[t];if(p){if((q=n[p.pos])==null){q=""}if(p.not){q=!q}if(p.format){q=p.format(q,i)}u[t]=q}}return u.join("")},getTokens:function(){return this.tokens},parse:function(){var x=this,I=x.text,C=[],z=[],y=[],J={},i=0,D=x.tokenRe,w=0,F,B,G,A,H,s,E;for(B in x._initters){delete x[B]}x.buffer=C;x.slots=z;x.tokens=y;while((A=D.exec(I))){G=A.index-i;if(G){C[w++]=I.substring(i,i+G);i+=G}i+=(H=A[0]).length;s={fmt:(F=A[3]||null),index:A[1]?parseInt(A[1],10):null,not:H.charAt(1)==="!",token:A[2]||null};E=s.token||String(s.index);if(E in J){s.pos=J[E]}else{J[E]=s.pos=y.length;y.push(E)}if(F){if(F.substring(0,5)==="this."){s.fmt=F.substring(5)}else{s.scope=Ext.util.Format}x.parseArgs(A[4],s)}z[w++]=s}if(i<I.length){C[w++]=I.substring(i)}return x},parseArgs:function(q,p){var r=this,u=r.numberRe,n=r.stringRe,i,s,t,v;if(!q){s=[]}else{if(q.indexOf(",")<0){s=[q]}else{s=q.split(",")}}p=p||{};v=s.length;p.args=s;for(t=0;t<v;++t){i=s[t];if(i==="true"){s[t]=true}else{if(i==="false"){s[t]=false}else{if(i==="null"){s[t]=null}else{if(u.test(i)){s[t]=parseFloat(i)}else{if(n.test(i)){s[t]=i.substring(1,i.length-1)}else{p.fn=Ext.functionFactory("return ["+q+"];");p.format=r._formatEval;break}}}}}}if(!p.format){s.unshift(0);p.format=r._formatArgs}return p},parseFormat:function(m){var j=this,k=j.formatRe.exec(m),i={fmt:m,scope:Ext.util.Format},l;l=k[2];if(l){i.fmt=k[1];j.parseArgs(l,i)}else{i.args=[0];i.format=j._formatArgs}return i},_formatArgs:function(e,g){g=this.scope||g;this.args[0]=e;return g[this.fmt].apply(g,this.args)},_formatEval:function(g,h){var i=this.fn();i.unshift(g);h=this.scope||h;return h[this.fmt].apply(h,i)}},1,0,0,0,0,0,[Ext.app.bind,"Template"],0));(Ext.cmd.derive("Ext.app.bind.TemplateBinding",Ext.app.bind.BaseBinding,{isTemplateBinding:true,lastValue:undefined,value:undefined,constructor:function(p,t,l,q,r){var n=this,s=new Ext.app.bind.Template(p),m=s.getTokens();Ext.app.bind.BaseBinding.prototype.constructor.call(this,t,l,q,r);n.tpl=s;n.tokens=m;m.$literal=true;if(m.length){n.multiBinding=new Ext.app.bind.Multi(m,t,n.onBindData,n)}else{n.isStatic=true;n.onData(s.text)}},destroy:function(){var d=this;Ext.destroy(d.multiBinding);d.tpl=d.multiBinding=null;Ext.app.bind.BaseBinding.prototype.destroy.call(this)},getFullName:function(){var d=this.multiBinding;return this.fullName||(this.fullName="$"+(d?d.getFullName():Ext.app.bind.BaseBinding.prototype.getFullName.call(this)))},getRawValue:function(){return this.value},getTemplateScope:function(){return null},isDescendantOf:function(){return false},isLoading:function(){var d=this.multiBinding;return d?d.isLoading():false},onBindData:function(d){this.onData(this.tpl.apply(d,this.getTemplateScope()))},onData:function(g){var h=this,i=h.value;if(i!==(h.value=g)){h.lastValue=i;h.schedule()}},react:function(){this.notify(this.value)},refresh:function(){var d=this.multiBinding;if(d){d.refresh()}},privates:{sort:function(){var d=this.multiBinding;if(d){this.scheduler.sortItem(d)}}}},1,0,0,0,0,0,[Ext.app.bind,"TemplateBinding"],0));(Ext.cmd.derive("Ext.data.ChainedStore",Ext.data.AbstractStore,{config:{source:null,remoteFilter:false,remoteSort:false},constructor:function(){Ext.data.AbstractStore.prototype.constructor.apply(this,arguments);this.getData().addObserver(this)},remove:function(){var d=this.getSource();return d.remove.apply(d,arguments)},removeAll:function(){var d=this.getSource();return d.removeAll()},getData:function(){var g=this,e=g.data;if(!e){g.data=e=g.constructDataCollection()}return e},getSession:function(){return this.getSource().getSession()},applySource:function(d){if(d){d=Ext.data.StoreManager.lookup(d)}return d},updateSource:function(h,j){var k=this,i;if(j){j.removeObserver(k)}if(h){i=k.getData();i.setSource(h.getData());if(!k.isInitializing){k.fireEvent("refresh",k);k.fireEvent("datachanged",k)}h.addObserver(k)}},getModel:function(){return this.getSource().getModel()},getProxy:function(){return null},onCollectionAdd:function(j,k){var l=this,m=k.items,i=!k.next;if(l.ignoreCollectionAdd){return}l.fireEvent("add",l,m,k.at);if(i){l.fireEvent("datachanged",l)}},onCollectionItemChange:function(j,k){var l=this,p=k.item,m=k.modified||null,n=k.meta;l.onUpdate(p,n,m,k);l.fireEvent("update",l,p,n,m,k)},onUpdate:Ext.emptyFn,onCollectionRemove:function(j,k){var l=this,m=k.items,i=!k.next;if(l.ignoreCollectionRemove){return}l.fireEvent("remove",l,m,k.at,false);if(i){l.fireEvent("datachanged",l)}},onSourceBeforeLoad:function(e,g){this.fireEvent("beforeload",this,g)},onSourceAfterLoad:function(i,j,h,k){this.fireEvent("load",this,j,h,k)},onFilterEndUpdate:function(){Ext.data.AbstractStore.prototype.onFilterEndUpdate.apply(this,arguments);this.callObservers("Filter")},onSourceBeforePopulate:function(){this.ignoreCollectionAdd=true;this.callObservers("BeforePopulate")},onSourceAfterPopulate:function(){var d=this;d.ignoreCollectionAdd=false;d.fireEvent("datachanged",d);d.fireEvent("refresh",d);this.callObservers("AfterPopulate")},onSourceBeforeClear:function(){this.ignoreCollectionRemove=true;this.callObservers("BeforeClear")},onSourceAfterClear:function(){this.ignoreCollectionRemove=false;this.callObservers("AfterClear")},onSourceBeforeRemoveAll:function(){this.ignoreCollectionRemove=true;this.callObservers("BeforeRemoveAll")},onSourceAfterRemoveAll:function(g,i){var h=this;h.ignoreCollectionRemove=false;if(!i){h.fireEvent("clear",h);h.fireEvent("datachanged",h)}this.callObservers("AfterRemoveAll",[i])},onSourceFilter:function(){var d=this;d.fireEvent("refresh",d);d.fireEvent("datachanged",d)},hasPendingLoad:function(){return this.getSource().hasPendingLoad()},isLoaded:function(){return this.getSource().isLoaded()},isLoading:function(){return this.getSource().isLoading()},onDestroy:function(){var d=this;d.observers=null;d.setSource(null);d.getData().destroy(true);d.data=null},privates:{isMoving:function(){var d=this.getSource();return d.isMoving?d.isMoving.apply(d,arguments):false},loadsSynchronously:function(){return this.getSource().loadsSynchronously()}}},1,0,0,0,["store.chained"],[[Ext.data.LocalStore.prototype.mixinId||Ext.data.LocalStore.$className,Ext.data.LocalStore]],[Ext.data,"ChainedStore"],0));(Ext.cmd.derive("Ext.app.ViewModel",Ext.Base,{isViewModel:true,factoryConfig:{name:"viewModel"},collectTimeout:100,expressionRe:/^(?:\{[!]?(?:(\d+)|([a-z_][\w\-\.]*))\})$/i,$configStrict:false,config:{data:true,formulas:{$value:null,merge:function(h,k,i,j){return this.mergeNew(h,k,i,j)}},links:null,parent:null,root:true,scheduler:null,schema:"default",session:null,stores:null,view:null},constructor:function(d){this.hadValue={};this.bindings={};this.initConfig(d)},destroy:function(){var s=this,u=s._scheduler,n=s.storeInfo,q=s.getParent(),v=s.collectTask,w=s.children,x=s.bindings,p,r,t;s.destroying=true;if(v){v.cancel();s.collectTask=null}if(w){for(p in w){w[p].destroy()}}if(n){for(p in n){r=n[p];t=r.autoDestroy;if(t||(!r.$wasInstance&&t!==false)){r.destroy()}Ext.destroy(r.$binding)}}if(q){q.unregisterChild(s)}s.getRoot().destroy();for(p in x){x[p].destroy()}if(u&&u.$owner===s){u.$owner=null;u.destroy()}s.hadValue=s.children=s.storeInfo=s._session=s._view=s._scheduler=s.bindings=s._root=s._parent=s.formulaFn=s.$formulaData=null;s.destroying=false;s.callParent()},bind:function(m,k,p,q){var n=this,l,r;p=p||n;if(!q&&m.bindTo!==undefined&&!Ext.isString(m)){q=m;m=q.bindTo}if(!Ext.isString(m)){l=new Ext.app.bind.Multi(m,n,k,p,q);r=true}else{if(n.expressionRe.test(m)){m=m.substring(1,m.length-1);l=n.bindExpression(m,k,p,q)}else{l=new Ext.app.bind.TemplateBinding(m,n,k,p,q);r=true}}if(r){n.bindings[l.id]=l}return l},getSession:function(){var h=this,g=h._session,i;if(!g&&(i=h.getParent())){h.setSession(g=i.getSession())}return g||null},getStore:function(h){var g=this.storeInfo,i;if(g){i=g[h]}return i||null},linkTo:function(m,s){var n=this,t,q,v,u,p,r;if(s.isModel){s={type:s.entityName,id:s.id}}u=s.type||s.reference;q=s.create;if(u){v=s.id;if(q){v=undefined}r=n.getRecord(u,v);if(Ext.isObject(q)){r.set(q);r.commit();r.phantom=true}t=n.getRoot().createStubChild(m);t.set(r)}else{t=n.getStub(m);if(!t.isLinkStub){p=new Ext.app.bind.LinkStub(n,t.name);t.graft(p);t=p}t.link(s)}},notify:function(){this.getScheduler().notify()},get:function(d){return this.getStub(d).getValue()},set:function(i,l){var m=this,j,k;m.getData();if(l===undefined&&i&&i.constructor===Object){k=m.getRoot();l=i}else{if(i&&i.indexOf(".")<0){j={};j[i]=l;l=j;k=m.getRoot()}else{k=m.getStub(i)}}k.set(l)},privates:{registerChild:function(e){var g=this.children;if(!g){this.children=g={}}g[e.getId()]=e},unregisterChild:function(e){var g=this.children;if(!this.destroying&&g){delete g[e.getId()]}},getRecord:function(n,j){var l=this.getSession(),k=n,m=j!==undefined,p;if(l){if(m){p=l.getRecord(n,j)}else{p=l.createRecord(n)}}else{if(!k.$isClass){k=this.getSchema().getEntity(k)}if(m){p=k.createWithId(j);p.load()}else{p=new k()}}return p},notFn:function(d){return !d},bindExpression:function(u,q,p,m){var v=u.charAt(0),s=(v==="!"),n=s?u.substring(1):u,t=this.getStub(n),r;r=t.bind(q,p,m);if(s){r.transform=this.notFn}return r},applyScheduler:function(d){if(d&&!d.isInstance){d=new Ext.util.Scheduler(d);d.$owner=this}return d},getScheduler:function(){var g=this,i=g._scheduler,h;if(!i){if(!(h=g.getParent())){i=new Ext.util.Scheduler({preSort:"kind,-depth"});i.$owner=g}else{i=h.getScheduler()}g.setScheduler(i)}return i},getStub:function(e){var g=this.getRoot();return e?g.getChild(e):g},collect:function(){var g=this,h=g.getParent(),i=g.collectTask;if(h){h.collect();return}if(!i){i=g.collectTask=new Ext.util.DelayedTask(g.doCollect,g)}if(g.collectTimeout===0){g.doCollect()}else{i.delay(g.collectTimeout)}},doCollect:function(){var e=this.children,g;if(e){for(g in e){e[g].doCollect()}}this.getRoot().collect()},onBindDestroy:function(h,k){var i=this,j;if(i.destroying){return}if(!k){delete i.bindings[h.id]}j=i.getParent();if(j){j.onBindDestroy(h,true)}else{i.collect()}},applyData:function(k,i){var j=this,m,l;j.getSession();if(!i){l=j.getParent();j.linkData=m=l?Ext.Object.chain(l.getData()):{};j.data=j._data=Ext.Object.chain(m)}if(k&&k.constructor===Object){j.getRoot().set(k)}},applyParent:function(d){if(d){d.registerChild(this)}return d},applyStores:function(m){var s=this,q=s.getRoot(),n,t,v,u,r,p;s.storeInfo={};s.listenerScopeFn=function(){return s.getView().getInheritedConfig("defaultListenerScope")};for(n in m){t=m[n];if(t.isStore){t.$wasInstance=true;s.setupStore(t,n);continue}else{if(Ext.isString(t)){t={source:t}}else{t=Ext.apply({},t)}}r=t.listeners;delete t.listeners;v=s.bind(t,s.onStoreBind,s,{trackStatics:true});if(v.isStatic()){v.destroy();s.createStore(n,t,r)}else{v.$storeKey=n;v.$listeners=r;u=q.createStubChild(n);u.setStore(v)}}},onStoreBind:function(r,p,k){var l=this.storeInfo,m=k.$storeKey,q=l[m],n;if(!q){this.createStore(m,r,k.$listeners,k)}else{r=Ext.merge({},k.pruneStaticKeys());n=r.proxy;delete r.type;delete r.model;delete r.fields;delete r.proxy;delete r.listeners;if(n){delete n.reader;delete n.writer;q.getProxy().setConfig(n)}q.setConfig(r)}},createStore:function(m,p,l,j){var k=this.getSession(),n;p=Ext.apply({},p);if(p.session){p.session=k}if(p.source){p.type=p.type||"chained"}p.listeners=l;n=Ext.Factory.store(p);n.$binding=j;this.setupStore(n,m)},setupStore:function(g,e){g.resolveListenerScope=this.listenerScopeFn;this.storeInfo[e]=g;this.set(e,g)},applyFormulas:function(k){var j=this,m=j.getRoot(),l,i;j.getData();for(l in k){m.createStubChild(l);i=j.getStub(l);i.setFormula(k[l])}return k},applyLinks:function(g){for(var e in g){this.linkTo(e,g[e])}},applySchema:function(d){return Ext.data.schema.Schema.get(d)},applyRoot:function(){var g=new Ext.app.bind.RootStub(this),e=this.getParent();if(e){g.depth=e.getRoot().depth-1000}return g},getFormulaFn:function(g){var h=this,i=h.formulaFn;if(!i){i=h.formulaFn=function(c){return h.$formulaData[c]}}h.$formulaData=g;return i}}},1,0,0,0,["viewmodel.default"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.app,"ViewModel"],0));(Ext.cmd.derive("Ext.app.domain.Controller",Ext.app.EventDomain,{singleton:true,type:"controller",prefix:"controller.",idMatchRe:/^\#/,constructor:function(){var d=this;d.callParent();d.monitor(Ext.app.BaseController)},match:function(h,j){var k=false,i=h.alias;if(j==="*"){k=true}else{if(j==="#"){k=!!h.isApplication}else{if(this.idMatchRe.test(j)){k=h.getId()===j.substring(1)}else{if(i){k=Ext.Array.indexOf(i,this.prefix+j)>-1}}}}return k}},1,0,0,0,0,0,[Ext.app.domain,"Controller"],0));(Ext.cmd.derive("Ext.direct.Manager",Ext.Base,{singleton:true,exceptions:{TRANSPORT:"xhr",PARSE:"parse",DATA:"data",LOGIN:"login",SERVER:"exception"},providerClasses:{},remotingMethods:{},config:{varName:"Ext.REMOTING_API"},apiNotFoundError:"Ext Direct API was not found at {0}",constructor:function(){var d=this;d.mixins.observable.constructor.call(d);d.transactions=new Ext.util.MixedCollection();d.providers=new Ext.util.MixedCollection()},addProvider:function(i){var l=this,n=arguments,k=l.relayers||(l.relayers={}),m,p;if(n.length>1){for(m=0,p=n.length;m<p;++m){l.addProvider(n[m])}return}if(!i.isProvider){i=Ext.create("direct."+i.type+"provider",i)}l.providers.add(i);i.on("data",l.onProviderData,l);if(i.relayedEvents){k[i.id]=l.relayEvents(i,i.relayedEvents)}if(!i.isConnected()){i.connect()}return i},loadProvider:function(y,q,i){var t=this,x=t.providerClasses,s,z,w,r,v,u;if(Ext.isArray(y)){for(v=0,u=y.length;v<u;v++){t.loadProvider(y[v],q,i)}return}s=y.type;z=y.url;if(x[s]&&x[s].checkConfig(y)){r=t.addProvider(y);t.fireEventArgs("providerload",[z,r]);Ext.callback(q,i,[z,r]);return}w=y.varName||t.getVarName();delete y.varName;delete y.url;Ext.Loader.loadScript({url:z,scope:t,onLoad:function(){this.onApiLoadSuccess({url:z,varName:w,config:y,callback:q,scope:i})},onError:function(){this.onApiLoadFailure({url:z,callback:q,scope:i})}})},getProvider:function(d){return d.isProvider?d:this.providers.get(d)},removeProvider:function(j){var l=this,m=l.providers,k=l.relayers,i;j=j.isProvider?j:m.get(j);if(j){j.un("data",l.onProviderData,l);i=j.id;if(k[i]){k[i].destroy();delete k[i]}m.remove(j);return j}return null},addTransaction:function(d){this.transactions.add(d);return d},removeTransaction:function(e){var g=this;e=g.getTransaction(e);g.transactions.remove(e);return e},getTransaction:function(d){return typeof d==="object"?d:this.transactions.get(d)},onProviderData:function(i,j){var k=this,l,m;if(Ext.isArray(j)){for(l=0,m=j.length;l<m;++l){k.onProviderData(i,j[l])}return}if(j.name&&j.name!=="event"&&j.name!=="exception"){k.fireEvent(j.name,j)}else{if(j.status===false){k.fireEvent("exception",j)}}k.fireEvent("event",j,i)},parseMethod:function(l){var i=Ext.global,m=0,n,k,p;if(Ext.isFunction(l)){n=l}else{if(Ext.isString(l)){n=this.remotingMethods[l];if(!n){k=l.split(".");p=k.length;while(i&&m<p){i=i[k[m]];++m}n=Ext.isFunction(i)?i:null}}}return n||null},privates:{addProviderClass:function(e,g){this.providerClasses[e]=g},onApiLoadSuccess:function(options){var me=this,url=options.url,varName=options.varName,api,provider,error;try{api=Ext.apply(options.config,eval(varName));provider=me.addProvider(api)}catch(e){error=e+""}if(error){me.fireEventArgs("providerloaderror",[url,error]);Ext.callback(options.callback,options.scope,[url,error])}else{me.fireEventArgs("providerload",[url,provider]);Ext.callback(options.callback,options.scope,[url,provider])}},onApiLoadFailure:function(g){var h=g.url,i;i=Ext.String.format(this.apiNotFoundError,h);this.fireEventArgs("providerloaderror",[h,i]);Ext.callback(g.callback,g.scope,[h,i])},registerMethod:function(g,e){this.remotingMethods[g]=e},clearAllMethods:function(){this.remotingMethods={}}}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.direct,"Manager"],function(){Ext.Direct=Ext.direct.Manager}));(Ext.cmd.derive("Ext.data.PageMap",Ext.util.LruCache,{config:{store:null,pageSize:0,rootProperty:""},clear:function(g){var e=this;e.pageMapGeneration=(e.pageMapGeneration||0)+1;e.indexMap={};Ext.util.LruCache.prototype.clear.call(this,g)},forEach:function(r,i){var t=this,w=Ext.Object.getKeys(t.map),z=w.length,s=t.getPageSize(),x,y,j,u,v;for(x=0;x<z;x++){w[x]=+w[x]}Ext.Array.sort(w,Ext.Array.numericSortFn);i=i||t;for(x=0;x<z;x++){j=w[x];u=t.getPage(j);v=u.length;for(y=0;y<v;y++){if(r.call(i,u[y],(j-1)*s+y)===false){return}}}},findBy:function(i,j){var h=this,k=null;j=j||h;h.forEach(function(c,d){if(i.call(j,c,d)){k=c;return false}});return k},findIndexBy:function(i,j){var h=this,k=-1;j=j||h;h.forEach(function(c,d){if(i.call(j,c)){k=d;return false}});return k},find:function(m,n,l,q,r,s){if(Ext.isEmpty(n,false)){return null}var p=Ext.String.createRegex(n,q,r,s),t=this.getRootProperty();return this.findBy(function(c){return c&&p.test((t?c[t]:c)[m])},null,l)},findIndex:function(m,n,l,q,r,s){if(Ext.isEmpty(n,false)){return null}var p=Ext.String.createRegex(n,q,r,s),t=this.getRootProperty();return this.findIndexBy(function(c){return c&&p.test((t?c[t]:c)[m])},null,l)},getPageFromRecordIndex:function(d){return Math.floor(d/this.getPageSize())+1},addAll:function(d){this.addPage(1,d)},addPage:function(i,z){var r=this,q=r.getPageSize(),x=i+Math.floor((z.length-1)/q),s=(i-1)*q,u=r.indexMap,v,y,w,t;for(t=0;i<=x;i++,t+=q){v=Ext.Array.slice(z,t,t+q);for(y=0,w=v.length;y<w;y++){u[v[y].internalId]=s++}r.add(i,v);r.fireEvent("pageadd",r,i,v)}},getCount:function(){var d=Ext.util.LruCache.prototype.getCount.call(this);if(d){d=(d-1)*this.getPageSize()+this.last.value.length}return d},getByInternalId:function(g){var e=this.indexMap[g];if(e!=null){return this.getAt(e)}},indexOf:function(e){var g=-1;if(e){g=this.indexMap[e.internalId];if(g==null){g=-1}}return g},insert:function(){},remove:function(){},removeAt:function(){},removeAtKey:function(i){var k=this,m=k.getPage(i),n,l,p;if(m){if(k.fireEvent("beforepageremove",k,i,m)!==false){n=m.length;for(l=0;l<n;l++){delete k.indexMap[m[l].internalId]}p=Ext.util.LruCache.prototype.removeAtKey.apply(this,arguments);k.fireEvent("pageremove",k,i,m);m.length=0}}return p},getPage:function(d){return this.get(d)},hasRange:function(i,l){var k=this,m=k.getPageFromRecordIndex(i),j=k.getPageFromRecordIndex(l);for(;m<=j;m++){if(!k.hasPage(m)){return false}}return(j-1)*k._pageSize+k.getPage(j).length>l},hasPage:function(d){return !!this.get(d)},peekPage:function(d){return this.map[d]},getAt:function(d){return this.getRange(d,d+1)[0]},getRange:function(F,E){E--;if(!this.hasRange(F,E)){Ext.raise("PageMap asked for range which it does not have")}var z=this,C=Ext.Array,y=z.getPageSize(),v=z.getPageFromRecordIndex(F),B=z.getPageFromRecordIndex(E),D=(v-1)*y,t=(B*y)-1,x=v,s=[],u,A,w;for(;x<=B;x++){if(x===v){u=F-D;w=u>0}else{u=0;w=false}if(x===B){A=y-(t-E);w=w||A<y}if(w){C.push(s,C.slice(z.getPage(x),u,A))}else{C.push(s,z.getPage(x))}}return s},destroy:function(){Ext.util.LruCache.prototype.destroy.call(this);this.indexMap={}}},0,0,0,0,0,0,[Ext.data,"PageMap"],0));(Ext.cmd.derive("Ext.data.BufferedStore",Ext.data.ProxyStore,{isBufferedStore:true,buffered:true,config:{data:0,pageSize:25,remoteSort:true,remoteFilter:true,sortOnLoad:false,purgePageCount:5,trailingBufferZone:25,leadingBufferZone:200,defaultViewSize:100,viewSize:0,trackRemoved:false},applyData:function(e){var g=this.data||(this.data=this.createDataCollection());return g},applyProxy:function(d){d=Ext.data.ProxyStore.prototype.applyProxy.call(this,d);if(d&&d.setEnablePaging){d.setEnablePaging(true)}return d},createFiltersCollection:function(){return new Ext.util.FilterCollection()},createSortersCollection:function(){return new Ext.util.SorterCollection()},updateGroupField:function(d){this.group(d)},getGrouper:function(){return this.grouper},isGrouped:function(){return !!this.grouper},createDataCollection:function(){var e=this,g=new Ext.data.PageMap({store:e,rootProperty:"data",pageSize:e.getPageSize(),maxSize:e.getPurgePageCount(),listeners:{clear:e.onPageMapClear,scope:e}});e.relayEvents(g,["beforepageremove","pageadd","pageremove"]);e.pageRequests={};return g},removeAll:function(i){var h=this,g=h.getData();if(g){if(i){h.suspendEvent("clear")}g.clear();if(i){h.resumeEvent("clear")}}},flushLoad:function(){var e=this,g=e.pendingLoadOptions;e.clearLoadTask();if(!g){return}e.getData().clear();g.page=1;g.start=0;g.limit=e.getViewSize()||e.getDefaultViewSize();g.loadCallback=g.callback;g.callback=null;return e.loadToPrefetch(g)},reload:function(i){var v=this,x=v.getData(),t=Number.MAX_VALUE,u,A,w,r,y,B,s,z;if(!i){i={}}if(v.loading||v.fireEvent("beforeload",v,i)===false){return}B=function(){var d=v.totalCount,c=A-u;if(A>=d){A=d-1;u=Math.max(A-c,0)}if(v.rangeCached(u,Math.min(A,v.totalCount))){v.loading=false;x.un("pageadd",B);z=x.getRange(u,A+1);v.fireEvent("load",v,z,true);v.fireEvent("refresh",v)}};s=Math.ceil((v.getLeadingBufferZone()+v.getTrailingBufferZone())/2);if(v.lastRequestStart&&v.preserveScrollOnReload){u=v.lastRequestStart;A=v.lastRequestEnd;t=v.getTotalCount()}else{u=i.start||0;A=u+(i.count||v.getPageSize())-1}x.clear(true);delete v.totalCount;u=Math.max(u-s,0);A=Math.min(A+s,t);w=v.getPageFromRecordIndex(u);r=v.getPageFromRecordIndex(A);v.loading=true;i.waitForReload=B;x.on("pageadd",B);for(y=w;y<=r;y++){v.prefetchPage(y,i)}},filter:function(){Ext.data.ProxyStore.prototype.filter.apply(this,arguments)},filterBy:function(e,g){},loadData:function(e,g){},loadPage:function(g,i){var h=this;i=i||{};i.page=h.currentPage=g;i.start=(g-1)*h.getPageSize();i.limit=h.getViewSize()||h.getDefaultViewSize();i.loadCallback=i.callback;i.callback=null;return h.loadToPrefetch(i)},clearData:function(g){var i=this,h=i.getData();if(h){h.clear()}},getCount:function(){return this.totalCount||0},getRange:function(A,x,s){var t=this,z=t.totalCount-1,y=t.lastRequestStart,r=[],w=t.getData(),B,u,C,D,v;s=Ext.apply({prefetchStart:A,prefetchEnd:x},s);x=(x>=t.totalCount)?z:x;u=A===0?0:A-1;C=x===z?x:x+1;t.lastRequestStart=A;t.lastRequestEnd=x;if(t.rangeCached(u,C)){t.onRangeAvailable(s);r=w.getRange(A,x+1)}else{t.fireEvent("cachemiss",t,A,x);D=t.getPageFromRecordIndex(u);v=t.getPageFromRecordIndex(C);B=function(e,c,d){if(c>=D&&c<=v&&t.rangeCached(u,C)){t.fireEvent("cachefilled",t,A,x);w.un("pageadd",B);t.onRangeAvailable(s)}};w.on("pageadd",B);t.prefetchRange(A,x)}t.primeCache(A,x,A<y?-1:1);return r},getById:function(e){var g=this.data.findBy(function(c){return c.getId()===e});return g},getAt:function(g){var e=this.getData();if(e.hasRange(g,g)){return e.getAt(g)}},getByInternalId:function(d){return this.data.getByInternalId(d)},contains:function(d){return this.indexOf(d)>-1},indexOf:function(d){return this.getData().indexOf(d)},indexOfId:function(d){return this.indexOf(this.getById(d))},group:function(j,h){var i=this,k;if(j&&typeof j==="string"){k=i.grouper;if(!k){i.grouper=new Ext.util.Grouper({property:j,direction:h||"ASC",root:"data"})}else{if(h===undefined){k.toggle()}else{k.setDirection(h)}}}else{i.grouper=j?i.getSorters().decodeSorter(j,"Ext.util.Grouper"):null}i.getData().clear();i.loadPage(1,{callback:function(){i.fireEvent("groupchange",i,i.getGrouper())}})},getPageFromRecordIndex:function(d){return Math.floor(d/this.getPageSize())+1},calculatePageCacheSize:function(i){var g=this,h=g.getPurgePageCount();return h?Math.max(g.getData().getMaxSize()||0,Math.ceil((i+g.getTrailingBufferZone()+g.getLeadingBufferZone())/g.getPageSize())*2+h):0},loadToPrefetch:function(I){var x=this,F=I,B,G,i,w=I.start,H=I.start+I.limit-1,J=(x.getViewSize()||I.limit),A=Math.min(H,I.start+J-1),z=x.getPageFromRecordIndex(Math.max(w-x.getTrailingBufferZone(),0)),K=x.getPageFromRecordIndex(H+x.getLeadingBufferZone()),C=x.getData(),y=function(){G=G||[];if(I.loadCallback){I.loadCallback.call(I.scope||x,G,D,true)}if(I.callback){I.callback.call(I.scope||x,G,w||0,H||0,I)}},L=function(){x.fireEvent("datachanged",x);x.fireEvent("refresh",x);x.fireEvent("load",x,G,true)},E=function(){if(x.rangeCached(w,A)){x.loading=false;G=C.getRange(w,A+1);C.un("pageadd",E);if(x.hasListeners.guaranteedrange){x.guaranteeRange(w,A,I.callback,I.scope)}y();L()}},D;C.setMaxSize(x.calculatePageCacheSize(J));if(x.fireEvent("beforeload",x,I)!==false){delete x.totalCount;x.loading=true;if(I.callback){F=Ext.apply({},I);delete F.callback}x.on("prefetch",function(d,e,g,c){D=c;if(g){if((i=x.getTotalCount())){C.on("pageadd",E);A=Math.min(A,i-1);K=x.getPageFromRecordIndex(Math.min(A+x.getLeadingBufferZone(),i-1));for(B=z+1;B<=K;++B){x.prefetchPage(B,F)}}else{y();L()}}else{x.loading=false;y();x.fireEvent("load",x,e,false)}},null,{single:true});x.prefetchPage(z,F)}},prefetch:function(l){var k=this,n=k.getPageSize(),j=k.getData(),m,p;if(n){if(k.lastPageSize&&n!=k.lastPageSize){Ext.raise("pageSize cannot be dynamically altered")}if(!j.getPageSize()){j.setPageSize(n)}}else{k.pageSize=j.setPageSize(n=l.limit)}k.lastPageSize=n;if(!l.page){l.page=k.getPageFromRecordIndex(l.start);l.start=(l.page-1)*n;l.limit=Math.ceil(l.limit/n)*n}p=k.pageRequests[l.page];if(!p||p.getOperation().pageMapGeneration!==j.pageMapGeneration){l=Ext.apply({action:"read",filters:k.getFilters().items,sorters:k.getSorters().items,grouper:k.getGrouper(),internalCallback:k.onProxyPrefetch,internalScope:k},l);m=k.createOperation("read",l);m.pageMapGeneration=j.pageMapGeneration;if(k.fireEvent("beforeprefetch",k,m)!==false){k.pageRequests[l.page]=m.execute();if(k.getProxy().isSynchronous){delete k.pageRequests[l.page]}}}return k},onPageMapClear:function(){var k=this,l=k.wasLoading,m=k.pageRequests,i=k.getData(),j;i.clearListeners();i.on("clear",k.onPageMapClear,k);k.relayEvents(i,["beforepageremove","pageadd","pageremove"]);k.loading=true;k.totalCount=0;for(j in m){if(m.hasOwnProperty(j)){m[j].getOperation().abort()}}k.fireEvent("clear",k);k.loading=l},prefetchPage:function(k,n){var l=this,p=l.getPageSize(),j=(k-1)*p,m=l.totalCount;if(m!==undefined&&l.data.getCount()===m){return}l.prefetch(Ext.applyIf({page:k,start:j,limit:p},n))},onProxyPrefetch:function(w){if(this.destroyed){return}var s=this,r=w.getResultSet(),x=w.getRecords(),u=w.wasSuccessful(),t=w.getPage(),y=w.waitForReload,p=s.totalCount,z=s.pageRequests,q,v;if(w.pageMapGeneration===s.getData().pageMapGeneration){if(r){s.totalCount=r.getTotal();if(s.totalCount!==p){s.fireEvent("totalcountchange",s.totalCount)}}if(t!==undefined){delete s.pageRequests[t]}s.loading=false;s.fireEvent("prefetch",s,x,u,w);if(u){if(s.totalCount===0){if(y){for(q in z){v=z[q].getOperation();if(v.waitForReload===y){delete v.waitForReload}}s.getData().un("pageadd",y);s.fireEvent("load",s,[],true);s.fireEvent("refresh",s)}}else{s.cachePage(x,w.getPage())}}Ext.callback(w.getCallback(),w.getScope()||s,[x,w,u])}},cachePage:function(l,i){var j=this,m=l.length,k;if(!Ext.isDefined(j.totalCount)){j.totalCount=l.length;j.fireEvent("totalcountchange",j.totalCount)}for(k=0;k<m;k++){l[k].join(j)}j.getData().addPage(i,l)},rangeCached:function(e,g){return this.getData().hasRange(e,g)},pageCached:function(d){return this.getData().hasPage(d)},pagePending:function(d){return !!this.pageRequests[d]},rangeSatisfied:function(e,g){return this.rangeCached(e,g)},onRangeAvailable:function(l){var k=this,n=k.getTotalCount(),j=l.prefetchStart,p=(l.prefetchEnd>n-1)?n-1:l.prefetchEnd,m;p=Math.max(0,p);m=k.getData().getRange(j,p+1);if(l.fireEvent!==false){k.fireEvent("guaranteedrange",m,j,p,l)}if(l.callback){l.callback.call(l.scope||k,m,j,p,l)}},guaranteeRange:function(i,m,j,k,l){l=Ext.apply({callback:j,scope:k},l);this.getRange(i,m+1,l)},prefetchRange:function(k,q){var n=this,p,r,l,m=n.getData();if(!n.rangeCached(k,q)){p=n.getPageFromRecordIndex(k);r=n.getPageFromRecordIndex(q);m.setMaxSize(n.calculatePageCacheSize(q-k+1));for(l=p;l<=r;l++){if(!n.pageCached(l)){n.prefetchPage(l)}}}},primeCache:function(l,r,m){var n=this,p=n.getLeadingBufferZone(),q=n.getTrailingBufferZone(),s=n.getPageSize(),t=n.totalCount;if(m===-1){l=Math.max(l-p,0);r=Math.min(r+q,t-1)}else{if(m===1){l=Math.max(Math.min(l-q,t-s),0);r=Math.min(r+p,t-1)}else{l=Math.min(Math.max(Math.floor(l-((p+q)/2)),0),t-n.pageSize);r=Math.min(Math.max(Math.ceil(r+((p+q)/2)),0),t-1)}}n.prefetchRange(l,r)},sort:function(h,i,g){if(arguments.length===0){this.clearAndLoad()}else{this.getSorters().addSort(h,i,g)}},onSorterEndUpdate:function(){var g=this,e=g.getSorters().getRange();if(e.length){g.fireEvent("beforesort",g,e);g.clearAndLoad({callback:function(){g.fireEvent("sort",g,e)}})}else{g.fireEvent("sort",g,e)}},clearAndLoad:function(d){this.getData().clear();this.loadPage(1,d)},privates:{isLast:function(d){return this.indexOf(d)===this.getTotalCount()-1},isMoving:function(){return false}}},0,0,0,0,["store.buffered"],0,[Ext.data,"BufferedStore"],0));(Ext.cmd.derive("Ext.data.proxy.Direct",Ext.data.proxy.Server,{alternateClassName:"Ext.data.DirectProxy",config:{paramOrder:undefined,paramsAsHash:true,directFn:undefined,api:undefined,metadata:undefined},paramOrderRe:/[\s,|]/,applyParamOrder:function(d){if(Ext.isString(d)){d=d.split(this.paramOrderRe)}return d},updateApi:function(){this.methodsResolved=false},updateDirectFn:function(){this.methodsResolved=false},resolveMethods:function(){var j=this,k=j.getDirectFn(),l=j.getApi(),m=Ext.direct.Manager,i;if(k){j.setDirectFn(i=m.parseMethod(k));if(!Ext.isFunction(i)){Ext.raise("Cannot resolve directFn "+k)}}if(l){for(k in l){if(l.hasOwnProperty(k)){i=l[k];l[k]=m.parseMethod(i);if(!Ext.isFunction(l[k])){Ext.raise("Cannot resolve Direct api "+k+" method "+i)}}}}j.methodsResolved=true},doRequest:function(u){var q=this,x,t,v,w,r,s,p,n;if(!q.methodsResolved){q.resolveMethods()}t=q.buildRequest(u);v=t.getAction();s=q.getApi();if(s){p=s[v]}p=p||q.getDirectFn();x=q.getWriter();if(x&&u.allowWrite()){t=x.write(t)}if(v==="read"){w=t.getParams()}else{w=t.getJsonData()}r=p.directCfg.method.getArgs({params:w,paramOrder:q.getParamOrder(),paramsAsHash:q.getParamsAsHash(),metadata:q.getMetadata(),callback:q.createRequestCallback(t,u),scope:q});t.setConfig({args:r,directFn:p});p.apply(window,r);return t},applyEncoding:Ext.identityFn,createRequestCallback:function(g,i){var h=this;return function(c,d){h.processResponse(d.status,i,g,d)}},extractResponseData:function(d){return Ext.isDefined(d.result)?d.result:d.data},setException:function(e,g){e.setException(g.message)},buildUrl:function(){return""}},0,0,0,0,["proxy.direct"],0,[Ext.data.proxy,"Direct",Ext.data,"DirectProxy"],0));(Ext.cmd.derive("Ext.data.DirectStore",Ext.data.Store,{constructor:function(g){g=Ext.apply({},g);if(!g.proxy){var e={type:"direct",reader:{type:"json"}};Ext.copyTo(e,g,"paramOrder,paramsAsHash,directFn,api,simpleSortMode,extraParams");Ext.copyTo(e.reader,g,"totalProperty,root,rootProperty,idProperty");g.proxy=e}Ext.data.Store.prototype.constructor.call(this,g)}},1,0,0,0,["store.direct"],0,[Ext.data,"DirectStore"],0));(Ext.cmd.derive("Ext.data.JsonP",Ext.Base,{singleton:true,requestCount:0,requests:{},timeout:30000,disableCaching:true,disableCachingParam:"_dc",callbackKey:"callback",request:function(r){r=Ext.apply({},r);var v=this,A=Ext.isDefined(r.disableCaching)?r.disableCaching:v.disableCaching,x=r.disableCachingParam||v.disableCachingParam,B=++v.requestCount,t=r.callbackName||"callback"+B,w=r.callbackKey||v.callbackKey,s=Ext.isDefined(r.timeout)?r.timeout:v.timeout,z=Ext.apply({},r.params),C=r.url,D=Ext.name,y,u;if(A&&!z[x]){z[x]=Ext.Date.now()}r.params=z;z[w]=D+".data.JsonP."+t;u=v.createScript(C,z,r);v.requests[B]=y={url:C,params:z,script:u,id:B,scope:r.scope,success:r.success,failure:r.failure,callback:r.callback,callbackKey:w,callbackName:t};if(s>0){y.timeout=Ext.defer(v.handleTimeout,s,v,[y])}v.setupErrorHandling(y);v[t]=Ext.bind(v.handleResponse,v,[y],true);v.loadScript(y);return y},abort:function(i){var j=this,h=j.requests,k;if(i){if(!i.id){i=h[i]}j.handleAbort(i)}else{for(k in h){if(h.hasOwnProperty(k)){j.abort(h[k])}}}},setupErrorHandling:function(d){d.script.onerror=Ext.bind(this.handleError,this,[d])},handleAbort:function(d){d.errorType="abort";this.handleResponse(null,d)},handleError:function(d){d.errorType="error";this.handleResponse(null,d)},cleanupErrorHandling:function(d){d.script.onerror=null},handleTimeout:function(d){d.errorType="timeout";this.handleResponse(null,d)},handleResponse:function(j,i){var h=true,k=Ext.GlobalEvents;if(i.timeout){clearTimeout(i.timeout)}delete this[i.callbackName];delete this.requests[i.id];this.cleanupErrorHandling(i);Ext.fly(i.script).destroy();if(i.errorType){h=false;Ext.callback(i.failure,i.scope,[i.errorType])}else{Ext.callback(i.success,i.scope,[j])}Ext.callback(i.callback,i.scope,[h,j,i.errorType]);if(k.hasListeners.idle){k.fireEvent("idle")}},createScript:function(i,h,j){var k=document.createElement("script");k.setAttribute("src",Ext.urlAppend(i,Ext.Object.toQueryString(h)));k.setAttribute("async",true);k.setAttribute("type","text/javascript");return k},loadScript:function(d){Ext.getHead().appendChild(d.script)}},0,0,0,0,0,0,[Ext.data,"JsonP"],0));(Ext.cmd.derive("Ext.data.proxy.JsonP",Ext.data.proxy.Server,{alternateClassName:"Ext.data.ScriptTagProxy",config:{callbackKey:"callback",recordParam:"records",autoAppendParams:true},doRequest:function(k){var i=this,j=i.buildRequest(k),h=j.getParams();j.setConfig({callbackKey:i.callbackKey,timeout:i.timeout,scope:i,disableCaching:false,callback:i.createRequestCallback(j,k)});if(i.getAutoAppendParams()){j.setParams({})}j.setRawRequest(Ext.data.JsonP.request(j.getCurrentConfig()));j.setParams(h);i.lastRequest=j;return j},createRequestCallback:function(g,i){var h=this;return function(c,e,d){if(g===h.lastRequest){h.lastRequest=null}h.processResponse(c,i,g,e)}},setException:function(e,g){e.setException(e.getRequest().getRawRequest().errorType)},buildUrl:function(r){var p=this,x=Ext.data.proxy.Server.prototype.buildUrl.apply(this,arguments),u=r.getRecords(),t=p.getWriter(),s,v,w,q,i;if(t&&r.getOperation().allowWrite()){r=t.write(r)}s=r.getParams();v=s.filters;delete s.filters;if(v&&v.length){for(q=0;q<v.length;q++){w=v[q];i=w.getValue();if(i){s[w.getProperty()]=i}}}if(Ext.isArray(u)&&u.length>0&&(!t||!t.getEncode())){s[p.getRecordParam()]=p.encodeRecords(u)}if(p.getAutoAppendParams()){x=Ext.urlAppend(x,Ext.Object.toQueryString(s))}return x},abort:function(d){d=d||this.lastRequest;if(d){Ext.data.JsonP.abort(d.getRawRequest())}},encodeRecords:function(j){var h=[],i=0,k=j.length;for(;i<k;i++){h.push(Ext.encode(j[i].getData()))}return h}},0,0,0,0,["proxy.jsonp","proxy.scripttag"],0,[Ext.data.proxy,"JsonP",Ext.data,"ScriptTagProxy"],0));(Ext.cmd.derive("Ext.data.JsonPStore",Ext.data.Store,{constructor:function(d){d=Ext.apply({proxy:{type:"jsonp",reader:"json"}},d);Ext.data.Store.prototype.constructor.call(this,d)}},1,0,0,0,["store.jsonp"],0,[Ext.data,"JsonPStore"],0));(Ext.cmd.derive("Ext.data.JsonStore",Ext.data.Store,{constructor:function(d){d=Ext.apply({proxy:{type:"ajax",reader:"json",writer:"json"}},d);Ext.data.Store.prototype.constructor.call(this,d)}},1,0,0,0,["store.json"],0,[Ext.data,"JsonStore"],0));(Ext.cmd.derive("Ext.data.ModelManager",Ext.Base,{alternateClassName:"Ext.ModelMgr",singleton:true,deprecated:{5:{methods:{clear:null,create:function(i,j,h){var k=j;if(!k.isEntity){k=this.getModel(j||i.name)}return k.createWithId(h,i)},each:function(e,g){Ext.data.Model.schema.eachEntity(e,g)},get:function(d){return this.getModel(d)},getCount:function(){return Ext.data.Model.schema.entityCount},getModel:function(d){return Ext.data.schema.Schema.lookupEntity(d)},isRegistered:function(d){return !!this.getModel(d)}}}}},0,0,0,0,0,0,[Ext.data,"ModelManager",Ext,"ModelMgr"],0));(Ext.cmd.derive("Ext.data.NodeInterface",Ext.Base,{statics:{decorate:function(n){var l=Ext.data.schema.Schema.lookupEntity(n),j=l.prototype,p,m,k;if(!l.prototype.isObservable){l.mixin(Ext.mixin.Observable.prototype.mixinId,Ext.mixin.Observable)}if(j.isNode){return}p=j.idProperty;m=l.getField(p);k=m.type;l.override(this.getPrototypeBody());l.addFields([{name:"parentId",type:k,defaultValue:null,allowNull:m.allowNull},{name:"index",type:"int",defaultValue:-1,persist:false,convert:null},{name:"depth",type:"int",defaultValue:0,persist:false,convert:null},{name:"expanded",type:"bool",defaultValue:false,persist:false,convert:null},{name:"expandable",type:"bool",defaultValue:true,persist:false,convert:null},{name:"checked",type:"auto",defaultValue:null,persist:false,convert:null},{name:"leaf",type:"bool",defaultValue:false},{name:"cls",type:"string",defaultValue:"",persist:false,convert:null},{name:"iconCls",type:"string",defaultValue:"",persist:false,convert:null},{name:"icon",type:"string",defaultValue:"",persist:false,convert:null},{name:"root",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"isLast",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"isFirst",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"allowDrop",type:"boolean",defaultValue:true,persist:false,convert:null},{name:"allowDrag",type:"boolean",defaultValue:true,persist:false,convert:null},{name:"loaded",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"loading",type:"boolean",defaultValue:false,persist:false,convert:null},{name:"href",type:"string",defaultValue:"",persist:false,convert:null},{name:"hrefTarget",type:"string",defaultValue:"",persist:false,convert:null},{name:"qtip",type:"string",defaultValue:"",persist:false,convert:null},{name:"qtitle",type:"string",defaultValue:"",persist:false,convert:null},{name:"qshowDelay",type:"int",defaultValue:0,persist:false,convert:null},{name:"children",type:"auto",defaultValue:null,persist:false,convert:null},{name:"visible",type:"boolean",defaultValue:true,persist:false},{name:"text",type:"string",persist:false}])},getPrototypeBody:function(){var g={idchanged:true,append:true,remove:true,move:true,insert:true,beforeappend:true,beforeremove:true,beforemove:true,beforeinsert:true,expand:true,collapse:true,beforeexpand:true,beforecollapse:true,sort:true},e={silent:true};return{isNode:true,firstChild:null,lastChild:null,parentNode:null,previousSibling:null,nextSibling:null,constructor:function(){var c=this;c.mixins.observable.constructor.call(c);c.callParent(arguments);c.childNodes=[];return c},createNode:function(x){var r=this,t=r.childType,c,q,v,d,s,u,w=r.self;if(!x.isModel){if(t){w=r.schema.getEntity(t)}else{c=r.getTreeStore();q=c&&c.getProxy().getReader();v=r.getProxy();d=v?v.getReader():null;s=!q||(d&&d.initialConfig.typeProperty)?d:q;if(s){u=s.getTypeProperty();if(u){w=s.getChildType(r.schema,x,u)}}}x=new w(x)}if(!x.childNodes){x.firstChild=x.lastChild=x.parentNode=x.previousSibling=x.nextSibling=null;x.childNodes=[]}return x},isLeaf:function(){return this.get("leaf")===true},setFirstChild:function(c){this.firstChild=c},setLastChild:function(c){this.lastChild=c},updateInfo:function(M,i){var c=this,Q=c.data,d=Q.depth,O={},P=c.childNodes,B=P.length,L=c.phantom,D=c.fields,N=c.modified||(c.modified={}),F,G,R,K,I,J=i.parentId,H,E,C;for(F in i){R=D[c.fieldOrdinals[F]];G=i[F];E=R&&R.persist;K=Q[F];H=E&&(F==="index")&&(K!==-1)&&(J&&J!==N.parentId);if(!H&&c.isEqual(K,G)){continue}Q[F]=G;if(E){if(!H&&N.hasOwnProperty(F)){if(c.isEqual(N[F],G)){delete N[F];c.dirty=false;for(I in N){if(N.hasOwnProperty(I)){c.dirty=true;break}}}}else{c.dirty=true;N[F]=K}}}if(M){c.commit();c.phantom=L}if(c.data.depth!==d){O={depth:c.data.depth+1};for(C=0;C<B;C++){P[C].updateInfo(M,O)}}},isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return !this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){var c=this;if(c.get("expandable")){return !(c.isLeaf()||(c.isLoaded()&&!c.phantom&&!c.hasChildNodes()))}return false},triggerUIUpdate:function(){this.callJoined("afterEdit",[])},appendChild:function(y,c,x){var i=this,w,u,v,d,B,C={isLast:true,parentId:i.getId(),depth:(i.data.depth||0)+1},D,z=i.getTreeStore(),A=z&&z.bulkUpdate;Ext.suspendLayouts();if(Ext.isArray(y)){u=y.length;D=new Array(u);i.callTreeStore("beginFill");for(w=0;w<u;w++){D[w]=i.appendChild(y[w],c,x)}i.callTreeStore("endFill",[D])}else{y=i.createNode(y);if(c!==true&&i.fireEventArgs("beforeappend",[i,y])===false){Ext.resumeLayouts(true);return false}v=i.childNodes.length;d=y.parentNode;if(d){if(c!==true&&y.fireEventArgs("beforemove",[y,d,i,v])===false){Ext.resumeLayouts(true);return false}if(d.removeChild(y,false,c,d.getTreeStore()===z)===false){Ext.resumeLayouts(true);return false}}z&&z.beginUpdate();v=i.childNodes.length;if(v===0){i.setFirstChild(y)}i.childNodes[v]=y;y.parentNode=i;y.nextSibling=null;i.setLastChild(y);B=i.childNodes[v-1];if(B){y.previousSibling=B;B.nextSibling=y;B.updateInfo(x,{isLast:false});if(!A){B.triggerUIUpdate()}}else{y.previousSibling=null}C.isFirst=v===0;C.index=v;y.updateInfo(x,C);if(i.isLeaf()){i.set("leaf",false)}if(!i.isLoaded()){if(A){i.data.loaded=true}else{i.set("loaded",true)}}else{if(i.childNodes.length===1&&!A){i.triggerUIUpdate()}}if(v&&i.childNodes[v-1].isExpanded()&&!A){i.childNodes[v-1].cascadeBy(i.triggerUIUpdate)}if(z){z.registerNode(i,!A);if(A){z.registerNode(y)}}if(c!==true){i.fireEventArgs("append",[i,y,v]);if(d){y.fireEventArgs("move",[y,d,i,v])}}i.callTreeStore("onNodeAppend",[y,v]);D=y;if(z){z.endUpdate()}}Ext.resumeLayouts(true);return D},getOwnerTree:function(){var c=this.getTreeStore();if(c){return c.ownerTree}},getTreeStore:function(){var c=this;while(c&&!c.treeStore){c=c.parentNode}return c&&c.treeStore},removeChild:function(w,y,B,c){var d=this,i=d.indexOf(w),u,v,A,x=d.getTreeStore(),z=x&&x.bulkUpdate,t;if(i===-1||(B!==true&&d.fireEventArgs("beforeremove",[d,w,!!c])===false)){return false}Ext.suspendLayouts();x&&x.beginUpdate();Ext.Array.erase(d.childNodes,i,1);if(d.firstChild===w){d.setFirstChild(w.nextSibling)}if(d.lastChild===w){d.setLastChild(w.previousSibling)}A=w.previousSibling;if(A){w.previousSibling.nextSibling=w.nextSibling}if(w.nextSibling){w.nextSibling.previousSibling=w.previousSibling;if(i===0){w.nextSibling.updateInfo(false,{isFirst:true})}for(u=i,v=d.childNodes.length;u<v;u++){d.childNodes[u].updateInfo(false,{index:u})}}else{if(A){A.updateInfo(false,{isLast:true});if(!z){if(A.isExpanded()){A.cascadeBy(d.triggerUIUpdate)}else{A.triggerUIUpdate()}}}}if(!d.childNodes.length&&!z){d.triggerUIUpdate()}Ext.resumeLayouts(true);if(B!==true){t={parentNode:w.parentNode,previousSibling:w.previousSibling,nextSibling:w.nextSibling};d.callTreeStore("beforeNodeRemove",[[w],!!c]);w.previousSibling=w.nextSibling=w.parentNode=null;d.fireEventArgs("remove",[d,w,!!c,t]);d.callTreeStore("onNodeRemove",[[w],!!c])}if(y){w.erase(true)}else{w.clear()}if(!c){w.set({parentId:null,lastParentId:d.getId()},e)}if(x){x.endUpdate()}return w},copy:function(i,m){var c=this,n=c.callParent([i]),p=c.childNodes?c.childNodes.length:0,d;if(m){for(d=0;d<p;d++){n.appendChild(c.childNodes[d].copy(undefined,true))}}return n},clear:function(d){var c=this;c.parentNode=c.previousSibling=c.nextSibling=null;if(d){c.firstChild=c.lastChild=c.childNodes=null}},drop:function(){var i=this,c=i.childNodes,q=i.parentNode,r=c?c.length:0,p,n,d;i.callParent();if(q){d=i.getTreeStore();q.removeChild(i)}else{if(i.get("root")){d=i.getTreeStore();d.setRoot(null)}}d&&d.beginUpdate();for(p=0;p<r;p++){n=c[p];n.clear();n.drop()}d&&d.endUpdate()},erase:function(n){var d=this,c=d.childNodes,p=c&&c.length,m,i;d.remove();d.clear(true);d.callParent([n]);for(m=0;m<p;m++){i=c[m];i.parentNode=null;i.erase(n)}},insertBefore:function(x,t,B){var i=this,u=i.indexOf(t),d=x.parentNode,c=u,w,A,v,y=i.getTreeStore(),z=y&&y.bulkUpdate;if(!t){return i.appendChild(x)}if(x===t){return false}x=i.createNode(x);if(B!==true&&i.fireEventArgs("beforeinsert",[i,x,t])===false){return false}if(d===i&&i.indexOf(x)<u){c--}if(d){if(B!==true&&x.fireEventArgs("beforemove",[x,d,i,u,t])===false){return false}if(d.removeChild(x,false,B,d.getTreeStore()===y)===false){return false}}y&&y.beginUpdate();if(c===0){i.setFirstChild(x)}Ext.Array.splice(i.childNodes,c,0,x);x.parentNode=i;x.nextSibling=t;t.previousSibling=x;A=i.childNodes[c-1];if(A){x.previousSibling=A;A.nextSibling=x}else{x.previousSibling=null}x.updateInfo(false,{parentId:i.getId(),index:c,isFirst:c===0,isLast:false,depth:(i.data.depth||0)+1});for(v=c+1,w=i.childNodes.length;v<w;v++){i.childNodes[v].updateInfo(false,{index:v})}if(!i.isLoaded()){if(z){i.data.loaded=true}else{i.set("loaded",true)}}else{if(i.childNodes.length===1&&!z){i.triggerUIUpdate()}}if(y){y.registerNode(i,!z)}if(B!==true){i.fireEventArgs("insert",[i,x,t]);if(d){x.fireEventArgs("move",[x,d,i,c,t])}}i.callTreeStore("onNodeInsert",[x,c]);if(y){y.endUpdate()}return x},insertChild:function(i,c){var d=this.childNodes[i];if(d){return this.insertBefore(c,d)}else{return this.appendChild(c)}},isLastVisible:function(){var c=this,i=c.data.isLast,d=c.nextSibling;if(!i&&c.getTreeStore().isFiltered()){while(d){if(d.data.visible){return false}d=d.nextSibling}return true}return i},remove:function(j,d){var c=this,k=c.parentNode;if(k){k.removeChild(c,j,d)}else{if(j){c.erase(true)}}return c},removeAll:function(v,c,s){var i=this,d=i.childNodes,q=d.length,t,u,r;if(!q){return}if(!s){u=i.getTreeStore();if(u){u.beginUpdate();u.suspendEvent("remove");i.callTreeStore("beforeNodeRemove",[d,false])}}for(r=0;r<q;++r){t=d[r];t.previousSibling=t.nextSibling=t.parentNode=null;i.fireEventArgs("remove",[i,t,false]);if(v){t.erase(true)}else{t.removeAll(false,c,true)}}if(!s&&u){u.resumeEvent("remove");i.callTreeStore("onNodeRemove",[d,false]);u.endUpdate()}i.firstChild=i.lastChild=null;d.length=0;if(!s){i.triggerUIUpdate()}return i},getChildAt:function(c){return this.childNodes[c]},replaceChild:function(k,c,d){var j=c?c.nextSibling:null;this.removeChild(c,false,d);this.insertBefore(k,j,d);return c},indexOf:function(c){return Ext.Array.indexOf(this.childNodes,c)},indexOfId:function(c){var d=this.childNodes,k=d.length,i=0;for(;i<k;++i){if(d[i].getId()===c){return i}}return -1},getPath:function(c,d){c=c||this.idProperty;d=d||"/";var j=[this.get(c)],k=this.parentNode;while(k){j.unshift(k.get(c));k=k.parentNode}return d+j.join(d)},getDepth:function(){return this.get("depth")},bubble:function(d,j,k){var c=this;while(c){if(d.apply(j||c,k||[c])===false){break}c=c.parentNode}},cascadeBy:function(d,q,s,t){var i=this;if(arguments.length===1&&!Ext.isFunction(d)){t=d.after;q=d.scope;s=d.args;d=d.before}if(!d||d.apply(q||i,s||[i])!==false){var c=i.childNodes,p=c.length,r;for(r=0;r<p;r++){c[r].cascadeBy.call(c[r],d,q,s,t)}if(t){t.apply(q||i,s||[i])}}},eachChild:function(i,m,p){var c=this.childNodes,d=c.length,n;for(n=0;n<d;n++){if(i.apply(m||this,p||[c[n]])===false){break}}},findChild:function(d,c,i){return this.findChildBy(function(){return this.get(d)==c},null,i)},findChildBy:function(c,d,r){var i=this.childNodes,t=i.length,n=0,s,q;for(;n<t;n++){s=i[n];if(c.call(d||s,s)===true){return s}else{if(r){q=s.findChildBy(c,d,r);if(q!==null){return q}}}}return null},contains:function(c){return c.isAncestor(this)},isAncestor:function(d){var c=this.parentNode;while(c){if(c===d){return true}c=c.parentNode}return false},sort:function(c,t,d){var n=this,i=n.childNodes,r=i.length,s,u,v={isFirst:true};if(r>0){if(!c){c=n.getTreeStore().getSortFn()}Ext.Array.sort(i,c);n.setFirstChild(i[0]);n.setLastChild(i[r-1]);for(s=0;s<r;s++){u=i[s];u.previousSibling=i[s-1];u.nextSibling=i[s+1];v.isLast=(s===r-1);v.index=s;u.updateInfo(false,v);v.isFirst=false;if(t&&!u.isLeaf()){u.sort(c,true,true)}}if(d!==true){n.fireEventArgs("sort",[n,i]);n.callTreeStore("onNodeSort",[i])}}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},isBranchLoaded:function(){var c=!this.isLeaf()&&this.isLoaded();if(c){this.cascadeBy(function(d){if(!d.isLeaf()){c=c||d.isBranchLoaded()}return c})}return c},isLoading:function(){return this.get("loading")},isRoot:function(){return !this.parentNode},isVisible:function(){var c=this.parentNode;while(c){if(!c.isExpanded()){return false}c=c.parentNode}return true},expand:function(p,c,n){var m=this,l,d;if(!m.isLeaf()){if(m.isLoading()){m.on("expand",function(){m.expand(p,c,n)},m,{single:true})}else{if(!m.isExpanded()){if(m.fireEventArgs("beforeexpand",[m])!==false){if(p){if(m.parentNode&&m.parentNode.isSynchronousRecursiveExpand){m.isSynchronousRecursiveExpand=true}else{l=m.getTreeStore();if(l.getProxy().isSynchronous||m.isBranchLoaded()){m.isSynchronousRecursiveExpand=true;l.suspendEvent("add");d=true}}}m.callTreeStore("onBeforeNodeExpand",[m.onChildNodesAvailable,m,[p,c,n]]);if(d){l.resumeEvent("add");l.fireEvent("refresh",l)}m.isSynchronousRecursiveExpand=false}}else{if(p){m.expandChildren(true,c,n)}else{Ext.callback(c,n||m,[m.childNodes])}}}}else{Ext.callback(c,n||m)}},onChildNodesAvailable:function(u,v,d,c){var r=this,w=r.getTreeStore(),x=w&&w.bulkUpdate,s,t,i;Ext.suspendLayouts();for(s=r.parentNode;s;s=s.parentNode){if(!s.isExpanded()){(i||(i=[])).unshift(s)}}if(x){r.data.expanded=true}else{r.set("expanded",true)}if(i){for(t=1;t<i.length;t++){s=i[t];if(x){s.data.expanded=true}else{s.set("expanded",true)}}i[0].expand();for(t=1;t<i.length;t++){s=i[t];s.fireEventArgs("expand",[s,s.childNodes])}}else{r.callTreeStore("onNodeExpand",[u,false])}r.fireEventArgs("expand",[r,u]);if(v){r.expandChildren(true,d,c)}else{Ext.callback(d,c||r,[r.childNodes])}Ext.resumeLayouts(true)},expandChildren:function(w,c,B,v){var i=this,d,u,z,A,t,x,y;if(Ext.isBoolean(c)){d=c;c=B;B=v;v=d}if(v===undefined){y=i.getTreeStore();v=y&&y.singleExpand}z=i.childNodes;A=[];t=v?Math.min(z.length,1):z.length;for(u=0;u<t;++u){x=z[u];if(!x.isLeaf()){A[A.length]=x}}t=A.length;for(u=0;u<t;++u){A[u].expand(w)}if(c){Ext.callback(c,B||i,[i.childNodes])}},collapse:function(v,d,c){var i=this,s=i.isExpanded(),w=i.getTreeStore(),x=w&&w.bulkUpdate,r=i.childNodes.length,u,t;if(!i.isLeaf()&&((!s&&v)||i.fireEventArgs("beforecollapse",[i])!==false)){Ext.suspendLayouts();if(i.isExpanded()){if(v){t=function(){for(u=0;u<r;u++){i.childNodes[u].setCollapsed(true)}};if(d){d=Ext.Function.createSequence(t,Ext.Function.bind(d,c,[i.childNodes]))}else{d=t}}else{if(d){d=Ext.Function.bind(d,c,[i.childNodes])}}if(x){i.data.expanded=false}else{i.set("expanded",false)}i.callTreeStore("onNodeCollapse",[i.childNodes,d,c]);i.fireEventArgs("collapse",[i,i.childNodes]);d=null}else{if(v){for(u=0;u<r;u++){i.childNodes[u].setCollapsed(true)}}}Ext.resumeLayouts(true)}Ext.callback(d,c||i,[i.childNodes])},setCollapsed:function(i){var c=this,k=c.childNodes.length,d;if(!c.isLeaf()&&c.fireEventArgs("beforecollapse",[c])!==false){c.data.expanded=false;c.fireEventArgs("collapse",[c,c.childNodes]);if(i){for(d=0;d<k;d++){c.childNodes[d].setCollapsed(true)}}}},collapseChildren:function(t,d,c){var i=this,r,v=i.childNodes,q=v.length,s=[],u;for(r=0;r<q;++r){u=v[r];if(!u.isLeaf()&&u.isLoaded()&&u.isExpanded()){s.push(u)}}q=s.length;if(q){for(r=0;r<q;++r){u=s[r];if(r===q-1){u.collapse(t,d,c)}else{u.collapse(t)}}}else{Ext.callback(d,c)}},fireEvent:function(c){return this.fireEventArgs(c,Ext.Array.slice(arguments,1))},fireEventArgs:function(n,l){var c=Ext.mixin.Observable.prototype.fireEventArgs,p,d,m;if(g[n]){for(d=this;p!==false&&d;d=(m=d).parentNode){if(d.hasListeners&&d.hasListeners[n]){p=c.call(d,n,l)}}if(p!==false){d=m.getTreeStore();if(d&&d.hasListeners&&d.hasListeners[n="node"+n]){p=d.fireEventArgs(n,l)}}return p}else{return c.apply(this,arguments)}},serialize:function(p){var d=p||new Ext.data.writer.Json({writeAllFields:true}),q=d.getRecordData(this),c=this.childNodes,r=c.length,i,n;if(r>0){q.children=i=[];for(n=0;n<r;n++){i.push(c[n].serialize(d))}}return q},callTreeStore:function(c,m){var k=this,d=k.getTreeStore(),l=d&&d[c];if(d&&l){m=m||[];if(m[0]!==k){m.unshift(k)}l.apply(d,m)}},privates:{join:function(c){if(c.isTreeStore){if(this.isRoot()){this.treeStore=this.store=c}}else{this.callParent([c])}},callJoined:function(c,d){this.callParent([c,d]);this.callTreeStore(c,d)}}}}}},0,0,0,0,0,0,[Ext.data,"NodeInterface"],0));(Ext.cmd.derive("Ext.mixin.Queryable",Ext.Base,{mixinId:"queryable",isQueryable:true,query:function(d){d=d||"*";return Ext.ComponentQuery.query(d,this.getQueryRoot())},queryBy:function(l,m){var p=[],q=this.getQueryRoot().getRefItems(true),n=0,r=q.length,i;for(;n<r;++n){i=q[n];if(l.call(m||i,i)!==false){p.push(i)}}return p},queryById:function(d){return this.down(Ext.makeIdSelector(d))},child:function(g){var e=this.getQueryRoot().getRefItems();if(g&&g.isComponent){return this.matchById(e,g.getItemId())}if(g){e=Ext.ComponentQuery.query(g,e)}if(e.length){return e[0]}return null},down:function(d){if(d&&d.isComponent){return this.matchById(this.getRefItems(true),d.getItemId())}d=d||"";return this.query(d)[0]||null},visitPreOrder:function(k,h,i,j){Ext.ComponentQuery._visit(true,k,this.getQueryRoot(),h,i,j)},visitPostOrder:function(k,h,i,j){Ext.ComponentQuery._visit(false,k,this.getQueryRoot(),h,i,j)},getRefItems:function(){return[]},getQueryRoot:function(){return this},privates:{matchById:function(l,i){var m=l.length,k,j;for(k=0;k<m;++k){j=l[k];if(j.getItemId()===i){return j}}return null}}},0,0,0,0,0,0,[Ext.mixin,"Queryable"],0));(Ext.cmd.derive("Ext.data.TreeModel",Ext.data.Model,{getRefItems:function(){return this.childNodes},getRefOwner:function(){return this.parentNode},statics:{defaultProxy:"memory"}},0,0,0,0,0,[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.data,"TreeModel"],function(){Ext.data.NodeInterface.decorate(this)}));(Ext.cmd.derive("Ext.data.NodeStore",Ext.data.Store,{isNodeStore:true,config:{node:null,recursive:false,rootVisible:false,folderSort:false},implicitModel:"Ext.data.TreeModel",getTotalCount:function(){return this.getCount()},updateFolderSort:function(e){var g=this.getData();g.setTrackGroups(false);if(e){g.setGrouper({groupFn:this.folderSortFn})}else{g.setGrouper(null)}},folderSortFn:function(d){return d.data.leaf?1:0},afterReject:function(g){var e=this;if(e.contains(g)){e.onUpdate(g,Ext.data.Model.REJECT,null);e.fireEvent("update",e,g,Ext.data.Model.REJECT,null)}},afterCommit:function(i,g){var h=this;if(!g){g=null}if(h.contains(i)){h.onUpdate(i,Ext.data.Model.COMMIT,g);h.fireEvent("update",h,i,Ext.data.Model.COMMIT,g)}},onNodeAppend:function(g,e){if(g===this.getNode()){this.add([e].concat(this.retrieveChildNodes(e)))}},onNodeInsert:function(k,i,l){var j=this,m;if(k===j.getNode()){m=j.indexOf(l)||0;j.insert(0,[i].concat(j.retrieveChildNodes(i)))}},onNodeRemove:function(g,e){if(g===this.getNode()){this.remove([e].concat(this.retrieveChildNodes(e)))}},onNodeExpand:function(e,g){if(e===this.getNode()){this.loadRecords(g)}},applyNode:function(d){if(d){if(!d.isModel){d=new (this.getModel())(d)}if(!d.isNode){Ext.data.NodeInterface.decorate(d)}}return d},updateNode:function(j,h){var k=this,i;if(h&&!h.destroyed){h.un({append:"onNodeAppend",insert:"onNodeInsert",remove:"onNodeRemove",scope:k});h.unjoin(k)}if(j){j.on({scope:k,append:"onNodeAppend",insert:"onNodeInsert",remove:"onNodeRemove"});j.join(k);i=[];if(j.childNodes.length){i=i.concat(k.retrieveChildNodes(j))}if(k.getRootVisible()){i.push(j)}else{if(j.isLoaded()||j.isLoading()){j.set("expanded",true)}}k.getData().clear();k.fireEvent("clear",k);k.suspendEvents();if(k.isInitializing){k.inlineData=i}else{k.add(i)}k.resumeEvents();if(i.length===0){k.loaded=j.loaded=true}k.fireEvent("refresh",k,k.data)}},isVisible:function(e){var g=e.parentNode;if(!this.getRecursive()&&g!==this.getNode()){return false}while(g){if(!g.isExpanded()){return false}if(g===this.getNode()){break}g=g.parentNode}return true},privates:{retrieveChildNodes:function(m){var j=this.getNode(),l=this.getRecursive(),k=[],i=m;if(!m.childNodes.length||(!l&&m!==j)){return k}if(!l){return m.childNodes}while(i){if(i._added){delete i._added;if(i===m){break}else{i=i.nextSibling||i.parentNode}}else{if(i!==m){k.push(i)}if(i.firstChild){i._added=true;i=i.firstChild}else{i=i.nextSibling||i.parentNode}}}return k}}},0,0,0,0,["store.node"],0,[Ext.data,"NodeStore"],0));(Ext.cmd.derive("Ext.data.Request",Ext.Base,{config:{action:undefined,params:undefined,method:"GET",url:null,operation:null,proxy:null,disableCaching:false,headers:{},callbackKey:null,rawRequest:null,jsonData:undefined,xmlData:undefined,withCredentials:false,username:null,password:null,binary:false,callback:null,scope:null,timeout:30000,records:null,directFn:null,args:null,useDefaultXhrHeader:null},constructor:function(d){this.initConfig(d)},getParam:function(i){var g=this.getParams(),h;if(g){return g[i]}return h},setParam:function(i,h){var g=this.getParams()||{};g[i]=h;this.setParams(g)}},1,0,0,0,0,0,[Ext.data,"Request"],0));(Ext.cmd.derive("Ext.data.TreeStore",Ext.data.Store,{isTreeStore:true,config:{root:null,rootVisible:false,defaultRootProperty:"children",parentIdProperty:null,clearOnLoad:true,clearRemovedOnLoad:true,nodeParam:"node",defaultRootId:"root",defaultRootText:"Root",folderSort:false},lazyFill:false,fillCount:0,bulkUpdate:0,_silentOptions:{silent:true},implicitModel:"Ext.data.TreeModel",constructor:function(g){var e=this;e.byIdMap={};Ext.data.Store.prototype.constructor.call(this,g)},applyFields:function(i,g){var h=this;if(i){if(h.defaultRootProperty!==h.self.prototype.config.defaultRootProperty){i=i.concat({name:h.defaultRootProperty,type:"auto",defaultValue:null,persist:false})}}Ext.data.Store.prototype.applyFields.call(this,i,g)},onSorterEndUpdate:function(){var k=this,m=k.getSorters(),j=m.getRange(),l=k.getRoot(),i=k.getFolderSort();k.fireEvent("beforesort",k,j);if(l&&(i||j.length)){if(k.getRemoteSort()){if(j.length){k.load({callback:function(){k.fireEvent("sort",k,j)}})}}else{l.sort(this.getSortFn(),true);k.fireEvent("datachanged",k);k.fireEvent("refresh",k);k.fireEvent("sort",k,j)}}else{k.fireEvent("sort",k,j)}},updateFolderSort:function(d){this.needsFolderSort=d;this.onSorterEndUpdate()},getSortFn:function(){return this._sortFn||(this._sortFn=this.createSortFn())},createSortFn:function(){var g=this,e=this.sorters.getSortFn();return function(k,l){var d,c,m=0;if(g.needsFolderSort){d=k.data.leaf?1:0;c=l.data.leaf?1:0;m=d-c}if(g.needsIndexSort&&m===0){m=k.data.index-l.data.index}return m||e(k,l)}},getTotalCount:function(){return this.getCount()},afterEdit:function(g,h){var i=this;if(i.needsLocalFilter()){i.doFilter(g)}Ext.data.Store.prototype.afterEdit.call(this,g,h)},afterReject:function(g){var e=this;if(e.contains(g)){e.onUpdate(g,Ext.data.Model.REJECT,null);e.fireEvent("update",e,g,Ext.data.Model.REJECT,null)}},afterCommit:function(i,g){var h=this;if(!g){g=null}if(h.contains(i)){h.onUpdate(i,Ext.data.Model.COMMIT,g);h.fireEvent("update",h,i,Ext.data.Model.COMMIT,g)}},fireChangeEvent:function(d){return !!this.byIdMap[d.id]},updateRootVisible:function(h){var i=this.getRoot(),g;if(i){g=this.getData();if(h){g.insert(0,i)}else{g.remove(i)}}},updateTrackRemoved:function(d){Ext.data.Store.prototype.updateTrackRemoved.apply(this,arguments);this.removedNodes=this.removed;this.removed=null},onDestroyRecords:function(h,i,g){if(g){this.removedNodes.length=0}},updateProxy:function(e){var g;if(e){if(e.setIdParam){e.setIdParam(this.getNodeParam())}g=e.getReader();if(Ext.isEmpty(g.getRootProperty())){g.setRootProperty(this.getDefaultRootProperty())}}},setProxy:function(d){this.changingProxy=true;(arguments.callee.$previous||Ext.data.Store.prototype.setProxy).call(this,d);this.changingProxy=false},updateModel:function(g){var e=g.prototype.isNode;Ext.data.NodeInterface.decorate(g);if(!e&&!this.changingProxy){this.getProxy().getReader().buildExtractors(true)}},onFilterEndUpdate:function(n){var p=this,q=n.length,t=p.getRoot(),i,r,m,s;if(!p.getRemoteFilter()){if(q){p.doFilter(t)}else{t.cascadeBy({after:function(c){c.set("visible",true,p._silentOptions)}})}if(q){m=[];i=t.childNodes;for(s=0,q=i.length;s<q;s++){r=i[s];if(r.get("visible")){m.push(r)}}}else{m=t.childNodes}p.onNodeFilter(t,m);t.fireEvent("filterchange",t,m);p.fireEvent("filterchange",p,n);p.suppressNextFilter=true;Ext.data.Store.prototype.onFilterEndUpdate.call(this,n);p.suppressNextFilter=false}else{Ext.data.Store.prototype.onFilterEndUpdate.call(this,n)}},onNodeFilter:function(m,i){var k=this,j=k.getData(),l=[];if(k.getRootVisible()){if(i.length){l.push(m)}else{m.set("visible",false,k._silentOptions)}}k.handleNodeExpand(m,i,l);k.suspendEvents();j.splice(0,j.getCount(),l);k.resumeEvents();if(!k.suppressNextFilter){k.fireEvent("datachanged",k);k.fireEvent("refresh",k)}},onBeforeNodeExpand:function(y,q,p,u){var t=this,s,w,r,v,z,x;if(y.isLoaded()){x=[y.childNodes];if(u){x.push.apply(x,u)}Ext.callback(q,p||y,x)}else{if(y.isLoading()){t.on("load",function(){x=[y.childNodes];if(u){x.push.apply(x,u)}Ext.callback(q,p||y,x)},t,{single:true,priority:1001})}else{s=t.getProxy().getReader();w=y.getProxy();r=w?w.getReader():null;v=r&&r.initialConfig.rootProperty?r:s;z=v.getRoot(y.raw||y.data);if(z||(y.phantom&&!y.isRoot())){if(z){t.fillNode(y,v.extractData(z,{model:y.childType,recordCreator:t.recordCreator}))}x=[y.childNodes];if(u){x.push.apply(x,u)}Ext.callback(q,p||y,x)}else{t.read({node:y,onChildNodesAvailable:function(){delete t.lastOptions.onChildNodesAvailable;x=[y.childNodes];if(u){x.push.apply(x,u)}Ext.callback(q,p||y,x)}});t.flushLoad()}}}},onNodeExpand:function(j,l){var i=this,m=i.indexOf(j)+1,k=[];i.handleNodeExpand(j,l,k);if(!i.refreshCounter&&j.isRoot()&&!j.get("visible")){i.loadRecords(k)}else{i.insert(m,k)}},handleNodeExpand:function(m,q,n){var i=this,l=q?q.length:0,p,r;if(m!==this.getRoot()&&!i.isVisible(m)){return}if(l){for(p=0;p<l;p++){r=q[p];if(r.get("visible")){n.push(r);if(r.isExpanded()){if(r.isLoaded()){i.handleNodeExpand(r,r.childNodes,n)}else{r.set("expanded",false);r.expand()}}}}}},onNodeCollapse:function(n,r,k,p){var m=this,q=m.indexOf(n)+1,l;if(m.needsLocalFilter()){r=Ext.Array.filter(r,m.filterVisible)}if(r.length&&m.data.contains(r[0])){l=m.indexOfNextVisibleNode(n);m.removeAt(q,l-q)}Ext.callback(k,p)},indexOfNextVisibleNode:function(e){var g;while(e.parentNode){for(g=e.nextSibling;g&&!g.get("visible");g=g.nextSibling){}if(g){return this.indexOf(g)}e=e.parentNode}return this.getCount()},filterNew:function(d){return !d.get("root")&&Ext.data.Store.prototype.filterNew.call(this,d)},filterRejects:function(d){return !d.get("root")&&Ext.data.Store.prototype.filterRejects.call(this,d)},getNewRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterNew,this)},getUpdatedRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterUpdated)},beforeNodeRemove:function(n,i){if(!Ext.isArray(i)){i=[i]}var k=this,p=i.length,l,m;for(l=0;!m&&l<p;l++){if(i[l].get("visible")){m=i[l]}}if(m){k.startRemoveIndex=k.indexOf(i[0]);k.lastRemoveIndexPlusOne=k.indexOfNextVisibleNode(i[i.length-1])}else{k.startRemoveIndex=-1;k.lastRemoveIndexPlusOne=0}},afterDrop:Ext.emptyFn,onNodeRemove:function(s,i,n){var p=this,r=p.removedNodes,q=i.length,v=p.startRemoveIndex,u=p.lastRemoveIndexPlusOne,t;p.suspendAutoSync();if(v!==-1){p.removeIsMove=n;p.removeAt(v,u-v);p.removeIsMove=false}for(t=0;t<q;t++){i[t].cascadeBy(function(c){p.unregisterNode(c);if(r&&!n){if(!c.phantom&&!c.erasing&&!p.loading){c.removedFrom=p.indexOf(c);r.push(c);p.needsSync=true}}})}p.resumeAutoSync()},onNodeAppend:function(h,g,i){this.onNodeInsert(h,g,i)},onNodeInsert:function(s,D,y){var v=this,B=D.raw||D.data,z=v.removedNodes,x,r,w,C,u,A,t;if(s&&v.needsLocalFilter()){v.doFilter(s)}v.beginUpdate();if(v.isVisible(D)){if(y===0||!D.previousSibling){x=s}else{for(r=D.previousSibling;r&&!r.get("visible");r=r.previousSibling){}while(r.isExpanded()&&r.lastChild){r=r.lastChild}x=r}v.insert(v.indexOf(x)+1,D);if(!D.isLeaf()&&D.isExpanded()){if(D.isLoaded()){v.onNodeExpand(D,D.childNodes)}else{if(!v.fillCount){D.set("expanded",false);D.expand()}}}}Ext.Array.remove(z,D);v.needsSync=v.needsSync||D.phantom||D.dirty;if(!D.isLeaf()&&!D.isLoaded()&&!v.lazyFill){w=v.getProxy().getReader();C=D.getProxy();u=C?C.getReader():null;A=u&&u.initialConfig.rootProperty?u:w;t=A.getRoot(B);if(t){v.fillNode(D,A.extractData(t,{model:D.childType,recordCreator:v.recordCreator}))}}v.endUpdate()},registerNode:function(i,p){var k=this,m,l,n;k.byIdMap[i.id]=i;if(p===true){m=i.childNodes;l=m.length;for(n=0;n<l;n++){k.registerNode(m[n],true)}}},unregisterNode:function(i,p){var k=this,m,l,n;delete k.byIdMap[i.id];if(p===true){m=i.childNodes;l=m.length;for(n=0;n<l;n++){k.unregisterNode(m[n],true)}}},onNodeSort:function(h,g){var i=this;i.suspendAutoSync();if((i.indexOf(h)!==-1&&h.isExpanded())||(h===i.getRoot()&&!i.getRootVisible())){Ext.suspendLayouts();i.onNodeCollapse(h,g);i.onNodeExpand(h,g);Ext.resumeLayouts(true)}i.resumeAutoSync(i.autoSync)},applyRoot:function(i){var l=this,j=l.getModel(),m=j.prototype.idProperty,k=l.getDefaultRootId();if(i&&!i.isNode){i=Ext.apply({text:l.getDefaultRootText(),root:true,isFirst:true,isLast:true,depth:0,index:0,parentId:null,allowDrag:false},i);if(k&&i[m]===undefined){i[m]=k}i=new j(i)}return i},updateRoot:function(j,n){var l=this,k,p=!n,m;l.byIdMap={};l.getTrackRemoved();l.suspendEvent("add","remove");if(n&&n.isModel){if(l.getRootVisible()){m=[n]}else{m=n.childNodes}l.beforeNodeRemove(null,m);n.set("root",false);l.onNodeRemove(null,m);n.fireEvent("remove",null,n,false);n.fireEvent("rootchange",null);n.clearListeners();n.store=n.treeStore=null}l.getData().clear();if(j){if(j.fireEventArgs("beforeappend",[null,j])===false){j=null}else{k=j.parentNode;if(k){if(!k.removeChild(j,false,false,k.getTreeStore()===l)){return}}else{if((k=j.getTreeStore())&&k!==l&&j===k.getRoot()){k.setRoot(null)}}j.store=j.treeStore=l;j.set("root",true);j.updateInfo(true,{isFirst:true,isLast:true,depth:0,index:0,parentId:null});l.registerNode(j,true);j.fireEvent("append",null,j,false);j.fireEvent("rootchange",j);l.onNodeAppend(null,j,0);j.phantom=true}}l.fireEvent("rootchange",j,n);if(j&&(l.getAutoLoad()||j.isExpanded())){if(j.isLoaded()){l.onNodeExpand(j,j.childNodes);l.fireEvent("datachanged",l);l.fireEvent("refresh",l)}else{j.data.expanded=false;j.expand(false,function(){l.fireEvent("datachanged",l);l.fireEvent("refresh",l)})}}else{if(!p){l.fireEvent("datachanged",l);l.fireEvent("refresh",l)}}l.resumeEvent("add","remove")},getNodeById:function(d){return this.byIdMap[d]||null},findNode:function(k,l,n,p,q){if(Ext.isEmpty(l,false)){return null}if(l===this.model.idProperty&&arguments.length<3){return this.byIdMap[l]}var m=Ext.String.createRegex(l,n,p,q),r=null;Ext.Object.eachValue(this.byIdMap,function(c){if(c&&m.test(c.get(k))){r=c;return false}});return r},load:function(g){var e=g&&g.node;if(!e&!(e=this.getRoot())){e=this.setRoot({expanded:true});return}if(e.isLoading()){return}return Ext.data.Store.prototype.load.call(this,g)},flushLoad:function(){var q=this,m=q.pendingLoadOptions,v,p,n,s=q.getClearOnLoad(),r,u,t;q.clearLoadTask();if(!m){return}v=m.node||q.getRoot();r=v&&v.isRoot()&&v.isLoaded()&&s;p=m.callback;n=m.scope;m.params=m.params||{};if(v.data.expanded&&!r){v.data.loaded=false;if(s){v.data.expanded=false}m.callback=function(e,c,d){if(!s){v.collapse()}v.expand();Ext.callback(p,n,[e,c,d])}}m.id=v.getId();m=Ext.apply({filters:q.getFilters().items,sorters:q.getSorters().items,node:m.node||v,internalScope:q,internalCallback:q.onProxyLoad},m);q.lastOptions=Ext.apply({},m);m.isReload=r;u=q.createOperation("read",m);if(q.fireEvent("beforeload",q,u)!==false){q.loading=true;if(r){if(q.getClearRemovedOnLoad()){q.removedNodes.length=0}q.unregisterNode(v,true);v.childNodes.length=0;t=true}else{if(s){if(q.getTrackRemoved()&&q.getClearRemovedOnLoad()){q.clearRemoved(v)}v.removeAll(false)}}if(q.loading&&v){v.set("loading",true)}if(t){q.clearData(true);if(q.getRootVisible()){q.suspendEvents();q.add(v);q.resumeEvents()}}u.execute()}return q},onProxyLoad:function(t){var p=this,m=t.initialConfig,s=t.wasSuccessful(),u=t.getRecords(),v=m.node,q=m.isReload,n=t.getScope()||p,r=[u,t,s];if(p.destroyed){return}p.loading=false;v.set("loading",false);if(s){++p.loadCount;if(!p.getClearOnLoad()){u=p.cleanRecords(v,u)}if(p.getParentIdProperty()){u=p.treeify(v,u)}if(q){p.suspendEvent("add","update")}u=p.fillNode(v,u)}if(q){p.resumeEvent("add","update");p.callObservers("BeforePopulate");p.fireEvent("datachanged",p);p.fireEvent("refresh",p);p.callObservers("AfterPopulate")}else{Ext.callback(m.onChildNodesAvailable,n,r)}p.fireEvent("load",p,u,s,t,v)},clearRemoved:function(A){var t=this,x=t.removedNodes,B=A.getId(),y=x.length,z=y,i={},v=[],r={},u,w,s;if(A===t.getRoot()){t.removedNodes.length=0;return}for(;z--;){u=x[z];r[u.getId()]=u}for(z=y;z--;){u=x[z];w=u;while(w&&w.getId()!==B){s=w.get("parentId")||w.get("lastParentId");w=w.parentNode||t.getNodeById(s)||r[s]}if(w){i[u.getId()]=u}}for(z=0;z<y;z++){u=x[z];if(!i[u.getId()]){v.push(u)}}t.removedNodes=v},fillNode:function(i,k){var j=this,h=k?k.length:0;++j.bulkUpdate;if(h){j.setupNodes(k)}if(j.bulkUpdate===1){i.set("loaded",true)}else{i.data.loaded=true}if(k.length){i.appendChild(k,undefined,true)}--j.bulkUpdate;return k},setupNodes:function(v){var s=this,t=s.getSorters(),r=false,w=v.length,x=s.sortOnLoad&&w>1&&!s.getRemoteSort()&&s.getFolderSort()||t.length,i,q,u,p;if(s.needsLocalFilter()){p=s.getFilters().getFilterFn();v[0].set("visible",p(v[0]))}for(u=1;u<w;u++){i=v[u];q=v[u-1];if(p){i.set("visible",p(i))}r=i.data.index!==q.data.index}if(x){s.needsIndexSort=true;Ext.Array.sort(v,s.getSortFn());s.needsIndexSort=false}else{if(r){Ext.Array.sort(v,s.sortByIndex)}}},beginFill:function(){var d=this;if(!d.fillCount++){d.beginUpdate();d.suspendEvent("add","update");d.suspendAutoSync();d.fillArray=[]}},endFill:function(m,q){var l=this,i=l.fillArray,n,r,p;i.push(q);if(!--l.fillCount){l.resumeAutoSync();l.resumeEvent("add","update");for(n=0,r=i.length;n<r;n++){p=l.indexOf(i[n][0]);if(p!==-1){l.fireEvent("add",l,i[n],p)}}l.fillArray=null;l.endUpdate()}},sortByIndex:function(e,g){return e.data.index-g.data.index},onIdChanged:function(l,i,n){var k=l.childNodes,p=k&&k.length,m;Ext.data.Store.prototype.onIdChanged.apply(this,arguments);delete this.byIdMap[i];this.byIdMap[n]=l;for(m=0;m<p;m++){k[m].set("parentId",n)}},treeify:function(x,A){var u=this,i=x.getId(),C=u.getParentIdProperty(),w=A.length,F=[],v={},z,B,y,t,E,D;for(z=0;z<w;z++){B=A[z];v[B.id]=B}for(z=0;z<w;z++){B=A[z];y=B.data[C];if(!(y||y===0)||y===i){F.push(B)}else{t=v[y];t.$children=t.$children||[];t.$children.push(B)}}for(E in v){B=v[E];D=B.$children;if(D){delete B.$children;u.setupNodes(D);B.appendChild(D)}u.registerNode(B)}u.setupNodes(F);return F},cleanRecords:function(n,s){var p={},i=n.childNodes,q=0,t=i.length,r=[],m;for(;q<t;++q){p[i[q].getId()]=true}for(q=0,t=s.length;q<t;++q){m=s[q];if(!p[m.getId()]){r.push(m)}}return r},removeAll:function(){this.suspendEvents();this.setRoot(null);this.resumeEvents();Ext.data.Store.prototype.removeAll.call(this)},doSort:function(g){var e=this;if(e.getRemoteSort()){e.load()}else{e.tree.sort(g,true);e.fireEvent("datachanged",e);e.fireEvent("refresh",e)}e.fireEvent("sort",e,e.sorters.getRange())},filterVisible:function(d){return d.get("visible")},isVisible:function(i){var k=i.parentNode,h=i.data.visible,j=this.getRoot();while(h&&k){h=k.data.expanded&&k.data.visible;k=k.parentNode}return h&&!(i===j&&!this.getRootVisible())},commitChanges:function(){var d=this.removedNodes;if(d){d.length=0}Ext.data.Store.prototype.commitChanges.call(this)},getRootNode:function(){return this.getRoot()},setRootNode:function(d){this.setRoot(d);return this.getRoot()},privates:{getRawRemovedRecords:function(){return this.removedNodes},recordCreator:function(g,e){return new e(g)},doFilter:function(h){var i=this.getRoot(),g=this.getFilters().getFilterFn();this.filterNodes(i,h,g)},filterNodes:function(q,m,l){var p=false,i=m.childNodes,r=i&&i.length,n;if(r){for(n=0;n<r;++n){this.filterNodes(q,i[n],l)}}p=m===q||l(m);m.set("visible",p,this._silentOptions);return p},needsLocalFilter:function(){return !this.getRemoteFilter()&&this.getFilters().length},onRemoteFilterSet:function(i,g){var h=this.getData();h.setFilters(null);if(i){i.on("endupdate",this.onFilterEndUpdate,this)}},onRemoteSortSet:function(h,g){var i=this.getData();i.setSorters(null);if(h){h.on("endupdate",this.onSorterEndUpdate,this)}}},deprecated:{5:{properties:{tree:null}}}},1,0,0,0,["store.tree"],0,[Ext.data,"TreeStore"],0));(Ext.cmd.derive("Ext.data.Types",Ext.Base,{singleton:true},0,0,0,0,0,0,[Ext.data,"Types"],function(e){var g=Ext.data.SortTypes;Ext.apply(e,{stripRe:/[\$,%]/g,AUTO:{sortType:g.none,type:"auto"},STRING:{convert:function(c){var d=this.getAllowNull()?null:"";return(c===undefined||c===null)?d:String(c)},sortType:g.asUCString,type:"string"},INT:{convert:function(c){if(typeof c==="number"){return parseInt(c,10)}return c!==undefined&&c!==null&&c!==""?parseInt(String(c).replace(e.stripRe,""),10):(this.getAllowNull()?null:0)},sortType:g.none,type:"int"},FLOAT:{convert:function(c){if(typeof c==="number"){return c}return c!==undefined&&c!==null&&c!==""?parseFloat(String(c).replace(e.stripRe,""),10):(this.getAllowNull()?null:0)},sortType:g.none,type:"float"},BOOL:{convert:function(c){if(typeof c==="boolean"){return c}if(this.getAllowNull()&&(c===undefined||c===null||c==="")){return null}return c==="true"||c==1},sortType:g.none,type:"bool"},DATE:{convert:function(d){var c=this.getDateReadFormat()||this.getDateFormat(),i;if(!d){return null}if(d instanceof Date){return d}if(c){return Ext.Date.parse(d,c)}i=Date.parse(d);return i?new Date(i):null},sortType:g.asDate,type:"date"}});e.BOOLEAN=e.BOOL;e.INTEGER=e.INT;e.NUMBER=e.FLOAT}));(Ext.cmd.derive("Ext.data.Validation",Ext.data.Model,{isValidation:true,syncGeneration:0,attach:function(d){this.record=d;delete this.data.id},getValidation:function(){return null},isValid:function(){var d=this;if(d.syncGeneration!==d.record.generation){d.refresh()}return !d.dirty},refresh:function(S){var B=this,j=B.data,Q=B.record,L=Q.fields,H=Q.generation,C=Q.data,M=Q.validationSeparator,R=null,P,N,K,T,E,G,I,D,F,O,J,i;if(S||B.syncGeneration!==H){B.syncGeneration=H;for(G=0,F=L.length;G<F;++G){T=L[G];i=T.name;J=C[i];P=T.defaultInvalidMessage;K=0;if(!(i in j)){j[i]=N=true}else{N=j[i]}if(T.validate!==Ext.emptyFn){O=T.validate(J,M,null,Q);if(O!==true){K=O||P}}if(!K){K=true}if(K!==N){(R||(R={}))[i]=K}}if(R){B.set(R)}}}},0,0,0,0,0,0,[Ext.data,"Validation"],0));(Ext.cmd.derive("Ext.dom.Helper",Ext.Base,function(){var t="afterbegin",n="afterend",m="beforebegin",q="beforeend",l=["BeforeBegin","previousSibling"],p=["AfterEnd","nextSibling"],r={beforebegin:l,afterend:p},s={beforebegin:l,afterend:p,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};return{singleton:true,alternateClassName:["Ext.DomHelper","Ext.core.DomHelper"],emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},detachedDiv:document.createElement("div"),decamelizeName:function(){var e=/([a-z])([A-Z])/g,c={};function d(i,g,h){return g+"-"+h.toLowerCase()}return function(g){return c[g]||(c[g]=g.replace(e,d))}}(),generateMarkup:function(k,h){var v=this,c=typeof k,d,i,j,e,g;if(c==="string"||c==="number"){h.push(k)}else{if(Ext.isArray(k)){for(e=0;e<k.length;e++){if(k[e]){v.generateMarkup(k[e],h)}}}else{j=k.tag||"div";h.push("<",j);for(d in k){if(k.hasOwnProperty(d)){i=k[d];if(i!==undefined&&!v.confRe.test(d)){if(typeof i==="object"){h.push(" ",d,'="');v.generateStyles(i,h,true).push('"')}else{h.push(" ",v.attributeTransform[d]||d,'="',i,'"')}}}}if(v.emptyTags.test(j)){h.push("/>")}else{h.push(">");if((i=k.tpl)){i.applyOut(k.tplData,h)}if((i=k.html)){h.push(i)}if((i=k.cn||k.children)){v.generateMarkup(i,h)}g=v.closeTags;h.push(g[j]||(g[j]="</"+j+">"))}}}return h},generateStyles:function(g,c,h){var d=c||[],i,e;for(i in g){if(g.hasOwnProperty(i)){e=g[i];i=this.decamelizeName(i);if(h&&Ext.String.hasHtmlCharacters(e)){e=Ext.String.htmlEncode(e)}d.push(i,":",e,";")}}return c||d.join("")},markup:function(d){if(typeof d==="string"){return d}var c=this.generateMarkup(d,[]);return c.join("")},applyStyles:function(d,c){Ext.fly(d).applyStyles(c)},createContextualFragment:function(c){var e=this.detachedDiv,d=document.createDocumentFragment(),h,g;e.innerHTML=c;g=e.childNodes;h=g.length;while(h--){d.appendChild(g[0])}return d},createDom:function(h,d){var i=this,c=i.markup(h),e=i.detachedDiv,g;e.innerHTML=c;g=e.firstChild;return Ext.supports.ChildContentClearedWhenSettingInnerHTML?g.cloneNode(true):g},insertHtml:function(e,i,d){var k=this,h,c,g,w,j;e=e.toLowerCase();if(i.insertAdjacentHTML){if(k.ieInsertHtml){j=k.ieInsertHtml(e,i,d);if(j){return j}}h=s[e];if(h){i.insertAdjacentHTML(h[0],d);return i[h[1]]}}else{if(i.nodeType===3){e=e===t?m:e;e=e===q?n:e}c=Ext.supports.CreateContextualFragment?i.ownerDocument.createRange():undefined;w="setStart"+(this.endRe.test(e)?"After":"Before");if(r[e]){if(c){c[w](i);j=c.createContextualFragment(d)}else{j=this.createContextualFragment(d)}i.parentNode.insertBefore(j,e===m?i:i.nextSibling);return i[(e===m?"previous":"next")+"Sibling"]}else{g=(e===t?"first":"last")+"Child";if(i.firstChild){if(c){try{c[w](i[g]);j=c.createContextualFragment(d)}catch(x){j=this.createContextualFragment(d)}}else{j=this.createContextualFragment(d)}if(e===t){i.insertBefore(j,i.firstChild)}else{i.appendChild(j)}}else{i.innerHTML=d}return i[g]}}},insertBefore:function(d,e,c){return this.doInsert(d,e,c,m)},insertAfter:function(d,e,c){return this.doInsert(d,e,c,n)},insertFirst:function(d,e,c){return this.doInsert(d,e,c,t)},append:function(d,e,c){return this.doInsert(d,e,c,q)},overwrite:function(h,c,e){var g=this,d;h=Ext.getDom(h);c=g.markup(c);if(g.ieOverwrite){d=g.ieOverwrite(h,c)}if(!d){h.innerHTML=c;d=h.firstChild}return e?Ext.get(d):d},doInsert:function(i,e,g,d){var h=this,c;i=i.dom||Ext.getDom(i);if("innerHTML" in i){c=h.insertHtml(d,i,h.markup(e))}else{c=h.createDom(e,null);if(i.nodeType===3){d=d===t?m:d;d=d===q?n:d}if(r[d]){i.parentNode.insertBefore(c,d===m?i:i.nextSibling)}else{if(i.firstChild&&d===t){i.insertBefore(c,i.firstChild)}else{i.appendChild(c)}}}return g?Ext.get(c):c},createTemplate:function(c){var d=this.markup(c);return new Ext.Template(d)},createHtml:function(c){return this.markup(c)}}},0,0,0,0,0,0,[Ext.dom,"Helper",Ext,"DomHelper",Ext.core,"DomHelper"],0));Ext.define("Ext.overrides.dom.Helper",(function(){var r=/^(?:table|thead|tbody|tr|td)$/i,m=/td|tr|tbody|thead/i,n="<table>",l="</table>",s=n+"<tbody>",p="</tbody>"+l,t=s+"<tr>",q="</tr>"+p;return{override:"Ext.dom.Helper",ieInsertHtml:function(d,g,c){var e=null;if(Ext.isIE9m&&r.test(g.tagName)){e=this.insertIntoTable(g.tagName.toLowerCase(),d,g,c)}return e},ieOverwrite:function(c,d){if(Ext.isIE9m&&r.test(c.tagName)){while(c.firstChild){c.removeChild(c.firstChild)}if(d){return this.insertHtml("afterbegin",c,d)}}},ieTable:function(g,c,e,h){var k=-1,i=this.detachedDiv,j,d;i.innerHTML=[c,e,h].join("");while(++k<g){i=i.firstChild}j=i.nextSibling;if(j){j=i;i=document.createDocumentFragment();while(j){d=j.nextSibling;i.appendChild(j);j=d}}return i},insertIntoTable:function(j,g,h,e){var i,x,c=g==="beforebegin",k=g==="afterbegin",d=g==="beforeend",w=g==="afterend";if(j==="td"&&(k||d)||!m.test(j)&&(c||w)){return null}x=c?h:w?h.nextSibling:k?h.firstChild:null;if(c||w){h=h.parentNode}if(j==="td"||(j==="tr"&&(d||k))){i=this.ieTable(4,t,e,q)}else{if(((j==="tbody"||j==="thead")&&(d||k))||(j==="tr"&&(c||w))){i=this.ieTable(3,s,e,p)}else{i=this.ieTable(2,n,e,l)}}h.insertBefore(i,x);return i}}})());(Ext.cmd.derive("Ext.dom.Query",Ext.Base,function(){var DQ,doc=document,cache,simpleCache,valueCache,useClassList=!!doc.documentElement.classList,useElementPointer=!!doc.documentElement.firstElementChild,useChildrenCollection=(function(){var d=doc.createElement("div");d.innerHTML="<!-- -->text<!-- -->";return d.children&&(d.children.length===0)})(),nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w\-\*\|\\]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,startIdRe=/^\s*#/,isIE=window.ActiveXObject?true:false,key=30803,longHex=/\\([0-9a-fA-F]{6})/g,shortHex=/\\([0-9a-fA-F]{1,6})\s{0,1}/g,nonHex=/\\([^0-9a-fA-F]{1})/g,escapes=/\\/g,num,hasEscapes,supportsColonNsSeparator=(function(){var xmlDoc,xmlString='<r><a:b xmlns:a="n"></a:b></r>';if(window.DOMParser){xmlDoc=(new DOMParser()).parseFromString(xmlString,"application/xml")}else{xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.loadXML(xmlString)}return !!xmlDoc.getElementsByTagName("a:b").length})(),longHexToChar=function($0,$1){return String.fromCharCode(parseInt($1,16))},shortToLongHex=function($0,$1){while($1.length<6){$1="0"+$1}return"\\"+$1},charToLongHex=function($0,$1){num=$1.charCodeAt(0).toString(16);if(num.length===1){num="0"+num}return"\\0000"+num},unescapeCssSelector=function(selector){return(hasEscapes)?selector.replace(longHex,longHexToChar):selector},setupEscapes=function(path){hasEscapes=(path.indexOf("\\")>-1);if(hasEscapes){path=path.replace(shortHex,shortToLongHex).replace(nonHex,charToLongHex).replace(escapes,"\\\\")}return path};eval("var batch = 30803, child, next, prev, byClassName;");child=useChildrenCollection?function child(parent,index){return parent.children[index]}:function child(parent,index){var i=0,n=parent.firstChild;while(n){if(n.nodeType==1){if(++i==index){return n}}n=n.nextSibling}return null};next=useElementPointer?function(n){return n.nextElementSibling}:function(n){while((n=n.nextSibling)&&n.nodeType!=1){}return n};prev=useElementPointer?function(n){return n.previousElementSibling}:function(n){while((n=n.previousSibling)&&n.nodeType!=1){}return n};function children(parent){var n=parent.firstChild,nodeIndex=-1,nextNode;while(n){nextNode=n.nextSibling;if(n.nodeType==3&&!nonSpace.test(n.nodeValue)){parent.removeChild(n)}else{n.nodeIndex=++nodeIndex}n=nextNode}return this}byClassName=useClassList?function(nodeSet,cls){cls=unescapeCssSelector(cls);if(!cls){return nodeSet}var result=[],ri=-1,i,ci,classList;for(i=0;ci=nodeSet[i];i++){classList=ci.classList;if(classList){if(classList.contains(cls)){result[++ri]=ci}}else{if((" "+ci.className+" ").indexOf(cls)!==-1){result[++ri]=ci}}}return result}:function(nodeSet,cls){cls=unescapeCssSelector(cls);if(!cls){return nodeSet}var result=[],ri=-1,i,ci;for(i=0;ci=nodeSet[i];i++){if((" "+ci.className+" ").indexOf(cls)!==-1){result[++ri]=ci}}return result};function attrValue(n,attr){if(!n.tagName&&typeof n.length!="undefined"){n=n[0]}if(!n){return null}if(attr=="for"){return n.htmlFor}if(attr=="class"||attr=="className"){return n.className}return n.getAttribute(attr)||n[attr]}function getNodes(ns,mode,tagName){var result=[],ri=-1,cs,i,ni,j,ci,cn,utag,n,cj;if(!ns){return result}tagName=tagName.replace("|",":")||"*";if(typeof ns.getElementsByTagName!="undefined"){ns=[ns]}if(!mode){tagName=unescapeCssSelector(tagName);if(!supportsColonNsSeparator&&DQ.isXml(ns[0])&&tagName.indexOf(":")!==-1){for(i=0;ni=ns[i];i++){cs=ni.getElementsByTagName(tagName.split(":").pop());for(j=0;ci=cs[j];j++){if(ci.tagName===tagName){result[++ri]=ci}}}}else{for(i=0;ni=ns[i];i++){cs=ni.getElementsByTagName(tagName);for(j=0;ci=cs[j];j++){result[++ri]=ci}}}}else{if(mode=="/"||mode==">"){utag=tagName.toUpperCase();for(i=0;ni=ns[i];i++){cn=ni.childNodes;for(j=0;cj=cn[j];j++){if(cj.nodeName==utag||cj.nodeName==tagName||tagName=="*"){result[++ri]=cj}}}}else{if(mode=="+"){utag=tagName.toUpperCase();for(i=0;n=ns[i];i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(n&&(n.nodeName==utag||n.nodeName==tagName||tagName=="*")){result[++ri]=n}}}else{if(mode=="~"){utag=tagName.toUpperCase();for(i=0;n=ns[i];i++){while((n=n.nextSibling)){if(n.nodeName==utag||n.nodeName==tagName||tagName=="*"){result[++ri]=n}}}}}}}return result}function concat(a,b){a.push.apply(a,b);return a}function byTag(cs,tagName){if(cs.tagName||cs===doc){cs=[cs]}if(!tagName){return cs}var result=[],ri=-1,i,ci;tagName=tagName.toLowerCase();for(i=0;ci=cs[i];i++){if(ci.nodeType==1&&ci.tagName.toLowerCase()==tagName){result[++ri]=ci}}return result}function byId(cs,id){id=unescapeCssSelector(id);if(cs.tagName||cs===doc){cs=[cs]}if(!id){return cs}var result=[],ri=-1,i,ci;for(i=0;ci=cs[i];i++){if(ci&&ci.id==id){result[++ri]=ci;return result}}return result}function byAttribute(cs,attr,value,op,custom){var result=[],ri=-1,useGetStyle=custom=="{",fn=DQ.operators[op],a,xml,hasXml,i,ci;value=unescapeCssSelector(value);for(i=0;ci=cs[i];i++){if(ci.nodeType===1){if(!hasXml){xml=DQ.isXml(ci);hasXml=true}if(!xml){if(useGetStyle){a=DQ.getStyle(ci,attr)}else{if(attr=="class"||attr=="className"){a=ci.className}else{if(attr=="for"){a=ci.htmlFor}else{if(attr=="href"){a=ci.getAttribute("href",2)}else{a=ci.getAttribute(attr)}}}}}else{a=ci.getAttribute(attr)}if((fn&&fn(a,value))||(!fn&&a)){result[++ri]=ci}}}return result}function byPseudo(cs,name,value){value=unescapeCssSelector(value);return DQ.pseudos[name](cs,value)}function nodupIEXml(cs){var d=++key,r,i,len,c;cs[0].setAttribute("_nodup",d);r=[cs[0]];for(i=1,len=cs.length;i<len;i++){c=cs[i];if(!c.getAttribute("_nodup")!=d){c.setAttribute("_nodup",d);r[r.length]=c}}for(i=0,len=cs.length;i<len;i++){cs[i].removeAttribute("_nodup")}return r}function nodup(cs){if(!cs){return[]}var len=cs.length,c,i,r=cs,cj,ri=-1,d,j;if(!len||typeof cs.nodeType!="undefined"||len==1){return cs}if(isIE&&typeof cs[0].selectSingleNode!="undefined"){return nodupIEXml(cs)}d=++key;cs[0]._nodup=d;for(i=1;c=cs[i];i++){if(c._nodup!=d){c._nodup=d}else{r=[];for(j=0;j<i;j++){r[++ri]=cs[j]}for(j=i+1;cj=cs[j];j++){if(cj._nodup!=d){cj._nodup=d;r[++ri]=cj}}return r}}return r}function quickDiffIEXml(c1,c2){var d=++key,r=[],i,len;for(i=0,len=c1.length;i<len;i++){c1[i].setAttribute("_qdiff",d)}for(i=0,len=c2.length;i<len;i++){if(c2[i].getAttribute("_qdiff")!=d){r[r.length]=c2[i]}}for(i=0,len=c1.length;i<len;i++){c1[i].removeAttribute("_qdiff")}return r}function quickDiff(c1,c2){var len1=c1.length,d=++key,r=[],i,len;if(!len1){return c2}if(isIE&&typeof c1[0].selectSingleNode!="undefined"){return quickDiffIEXml(c1,c2)}for(i=0;i<len1;i++){c1[i]._qdiff=d}for(i=0,len=c2.length;i<len;i++){if(c2[i]._qdiff!=d){r[r.length]=c2[i]}}return r}function quickId(ns,mode,root,id){if(ns==root){id=unescapeCssSelector(id);var d=root.ownerDocument||root;return d.getElementById(id)}ns=getNodes(ns,mode,"*");return byId(ns,id)}return{singleton:true,alternateClassName:["Ext.core.DomQuery","Ext.DomQuery"],_init:function(){DQ=this;DQ.operators=Ext.Object.chain(Ext.util.Operators);DQ._cache=cache=new Ext.util.LruCache({maxSize:200});DQ._valueCache=valueCache=new Ext.util.LruCache({maxSize:200});DQ._simpleCache=simpleCache=new Ext.util.LruCache({maxSize:200})},clearCache:function(){cache.clear();valueCache.clear();simpleCache.clear()},getStyle:function(el,name){return Ext.fly(el,"_DomQuery").getStyle(name)},compile:function(path,type){type=type||"select";var fn=["var f = function(root) {\n var mode; ++batch; var n = root || document;\n"],lastPath,matchers=DQ.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe),tokenMatch,matched,j,t,m;path=setupEscapes(path);if(lmode&&lmode[1]){fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";';path=path.replace(lmode[1],"")}while(path.substr(0,1)=="/"){path=path.substr(1)}while(path&&lastPath!=path){lastPath=path;tokenMatch=path.match(tagTokenRe);if(type=="select"){if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");'}else{fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],"")}else{if(path.substr(0,1)!="@"){fn[fn.length]='n = getNodes(n, mode, "*");'}}}else{if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");'}else{fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],"")}}while(!(modeMatch=path.match(modeRe))){matched=false;for(j=0;j<matchersLn;j++){t=matchers[j];m=path.match(t.re);if(m){fn[fn.length]=t.select.replace(tplRe,function(x,i){return m[i]});path=path.replace(m[0],"");matched=true;break}}if(!matched){Ext.raise({sourceClass:"Ext.DomQuery",sourceMethod:"compile",msg:'Error parsing selector. Parsing failed at "'+path+'"'})}}if(modeMatch[1]){fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";';path=path.replace(modeMatch[1],"")}}fn[fn.length]="return nodup(n);\n}";eval(fn.join(""));return f},jsSelect:function(path,root,type){root=root||doc;if(typeof root=="string"){root=doc.getElementById(root)}var paths=Ext.splitAndUnescape(path,","),results=[],query,i,len,subPath,result;for(i=0,len=paths.length;i<len;i++){subPath=paths[i].replace(trimRe,"");query=cache.get(subPath);if(!query){query=DQ.compile(subPath,type);if(!query){Ext.raise({sourceClass:"Ext.DomQuery",sourceMethod:"jsSelect",msg:subPath+" is not a valid selector"})}cache.add(subPath,query)}else{setupEscapes(subPath)}result=query(root);if(result&&result!==doc){results=results.concat(result)}}if(paths.length>1){return nodup(results)}return results},isXml:function(el){var docEl=(el?el.ownerDocument||el:0).documentElement;return docEl?docEl.nodeName!=="HTML":false},select:doc.querySelectorAll?function(path,root,type,single){root=root||doc;if(!DQ.isXml(root)){try{if(root.parentNode&&(root.nodeType!==9)&&path.indexOf(",")===-1&&!startIdRe.test(path)){path=Ext.makeIdSelector(Ext.id(root))+" "+path;root=root.parentNode}return single?[root.querySelector(path)]:Ext.Array.toArray(root.querySelectorAll(path))}catch(e){}}return DQ.jsSelect.call(this,path,root,type)}:function(path,root,type){return DQ.jsSelect.call(this,path,root,type)},selectNode:function(path,root){return Ext.DomQuery.select(path,root,null,true)[0]},selectValue:function(path,root,defaultValue){path=path.replace(trimRe,"");var query=valueCache.get(path),n,v;if(!query){query=DQ.compile(path,"select");valueCache.add(path,query)}else{setupEscapes(path)}n=query(root);return DQ.getNodeValue(n[0]||n,defaultValue)},getNodeValue:function(node,defaultValue){if(typeof node.normalize=="function"){node.normalize()}var firstChild=node&&node.firstChild,v=firstChild?firstChild.nodeValue:null;if(defaultValue!==undefined&&(v==null||v==="")){v=defaultValue}return v},selectNumber:function(path,root,defaultValue){var v=DQ.selectValue(path,root,defaultValue||0);return parseFloat(v)},is:function(el,ss){if(typeof el=="string"){el=doc.getElementById(el)}var isArray=Ext.isArray(el),result=DQ.filter(isArray?el:[el],ss);return isArray?(result.length==el.length):(result.length>0)},filter:function(els,ss,nonMatches){ss=ss.replace(trimRe,"");var query=simpleCache.get(ss),result;if(!query){query=DQ.compile(ss,"simple");simpleCache.add(ss,query)}else{setupEscapes(ss)}result=query(els);return nonMatches?quickDiff(result,els):result},matchers:[{re:/^\.([\w\-\\]+)/,select:useClassList?'n = byClassName(n, "{1}");':'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w\-\\]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-\.]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],pseudos:{"first-child":function(c){var r=[],ri=-1,n,i,ci;for(i=0;(ci=n=c[i]);i++){while((n=n.previousSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci}}return r},"last-child":function(c){var r=[],ri=-1,n,i,ci;for(i=0;(ci=n=c[i]);i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci}}return r},"nth-child":function(c,a){var r=[],ri=-1,m=nthRe.exec(a=="even"&&"2n"||a=="odd"&&"2n+1"||!nthRe2.test(a)&&"n+"+a||a),f=(m[1]||1)-0,l=m[2]-0,i,n,j,cn,pn;for(i=0;n=c[i];i++){pn=n.parentNode;if(batch!=pn._batch){j=0;for(cn=pn.firstChild;cn;cn=cn.nextSibling){if(cn.nodeType==1){cn.nodeIndex=++j}}pn._batch=batch}if(f==1){if(l===0||n.nodeIndex==l){r[++ri]=n}}else{if((n.nodeIndex+l)%f===0){r[++ri]=n}}}return r},"only-child":function(c){var r=[],ri=-1,i,ci;for(i=0;ci=c[i];i++){if(!prev(ci)&&!next(ci)){r[++ri]=ci}}return r},empty:function(c){var r=[],ri=-1,i,ci,cns,j,cn,empty;for(i=0;ci=c[i];i++){cns=ci.childNodes;j=0;empty=true;while(cn=cns[j]){++j;if(cn.nodeType==1||cn.nodeType==3){empty=false;break}}if(empty){r[++ri]=ci}}return r},contains:function(c,v){var r=[],ri=-1,i,ci;for(i=0;ci=c[i];i++){if((ci.textContent||ci.innerText||ci.text||"").indexOf(v)!=-1){r[++ri]=ci}}return r},nodeValue:function(c,v){var r=[],ri=-1,i,ci;for(i=0;ci=c[i];i++){if(ci.firstChild&&ci.firstChild.nodeValue==v){r[++ri]=ci}}return r},checked:function(c){var r=[],ri=-1,i,ci;for(i=0;ci=c[i];i++){if(ci.checked===true){r[++ri]=ci}}return r},not:function(c,ss){return DQ.filter(c,ss,true)},any:function(c,selectors){var ss=selectors.split("|"),r=[],ri=-1,s,i,ci,j;for(i=0;ci=c[i];i++){for(j=0;s=ss[j];j++){if(DQ.is(ci,s)){r[++ri]=ci;break}}}return r},odd:function(c){return this["nth-child"](c,"odd")},even:function(c){return this["nth-child"](c,"even")},nth:function(c,a){return c[a-1]||[]},first:function(c){return c[0]||[]},last:function(c){return c[c.length-1]||[]},has:function(c,ss){var s=DQ.select,r=[],ri=-1,i,ci;for(i=0;ci=c[i];i++){if(s(ss,ci).length>0){r[++ri]=ci}}return r},next:function(c,ss){var is=DQ.is,r=[],ri=-1,i,ci,n;for(i=0;ci=c[i];i++){n=next(ci);if(n&&is(n,ss)){r[++ri]=ci}}return r},prev:function(c,ss){var is=DQ.is,r=[],ri=-1,i,ci,n;for(i=0;ci=c[i];i++){n=prev(ci);if(n&&is(n,ss)){r[++ri]=ci}}return r},focusable:function(candidates){var len=candidates.length,results=[],i=0,c;for(;i<len;i++){c=candidates[i];if(Ext.fly(c,"_DomQuery").isFocusable()){results.push(c)}}return results},visible:function(candidates,deep){var len=candidates.length,results=[],i=0,c;for(;i<len;i++){c=candidates[i];if(Ext.fly(c,"_DomQuery").isVisible(deep)){results.push(c)}}return results},isScrolled:function(c){var r=[],ri=-1,i,ci,s;for(i=0;ci=c[i];i++){s=Ext.fly(ci,"_DomQuery").getScroll();if(s.top>0||s.left>0){r[++ri]=ci}}return r}}}},0,0,0,0,0,0,[Ext.dom,"Query",Ext.core,"DomQuery",Ext,"DomQuery"],function(){this._init()}));(Ext.cmd.derive("Ext.data.reader.Xml",Ext.data.reader.Reader,{alternateClassName:"Ext.data.XmlReader",config:{record:"",namespace:""},createAccessor:function(d){if(Ext.isEmpty(d)){return Ext.emptyFn}if(Ext.isFunction(d)){return d}return function(c){return this.getNodeValue(Ext.DomQuery.selectNode(d,c))}},getNodeValue:function(d){if(d){if(typeof d.normalize==="function"){d.normalize()}d=d.firstChild;if(d){return d.nodeValue}}return undefined},getResponseData:function(i){var g=i.responseXML,h="XML data not found in the response";if(!g){Ext.Logger.warn(h);return this.createReadError(h)}return g},getData:function(d){return d.documentElement||d},getRoot:function(h){var g=h.nodeName,i=this.getRootProperty();if(!i||(g&&g==i)){return h}else{if(Ext.DomQuery.isXml(h)){return Ext.DomQuery.selectNode(i,h)}}},extractData:function(i,h){var g=this.getRecord();if(g!==i.nodeName){i=Ext.DomQuery.select(g,i)}else{i=[i]}return Ext.data.reader.Reader.prototype.extractData.call(this,i,h)},readRecords:function(g,h,i){if(Ext.isArray(g)){g=g[0]}return Ext.data.reader.Reader.prototype.readRecords.call(this,g,h,i)},createFieldAccessor:function(i){var j=this,k=j.getNamespace(),l,m;l=i.mapping||((k?k+"|":"")+i.name);if(typeof l==="function"){m=function(c){return i.mapping(c,j)}}else{m=function(c){return j.getNodeValue(Ext.DomQuery.selectNode(l,c))}}return m},deprecated:{"5.1.1":{properties:{xmlData:null}}}},0,0,0,0,["reader.xml"],0,[Ext.data.reader,"Xml",Ext.data,"XmlReader"],0));(Ext.cmd.derive("Ext.data.writer.Xml",Ext.data.writer.Writer,{alternateClassName:"Ext.data.XmlWriter",config:{documentRoot:"xmlData",defaultDocumentRoot:"xmlData",header:"",record:"record"},selectorRe:/[^>\s]+/g,writeRecords:function(A,z){var u=this,w=[],y=0,v=z.length,s=u.getDocumentRoot(),t=u.getRecord(),x=t.match(this.selectorRe),r=x.length,i=z.length!==1&&r===1,B;B=this.getTransform();if(B){z=B(z,A)}w.push(u.getHeader()||"");if(!s&&i){s=u.getDefaultDocumentRoot()}if(s){w.push("<",s,">")}for(y=0;y<r-1;y++){w.push("<",x[y],">")}t=x[y];for(y=0;y<v;++y){this.objectToElement(t,z[y],w)}for(y=r-2;y>-1;y--){w.push("</",x[y],">")}if(s){w.push("</",s,">")}A.setXmlData(w.join(""));return A},objectToElement:function(C,z,y){var i,t,x=[],A,B,v,w,u,D,s;if(!y){y=[]}y.push("<",C);for(i in z){t=z[i];if(i[0]==="@"){y.push(" ",i.substr(1),'="',t,'"')}else{if(typeof t==="object"){this.objectToElement(i,t,x)}else{A=i.match(this.selectorRe);if((B=A.length)>1){u=u||{};for(w=u,v=0;v<B;v++){D=w;s=A[v];w=w[s]||(w[s]={})}D[s]=t}else{x.push("<",i,">",t,"</",i,">")}}}}y.push(">");y.push.apply(y,x);if(u){for(i in u){t=u[i];this.objectToElement(i,t,y)}}y.push("</",C,">");return y}},0,0,0,0,["writer.xml"],0,[Ext.data.writer,"Xml",Ext.data,"XmlWriter"],0));(Ext.cmd.derive("Ext.data.XmlStore",Ext.data.Store,{constructor:function(d){d=Ext.apply({proxy:{type:"ajax",reader:"xml",writer:"xml"}},d);Ext.data.Store.prototype.constructor.call(this,d)}},1,0,0,0,["store.xml"],0,[Ext.data,"XmlStore"],0));(Ext.cmd.derive("Ext.data.identifier.Negative",Ext.data.identifier.Sequential,{config:{increment:-1,seed:-1}},0,0,0,0,["data.identifier.negative"],0,[Ext.data.identifier,"Negative"],0));(Ext.cmd.derive("Ext.data.identifier.Uuid",Ext.data.identifier.Generator,{isUnique:true,config:{id:null},constructor:function(d){Ext.data.identifier.Generator.prototype.constructor.call(this,d);this.reconfigure(d)},reconfigure:function(e){var g=this.self;this.generate=(e&&e.version===1)?g.createSequential(e.salt,e.timestamp,e.clockSeq):g.createRandom()},clone:null,statics:{createRandom:function(){var i="xxxxxxxx-xxxx-4xxx-Rxxx-xMxxxxxxxxxx".split(""),j="0123456789abcdef".split(""),k=i.length,h=[];return function(){for(var d,c,e=0;e<k;++e){c=i[e];if(c!=="-"&&c!=="4"){d=Math.random()*16;d=(c==="R")?(d&3|8):(d|((c==="M")?1:0));c=j[d]}h[e]=c}return h.join("")}},createSequential:function(r,w,t){var s=[],n=Math.pow(2,32),q=r.lo,v=r.hi,p=w.lo,u=w.hi,x=function(c,d){var e=c.toString(16).toLowerCase();if(e.length>d){e=e.substring(e.length-d)}else{if(e.length<d){e=Ext.String.leftPad(e,d,"0")}}return e};if(typeof r==="number"){v=Math.floor(r/n);q=Math.floor(r-v*n)}if(typeof w==="number"){u=Math.floor(w/n);p=Math.floor(w-u*n)}v|=256;s[3]=x(128|((t>>>8)&63),2)+x(t&255,2);s[4]=x(v,4)+x(q,8);return function(){s[0]=x(p,8);s[1]=x(u&65535,4);s[2]=x(((u>>>16)&4095)|(1<<12),4);++p;if(p>=n){p=0;++u}return s.join("-")}}}},1,0,0,0,["data.identifier.uuid"],0,[Ext.data.identifier,"Uuid"],function(){this.Global=new this({id:"uuid"})}));(Ext.cmd.derive("Ext.data.proxy.WebStorage",Ext.data.proxy.Client,{alternateClassName:"Ext.data.WebStorageProxy",config:{id:undefined},constructor:function(d){Ext.data.proxy.Client.prototype.constructor.apply(this,arguments);this.cache={};this.initialize()},create:function(r){var i=this,s=r.getRecords(),t=s.length,v=i.getIds(),u,p,q,n;if(i.isHierarchical===undefined){i.isHierarchical=!!s[0].isNode;if(i.isHierarchical){i.getStorageObject().setItem(i.getTreeKey(),true)}}for(q=0;q<t;q++){p=s[q];if(p.phantom){p.phantom=false;n=p.identifier;if(n&&n.isUnique){u=p.getId()}else{u=i.getNextId()}}else{u=p.getId()}i.setRecord(p,u);p.commit();v.push(u)}i.setIds(v);r.setSuccessful(true)},read:function(K){var j=this,A,D=[],O=true,L=j.getModel(),N=0,B=K.getRecordCreator(),M,R,C,H,I,Q,G,P,i,J,E,F;if(j.isHierarchical){D=j.getTreeData()}else{G=j.getIds();P=G.length;J=K.getId();if(J){i=j.getRecord(J);if(i!==null){Q=B?B(i,L):new L(i)}if(Q){D.push(Q)}else{O=false}}else{R=K.getSorters();M=K.getFilters();C=K.getLimit();A=[];for(E=0;E<P;E++){i=j.getRecord(G[E]);Q=B?B(i,L):new L(i);A.push(Q)}if(R){Ext.Array.sort(A,Ext.util.Sorter.createComparator(R))}for(E=K.getStart()||0;E<P;E++){Q=A[E];I=true;if(M){for(F=0,H=M.length;F<H;F++){I=M[F].filter(Q)}}if(I){D.push(Q);N++}if(C&&N===C){break}}}}if(O){K.setResultSet(new Ext.data.ResultSet({records:D,total:D.length,loaded:true}));K.setSuccessful(true)}else{K.setException("Unable to load records")}},update:function(p){var q=p.getRecords(),l=q.length,m=this.getIds(),r,i,n;for(n=0;n<l;n++){r=q[n];this.setRecord(r);r.commit();i=r.getId();if(i!==undefined&&Ext.Array.indexOf(m,i)===-1){m.push(i)}}this.setIds(m);p.setSuccessful(true)},erase:function(s){var q=this,t=s.getRecords(),v=q.getIds(),p=v.length,i=[],n={},r=t.length,u;for(;r--;){Ext.apply(n,q.removeRecord(t[r]))}for(r=0;r<p;r++){u=v[r];if(!n[u]){i.push(u)}}q.setIds(i);s.setSuccessful(true)},getRecord:function(h){var j=this,k=j.cache,i=!k[h]?Ext.decode(j.getStorageObject().getItem(j.getRecordKey(h))):k[h];if(!i){return null}k[h]=i;i[j.getModel().prototype.idProperty]=h;return Ext.merge({},i)},setRecord:function(v,B){if(B){v.set("id",B,{commit:true})}else{B=v.getId()}var t=this,D=v.getData(),x={},w=t.getModel(),u=w.getFields(),A=u.length,y=0,s,C,z,i;for(;y<A;y++){s=u[y];C=s.name;if(s.persist){x[C]=D[C]}}delete x[w.prototype.idProperty];if(v.isNode&&v.get("depth")===1){delete x.parentId}z=t.getStorageObject();i=t.getRecordKey(B);t.cache[B]=x;z.removeItem(i);z.setItem(i,Ext.encode(x))},removeRecord:function(p){var l=this,i=p.getId(),n={},m,k;n[i]=p;l.getStorageObject().removeItem(l.getRecordKey(i));delete l.cache[i];if(p.childNodes){k=p.childNodes;for(m=k.length;m--;){Ext.apply(n,l.removeRecord(k[m]))}}return n},getRecordKey:function(d){if(d.isModel){d=d.getId()}return Ext.String.format("{0}-{1}",this.getId(),d)},getRecordCounterKey:function(){return Ext.String.format("{0}-counter",this.getId())},getTreeKey:function(){return Ext.String.format("{0}-tree",this.getId())},getIds:function(){var i=this,k=(i.getStorageObject().getItem(i.getId())||"").split(","),j=k.length,m=this.getIdField().isStringField,l;if(j===1&&k[0]===""){k=[]}else{for(l=0;l<j;l++){k[l]=m?k[l]:+k[l]}}return k},getIdField:function(){return this.getModel().prototype.idField},setIds:function(k){var j=this.getStorageObject(),i=k.join(","),h=this.getId();j.removeItem(h);if(!Ext.isEmpty(i)){j.setItem(h,i)}},getNextId:function(){var k=this,j=k.getStorageObject(),l=k.getRecordCounterKey(),m=k.getIdField().isStringField,i;i=k.idGenerator.generate();j.setItem(l,i);if(m){i=i+""}return i},getTreeData:function(){var u=this,F=u.getIds(),B=F.length,y=[],E={},i=[],x=0,z=u.getModel(),G=z.prototype.idProperty,A,v,H,w,C,D;for(;x<B;x++){D=F[x];v=u.getRecord(D);y.push(v);E[D]=v;if(!v.parentId){i.push(v)}}A=i.length;Ext.Array.sort(y,u.sortByParentId);for(x=A;x<B;x++){v=y[x];w=v.parentId;if(!H||H[G]!==w){H=E[w];H.children=C=[]}C.push(v)}for(x=B;x--;){v=y[x];if(!v.children&&!v.leaf){v.loaded=true}}for(x=A;x--;){v=i[x];i[x]=new z(v)}return i},sortByParentId:function(e,g){return(e.parentId||0)-(g.parentId||0)},initialize:function(){var j=this,k=j.getStorageObject(),i=+k.getItem(j.getRecordCounterKey()),h=j.getId();k.setItem(h,k.getItem(h)||"");if(k.getItem(j.getTreeKey())){j.isHierarchical=true}j.idGenerator=new Ext.data.identifier.Sequential({seed:i?i+1:1})},clear:function(){var j=this,i=j.getStorageObject(),k=j.getIds(),m=k.length,l;for(l=0;l<m;l++){i.removeItem(j.getRecordKey(k[l]))}i.removeItem(j.getRecordCounterKey());i.removeItem(j.getTreeKey());i.removeItem(j.getId());j.cache={}},getStorageObject:function(){}},1,0,0,0,0,0,[Ext.data.proxy,"WebStorage",Ext.data,"WebStorageProxy"],0));(Ext.cmd.derive("Ext.data.proxy.LocalStorage",Ext.data.proxy.WebStorage,{alternateClassName:"Ext.data.LocalStorageProxy",getStorageObject:function(){return window.localStorage}},0,0,0,0,["proxy.localstorage"],0,[Ext.data.proxy,"LocalStorage",Ext.data,"LocalStorageProxy"],0));(Ext.cmd.derive("Ext.data.proxy.Rest",Ext.data.proxy.Ajax,{alternateClassName:"Ext.data.RestProxy",defaultActionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},slashRe:/\/$/,periodRe:/\.$/,config:{appendId:true,format:null,batchActions:false,actionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"}},buildUrl:function(q){var n=this,r=q.getOperation(),t=r.getRecords(),p=t?t[0]:null,m=n.getFormat(),v=n.getUrl(q),u,s;if(p&&!p.phantom){u=p.getId()}else{u=r.getId()}if(n.getAppendId()&&n.isValidId(u)){if(!v.match(n.slashRe)){v+="/"}v+=encodeURIComponent(u);s=q.getParams();if(s){delete s[n.getIdParam()]}}if(m){if(!v.match(n.periodRe)){v+="."}v+=m}q.setUrl(v);return Ext.data.proxy.Ajax.prototype.buildUrl.call(this,q)},isValidId:function(d){return d||d===0}},0,0,0,0,["proxy.rest"],0,[Ext.data.proxy,"Rest",Ext.data,"RestProxy"],0));(Ext.cmd.derive("Ext.data.proxy.SessionStorage",Ext.data.proxy.WebStorage,{alternateClassName:"Ext.data.SessionStorageProxy",getStorageObject:function(){return window.sessionStorage}},0,0,0,0,["proxy.sessionstorage"],0,[Ext.data.proxy,"SessionStorage",Ext.data,"SessionStorageProxy"],0));(Ext.cmd.derive("Ext.data.validator.Bound",Ext.data.validator.Validator,{type:"bound",config:{min:undefined,max:undefined,emptyMessage:"Must be present",minOnlyMessage:null,maxOnlyMessage:null,bothOnlyMessage:null},constructor:function(){var d=this;d.preventConfigure=true;Ext.data.validator.Validator.prototype.constructor.apply(this,arguments);delete d.preventConfigure;d.configure()},setConfig:function(){var d=this;d.preventConfigure=true;d.callParent(arguments);delete d.preventConfigure;d.configure()},configure:function(){var j=this,l,i,k,m;if(j.preventConfigure){return}k=j.getMin();m=j.getMax();l=j.hasMin=k!==undefined;i=j.hasMax=m!==undefined;if(l&&i){j._bothMsg=Ext.String.format(j.getBothMessage(),k,m)}else{if(l){j._minMsg=Ext.String.format(j.getMinOnlyMessage(),k)}else{if(i){j._maxMsg=Ext.String.format(j.getMaxOnlyMessage(),m)}}}},updateMin:function(){this.configure()},updateMax:function(){this.configure()},updateMinOnlyMessage:function(d){this.configure()},updateMaxOnlyMessage:function(){this.configure()},updateBothMessage:function(){this.configure()},validate:function(n){var p=this,r=p.hasMin,l=p.hasMax,q=p.getMin(),s=p.getMax(),m=this.validateValue(n),t;if(m!==true){return m}n=p.getValue(n);if(r&&l){if(n<q||n>s){m=p._bothMsg}}else{if(r){if(n<q){m=p._minMsg}}else{if(l){if(n>s){m=p._maxMsg}}}}return m},validateValue:function(d){if(d===undefined||d===null){return this.getEmptyMessage()}return true},getValue:Ext.identityFn},1,0,0,0,["data.validator.bound"],0,[Ext.data.validator,"Bound"],0));(Ext.cmd.derive("Ext.data.validator.Format",Ext.data.validator.Validator,{type:"format",config:{message:"Is in the wrong format",matcher:undefined},validate:function(h){var g=this.getMatcher(),i=g&&g.test(h);return i?i:this.getMessage()}},0,0,0,0,["data.validator.format"],0,[Ext.data.validator,"Format"],0));(Ext.cmd.derive("Ext.data.validator.Email",Ext.data.validator.Format,{type:"email",config:{message:"Is not a valid email address",matcher:/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+\/=?\^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/}},0,0,0,0,["data.validator.email"],0,[Ext.data.validator,"Email"],0));(Ext.cmd.derive("Ext.data.validator.List",Ext.data.validator.Validator,{type:"list",config:{list:null},inclusion:null,validate:function(k){var l=Ext.Array.contains(this.getList(),k),i=this.inclusion,j=!i,m;m=(i&&l)||(j&&!l);return m||this.getMessage()}},0,0,0,0,["data.validator.list"],0,[Ext.data.validator,"List"],0));(Ext.cmd.derive("Ext.data.validator.Exclusion",Ext.data.validator.List,{type:"exclusion",config:{message:"Is a value that has been excluded"},inclusion:false},0,0,0,0,["data.validator.exclusion"],0,[Ext.data.validator,"Exclusion"],0));(Ext.cmd.derive("Ext.data.validator.Inclusion",Ext.data.validator.List,{type:"inclusion",config:{message:"Is not in the list of acceptable values"},inclusion:true},0,0,0,0,["data.validator.inclusion"],0,[Ext.data.validator,"Inclusion"],0));(Ext.cmd.derive("Ext.data.validator.Length",Ext.data.validator.Bound,{type:"length",config:{minOnlyMessage:"Length must be at least {0}",maxOnlyMessage:"Length must be no more than {0}",bothMessage:"Length must be between {0} and {1}"},getValue:function(d){return String(d).length}},0,0,0,0,["data.validator.length"],0,[Ext.data.validator,"Length"],0));(Ext.cmd.derive("Ext.data.validator.Presence",Ext.data.validator.Validator,{type:"presence",config:{message:"Must be present",allowEmpty:false},validate:function(e){var g=!(e===undefined||e===null);if(g&&!this.getAllowEmpty()){g=!(e==="")}return g?true:this.getMessage()}},0,0,0,0,["data.validator.presence"],0,[Ext.data.validator,"Presence"],0));(Ext.cmd.derive("Ext.data.validator.Range",Ext.data.validator.Bound,{type:"range",config:{minOnlyMessage:"Must be must be at least {0}",maxOnlyMessage:"Must be no more than than {0}",bothMessage:"Must be between {0} and {1}",nanMessage:"Must be numeric"},validateValue:function(g){var e=Ext.data.validator.Bound.prototype.validateValue.call(this,g);if(e===true&&isNaN(g)){e=this.getNanMessage()}return e}},0,0,0,0,["data.validator.range"],0,[Ext.data.validator,"Range"],0));(Ext.cmd.derive("Ext.dom.GarbageCollector",Ext.Base,{singleton:true,interval:30000,constructor:function(){var d=this;d.collect=Ext.Function.bind(d.collect,d);d.lastTime=Ext.now();d.resume()},collect:function(){var n=this,v=Ext.cache,u,r,t,e,q,s;for(u in v){if(!v.hasOwnProperty(u)){continue}t=v[u];if(t.skipGarbageCollection){continue}r=t.dom;try{q=Ext.isGarbage(r)}catch(p){delete v[u];continue}if(q){if(t&&t.dom){t.collect()}}}if(Ext.isIE9m){e={};for(u in v){if(v.hasOwnProperty(u)){e[u]=v[u]}}Ext.cache=Ext.dom.Element.cache=e}n.lastTime=Ext.now()},pause:function(){clearTimeout(this.timerId)},resume:function(){var g=this,e=g.lastTime;if(Ext.enableGarbageCollector&&(Ext.now()-e>g.interval)){g.collect()}g.timerId=Ext.interval(g.collect,g.interval)}},1,0,0,0,0,0,[Ext.dom,"GarbageCollector"],0));(Ext.cmd.derive("Ext.event.gesture.Recognizer",Ext.Base,{priority:0,handledEvents:[],config:{onRecognized:Ext.emptyFn,callbackScope:null},constructor:function(d){this.initConfig(d);Ext.event.publisher.Gesture.instance.registerRecognizer(this)},onStart:Ext.emptyFn,onEnd:Ext.emptyFn,onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:Ext.emptyFn,onTouchCancel:Ext.emptyFn,fail:function(){return false},fire:function(){this.getOnRecognized().apply(this.getCallbackScope(),arguments)},reset:Ext.emptyFn},1,0,0,0,0,[[Ext.mixin.Identifiable.prototype.mixinId||Ext.mixin.Identifiable.$className,Ext.mixin.Identifiable]],[Ext.event.gesture,"Recognizer"],0));(Ext.cmd.derive("Ext.event.gesture.SingleTouch",Ext.event.gesture.Recognizer,{inheritableStatics:{NOT_SINGLE_TOUCH:"Not Single Touch",TOUCH_MOVED:"Touch Moved",EVENT_CANCELED:"Event Canceled"},onTouchStart:function(d){if(d.touches.length>1){return this.fail(this.self.NOT_SINGLE_TOUCH)}},onTouchCancel:function(){return false}},0,0,0,0,0,0,[Ext.event.gesture,"SingleTouch"],0));(Ext.cmd.derive("Ext.event.gesture.DoubleTap",Ext.event.gesture.SingleTouch,{priority:300,inheritableStatics:{DIFFERENT_TARGET:"Different Target"},config:{moveDistance:8,tapDistance:24,maxDuration:300},handledEvents:["singletap","doubletap"],singleTapTimer:null,startTime:0,lastTapTime:0,onTouchStart:function(e){var h=this,i;if(Ext.event.gesture.SingleTouch.prototype.onTouchStart.apply(this,arguments)===false){return false}i=h.lastStartPoint=e.changedTouches[0].point;h.startPoint=h.startPoint||i;h.startTime=e.time;clearTimeout(h.singleTapTimer)},onTouchMove:function(e){var h=this,i=e.changedTouches[0].point;if(Math.abs(i.getDistanceTo(h.lastStartPoint))>=h.getMoveDistance()){h.startPoint=null;return h.fail(h.self.TOUCH_MOVED)}},onTouchEnd:function(r){var p=this,s=p.getMaxDuration(),v=r.time,q=r.target,n=p.lastTapTime,u=p.lastTarget,e=r.changedTouches[0].point,t;p.lastTapTime=v;p.lastTarget=q;if(n){t=v-n;if(t<=s&&Math.abs(e.getDistanceTo(p.startPoint))<=p.getTapDistance()){if(q!==u){return p.fail(p.self.DIFFERENT_TARGET)}p.lastTarget=null;p.lastTapTime=0;p.fire("doubletap",r,{touch:r.changedTouches[0],duration:t});p.startPoint=null;return}}if(v-p.startTime>s){p.fireSingleTap(r)}else{p.setSingleTapTimer(r)}},setSingleTapTimer:function(e){var g=this;g.singleTapTimer=Ext.defer(function(){g.fireSingleTap(e)},g.getMaxDuration())},fireSingleTap:function(g,e){this.fire("singletap",g,{touch:e});this.startPoint=null},reset:function(){var d=this;d.startTime=d.lastTapTime=0;d.lastStartPoint=d.startPoint=d.singleTapTimer=null}},0,0,0,0,0,0,[Ext.event.gesture,"DoubleTap"],function(g){var e=Ext.manifest.gestures;g.instance=new g(e&&e.doubleTap)}));(Ext.cmd.derive("Ext.event.gesture.Drag",Ext.event.gesture.SingleTouch,{priority:100,isStarted:false,startPoint:null,previousPoint:null,lastPoint:null,handledEvents:["dragstart","drag","dragend","dragcancel"],config:{minDistance:8},constructor:function(){Ext.event.gesture.SingleTouch.prototype.constructor.apply(this,arguments);this.initInfo()},initInfo:function(){this.info={touch:null,previous:{x:0,y:0},x:0,y:0,delta:{x:0,y:0},absDelta:{x:0,y:0},flick:{velocity:{x:0,y:0}},direction:{x:0,y:0},time:0,previousTime:{x:0,y:0}}},onTouchStart:function(d){if(Ext.event.gesture.SingleTouch.prototype.onTouchStart.apply(this,arguments)===false){if(this.isStarted&&this.lastMoveEvent!==null){this.lastMoveEvent.isStopped=false;this.onTouchEnd(this.lastMoveEvent)}return false}this.startTime=d.time;this.startPoint=d.changedTouches[0].point},tryDragStart:function(l){var n=this.startPoint,e=l.changedTouches[0],p=e.point,k=this.getMinDistance(),m=this.info;if(Math.abs(p.getDistanceTo(n))>=k){this.isStarted=true;this.previousPoint=this.lastPoint=p;this.resetInfo("x",l,e);this.resetInfo("y",l,e);m.time=l.time;this.fire("dragstart",l,m)}},onTouchMove:function(h){if(!this.isStarted){this.tryDragStart(h)}if(!this.isStarted){return}var e=h.changedTouches[0],i=e.point;if(this.lastPoint){this.previousPoint=this.lastPoint}this.lastPoint=i;this.lastMoveEvent=h;this.updateInfo("x",h,e);this.updateInfo("y",h,e);this.info.time=h.time;this.fire("drag",h,this.info)},onAxisDragEnd:function(i,g){var h=g.time-g.previousTime[i];if(h>0){g.flick.velocity[i]=(g[i]-g.previous[i])/h}},resetInfo:function(r,n,e){var q=this.lastPoint[r],s=this.startPoint[r],m=q-s,t=r.toUpperCase(),p=this.info;p.touch=e;p.delta[r]=m;p.absDelta[r]=Math.abs(m);p.previousTime[r]=this.startTime;p.previous[r]=s;p[r]=q;p.direction[r]=0;p["start"+t]=this.startPoint[r];p["previous"+t]=p.previous[r];p["page"+t]=p[r];p["delta"+t]=p.delta[r];p["absDelta"+t]=p.absDelta[r];p["previousDelta"+t]=0;p.startTime=this.startTime},updateInfo:function(y,u,v){var t=this,r=t.lastPoint[y],x=t.previousPoint[y],B=t.startPoint[y],e=r-B,z=t.info,s=z.direction,w=y.toUpperCase(),A=z.previous[y];z.touch=v;z.delta[y]=e;z.absDelta[y]=Math.abs(e);if(r!==A&&r!==z[y]){z.previous[y]=z[y];z.previousTime[y]=z.time}z[y]=r;if(r>x){s[y]=1}else{if(r<x){s[y]=-1}}z["start"+w]=B;z["previous"+w]=z.previous[y];z["page"+w]=z[y];z["delta"+w]=z.delta[y];z["absDelta"+w]=z.absDelta[y];z["previousDelta"+w]=z.previous[y]-B;z.startTime=t.startTime},onTouchEnd:function(d){this.doEnd(d)},onTouchCancel:function(d){this.doEnd(d,true);return false},doEnd:function(j,l){if(!this.isStarted){this.tryDragStart(j)}if(this.isStarted){var e=j.changedTouches[0],m=e.point,k=this.info;this.isStarted=false;this.lastPoint=m;this.updateInfo("x",j,e);this.updateInfo("y",j,e);k.time=j.time;this.onAxisDragEnd("x",k);this.onAxisDragEnd("y",k);this.fire(l?"dragcancel":"dragend",j,k);this.startPoint=null;this.previousPoint=null;this.lastPoint=null;this.lastMoveEvent=null}},reset:function(){var d=this;d.isStarted=d.lastPoint=d.startPoint=d.previousPoint=d.lastPoint=d.lastMoveEvent=null;d.initInfo()}},1,0,0,0,0,0,[Ext.event.gesture,"Drag"],function(g){var e=Ext.manifest.gestures;g.instance=new g(e&&e.drag)}));(Ext.cmd.derive("Ext.event.gesture.Swipe",Ext.event.gesture.SingleTouch,{priority:500,handledEvents:["swipestart","swipe","swipecancel"],inheritableStatics:{MAX_OFFSET_EXCEEDED:"Max Offset Exceeded",MAX_DURATION_EXCEEDED:"Max Duration Exceeded",DISTANCE_NOT_ENOUGH:"Distance Not Enough"},config:{minDistance:80,maxOffset:35,maxDuration:1000},onTouchStart:function(g){if(Ext.event.gesture.SingleTouch.prototype.onTouchStart.apply(this,arguments)===false){return false}var e=g.changedTouches[0];this.startTime=g.time;this.isHorizontal=true;this.isVertical=true;this.startX=e.pageX;this.startY=e.pageY},onTouchMove:function(v){var w=v.changedTouches[0],s=w.pageX,u=w.pageY,x=s-this.startX,y=u-this.startY,A=Math.abs(s-this.startX),B=Math.abs(u-this.startY),z=v.time-this.startTime,e=this.getMinDistance(),C=v.time,t,D;if(C-this.startTime>this.getMaxDuration()){return this.fail(this.self.MAX_DURATION_EXCEEDED)}if(this.isHorizontal&&B>this.getMaxOffset()){this.isHorizontal=false}if(this.isVertical&&A>this.getMaxOffset()){this.isVertical=false}if(!this.isVertical||!this.isHorizontal){if(this.isHorizontal&&A<e){t=(x<0)?"left":"right";D=A}else{if(this.isVertical&&B<e){t=(y<0)?"up":"down";D=B}}}if(t&&!this.started){this.started=true;this.fire("swipestart",v,{touch:w,direction:t,distance:D,duration:z})}if(!this.isHorizontal&&!this.isVertical){return this.fail(this.self.MAX_OFFSET_EXCEEDED)}},onTouchEnd:function(u){if(this.onTouchMove(u)===false){return false}var v=u.changedTouches[0],r=v.pageX,t=v.pageY,w=r-this.startX,x=t-this.startY,z=Math.abs(w),A=Math.abs(x),e=this.getMinDistance(),y=u.time-this.startTime,s,B;if(this.isVertical&&A<e){this.isVertical=false}if(this.isHorizontal&&z<e){this.isHorizontal=false}if(this.isHorizontal){s=(w<0)?"left":"right";B=z}else{if(this.isVertical){s=(x<0)?"up":"down";B=A}else{return this.fail(this.self.DISTANCE_NOT_ENOUGH)}}this.started=false;this.fire("swipe",u,{touch:v,direction:s,distance:B,duration:y})},onTouchCancel:function(d){this.fire("swipecancel",d);return false},reset:function(){var d=this;d.startTime=d.isHorizontal=d.isVertical=d.startX=d.startY=null}},0,0,0,0,0,0,[Ext.event.gesture,"Swipe"],function(g){var e=Ext.manifest.gestures;g.instance=new g(e&&e.swipe)}));(Ext.cmd.derive("Ext.event.gesture.EdgeSwipe",Ext.event.gesture.Swipe,{priority:800,handledEvents:["edgeswipe","edgeswipestart","edgeswipeend","edgeswipecancel"],inheritableStatics:{NOT_NEAR_EDGE:"Not Near Edge"},config:{minDistance:60},onTouchStart:function(g){if(Ext.event.gesture.Swipe.prototype.onTouchStart.apply(this,arguments)===false){return false}var e=g.changedTouches[0];this.started=false;this.direction=null;this.isHorizontal=true;this.isVertical=true;this.startX=e.pageX;this.startY=e.pageY},onTouchMove:function(w){var y=w.changedTouches[0],H=y.pageX,v=y.pageY,z=H-this.startX,A=v-this.startY,E=Math.abs(v-this.startY),D=Math.abs(H-this.startX),G=this.getMinDistance(),B=this.getMaxOffset(),C=w.time-this.startTime,e=Ext.Viewport&&Ext.Element.getViewportWidth(),x=Ext.Viewport&&Ext.Element.getViewportHeight(),u,F;if(this.isVertical&&D>B){this.isVertical=false}if(this.isHorizontal&&E>B){this.isHorizontal=false}if(this.isVertical&&this.isHorizontal){if(E>D){this.isHorizontal=false}else{this.isVertical=false}}if(this.isHorizontal){u=(z<0)?"left":"right";F=z}else{if(this.isVertical){u=(A<0)?"up":"down";F=A}}u=this.direction||(this.direction=u);if(u==="up"){F=A*-1}else{if(u==="left"){F=z*-1}}this.distance=F;if(!F){return this.fail(this.self.DISTANCE_NOT_ENOUGH)}if(!this.started){if(u==="right"&&this.startX>G){return this.fail(this.self.NOT_NEAR_EDGE)}else{if(u==="down"&&this.startY>G){return this.fail(this.self.NOT_NEAR_EDGE)}else{if(u==="left"&&(e-this.startX)>G){return this.fail(this.self.NOT_NEAR_EDGE)}else{if(u==="up"&&(x-this.startY)>G){return this.fail(this.self.NOT_NEAR_EDGE)}}}}this.started=true;this.startTime=w.time;this.fire("edgeswipestart",w,{touch:y,direction:u,distance:F,duration:C})}else{this.fire("edgeswipe",w,{touch:y,direction:u,distance:F,duration:C})}},onTouchEnd:function(e){var g;if(this.onTouchMove(e)!==false){g=e.time-this.startTime;this.fire("edgeswipeend",e,{touch:e.changedTouches[0],direction:this.direction,distance:this.distance,duration:g})}},onTouchCancel:function(d){this.fire("edgeswipecancel",d,{touch:d.changedTouches[0]});return false},reset:function(){var d=this;d.started=d.direction=d.isHorizontal=d.isVertical=d.startX=d.startY=d.startTime=d.distance=null}},0,0,0,0,0,0,[Ext.event.gesture,"EdgeSwipe"],function(g){var e=Ext.manifest.gestures;g.instance=new g(e&&e.edgeSwipe)}));(Ext.cmd.derive("Ext.event.gesture.LongPress",Ext.event.gesture.SingleTouch,{priority:400,inheritableStatics:{DURATION_NOT_ENOUGH:"Duration Not Enough"},config:{moveDistance:8,minDuration:1000},handledEvents:["longpress","taphold"],fireLongPress:function(d){this.fire("longpress",d,{touch:d.changedTouches[0],duration:this.getMinDuration()});this.isLongPress=true},onTouchStart:function(d){if(Ext.event.gesture.SingleTouch.prototype.onTouchStart.apply(this,arguments)===false){return false}this.startPoint=d.changedTouches[0].point;this.isLongPress=false;this.setLongPressTimer(d)},setLongPressTimer:function(e){var g=this;g.timer=Ext.defer(function(){g.fireLongPress(e)},g.getMinDuration())},onTouchMove:function(e){var g=e.changedTouches[0].point;if(Math.abs(g.getDistanceTo(this.startPoint))>=this.getMoveDistance()){return this.fail(this.self.TOUCH_MOVED)}},onTouchEnd:function(){if(!this.isLongPress){return this.fail(this.self.DURATION_NOT_ENOUGH)}},fail:function(){clearTimeout(this.timer);return Ext.event.gesture.SingleTouch.prototype.fail.apply(this,arguments)},reset:function(){this.isLongPress=this.startPoint=null},fire:function(g){if(g==="longpress"){var e=Array.prototype.slice.call(arguments);e[0]="taphold";this.fire.apply(this,e)}return Ext.event.gesture.SingleTouch.prototype.fire.apply(this,arguments)}},0,0,0,0,0,0,[Ext.event.gesture,"LongPress"],function(g){var e=Ext.manifest.gestures;g.instance=new g(e&&e.longPress)}));(Ext.cmd.derive("Ext.event.gesture.MultiTouch",Ext.event.gesture.Recognizer,{requiredTouchesCount:2,isTracking:false,isStarted:false,onTouchStart:function(e){var k=this.requiredTouchesCount,i=e.touches,j=i.length;if(j===k){this.start(e)}else{if(j>k){this.end(e)}}},onTouchEnd:function(d){this.end(d)},onTouchCancel:function(d){this.end(d,true);return false},start:function(){if(!this.isTracking){this.isTracking=true;this.isStarted=false}},end:function(e,g){if(this.isTracking){this.isTracking=false;if(this.isStarted){this.isStarted=false;this[g?"fireCancel":"fireEnd"](e)}}},reset:function(){this.isTracking=this.isStarted=false}},0,0,0,0,0,0,[Ext.event.gesture,"MultiTouch"],0));(Ext.cmd.derive("Ext.event.gesture.Pinch",Ext.event.gesture.MultiTouch,{priority:600,handledEvents:["pinchstart","pinch","pinchend","pinchcancel"],startDistance:0,lastTouches:null,onTouchMove:function(k){if(!this.isTracking){return}var l=k.touches,j,m,e;j=l[0].point;m=l[1].point;e=j.getDistanceTo(m);if(e===0){return}if(!this.isStarted){this.isStarted=true;this.startDistance=e;this.fire("pinchstart",k,{touches:l,distance:e,scale:1})}else{this.fire("pinch",k,{touches:l,distance:e,scale:e/this.startDistance})}},fireEnd:function(d){this.fire("pinchend",d)},fireCancel:function(d){this.fire("pinchcancel",d)},fail:function(){return Ext.event.gesture.MultiTouch.prototype.fail.apply(this,arguments)},reset:function(){this.lastTouches=null;this.startDistance=0;Ext.event.gesture.MultiTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"Pinch"],function(g){var e=Ext.manifest.gestures;g.instance=new g(e&&e.pinch)}));(Ext.cmd.derive("Ext.event.gesture.Rotate",Ext.event.gesture.MultiTouch,{priority:700,handledEvents:["rotatestart","rotate","rotateend","rotatecancel"],startAngle:0,lastTouches:null,lastAngle:null,onTouchMove:function(p){if(!this.isTracking){return}var q=p.touches,u=this.lastAngle,s,r,t,v,n,e;s=q[0].point;r=q[1].point;t=s.getAngleTo(r);if(u!==null){e=Math.abs(u-t);v=t+360;n=t-360;if(Math.abs(v-u)<e){t=v}else{if(Math.abs(n-u)<e){t=n}}}this.lastAngle=t;if(!this.isStarted){this.isStarted=true;this.startAngle=t;this.fire("rotatestart",p,{touches:q,angle:t,rotation:0})}else{this.fire("rotate",p,{touches:q,angle:t,rotation:t-this.startAngle})}this.lastTouches=Ext.Array.clone(q)},fireEnd:function(d){this.lastAngle=null;this.fire("rotateend",d)},fireCancel:function(d){this.lastAngle=null;this.fire("rotatecancel",d)},reset:function(){var d=this;d.lastTouches=d.lastAngle=d.startAngle=null;Ext.event.gesture.MultiTouch.prototype.reset.call(this)}},0,0,0,0,0,0,[Ext.event.gesture,"Rotate"],function(g){var e=Ext.manifest.gestures;g.instance=new g(e&&e.rotate)}));(Ext.cmd.derive("Ext.event.gesture.Tap",Ext.event.gesture.SingleTouch,{priority:200,handledEvents:["tap","tapcancel"],config:{moveDistance:8},onTouchStart:function(d){if(Ext.event.gesture.SingleTouch.prototype.onTouchStart.call(this,d)===false){return false}this.startPoint=d.changedTouches[0].point},onTouchMove:function(h){var e=h.changedTouches[0],i=e.point;if(Math.abs(i.getDistanceTo(this.startPoint))>=this.getMoveDistance()){this.fire("tapcancel",h,{touch:e});return this.fail(this.self.TOUCH_MOVED)}},onTouchEnd:function(d){this.fire("tap",d,{touch:d.changedTouches[0]})},onTouchCancel:function(d){this.fire("tapcancel",d,{touch:d.changedTouches[0]});return false},reset:function(){this.startPoint=null}},0,0,0,0,0,0,[Ext.event.gesture,"Tap"],function(e){var g=Ext.manifest.gestures;e.instance=new e(g&&g.tap)}));(Ext.cmd.derive("Ext.event.publisher.Focus",Ext.event.publisher.Dom,{type:"focus",handledEvents:["focusenter","focusleave","focusmove"],handledDomEvents:["focusin","focusout"],doDelegatedEvent:function(e,i){var j=this,k;e=Ext.event.publisher.Dom.prototype.doDelegatedEvent.call(this,e,false);if(e){if(e.type==="focusout"){if(e.relatedTarget==null){j.processFocusIn(e,e.target,document.body,i)}}else{k=e.relatedTarget;j.processFocusIn(e,(k==null||!k.tagName)?document.body:k,e.target,i)}}},processFocusIn:function(u,t,z,r){var s=this,e,A,v=[],B,w,x,y;x=Ext.fly(t);y=Ext.fly(z);if((x&&x.isFocusSuspended())||(y&&y.isFocusSuspended())){return}for(A=t,e=Ext.dom.Element.getCommonAncestor(z,t,true);A&&A!==e;A=A.parentNode){v.push(A)}if(v.length){B=s.createSyntheticEvent("focusleave",u,t,z);s.publish("focusleave",v,B);if(B.isStopped){return}}v.length=0;for(A=z;A!==e;A=A.parentNode){v.push(A)}w=s.createSyntheticEvent("focusenter",u,z,t);if(v.length){s.publish("focusenter",v,w);if(w.isStopped){return}}v=s.getPropagatingTargets(e);if(v.length){B=s.createSyntheticEvent("focusmove",u,z,t);s.publish("focusmove",v,B);if(B.isStopped){return}}if(r){s.afterEvent(u)}Ext.GlobalEvents.fireEvent("focus",{event:w,toElement:z,fromElement:t})},createSyntheticEvent:function(l,i,j,m){var k=new Ext.event.Event(i);k.type=l;k.relatedTarget=m;k.target=j;return k}},0,0,0,0,0,0,[Ext.event.publisher,"Focus"],function(e){var g;e.instance=new e();if(!Ext.supports.FocusinFocusoutEvents){this.override({handledDomEvents:["focus","blur"],doDelegatedEvent:function(c,d){var k=this;c=k.callSuper([c,false]);if(c){clearTimeout(g);g=0;if(c.type==="blur"){var l=c.target===window?document.body:c.target;g=setTimeout(function(){g=0;k.processFocusIn(c,l,document.body,d);e.previousActiveElement=null},0);if(c.target===window||c.target===document){e.previousActiveElement=null}else{e.previousActiveElement=c.target}}else{k.processFocusIn(c,e.previousActiveElement||document.body,c.target===window?document.body:c.target,d)}}}})}}));(Ext.cmd.derive("Ext.fx.State",Ext.Base,{isAnimatable:{"background-color":true,"background-image":true,"background-position":true,"border-bottom-color":true,"border-bottom-width":true,"border-color":true,"border-left-color":true,"border-left-width":true,"border-right-color":true,"border-right-width":true,"border-spacing":true,"border-top-color":true,"border-top-width":true,"border-width":true,bottom:true,color:true,crop:true,"font-size":true,"font-weight":true,height:true,left:true,"letter-spacing":true,"line-height":true,"margin-bottom":true,"margin-left":true,"margin-right":true,"margin-top":true,"max-height":true,"max-width":true,"min-height":true,"min-width":true,opacity:true,"outline-color":true,"outline-offset":true,"outline-width":true,"padding-bottom":true,"padding-left":true,"padding-right":true,"padding-top":true,right:true,"text-indent":true,"text-shadow":true,top:true,"vertical-align":true,visibility:true,width:true,"word-spacing":true,"z-index":true,zoom:true,transform:true},constructor:function(d){this.data={};this.set(d)},setConfig:function(d){this.set(d);return this},setRaw:function(d){this.data=d;return this},clear:function(){return this.setRaw({})},setTransform:function(p,k){var l=this.data,r=Ext.isArray(k),q=l.transform,m,n;if(!q){q=l.transform={translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1,scaleZ:1,rotate:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0}}if(typeof p=="string"){switch(p){case"translate":if(r){m=k.length;if(m==0){break}q.translateX=k[0];if(m==1){break}q.translateY=k[1];if(m==2){break}q.translateZ=k[2]}else{q.translateX=k}break;case"rotate":if(r){m=k.length;if(m==0){break}q.rotateX=k[0];if(m==1){break}q.rotateY=k[1];if(m==2){break}q.rotateZ=k[2]}else{q.rotate=k}break;case"scale":if(r){m=k.length;if(m==0){break}q.scaleX=k[0];if(m==1){break}q.scaleY=k[1];if(m==2){break}q.scaleZ=k[2]}else{q.scaleX=k;q.scaleY=k}break;case"skew":if(r){m=k.length;if(m==0){break}q.skewX=k[0];if(m==1){break}q.skewY=k[1]}else{q.skewX=k}break;default:q[p]=k}}else{for(n in p){if(p.hasOwnProperty(n)){k=p[n];this.setTransform(n,k)}}}},set:function(k,h){var i=this.data,j;if(typeof k!="string"){for(j in k){h=k[j];if(j==="transform"){this.setTransform(h)}else{i[j]=h}}}else{if(k==="transform"){this.setTransform(h)}else{i[k]=h}}return this},unset:function(g){var e=this.data;if(e.hasOwnProperty(g)){delete e[g]}return this},getData:function(){return this.data}},1,0,0,0,0,0,[Ext.fx,"State"],0));(Ext.cmd.derive("Ext.fx.animation.Abstract",Ext.Evented,{isAnimation:true,config:{name:"",element:null,before:null,from:{},to:{},after:null,states:{},duration:300,easing:"linear",iteration:1,direction:"normal",delay:0,onBeforeStart:null,callback:null,onEnd:null,onBeforeEnd:null,scope:null,reverse:null,preserveEndState:false,replacePrevious:true},STATE_FROM:"0%",STATE_TO:"100%",DIRECTION_UP:"up",DIRECTION_DOWN:"down",DIRECTION_LEFT:"left",DIRECTION_RIGHT:"right",stateNameRegex:/^(?:[\d\.]+)%$/,constructor:function(){this.states={};Ext.Evented.prototype.constructor.apply(this,arguments);return this},applyElement:function(d){return Ext.get(d)},applyBefore:function(g,e){if(g){return Ext.factory(g,Ext.fx.State,e)}},applyAfter:function(e,g){if(e){return Ext.factory(e,Ext.fx.State,g)}},setFrom:function(d){return this.setState(this.STATE_FROM,d)},setTo:function(d){return this.setState(this.STATE_TO,d)},getFrom:function(){return this.getState(this.STATE_FROM)},getTo:function(){return this.getState(this.STATE_TO)},setStates:function(i){var g=this.stateNameRegex,h;for(h in i){if(g.test(h)){this.setState(h,i[h])}}return this},getStates:function(){return this.states},updateCallback:function(d){if(d){this.setOnEnd(d)}},end:function(){this.stop()},stop:function(){this.fireEvent("stop",this)},destroy:function(){this.stop();Ext.Evented.prototype.destroy.call(this)},setState:function(j,h){var k=this.getStates(),i;i=Ext.factory(h,Ext.fx.State,k[j]);if(i){k[j]=i}return this},getState:function(d){return this.getStates()[d]},getData:function(){var v=this,q=v.getStates(),x={},u=v.getBefore(),z=v.getAfter(),t=q[v.STATE_FROM],s=q[v.STATE_TO],r=t.getData(),w=s.getData(),y,A,B;for(A in q){if(q.hasOwnProperty(A)){B=q[A];y=B.getData();x[A]=y}}return{before:u?u.getData():{},after:z?z.getData():{},states:x,from:r,to:w,duration:v.getDuration(),iteration:v.getIteration(),direction:v.getDirection(),easing:v.getEasing(),delay:v.getDelay(),onEnd:v.getOnEnd(),onBeforeEnd:v.getOnBeforeEnd(),onBeforeStart:v.getOnBeforeStart(),scope:v.getScope(),preserveEndState:v.getPreserveEndState(),replacePrevious:v.getReplacePrevious()}}},1,0,0,0,0,0,[Ext.fx.animation,"Abstract"],0));(Ext.cmd.derive("Ext.fx.animation.Slide",Ext.fx.animation.Abstract,{alternateClassName:"Ext.fx.animation.SlideIn",config:{direction:"left",out:false,offset:0,easing:"auto",containerBox:"auto",elementBox:"auto",isElementBoxFit:true,useCssTransform:true},reverseDirectionMap:{up:"down",down:"up",left:"right",right:"left"},applyEasing:function(d){if(d==="auto"){return"ease-"+((this.getOut())?"in":"out")}return d},getContainerBox:function(){var d=this._containerBox;if(d==="auto"){d=this.getElement().getParent().getBox()}return d},getElementBox:function(){var d=this._elementBox;if(this.getIsElementBoxFit()){return this.getContainerBox()}if(d==="auto"){d=this.getElement().getBox()}return d},getData:function(){var I=this.getElementBox(),F=this.getContainerBox(),B=I?I:F,u=this.getFrom(),J=this.getTo(),C=this.getOut(),D=this.getOffset(),v=this.getDirection(),G=this.getUseCssTransform(),A=this.getReverse(),E=0,H=0,w,y,x,z;if(A){v=this.reverseDirectionMap[v]}switch(v){case this.DIRECTION_UP:if(C){H=F.top-B.top-B.height-D}else{H=F.bottom-B.bottom+B.height+D}break;case this.DIRECTION_DOWN:if(C){H=F.bottom-B.bottom+B.height+D}else{H=F.top-B.height-B.top-D}break;case this.DIRECTION_RIGHT:if(C){E=F.right-B.right+B.width+D}else{E=F.left-B.left-B.width-D}break;case this.DIRECTION_LEFT:if(C){E=F.left-B.left-B.width-D}else{E=F.right-B.right+B.width+D}break}w=(C)?0:E;y=(C)?0:H;if(G){u.setTransform({translateX:w,translateY:y})}else{u.set("left",w);u.set("top",y)}x=(C)?E:0;z=(C)?H:0;if(G){J.setTransform({translateX:x,translateY:z})}else{J.set("left",x);J.set("top",z)}return Ext.fx.animation.Abstract.prototype.getData.apply(this,arguments)}},0,0,0,0,["animation.slide","animation.slideIn"],0,[Ext.fx.animation,"Slide",Ext.fx.animation,"SlideIn"],0));(Ext.cmd.derive("Ext.fx.animation.SlideOut",Ext.fx.animation.Slide,{config:{out:true}},0,0,0,0,["animation.slideOut"],0,[Ext.fx.animation,"SlideOut"],0));(Ext.cmd.derive("Ext.fx.animation.Fade",Ext.fx.animation.Abstract,{alternateClassName:"Ext.fx.animation.FadeIn",config:{out:false,before:{display:null,opacity:0},after:{opacity:null},reverse:null},updateOut:function(i){var g=this.getTo(),h=this.getFrom();if(i){h.set("opacity",1);g.set("opacity",0)}else{h.set("opacity",0);g.set("opacity",1)}}},0,0,0,0,["animation.fade","animation.fadeIn"],0,[Ext.fx.animation,"Fade",Ext.fx.animation,"FadeIn"],0));(Ext.cmd.derive("Ext.fx.animation.FadeOut",Ext.fx.animation.Fade,{config:{out:true,before:{}}},0,0,0,0,["animation.fadeOut"],0,[Ext.fx.animation,"FadeOut"],0));(Ext.cmd.derive("Ext.fx.animation.Flip",Ext.fx.animation.Abstract,{config:{easing:"ease-in",direction:"right",half:false,out:null},getData:function(){var x=this,v=x.getFrom(),u=x.getTo(),w=x.getDirection(),C=x.getOut(),r=x.getHalf(),B=r?90:180,z=1,D=1,s=0,t=0,y=0,A=0;if(C){D=0.8}else{z=0.8}switch(w){case this.DIRECTION_UP:if(C){y=B}else{s=-B}break;case this.DIRECTION_DOWN:if(C){y=-B}else{s=B}break;case this.DIRECTION_RIGHT:if(C){A=B}else{t=-B}break;case this.DIRECTION_LEFT:if(C){A=-B}else{t=B}break}v.setTransform({rotateX:s,rotateY:t,scale:z});u.setTransform({rotateX:y,rotateY:A,scale:D});return Ext.fx.animation.Abstract.prototype.getData.call(this)}},0,0,0,0,["animation.flip"],0,[Ext.fx.animation,"Flip"],0));(Ext.cmd.derive("Ext.fx.animation.Pop",Ext.fx.animation.Abstract,{alternateClassName:"Ext.fx.animation.PopIn",config:{out:false,before:{display:null,opacity:0},after:{opacity:null}},getData:function(){var g=this.getTo(),h=this.getFrom(),i=this.getOut();if(i){h.set("opacity",1);h.setTransform({scale:1});g.set("opacity",0);g.setTransform({scale:0})}else{h.set("opacity",0);h.setTransform({scale:0});g.set("opacity",1);g.setTransform({scale:1})}return Ext.fx.animation.Abstract.prototype.getData.apply(this,arguments)}},0,0,0,0,["animation.pop","animation.popIn"],0,[Ext.fx.animation,"Pop",Ext.fx.animation,"PopIn"],0));(Ext.cmd.derive("Ext.fx.animation.PopOut",Ext.fx.animation.Pop,{config:{out:true,before:{}}},0,0,0,0,["animation.popOut"],0,[Ext.fx.animation,"PopOut"],0));(Ext.cmd.derive("Ext.fx.Animation",Ext.Base,{constructor:function(h){var i=Ext.fx.animation.Abstract,g;if(typeof h=="string"){g=h;h={}}else{if(h&&h.type){g=h.type}}if(g){i=Ext.ClassManager.getByAlias("animation."+g)}return Ext.factory(h,i)}},1,0,0,0,0,0,[Ext.fx,"Animation"],0));(Ext.cmd.derive("Ext.fx.runner.Css",Ext.Evented,{prefixedProperties:{transform:true,"transform-origin":true,perspective:true,"transform-style":true,transition:true,"transition-property":true,"transition-duration":true,"transition-timing-function":true,"transition-delay":true,animation:true,"animation-name":true,"animation-duration":true,"animation-iteration-count":true,"animation-direction":true,"animation-timing-function":true,"animation-delay":true},lengthProperties:{top:true,right:true,bottom:true,left:true,width:true,height:true,"max-height":true,"max-width":true,"min-height":true,"min-width":true,"margin-bottom":true,"margin-left":true,"margin-right":true,"margin-top":true,"padding-bottom":true,"padding-left":true,"padding-right":true,"padding-top":true,"border-bottom-width":true,"border-left-width":true,"border-right-width":true,"border-spacing":true,"border-top-width":true,"border-width":true,"outline-width":true,"letter-spacing":true,"line-height":true,"text-indent":true,"word-spacing":true,"font-size":true,translate:true,translateX:true,translateY:true,translateZ:true,translate3d:true},durationProperties:{"transition-duration":true,"transition-delay":true,"animation-duration":true,"animation-delay":true},angleProperties:{rotate:true,rotateX:true,rotateY:true,rotateZ:true,skew:true,skewX:true,skewY:true},lengthUnitRegex:/([a-z%]*)$/,DEFAULT_UNIT_LENGTH:"px",DEFAULT_UNIT_ANGLE:"deg",DEFAULT_UNIT_DURATION:"ms",formattedNameCache:{},transformMethods3d:["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","skewX","skewY","scaleX","scaleY","scaleZ"],transformMethodsNo3d:["translateX","translateY","rotate","skewX","skewY","scaleX","scaleY"],constructor:function(){var d=this;d.transformMethods=Ext.feature.has.Css3dTransforms?d.transformMethods3d:d.transformMethodsNo3d;d.vendorPrefix=Ext.browser.getStyleDashPrefix();d.ruleStylesCache={};Ext.Evented.prototype.constructor.call(this)},getStyleSheet:function(){var g=this.styleSheet,i,h;if(!g){i=document.createElement("style");i.type="text/css";(document.head||document.getElementsByTagName("head")[0]).appendChild(i);h=document.styleSheets;this.styleSheet=g=h[h.length-1]}return g},applyRules:function(r){var t=this.getStyleSheet(),p=this.ruleStylesCache,q=t.cssRules,x,v,s,y,w,z,u;for(x in r){v=r[x];s=p[x];if(s===undefined){w=q.length;t.insertRule(x+"{}",w);s=p[x]=q.item(w).style}y=s.$cache;if(!y){y=s.$cache={}}for(z in v){u=this.formatValue(v[z],z);z=this.formatName(z);if(y[z]!==u){y[z]=u;if(u===null){s.removeProperty(z)}else{s.setProperty(z,u,"important")}}}}return this},applyStyles:function(n){var k,p,l,q,r,m;for(k in n){if(n.hasOwnProperty(k)){p=document.getElementById(k);if(!p){continue}l=p.style;q=n[k];for(r in q){if(q.hasOwnProperty(r)){m=this.formatValue(q[r],r);r=this.formatName(r);if(m===null){l.removeProperty(r)}else{l.setProperty(r,m,"important")}}}}}return this},formatName:function(h){var i=this.formattedNameCache,g=i[h];if(!g){if((Ext.os.is.Tizen||!Ext.feature.has.CssTransformNoPrefix)&&this.prefixedProperties[h]){g=this.vendorPrefix+h}else{g=h}i[h]=g}return g},formatValue:function(r,y){var t=typeof r,i=this.DEFAULT_UNIT_LENGTH,v,z,w,u,x,q,s;if(r===null){return""}if(t=="string"){if(this.lengthProperties[y]){s=r.match(this.lengthUnitRegex)[1];if(s.length>0){}else{return r+i}}return r}else{if(t=="number"){if(r==0){return"0"}if(this.lengthProperties[y]){return r+i}if(this.angleProperties[y]){return r+this.DEFAULT_UNIT_ANGLE}if(this.durationProperties[y]){return r+this.DEFAULT_UNIT_DURATION}}else{if(y==="transform"){v=this.transformMethods;x=[];for(w=0,u=v.length;w<u;w++){z=v[w];x.push(z+"("+this.formatValue(r[z],z)+")")}return x.join(" ")}else{if(Ext.isArray(r)){q=[];for(w=0,u=r.length;w<u;w++){q.push(this.formatValue(r[w],y))}return(q.length>0)?q.join(", "):"none"}}}}return r}},1,0,0,0,0,0,[Ext.fx.runner,"Css"],0));(Ext.cmd.derive("Ext.fx.runner.CssTransition",Ext.fx.runner.Css,{alternateClassName:"Ext.Animator",singleton:true,listenersAttached:false,constructor:function(){this.runningAnimationsData={};return this.callParent(arguments)},attachListeners:function(){this.listenersAttached=true;Ext.getWin().on("transitionend","onTransitionEnd",this)},onTransitionEnd:function(h){var i=h.target,e=i.id;if(e&&this.runningAnimationsData.hasOwnProperty(e)){this.refreshRunningAnimationsData(Ext.get(i),[h.browserEvent.propertyName])}},onAnimationEnd:function(y,z,B,w,i){var C=y.getId(),v=this.runningAnimationsData[C],F={},t={},D,x,A,u,E;B.un("stop","onAnimationStop",this);if(v){D=v.nameMap}F[C]=t;if(z.onBeforeEnd){z.onBeforeEnd.call(z.scope||this,y,w)}B.fireEvent("animationbeforeend",B,y,w);this.fireEvent("animationbeforeend",this,B,y,w);if(i||(!w&&!z.preserveEndState)){x=z.toPropertyNames;for(A=0,u=x.length;A<u;A++){E=x[A];if(D&&!D.hasOwnProperty(E)){t[E]=null}}}if(z.after){Ext.merge(t,z.after)}this.applyStyles(F);if(z.onEnd){z.onEnd.call(z.scope||this,y,w)}B.fireEvent("animationend",B,y,w);this.fireEvent("animationend",this,B,y,w);Ext.AnimationQueue.stop(Ext.emptyFn,B)},onAllAnimationsEnd:function(h){var g=h.getId(),i={};delete this.runningAnimationsData[g];i[g]={"transition-property":null,"transition-duration":null,"transition-timing-function":null,"transition-delay":null};this.applyStyles(i);this.fireEvent("animationallend",this,h)},hasRunningAnimations:function(i){var g=i.getId(),h=this.runningAnimationsData;return h.hasOwnProperty(g)&&h[g].sessions.length>0},refreshRunningAnimationsData:function(M,H,j,C){var J=M.getId(),B=this.runningAnimationsData,P=B[J];if(!P){return}var F=P.nameMap,z=P.nameList,O=P.sessions,K,I,L,i,G,N,A,D,E=false;j=Boolean(j);C=Boolean(C);if(!O){return this}K=O.length;if(K===0){return this}if(C){P.nameMap={};z.length=0;for(G=0;G<K;G++){N=O[G];this.onAnimationEnd(M,N.data,N.animation,j,C)}O.length=0}else{for(G=0;G<K;G++){N=O[G];A=N.map;D=N.list;for(I=0,L=H.length;I<L;I++){i=H[I];if(A[i]){delete A[i];Ext.Array.remove(D,i);N.length--;if(--F[i]==0){delete F[i];Ext.Array.remove(z,i)}}}if(N.length==0){O.splice(G,1);G--;K--;E=true;this.onAnimationEnd(M,N.data,N.animation,j)}}}if(!C&&!j&&O.length==0&&E){this.onAllAnimationsEnd(M)}},getRunningData:function(e){var g=this.runningAnimationsData;if(!g.hasOwnProperty(e)){g[e]={nameMap:{},nameList:[],sessions:[]}}return g[e]},getTestElement:function(){var i=this.testElement,j,h,k;if(!i){j=document.createElement("iframe");j.setAttribute("tabIndex",-1);k=j.style;k.setProperty("visibility","hidden","important");k.setProperty("width","0px","important");k.setProperty("height","0px","important");k.setProperty("position","absolute","important");k.setProperty("border","0px","important");k.setProperty("zIndex","-1000","important");document.body.appendChild(j);h=j.contentDocument;h.open();h.writeln("</body>");h.close();this.testElement=i=h.createElement("div");i.style.setProperty("position","absolute","important");h.body.appendChild(i);this.testElementComputedStyle=window.getComputedStyle(i)}return i},getCssStyleValue:function(l,i){var j=this.getTestElement(),m=this.testElementComputedStyle,k=j.style;k.setProperty(l,i);if(Ext.browser.is.Firefox){j.offsetHeight}i=m.getPropertyValue(l);k.removeProperty(l);return i},run:function(aa){var P=this,am=P.lengthProperties,af={},S={},O={},aq,U,ae,ap,Q,i,ak,Y,W,au,ag,Z,ac,ab,X,aj,R,an,V,j,al,ao,ai,ad,ar,T,at,ah;if(!P.listenersAttached){P.attachListeners()}aa=Ext.Array.from(aa);for(Z=0,ab=aa.length;Z<ab;Z++){X=aa[Z];X=Ext.factory(X,Ext.fx.Animation);aq=X.getElement();Ext.AnimationQueue.start(Ext.emptyFn,X);an=window.getComputedStyle(aq.dom);U=aq.getId();O=Ext.merge({},X.getData());if(X.onBeforeStart){X.onBeforeStart.call(X.scope||P,aq)}X.fireEvent("animationstart",X);P.fireEvent("animationstart",P,X);O[U]=O;Q=O.before;ae=O.from;ap=O.to;O.fromPropertyNames=i=[];O.toPropertyNames=ak=[];for(j in ap){if(ap.hasOwnProperty(j)){ap[j]=al=P.formatValue(ap[j],j);V=P.formatName(j);ad=am.hasOwnProperty(j);if(!ad){al=P.getCssStyleValue(V,al)}if(ae.hasOwnProperty(j)){ae[j]=ai=P.formatValue(ae[j],j);if(!ad){ai=P.getCssStyleValue(V,ai)}if(al!==ai){i.push(V);ak.push(V)}}else{ao=an.getPropertyValue(V);if(al!==ao){ak.push(V)}}}}aj=ak.length;if(aj===0){P.onAnimationEnd(aq,O,X);continue}au=P.getRunningData(U);at=au.sessions;if(at.length>0){P.refreshRunningAnimationsData(aq,Ext.Array.merge(i,ak),true,O.replacePrevious)}ar=au.nameMap;T=au.nameList;R={};for(ac=0;ac<aj;ac++){j=ak[ac];R[j]=true;if(!ar.hasOwnProperty(j)){ar[j]=1;T.push(j)}else{ar[j]++}}ah={element:aq,map:R,list:ak.slice(),length:aj,data:O,animation:X};at.push(ah);X.on("stop","onAnimationStop",P);ag=Ext.apply({},Q);Ext.apply(ag,ae);if(T.length>0){i=Ext.Array.difference(T,i);ak=Ext.Array.merge(i,ak);ag["transition-property"]=i}af[U]=ag;S[U]=Ext.apply({},ap);S[U]["transition-property"]=ak;S[U]["transition-duration"]=O.duration;S[U]["transition-timing-function"]=O.easing;S[U]["transition-delay"]=O.delay;X.startTime=Date.now()}W=P.$className;P.applyStyles(af);Y=function(c){if(c.data===W&&c.source===window){window.removeEventListener("message",Y,false);P.applyStyles(S)}};if(window.requestAnimationFrame){window.requestAnimationFrame(function(){window.addEventListener("message",Y,false);window.postMessage(W,"*")})}else{Ext.defer(function(){window.addEventListener("message",Y,false);window.postMessage(W,"*")},1)}},onAnimationStop:function(q){var n=this.runningAnimationsData,i,t,m,s,r,p;for(i in n){if(n.hasOwnProperty(i)){t=n[i];m=t.sessions;for(s=0,r=m.length;s<r;s++){p=m[s];if(p.animation===q){this.refreshRunningAnimationsData(p.element,p.list.slice(),false)}}}}}},1,0,0,0,0,0,[Ext.fx.runner,"CssTransition",Ext,"Animator"],0));(Ext.cmd.derive("Ext.mixin.Container",Ext.Mixin,{mixinConfig:{id:"container"},isContainer:true,config:{referenceHolder:false},getReferences:function(){Ext.ComponentManager.fixReferences();return this.refs||null},lookup:function(e){var g=this.getReferences();return(g&&g[e])||null},lookupReference:function(d){return this.lookup(d)},privates:{attachReference:function(j){var h=this,i,k;if(h.destroying||h.destroyed){return}k=h.refs||(h.refs={});i=j.referenceKey;k[i]=j},clearReference:function(h){var i=this.refs,g=h.referenceKey;if(i&&g){h.viewModelKey=h.referenceKey=i[g]=null}},containerOnAdded:function(e,g){if(g){Ext.ComponentManager.markReferencesDirty()}},containerOnRemoved:function(g){var e;if(!g){e=this.lookupReferenceHolder();if(e){Ext.ComponentManager.markReferencesDirty();e.clearReferences()}}},clearReferences:function(){this.refs=null},initContainerInheritedState:function(p,r){var m=this,s=m.getController(),l=m.getSession(),q=m.getConfig("viewModel",true),t=m.getReference(),n=m.getReferenceHolder();if(s){p.referenceHolder=s;n=true}else{if(n){p.referenceHolder=m}}if(n){p.referencePath=""}else{if(t&&m.isParentReference){p.referencePath=m.referenceKey+"."}}if(l){p.session=l}if(q){p.viewModelPath=""}else{if(t&&m.isParentReference){p.viewModelPath=m.viewModelKey+"."}}},setupReference:function(e){var g;if(e&&e.charAt(g=e.length-1)===">"){this.isParentReference=true;e=e.substring(0,g)}return e}}},0,0,0,0,0,0,[Ext.mixin,"Container"],0));(Ext.cmd.derive("Ext.mixin.Responsive",Ext.Mixin,function(d){return{mixinConfig:{id:"responsive",after:{destroy:"destroy"}},config:{responsiveConfig:{$value:undefined,merge:function(c,n,k,l){if(!c){return n}var p=n?Ext.Object.chain(n):{},m;for(m in c){if(!l||!(m in p)){p[m]={fn:null,config:c[m]}}}return p}},responsiveFormulas:{$value:0,merge:function(c,k,i,j){return this.mergeNew(c,k,i,j)}}},destroy:function(){d.unregister(this);this.callParent()},privates:{statics:{active:false,all:{},context:Ext.Object.chain(Ext.platformTags),count:0,nextId:0,activate:function(){d.active=true;d.updateContext();Ext.on("resize",d.onResize,d)},deactivate:function(){d.active=false;Ext.un("resize",d.onResize,d)},notify:function(){var k=d.all,l=d.context,m=Ext.GlobalEvents,c=d.timer,j;if(c){d.timer=null;Ext.Function.cancelAnimationFrame(c)}d.updateContext();Ext.suspendLayouts();m.fireEvent("beforeresponsiveupdate",l);for(j in k){k[j].setupResponsiveContext()}m.fireEvent("beginresponsiveupdate",l);for(j in k){k[j].updateResponsiveState()}m.fireEvent("responsiveupdate",l);Ext.resumeLayouts(true)},onResize:function(){if(!d.timer){d.timer=Ext.Function.requestAnimationFrame(d.onTimer)}},onTimer:function(){d.timer=null;d.notify()},processConfig:function(r,c,m){var l=c&&c[m],n=r.config,q,p;if(l){p=r.getConfigurator();q=p.configs[m];n[m]=q.merge(l,n[m],r)}},register:function(g){var c=g.$responsiveId;if(!c){g.$responsiveId=c=++d.nextId;d.all[c]=g;if(++d.count===1){d.activate()}}},unregister:function(g){var c=g.$responsiveId;if(c in d.all){g.$responsiveId=null;delete d.all[c];if(--d.count===0){d.deactivate()}}},updateContext:function(){var c=Ext.Element,i=c.getViewportWidth(),k=c.getViewportHeight(),j=d.context;j.width=i;j.height=k;j.tall=i<k;j.wide=!j.tall;j.landscape=j.portrait=false;if(!j.platform){j.platform=Ext.platformTags}j[Ext.dom.Element.getOrientation()]=true}},afterClassMixedIn:function(c){var j=c.prototype,m=j.responsiveConfig,k=j.responsiveFormulas,l;if(m||k){l={};if(m){delete j.responsiveConfig;l.responsiveConfig=m}if(k){delete j.responsiveFormulas;l.responsiveFormulas=k}c.getConfigurator().add(l)}},applyResponsiveConfig:function(c){for(var g in c){c[g].fn=Ext.createRuleFn(g)}return c},applyResponsiveFormulas:function(i){var j={},c,k;if(i){for(k in i){if(Ext.isString(c=i[k])){c=Ext.createRuleFn(c)}j[k]=c}}return j},getResponsiveState:function(){var l=d.context,c=this.getResponsiveConfig(),m={},k,j;if(c){for(j in c){k=c[j];if(k.fn.call(this,l)){Ext.merge(m,k.config)}}}return m},setupResponsiveContext:function(){var h=this.getResponsiveFormulas(),c=d.context,i;if(h){for(i in h){c[i]=h[i].call(this,c)}}},transformInstanceConfig:function(c){var h=this,i;d.register(h);if(c){d.processConfig(h,c,"responsiveConfig");d.processConfig(h,c,"responsiveFormulas")}h.setupResponsiveContext();i=h.getResponsiveState();if(c){i=Ext.merge({},c,i);delete i.responsiveConfig;delete i.responsiveFormulas}return i},updateResponsiveState:function(){var c=this.getResponsiveState();this.setConfig(c)}}}},0,0,0,0,0,0,[Ext.mixin,"Responsive"],0));(Ext.cmd.derive("Ext.perf.Accumulator",Ext.Base,function(){var t=null,p=Ext.global.chrome,s,u=function(){u=Ext.now;var c,e;if(Ext.isChrome&&p&&p.Interval){c=new p.Interval();c.start();u=function(){return c.microseconds()/1000}}else{if(window.ActiveXObject){try{e=new ActiveXObject("SenchaToolbox.Toolbox");Ext.senchaToolbox=e;u=function(){return e.milliseconds}}catch(d){}}}Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=u;return u()};function n(d,c){d.sum+=c;d.min=Math.min(d.min,c);d.max=Math.max(d.max,c)}function r(d){var g=d?d:(u()-this.time),e=this,c=e.accum;++c.count;if(!--c.depth){n(c.total,g)}n(c.pure,g-e.childTime);t=e.parent;if(t){++t.accum.childCount;t.childTime+=g}}function v(){return{min:Number.MAX_VALUE,max:0,sum:0}}function m(d,c){return function(){var e=d.enter(),g=c.apply(this,arguments);e.leave();return g}}function q(g,h,c,d){var e={avg:0,min:d.min,max:d.max,sum:0};if(g){c=c||0;e.sum=d.sum-h*c;e.avg=e.sum/g}return e}return{constructor:function(c){var d=this;d.count=d.childCount=d.depth=d.maxDepth=0;d.pure=v();d.total=v();d.name=c},statics:{getTimestamp:u},format:function(c){if(!s){s=new Ext.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(e){return Math.round(e*100)/100}})}var d=this.getData(c);d.name=this.name;d.pure.type="Pure";d.total.type="Total";d.times=[d.pure,d.total];return s.apply(d)},getData:function(c){var d=this;return{count:d.count,childCount:d.childCount,depth:d.maxDepth,pure:q(d.count,d.childCount,c,d.pure),total:q(d.count,d.childCount,c,d.total)}},enter:function(){var c=this,d={accum:c,leave:r,childTime:0,parent:t};++c.depth;if(c.maxDepth<c.depth){c.maxDepth=c.depth}t=d;d.time=u();return d},monitor:function(e,g,c){var d=this.enter();if(c){e.apply(g,c)}else{e.call(g)}d.leave()},report:function(){Ext.log(this.format())},tap:function(l,j){var k=this,d=typeof j==="string"?[j]:j,z,i,B,c,e,g,h,A;A=function(){if(typeof l==="string"){z=Ext.global;c=l.split(".");for(B=0,e=c.length;B<e;++B){z=z[c[B]]}}else{z=l}for(B=0,e=d.length;B<e;++B){g=d[B];i=g.charAt(0)==="!";if(i){g=g.substring(1)}else{i=!(g in z.prototype)}h=i?z:z.prototype;h[g]=m(k,h[g])}};Ext.ClassManager.onCreated(A,k,l);return k}}},1,0,0,0,0,0,[Ext.perf,"Accumulator"],function(){Ext.perf.getTimestamp=this.getTimestamp}));(Ext.cmd.derive("Ext.perf.Monitor",Ext.Base,{singleton:true,alternateClassName:"Ext.Perf",constructor:function(){this.accumulators=[];this.accumulatorsByName={}},calibrate:function(){var q=new Ext.perf.Accumulator("$"),l=q.total,p=Ext.perf.Accumulator.getTimestamp,m=0,k,r,n;n=p();do{k=q.enter();k.leave();++m}while(l.sum<100);r=p();return(r-n)/m},get:function(h){var g=this,i=g.accumulatorsByName[h];if(!i){g.accumulatorsByName[h]=i=new Ext.perf.Accumulator(h);g.accumulators.push(i)}return i},enter:function(d){return this.get(d).enter()},monitor:function(i,g,h){this.get(i).monitor(g,h)},report:function(){var g=this,h=g.accumulators,i=g.calibrate();h.sort(function(c,d){return(c.name<d.name)?-1:((d.name<c.name)?1:0)});g.updateGC();Ext.log("Calibration: "+Math.round(i*100)/100+" msec/sample");Ext.each(h,function(c){Ext.log(c.format(i))})},getData:function(g){var h={},i=this.accumulators;Ext.each(i,function(c){if(g||c.count){h[c.name]=c.getData()}});return h},reset:function(){Ext.each(this.accumulators,function(g){var e=g;e.count=e.childCount=e.depth=e.maxDepth=0;e.pure={min:Number.MAX_VALUE,max:0,sum:0};e.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var i=this.accumulatorsByName.GC,h=Ext.senchaToolbox,g;if(i){i.count=h.garbageCollectionCounter||0;if(i.count){g=i.pure;i.total.sum=g.sum=h.garbageCollectionMilliseconds;g.min=g.max=g.sum/i.count;g=i.total;g.min=g.max=g.sum/i.count}}},watchGC:function(){Ext.perf.getTimestamp();var d=Ext.senchaToolbox;if(d){this.get("GC");d.watchGarbageCollector(false)}},setup:function(m){if(!m){m={render:{"Ext.Component":"render"},layout:{"Ext.layout.Context":"run"}}}this.currentConfig=m;var l,j,n,k,p;for(l in m){if(m.hasOwnProperty(l)){j=m[l];n=Ext.Perf.get(l);for(k in j){if(j.hasOwnProperty(k)){p=j[k];n.tap(k,p)}}}}this.watchGC()},setupLog:function(m){var k,p,n,j,l;for(k in m){if(m.hasOwnProperty(k)){p=Ext.ClassManager.get(k);if(p){n=m[k];l={};for(j in n){l[j]=(function(d,c){return function(){var r,i,h,e,g;r=+Date.now();g=this.callParent(arguments);i=+Date.now()-r;if(window.console&&i>0){e=c==="this"?this:typeof c==="string"?this[c]:typeof c==="number"?arguments[c]:null;if(e){h=e.id}if(h!=null){console.log(d+" for "+h+": "+i+"ms")}else{console.log(d+" for unknown: "+i+"ms")}if(console.trace){console.trace()}}return g}})(j,n[j])}Ext.override(p,l)}}}}},1,0,0,0,0,0,[Ext.perf,"Monitor",Ext,"Perf"],0));(Ext.cmd.derive("Ext.plugin.Abstract",Ext.Base,{alternateClassName:"Ext.AbstractPlugin",isPlugin:true,constructor:function(d){if(d){this.pluginConfig=d;this.initConfig(d)}},clonePlugin:function(d){return new this.self(Ext.apply({},d,this.pluginConfig))},setCmp:function(d){this.cmp=d},getCmp:function(){return this.cmp},init:Ext.emptyFn,destroy:function(){this.cmp=this.pluginConfig=null;this.callParent()},onClassExtended:function(j,h,k){var i=h.alias;if(i&&!h.ptype){if(Ext.isArray(i)){i=i[0]}j.prototype.ptype=i.split("plugin.")[1]}},resolveListenerScope:function(h){var i=this,j=i.getCmp(),k;if(j){k=j.resolveSatelliteListenerScope(i,h)}return k||i.mixins.observable.resolveListenerScope.call(i,h)}},1,0,0,0,0,0,[Ext.plugin,"Abstract",Ext,"AbstractPlugin"],0));Ext.define("Ext.overrides.plugin.Abstract",{override:"Ext.plugin.Abstract",$configStrict:false,$configPrefixed:false,disabled:false,getState:null,applyState:null,enable:function(){this.disabled=false},disable:function(){this.disabled=true}});(Ext.cmd.derive("Ext.util.Base64",Ext.Base,{singleton:true,_str:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(x){var y=this;var B="",i,s,u,r,t,v,w,A=0;x=y._utf8_encode(x);var z=x.length;while(A<z){i=x.charCodeAt(A++);s=x.charCodeAt(A++);u=x.charCodeAt(A++);r=i>>2;t=((i&3)<<4)|(s>>4);v=((s&15)<<2)|(u>>6);w=u&63;if(isNaN(s)){v=w=64}else{if(isNaN(u)){w=64}}B=B+y._str.charAt(r)+y._str.charAt(t)+y._str.charAt(v)+y._str.charAt(w)}return B},decode:function(x){var y=this;var B="",i,s,u,r,t,v,w,A=0;x=x.replace(/[^A-Za-z0-9\+\/\=]/g,"");var z=x.length;while(A<z){r=y._str.indexOf(x.charAt(A++));t=y._str.indexOf(x.charAt(A++));v=y._str.indexOf(x.charAt(A++));w=y._str.indexOf(x.charAt(A++));i=(r<<2)|(t>>4);s=((t&15)<<4)|(v>>2);u=((v&3)<<6)|w;B=B+String.fromCharCode(i);if(v!==64){B=B+String.fromCharCode(s)}if(w!==64){B=B+String.fromCharCode(u)}}B=y._utf8_decode(B);return B},_utf8_encode:function(k){k=k.replace(/\r\n/g,"\n");var l="",c=0,m=k.length;for(;c<m;c++){var j=k.charCodeAt(c);if(j<128){l+=String.fromCharCode(j)}else{if((j>127)&&(j<2048)){l+=String.fromCharCode((j>>6)|192);l+=String.fromCharCode((j&63)|128)}else{l+=String.fromCharCode((j>>12)|224);l+=String.fromCharCode(((j>>6)&63)|128);l+=String.fromCharCode((j&63)|128)}}}return l},_utf8_decode:function(q){var n="",i=0,c=0,p=0,m=0,r=q.length;while(i<r){c=q.charCodeAt(i);if(c<128){n+=String.fromCharCode(c);i++}else{if((c>191)&&(c<224)){m=q.charCodeAt(i+1);n+=String.fromCharCode(((c&31)<<6)|(m&63));i+=2}else{m=q.charCodeAt(i+1);p=q.charCodeAt(i+2);n+=String.fromCharCode(((c&15)<<12)|((m&63)<<6)|(p&63));i+=3}}}return n}},0,0,0,0,0,0,[Ext.util,"Base64"],0));(Ext.cmd.derive("Ext.util.DelimitedValue",Ext.Base,{dateFormat:"C",delimiter:"\t",lineBreak:"\n",quote:'"',parseREs:{},quoteREs:{},lineBreakRe:/\r?\n/g,constructor:function(d){if(d){Ext.apply(this,d)}},decode:function(w,E){var y=this,D=(E||y.delimiter),t=[],s=[t],F=y.quote,A=y.quoteREs,v=y.parseREs,u=v[D]||(v[D]=new RegExp("(\\"+D+"|\\r?\\n|\\r|^)(?:\\"+F+"([^\\"+F+"]*(?:\\"+F+"\\"+F+"[^\\"+F+"]*)*)\\"+F+'|([^"\\'+D+"\\r\\n]*))","gi")),B=A[F]||(A[F]=new RegExp("\\"+F+"\\"+F,"g")),z,C,x;while(z=u.exec(w)){C=z[1];if(C.length&&C!==D){s.push(t=[])}if(z[2]){x=z[2].replace(B,'"')}else{x=z[3]}t.push(x)}return s},encode:function(u,D){var x=this,B=D||x.delimiter,C=x.dateFormat,E=x.quote,w=E+E,v=u.length,z=x.lineBreakRe,s=[],F=[],A,y,t;while(v-->0){t=u[v];F.length=y=t.length;while(y-->0){A=t[y];if(A==null){A=""}else{if(typeof A==="string"){if(A){if(A.indexOf(E)>-1){A=E+A.split(E).join(w)+E}else{if(A.indexOf(B)>-1||z.test(A)){A=E+A+E}}}}else{if(Ext.isDate(A)){A=Ext.Date.format(A,C)}}}F[y]=A}s[v]=F.join(B)}return s.join(x.lineBreak)}},1,0,0,0,0,0,[Ext.util,"DelimitedValue"],0));(Ext.cmd.derive("Ext.util.ItemCollection",Ext.util.MixedCollection,{alternateClassName:"Ext.ItemCollection",getKey:function(d){return d.getItemId&&d.getItemId()},has:function(d){return this.map.hasOwnProperty(d.getId())}},0,0,0,0,0,0,[Ext.util,"ItemCollection",Ext,"ItemCollection"],0));(Ext.cmd.derive("Ext.util.TSV",Ext.util.DelimitedValue,{singleton:true,delimiter:"\t"},0,0,0,0,0,0,[Ext.util,"TSV"],0));(Ext.cmd.derive("Ext.util.TaskManager",Ext.util.TaskRunner,{alternateClassName:["Ext.TaskManager"],singleton:true},0,0,0,0,0,0,[Ext.util,"TaskManager",Ext,"TaskManager"],0));(Ext.cmd.derive("Ext.util.TextMetrics",Ext.Base,{statics:{shared:null,measure:function(m,j,i){var l=this,k=l.shared;if(!k){k=l.shared=new l(m,i)}k.bind(m);k.setFixedWidth(i||"auto");return k.getSize(j)},destroy:function(){var d=this;Ext.destroy(d.shared);d.shared=null}},constructor:function(k,h){var i=this,j=Ext.getBody().createChild({role:"presentation",cls:"x-textmetrics"});j.setVisibilityMode(1);i.measure=j;if(k){i.bind(k)}j.position("absolute");j.setLocalXY(-1000,-1000);j.hide();if(h){j.setWidth(h)}},getSize:function(g){var h=this.measure,i;h.setHtml(g);i=h.getSize();h.setHtml("");return i},bind:function(g){var e=this;e.el=Ext.get(g);e.measure.setStyle(e.el.getStyle(["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing","word-break"]))},setFixedWidth:function(d){this.measure.setWidth(d)},getWidth:function(d){this.measure.dom.style.width="auto";return this.getSize(d).width},getHeight:function(d){return this.getSize(d).height},destroy:function(){var d=this;d.el=d.measure=Ext.destroy(d.measure);d.callParent()}},1,0,0,0,0,0,[Ext.util,"TextMetrics"],function(){Ext.Element.override({getTextWidth:function(g,h,i){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.valueFrom(g,this.dom.innerHTML,true)).width,h||0,i||1000000)}})}));Ext.define(null,{override:"Ext.event.publisher.Focus",compatibility:Ext.isIE10m,doDelegatedEvent:function(e,i){var k=document.body,j=Ext.synchronouslyFocusing;if(j&&((e.type==="focusout"&&e.srcElement===j&&e.toElement===k)||(e.type==="focusin"&&e.srcElement===k&&e.fromElement===j&&e.toElement===null))){return}return this.callParent([e,i])}});Ext.define(null,{override:"Ext.scroll.DomScroller",compatibility:Ext.isIE8,privates:{doScrollTo:function(q,r,x){var s=this,v=s.getElement(),u,w,p,n,t;if(v&&!v.destroyed){w=this.getElement().dom;n=(q===Infinity);t=(r===Infinity);if(n||t){u=s.getMaxPosition();if(n){q=u.x}if(t){r=u.y}}q=s.convertX(q);if(x){p={};if(r!=null){p.scrollTop=r}if(q!=null){p.scrollLeft=q}v.animate(Ext.mergeIf({to:{scrollTop:r,scrollLeft:q}},x))}else{if(q!=null&&r!=null){s.deferDomScroll=true}if(r!=null){w.scrollTop=r}if(q!=null){w.scrollLeft=q}if(s.deferDomScroll){s.deferDomScroll=false;+w.scrollLeft;w.scrollLeft=q}}s.positionDirty=true}},onDomScroll:function(){var d=this;if(d.deferDomScroll){return}d.callParent()}}});(Ext.cmd.derive("Ext.ElementLoader",Ext.Base,{statics:{Renderer:{Html:function(i,h,g){i.getTarget().setHtml(h.responseText,g.scripts===true,g.rendererScope);return true}}},url:null,params:null,baseParams:null,autoLoad:false,target:null,loadMask:false,ajaxOptions:null,scripts:false,isLoader:true,constructor:function(h){var g=this,i;g.mixins.observable.constructor.call(g,h);g.setTarget(g.target);if(g.autoLoad){i=g.autoLoad;if(i===true){i=null}g.load(i)}},setTarget:function(e){var g=this;e=Ext.get(e);if(g.target&&g.target!==e){g.abort()}g.target=e},getTarget:function(){return this.target||null},abort:function(){var d=this.active;if(d!==undefined){Ext.Ajax.abort(d.request);if(d.mask){this.removeMask()}delete this.active}},removeMask:function(){this.target.unmask()},addMask:function(d){this.target.mask(d===true?null:d)},load:function(p){p=Ext.apply({},p);var m=this,r=Ext.isDefined(p.loadMask)?p.loadMask:m.loadMask,l=Ext.apply({},p.params),q=Ext.apply({},p.ajaxOptions),k=p.callback||m.callback,n=p.scope||m.scope||m;Ext.applyIf(q,m.ajaxOptions);Ext.applyIf(p,q);Ext.applyIf(l,m.params);Ext.apply(l,m.baseParams);Ext.applyIf(p,{url:m.url});Ext.apply(p,{scope:m,params:l,callback:m.onComplete});if(m.fireEvent("beforeload",m,p)===false){return}if(r){m.addMask(r)}m.active={options:p,mask:r,scope:n,callback:k,success:p.success||m.success,failure:p.failure||m.failure,renderer:p.renderer||m.renderer,scripts:Ext.isDefined(p.scripts)?p.scripts:m.scripts};m.active.request=Ext.Ajax.request(p);m.setOptions(m.active,p)},setOptions:function(e,g){e.rendererScope=g.rendererScope||this.rendererScope||this},onComplete:function(q,l,r){var n=this,m=n.active,k,p;if(m){p=m.scope;k=m.rendererScope;if(l){l=n.getRenderer(m.renderer).call(k,n,r,m)!==false}if(l){Ext.callback(m.success,p,[n,r,q]);n.fireEvent("load",n,r,q)}else{Ext.callback(m.failure,p,[n,r,q]);n.fireEvent("exception",n,r,q)}Ext.callback(m.callback,p,[n,l,r,q]);if(m.mask){n.removeMask()}}delete n.active},getRenderer:function(d){if(Ext.isFunction(d)){return d}return this.statics().Renderer.Html},startAutoRefresh:function(i,h){var g=this;g.stopAutoRefresh();g.autoRefresh=Ext.interval(function(){g.load(h)},i)},stopAutoRefresh:function(){clearInterval(this.autoRefresh);delete this.autoRefresh},isAutoRefreshing:function(){return Ext.isDefined(this.autoRefresh)},destroy:function(){var d=this;d.stopAutoRefresh();delete d.target;d.abort();d.callParent()}},1,0,0,0,0,[[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable]],[Ext,"ElementLoader"],0));(Ext.cmd.derive("Ext.ComponentLoader",Ext.ElementLoader,{statics:{Renderer:{Data:function(m,l,j){var e=true;try{m.getTarget().update(Ext.decode(l.responseText))}catch(k){e=false}return e},Component:function(r,p,l){var e=true,m=r.getTarget(),q=[];try{q=Ext.decode(p.responseText)}catch(n){e=false}if(e){m.suspendLayouts();if(l.removeAll){m.removeAll()}m.add(q);m.resumeLayouts(true)}return e}}},target:null,loadOnRender:false,loadMask:false,renderer:"html",setTarget:function(e){var g=this;if(Ext.isString(e)){e=Ext.getCmp(e)}if(g.target&&g.target!==e){g.abort()}g.target=e;if(e&&g.loadOnRender){if(e.rendered){g.doLoadOnRender()}else{g.mon(e,"render",g.doLoadOnRender,g)}}},doLoadOnRender:function(){var d=this.loadOnRender;this.load(Ext.isObject(d)?d:null)},removeMask:function(){this.target.setLoading(false)},addMask:function(d){this.target.setLoading(d)},setOptions:function(e,g){e.removeAll=Ext.isDefined(g.removeAll)?g.removeAll:this.removeAll;e.rendererScope=g.rendererScope||this.rendererScope||this.target},getRenderer:function(e){if(Ext.isFunction(e)){return e}var g=this.statics().Renderer;switch(e){case"component":return g.Component;case"data":return g.Data;default:return Ext.ElementLoader.Renderer.Html}}},0,0,0,0,0,0,[Ext,"ComponentLoader"],0));(Ext.cmd.derive("Ext.layout.SizeModel",Ext.Base,{constructor:function(k){var i=this,j=i.self,m=j.sizeModelsArray,l;Ext.apply(i,k);i[l=i.name]=true;i.fixed=!(i.auto=i.natural||i.shrinkWrap);m[i.ordinal=m.length]=j[l]=j.sizeModels[l]=i},statics:{sizeModelsArray:[],sizeModels:{}},calculated:false,configured:false,constrainedMax:false,constrainedMin:false,natural:false,shrinkWrap:false,calculatedFromConfigured:false,calculatedFromNatural:false,calculatedFromShrinkWrap:false,names:null},1,0,0,0,0,0,[Ext.layout,"SizeModel"],function(){var m=this,r=m.sizeModelsArray,p,q,i,j,n;new m({name:"calculated"});new m({name:"configured",names:{width:"width",height:"height"}});new m({name:"natural"});new m({name:"shrinkWrap"});new m({name:"calculatedFromConfigured",configured:true,calculatedFrom:true,names:{width:"width",height:"height"}});new m({name:"calculatedFromNatural",natural:true,calculatedFrom:true});new m({name:"calculatedFromShrinkWrap",shrinkWrap:true,calculatedFrom:true});new m({name:"constrainedMax",configured:true,constrained:true,names:{width:"maxWidth",height:"maxHeight"}});new m({name:"constrainedMin",configured:true,constrained:true,names:{width:"minWidth",height:"minHeight"}});new m({name:"constrainedDock",configured:true,constrained:true,constrainedByMin:true,names:{width:"dockConstrainedWidth",height:"dockConstrainedHeight"}});for(p=0,i=r.length;p<i;++p){n=r[p];n.pairsByHeightOrdinal=j=[];for(q=0;q<i;++q){j.push({width:n,height:r[q]})}}}));(Ext.cmd.derive("Ext.layout.Layout",Ext.Base,{factoryConfig:{type:"layout"},isLayout:true,initialized:false,running:false,needsItemSize:true,setsItemSize:true,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},$configPrefixed:false,$configStrict:false,constructor:function(g){var e=this;e.id=Ext.id(null,e.type+"-");e.initConfig(g);delete e.type;e.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(i){var j=this,k=j.context,h;if(j.lastWidthModel!==i.widthModel){if(j.lastWidthModel){h=true}j.lastWidthModel=i.widthModel}if(j.lastHeightModel!==i.heightModel){if(j.lastWidthModel){h=true}j.lastHeightModel=i.heightModel}if(h){(k=i.context).clearTriggers(j,false);k.clearTriggers(j,true);j.triggerCount=0}},finishedLayout:function(d){this.lastWidthModel=d.widthModel;this.lastHeightModel=d.heightModel;this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(d){return this.autoSizePolicy},getScrollerEl:Ext.emptyFn,isItemBoxParent:function(d){return false},isItemLayoutRoot:function(h){var i=h.getSizeModel(),j=i.width,k=i.height;if(!h.componentLayout.lastComponentSize&&(j.calculated||k.calculated)){return false}return !j.shrinkWrap&&!k.shrinkWrap},isItemShrinkWrap:function(d){return d.shrinkWrap},isRunning:function(){return !!this.ownerContext},getItemsRenderTree:function(n,q){var i=n.length,m,l,p,r;if(i){r=[];for(m=0;m<i;++m){l=n[m];if(!l.rendered){if(q&&(q[l.id]!==undefined)){p=q[l.id]}else{this.configureItem(l);p=l.getRenderTree();if(q){q[l.id]=p}}if(p){r.push(p)}}}}return r},finishRender:Ext.emptyFn,finishRenderItems:function(i,m){var j=m.length,l,k;for(l=0;l<j;l++){k=m[l];if(k.rendering){k.finishRender(l)}}},renderChildren:function(){var h=this,i=h.getLayoutItems(),g=h.getRenderTarget();h.renderItems(i,g)},renderItems:function(p,i){var k=this,l=p.length,n=0,m;if(l){Ext.suspendLayouts();for(;n<l;n++){m=p[n];if(m&&!m.rendered){k.renderItem(m,i,n)}else{if(!k.isValidParent(m,i,n)){k.moveItem(m,i,n)}else{k.configureItem(m)}}}Ext.resumeLayouts(true)}},isValidParent:function(j,i,m){var k=(i&&i.dom)||i,l=this.getItemLayoutEl(j);if(l&&k){if(typeof m==="number"){m=this.getPositionOffset(m);return l===k.childNodes[m]}return l.parentNode===k}return false},getItemLayoutEl:function(i){var h=i.el?i.el.dom:Ext.getDom(i),k=h.parentNode,j;if(k){j=k.className;if(j&&j.indexOf("x-resizable-wrap")!==-1){h=h.parentNode}}return h},getPositionOffset:function(d){return d},configureItem:function(d){d.ownerLayout=this},renderItem:function(i,h,k){var j=this;if(!i.rendered){j.configureItem(i);i.render(h,k)}},moveItem:function(h,g,i){g=g.dom||g;if(typeof i==="number"){i=g.childNodes[i]}g.insertBefore(h.el.dom,i||null);h.container=Ext.get(g);this.configureItem(h)},onContentChange:function(){this.owner.updateLayout();return true},initLayout:function(){this.initialized=true},setOwner:function(d){this.owner=d},getLayoutItems:function(){return[]},onAdd:function(d){d.ownerLayout=this},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(i){var j=this,k=i.el,l=j.owner,m;if(i.rendered){m=[].concat(j.itemCls||[]);if(l.itemCls){m=Ext.Array.push(m,l.itemCls)}if(m.length){k.removeCls(m)}}delete i.ownerLayout},afterCollapse:function(g,e){if(e){this.onContentChange(g)}},afterExpand:function(g,e){if(e){this.onContentChange(g)}},destroy:function(){var g=this,e;if(g.targetCls){e=g.getTarget();if(e){e.removeCls(g.targetCls)}}g.onDestroy();g.callParent()},sortWeightedItems:function(k,h){for(var j=0,i=k.length;j<i;++j){k[j].$i=j}Ext.Array.sort(k,function(d,e){var c=e.weight-d.weight;if(!c){c=d.$i-e.$i;if(d[h]){c=-c}}return c});for(j=0;j<i;++j){delete k[j].$i}}},1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.layout,"Layout"],function(){var d=this;d.prototype.sizeModels=d.sizeModels=Ext.layout.SizeModel.sizeModels}));(Ext.cmd.derive("Ext.layout.container.Container",Ext.layout.Layout,{alternateClassName:"Ext.layout.ContainerLayout",type:"container",beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,activeItemCount:0,renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:true,usesContainerWidth:true,usesHeight:true,usesWidth:true,constructor:function(){Ext.layout.Layout.prototype.constructor.apply(this,arguments);this.mixins.elementCt.constructor.call(this)},destroy:function(){Ext.layout.Layout.prototype.destroy.call(this);this.mixins.elementCt.destroy.call(this)},beginLayout:function(d){Ext.layout.Layout.prototype.beginLayout.apply(this,arguments);d.targetContext=d.paddingContext=d.getEl("getTarget",this);this.cacheChildItems(d)},beginLayoutCycle:function(g,i){var h=this;Ext.layout.Layout.prototype.beginLayoutCycle.apply(this,arguments);if(i){if(h.usesContainerHeight){++g.consumersContainerHeight}if(h.usesContainerWidth){++g.consumersContainerWidth}}},cacheChildItems:function(l){var m=this,p,i,r,n,q;if(m.needsItemSize||m.setsItemSize){p=l.context;i=l.childItems=[];r=l.visibleItems=m.getVisibleItems();n=r.length;for(q=0;q<n;++q){i.push(p.getCmp(r[q]))}}},cacheElements:function(){var d=this.owner;this.attachChildEls(d.el,d)},calculate:function(g){var h=g.props,i=g.el;if(g.widthModel.shrinkWrap&&isNaN(h.width)){g.setContentWidth(i.getWidth())}if(g.heightModel.shrinkWrap&&isNaN(h.height)){g.setContentHeight(i.getHeight())}},configureItem:function(l){var m=this,k=m.itemCls,n=m.owner.itemCls,p,j;l.ownerLayout=m;if(k){if(typeof k==="string"){j=[k]}else{j=k;p=!!j}}if(n){if(p){j=Ext.Array.clone(j)}j=Ext.Array.push(j||[],n)}if(j){l.addCls(j)}},doRenderBody:function(g,e){this.renderItems(g,e);this.renderContent(g,e)},doRenderContainer:function(l,i){var k=i.$comp.layout,m=k.getRenderTpl(),j=k.getRenderData();m.applyOut(j,l)},doRenderItems:function(j,h){var i=h.$layout,k=i.getRenderTree();if(k){Ext.DomHelper.generateMarkup(k,j)}},finishRender:function(){var h=this,g,i;Ext.layout.Layout.prototype.finishRender.call(this);h.cacheElements();g=h.getRenderTarget();i=h.getLayoutItems();h.finishRenderItems(g,i)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(y,u){var x=y.targetContext,v=x.getFrameInfo(),r=y.paddingContext.getPaddingInfo(),s=0,q=0,w,t,z,p;if(!y.widthModel.shrinkWrap){++q;z=u?x.getDomProp("width"):x.getProp("width");w=(typeof z==="number");if(w){++s;z-=v.width+r.width;if(z<0){z=0}}}if(!y.heightModel.shrinkWrap){++q;p=u?x.getDomProp("height"):x.getProp("height");t=(typeof p==="number");if(t){++s;p-=v.height+r.height;if(p<0){p=0}}}return{width:z,height:p,needed:q,got:s,gotAll:s===q,gotWidth:w,gotHeight:t}},getPositionOffset:function(g){if(!this.createsInnerCt){var e=this.owner.itemNodeOffset;if(e){g+=e}}return g},getLayoutItems:function(){var g=this.owner,e=g&&g.items;return(e&&e.items)||[]},getRenderData:function(){var d=this.owner;return{$comp:d,$layout:this,ownerId:d.id}},getRenderedItems:function(){var m=this,i=m.getRenderTarget(),r=m.getLayoutItems(),n=r.length,l=[],q,p;for(q=0;q<n;q++){p=r[q];if(p.rendered&&m.isValidParent(p,i,q)){l.push(p)}}return l},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var g=this,e=Ext.XTemplate.getTpl(this,"renderTpl");if(!e.renderContent){g.owner.setupRenderTpl(e)}return e},getRenderTree:function(){var k,i=this.owner.items,h,j={};do{h=i.generation;k=this.getItemsRenderTree(this.getLayoutItems(),j)}while(i.generation!==h);return k},renderChildren:function(){var l=this,k=l.owner.items,i=l.getRenderTarget(),j,m;do{j=k.generation;m=l.getLayoutItems();l.renderItems(m,i)}while(k.generation!==j)},getScrollbarsNeeded:function(t,n,u,p){var v=Ext.getScrollbarSize(),r=typeof t==="number",m=typeof n==="number",q=0,s=0;if(!v.width){return 0}if(m&&n<p){s=2;t-=v.width}if(r&&t<u){q=1;if(!s&&m){n-=v.height;if(n<p){s=2}}}return s+q},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var i=this.getRenderTarget(),n=this.getLayoutItems(),k=n.length,p=[],m,l;for(m=0;m<k;m++){l=n[m];if(l.rendered&&this.isValidParent(l,i,m)&&l.hidden!==true&&!l.floated){p.push(l)}}return p},getMoveAfterIndex:function(d){return this.owner.items.indexOf(d)+1},moveItemBefore:function(l,k){var p=this.owner,n=p.items,m=n.indexOf(l),j;if(l===k){return l}if(k){j=n.indexOf(k);if(m>-1&&m<j){--j}}else{j=n.length}return p.insert(j,l)},setupRenderTpl:function(d){d.renderBody=this.doRenderBody;d.renderContainer=this.doRenderContainer;d.renderItems=this.doRenderItems},getContentTarget:function(){return this.owner.getDefaultContentTarget()},onAdd:function(d){if(!d.liquidLayout){++this.activeItemCount}Ext.layout.Layout.prototype.onAdd.call(this,d)},onRemove:function(e,g){if(!e.liquidLayout){--this.activeItemCount}Ext.layout.Layout.prototype.onRemove.call(this,e,g)}},1,0,0,0,["layout.container"],[[Ext.util.ElementContainer.prototype.mixinId||Ext.util.ElementContainer.$className,Ext.util.ElementContainer]],[Ext.layout.container,"Container",Ext.layout,"ContainerLayout"],0));(Ext.cmd.derive("Ext.layout.container.Auto",Ext.layout.container.Container,{type:"autocontainer",childEls:["outerCt","innerCt"],reserveScrollbar:false,managePadding:true,manageOverflow:false,needsItemSize:false,setsItemSize:false,lastOverflowAdjust:{width:0,height:0},outerCtCls:"x-autocontainer-outerCt",innerCtCls:"x-autocontainer-innerCt",renderTpl:['<div id="{ownerId}-outerCt" data-ref="outerCt" class="{outerCtCls}" role="presentation">','<div id="{ownerId}-innerCt" data-ref="innerCt" style="{%this.renderPadding(out, values)%}" ','<tpl if="!$comp.html">role="presentation"</tpl>','class="{innerCtCls}">',"{%this.renderBody(out,values)%}","</div>","</div>"],beginLayout:function(d){Ext.layout.container.Container.prototype.beginLayout.apply(this,arguments);this.initContextItems(d)},beforeLayoutCycle:function(h){var j=this.owner,i=j.inheritedState,k=j.inheritedStateInner;if(!i||i.invalid){i=j.getInherited();k=j.inheritedStateInner}if(h.widthModel.shrinkWrap){k.inShrinkWrapTable=true}else{delete k.inShrinkWrapTable}},beginLayoutCycle:function(y){var t=this,A=t.outerCt,v=t.lastOuterCtWidth||"",w=t.lastOuterCtHeight||"",s=t.lastOuterCtTableLayout||"",B=y.state,r,x,q,z,u;Ext.layout.container.Container.prototype.beginLayoutCycle.apply(this,arguments);x=q=z="";if(!y.widthModel.shrinkWrap){x="100%";u=t.owner.inheritedStateInner;r=t.getOverflowXStyle(y);z=(u.inShrinkWrapTable||r==="auto"||r==="scroll")?"":"fixed"}if(!y.heightModel.shrinkWrap&&!Ext.supports.PercentageHeightOverflowBug){q="100%"}if((x!==v)||t.hasOuterCtPxWidth){A.setStyle("width",x);t.lastOuterCtWidth=x;t.hasOuterCtPxWidth=false}if(z!==s){A.setStyle("table-layout",z);t.lastOuterCtTableLayout=z}if((q!==w)||t.hasOuterCtPxHeight){A.setStyle("height",q);t.lastOuterCtHeight=q;t.hasOuterCtPxHeight=false}if(t.hasInnerCtPxHeight){t.innerCt.setStyle("height","");t.hasInnerCtPxHeight=false}B.overflowAdjust=B.overflowAdjust||t.lastOverflowAdjust},calculate:function(k){var m=this,l=k.state,i=m.getContainerSize(k,true),j=l.calculatedItems||(l.calculatedItems=m.calculateItems?m.calculateItems(k,i):true);m.setCtSizeIfNeeded(k,i);if(j&&k.hasDomProp("containerChildrenSizeDone")){m.calculateContentSize(k);if(i.gotAll){if(m.manageOverflow&&!k.state.secondPass&&!m.reserveScrollbar){m.calculateOverflow(k,i)}return}}m.done=false},calculateContentSize:function(l){var m=this,r=((l.widthModel.shrinkWrap?1:0)|(l.heightModel.shrinkWrap?2:0)),p=(r&1)||undefined,k=(r&2)||undefined,n=0,q=l.props;if(p){if(isNaN(q.contentWidth)){++n}else{p=undefined}}if(k){if(isNaN(q.contentHeight)){++n}else{k=undefined}}if(n){if(p&&!l.setContentWidth(m.measureContentWidth(l))){m.done=false}if(k&&!l.setContentHeight(m.measureContentHeight(l))){m.done=false}}},calculateOverflow:function(t){var p=this,u,m,v,q,r,s,n;r=(p.getOverflowXStyle(t)==="auto");s=(p.getOverflowYStyle(t)==="auto");if(r||s){v=Ext.getScrollbarSize();n=t.overflowContext.el.dom;q=0;if(n.scrollWidth>n.clientWidth){q|=1}if(n.scrollHeight>n.clientHeight){q|=2}u=(s&&(q&2))?v.width:0;m=(r&&(q&1))?v.height:0;if(u!==p.lastOverflowAdjust.width||m!==p.lastOverflowAdjust.height){p.done=false;t.invalidate({state:{overflowAdjust:{width:u,height:m},overflowState:q,secondPass:true}})}}},completeLayout:function(d){this.lastOverflowAdjust=d.state.overflowAdjust},doRenderBody:function(m,k){var l=k.$layout,p=Ext.XTemplate,j=l.beforeBodyTpl,n=l.afterBodyTpl;if(j){p.getTpl(l,"beforeBodyTpl").applyOut(k,m)}this.renderItems(m,k);this.renderContent(m,k);if(n){p.getTpl(l,"afterBodyTpl").applyOut(k,m)}},doRenderPadding:function(l,j){var k=j.$layout,m=j.$layout.owner,i=m[m.contentPaddingProperty];if(k.managePadding&&i){l.push("padding:",m.unitizeBox(i))}},finishedLayout:function(e){var g=this.innerCt;Ext.layout.container.Container.prototype.finishedLayout.apply(this,arguments);if(Ext.isIE8){g.repaint()}if(Ext.isOpera){g.setStyle("position","relative");g.dom.scrollWidth;g.setStyle("position","")}},getContainerSize:function(j,i){var k=Ext.layout.container.Container.prototype.getContainerSize.apply(this,arguments),h=j.state.overflowAdjust;if(h){k.width-=h.width;k.height-=h.height}return k},getRenderData:function(){var g=this,e=Ext.layout.container.Container.prototype.getRenderData.call(this);e.innerCtCls=g.innerCtCls;e.outerCtCls=g.outerCtCls;return e},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},getOverflowXStyle:function(d){return d.overflowXStyle||(d.overflowXStyle=this.owner.scrollFlags.overflowX||d.overflowContext.getStyle("overflow-x"))},getOverflowYStyle:function(d){return d.overflowYStyle||(d.overflowYStyle=this.owner.scrollFlags.overflowY||d.overflowContext.getStyle("overflow-y"))},initContextItems:function(j){var k=this,h=j.target,i=k.owner.getOverflowEl();j.outerCtContext=j.getEl("outerCt",k);j.innerCtContext=j.getEl("innerCt",k);j.overflowContext=(i===j.el)?j:j.getEl(i);if(h[h.contentPaddingProperty]!==undefined){j.paddingContext=j.innerCtContext}},initLayout:function(){var g=this,h=Ext.getScrollbarSize().width,i=g.owner;Ext.layout.container.Container.prototype.initLayout.call(this);if(h&&g.manageOverflow&&!g.hasOwnProperty("lastOverflowAdjust")){if(i.scrollable||g.reserveScrollbar){g.lastOverflowAdjust={width:h,height:0}}}},measureContentHeight:function(h){var i=this.outerCt.getHeight(),g=h.target;if(this.managePadding&&(g[g.contentPaddingProperty]===undefined)){i+=h.targetContext.getPaddingInfo().height}return i},measureContentWidth:function(l){var j,m,n,p,k;if(this.chromeCellMeasureBug){j=this.innerCt.dom;m=j.style;n=m.display;if(n==="table-cell"){m.display="";j.offsetWidth;m.display=n}}if(Ext.isSafari){j=this.outerCt.dom;m=j.style;m.display="table-cell";j.offsetWidth;j.style.display=""}p=this.outerCt.getWidth();k=l.target;if(this.managePadding&&(k[k.contentPaddingProperty]===undefined)){p+=l.targetContext.getPaddingInfo().width}return p},setCtSizeIfNeeded:function(w,y){var v=this,p=y.height,t=w.paddingContext.getPaddingInfo(),r=v.getTarget(),q=v.getOverflowXStyle(w),x=(q==="auto"||q==="scroll"),z=Ext.getScrollbarSize(),u,s;if(p&&!w.heightModel.shrinkWrap){if(Ext.supports.PercentageHeightOverflowBug){u=true}if(Ext.isIE8){s=true}if((u||s)&&x&&(r.dom.scrollWidth>r.dom.clientWidth)){p=Math.max(p-z.height,0)}if(u){w.outerCtContext.setProp("height",p+t.height);v.hasOuterCtPxHeight=true}if(s){w.innerCtContext.setProp("height",p);v.hasInnerCtPxHeight=true}}},setupRenderTpl:function(d){Ext.layout.container.Container.prototype.setupRenderTpl.apply(this,arguments);d.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt},getScrollerEl:function(){return this.outerCt}},0,0,0,0,["layout.auto","layout.autocontainer"],0,[Ext.layout.container,"Auto"],function(){this.prototype.chromeCellMeasureBug=Ext.isChrome&&Ext.chromeVersion>=26}));(Ext.cmd.derive("Ext.ZIndexManager",Ext.Base,{alternateClassName:"Ext.WindowGroup",statics:{zBase:9000,activeCounter:0},constructor:function(g){var e=this;e.id=Ext.id(null,"zindex-mgr-");e.zIndexStack=new Ext.util.Collection({sorters:{sorterFn:function(c,d){var i=(c.alwaysOnTop||0)-(d.alwaysOnTop||0);if(!i){i=c.getActiveCounter()-d.getActiveCounter()}return i}},filters:{filterFn:function(c){return c.isVisible()}}});e.zIndexStack.addObserver(e);e.front=null;e.globalListeners=Ext.GlobalEvents.on({beforehide:e.onComponentShowHide,show:e.onComponentShowHide,scope:e,destroyable:true});if(g){if(g.isContainer){g.on("resize",e.onContainerResize,e);e.zseed=Ext.Number.from(e.rendered?g.getEl().getStyle("zIndex"):undefined,e.getNextZSeed());e.targetEl=g.getTargetEl();e.container=g}else{Ext.on("resize",e.onContainerResize,e);e.zseed=e.getNextZSeed();e.targetEl=Ext.get(g)}}else{e.zseed=e.getNextZSeed();Ext.onInternalReady(function(){Ext.on("resize",e.onContainerResize,e);e.targetEl=Ext.getBody()})}},getId:function(){return this.id},getNextZSeed:function(){return(Ext.ZIndexManager.zBase+=10000)},setBase:function(d){this.zseed=d;return this.onCollectionSort()},onCollectionSort:function(){var s=this,w=s.front,t=w&&w.containsFocus,r=s.zseed,q=s.zIndexStack.getRange(),u=q.length,x,v,y,z,i=false;for(x=0;x<u;x++){v=q[x];r=v.setZIndex(r);if(!v.hidden){z=v;if(v.modal){y=v}}}if(z!==w){if(w&&!w.destroying){w.setActive(false)}if(z){i=z.isFocusable(true)&&(z.modal||(z.focusOnToFront&&!z.preventFocusOnActivate));z.setActive(true,i)}}s.front=z;if(y){s.showModalMask(y)}else{s.hideModalMask()}return r},onComponentUpdate:function(d){if(this.zIndexStack.contains(d)){this.zIndexStack.sort()}},onComponentRender:function(d){this.zIndexStack.itemChanged(d,"hidden")},onComponentShowHide:function(g){var e=this.zIndexStack;if(g.isFloating()&&!this.hidingAll&&(e.getSource()||e).contains(g)){e.itemChanged(g,"hidden");e.sort()}},register:function(g){var e=this;if(g.zIndexManager){g.zIndexManager.unregister(g)}g.zIndexManager=e;if(!g.rendered){g.on("render",e.onComponentRender,e,{single:true})}e.zIndexStack.add(g)},unregister:function(g){var e=this;delete g.zIndexManager;g.un("render",e.onComponentRender,e);e.zIndexStack.remove(g);e.onCollectionSort()},get:function(d){return d.isComponent?d:this.zIndexStack.get(d)},bringToFront:function(q,m){var p=this,k=p.zIndexStack,r=k.last(),n,l;q=p.get(q);if(!q||k.find("alwaysOnTop",true)){return false}l=q.preventFocusOnActivate;q.preventFocusOnActivate=m;q.setActiveCounter(++Ext.ZIndexManager.activeCounter);q.preventFocusOnActivate=l;n=k.last();return(n===q&&n!==r)},sendToBack:function(d){d=this.get(d);if(d){d.setActiveCounter(0)}return d||null},hideAll:function(){var g=this.zIndexStack.getRange(),i=g.length,h;this.hidingAll=true;for(h=0;h<i;h++){g[h].hide()}this.hidingAll=false},hide:function(){var i=this,k=Ext.Element.getActiveElement(),l=i.tempHidden=i.zIndexStack.getRange(),p=l.length,m,n;i.focusRestoreElement=null;for(m=0;m<p;m++){n=l[m];if(n.el.contains(k)){i.focusRestoreElement=k}n.el.hide();n.hidden=true}},show:function(){var j=this,k,i=j.tempHidden,m=i?i.length:0,l;for(k=0;k<m;k++){l=i[k];l.el.show();l.hidden=false;l.setPosition(l.x,l.y)}j.tempHidden=null;if(j.focusRestoreElement){j.focusRestoreElement.focus()}},getActive:function(){return this.zIndexStack.last()},getBy:function(e,g){return this.zIndexStack.filterBy(e,g).getRange()},each:function(e,g){this.zIndexStack.each(e,g)},eachBottomUp:function(i,k){var n=this.zIndexStack.getRange(),l,p=n.length,m;for(l=0;l<p;l++){m=n[l];if(m.isComponent&&i.call(k||m,m)===false){return}}},eachTopDown:function(i,j){var m=this.zIndexStack.getRange(),k,l;for(k=m.length;k-->0;){l=m[k];if(l.isComponent&&i.call(j||l,l)===false){return}}},destroy:function(){var h=this,j=h.zIndexStack.getRange(),k=j.length,i;for(i=0;i<k;i++){Ext.destroy(j[i])}if(h.container){h.container.un("resize",h.onContainerResize,h)}else{if(h.targetEl){Ext.un("resize",h.onContainerResize,h)}}Ext.destroy(h.mask,h.maskShim,h.zIndexStack,h.globalListeners);h.zIndexStack=h.container=h.targetEl=h.globalListeners=null;h.callParent()},privates:{getMaskBox:function(){var d=this.mask.maskTarget;if(d.dom===document.body){return{height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth),x:0,y:0}}else{return d.getBox()}},onContainerResize:function(){var i=this,j=i.mask,k=i.maskShim,h;if(j&&j.isVisible()){j.hide();if(k){k.hide()}h=i.getMaskBox();if(k){k.setSize(h);k.show()}j.setSize(h);j.show()}},onMaskClick:function(){if(this.front){this.front.focus()}},showModalMask:function(s){var q=this,l=s.el,m=l.getStyle("zIndex")-4,r=s.floatParent?s.floatParent.getTargetEl():s.container,t=q.mask,n=q.maskShim,p;if(!t){q.mask=t=Ext.getBody().createChild({role:"presentation",cls:"x-mask x-border-box",style:"height:0;width:0"});t.setVisibilityMode(Ext.Element.DISPLAY);t.on("click",q.onMaskClick,q)}else{q.hideModalMask()}t.maskTarget=r;p=q.getMaskBox();if(n){n.setStyle("zIndex",m);n.show();n.setBox(p)}t.setStyle("zIndex",m);r.saveTabbableState({excludeRoot:l});t.show();t.setBox(p)},hideModalMask:function(){var e=this.mask,g=this.maskShim;if(e&&e.isVisible()){e.maskTarget.restoreTabbableState();e.maskTarget=undefined;e.hide();if(g){g.hide()}}}}},1,0,0,0,0,0,[Ext,"ZIndexManager",Ext,"WindowGroup"],function(){Ext.WindowManager=Ext.WindowMgr=new this()}));(Ext.cmd.derive("Ext.container.Container",Ext.Component,{alternateClassName:["Ext.Container","Ext.AbstractContainer"],renderTpl:"{%this.renderContainer(out,values)%}",autoDestroy:true,defaultType:"panel",detachOnRemove:true,items:undefined,layout:"auto",suspendLayout:false,_applyDefaultsOptions:{defaults:true,strict:false},ariaRole:"presentation",baseCls:"x-container",layoutCounter:0,add:function(){var u=this,x=Ext.Array.slice(arguments),z=(typeof x[0]==="number")?x.shift():-1,B=u.getLayout(),A=false,s,w,C,D,i,t,y,v;if(x.length===1&&Ext.isArray(x[0])){w=x[0];s=true}else{w=x}if(u.rendered){Ext.suspendLayouts()}y=w=u.prepareItems(w,true);D=w.length;if(!s&&D===1){y=w[0]}for(C=0;C<D;C++){i=w[C];t=(z<0)?u.items.length:(z+C);v=!!i.instancedCmp;delete i.instancedCmp;if(i.floating){(u.floatingItems||(u.floatingItems=new Ext.util.ItemCollection())).add(i);i.onAdded(u,t,v);delete i.$initParent;if(u.hasListeners.add){u.fireEvent("add",u,i,t)}}else{if((!u.hasListeners.beforeadd||u.fireEvent("beforeadd",u,i,t)!==false)&&u.onBeforeAdd(i)!==false){u.items.insert(t,i);i.onAdded(u,t,v);delete i.$initParent;u.onAdd(i,t);B.onAdd(i,t);A=true;if(u.hasListeners.add){u.fireEvent("add",u,i,t)}}}}if(A){u.updateLayout()}if(u.rendered){Ext.resumeLayouts(true)}return y},onAdded:function(h,g,i){Ext.Component.prototype.onAdded.call(this,h,g,i);this.containerOnAdded(h,i)},onRemoved:function(d){this.containerOnRemoved(d);Ext.Component.prototype.onRemoved.apply(this,arguments)},afterComponentLayout:function(){var j=this.floatingItems,k,h,i;Ext.Component.prototype.afterComponentLayout.apply(this,arguments);if(j){j=j.items;k=j.length;for(h=0;h<k;h++){i=j[h];if(!i.rendered&&i.autoShow){i.show()}}}},afterLayout:function(g){var h=this,i=h.getScrollable();++h.layoutCounter;if(i&&h.layoutCounter>1){i.refresh()}if(h.hasListeners.afterlayout){h.fireEvent("afterlayout",h,g)}},beforeDestroy:function(){var j=this,k=j.items,i=j.floatingItems,c;if(k){while((c=k.first())){j.doRemove(c,true)}}if(i){while((c=i.first())){j.doRemove(c,true)}}Ext.destroy(j.layout);Ext.Component.prototype.beforeDestroy.call(this)},destroy:function(){var d=this;Ext.Component.prototype.destroy.call(this);if(d.items){d.items.destroy()}if(d.floatingItems){d.floatingItems.destroy()}d.refs=d.items=d.floatingItems=d.layout=null},beforeRender:function(){var h=this,i=h.getLayout(),g;h.preventChildDisable=true;Ext.Component.prototype.beforeRender.call(this);h.preventChildDisable=false;if(!i.initialized){i.initLayout()}g=i.targetCls;if(g){h.applyTargetCls(g)}},cascade:function(i,c,x){var q=this,u=q.items?q.items.items:[],t=u.length,v=0,r,s=x?x.concat(q):[q],w=s.length-1;if(i.apply(c||q,s)!==false){for(;v<t;v++){r=u[v];if(r.cascade){r.cascade(i,c,x)}else{s[w]=r;i.apply(c||r,s)}}}return this},contains:function(g,h){var i=false;if(h){this.cascade(function(c){if(c.contains&&c.contains(g)){i=true;return false}});return i}else{return this.items.contains(g)||(this.floatingItems&&this.floatingItems.contains(g))}},disable:function(q,i){var m=this,n=m.disabled,l,r,p;Ext.Component.prototype.disable.call(this,q,i);if(!i&&!m.preventChildDisable&&!n){l=m.getChildItemsToDisable();r=l.length;for(p=0;p<r;p++){l[p].disable(q,true)}}return m},enable:function(q,i){var m=this,n=m.disabled,l,r,p;Ext.Component.prototype.enable.call(this,q,i);if(n){l=m.getChildItemsToDisable();r=l.length;for(p=0;p<r;p++){l[p].enable(q,true)}}return m},getChildByElement:function(m,r){var i,p,q=0,n=this.getRefItems(),l=n.length;m=Ext.getDom(m);for(;q<l;q++){i=n[q];p=i.getEl();if(p&&((p.dom===m)||p.contains(m))){return(r&&i.getChildByElement)?i.getChildByElement(m,r):i}}return null},getComponent:function(h){if(Ext.isObject(h)){h=h.getItemId()}var c=this.items.get(h),i=this.floatingItems;if(!c&&i&&typeof h!=="number"){c=i.get(h)}return c},getFocusEl:function(){var d=this.getDefaultFocus();if(d){return d}else{if(this.focusable){return this.getTargetEl()}}return undefined},getLayout:function(){var e=this,g=e.layout;if(!g||!g.isLayout){e.setLayout(g)}return e.layout},getRefItems:function(p){var i=this,n=i.items.items,q=n.length,m=0,l,r=[];for(;m<q;m++){l=n[m];r[r.length]=l;if(p&&l.getRefItems){r.push.apply(r,l.getRefItems(true))}}if(i.floatingItems){n=i.floatingItems.items;q=n.length;for(m=0;m<q;m++){l=n[m];r[r.length]=l;if(p&&l.getRefItems){r.push.apply(r,l.getRefItems(true))}}}return r},getDefaultFocus:function(){var e=this.defaultFocus,g;if(e){g=this.down(e)}return g},initComponent:function(){var d=this;Ext.Component.prototype.initComponent.call(this);d.getLayout();d.constructing=true;d.initItems();if(d.disabled){d.disabled=false;d.disable(true)}delete d.constructing},initItems:function(){var e=this,g=e.items;if(!g||!g.isMixedCollection){e.items=new Ext.util.ItemCollection();if(g){if(!Ext.isArray(g)){g=[g]}e.add(g)}}},initInheritedState:function(n,t){var p=this,s=p.controller,r=p.layout,q=p.session,m=p.viewModel,u=p.reference,v=p.referenceHolder;Ext.Component.prototype.initInheritedState.call(this,n,t);if(p.collapsed){n.collapsed=true}p.initContainerInheritedState(n,t);if(r&&r.initInheritedState){r.initInheritedState(n,t)}},insert:function(g,h){var i;if(h&&h.isComponent){i=this.items.indexOf(h);if(i!==-1){return this.move(i,g)}}return this.add(g,h)},lookupComponent:function(d){if(!d.isComponent){if(typeof d==="string"){d=Ext.ComponentManager.get(d)}else{d=Ext.ComponentManager.create(d,this.defaultType)}}return d},move:function(l,i){var j=this,m=j.items,k;if(l.isComponent){l=m.indexOf(l)}k=m.getAt(l);if(l!==i){k=m.removeAt(l);if(k===false){return false}i=Math.min(i,m.getCount());m.insert(i,k);j.onMove(k,l,i);if(j.hasListeners.childmove){j.fireEvent("childmove",j,k,l,i)}j.updateLayout()}return k},moveBefore:function(g,e){if(g!==e){g=this.layout.moveItemBefore(g,e)}return g},moveAfter:function(i,h){var j=this.layout,k;if(i!==h){k=h?j.getMoveAfterIndex(h):0;i=j.moveItemBefore(i,this.items.getAt(k))}return i},nextChild:function(i,r){var n=this,q=n.items,m=q.indexOf(i),p=0,s=q.length,t;if(m!==-1){if(r){for(;p<s;p++){t=q.getAt(m+p);if(!t||Ext.ComponentQuery.is(t,r)){break}}}else{t=q.getAt(m+1)}}return t||null},onAdd:Ext.emptyFn,onBeforeAdd:function(e){var g=e.ownerCt;if(g&&g!==this){g.remove(e,false)}},onMove:Ext.emptyFn,onRemove:Ext.emptyFn,onPosition:function(){Ext.Component.prototype.onPosition.apply(this,arguments);this.repositionFloatingItems()},onResize:function(){Ext.Component.prototype.onResize.apply(this,arguments);this.repositionFloatingItems()},prevChild:function(i,r){var n=this,q=n.items,m=q.indexOf(i),p=0,s=q.length,t;if(m!==-1){if(r){for(;p<s;p++){t=q.getAt(m-p);if(!t||Ext.ComponentQuery.is(t,r)){break}}}else{t=q.getAt(m-1)}}return t||null},remove:function(j,k){var i=this,c;if(i.destroyed||i.destroying){return}c=i.getComponent(j);if(c&&(!i.hasListeners.beforeremove||i.fireEvent("beforeremove",i,c)!==false)){i.doRemove(c,k);if(i.hasListeners.remove){i.fireEvent("remove",i,c)}if(!i.destroying&&!c.floating){i.updateLayout()}}return c},removeAll:function(q){var i=this,n,s=i.floatingItems,r=[],p=0,t,m;if(s){n=i.items.items.concat(s.items)}else{n=i.items.items.slice()}t=n.length;Ext.suspendLayouts();i.removingAll=true;for(;p<t;p++){m=n[p];i.remove(m,q);if(m.ownerCt!==i){r.push(m)}}i.removingAll=false;Ext.resumeLayouts(!!t);return r},setLayout:function(k){var l=this,n=l.layout,j=n&&n.isLayout,p,m;if(typeof k==="string"){k={type:k}}m=k.type;if(j&&(!m||(m===n.type))){delete k.type;n.setConfig(k)}else{if(j){n.setOwner(null)}p=l.self.prototype.layout;if(typeof p==="string"){k.type=m||p}else{Ext.merge(Ext.merge({},p),k)}k=this.layout=Ext.Factory.layout(k);k.setOwner(this)}if(l.rendered){l.updateLayout()}},setActiveItem:function(d){return this.getLayout().setActiveItem(d)},privates:{applyDefaults:function(i){var h=this,g=h.defaults;if(g){if(Ext.isFunction(g)){g=g.call(h,i)}if(Ext.isString(i)){i=Ext.ComponentManager.get(i)}if(i.isComponent){i.setConfig(g,null,h._applyDefaultsOptions)}else{i=h.getConfigurator().merge(h,Ext.Object.fork(g),i)}}return i},applyReference:function(d){return this.setupReference(d)},applyTargetCls:function(d){this.layoutTargetCls=d},detachComponent:function(d){Ext.getDetachedBody().appendChild(d.getEl())},doRemove:function(p,q){q=q===true||(q!==false&&this.autoDestroy);var l=this,m=l.layout,r=m&&l.rendered,n=p.destroying||q,k=p.floating;if(k){l.floatingItems.remove(p)}else{l.items.remove(p)}if(r&&!k){if(m.running){Ext.Component.cancelLayout(p,n)}m.onRemove(p,n)}p.onRemoved(n);l.onRemove(p,n);if(q){p.destroy()}else{if(r&&!k){m.afterRemove(p)}if(l.detachOnRemove&&p.rendered){l.detachComponent(p)}}},finishRenderChildren:function(){Ext.Component.prototype.finishRenderChildren.call(this);var d=this.getLayout();if(d){d.finishRender()}},getChildItemsToDisable:function(){return this.query("[isFormField],[isFocusableContainer],button")},getContentTarget:function(){return this.getLayout().getContentTarget()},getDefaultContentTarget:function(){return this.el},getScrollerEl:function(){return this.layout.getScrollerEl()||Ext.Component.prototype.getScrollerEl.call(this)},prepareItems:function(n,l){if(Ext.isArray(n)){n=n.slice()}else{n=[n]}var i=this,m=0,p=n.length,k;for(;m<p;m++){k=n[m];if(k==null){Ext.Array.erase(n,m,1);--m;--p}else{if(l){k=this.applyDefaults(k)}k.$initParent=i;if(k.isComponent){k.instancedCmp=true}n[m]=i.lookupComponent(k);delete k.$initParent}}return n},repositionFloatingItems:function(){var j=this.floatingItems,k,h,i;if(j){j=j.items;k=j.length;for(h=0;h<k;h++){i=j[h];if(i.el&&!i.hidden){i.setPosition(i.x,i.y)}}}},_noMargin:{"margin-top":"","margin-right":"","margin-bottom":"","margin-left":""},resetItemMargins:function(){var k=this.items.items,i=k.length,j=this._noMargin,h;while(i--){h=k[i];h.margin$=null;h.el.setStyle(j)}},setupRenderTpl:function(d){Ext.Component.prototype.setupRenderTpl.apply(this,arguments);this.getLayout().setupRenderTpl(d)}}},0,["container"],["component","box","container"],{component:true,box:true,container:true},["widget.container"],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable],[Ext.mixin.Container.prototype.mixinId||Ext.mixin.Container.$className,Ext.mixin.Container]],[Ext.container,"Container",Ext,"Container",Ext,"AbstractContainer"],0));(Ext.cmd.derive("Ext.layout.container.Editor",Ext.layout.container.Container,{autoSizeDefault:{width:"field",height:"field"},sizePolicies:{$:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},boundEl:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1}},boundEl:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},boundEl:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(j){var k=this,m=k.owner.autoSize,l=m&&m.width,i=k.sizePolicies;i=i[l]||i.$;l=m&&m.height;i=i[l]||i.$;return i},calculate:function(j){var k=this,n=k.owner,p=n.autoSize,l,m;if(p===true){p=k.autoSizeDefault}if(p){l=k.getDimension(n,p.width,"getWidth",n.width);m=k.getDimension(n,p.height,"getHeight",n.height)}j.childItems[0].setSize(l,m);j.setWidth(l);j.setHeight(m);j.setContentSize(l||n.field.getWidth(),m||n.field.getHeight())},getDimension:function(k,j,h,i){switch(j){case"boundEl":return k.boundEl[h]();case"field":return undefined;default:return i}}},0,0,0,0,["layout.editor"],0,[Ext.layout.container,"Editor"],0));(Ext.cmd.derive("Ext.Editor",Ext.container.Container,{layout:"editor",allowBlur:true,revertInvalid:true,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:false,swallowKeys:true,completeOnEnter:true,cancelOnEsc:true,updateEl:false,focusOnToFront:false,baseCls:"x-editor",editing:false,preventDefaultAlign:true,specialKeyDelay:1,initComponent:function(){var g=this,e=g.field=Ext.ComponentManager.create(g.field||{},"textfield");e.msgTarget=e.msgTarget||"qtip";g.mon(e,{scope:g,specialkey:g.onSpecialKey});if(e.grow){g.mon(e,"autosize",g.onFieldAutosize,g,{delay:1})}g.floating={constrain:g.constrain};g.items=e;Ext.container.Container.prototype.initComponent.apply(this,arguments)},onAdded:function(d){this.ownerCmp=d},onFieldAutosize:function(){this.updateLayout()},afterRender:function(l,m){var k=this,i=k.field,j=i.inputEl;Ext.container.Container.prototype.afterRender.apply(this,arguments);if(j){j.dom.name="";if(k.swallowKeys){j.swallowEvent(["keypress","keydown"])}}},onSpecialKey:function(k,l){var m=this,p=l.getKey(),r=m.completeOnEnter&&p===l.ENTER,n=m.cancelOnEsc&&p===l.ESC,q=m.specialKeyTask;if(r||n){l.stopEvent();if(!q){m.specialKeyTask=q=new Ext.util.DelayedTask()}q.delay(m.specialKeyDelay,r?m.completeEdit:m.cancelEdit,m)}m.fireEvent("specialkey",m,k,l)},startEdit:function(r,p,t){var q=this,n=q.field,l,s,m;q.completeEdit();q.boundEl=Ext.get(r);l=q.boundEl.dom;p=Ext.isDefined(p)?p:Ext.String.trim(l.textContent||l.innerText||l.innerHTML);if(q.fireEvent("beforestartedit",q,q.boundEl,p)!==false){Ext.suspendLayouts();if(!q.rendered){s=q.ownerCt;m=q.renderTo||(s&&s.getEl())||Ext.getBody();Ext.fly(m).position();q.renderTo=m}q.startValue=p;q.show();q.realign(true);n.suspendEvents();n.setValue(p);n.resetOriginalValue();n.resumeEvents();if(t!==false){n.focus(n.selectOnFocus?true:[Number.MAX_VALUE])}if(n.autoSize){n.autoSize()}Ext.resumeLayouts(true);q.toggleBoundEl(false);q.editing=true}},realign:function(g){var e=this;if(g===true){e.updateLayout()}e.alignTo(e.boundEl,e.alignment,e.offsets)},completeEdit:function(m){var k=this,i=k.field,l=k.startValue,j;if(!k.editing){return}if(i.assertValue){i.assertValue()}j=k.getValue();if(!i.isValid()){if(k.revertInvalid!==false){k.cancelEdit(m)}return}if(k.ignoreNoChange&&!i.didValueChange(j,l)){k.onEditComplete(m);return}if(k.fireEvent("beforecomplete",k,j,l)!==false){j=k.getValue();if(k.updateEl&&k.boundEl){k.boundEl.setHtml(j)}k.onEditComplete(m);k.fireEvent("complete",k,j,l)}},onShow:function(){var d=this;Ext.container.Container.prototype.onShow.apply(this,arguments);d.fireEvent("startedit",d,d.boundEl,d.startValue)},cancelEdit:function(m){var k=this,l=k.startValue,i=k.field,j;if(k.editing){if(i){j=k.editedValue=k.getValue();i.suspendEvents();k.setValue(l);i.resumeEvents()}k.onEditComplete(m);k.fireEvent("canceledit",k,j,l);delete k.editedValue}},onEditComplete:function(d){this.editing=false;if(d!==true){this.hide();this.toggleBoundEl(true)}},onFocusLeave:function(e){var g=this;if(g.allowBlur===true&&g.editing){g.completeEdit()}Ext.container.Container.prototype.onFocusLeave.call(this,e)},onHide:function(){var g=this,e=g.field;if(g.editing){g.completeEdit()}else{if(e.collapse){e.collapse()}}Ext.container.Container.prototype.onHide.apply(this,arguments)},getValue:function(){return this.field.getValue()},setValue:function(d){this.field.setValue(d)},toggleBoundEl:function(d){if(this.hideEl!==false){this.boundEl.setVisible(d)}},beforeDestroy:function(){var e=this,g=e.specialKeyTask;if(g){g.cancel()}e.specialKeyTask=e.field=e.boundEl=Ext.destroy(e.field);Ext.container.Container.prototype.beforeDestroy.apply(this,arguments)}},0,["editor"],["component","box","container","editor"],{component:true,box:true,container:true,editor:true},["widget.editor"],0,[Ext,"Editor"],0));(Ext.cmd.derive("Ext.Img",Ext.Component,{autoEl:"img",baseCls:"x-img",config:{src:null},alt:"",title:"",imgCls:"",maskOnDisable:false,initComponent:function(){if(this.glyph){this.autoEl="div"}Ext.Component.prototype.initComponent.call(this)},applySrc:function(d){return d&&Ext.resolveResource(d)},getElConfig:function(){var m=this,k=m.autoEl,q=Ext.Component.prototype.getElConfig.call(this),l=Ext._glyphFontFamily,n=m.glyph,r,p;if(k==="img"||(Ext.isObject(k)&&k.tag==="img")){r=q}else{if(m.glyph){if(typeof n==="string"){p=n.split("@");n=p[0];l=p[1]||l}q.html="&#"+n+";";if(l){q.style=q.style||{};q.style.fontFamily=l}q.role="img"}else{q.cn=[r={tag:"img",id:m.id+"-img"}]}}if(r){if(m.imgCls){r.cls=(r.cls?r.cls+" ":"")+m.imgCls}r.src=m.src||Ext.BLANK_IMAGE_URL}if(m.alt){(r||q).alt=m.alt}else{(r||q).alt=""}if(m.title){(r||q).title=m.title}return q},onRender:function(){var h=this,g=h.autoEl,i;Ext.Component.prototype.onRender.apply(this,arguments);i=h.el;if(g==="img"||(Ext.isObject(g)&&g.tag==="img")){h.imgEl=i}else{h.imgEl=i.getById(h.id+"-img")}},onDestroy:function(){var g=this,e=g.imgEl;if(e&&g.el!==e){e.destroy()}this.imgEl=null;Ext.Component.prototype.onDestroy.call(this)},getTitle:function(){return this.title},setTitle:function(g){var i=this,h=i.imgEl;i.title=g||"";if(h){h.dom.title=g||""}},getAlt:function(){return this.alt},setAlt:function(g){var i=this,h=i.imgEl;i.alt=g||"";if(h){h.dom.alt=g||""}},updateSrc:function(e){var g=this.imgEl;if(g){g.dom.src=e||Ext.BLANK_IMAGE_URL}},setGlyph:function(k){var l=this,j=Ext._glyphFontFamily,p=l.glyph,n=l.el,m;l.glyph=k;if(l.rendered&&k!==p){if(typeof k==="string"){m=k.split("@");k=m[0];j=m[1]||j}n.dom.innerHTML="&#"+k+";";if(j){n.setStyle("font-family",j)}}}},0,["image","imagecomponent"],["component","box","image","imagecomponent"],{component:true,box:true,image:true,imagecomponent:true},["widget.image","widget.imagecomponent"],0,[Ext,"Img"],0));(Ext.cmd.derive("Ext.util.StoreHolder",Ext.Base,{mixinId:"storeholder",bindStore:function(l,k,m){m=m||"store";var j=this,i=k?null:j[m];if(l!==i){if(i){j.onUnbindStore(i,k,m);if(j.isComponent&&m==="store"&&i.autoDestroy){i.destroy()}else{j.unbindStoreListeners(i)}}if(l){j[m]=l=Ext.data.StoreManager.lookup(l);j.bindStoreListeners(l);j.onBindStore(l,i)}else{j[m]=null}}return j},getStore:function(){return this.store},setStore:function(d){this.bindStore(d)},unbindStoreListeners:function(g){var e=this.storeListeners;if(e){g.un(e)}},bindStoreListeners:function(g){var e=this.getStoreListeners(g);if(e){e=Ext.apply({},e);if(!e.scope){e.scope=this}this.storeListeners=e;g.on(e)}},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn},0,0,0,0,0,0,[Ext.util,"StoreHolder"],0));(Ext.cmd.derive("Ext.LoadMask",Ext.Component,{isLoadMask:true,msg:"Loading...",msgCls:"x-mask-loading",msgWrapCls:"x-mask-msg",useMsg:true,useTargetEl:false,cls:"x-mask",componentCls:"x-border-box",ariaRole:"status",focusable:true,tabIndex:0,autoEl:{tag:"div",role:"status"},childEls:["msgWrapEl","msgEl","msgTextEl"],renderTpl:['<div id="{id}-msgWrapEl" data-ref="msgWrapEl" class="{[values.$comp.msgWrapCls]}">','<div id="{id}-msgEl" data-ref="msgEl" class="{[values.$comp.msgCls]} ',"x-",'mask-msg-inner {childElCls}">','<div id="{id}-msgTextEl" data-ref="msgTextEl" class="',"x-","mask-msg-text",'{childElCls}">{msg}</div>',"</div>","</div>"],maskOnDisable:false,skipLayout:true,constructor:function(h){var g=this,i;if(arguments.length===2){i=g.target=h;h=arguments[1]}else{i=h.target}Ext.Component.prototype.constructor.call(this,h);if(i.isComponent){g.ownerCt=i;g.hidden=true;g.renderTo=g.getMaskTarget();g.external=g.renderTo===Ext.getBody();g.bindComponent(i)}else{i=Ext.get(i);g.isElement=true;g.renderTo=g.target}g.render(g.renderTo);if(g.store){g.bindStore(g.store,true)}},initRenderData:function(){var d=Ext.Component.prototype.initRenderData.apply(this,arguments);d.msg=this.msg||"";return d},onRender:function(){Ext.Component.prototype.onRender.apply(this,arguments);this.maskEl=this.el},bindComponent:function(i){var g=this,h={scope:this,resize:g.sizeMask};if(g.external){h.added=g.onComponentAdded;h.removed=g.onComponentRemoved;if(i.floating){h.move=g.sizeMask;g.activeOwner=i}else{if(i.ownerCt){g.onComponentAdded(i.ownerCt)}}}g.mon(i,h);if(g.external){g.mon(Ext.GlobalEvents,{show:g.onContainerShow,hide:g.onContainerHide,expand:g.onContainerExpand,collapse:g.onContainerCollapse,scope:g})}},onComponentAdded:function(g){var e=this;delete e.activeOwner;e.floatParent=g;if(!g.floating){g=g.up("[floating]")}if(g){e.activeOwner=g;e.mon(g,"move",e.sizeMask,e);e.mon(g,"tofront",e.onOwnerToFront,e)}else{e.preventBringToFront=true}g=e.floatParent.ownerCt;if(e.rendered&&e.isVisible()&&g){e.floatOwner=g;e.mon(g,"afterlayout",e.sizeMask,e,{single:true})}},onComponentRemoved:function(k){var i=this,h=i.activeOwner,j=i.floatOwner;if(h){i.mun(h,"move",i.sizeMask,i);i.mun(h,"tofront",i.onOwnerToFront,i)}if(j){i.mun(j,"afterlayout",i.sizeMask,i)}delete i.activeOwner;delete i.floatOwner},afterRender:function(){var d=this;Ext.Component.prototype.afterRender.apply(this,arguments);if(Ext.isIE){d.el.on("mousedown",d.onMouseDown,d)}this.el.skipGarbageCollection=true},onMouseDown:function(e){var g=this.el;if(e.within(g)){e.preventDefault();g.focus()}},onOwnerToFront:function(g,e){this.el.setStyle("zIndex",e+1)},onContainerShow:function(d){if(!this.isHierarchicallyHidden()){this.onComponentShow()}},onContainerHide:function(d){if(this.isHierarchicallyHidden()){this.onComponentHide()}},onContainerExpand:function(d){if(!this.isHierarchicallyHidden()){this.onComponentShow()}},onContainerCollapse:function(d){if(this.isHierarchicallyHidden()){this.onComponentHide()}},onComponentHide:function(){var d=this;if(d.rendered&&d.isVisible()){d.hide();d.showNext=true}},onComponentShow:function(){if(this.showNext){this.show()}delete this.showNext},sizeMask:function(){var h=this,g=h.activeOwner||h.target,i=h.external?h.getOwner().el:h.getMaskTarget();if(h.rendered&&h.isVisible()){if(h.external){if(!h.isElement&&g.floating){h.onOwnerToFront(g,g.el.getZIndex())}h.el.setSize(i.getSize()).alignTo(i,"tl-tl")}h.msgWrapEl.center(h.el)}},bindStore:function(i,h){var g=this;Ext.destroy(g.proxyListeners);g.mixins.storeholder.bindStore.apply(g,arguments);i=g.store;if(i){while(i.getSource){i=i.getSource()}if(!i.loadsSynchronously()){g.proxyListeners=i.getProxy().on({exception:g.onLoad,scope:g,destroyable:true})}if(i.isLoading()){g.onBeforeLoad()}}},getStoreListeners:function(j){var h=this.onLoad,i=this.onBeforeLoad,k={cachemiss:i,cachefilled:{fn:h,buffer:100}};if(!j.loadsSynchronously()){k.beforeload=i;k.load=h}return k},onDisable:function(){Ext.Component.prototype.onDisable.apply(this,arguments);if(this.loading){this.onLoad()}},getOwner:function(){return this.ownerCt||this.ownerCmp||this.floatParent},getMaskTarget:function(){var d=this.getOwner();if(this.isElement){return this.target}return this.useTargetEl?d.getTargetEl():(d.getMaskTarget()||Ext.getBody())},onBeforeLoad:function(){var g=this,i=g.getOwner(),h;if(!g.disabled){g.loading=true;if(i.componentLayoutCounter){g.maybeShow()}else{h=i.afterComponentLayout;i.afterComponentLayout=function(){i.afterComponentLayout=h;h.apply(i,arguments);g.maybeShow()}}}},maybeShow:function(){var e=this,g=e.getOwner();if(!g.isVisible(true)){e.showNext=true}else{if(e.loading&&g.rendered){e.show()}}},hide:function(){var e=this,g=e.ownerCt;if(e.isElement){g.unmask();e.fireEvent("hide",this);return}if(g){g.enableTabbing();g.setMasked(false)}delete e.showNext;return Ext.Component.prototype.hide.apply(this,arguments)},show:function(){var d=this;if(d.isElement){d.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls);d.fireEvent("show",this);return}return Ext.Component.prototype.show.apply(this,arguments)},afterShow:function(){var e=this,g=e.ownerCt;e.loading=true;Ext.Component.prototype.afterShow.apply(this,arguments);g.disableTabbing();g.setMasked(true);e.el.restoreTabbableState();e.syncMaskState()},syncMaskState:function(){var g=this,h=g.ownerCt,i=g.el;if(g.isVisible()){if(g.hasOwnProperty("msgWrapCls")){i.dom.className=g.msgWrapCls}if(g.useMsg){g.msgTextEl.setHtml(g.msg)}else{g.msgEl.hide()}if(g.shim||Ext.useShims){i.enableShim(null,true)}else{i.disableShim()}if(h.el.contains(Ext.Element.getActiveElement())){g.focus()}g.sizeMask()}},onLoad:function(){this.loading=false;this.hide()},beforeDestroy:function(){this.ownerCt=null;this.bindStore(null);Ext.Component.prototype.beforeDestroy.call(this)},onDestroy:function(){var d=this;if(d.isElement){d.ownerCt.unmask()}Ext.Component.prototype.onDestroy.call(this)}},1,["loadmask"],["component","box","loadmask"],{component:true,box:true,loadmask:true},["widget.loadmask"],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext,"LoadMask"],0));(Ext.cmd.derive("Ext.layout.component.Component",Ext.layout.Layout,{type:"component",isComponentLayout:true,nullBox:{},usesContentHeight:true,usesContentWidth:true,usesHeight:true,usesWidth:true,widthCache:{},heightCache:{},beginLayoutCycle:function(E,I){var x=this,F=x.owner,B=E.ownerCtContext,A=E.heightModel,z=E.widthModel,y=F.el.dom===document.body,C=F.lastBox||x.nullBox,v=F.el.lastBox||x.nullBox,H=!y,D=E.isTopLevel,w,u,G,J;Ext.layout.Layout.prototype.beginLayoutCycle.call(this,E,I);if(I){if(x.usesContentWidth){++E.consumersContentWidth}if(x.usesContentHeight){++E.consumersContentHeight}if(x.usesWidth){++E.consumersWidth}if(x.usesHeight){++E.consumersHeight}if(B&&!B.hasRawContent){w=F.ownerLayout;if(w){if(w.usesWidth){++E.consumersWidth}if(w.usesHeight){++E.consumersHeight}}}}if(z.configured){G=F[z.names.width];if(D&&z.calculatedFrom){G=C.width}if(!y){H=x.setWidthInDom||(I?G!==v.width:z.constrained)}E.setWidth(G,H)}else{if(D){if(z.calculated){u=C.width;E.setWidth(u,u!==v.width)}u=C.x;E.setProp("x",u,u!==v.x)}}if(A.configured){J=F[A.names.height];if(D&&A.calculatedFrom){J=C.height}if(!y){H=I?J!==v.height:A.constrained}E.setHeight(J,H)}else{if(D){if(A.calculated){u=C.height;E.setHeight(u,u!==v.height)}u=C.y;E.setProp("y",u,u!==v.y)}}},finishedLayout:function(u){var p=this,i=u.children,v=p.owner,r,t,n,s,q;if(i){r=i.length;for(t=0;t<r;t++){n=i[t];n.el.lastBox=n.props}}u.previousSize=p.lastComponentSize;p.lastComponentSize=v.el.lastBox=q=u.props;s=v.lastBox||(v.lastBox={});s.x=q.x;s.y=q.y;s.width=q.width;s.height=q.height;s.invalid=false;Ext.layout.Layout.prototype.finishedLayout.call(this,u)},notifyOwner:function(i){var j=this,k=j.lastComponentSize,h=i.previousSize;j.owner.afterComponentLayout(k.width,k.height,h?h.width:undefined,h?h.height:undefined)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(j){var k=this,h=k.targetInfo,i;if(!h){i=j.getEl("getTarget",k);k.targetInfo=h={padding:i.getPaddingInfo(),border:i.getBorderInfo()}}return h},measureAutoDimensions:function(M,Q){var D=this,X=D.owner,G=X.layout,U=M.heightModel,R=M.widthModel,V=M.boxParent,J=M.isBoxParent,C=M.target,W=M.props,P,B={gotWidth:false,gotHeight:false,isContainer:(P=!M.hasRawContent)},E=Q||3,H,T,O=0,S=0,N,I,F,L,K;if(R.shrinkWrap&&M.consumersContentWidth){++O;H=!(E&1);if(P){if(H){B.contentWidth=0;B.gotWidth=true;++S}else{if((B.contentWidth=M.getProp("contentWidth"))!==undefined){B.gotWidth=true;++S}}}else{I=W.contentWidth;if(typeof I==="number"){B.contentWidth=I;B.gotWidth=true;++S}else{if(H){N=true}else{if(!M.hasDomProp("containerChildrenSizeDone")){N=false}else{if(J||!V||V.widthModel.shrinkWrap){N=true}else{N=V.hasDomProp("width")}}}if(N){if(H){F=0}else{if(G&&G.measureContentWidth){F=G.measureContentWidth(M)}else{if(C.cacheWidth){L=C.xtype+"-"+C.ui;K=D.widthCache;F=K[L]||(K[L]=D.measureContentWidth(M))}else{F=D.measureContentWidth(M)}}}if(!isNaN(B.contentWidth=F)){M.setContentWidth(F,true);B.gotWidth=true;++S}}}}}else{if(R.natural&&M.consumersWidth){++O;I=W.width;if(typeof I==="number"){B.width=I;B.gotWidth=true;++S}else{if(J||!V){N=true}else{N=V.hasDomProp("width")}if(N){if(!isNaN(B.width=D.measureOwnerWidth(M))){M.setWidth(B.width,false);B.gotWidth=true;++S}}}}}if(U.shrinkWrap&&M.consumersContentHeight){++O;T=!(E&2);if(P){if(T){B.contentHeight=0;B.gotHeight=true;++S}else{if((B.contentHeight=M.getProp("contentHeight"))!==undefined){B.gotHeight=true;++S}}}else{I=W.contentHeight;if(typeof I==="number"){B.contentHeight=I;B.gotHeight=true;++S}else{if(T){N=true}else{if(!M.hasDomProp("containerChildrenSizeDone")){N=false}else{if(X.noWrap){N=true}else{if(!R.shrinkWrap){N=(M.bodyContext||M).hasDomProp("width")}else{if(J||!V||V.widthModel.shrinkWrap){N=true}else{N=V.hasDomProp("width")}}}}}if(N){if(T){F=0}else{if(G&&G.measureContentHeight){F=G.measureContentHeight(M)}else{if(C.cacheHeight){L=C.xtype+"-"+C.ui;K=D.heightCache;F=K[L]||(K[L]=D.measureContentHeight(M))}else{F=D.measureContentHeight(M)}}}if(!isNaN(B.contentHeight=F)){M.setContentHeight(F,true);B.gotHeight=true;++S}}}}}else{if(U.natural&&M.consumersHeight){++O;I=W.height;if(typeof I==="number"){B.height=I;B.gotHeight=true;++S}else{if(J||!V){N=true}else{N=V.hasDomProp("width")}if(N){if(!isNaN(B.height=D.measureOwnerHeight(M))){M.setHeight(B.height,false);B.gotHeight=true;++S}}}}}if(V){M.onBoxMeasured()}B.gotAll=S===O;return B},measureContentWidth:function(d){return d.el.getWidth()-d.getFrameInfo().width},measureContentHeight:function(d){return d.el.getHeight()-d.getFrameInfo().height},measureOwnerHeight:function(d){return d.el.getHeight()},measureOwnerWidth:function(d){return d.el.getWidth()}},0,0,0,0,0,0,[Ext.layout.component,"Component"],0));(Ext.cmd.derive("Ext.layout.component.Auto",Ext.layout.component.Component,{type:"autocomponent",setHeightInDom:false,setWidthInDom:false,waitForOuterHeightInDom:false,waitForOuterWidthInDom:false,beginLayoutCycle:function(l,p){var m=this,j=m.lastWidthModel,k=m.lastHeightModel,n=m.owner.el;Ext.layout.component.Component.prototype.beginLayoutCycle.apply(this,arguments);if(j&&j.fixed&&l.widthModel.shrinkWrap){n.setWidth(null)}if(k&&k.fixed&&l.heightModel.shrinkWrap){n.setHeight(null)}},calculate:function(k){var l=this,m=l.measureAutoDimensions(k),q=k.heightModel,p=k.widthModel,n,r;if(m.gotWidth){if(p.shrinkWrap){l.publishOwnerWidth(k,m.contentWidth)}else{if(l.publishInnerWidth){l.publishInnerWidth(k,m.width)}}}else{if(!p.auto&&l.publishInnerWidth){n=l.waitForOuterWidthInDom?k.getDomProp("width"):k.getProp("width");if(n===undefined){l.done=false}else{l.publishInnerWidth(k,n)}}}if(m.gotHeight){if(q.shrinkWrap){l.publishOwnerHeight(k,m.contentHeight)}else{if(l.publishInnerHeight){l.publishInnerHeight(k,m.height)}}}else{if(!q.auto&&l.publishInnerHeight){r=l.waitForOuterHeightInDom?k.getDomProp("height"):k.getProp("height");if(r===undefined){l.done=false}else{l.publishInnerHeight(k,r)}}}if(!m.gotAll){l.done=false}},calculateOwnerHeightFromContentHeight:function(e,g){return g+e.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(e,g){return g+e.getFrameInfo().width},publishOwnerHeight:function(l,n){var p=this,s=p.owner,t=p.calculateOwnerHeightFromContentHeight(l,n),m,q,r;if(isNaN(t)){p.done=false}else{m=Ext.Number.constrain(t,s.minHeight,s.maxHeight);if(m===t){q=p.setHeightInDom}else{r=p.sizeModels[(m<t)?"constrainedMax":"constrainedMin"];t=m;if(l.heightModel.calculatedFromShrinkWrap){l.heightModel=r}else{l.invalidate({heightModel:r})}}l.setHeight(t,q)}},publishOwnerWidth:function(m,s){var n=this,t=n.owner,p=n.calculateOwnerWidthFromContentWidth(m,s),l,q,r;if(isNaN(p)){n.done=false}else{l=Ext.Number.constrain(p,t.minWidth,t.maxWidth);if(l===p){q=n.setWidthInDom}else{r=n.sizeModels[(l<p)?"constrainedMax":"constrainedMin"];p=l;if(m.widthModel.calculatedFromShrinkWrap){m.widthModel=r}else{m.invalidate({widthModel:r})}}m.setWidth(p,q)}}},0,0,0,0,["layout.autocomponent"],0,[Ext.layout.component,"Auto"],0));(Ext.cmd.derive("Ext.layout.component.ProgressBar",Ext.layout.component.Auto,{type:"progressbar",beginLayout:function(h){var j=this,k,i;Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);if(!h.textEls){i=j.owner.textEl;if(i.isComposite){h.textEls=[];i=i.elements;for(k=i.length;k--;){h.textEls[k]=h.getEl(Ext.get(i[k]))}}else{h.textEls=[h.getEl("textEl")]}}},calculate:function(i){var k=this,m,j,l;Ext.layout.component.Auto.prototype.calculate.apply(this,arguments);if(Ext.isNumber(l=i.getProp("width"))){l-=i.getBorderInfo().width;j=i.textEls;for(m=j.length;m--;){j[m].setWidth(l)}}else{k.done=false}}},0,0,0,0,["layout.progressbar"],0,[Ext.layout.component,"ProgressBar"],0));(Ext.cmd.derive("Ext.ProgressBar",Ext.Component,{baseCls:"x-progress",animate:false,text:"",waitTimer:null,childEls:["bar"],defaultBindProperty:"value",renderTpl:['<tpl if="internalText">','<div class="{baseCls}-text {baseCls}-text-back">{text}</div>',"</tpl>",'<div id="{id}-bar" data-ref="bar" class="{baseCls}-bar {baseCls}-bar-{ui}" role="presentation" style="width:{percentage}%">','<tpl if="internalText">','<div class="{baseCls}-text">',"<div>{text}</div>","</div>","</tpl>","</div>"],componentLayout:"progressbar",ariaRole:"progressbar",initRenderData:function(){var g=this,e=g.value||0;return Ext.apply(Ext.Component.prototype.initRenderData.call(this),{internalText:!g.hasOwnProperty("textEl"),text:g.text||"&#160;",percentage:e*100})},onRender:function(){var d=this;Ext.Component.prototype.onRender.apply(this,arguments);if(d.textEl){d.textEl=Ext.get(d.textEl);d.updateText(d.text)}else{d.textEl=d.el.select("."+d.baseCls+"-text")}},updateValue:function(d){this.updateProgress(d,Math.round(d*100)+"%")},updateProgress:function(k,j,p){k=k||0;var l=this,n=l.value,m=l.getTextTpl();l.value=k||(k=0);if(j!=null){l.updateText(j)}else{if(m){l.updateText(m.apply({value:k,percent:k*100}))}}if(l.rendered&&!l.destroyed){if(p===true||(p!==false&&l.animate)){l.bar.stopAnimation();l.bar.animate(Ext.apply({from:{width:(n*100)+"%"},to:{width:(k*100)+"%"}},l.animate))}else{l.bar.setStyle("width",(k*100)+"%")}}l.fireEvent("update",l,k,j);return l},updateText:function(e){var g=this;g.text=e;if(g.rendered){g.textEl.setHtml(g.text)}return g},applyText:function(d){this.updateText(d)},getText:function(){return this.text},wait:function(g){var h=this,i;if(!h.waitTimer){i=h;g=g||{};h.updateText(g.text);h.waitTimer=Ext.TaskManager.start({run:function(d){var c=g.increment||10;d-=1;h.updateProgress(((((d+c)%c)+1)*(100/c))*0.01,null,g.animate)},interval:g.interval||1000,duration:g.duration,onStop:function(){if(g.fn){g.fn.apply(g.scope||h)}h.reset()},scope:i})}return h},isWaiting:function(){return this.waitTimer!==null},reset:function(g){var e=this;e.updateProgress(0);e.clearTimer();if(g===true){e.hide()}return e},clearTimer:function(){var d=this;if(d.waitTimer){d.waitTimer.onStop=null;Ext.TaskManager.stop(d.waitTimer);d.waitTimer=null}},onDestroy:function(){var e=this,g=e.bar;e.clearTimer();if(e.rendered){if(e.textEl.isComposite){e.textEl.clear()}Ext.destroyMembers(e,"textEl","progressBar");if(g&&e.animate){g.stopAnimation()}}Ext.Component.prototype.onDestroy.call(this)}},0,["progressbar"],["component","box","progressbar"],{component:true,box:true,progressbar:true},["widget.progressbar"],[[Ext.ProgressBase.prototype.mixinId||Ext.ProgressBase.$className,Ext.ProgressBase]],[Ext,"ProgressBar"],0));(Ext.cmd.derive("Ext.dom.ButtonElement",Ext.dom.Element,{setSize:function(j,m,l){var i=this,k=i.component;Ext.dom.Element.prototype.setSize.call(this,j,m,l);k.btnWrap.setStyle("table-layout",(!j||j==="auto")?"":"fixed");k.btnEl.setStyle("height",(!m||m==="auto")?"":"auto");return i},setStyle:function(j,k){var l=this,n=l.component,m,p;Ext.dom.Element.prototype.setStyle.call(this,j,k);if(j){if(j==="width"||(typeof j!=="string"&&"width" in j)){m=k||j.width;n.btnWrap.setStyle("table-layout",(!m||m==="auto")?"":"fixed")}if(j==="height"||(typeof j!=="string"&&"height" in j)){p=k||j.height;n.btnEl.setStyle("height",(!p||p==="auto")?"":"auto")}}return l},setHeight:function(g,e){Ext.dom.Element.prototype.setHeight.call(this,g,e);this.component.btnEl.setStyle("height",(!g||g==="auto")?"":"auto");return this},setWidth:function(e,g){Ext.dom.Element.prototype.setWidth.call(this,e,g);this.component.btnWrap.setStyle("table-layout",(!e||e==="auto")?"":"fixed");return this}},0,0,0,0,0,0,[Ext.dom,"ButtonElement"],0));(Ext.cmd.derive("Ext.button.Manager",Ext.Base,{singleton:true,alternateClassName:"Ext.ButtonToggleManager",groups:{},pressedButton:null,init:function(){var d=this;if(!d.initialized){Ext.getDoc().on({mouseup:d.onDocumentMouseUp,scope:d});d.initialized=true}},onButtonMousedown:function(i,e){var h=this.pressedButton;if(h){h.onMouseUp(e)}this.pressedButton=i},onDocumentMouseUp:function(e){var g=this.pressedButton;if(g){g.onMouseUp(e);this.pressedButton=null}},toggleGroup:function(l,g){if(g){var i=this.groups[l.toggleGroup],k=i.length,m;for(m=0;m<k;m++){if(i[m]!==l){i[m].toggle(false)}}}},register:function(j){var i=this,k=this.groups,h=k[j.toggleGroup];i.init();if(!j.toggleGroup){return}if(!h){h=k[j.toggleGroup]=[]}h.push(j);j.on("toggle",i.toggleGroup,i)},unregister:function(i){if(!i.toggleGroup){return}var h=this,g=h.groups[i.toggleGroup];if(g){Ext.Array.remove(g,i);i.un("toggle",h.toggleGroup,h)}},getPressed:function(h){var i=this.groups[h],j=0,k;if(i){for(k=i.length;j<k;j++){if(i[j].pressed===true){return i[j]}}}return null}},0,0,0,0,0,0,[Ext.button,"Manager",Ext,"ButtonToggleManager"],0));(Ext.cmd.derive("Ext.menu.Manager",Ext.Base,{singleton:true,alternateClassName:"Ext.menu.MenuMgr",groups:{},visible:[],constructor:function(){var d=this;d.onShow=function(){delete d.onShow;Ext.on("mousedown",d.checkActiveMenus,d);return d.onShow.apply(d,arguments)}},checkActiveMenus:function(l){var e=this.visible,p=e.length,n,i,m=Ext.Component.fromElement(l.target);if(p){e=e.slice();for(n=0;n<p;++n){i=e[n];if(!(i.owns(l)||(m&&m.isMenuCheckItem&&m.menu===i))){i.hide()}}}},onShow:function(d){if(d.floating){Ext.Array.include(this.visible,d)}},onHide:function(d){if(d.floating){Ext.Array.remove(this.visible,d)}},hideAll:function(){var h=this.visible,j=h.length,k=false,i;if(j){h=h.slice();for(i=0;i<j;i++){h[i].hide();k=true}}return k},get:function(g,h){var i;if(typeof g==="string"){i=Ext.getCmp(g);if(i instanceof Ext.menu.Menu){g=i}}else{if(Ext.isArray(g)){h=Ext.apply({items:g},h);g=new Ext.menu.Menu(h)}else{if(!g.isComponent){h=Ext.apply({},g,h);g=Ext.ComponentManager.create(h,"menu")}}}return g},registerCheckable:function(g){var i=this.groups,h=g.group;if(h){if(!i[h]){i[h]=[]}i[h].push(g)}},unregisterCheckable:function(g){var i=this.groups,h=g.group;if(h){Ext.Array.remove(i[h],g)}},onCheckChange:function(q,n){var t=this.groups,r=q.group,s=0,i,p,m;if(r&&n){i=t[r];p=i.length;for(;s<p;s++){m=i[s];if(m!==q){m.setChecked(false)}}}}},1,0,0,0,0,0,[Ext.menu,"Manager",Ext.menu,"MenuMgr"],0));(Ext.cmd.derive("Ext.util.ClickRepeater",Ext.util.Observable,{constructor:function(h,i){var g=this;g.el=Ext.get(h);g.el.unselectable();Ext.apply(g,i);Ext.util.Observable.prototype.constructor.call(this);if(!g.disabled){g.disabled=true;g.enable()}if(g.handler){g.on("click",g.handler,g.scope||g)}},interval:20,delay:250,preventDefault:true,stopDefault:false,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE8){this.el.on("dblclick",this.handleDblClick,this)}if(this.preventDefault||this.stopDefault){this.el.on("click",this.eventOptions,this)}}this.disabled=false},disable:function(d){if(d||!this.disabled){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.clearListeners()}this.disabled=true},setDisabled:function(d){this[d?"disable":"enable"]()},eventOptions:function(d){if(this.preventDefault){d.preventDefault()}if(this.stopDefault){d.stopEvent()}},destroy:function(){this.disable(true);Ext.util.Observable.prototype.destroy.call(this)},handleDblClick:function(d){clearTimeout(this.timer);this.fireEvent("mousedown",this,d);this.fireEvent("click",this,d)},handleMouseDown:function(d){clearTimeout(this.timer);if(this.pressedCls){this.el.addCls(this.pressedCls)}this.mousedownTime=new Date();Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this,d);this.fireEvent("click",this,d);if(this.accelerate){this.delay=400}this.timer=Ext.defer(this.click,this.delay||this.interval,this,[d]);if(this.mousedownPreventDefault){d.preventDefault()}if(this.mousedownStopEvent){d.stopEvent()}},click:function(d){this.fireEvent("click",this,d);this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12000):this.interval,this,[d])},easeOutExpo:function(j,k,c,d){return(j===d)?k+c:c*(-Math.pow(2,-10*j/d)+1)+k},handleMouseOut:function(){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(d){this.el.un("mouseover",this.handleMouseReturn,this);if(this.pressedCls){this.el.addCls(this.pressedCls)}this.click(d)},handleMouseUp:function(d){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.fireEvent("mouseup",this,d)}},1,0,0,0,0,0,[Ext.util,"ClickRepeater"],0));(Ext.cmd.derive("Ext.button.Button",Ext.Component,{alternateClassName:"Ext.Button",config:{iconAlign:"left",text:null,textAlign:"center",arrowVisible:true},isButton:true,_syncFrameHeight:true,liquidLayout:true,hidden:false,disabled:false,pressed:false,tabIndex:0,enableToggle:false,menuAlign:"tl-bl?",showEmptyMenu:false,clickEvent:"click",preventDefault:true,handleMouseEvents:true,tooltipType:"qtip",baseCls:"x-btn",hrefTarget:"_blank",destroyMenu:true,focusable:true,ariaRole:"button",keyHandlers:{SPACE:"onEnterKey",ENTER:"onEnterKey",DOWN:"onDownKey"},defaultBindProperty:"text",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl","arrowEl"],publishes:{pressed:1},_btnWrapCls:"x-btn-wrap",_btnCls:"x-btn-button",_baseIconCls:"x-btn-icon-el",_glyphCls:"x-btn-glyph",_innerCls:"x-btn-inner",_textCls:"x-btn-text",_noTextCls:"x-btn-no-text",_hasIconCls:"x-btn-icon",_pressedCls:"x-btn-pressed",overCls:"x-btn-over",_disabledCls:"x-btn-disabled",_menuActiveCls:"x-btn-menu-active",_arrowElCls:"x-btn-arrow-el",_focusCls:"x-btn-focus",_arrowFocusCls:"x-arrow-focus",renderTpl:'<span id="{id}-btnWrap" data-ref="btnWrap" role="presentation" unselectable="on" style="{btnWrapStyle}" class="{btnWrapCls} {btnWrapCls}-{ui} {splitCls}{childElCls}"><span id="{id}-btnEl" data-ref="btnEl" role="presentation" unselectable="on" style="{btnElStyle}" class="{btnCls} {btnCls}-{ui} {textCls} {noTextCls} {hasIconCls} {iconAlignCls} {textAlignCls} {btnElAutoHeightCls}{childElCls}"><tpl if="iconBeforeText">{[values.$comp.renderIcon(values)]}</tpl><span id="{id}-btnInnerEl" data-ref="btnInnerEl" unselectable="on" class="{innerCls} {innerCls}-{ui}{childElCls}">{text}</span><tpl if="!iconBeforeText">{[values.$comp.renderIcon(values)]}</tpl></span></span>{[values.$comp.getAfterMarkup ? values.$comp.getAfterMarkup(values) : ""]}<tpl if="closable"><span id="{id}-closeEl" data-ref="closeEl" class="{baseCls}-close-btn"><tpl if="closeText"> {closeText}</tpl></span></tpl><tpl if="split"><span id="{id}-arrowEl" class="{arrowElCls}" data-ref="arrowEl" role="button" hidefocus="on" unselectable="on"<tpl if="tabIndex != null"> tabindex="{tabIndex}"</tpl><tpl foreach="arrowElAttributes"> {$}="{.}"</tpl>>{arrowElText}</span></tpl>',iconTpl:'<span id="{id}-btnIconEl" data-ref="btnIconEl" role="presentation" unselectable="on" class="{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}{childElCls}" style="<tpl if="iconUrl">background-image:url({iconUrl});</tpl><tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>"><tpl if="glyph">&#{glyph};</tpl></span>',scale:"small",allowedScales:["small","medium","large"],arrowAlign:"right",arrowCls:"arrow",maskOnDisable:false,shrinkWrap:3,frame:true,autoEl:{tag:"a",hidefocus:"on",unselectable:"on"},hasFrameTable:function(){return this.href&&this.frameTable},frameTableListener:function(){if(!this.disabled){this.doNavigate()}},doNavigate:function(){if(this.hrefTarget==="_blank"){window.open(this.getHref(),this.hrefTarget)}else{location.href=this.getHref()}},_triggerRegion:{},initComponent:function(){var d=this;d.addCls("x-unselectable");Ext.Component.prototype.initComponent.call(this);if(d.menu){d.split=true;d.setMenu(d.menu,false,true)}if(d.url){d.href=d.url}d.configuredWithPreventDefault=d.hasOwnProperty("preventDefault");if(d.href&&!d.configuredWithPreventDefault){d.preventDefault=false}if(Ext.isString(d.toggleGroup)&&d.toggleGroup!==""){d.enableToggle=true}if(d.html&&!d.text){d.text=d.html;delete d.html}},getElConfig:function(){var i=this,j=Ext.Component.prototype.getElConfig.call(this),k=i.getHref(),h=i.hrefTarget;if(j.tag==="a"){if(!i.disabled){j.tabIndex=i.tabIndex}if(k){if(!i.disabled){j.href=k;if(h){j.target=h}}}}if(!i.ariaStaticRoles[i.ariaRole]){if(i.menu&&!i.isSplitButton){j["aria-haspopup"]=true}if(i.enableToggle){j["aria-pressed"]=!!i.pressed}}return j},beforeRender:function(){Ext.Component.prototype.beforeRender.call(this);if(this.pressed){this.addCls(this._pressedCls)}},initRenderData:function(){return Ext.apply(Ext.Component.prototype.initRenderData.call(this),this.getTemplateArgs())},getMenu:function(){return this.menu||null},setMenu:function(l,m,p){var n=this,s=n.menu,t=n.isSplitButton?n.arrowEl&&n.arrowEl.dom:n.ariaEl.dom,r,q;if(s&&!p){if(m!==false&&n.destroyMenu){s.destroy()}s.ownerCmp=null}if(l){r=l.isMenu;l=Ext.menu.Manager.get(l,{ownerCmp:n});l.setOwnerCmp(n,r);l.menuClickBuffer=250;n.mon(l,{scope:n,show:n.onMenuShow,hide:n.onMenuHide});if(!s&&n.getArrowVisible()){n.split=true;if(n.rendered){n._addSplitCls();n.updateLayout()}}n.menu=l;if(t){t.setAttribute("aria-haspopup",true);t.setAttribute("aria-owns",l.id)}else{q=n.isSplitButton?(n.ariaArrowElAttributes||(n.ariaArrowElAttributes={})):(n.ariaRenderAttributes||(n.ariaRenderAttributes={}));q["aria-haspopup"]=true;q["aria-owns"]=l.id}}else{if(n.rendered){t.removeAttribute("aria-haspopup");t.removeAttribute("aria-owns");n._removeSplitCls();n.updateLayout()}else{q=n.isSplitButton?n.ariaArrowElAttributes:n.ariaRenderAttributes;if(q){delete q["aria-haspopup"];delete q["aria-owns"]}}n.split=false;n.menu=null}},onRender:function(){var i=this,h,k,j;Ext.Component.prototype.onRender.apply(this,arguments);k=i.el;if(i.tooltip){i.setTooltip(i.tooltip,true)}if(i.handleMouseEvents){j={scope:i,mouseover:i.onMouseOver,mouseout:i.onMouseOut,mousedown:i.onMouseDown};if(i.split){j.mousemove=i.onMouseMove}}else{j={scope:i}}if(Ext.supports.Touch){j.touchstart=i.onTouchStart}if(i.repeat){i.mon(new Ext.util.ClickRepeater(k,Ext.isObject(i.repeat)?i.repeat:{}),"click",i.onRepeatClick,i)}else{if(j[i.clickEvent]){h=true}else{j[i.clickEvent]=i.onClick}}i.mon(k,j);if(i.hasFrameTable()){i.mon(i.frameTable,"click",i.frameTableListener,i)}if(h){i.mon(k,i.clickEvent,i.onClick,i)}Ext.button.Manager.register(i)},onFocusLeave:function(d){Ext.Component.prototype.onFocusLeave.call(this,d);if(this.menu){this.menu.hide()}},getTemplateArgs:function(){var q=this,v=q._btnCls,t=q._baseIconCls,x=q.getIconAlign(),p=q.glyph,r=Ext._glyphFontFamily,n=q.text,u=q._hasIcon(),s=q._hasIconCls,w;if(typeof p==="string"){w=p.split("@");p=w[0];r=w[1]}return{split:q.isSplitButton,innerCls:q._innerCls,splitCls:q.getArrowVisible()?q.getSplitCls():"",iconUrl:q.icon,iconCls:q.iconCls,glyph:p,glyphCls:p?q._glyphCls:"",glyphFontFamily:r,text:n||"&#160;",closeText:q.closeText,textCls:n?q._textCls:"",noTextCls:n?"":q._noTextCls,hasIconCls:u?s:"",btnWrapCls:q._btnWrapCls,btnWrapStyle:q.width?"table-layout:fixed;":"",btnElStyle:q.height?"height:auto;":"",btnCls:v,baseIconCls:t,iconBeforeText:x==="left"||x==="top",iconAlignCls:u?(s+"-"+x):"",textAlignCls:v+"-"+q.getTextAlign(),arrowElCls:q._arrowElCls,tabIndex:q.tabIndex}},renderIcon:function(d){return this.getTpl("iconTpl").apply(d)},setHref:function(k){var j=this,h=j.hrefTarget,i;j.href=k;if(!j.configuredWithPreventDefault){j.preventDefault=!k}if(j.rendered){i=j.el.dom;if(!k||j.disabled){i.removeAttribute("href");i.removeAttribute("hrefTarget")}else{i.href=j.getHref();if(h){i.target=h}}}},getHref:function(){var e=this,g=e.href;return g?Ext.urlAppend(g,Ext.Object.toQueryString(Ext.apply({},e.params,e.baseParams))):false},setParams:function(g){var i=this,h;i.params=g;if(i.rendered){h=i.el.dom;if(i.disabled){h.removeAttribute("href")}else{h.href=i.getHref()||""}}},getSplitCls:function(){var d=this;return d.split?(d.baseCls+"-"+d.arrowCls)+" "+(d.baseCls+"-"+d.arrowCls+"-"+d.arrowAlign):""},setIcon:function(j){j=j||"";var i=this,k=i.btnIconEl,h=i.icon||"";i.icon=j;if(j!==h){if(k){k.setStyle("background-image",j?"url("+j+")":"");i._syncHasIconCls();if(i.didIconStateChange(h,j)){i.updateLayout()}}i.fireEvent("iconchange",i,h,j)}return i},setIconCls:function(j){j=j||"";var h=this,k=h.btnIconEl,i=h.iconCls||"";h.iconCls=j;if(i!==j){if(k){k.removeCls(i);k.addCls(j);h._syncHasIconCls();if(h.didIconStateChange(i,j)){h.updateLayout()}}h.fireEvent("iconchange",h,i,j)}return h},setGlyph:function(l){l=l||0;var m=this,q=m.btnIconEl,p=m.glyph,k=m._glyphCls,r,n;m.glyph=l;if(q){if(typeof l==="string"){n=l.split("@");l=n[0];r=n[1]||Ext._glyphFontFamily}if(!l){q.dom.innerHTML="";q.removeCls(k)}else{if(p!==l){q.dom.innerHTML="&#"+l+";";q.addCls(k)}}if(r){q.setStyle("font-family",r)}m._syncHasIconCls();if(m.didIconStateChange(p,l)){m.updateLayout()}}m.fireEvent("glyphchange",m,m.glyph,p);return m},setTooltip:function(g,i){var h=this;if(h.rendered){if(!i||!g){h.clearTip()}if(g){if(Ext.quickTipsActive&&Ext.isObject(g)){Ext.tip.QuickTipManager.register(Ext.apply({target:h.el.id},g));h.tooltip=g}else{h.el.dom.setAttribute(h.getTipAttr(),g)}}}else{h.tooltip=g}return h},updateIconAlign:function(j,l){var m=this,n,p,k;if(m.rendered){n=m.btnEl;p=m.btnIconEl;k=m._hasIconCls;if(l){n.removeCls(k+"-"+l)}n.addCls(k+"-"+j);if(j==="top"||j==="left"){n.insertFirst(p)}else{n.appendChild(p)}m.updateLayout()}},updateTextAlign:function(i,j){var k=this,l=k.btnEl,m=k._btnCls;if(k.rendered){l.removeCls(m+"-"+j);l.addCls(m+"-"+i)}},getTipAttr:function(){return this.tooltipType==="qtip"?"data-qtip":"title"},getRefItems:function(i){var g=this.menu,h;if(g){h=g.getRefItems(i);h.unshift(g)}return h||[]},clearTip:function(){var e=this,g=e.el;if(Ext.quickTipsActive&&Ext.isObject(e.tooltip)){Ext.tip.QuickTipManager.unregister(g)}else{g.dom.removeAttribute(e.getTipAttr())}},beforeDestroy:function(){var d=this;if(d.rendered){d.clearTip()}Ext.destroy(d.repeater);Ext.Component.prototype.beforeDestroy.call(this)},onDestroy:function(){var g=this,e=g.menu;if(g.rendered){Ext.destroy(g.keyMap);delete g.keyMap}if(e&&g.destroyMenu){g.menu=Ext.destroy(e)}Ext.button.Manager.unregister(g);Ext.Component.prototype.onDestroy.call(this)},setHandler:function(e,g){this.handler=e;if(arguments.length>1){this.scope=g}return this},updateText:function(j,m){j=j==null?"":String(j);m=m||"";var k=this,i=k.btnInnerEl,l=k.btnEl;if(k.rendered){i.setHtml(j||"&#160;");l[j?"addCls":"removeCls"](k._textCls);l[j?"removeCls":"addCls"](k._noTextCls);k.updateLayout()}k.fireEvent("textchange",k,m,j)},didIconStateChange:function(i,g){var h=Ext.isEmpty(g);return Ext.isEmpty(i)?!h:h},click:function(d){return this.onClick(d)},setPressed:function(d){return this.toggle(d!==false)},toggle:function(h,j){var i=this,k=i.ariaEl.dom;h=h===undefined?!i.pressed:!!h;if(i.fireEvent("beforetoggle",i,h)!==false){if(h!==i.pressed){i[h?"addCls":"removeCls"](i._pressedCls);i.pressed=h;if(k){k.setAttribute("aria-pressed",h)}if(!j){i.fireEvent("toggle",i,h);Ext.callback(i.toggleHandler,i.scope,[i,h],0,i);if(i.reference&&i.publishState){i.publishState("pressed",h)}}}}return i},maybeShowMenu:function(d){if(this.menu){this.showMenu(d)}},showMenu:function(k){var i=this,h=i.menu,j=!k||k.pointerType;if(h&&i.rendered){if(i.tooltip&&Ext.quickTipsActive&&i.getTipAttr()!=="title"){Ext.tip.QuickTipManager.getQuickTip().cancelShow(i.el)}if(h.isVisible()){if(j){h.hide()}else{h.focus()}}else{if(!k||i.showEmptyMenu||h.items.getCount()>0){h.autoFocus=!j;h.showBy(i.el,i.menuAlign)}}}return i},hideMenu:function(){if(this.hasVisibleMenu()){this.menu.hide()}return this},hasVisibleMenu:function(){var d=this.menu;return d&&d.rendered&&d.isVisible()},onRepeatClick:function(g,e){this.onClick(e)},onTouchStart:function(d){this.doPreventDefault(d)},onEnterKey:function(d){this.onClick(d);d.stopEvent();return false},onClick:function(e){var g=this;g.doPreventDefault(e);if(e.type!=="keydown"&&e.button){return}if(!g.disabled){g.doToggle();g.maybeShowMenu(e);g.fireHandler(e)}},doPreventDefault:function(d){if(d&&(this.preventDefault||(this.disabled&&this.getHref()))){d.preventDefault()}},fireHandler:function(e){var g=this;if(g.fireEvent("click",g,e)!==false&&!g.destroyed){Ext.callback(g.handler,g.scope,[g,e],0,g)}},doToggle:function(){var d=this;if(d.enableToggle&&(d.allowDepress!==false||!d.pressed)){d.toggle()}},onMouseOver:function(e){var g=this;if(!g.disabled&&!e.within(g.el,true,true)){g.onMouseEnter(e)}},onMouseOut:function(e){var g=this;if(!e.within(g.el,true,true)){if(g.overMenuTrigger){g.onMenuTriggerOut(e)}g.onMouseLeave(e)}},onMouseMove:function(e){var i=this,h=i.overMenuTrigger;if(i.split){if(i.isWithinTrigger(e)){if(!h){i.onMenuTriggerOver(e)}}else{if(h){i.onMenuTriggerOut(e)}}}},isWithinTrigger:function(j){var k=this,l=k.el,e,m;e=(k.arrowAlign==="right")?j.getX()-k.getX():j.getY()-l.getY();m=k.getTriggerRegion();return e>m.begin&&e<m.end},getTriggerRegion:function(){var j=this,i=j._triggerRegion,k=j.arrowAlign==="right",l=k?"getRight":"getBottom",m=k?j.getWidth():j.getHeight();i.begin=m-(j.el[l]()-j.btnEl[l]());i.end=m;return i},onMouseEnter:function(d){this.fireEvent("mouseover",this,d)},onMouseLeave:function(d){this.fireEvent("mouseout",this,d)},onMenuTriggerOver:function(e){var h=this,i=h.arrowTooltip;h.overMenuTrigger=true;if(h.split&&i){h.btnWrap.dom.setAttribute(h.getTipAttr(),i)}h.fireEvent("menutriggerover",h,h.menu,e)},onMenuTriggerOut:function(e){var g=this;delete g.overMenuTrigger;if(g.split&&g.arrowTooltip){g.btnWrap.dom.setAttribute(g.getTipAttr(),"")}g.fireEvent("menutriggerout",g,g.menu,e)},onEnable:function(){var j=this,k=j.href,h=j.hrefTarget,i=j.el.dom;Ext.Component.prototype.onEnable.call(this);j.removeCls(j._disabledCls);i.setAttribute("tabIndex",j.tabIndex);if(k){i.href=k}if(h){i.target=h}},onDisable:function(){var g=this,e=g.el.dom;Ext.Component.prototype.onDisable.call(this);g.addCls(g._disabledCls);g.removeCls(g.overCls);e.removeAttribute("tabIndex");if(g.href){e.removeAttribute("href")}if(g.hrefTarget){e.removeAttribute("target")}},setScale:function(g){var i=this,h=i.ui.replace("-"+i.scale,"");if(!Ext.Array.contains(i.allowedScales,g)){throw ("#setScale: scale must be an allowed scale ("+i.allowedScales.join(", ")+")")}i.scale=g;i.setUI(h)},setUI:function(e){var g=this;if(g.scale&&!e.match(g.scale)){e=e+"-"+g.scale}Ext.Component.prototype.setUI.call(this,e)},onMouseDown:function(e){var g=this;if(Ext.isIE||e.pointerType==="touch"){Ext.defer(function(){var c=g.getFocusEl();if(c&&!e.defaultPrevented){c.focus()}},1)}if(!g.disabled&&e.button===0){Ext.button.Manager.onButtonMousedown(g,e);g.addCls(g._pressedCls)}},onMouseUp:function(e){var g=this;if(!g.destroyed&&e.button===0){if(!g.pressed){g.removeCls(g._pressedCls)}}},onMenuShow:function(){var d=this;d.addCls(d._menuActiveCls);d.fireEvent("menushow",d,d.menu)},onMenuHide:function(e){var g=this;g.removeCls(g._menuActiveCls);g.fireEvent("menuhide",g,g.menu)},onDownKey:function(e){var g=this;if(g.menu&&!g.disabled){g.showMenu(e);e.stopEvent();return false}},updateArrowVisible:function(e){var g=this;if(g.rendered){if(e){if(g.menu||g.isSplitButton){g.split=true;g._addSplitCls()}}else{g._removeSplitCls();g.split=false}}return e},privates:{addOverCls:function(){if(!this.disabled){this.addCls(this.overCls)}},_addSplitCls:function(){var d=this;d.btnWrap.addCls(d.getSplitCls())},getTdCls:function(){return"x-button-"+this.ui+"-"+this.scale+"-cell"},removeOverCls:function(){this.removeCls(this.overCls)},_removeSplitCls:function(){var d=this;d.btnWrap.removeCls(d.getSplitCls())},_syncHasIconCls:function(){var h=this,i=h.btnEl,g=h._hasIconCls;if(i){i[h._hasIcon()?"addCls":"removeCls"]([g,g+"-"+h.iconAlign])}},_hasIcon:function(){return !!(this.icon||this.iconCls||this.glyph)},wrapPrimaryEl:function(d){this.el=new Ext.dom.ButtonElement(d);Ext.Component.prototype.wrapPrimaryEl.call(this,d)}}},0,["button"],["component","box","button"],{component:true,box:true,button:true},["widget.button"],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable],[Ext.util.KeyboardInteractive.prototype.mixinId||Ext.util.KeyboardInteractive.$className,Ext.util.KeyboardInteractive]],[Ext.button,"Button",Ext,"Button"],0));(Ext.cmd.derive("Ext.button.Split",Ext.button.Button,{alternateClassName:"Ext.SplitButton",isSplitButton:true,arrowCls:"split",split:true,getTemplateArgs:function(){var h=this,i,g;g=Ext.button.Button.prototype.getTemplateArgs.call(this);if(h.disabled){g.tabIndex=null}i=h.ariaArrowElAttributes||{};i["aria-hidden"]=!!h.hidden;i["aria-disabled"]=!!h.disabled;if(h.arrowTooltip){i["aria-label"]=h.arrowTooltip}else{i["aria-labelledby"]=h.id}g.arrowElAttributes=i;return g},onRender:function(){var e=this,g;Ext.button.Button.prototype.onRender.call(this);g=e.getFocusEl();if(g){g.on({scope:e,focus:e.onMainElFocus,blur:e.onMainElBlur})}g=e.arrowEl;if(g){g.dom.setAttribute("data-componentid",e.id);g.setVisibilityMode(Ext.dom.Element.DISPLAY);g.on({scope:e,focus:e.onArrowElFocus,blur:e.onArrowElBlur})}},setArrowHandler:function(e,g){this.arrowHandler=e;this.scope=g},onClick:function(e){var h=this,i=e.type==="keydown"&&e.target===h.arrowEl.dom;h.doPreventDefault(e);if(!h.disabled){if(i||h.isWithinTrigger(e)){e.preventDefault();h.maybeShowMenu(e);h.fireEvent("arrowclick",h,e);if(h.arrowHandler){h.arrowHandler.call(h.scope||h,h,e)}}else{h.doToggle();h.fireHandler(e)}}},enable:function(h){var g=this,i=g.arrowEl;Ext.button.Button.prototype.enable.call(this,h);if(i){i.dom.setAttribute("tabIndex",g.tabIndex);i.dom.setAttribute("aria-disabled","false")}},disable:function(h){var g=this,i=g.arrowEl;Ext.button.Button.prototype.disable.call(this,h);if(i){i.dom.removeAttribute("tabIndex");i.dom.setAttribute("aria-disabled","true")}},afterHide:function(g,e){Ext.button.Button.prototype.afterHide.call(this,g,e);this.arrowEl.dom.setAttribute("aria-hidden","true")},afterShow:function(g,i,h){Ext.button.Button.prototype.afterShow.call(this,g,i,h);this.arrowEl.dom.setAttribute("aria-hidden","false")},privates:{isFocusing:function(l){var m=this,e=l.fromElement,k=l.toElement,n=m.focusEl&&m.focusEl.dom,p=m.arrowEl&&m.arrowEl.dom;if(m.focusable){if(k===n){return e===p?false:true}else{if(k===p){return e===n?false:true}}return true}return false},isBlurring:function(l){var m=this,e=l.fromElement,k=l.toElement,n=m.focusEl&&m.focusEl.dom,p=m.arrowEl&&m.arrowEl.dom;if(m.focusable){if(e===n){return k===p?false:true}else{if(e===p){return k===n?false:true}}return true}return false},getFocusClsEl:Ext.privateFn,onMainElFocus:function(d){this.el.addCls(this._focusCls)},onMainElBlur:function(d){this.el.removeCls(this._focusCls)},onArrowElFocus:function(d){this.el.addCls(this._arrowFocusCls)},onArrowElBlur:function(){this.el.removeCls(this._arrowFocusCls)},setTabIndex:function(d){Ext.button.Button.prototype.setTabIndex.call(this,d);if(this.arrowEl){this.arrowEl.set({tabIndex:d})}},_addSplitCls:function(){var d=this.arrowEl;Ext.button.Button.prototype._addSplitCls.call(this);d.dom.setAttribute("tabIndex",this.tabIndex);d.setVisible(true)},_removeSplitCls:function(){var d=this.arrowEl;Ext.button.Button.prototype._removeSplitCls.call(this);d.dom.removeAttribute("tabIndex");d.setVisible(false)}}},0,["splitbutton"],["component","box","button","splitbutton"],{component:true,box:true,button:true,splitbutton:true},["widget.splitbutton"],0,[Ext.button,"Split",Ext,"SplitButton"],0));(Ext.cmd.derive("Ext.layout.container.SegmentedButton",Ext.layout.container.Container,{needsItemSize:false,setsItemSize:false,_btnRowCls:"x-segmented-button-row",getRenderTree:function(){var h=this,k=Ext.layout.container.Container.prototype.getRenderTree.call(this),j,i;if(h.owner.getVertical()){for(j=0,i=k.length;j<i;j++){k[j]={cls:h._btnRowCls,cn:k[j]}}}return k},getItemLayoutEl:function(g){var e=g.el.dom;return this.owner.getVertical()?e.parentNode:e},onDestroy:function(){if(this.rendered){var e=this.getRenderTarget(),g;while((g=e.last())){g.destroy()}}}},0,0,0,0,["layout.segmentedbutton"],0,[Ext.layout.container,"SegmentedButton"],0));(Ext.cmd.derive("Ext.button.Segmented",Ext.container.Container,{config:{allowDepress:false,allowMultiple:false,forceSelection:false,allowToggle:true,vertical:false,defaultUI:"default"},beforeRenderConfig:{value:undefined},defaultBindProperty:"value",publishes:["value"],twoWayBindable:["value"],layout:"segmentedbutton",defaultType:"button",maskOnDisable:false,isSegmentedButton:true,baseCls:"x-segmented-button",itemCls:"x-segmented-button-item",_firstCls:"x-segmented-button-first",_lastCls:"x-segmented-button-last",_middleCls:"x-segmented-button-middle",applyValue:function(t,B){var u=this,i=u.getAllowMultiple(),y,x,s,r,v,z,w,A;s=(t instanceof Array)?t:(t==null)?[]:[t];r=(B instanceof Array)?B:(B==null)?[]:[B];u._isApplyingValue=true;if(!u.rendered){v=u.items.items;for(z=v.length-1;z>=0;z--){x=v[z];if(u.forceSelection&&!z&&!A){x.pressed=true}if(x.pressed){A=true;y=x.value;if(y==null){y=u.items.indexOf(x)}if(!Ext.Array.contains(s,y)){s.unshift(y)}}}}w=s.length;for(z=0;z<w;z++){t=s[z];x=u._lookupButtonByValue(t);if(x){y=x.value;if((y!=null)&&y!==t){s[z]=y}if(!x.pressed){x.setPressed(true)}}}t=i?s:w?s[0]:null;for(z=0,w=r.length;z<w;z++){B=r[z];if(!Ext.Array.contains(s,B)){u._lookupButtonByValue(B).setPressed(false)}}u._isApplyingValue=false;if(u.hasListeners.change&&!Ext.Array.equals(s,r)){u.fireEvent("change",u,s,r)}return t},beforeRender:function(){var d=this;d.addCls(d.baseCls+d._getClsSuffix());d._syncItemClasses(true);Ext.container.Container.prototype.beforeRender.call(this)},onAdd:function(g){var h=this,i="_syncItemClasses";h.mon(g,{hide:i,show:i,beforetoggle:"_onBeforeItemToggle",toggle:"_onItemToggle",scope:h});if(h.getAllowToggle()){g.enableToggle=true;if(!h.getAllowMultiple()){g.toggleGroup=h.getId();g.allowDepress=h.getAllowDepress()}}g.addCls(h.itemCls+h._getClsSuffix());h._syncItemClasses();Ext.container.Container.prototype.onAdd.call(this,g)},onRemove:function(e){var g=this;e.removeCls(g.itemCls+g._getClsSuffix());g._syncItemClasses();Ext.container.Container.prototype.onRemove.call(this,e)},beforeLayout:function(){if(Ext.isChrome){this.el.dom.offsetWidth}Ext.container.Container.prototype.beforeLayout.call(this)},updateDefaultUI:function(i){var m=this.items,j,l,k;if(this.rendered){Ext.raise("Changing the ui config of a segmented button after render is not supported.")}else{if(m){if(m.items){m=m.items}for(l=0,k=m.length;l<k;l++){j=m[l];if(j.ui==="default"&&i!=="default"&&!j.hasOwnProperty("ui")){m[l].ui=i}}}}},privates:{_getClsSuffix:function(){return this.getVertical()?"-vertical":"-horizontal"},_getFirstCls:function(){return this._firstCls},_getLastCls:function(){return this._lastCls},_lookupButtonByValue:function(i){var q=this.items.items,l=q.length,m=0,n=null,r,p;for(;m<l;m++){p=q[m];r=p.value;if((r!=null)&&r===i){n=p;break}}if(!n&&typeof i==="number"){n=q[i]}return n},_onBeforeItemToggle:function(g,e){if(this.allowMultiple&&this.forceSelection&&!e&&this.getValue().length===1){return false}},_onItemToggle:function(r,m){if(this._isApplyingValue){return}var p=this,q=Ext.Array,s=p.allowMultiple,t=(r.value!=null)?r.value:p.items.indexOf(r),n=p.getValue(),l;if(s){l=q.indexOf(n,t)}if(m){if(s){if(l===-1){n=q.slice(n);n.push(t)}}else{n=t}}else{if(s){if(l>-1){n=q.slice(n);n.splice(l,1)}}else{if(n===t){n=null}}}p.setValue(n);p.fireEvent("toggle",p,r,m)},_syncItemClasses:function(x){var r=this,w,u,p,s,t,i,q,v;if(!x&&!r.rendered){return}w=r._getFirstCls();u=r._middleCls;p=r._getLastCls();s=r.items.items;t=s.length;i=[];for(v=0;v<t;v++){q=s[v];if(!q.hidden){i.push(q)}}t=i.length;for(v=0;v<t;v++){i[v].removeCls([w,u,p])}if(t>1){i[0].addCls(w);for(v=1;v<t-1;v++){i[v].addCls(u)}i[t-1].addCls(p)}}}},0,["segmentedbutton"],["component","box","container","segmentedbutton"],{component:true,box:true,container:true,segmentedbutton:true},["widget.segmentedbutton"],0,[Ext.button,"Segmented"],0));(Ext.cmd.derive("Ext.panel.Bar",Ext.container.Container,{vertical:false,_verticalSides:{left:1,right:1},initComponent:function(){var e=this,g=e.vertical;e.dock=e.dock||(g?"left":"top");e.layout=Ext.apply(g?{type:"vbox",align:"middle",alignRoundingMethod:"ceil"}:{type:"hbox",align:"middle",alignRoundingMethod:"floor"},e.layout);Ext.container.Container.prototype.initComponent.call(this)},onAdded:function(h,g,i){this.initOrientation();Ext.container.Container.prototype.onAdded.call(this,h,g,i)},onRemoved:function(d){this.removeClsWithUI(this.uiCls);Ext.container.Container.prototype.onRemoved.call(this,d)},beforeRender:function(){var d=this;if(d.forceOrientation||!d.ownerCt){d.initOrientation()}Ext.container.Container.prototype.beforeRender.call(this)},setDock:function(h){var i=this,j,k;if(h!==i.dock){Ext.suspendLayouts();i.clearOrientation();Ext.container.Container.prototype.setDock.call(this,h);i.initOrientation();k=i.vertical;j=i.layout;j.setVertical(k);j.setAlignRoundingMethod(k?"ceil":"floor");Ext.resumeLayouts(true)}},privates:{clearOrientation:function(){this.removeClsWithUI([this.vertical?"vertical":"horizontal",this.getDockName()])},getDockName:function(){return this.dock},initOrientation:function(){var g=this,h=g.dock,i=(g.vertical=(h?h in g._verticalSides:g.vertical));g.addClsWithUI([i?"vertical":"horizontal",g.getDockName()])}}},0,0,["component","box","container"],{component:true,box:true,container:true},0,0,[Ext.panel,"Bar"],0));(Ext.cmd.derive("Ext.panel.Title",Ext.Component,{isTitle:true,noWrap:true,textAlign:"left",iconAlign:"left",rotation:0,text:"&#160;",beforeRenderConfig:{textAlign:null,text:null,glyph:null,icon:null,iconAlign:null,iconCls:null,rotation:null},autoEl:{role:"presentation",unselectable:"on"},textElRole:"presentation",tabIndex:0,childEls:["textEl","iconEl","iconWrapEl"],renderTpl:'<tpl if="iconMarkup && iconBeforeTitle">{iconMarkup}</tpl><div id="{id}-textEl" data-ref="textEl" class="{textCls} {textCls}-{ui} {itemCls}{childElCls}" unselectable="on"<tpl if="textElRole"> role="{textElRole}"</tpl>>{text}</div><tpl if="iconMarkup && !iconBeforeTitle">{iconMarkup}</tpl>',iconTpl:'<div id="{id}-iconWrapEl" data-ref="iconWrapEl" role="presentation" class="{iconWrapCls} {iconWrapCls}-{ui} {iconAlignCls} {itemCls}{childElCls}"<tpl if="iconWrapStyle"> style="{iconWrapStyle}"</tpl>><div id="{id}-iconEl" data-ref="iconEl" role="presentation" unselectable="on" class="{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}" style="<tpl if="iconUrl">background-image:url({iconUrl});</tpl><tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>"><tpl if="glyph">&#{glyph};</tpl></div></div>',_textAlignClasses:{left:"x-title-align-left",center:"x-title-align-center",right:"x-title-align-right"},_iconAlignClasses:{top:"x-title-icon-top",right:"x-title-icon-right",bottom:"x-title-icon-bottom",left:"x-title-icon-left"},_rotationClasses:{0:"x-title-rotate-none",1:"x-title-rotate-right",2:"x-title-rotate-left"},_rotationAngles:{1:90,2:270},baseCls:"x-title",_titleSuffix:"-title",_glyphCls:"x-title-glyph",_iconWrapCls:"x-title-icon-wrap",_baseIconCls:"x-title-icon",_itemCls:"x-title-item",_textCls:"x-title-text",afterComponentLayout:function(){var j=this,l=j.getRotation(),m,i,k;if(l&&!Ext.isIE8){k=j.el;m=j.lastBox;i=m.x;k.setStyle(j._getVerticalAdjustDirection(),(i+((l===1)?m.width:-m.height))+"px")}Ext.Component.prototype.afterComponentLayout.call(this)},onRender:function(){var g=this,i=g.getRotation(),h=g.el;Ext.Component.prototype.onRender.call(this);if(i){h.setVertical(g._rotationAngles[i])}if(Ext.supports.FixedTableWidthBug){h._needsTableWidthFix=true}},applyText:function(d){if(!d){d="&#160;"}return d},beforeRender:function(){var d=this;Ext.Component.prototype.beforeRender.call(this);d.addCls(d._rotationClasses[d.getRotation()]);d.addCls(d._textAlignClasses[d.getTextAlign()])},getIconMarkup:function(){return this.getTpl("iconTpl").apply(this.getIconRenderData())},getIconRenderData:function(){var l=this,p=l.getIcon(),q=l.getIconCls(),m=l.getGlyph(),k=Ext._glyphFontFamily,r=l.getIconAlign(),n;if(typeof m==="string"){n=m.split("@");m=n[0];k=n[1]}return{id:l.id,ui:l.ui,itemCls:l._itemCls,iconUrl:p,iconCls:q,iconWrapCls:l._iconWrapCls,baseIconCls:l._baseIconCls,iconAlignCls:l._iconAlignClasses[r],glyph:m,glyphCls:m?l._glyphCls:"",glyphFontFamily:k}},initRenderData:function(){var h=this,i,g;g=Ext.apply({text:h.getText(),textElRole:h.textElRole,id:h.id,ui:h.ui,itemCls:h._itemCls,textCls:h._textCls,iconMarkup:null,iconBeforeTitle:null},Ext.Component.prototype.initRenderData.call(this));if(h._hasIcon()){i=h.getIconAlign();g.iconMarkup=h.getIconMarkup();g.iconBeforeTitle=(i==="top"||i==="left")}return g},onAdded:function(n,j,p){var l=this,k=l._titleSuffix,m=n.baseCls;l.addCls([m+k,m+k+"-"+n.ui]);Ext.Component.prototype.onAdded.call(this,n,j,p)},updateGlyph:function(l,p){l=l||0;var m=this,k=m._glyphCls,q,r,n;m.glyph=l;if(m.rendered){m._syncIconVisibility();q=m.iconEl;if(typeof l==="string"){n=l.split("@");l=n[0];r=n[1]||Ext._glyphFontFamily}if(!l){q.dom.innerHTML="";q.removeCls(k)}else{if(p!==l){q.dom.innerHTML="&#"+l+";";q.addCls(k)}}if(r){q.setStyle("font-family",r)}if(m._didIconStateChange(p,l)){m.updateLayout()}}},updateIcon:function(j,h){j=j||"";var i=this,k;if(i.rendered&&j!==h){i._syncIconVisibility();k=i.iconEl;k.setStyle("background-image",j?"url("+j+")":"");if(i._didIconStateChange(h,j)){i.updateLayout()}}},updateIconAlign:function(j,m){var n=this,k=n.iconWrapEl,p,l;if(n.iconWrapEl){p=n.el;l=n._iconAlignClasses;if(m){k.removeCls(l[m])}k.addCls(l[j]);if(j==="top"||j==="left"){p.insertFirst(k)}else{p.appendChild(k)}n.updateLayout()}},updateIconCls:function(j,i){j=j||"";var h=this,k;if(h.rendered&&i!==j){h._syncIconVisibility();k=h.iconEl;if(i){k.removeCls(i)}k.addCls(j);if(h._didIconStateChange(i,j)){h.updateLayout()}}},updateRotation:function(l,m){var j=this,k,i;if(j.rendered){k=j.el;i=j._rotationClasses;j.removeCls(i[m]);j.addCls(i[l]);k.setHorizontal();if(l){k.setVertical(j._rotationAngles[l])}k.setStyle({right:"",left:"",top:"",height:"",width:""});j.lastBox=null;j.updateLayout()}},updateText:function(d){if(this.rendered){this.textEl.setHtml(d);this.updateLayout()}},updateTextAlign:function(h,j){var k=this,i=k._textAlignClasses;if(k.rendered){if(j){k.removeCls(i[j])}k.addCls(i[h]);k.updateLayout()}},privates:{_getVerticalAdjustDirection:function(){return"left"},_didIconStateChange:function(i,g){var h=Ext.isEmpty(g);return Ext.isEmpty(i)?!h:h},_hasIcon:function(){return !!(this.getIcon()||this.getIconCls()||this.getGlyph())},_syncIconVisibility:function(){var k=this,l=k.el,p=k._hasIcon(),j=k.iconWrapEl,m,n;if(p&&!j){n=k.iconAlign;m=(n==="left"||n==="top");l.dom.insertAdjacentHTML(m?"afterbegin":"beforeend",k.getIconMarkup());j=k.iconWrapEl=l[m?"first":"last"]();k.iconEl=j.first()}if(j){j.setDisplayed(p)}}}},0,["title"],["component","box","title"],{component:true,box:true,title:true},["widget.title"],0,[Ext.panel,"Title"],0));(Ext.cmd.derive("Ext.panel.Tool",Ext.Component,{isTool:true,baseCls:"x-tool",disabledCls:"x-tool-disabled",toolPressedCls:"x-tool-pressed",toolOverCls:"x-tool-over",childEls:["toolEl"],renderTpl:['<div id="{id}-toolEl" data-ref="toolEl" class="{baseCls}-img {baseCls}-{type}{childElCls}" role="presentation"></div>'],toolOwner:null,tooltipType:"qtip",stopEvent:true,ariaRole:"button",focusable:true,tabIndex:0,keyHandlers:{SPACE:"onClick",ENTER:"onClick"},cacheHeight:true,cacheWidth:true,initComponent:function(){var d=this;d.type=d.type||d.id;Ext.applyIf(d.renderData,{baseCls:d.baseCls,type:d.type});d.tooltip=d.tooltip||d.qtip;Ext.Component.prototype.initComponent.call(this)},afterRender:function(){var g=this,e;Ext.Component.prototype.afterRender.apply(this,arguments);g.el.on({click:g.onClick,mousedown:g.onMouseDown,mouseover:g.onMouseOver,mouseout:g.onMouseOut,scope:g});e=g.tooltip;if(e){g.setTooltip(e)}},tipAttrs:{qtip:"data-qtip"},setTooltip:function(m,q){var p=this,s=p.tooltip,n=p.tooltipType,l=p.id,r=p.el,t;if(s&&Ext.quickTipsActive&&Ext.isObject(s)){Ext.tip.QuickTipManager.unregister(l)}p.tooltip=m;if(q){p.tooltipType=q}if(m){if(Ext.quickTipsActive&&Ext.isObject(m)){Ext.tip.QuickTipManager.register(Ext.apply({target:l},m))}else{if(r){if(q&&n&&q!==n){t=p.tipAttrs[n]||"title";r.dom.removeAttribute(t)}t=p.tipAttrs[q||n]||"title";r.dom.setAttribute(t,m)}}if(t!=="title"&&p.ariaRole&&p.ariaRole!=="presentation"){if(r){r.dom.setAttribute("aria-label",m)}else{p.ariaRenderAttributes=p.ariaRenderAttributes||{};p.ariaRenderAttributes["aria-label"]=m}}}},setType:function(i){var h=this,g=h.type;h.type=i;if(h.rendered){if(g){h.toolEl.removeCls(h.baseCls+"-"+g)}h.toolEl.addCls(h.baseCls+"-"+i)}else{h.renderData.type=i}return h},onDestroy:function(){var g=this,e=g.keyMap;g.setTooltip(null);delete g.toolOwner;Ext.Component.prototype.onDestroy.call(this)},privates:{onClick:function(e,h){var i=this;if(i.disabled){return false}if(e.type!=="keydown"){i.el.removeCls(i.toolPressedCls+" "+i.toolOverCls)}if(i.stopEvent!==false){e.stopEvent()}if(i.handler){Ext.callback(i.handler,i.scope,[e,h,i.ownerCt,i],0,i)}else{if(i.callback){Ext.callback(i.callback,i.scope,[i.toolOwner||i.ownerCt,i,e],0,i)}}i.fireEvent("click",i,e,i.toolOwner||i.ownerCt);return true},onMouseDown:function(d){d.preventDefault();if(this.disabled){return false}this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled){return false}this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}}},0,["tool"],["component","box","tool"],{component:true,box:true,tool:true},["widget.tool"],0,[Ext.panel,"Tool"],0));(Ext.cmd.derive("Ext.util.KeyMap",Ext.Base,{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(g){var e=this;if((arguments.length!==1)||(typeof g==="string")||g.dom||g.tagName||g===document||g.isComponent){e.legacyConstructor.apply(e,arguments);return}Ext.apply(e,g);e.bindings=[];if(!e.target.isComponent){e.target=Ext.get(e.target)}if(e.binding){e.addBinding(e.binding)}else{if(g.key){e.addBinding(g)}}e.enable()},legacyConstructor:function(j,h,k){var i=this;Ext.apply(i,{target:Ext.get(j),eventName:k||i.eventName,bindings:[]});if(h){i.addBinding(h)}i.enable()},addBinding:function(i){var k=this,j=i.key,l,m;if(k.processing){k.bindings=k.bindings.slice(0)}if(Ext.isArray(i)){for(l=0,m=i.length;l<m;l++){k.addBinding(i[l])}return}k.bindings.push(Ext.apply({keyCode:k.processKeys(j)},i))},removeBinding:function(l){var m=this,i=m.bindings,r=i.length,q,n,p;if(m.processing){m.bindings=i.slice(0)}p=m.processKeys(l.key);for(q=0;q<r;++q){n=i[q];if((n.fn||n.handler)===(l.fn||l.handler)&&n.scope===l.scope){if(l.alt===n.alt&&l.crtl===n.crtl&&l.shift===n.shift){if(Ext.Array.equals(n.keyCode,p)){Ext.Array.erase(m.bindings,q,1);return}}}}},processKeys:function(l){var i=false,n,m,q,r,p;if(l.test){return l}if(Ext.isString(l)){m=[];q=l.toUpperCase();for(p=0,r=q.length;p<r;++p){m.push(q.charCodeAt(p))}l=m;i=true}if(!Ext.isArray(l)){l=[l]}if(!i){for(p=0,r=l.length;p<r;++p){n=l[p];if(Ext.isString(n)){l[p]=n.toUpperCase().charCodeAt(0)}}}return l},handleTargetEvent:function(k){var l=this,i,m,n,p;if(l.enabled){i=l.bindings;m=0;n=i.length;k=l.processEvent.apply(l.processEventScope||l,arguments);if(k){l.lastKeyEvent=k;if(l.ignoreInputFields&&Ext.fly(k.target).isInputField()){return}if(!k.getKey){return k}l.processing=true;for(;m<n;++m){p=l.processBinding(i[m],k);if(p===false){l.processing=false;return p}}l.processing=false}}},processEvent:Ext.identityFn,processBinding:function(t,x){if(this.checkModifiers(t,x)){var s=x.getKey(),q=t.fn||t.handler,p=t.scope||this,r=t.keyCode,w=t.defaultEventAction,v,u,i;if(r.test){if(r.test(String.fromCharCode(x.getCharCode()))){i=q.call(p,s,x);if(i!==true&&w){x[w]()}if(i===false){return i}}}else{if(r.length){for(v=0,u=r.length;v<u;++v){if(s===r[v]){i=q.call(p,s,x);if(i!==true&&w){x[w]()}if(i===false){return i}break}}}}}},checkModifiers:function(i,m){var n=["shift","ctrl","alt"],p=0,r=n.length,l,q;for(;p<r;++p){q=n[p];l=i[q];if(!(l===undefined||(l===m[q+"Key"]))){return false}}return true},on:function(q,n,p){var k,r,m,l;if(Ext.isObject(q)&&!Ext.isArray(q)){k=q.key;r=q.shift;m=q.ctrl;l=q.alt}else{k=q}this.addBinding({key:k,shift:r,ctrl:m,alt:l,fn:n,scope:p})},un:function(q,n,p){var k,r,m,l;if(Ext.isObject(q)&&!Ext.isArray(q)){k=q.key;r=q.shift;m=q.ctrl;l=q.alt}else{k=q}this.removeBinding({key:k,shift:r,ctrl:m,alt:l,fn:n,scope:p})},isEnabled:function(){return this.enabled},enable:function(){var d=this;if(!d.enabled){d.target.on(d.eventName,d.handleTargetEvent,d,{capture:d.capture,priority:d.priority});d.enabled=true}},disable:function(){var d=this;if(d.enabled){d.target.removeListener(d.eventName,d.handleTargetEvent,d);d.enabled=false}},setDisabled:function(d){if(d){this.disable()}else{this.enable()}},destroy:function(g){var i=this,h=i.target;i.bindings=[];i.disable();if(g){h.destroy()}delete i.target;i.callParent()}},1,0,0,0,0,0,[Ext.util,"KeyMap",Ext,"KeyMap"],0));(Ext.cmd.derive("Ext.util.KeyNav",Ext.Base,{alternateClassName:"Ext.KeyNav",disabled:false,defaultEventAction:false,forceKeyDown:false,eventName:"keypress",statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(g){var e=this;if(arguments.length===2){e.legacyConstructor.apply(e,arguments);return}e.doConstruction(g)},legacyConstructor:function(e,g){this.doConstruction(Ext.apply({target:e},g))},doConstruction:function(k){var i=this,j={target:k.target,ignoreInputFields:k.ignoreInputFields,eventName:i.getKeyEvent("forceKeyDown" in k?k.forceKeyDown:i.forceKeyDown,k.eventName),capture:k.capture},h;if(i.map){i.map.destroy()}i.initConfig(k);if(k.processEvent){j.processEvent=k.processEvent;j.processEventScope=k.processEventScope||i}if(k.priority){j.priority=k.priority}if(k.keyMap){h=i.map=k.keyMap}else{h=i.map=new Ext.util.KeyMap(j);i.destroyKeyMap=true}this.addBindings(k);h.disable();if(!k.disabled){h.enable()}},addBindings:function(l){var r=this,s,n,p=r.map,t=Ext.util.KeyNav.keyOptions,q,m=l.scope||r;for(s in l){n=l[s];q=t[s];if(q!=null){s=q}if(n&&(s.length===1||!isNaN(s=parseInt(s,10)))){if(typeof n==="function"){n={handler:n,defaultEventAction:(l.defaultEventAction!==undefined)?l.defaultEventAction:r.defaultEventAction}}p.addBinding({key:s,ctrl:n.ctrl,shift:n.shift,alt:n.alt,handler:Ext.Function.bind(r.handleEvent,n.scope||m,[n.handler||n.fn,r],true),defaultEventAction:(n.defaultEventAction!==undefined)?n.defaultEventAction:r.defaultEventAction})}}},handleEvent:function(h,i,j,k){k.lastKeyEvent=i;return j.call(this,i)},destroy:function(e){var g=this;if(g.destroyKeyMap){g.map.destroy(e)}delete g.map;g.callParent()},enable:function(){if(this.map){this.map.enable();this.disabled=false}},disable:function(){if(this.map){this.map.disable()}this.disabled=true},setDisabled:function(d){this.map.setDisabled(d);this.disabled=d},getKeyEvent:function(e,g){if(e||(Ext.supports.SpecialKeyDownRepeat&&!g)){return"keydown"}else{return g||this.eventName}}},1,0,0,0,0,0,[Ext.util,"KeyNav",Ext,"KeyNav"],0));(Ext.cmd.derive("Ext.util.FocusableContainer",Ext.Mixin,{mixinConfig:{id:"focusablecontainer",before:{onAdd:"onFocusableChildAdd",onRemove:"onFocusableChildRemove",destroy:"destroyFocusableContainer",onFocusEnter:"onFocusEnter"},after:{afterRender:"initFocusableContainer",onFocusLeave:"onFocusLeave",afterShow:"activateFocusableContainerEl"}},isFocusableContainer:true,enableFocusableContainer:true,activeChildTabIndex:0,inactiveChildTabIndex:-1,privates:{initFocusableContainer:function(i){var j,h,k;if(this.enableFocusableContainer){i=i!=null?i:true;this.doInitFocusableContainer(i)}else{j=this.getFocusables();for(h=0,k=j.length;h<k;h++){j[h].focusableContainer=null}}},doInitFocusableContainer:function(k){var i=this,j,h;j=i.getFocusableContainerEl();if(k){i.clearFocusables()}h=i.findNextFocusableChild({step:1,beforeRender:true});if(h){i.activateFocusableContainerEl(j)}i.focusableContainerMouseListener=i.mon(j,"mousedown",i.onFocusableContainerMousedown,i);i.focusableKeyNav=i.createFocusableContainerKeyNav(j)},createFocusableContainerKeyNav:function(g){var e=this;return new Ext.util.KeyNav(g,{eventName:"keydown",ignoreInputFields:true,scope:e,tab:e.onFocusableContainerTabKey,enter:e.onFocusableContainerEnterKey,space:e.onFocusableContainerSpaceKey,up:e.onFocusableContainerUpKey,down:e.onFocusableContainerDownKey,left:e.onFocusableContainerLeftKey,right:e.onFocusableContainerRightKey})},destroyFocusableContainer:function(){if(this.enableFocusableContainer){this.doDestroyFocusableContainer()}},doDestroyFocusableContainer:function(){var d=this;if(d.keyNav){d.keyNav.destroy()}if(d.focusableContainerMouseListener){d.focusableContainerMouseListener.destroy()}d.focusableKeyNav=d.focusableContainerMouseListener=null},getFocusables:function(){return this.items.items},initDefaultFocusable:function(i){var q=this,n=q.activeChildTabIndex,t=false,r,p,u,s,v;r=q.getFocusables();s=r.length;if(!s){return}for(u=0;u<s;u++){p=r[u];if(p.focusable&&!p.disabled){t=true;v=p.getTabIndex();if(v!=null&&v>=n){return p}}}if(!t){return}p=q.findNextFocusableChild({beforeRender:i,items:r,step:true});if(p){q.activateFocusable(p)}return p},clearFocusables:function(){var i=this,l=i.getFocusables(),m=l.length,j,k;for(k=0;k<m;k++){j=l[k];if(j.focusable&&!j.disabled){i.deactivateFocusable(j)}}},activateFocusable:function(g,h){var i=h!=null?h:this.activeChildTabIndex;g.setTabIndex(i)},deactivateFocusable:function(g,h){var i=h!=null?h:this.inactiveChildTabIndex;g.setTabIndex(i)},onFocusableContainerTabKey:function(){return true},onFocusableContainerEnterKey:function(){return true},onFocusableContainerSpaceKey:function(){return true},onFocusableContainerUpKey:function(d){d.preventDefault();return this.moveChildFocus(d,false)},onFocusableContainerDownKey:function(d){d.preventDefault();return this.moveChildFocus(d,true)},onFocusableContainerLeftKey:function(d){d.preventDefault();return this.moveChildFocus(d,false)},onFocusableContainerRightKey:function(d){d.preventDefault();return this.moveChildFocus(d,true)},getFocusableFromEvent:function(g){var e=Ext.Component.fromElement(g.getTarget());return e},moveChildFocus:function(h,i){var e=this.getFocusableFromEvent(h);return this.focusChild(e,i,h)},focusChild:function(g,i){var h=this.findNextFocusableChild({child:g,step:i});if(h){h.focus()}return h},findNextFocusableChild:function(i){var n=i.beforeRender,r,p,v,u,q,t,s;r=i.items||this.getFocusables();u=i.step!=null?i.step:1;v=i.child;q=Ext.Array.indexOf(r,v);u=u===true?1:u===false?-1:u;s=r.length;t=u>0?(q<s?q+u:0):(q>0?q+u:s-1);for(;;t+=u){if(q<0&&(t>=s||t<0)){return null}else{if(t>=s){t=-1;continue}else{if(t<0){t=s;continue}else{if(t===q){return null}}}}p=r[t];if(!p||!p.focusable||p.disabled){continue}if(n||(p.isFocusable&&p.isFocusable())){return p}}return null},getFocusableContainerEl:function(){return this.el},onFocusableChildAdd:function(d){if(this.enableFocusableContainer){return this.doFocusableChildAdd(d)}},activateFocusableContainerEl:function(d){d=d||this.getFocusableContainerEl();if(d){d.set({tabIndex:this.activeChildTabIndex})}},deactivateFocusableContainerEl:function(d){d=d||this.getFocusableContainerEl();if(d){d.set({tabIndex:undefined})}},isFocusableContainerActive:function(){var j=this,k=false,l,i,m;l=j.getFocusableContainerEl();if(l&&l.isTabbable&&l.isTabbable()){k=true}else{i=j.lastFocusedChild;m=i&&i.getFocusEl&&i.getFocusEl();if(m&&m.isTabbable&&m.isTabbable()){k=true}}return k},doFocusableChildAdd:function(d){if(d.focusable){d.focusableContainer=this}},onFocusableChildRemove:function(d){if(this.enableFocusableContainer){return this.doFocusableChildRemove(d)}d.focusableContainer=null},doFocusableChildRemove:function(d){if(d===this.lastFocusedChild){this.lastFocusedChild=null;this.activateFocusableContainerEl()}},onFocusableContainerMousedown:function(e,h){var i=Ext.Component.fromElement(h);this.mousedownTimestamp=i===this?Ext.Date.now():0;if(i===this){e.preventDefault()}},onFocusEnter:function(m){var p=this,n=m.toComponent,l=p.mousedownTimestamp,e=50,k;if(!p.enableFocusableContainer){return null}p.mousedownTimestamp=0;if(n===p){if(!l||Ext.Date.now()-l>e){k=p.initDefaultFocusable();if(k){p.deactivateFocusableContainerEl();k.focus()}}}else{p.deactivateFocusableContainerEl()}return n},onFocusLeave:function(e){var h=this,i=h.lastFocusedChild;if(!h.enableFocusableContainer){return}if(!h.destroyed&&!h.destroying){h.clearFocusables();if(i&&!i.disabled){h.activateFocusable(i)}else{h.activateFocusableContainerEl()}}},beforeFocusableChildBlur:Ext.privateFn,afterFocusableChildBlur:Ext.privateFn,beforeFocusableChildFocus:function(e){var g=this;if(!g.enableFocusableContainer){return}g.clearFocusables();g.activateFocusable(e);if(e.needArrowKeys){g.guardFocusableChild(e)}},guardFocusableChild:function(h){var i=this,k=i.activeChildTabIndex,j;j=i.findNextFocusableChild({child:h,step:-1});if(j){j.setTabIndex(k)}j=i.findNextFocusableChild({child:h,step:1});if(j){j.setTabIndex(k)}},afterFocusableChildFocus:function(d){if(!this.enableFocusableContainer){return}this.lastFocusedChild=d},beforeFocusableChildEnable:Ext.privateFn,onFocusableChildEnable:function(e){var g=this;if(!g.enableFocusableContainer){return}if(e!==g.lastFocusedChild){g.deactivateFocusable(e);if(!g.isFocusableContainerActive()){g.activateFocusableContainerEl()}}},beforeFocusableChildDisable:function(g){var h=this,i;if(!h.enableFocusableContainer||h.destroying||h.destroyed){return}if(g.hasFocus){i=h.findNextFocusableChild({child:g})||g.findFocusTarget();if(i){i.focus()}}},onFocusableChildDisable:function(h){var i=this,k=i.lastFocusedChild,j;if(!i.enableFocusableContainer||i.destroying||i.destroyed){return}if(h===k){i.activateFocusableContainerEl()}j=i.findNextFocusableChild({step:1});if(!j){i.deactivateFocusableContainerEl()}},onFocusableChildShow:Ext.privateFn,onFocusableChildHide:Ext.privateFn,onFocusableChildMasked:Ext.privateFn,onFocusableChildDestroy:Ext.privateFn,onFocusableChildUpdate:Ext.privateFn}},0,0,0,0,0,0,[Ext.util,"FocusableContainer"],0));(Ext.cmd.derive("Ext.panel.Header",Ext.panel.Bar,{isHeader:true,defaultType:"tool",indicateDrag:false,weight:-1,shrinkWrap:3,iconAlign:"left",titleAlign:"left",titlePosition:0,titleRotation:"default",autoEl:{role:"presentation"},beforeRenderConfig:{glyph:null,icon:null,iconCls:null,iconAlign:null,title:{$value:{xtype:"title",flex:1},merge:function(e,g){if(typeof e!=="object"){e={text:e}}return Ext.merge(g?Ext.Object.chain(g):{},e)}},titleAlign:null,titlePosition:null,titleRotation:null},headerCls:"x-header",initComponent:function(){var h=this,i=h.items,j=h.itemPosition,k=[h.headerCls];h.tools=h.tools||[];h.items=i=(i?i.slice():[]);if(j!==undefined){h._userItems=i.slice();h.items=i=[]}h.indicateDragCls=h.headerCls+"-draggable";if(h.indicateDrag){k.push(h.indicateDragCls)}h.addCls(k);h.syncNoBorderCls();h.enableFocusableContainer=!h.isAccordionHeader&&h.tools.length>0;if(h.enableFocusableContainer){h.ariaRole="toolbar"}Ext.Array.push(i,h.tools);h.tools.length=0;Ext.panel.Bar.prototype.initComponent.call(this);h.on({dblclick:h.onDblClick,click:h.onClick,element:"el",scope:h})},addTool:function(g){var e=this;e.add(Ext.ComponentManager.create(g,"tool"));if(!e.isAccordionHeader&&e.tools.length>0&&!e.enableFocusableContainer){e.enableFocusableContainer=true;e.ariaRole="toolbar";if(e.rendered){e.ariaEl.dom.setAttribute("role","toolbar");e.initFocusableContainer(true)}}},afterLayout:function(){var l=this,i,m,k,j;if(l.vertical){m=l.frameTR;if(m){i=l.frameBR;k=l.frameTL;j=(l.getWidth()-m.getPadding("r")-((k)?k.getPadding("l"):l.el.getBorderWidth("l")))+"px";i.setStyle("background-position-x",j);m.setStyle("background-position-x",j)}}Ext.panel.Bar.prototype.afterLayout.call(this)},applyTitle:function(i,k){var j=this,m,l;i=i||"";m=typeof i==="string";if(m){i={text:i}}if(k){Ext.suspendLayouts();k.setConfig(i);Ext.resumeLayouts(true);i=k}else{if(m){i.xtype="title"}i.ui=j.ui;l=("rotation" in i);i.id=j.id+"-title";if(j.isAccordionHeader){i.ariaRole="tab";i.textElRole=null;i.focusable=true}i=Ext.create(i);if(!l&&j.vertical&&j.titleRotation==="default"){i.rotation=1}}return i},applyTitlePosition:function(e){var g=this.items.getCount();if(this._titleInItems){--g}return Math.max(Math.min(e,g),0)},beforeLayout:function(){Ext.panel.Bar.prototype.beforeLayout.call(this);this.syncBeforeAfterTitleClasses()},beforeRender:function(){var e=this,g=e.itemPosition;e.protoEl.unselectable();Ext.panel.Bar.prototype.beforeRender.call(this);if(g!==undefined){e.insert(g,e._userItems)}},getTools:function(){return this.tools.slice()},onAdd:function(h,i){var g=this.tools;Ext.panel.Bar.prototype.onAdd.call(this,h,i);if(h.isTool){g.push(h);g[h.type]=h}},onAdded:function(h,g,i){this.syncNoBorderCls();Ext.panel.Bar.prototype.onAdded.call(this,h,g,i)},onRemoved:function(h,g,i){this.syncNoBorderCls();Ext.panel.Bar.prototype.onRemoved.call(this,h,g,i)},setDock:function(k){var l=this,i=l.getTitle(),m=l.getTitleRotation(),j=i.getRotation();Ext.suspendLayouts();Ext.panel.Bar.prototype.setDock.call(this,k);if(m==="default"){m=(l.vertical?1:0);if(m!==j){i.setRotation(m)}if(l.rendered){l.resetItemMargins()}}Ext.resumeLayouts(true)},updateGlyph:function(d){this.getTitle().setGlyph(d)},updateIcon:function(d){this.getTitle().setIcon(d)},updateIconAlign:function(e,g){this.getTitle().setIconAlign(e)},updateIconCls:function(d){this.getTitle().setIconCls(d)},updateTitle:function(e,g){if(!g){this.insert(this.getTitlePosition(),e);this._titleInItems=true}this.titleCmp=e},updateTitleAlign:function(e,g){this.getTitle().setTextAlign(e)},updateTitlePosition:function(d){this.insert(d,this.getTitle())},updateTitleRotation:function(d){if(d==="default"){d=(this.vertical?1:0)}this.getTitle().setRotation(d)},privates:{fireClickEvent:function(i,e){var h="."+Ext.panel.Tool.prototype.baseCls;if(!e.getTarget(h)){this.fireEvent(i,this,e)}},getFramingInfoCls:function(){var g=this,h=Ext.panel.Bar.prototype.getFramingInfoCls.call(this),i=g.ownerCt;if(!g.expanding&&i&&(i.collapsed||g.isCollapsedExpander)){h+="-"+i.collapsedCls}return h+"-"+g.dock},onClick:function(d){this.fireClickEvent("click",d)},onDblClick:function(d){this.fireClickEvent("dblclick",d)},onFocusableContainerMousedown:function(e,h){var i=Ext.Component.fromElement(h);if(i===this){e.preventDefault()}else{this.mixins.focusablecontainer.onFocusableContainerMousedown.apply(this,arguments)}},syncBeforeAfterTitleClasses:function(z){var t=this,u=t.items,w=u.items,A=t.getTitlePosition(),B=w.length,v=u.generation,s=t.syncBeforeAfterGen,i,x,y,r;if(!z&&(s===v)){return}t.syncBeforeAfterGen=v;for(y=0;y<B;++y){r=w[y];i=r.afterTitleCls||(r.afterTitleCls=r.baseCls+"-after-title");x=r.beforeTitleCls||(r.beforeTitleCls=r.baseCls+"-before-title");if(!t.title||y<A){if(s){r.removeCls(i)}r.addCls(x)}else{if(y>A){if(s){r.removeCls(x)}r.addCls(i)}}}},syncNoBorderCls:function(){var h=this,i=this.ownerCt,g=h.headerCls+"-noborder";if(i?(i.border===false&&!i.frame):h.border===false){h.addCls(g)}else{h.removeCls(g)}}}},0,["header"],["component","box","container","header"],{component:true,box:true,container:true,header:true},["widget.header"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.panel,"Header"],0));(Ext.cmd.derive("Ext.layout.container.boxOverflow.None",Ext.Base,{alternateClassName:"Ext.layout.boxOverflow.None",factoryConfig:{defaultType:"none"},isBoxOverflowHandler:true,$configPrefixed:false,$configStrict:false,constructor:function(d){this.initConfig(d)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(j){var k=this,i=j.state.boxPlan,h;if(i&&i.tooNarrow){h=k.handleOverflow(j);if(h){if(h.reservedSpace){k.layout.publishInnerCtSize(j,h.reservedSpace)}}}else{k.clearOverflow()}},completeLayout:Ext.emptyFn,finishedLayout:function(j){var k=this,m=k.layout.owner,l,i;if(m.hasListeners.overflowchange){l=m.query(">[hidden]");i=l.length;if(i!==k.lastHiddenCount){m.fireEvent("overflowchange",k.lastHiddenCount,i,l);k.lastHiddenCount=i}}},onRemove:Ext.emptyFn,getItem:function(d){return this.layout.owner.getComponent(d)},getOwnerType:function(g){var e;if(g.isToolbar){e="toolbar"}else{if(g.isTabBar){e="tab-bar"}else{if(g.isMenu){e="menu"}else{if(g.isBreadcrumb){e="breadcrumb"}else{e=g.getXType()}}}}return e},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""},setVertical:function(){var h=this,i=h.layout,g=i.innerCt;g.removeCls(h.getOverflowCls(i.oppositeDirection));g.addCls(h.getOverflowCls(i.direction))}},1,0,0,0,["box.overflow.None","box.overflow.none"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.layout.container.boxOverflow,"None",Ext.layout.boxOverflow,"None"],0));(Ext.cmd.derive("Ext.layout.container.boxOverflow.Scroller",Ext.layout.container.boxOverflow.None,{alternateClassName:"Ext.layout.boxOverflow.Scroller",animateScroll:false,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:"x-box-scroller",beforeSuffix:"-before-scroller",afterSuffix:"-after-scroller",constructor:function(g){var e=this;e.mixins.observable.constructor.call(e,g);e.scrollPosition=0;e.scrollSize=0},getPrefixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.beforeSuffix,cls:this.createScrollerCls("beforeX"),style:"display:none"}},getSuffixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.afterSuffix,cls:this.createScrollerCls("afterX"),style:"display:none"}},createScrollerCls:function(m){var k=this,l=k.layout,q=l.owner,n=k.getOwnerType(q),r=k.scrollerCls,p=r+" "+r+"-"+l.names[m]+" "+r+"-"+n+" "+r+"-"+n+"-"+q.ui;if(q.plain){p+=" "+r+"-plain"}return p},getOverflowCls:function(d){return this.scrollerCls+"-body-"+d},beginLayout:function(d){d.innerCtScrollPos=this.getScrollPosition();Ext.layout.container.boxOverflow.None.prototype.beginLayout.apply(this,arguments)},finishedLayout:function(n){var p=this,l=n.state.boxPlan,q=p.layout,m=q.names,k=Math.min(p.getMaxScrollPosition(),n.innerCtScrollPos),r;if(l&&l.tooNarrow){r=n.childItems[n.childItems.length-1].props;p.scrollSize=r[m.x]+r[m.width];p.updateScrollButtons();q.innerCt[m.setScrollLeft](k)}Ext.layout.container.boxOverflow.None.prototype.finishedLayout.call(this,n)},handleOverflow:function(u){var p=this,q=p.layout.names,n=q.getWidth,m=q.parallelMargins,t,r,s,v;p.showScrollers();s=p.getBeforeScroller();v=p.getAfterScroller();t=s[n]()+v[n]()+s.getMargin(m)+v.getMargin(m);r=u.targetContext.getPaddingInfo()[q.width];return{reservedSpace:Math.max(t-r,0)}},getBeforeScroller:function(){var d=this;return d._beforeScroller||(d._beforeScroller=d.createScroller(d.beforeSuffix,"beforeRepeater","scrollLeft"))},getAfterScroller:function(){var d=this;return d._afterScroller||(d._afterScroller=d.createScroller(d.afterSuffix,"afterRepeater","scrollRight"))},createScroller:function(l,n,k){var m=this,p=m.layout.owner,q=m.scrollerCls,r;r=p.el.getById(p.id+l);r.addClsOnOver(q+"-hover");r.addClsOnClick(q+"-pressed");r.setVisibilityMode(Ext.Element.DISPLAY);m[n]=new Ext.util.ClickRepeater(r,{interval:m.scrollRepeatInterval,handler:k,scope:m});return r},createWheelListener:function(){var d=this;d.wheelListener=d.layout.innerCt.on("mousewheel",d.onMouseWheel,d,{destroyable:true})},onMouseWheel:function(d){d.stopEvent();this.scrollBy(this.getWheelDelta(d)*this.wheelIncrement*-1,false)},getWheelDelta:function(d){return d.getWheelDelta()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){var d=this;if(!d.wheelListener){d.createWheelListener()}d.getBeforeScroller().show();d.getAfterScroller().show();d.layout.owner.addClsWithUI(d.layout.direction==="vertical"?"vertical-scroller":"scroller")},hideScrollers:function(){var h=this,g=h.getBeforeScroller(),i=h.getAfterScroller();if(g){g.hide();i.hide();h.layout.owner.removeClsWithUI(h.layout.direction==="vertical"?"vertical-scroller":"scroller")}},destroy:function(){Ext.destroyMembers(this,"beforeRepeater","afterRepeater","_beforeScroller","_afterScroller","wheelListener");this.callParent()},scrollBy:function(e,g){this.scrollTo(this.getScrollPosition()+e,g)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var j=this,h=j.getBeforeScroller(),k=j.getAfterScroller(),i;if(!h||!k){return}i=j.scrollerCls+"-disabled";h[j.atExtremeBefore()?"addCls":"removeCls"](i);k[j.atExtremeAfter()?"addCls":"removeCls"](i);j.scrolling=false},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,false)},scrollRight:function(){this.scrollBy(this.scrollIncrement,false)},getScrollPosition:function(){var g=this,h=g.layout,i;if(isNaN(g.scrollPosition)){i=h.innerCt[h.names.getScrollLeft]()}else{i=g.scrollPosition}return i},getMaxScrollPosition:function(){var h=this,i=h.layout,g=h.scrollSize-i.innerCt.lastBox[i.names.width];return(g<0)?0:g},atExtremeBefore:function(){return !this.getScrollPosition()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},setVertical:function(){var k=this,j=k.getBeforeScroller(),l=k.getAfterScroller(),i=k.layout.names,m=k.scrollerCls;j.removeCls(m+"-"+i.beforeY);l.removeCls(m+"-"+i.afterY);j.addCls(m+"-"+i.beforeX);l.addCls(m+"-"+i.afterX);Ext.layout.container.boxOverflow.None.prototype.setVertical.call(this)},scrollTo:function(r,q){var l=this,m=l.layout,k=m.names,n=l.getScrollPosition(),p=Ext.Number.constrain(r,0,l.getMaxScrollPosition());if(p!==n&&!l.scrolling){l.scrollPosition=NaN;if(q===undefined){q=l.animateScroll}m.innerCt[k.scrollTo](k.beforeScrollX,p,q?l.getScrollAnim():false);if(q){l.scrolling=true}else{l.updateScrollButtons()}l.fireEvent("scroll",l,p,q?l.getScrollAnim():false)}},scrollToItem:function(n,v){var p=this,s=p.layout,u=s.owner,q=s.names,w=s.innerCt,x,t,r;n=p.getItem(n);if(n!==undefined){if(n===u.items.first()){r=0}else{if(n===u.items.last()){r=p.getMaxScrollPosition()}else{x=p.getItemVisibility(n);if(!x.fullyVisible){t=n.getBox(false,true);r=t[q.x];if(x.hiddenEnd){r-=(w[q.getWidth]()-t[q.width])}}}}if(r!==undefined){p.scrollTo(r,v)}}},getItemVisibility:function(m){var p=this,u=p.getItem(m).getBox(true,true),t=p.layout,q=t.names,r=u[q.x],s=r+u[q.width],v=p.getScrollPosition(),n=v+t.innerCt[q.getWidth]();return{hiddenStart:r<v,hiddenEnd:s>n,fullyVisible:r>=v&&s<=n}}},1,0,0,0,["box.overflow.Scroller","box.overflow.scroller"],[["observable",Ext.mixin.Observable]],[Ext.layout.container.boxOverflow,"Scroller",Ext.layout.boxOverflow,"Scroller"],0));(Ext.cmd.derive("Ext.dd.DragDropManager",Ext.Base,{singleton:true,alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,init:function(){this.initialized=true},POINT:0,INTERSECT:1,mode:0,notifyOccluded:false,dragCls:"x-dd-drag-current",_execOnAll:function(p,q){var m=this.ids,n,r,i,j;for(n in m){if(m.hasOwnProperty(n)){j=m[n];for(r in j){if(j.hasOwnProperty(r)){i=j[r];if(!this.isTypeOfDD(i)){continue}i[p].apply(i,q)}}}}},addListeners:function(){var d=this;d.init();Ext.getDoc().on({mouseup:d.handleMouseUp,mousemove:{fn:d.handleMouseMove,capture:false},dragstart:d.preventDrag,drag:d.preventDrag,dragend:d.preventDrag,capture:true,scope:d});Ext.getWin().on({unload:d._onUnload,resize:d._onResize,scope:d})},preventDrag:function(d){if(this.isMouseDown){d.stopPropagation()}},_onResize:function(d){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:true,clickPixelThresh:8,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,regDragDrop:function(e,g){if(!this.initialized){this.init()}if(!this.ids[g]){this.ids[g]={}}this.ids[g][e.id]=e},removeDDFromGroup:function(g,i){if(!this.ids[i]){this.ids[i]={}}var h=this.ids[i];if(h&&h[g.id]){delete h[g.id]}},_remove:function(g,n){var k=this,m=k.ids,p=g.groups,l;if(k.clearingAll){return}if(k.dragCurrent===g){k.dragCurrent=null}for(l in p){if(p.hasOwnProperty(l)){if(n){delete m[l]}else{if(m[l]){delete m[l][g.id]}}}}delete k.handleIds[g.id];delete k.locationCache[g.id]},regHandle:function(e,g){if(!this.handleIds[e]){this.handleIds[e]={}}this.handleIds[e][g]=g},isDragDrop:function(d){return(this.getDDById(d))?true:false},getRelated:function(i,n){var j=[],l,m,p;for(l in i.groups){for(m in this.ids[l]){p=this.ids[l][m];if(!this.isTypeOfDD(p)){continue}if(!n||p.isTarget){j[j.length]=p}}}return j},isLegalTarget:function(i,j){var l=this.getRelated(i,true),k,m;for(k=0,m=l.length;k<m;++k){if(l[k].id===j.id){return true}}return false},isTypeOfDD:function(d){return(d&&d.__ygDragDrop)},isHandle:function(e,g){return(this.handleIds[e]&&this.handleIds[e][g])},getDDById:function(h,i){var j,k;for(j in this.ids){k=this.ids[j][h];if(k instanceof Ext.dd.DDTarget||i){return k}}return null},handleMouseDown:function(e,j){var l=this,k,m;l.isMouseDown=true;if(Ext.quickTipsActive){Ext.tip.QuickTipManager.ddDisable()}l.currentPoint=e.getPoint();if(l.dragCurrent){l.handleMouseUp(e)}l.mousedownEvent=e;l.currentTarget=e.getTarget();l.dragCurrent=j;m=j.getEl();Ext.fly(m).setCapture();k=e.getXY();l.startX=k[0];l.startY=k[1];l.offsetX=l.offsetY=0;l.deltaX=l.startX-m.offsetLeft;l.deltaY=l.startY-m.offsetTop;l.dragThreshMet=false},startDrag:function(l,i){var k=this,j=k.dragCurrent,m;clearTimeout(k.clickTimeout);if(j){j.b4StartDrag(l,i);j.startDrag(l,i);m=j.getDragEl();if(m){Ext.fly(m).addCls(k.dragCls)}}k.dragThreshMet=true},handleMouseUp:function(e){var g=this;g.isMouseDown=false;if(Ext.quickTipsActive){Ext.tip.QuickTipManager.ddEnable()}if(!g.dragCurrent){return}if(Ext.isIE&&document.releaseCapture){document.releaseCapture()}clearTimeout(g.clickTimeout);if(g.dragThreshMet){g.fireEvents(e,true)}g.stopDrag(e);g.stopEvent(e);g.mousedownEvent=g.currentTarget=null},stopEvent:function(d){if(this.stopPropagation){d.stopPropagation()}if(this.preventDefault){d.preventDefault()}},stopDrag:function(e){var j=this,i=j.dragCurrent,k;if(i){if(j.dragThreshMet){k=i.getDragEl();if(k){Ext.fly(k).removeCls(j.dragCls)}i.b4EndDrag(e);i.endDrag(e)}j.dragCurrent.onMouseUp(e)}j.dragCurrent=null;j.dragOvers={}},handleMouseMove:function(e){var n=this,m=n.dragCurrent,t=n.currentPoint=e.getPoint(),q=t.x,s=t.y,p,r;n.offsetX=q-n.startX;n.offsetY=s-n.startY;if(!m){return true}if(!n.dragThreshMet){p=Math.abs(n.offsetX);r=Math.abs(n.offsetY);if(p>n.clickPixelThresh||r>n.clickPixelThresh){n.startDrag(n.startX,n.startY)}}if(n.dragThreshMet){m.b4Drag(e);m.onDrag(e);if(!m.moveOnly){n.fireEvents(e,false)}}n.stopEvent(e);return true},fireEvents:function(O,M){var J=this,K=Ext.supports.Touch,S=J.dragCurrent,i=J.currentPoint,G=i.x,H=i.y,I=[],R=[],P=[],W=[],L=[],e=[],X=K?document.documentElement.clientWidth/window.innerWidth:1,U,T,N,V,E,D,F,Q;if(!S||S.isLocked()){return}Q=!(S.deltaX<0||S.deltaY<0);if(K||(!J.notifyOccluded&&(!Ext.supports.CSSPointerEvents||Ext.isIE10m||Ext.isOpera)&&Q)){U=S.getDragEl();if(Q){U.style.visibility="hidden"}O.target=document.elementFromPoint(G/X,H/X);if(Q){U.style.visibility="visible"}}for(E in J.dragOvers){T=J.dragOvers[E];delete J.dragOvers[E];if(!J.isTypeOfDD(T)||T.destroyed){continue}if(J.notifyOccluded){if(!this.isOverTarget(i,T,J.mode)){P.push(T)}}else{if(!O.within(T.getEl())){P.push(T)}}R[E]=true}for(F in S.groups){if("string"!==typeof F){continue}for(E in J.ids[F]){T=J.ids[F][E];if(J.isTypeOfDD(T)&&(N=T.getEl())&&(T.isTarget)&&(!T.isLocked())&&(Ext.fly(N).isVisible(true))&&((T!==S)||(S.ignoreSelf===false))){if(J.notifyOccluded){if((T.zIndex=J.getZIndex(N))!==-1){V=true}I.push(T)}else{if(O.within(T.getEl())){I.push(T);break}}}}}if(V){Ext.Array.sort(I,J.byZIndex)}for(E=0,D=I.length;E<D;E++){T=I[E];if(J.isOverTarget(i,T,J.mode)){if(M){L.push(T)}else{if(!R[T.id]){e.push(T)}else{W.push(T)}J.dragOvers[T.id]=T}if(!J.notifyOccluded){break}}}if(J.mode){if(P.length){S.b4DragOut(O,P);S.onDragOut(O,P)}if(e.length){S.onDragEnter(O,e)}if(W.length){S.b4DragOver(O,W);S.onDragOver(O,W)}if(L.length){S.b4DragDrop(O,L);S.onDragDrop(O,L)}}else{for(E=0,D=P.length;E<D;++E){S.b4DragOut(O,P[E].id);S.onDragOut(O,P[E].id)}for(E=0,D=e.length;E<D;++E){S.onDragEnter(O,e[E].id)}for(E=0,D=W.length;E<D;++E){S.b4DragOver(O,W[E].id);S.onDragOver(O,W[E].id)}for(E=0,D=L.length;E<D;++E){S.b4DragDrop(O,L[E].id);S.onDragDrop(O,L[E].id)}}if(M&&!L.length){S.onInvalidDrop(O)}},getZIndex:function(j){var k=document.body,i,h=-1;j=Ext.getDom(j);while(j!==k){if(!isNaN(i=Number(Ext.fly(j).getStyle("zIndex")))){h=i}j=j.parentNode}return h},byZIndex:function(e,g){return e.zIndex<g.zIndex},getBestMatch:function(k){var i=null,l=k.length,j,m;if(l===1){i=k[0]}else{for(j=0;j<l;++j){m=k[j];if(m.cursorIsOver){i=m;break}else{if(!i||i.overlap.getArea()<m.overlap.getArea()){i=m}}}}return i},refreshCache:function(l){var m,k,j,i;for(m in l){if("string"!==typeof m){continue}for(k in this.ids[m]){j=this.ids[m][k];if(this.isTypeOfDD(j)){i=this.getLocation(j);if(i){this.locationCache[j.id]=i}else{delete this.locationCache[j.id]}}}}},verifyEl:function(d){return Ext.getBody().contains(d)},getLocation:function(v){if(!this.isTypeOfDD(v)){return null}if(v.getRegion){return v.getRegion()}var x=v.getEl(),r,y,z,e,l,B,A,t,w;try{r=Ext.fly(x).getXY()}catch(u){}if(!r){return null}y=r[0];z=y+x.offsetWidth;e=r[1];l=e+x.offsetHeight;B=e-v.padding[0];A=z+v.padding[1];t=l+v.padding[2];w=y-v.padding[3];return new Ext.util.Region(B,A,t,w)},isOverTarget:function(m,v,t){var r=this.locationCache[v.id],n,q,u,s,p;if(!r||!this.useCache){r=this.getLocation(v);this.locationCache[v.id]=r}if(!r){return false}v.cursorIsOver=r.contains(m);n=this.dragCurrent;if(!n||!n.getTargetCoord||(!t&&!n.constrainX&&!n.constrainY)){return v.cursorIsOver}v.overlap=null;q=n.getTargetCoord(m.x,m.y);u=n.getDragEl();s=new Ext.util.Region(q.y,q.x+u.offsetWidth,q.y+u.offsetHeight,q.x);p=s.intersect(r);if(p){v.overlap=p;return(t)?true:v.cursorIsOver}else{return false}},_onUnload:function(e,g){Ext.dd.DragDropManager.unregAll()},unregAll:function(){var g=this,i=g.elementCache,h;if(g.dragCurrent){g.stopDrag();g.dragCurrent=null}g.clearingAll=true;g._execOnAll("unreg",[]);delete g.clearingAll;for(h in i){delete i[h]}g.elementCache={};g.ids={};g.handleIds={}},elementCache:{},getElWrapper:function(e){var g=this.elementCache[e];if(!g||!g.el){g=this.elementCache[e]=new this.ElementWrapper(Ext.getDom(e))}return g},getElement:function(d){return Ext.getDom(d)},getCss:function(e){var g=Ext.getDom(e);return(g)?g.style:null},ElementWrapper:function(d){this.el=d||null;this.id=this.el&&d.id;this.css=this.el&&d.style},getPosX:function(d){return Ext.fly(d).getX()},getPosY:function(d){return Ext.fly(d).getY()},swapNode:function(i,k){if(i.swapNode){i.swapNode(k)}else{var h=k.parentNode,j=k.nextSibling;if(j===i){h.insertBefore(i,k)}else{if(k===i.nextSibling){h.insertBefore(k,i)}else{i.parentNode.replaceChild(k,i);h.insertBefore(i,j)}}}},getScroll:function(){var j=window.document,i=j.documentElement,m=j.body,k=0,l=0;if(i&&(i.scrollTop||i.scrollLeft)){k=i.scrollTop;l=i.scrollLeft}else{if(m){k=m.scrollTop;l=m.scrollLeft}}return{top:k,left:l}},getStyle:function(e,g){return Ext.fly(e).getStyle(g)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(i,g){var h=Ext.fly(g).getXY();Ext.fly(i).setXY(h)},numericSort:function(e,g){return(e-g)},handleWasClicked:function(i,g){if(this.isHandle(g,i.id)){return true}else{var h=i.parentNode;while(h){if(this.isHandle(g,h.id)){return true}else{h=h.parentNode}}}return false}},0,0,0,0,0,0,[Ext.dd,"DragDropManager",Ext.dd,"DragDropMgr",Ext.dd,"DDM"],function(d){Ext.onInternalReady(function(){d.addListeners()})}));(Ext.cmd.derive("Ext.resizer.Splitter",Ext.Component,{childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" data-ref="collapseEl" role="presentation" class="',"x-","collapse-el ","x-",'layout-split-{collapseDir}{childElCls}">',"</div>","</tpl>"],isSplitter:true,baseCls:"x-splitter",collapsedClsInternal:"x-splitter-collapsed",canResize:true,collapsible:null,collapseOnDblClick:true,defaultSplitMin:40,defaultSplitMax:1000,collapseTarget:"next",horizontal:false,vertical:false,size:5,tracker:null,ariaRole:"separator",focusable:true,tabIndex:0,getTrackerConfig:function(){return Ext.apply({xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this},this.tracker)},beforeRender:function(){var i=this,h=i.getCollapseTarget(),j=i.collapsible,k;Ext.Component.prototype.beforeRender.call(this);if(h.collapsed){i.addCls(i.collapsedClsInternal)}if(!i.canResize){i.addCls(i.baseCls+"-noresize")}Ext.applyIf(i.renderData,{collapseDir:i.getCollapseDirection(),collapsible:(j!==null)?j:h.collapsible});i.ariaRenderAttributes=i.ariaRenderAttributes||{};i.ariaRenderAttributes["aria-orientation"]=i.orientation;i.protoEl.unselectable()},onRender:function(){var e=this,g;Ext.Component.prototype.onRender.apply(this,arguments);if(e.performCollapse!==false){if(e.renderData.collapsible){e.mon(e.collapseEl,"click",e.toggleTargetCmp,e)}if(e.collapseOnDblClick){e.mon(e.el,"dblclick",e.toggleTargetCmp,e)}}e.getCollapseTarget().on({collapse:e.onTargetCollapse,expand:e.onTargetExpand,beforeexpand:e.onBeforeTargetExpand,beforecollapse:e.onBeforeTargetCollapse,scope:e});if(e.canResize){e.tracker=Ext.create(e.getTrackerConfig());e.relayEvents(e.tracker,["beforedragstart","dragstart","dragend"])}g=e.collapseEl;if(g){g.lastCollapseDirCls=e.collapseDirProps[e.collapseDirection].cls}},getCollapseDirection:function(){var j=this,m=j.collapseDirection,k,p,n,l;if(!m){k=j.collapseTarget;if(k.isComponent){m=k.collapseDirection}if(!m){l=j.ownerCt.layout.type;if(k.isComponent){n=j.ownerCt.items;p=Number(n.indexOf(k)===n.indexOf(j)-1)<<1|Number(l==="hbox")}else{p=Number(j.collapseTarget==="prev")<<1|Number(l==="hbox")}m=["bottom","right","top","left"][p]}j.collapseDirection=m}j.setOrientation((m==="top"||m==="bottom")?"horizontal":"vertical");return m},getCollapseTarget:function(){var d=this;return d.collapseTarget.isComponent?d.collapseTarget:d.collapseTarget==="prev"?d.previousSibling():d.nextSibling()},setCollapseEl:function(e){var g=this.collapseEl;if(g){g.setDisplayed(e)}},onBeforeTargetExpand:function(d){this.setCollapseEl("none")},onBeforeTargetCollapse:function(){this.setCollapseEl("none")},onTargetCollapse:function(e){var g=this;if(e===g.getCollapseTarget()&&e[g.orientation==="vertical"?"collapsedHorizontal":"collapsedVertical"]()){g.el.addCls(g.collapsedClsInternal+" "+(g.collapsedCls||""))}g.setCollapseEl("")},onTargetExpand:function(e){var g=this;g.el.removeCls(g.collapsedClsInternal+" "+(g.collapsedCls||""));g.setCollapseEl("")},collapseDirProps:{top:{cls:"x-layout-split-top"},right:{cls:"x-layout-split-right"},bottom:{cls:"x-layout-split-bottom"},left:{cls:"x-layout-split-left"}},orientationProps:{horizontal:{opposite:"vertical",fixedAxis:"height",stretchedAxis:"width"},vertical:{opposite:"horizontal",fixedAxis:"width",stretchedAxis:"height"}},applyCollapseDirection:function(){var i=this,j=i.collapseEl,h=i.collapseDirProps[i.collapseDirection],k;if(j){k=j.lastCollapseDirCls;if(k){j.removeCls(k)}j.addCls(j.lastCollapseDirCls=h.cls)}},applyOrientation:function(){var m=this,p=m.orientation,n=m.orientationProps[p],l=m.size,q=n.fixedAxis,k=n.stretchedAxis,r=m.baseCls+"-";m[p]=true;m[n.opposite]=false;if(!m.hasOwnProperty(q)||m[q]==="100%"){m[q]=l}if(!m.hasOwnProperty(k)||m[k]===l){m[k]="100%"}m.removeCls(r+n.opposite);m.addCls(r+p)},setOrientation:function(g){var e=this;if(e.orientation!==g){e.orientation=g;e.applyOrientation()}},updateOrientation:function(){delete this.collapseDirection;this.getCollapseDirection();this.applyCollapseDirection()},toggleTargetCmp:function(j,l){var k=this.getCollapseTarget(),e=k.placeholder,m;if(Ext.isFunction(k.expand)&&Ext.isFunction(k.collapse)){if(e&&!e.hidden){m=true}else{m=!k.hidden}if(m){if(k.collapsed){k.expand()}else{if(k.collapseDirection){k.collapse()}else{k.collapse(this.renderData.collapseDir)}}}}},setSize:function(){var d=this;Ext.Component.prototype.setSize.apply(this,arguments);if(Ext.isIE&&d.el){d.el.repaint()}},beforeDestroy:function(){Ext.destroy(this.tracker);Ext.Component.prototype.beforeDestroy.call(this)}},0,["splitter"],["component","box","splitter"],{component:true,box:true,splitter:true},["widget.splitter"],0,[Ext.resizer,"Splitter"],0));Ext.define("Ext.theme.neptune.resizer.Splitter",{override:"Ext.resizer.Splitter",size:8});(Ext.cmd.derive("Ext.layout.container.Box",Ext.layout.container.Container,{alternateClassName:"Ext.layout.BoxLayout",type:"box",config:{align:"begin",constrainAlign:false,enableSplitters:true,overflowHandler:{$value:null,merge:function(e,g){if(typeof e==="string"){e={type:e}}return Ext.merge(g?Ext.Object.chain(g):{},e)}},padding:0,pack:"start",stretchMaxPartner:undefined,vertical:false,alignRoundingMethod:"round"},itemCls:"x-box-item",targetCls:"x-box-layout-ct",targetElCls:"x-box-target",innerCls:"x-box-inner",manageMargins:true,createsInnerCt:true,childEls:["innerCt","targetEl"],renderTpl:['{%var oc,l=values.$comp.layout,oh=l.overflowHandler;if (oh && oh.getPrefixConfig!==Ext.emptyFn) {if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)}%}<div id="{ownerId}-innerCt" data-ref="innerCt" role="presentation" class="{[l.innerCls]}{[oh ? (" " + oh.getOverflowCls(l.direction)) : ""]}"><div id="{ownerId}-targetEl" data-ref="targetEl" class="{targetElCls}" role="presentation">{%this.renderBody(out, values)%}</div></div>{%if (oh && oh.getSuffixConfig!==Ext.emptyFn) {if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)}%}',{disableFormats:true,definitions:"var dh=Ext.DomHelper;"}],constructor:function(i){var g=this,h;Ext.layout.container.Container.prototype.constructor.apply(this,arguments);g.setVertical(g.vertical);g.flexSortFn=g.flexSort.bind(g);h=typeof g.padding;if(h==="string"||h==="number"){g.padding=Ext.util.Format.parseBox(g.padding);g.padding.height=g.padding.top+g.padding.bottom;g.padding.width=g.padding.left+g.padding.right}},_beginRe:/^(?:begin|left|top)$/,_centerRe:/^(?:center|middle)$/,_endRe:/^(?:end|right|bottom)$/,_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(K,J){var y=this,A=y.sizePolicy,C=y.align,D=K.flex,v=C,z=y.names,B=z.height,w=z.width,H=K[w],L=K[B],F=y._percentageRe,G=F.test(H),E=(C==="stretch"),I=(C==="stretchmax"),x=y.constrainAlign;if(!J&&(E||D||G||(x&&!I))){J=y.owner.getSizeModel()}if(E){if(!F.test(L)&&J[B].shrinkWrap){v="stretchmax"}}else{if(!I){if(F.test(L)){v="stretch"}else{if(x&&!J[B].shrinkWrap){v="stretchmax"}else{v=""}}}}if(D||G){if(!J[w].shrinkWrap){A=A.flex}}return A[v]},flexSort:function(w,x){var z=this.names.maxWidth,F=this.names.minWidth,y=Infinity,A=w.target,J=x.target,C=A.flex,D=J.flex,I=0,H,v,B,G,u,E;B=A[z]||y;G=J[z]||y;H=A[F]||0;v=J[F]||0;u=isFinite(H)||isFinite(v);E=isFinite(B)||isFinite(G);if(u||E){if(E){I=B-G}if(I===0&&u){I=v-H}if(I===0){if(E){I=D-C}else{I=C-D}}}return I},isItemBoxParent:function(d){return true},isItemShrinkWrap:function(d){return true},roundFlex:function(d){return Math.floor(d)},beginCollapse:function(e){var g=this;if(g.direction==="vertical"&&e.collapsedVertical()){e.collapseMemento.capture(["flex"]);delete e.flex}else{if(g.direction==="horizontal"&&e.collapsedHorizontal()){e.collapseMemento.capture(["flex"]);delete e.flex}}},beginExpand:function(d){d.collapseMemento.restore(["flex"])},beginLayout:function(r){var n=this,u=n.owner,s=u.stretchMaxPartner,v=n.innerCt.dom.style,p=n.names,q=n.overflowHandler,m=u.getScrollable(),t;r.boxNames=p;if(q){q.beginLayout(r)}if(typeof s==="string"){s=Ext.getCmp(s)||u.query(s)[0]}r.stretchMaxPartner=s&&r.context.getCmp(s);Ext.layout.container.Container.prototype.beginLayout.apply(this,arguments);r.innerCtContext=r.getEl("innerCt",n);r.targetElContext=r.getEl("targetEl",n);if(m){r.ownerScrollable=m;t=m.getPosition();if(t.x||t.y){r.scrollRestore=t}}v.width=v.height=""},beginLayoutCycle:function(A,r){var u=this,D=A.state,t=A.ownerScrollable,w=u.align,v=A.boxNames,s=u.pack,B=u._centerRe,z=u.overflowHandler,C=A.state.canScroll,x,y;if(z){z.beginLayoutCycle(A,r)}Ext.layout.container.Container.prototype.beginLayoutCycle.apply(this,arguments);A.parallelSizeModel=x=A[v.widthModel];A.perpendicularSizeModel=y=A[v.heightModel];A.boxOptions={align:w={stretch:w==="stretch",stretchmax:w==="stretchmax",center:B.test(w),bottom:u._endRe.test(w)},pack:s={center:B.test(s),end:s==="end"}};if(t){if(!C){D.canScroll={parallel:!x.shrinkWrap&&t[v.getX](),perpendicular:!y.shrinkWrap&&t[v.getY]()}}if(!D.actualScroll){D.actualScroll={parallel:false,perpendicular:false}}}if(w.stretch&&y.shrinkWrap){w.stretchmax=true;w.stretch=false}w.nostretch=!(w.stretch||w.stretchmax);if(x.shrinkWrap){s.center=s.end=false}u.cacheFlexes(A);u.targetEl.setWidth(20000)},cacheFlexes:function(T){var L=this,R=T.boxNames,ad=R.widthModel,X=R.heightModel,ab=T.boxOptions.align.nostretch,H=0,ac=T.childItems,F=ac.length,O=[],P=0,i=0,I=0,U=R.minWidth,Q=R.minHeight,W=L._percentageRe,S=0,N=0,Y,K,G,V,aa,Z,J,M;while(F--){K=ac[F];Y=K.target;Z=K[ad];if(Z.calculated){K.flex=G=Y.flex;if(G){H+=G;O.push(K);P+=Y[U]||0}else{V=W.exec(Y[R.width]);K.percentageParallel=parseFloat(V[1])/100;++S}}if(Z.configured){J=Y[R.width]}else{J=Y[U]||0}I+=J;aa=K[X];if(ab&&aa.calculated){V=W.exec(Y[R.height]);K.percentagePerpendicular=parseFloat(V[1])/100;++N}if(aa.configured){M=Y[R.height]}else{M=Y[Q]||0}if(M>i){i=M}}T.flexedItems=O;T.flexedMinWidth=P;T.smallestWidth=I;T.smallestHeight=i;T.totalFlex=H;T.percentageWidths=S;T.percentageHeights=N;Ext.Array.sort(O,L.flexSortFn)},calculate:function(t){var p=this,q=t.boxNames,v=t.state,r=v.actualScroll,m=v.needsScroll,u=v.canScroll,n=v.boxPlan||(v.boxPlan={}),s=p.overflowHandler;n.targetSize=p.getContainerSize(t);if(u&&!m){v.needsScroll=m={parallel:u.parallel&&n.targetSize[q.width]<t.smallestWidth,perpendicular:u.perpendicular&&n.targetSize[q.height]<t.smallestHeight}}if(!v.parallelDone){v.parallelDone=p.calculateParallel(t,q,n)}if(!v.perpendicularDone){v.perpendicularDone=p.calculatePerpendicular(t,q,n)}if(v.parallelDone&&v.perpendicularDone){if(u&&!v.scrollPass){if(m.parallel!==r.parallel||m.perpendicular!==r.perpendicular){t.invalidate({state:{scrollPass:true,canScroll:u,needsScroll:r}});p.done=false;return}}p.publishInnerCtSize(t);if(p.done&&t.boxOptions.align.stretchmax&&!v.stretchMaxDone){p.calculateStretchMax(t,q,n);v.stretchMaxDone=true}if(s){s.calculate(t)}}else{p.done=false}},calculateParallel:function(ae,Q,Z){var ak=this,an=ae.parallelSizeModel.shrinkWrap,Y=Q.width,au=ae.childItems,ai=Q.beforeX,U=Q.afterX,aq=Q.setWidth,ab=au.length,af=ae.flexedItems,V=af.length,al=ae.boxOptions.pack,T=ak.padding,az=Z.targetSize,am=az[Y],i=ae.state,ac=i.needsScroll,aj=i.canScroll,aa=0,at=T[ai],W=at+T[U],ah=Ext.getScrollbarSize(),aw=ah[Q.width],aA=ah[Q.height],S,ad,av,ap,ao,ar,ay,R,X,ag,ax;if(!an&&!az[Q.gotWidth]){return false}for(S=0;S<ab;++S){ao=au[S];ad=ao.marginInfo||ao.getMarginInfo();aa+=ad[Y];if(!ao[Q.widthModel].calculated){X=ao.getProp(Y);W+=X;if(isNaN(W)){return false}}}W+=aa;if(ae.percentageWidths){ag=am-aa;if(isNaN(ag)){return false}for(S=0;S<ab;++S){ao=au[S];if(ao.percentageParallel){X=Math.ceil(ag*ao.percentageParallel);X=ao.setWidth(X);W+=X}}}if(an){ax=0;Z.tooNarrow=false}else{ax=am-W;if(ac&&ac.perpendicular){ax-=aA}Z.tooNarrow=ax<ae.flexedMinWidth;if(Z.tooNarrow&&aj&&aj.parallel){i.actualScroll.parallel=true}}R=W;av=ax;ap=ae.totalFlex;for(S=0;S<V;S++){ao=af[S];ar=ao.flex;ay=ak.roundFlex((ar/ap)*av);ay=ao[aq](ay);R+=ay;av=Math.max(0,av-ay);ap-=ar}if(al.center){at+=av/2;if(at<0){at=0}}else{if(al.end){at+=av}}for(S=0;S<ab;++S){ao=au[S];ad=ao.marginInfo;at+=ad[ai];ao.setProp(Q.x,at);at+=ad[U]+ao.props[Y]}R+=ae.targetContext.getPaddingInfo()[Y];ae.state.contentWidth=R;if(ac&&ac.perpendicular){if(an){R+=aw}ae[Q.hasOverflowY]=true;ae.target.componentLayout[Q.setWidthInDom]=true;ae[Q.invalidateScrollY]=Ext.isIE8}ae[Q.setContentWidth](R);return true},calculatePerpendicular:function(ao,X,ai){var aq=this,i=ao.state,am=i.needsScroll,ap=i.canScroll,aF=ao.perpendicularSizeModel.shrinkWrap,aH=ai.targetSize,aB=ao.childItems,aj=aB.length,ay=Math.max,az=X.height,ax=X.setHeight,aC=X.beforeY,ar=X.y,aa=aq.padding,aA=aa[aC],aw=aH[az]-aA-aa[X.afterY],ad=ao.boxOptions.align,av=ad.stretch,au=ad.stretchmax,U=ad.center,V=ad.bottom,ab=aq.constrainAlign,ac=0,ag=0,ae=aq.onBeforeConstrainInvalidateChild,ah=aq.onAfterConstrainInvalidateChild,aI=Ext.getScrollbarSize().height,ak,Z,af,an,al,aG,at,aE,W,Y,aD;if(!aF&&!aH[X.gotHeight]){return false}if(av||((U||V)&&!aF)){if(isNaN(aw)){return false}}if(am&&am.parallel){if(aF){Y=true}else{aw-=aI;ai.targetSize[az]-=aI}}if(av){aG=aw;ac=ay(aG,ao.smallestHeight)}else{for(Z=0;Z<aj;Z++){at=aB[Z];an=(at.marginInfo||at.getMarginInfo())[az];if(!(aD=at.percentagePerpendicular)){af=at.getProp(az)}else{++ag;if(aF){continue}else{af=aD*aw-an;af=at[X.setHeight](af)}}if(!aF&&ab&&at[X.heightModel].shrinkWrap&&af>aw){at.invalidate({before:ae,after:ah,layout:aq,childHeight:aw,names:X});ao.state.parallelDone=false}if(isNaN(ac=ay(ac,af+an,at.target[X.minHeight]||0))){return false}}}if(Y){ac+=aI;ao[X.hasOverflowX]=true;ao.target.componentLayout[X.setHeightInDom]=true;ao[X.invalidateScrollX]=Ext.isIE8}aE=ao.stretchMaxPartner;if(aE){ao.setProp("maxChildHeight",ac);W=aE.childItems;if(W&&W.length){ac=ay(ac,aE.getProp("maxChildHeight"));if(isNaN(ac)){return false}}}ao[X.setContentHeight](ac+aq.padding[az]+ao.targetContext.getPaddingInfo()[az]);if(Y){ac-=aI}if(ac>aH[az]&&ap&&ap.perpendicular){i.actualScroll.perpendicular=true}ai.maxSize=ac;if(au){aG=ac}else{if(U||V||ag){if(ab){aG=aF?ac:aw}else{aG=aF?ac:ay(aw,ac)}aG-=ao.innerCtContext.getBorderInfo()[az]}}for(Z=0;Z<aj;Z++){at=aB[Z];an=at.marginInfo||at.getMarginInfo();ak=aA+an[aC];if(av){at[ax](aG-an[az])}else{aD=at.percentagePerpendicular;if(aF&&aD){an=at.marginInfo||at.getMarginInfo();af=aD*aG-an[az];af=at.setHeight(af)}if(U){al=aG-at.props[az];if(al>0){ak=aA+Math[aq.alignRoundingMethod](al/2)}}else{if(V){ak=ay(0,aG-ak-at.props[az])}}}at.setProp(ar,ak)}return true},onBeforeConstrainInvalidateChild:function(h,i){var g=i.names.heightModel;if(!h[g].constrainedMin){h[g]=Ext.layout.SizeModel.calculated}},onAfterConstrainInvalidateChild:function(h,i){var g=i.names;h.setProp(g.beforeY,0);if(h[g.heightModel].calculated){h[g.setHeight](i.childHeight)}},calculateStretchMax:function(D,x,v){var w=this,z=x.height,u=x.width,A=D.childItems,F=A.length,H=v.maxSize,i=w.onBeforeStretchMaxInvalidateChild,B=w.onAfterStretchMaxInvalidateChild,G,y,C,E;for(C=0;C<F;++C){G=A[C];y=G.props;E=H-G.getMarginInfo()[z];if(E!==y[z]||G[x.heightModel].constrained){G.invalidate({before:i,after:B,layout:w,childWidth:y[u],childHeight:E,childX:y.x,childY:y.y,names:x})}}},onBeforeStretchMaxInvalidateChild:function(h,i){var g=i.names.heightModel;if(!h[g].constrainedMax){h[g]=Ext.layout.SizeModel.calculated}},onAfterStretchMaxInvalidateChild:function(j,k){var i=k.names,m=k.childHeight,l=k.childWidth;j.setProp("x",k.childX);j.setProp("y",k.childY);if(j[i.heightModel].calculated){j[i.setHeight](m)}if(j[i.widthModel].calculated){j[i.setWidth](l)}},completeLayout:function(y){var r=this,s=y.invalidateScrollX,t=y.invalidateScrollY,x=r.overflowHandler,q=y.scrollRestore,v,z,u,w,p;if(x){x.completeLayout(y)}if(s||t){z=r.getTarget();v=z.dom;p=v.style;if(s){u=z.getStyle("overflowX");if(u==="auto"){u=p.overflowX;p.overflowX="scroll"}else{s=false}}if(t){w=z.getStyle("overflowY");if(w==="auto"){w=p.overflowY;p.overflowY="scroll"}else{t=false}}if(s||t){v.scrollWidth;if(s){p.overflowX=u}if(t){p.overflowY=w}}}if(q){y.ownerScrollable.scrollTo(q.x,q.y)}},finishedLayout:function(e){var g=this.overflowHandler;if(g){g.finishedLayout(e)}Ext.layout.container.Container.prototype.finishedLayout.apply(this,arguments)},getLayoutItems:function(){var n=Ext.layout.container.Container.prototype.getLayoutItems.call(this),u=n.length,r,s,t,i,p,q,v;for(t=0;t<u;++t){if((i=n[t]).isSplitter){continue}v=i.splitter;if(i.hidden){if(v){if(!v.hidden){v.hidden=true;if(v.el){v.el.hide()}}}continue}if(v){q=v.collapseTarget==="next"}else{q=false}s=null;if(r&&p){if(p.hidden){p.hidden=false;if(p.el){p.el.show()}}if(q){s=true}}else{if(q){s=!r}}if(s!==null&&v.hidden!==s){v.hidden=s;if(v.el){v.el.setVisible(!s)}}p=!q&&v;r=i}if(r&&p&&!p.hidden){p.hidden=true;if(p.el){p.el.hide()}}return n},getScrollerEl:function(){return this.innerCt},insertSplitter:function(l,m,j,n){var k={xtype:"splitter",id:l.id+"-splitter",hidden:j,splitterFor:l,synthetic:true},p=m+((n.collapseTarget==="prev")?1:0);k[this.names.height]="100%";if(n){Ext.apply(k,n)}l.splitter=this.owner.add(p,k)},publishInnerCtSize:function(G,E){E=E||0;var z=this,H=G.state,A=G.boxNames,B=A.height,x=A.width,C=G.boxOptions.align,v=z.padding,y=H.boxPlan,D=y.targetSize,J=y.maxSize,w=H.needsScroll,I=G.innerCtContext,F,u;if(G.parallelSizeModel.shrinkWrap||(y.tooNarrow&&H.canScroll)){F=H.contentWidth-G.targetContext.getPaddingInfo()[x]}else{F=D[x];if(w&&w.perpendicular){F-=Ext.getScrollbarSize()[x]}}F-=E;z.owner.tooNarrow=y.tooNarrow;if(C.stretch){u=J}else{u=y.maxSize+v[A.beforeY]+v[A.afterY]+I.getBorderInfo()[B];if(!G.perpendicularSizeModel.shrinkWrap&&(C.center||C.bottom)){u=Math.max(D[B],u)}}I[A.setWidth](F);I[A.setHeight](u);G.targetElContext.setWidth(G.innerCtContext.props.width-(z.vertical?0:(E||0)));if(isNaN(F+u)){z.done=false}},onAdd:function(h,k){var i=this,j=i.enableSplitters&&h.split&&!h.isButton;Ext.layout.container.Container.prototype.onAdd.apply(this,arguments);if(j){if(j===true){j={collapseTarget:"next"}}else{if(Ext.isString(j)){j={collapseTarget:j==="before"?"next":"prev"}}else{j=Ext.apply({collapseTarget:j.side==="before"?"next":"prev"},j)}}i.insertSplitter(h,k,!!h.hidden,j)}},onRemove:function(s,p){var n=this,l=n.names,t=n.owner,m=s.splitter,r=n.overflowHandler,q;Ext.layout.container.Container.prototype.onRemove.apply(this,arguments);if(m&&t.contains(m)){t.doRemove(m,true);s.splitter=null}if(r){r.onRemove(s)}if(s.layoutMarginCap===n.id){delete s.layoutMarginCap}if(!t.destroying&&!p&&s.rendered){q=s.getEl();if(q){q.setStyle(l.beforeY,"");q.setStyle(l.beforeX,"");q.setStyle("margin","")}}},applyOverflowHandler:function(h,i){var g;if(typeof h==="string"){h={type:h}}g=h.type;if(i&&i.type===h.type){delete h.type;i.setConfig(h);return i}h.layout=this;return Ext.Factory.boxOverflow(h)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},destroy:function(){var d=this;Ext.destroy(d.innerCt,d.overflowHandler);d.flexSortFn=d.innerCt=null;Ext.layout.container.Container.prototype.destroy.call(this)},getRenderData:function(){var d=Ext.layout.container.Container.prototype.getRenderData.call(this);d.targetElCls=this.targetElCls;return d},updateVertical:function(l){var i=this,k=i.overflowHandler,m=i.owner,j=i._props;Ext.apply(i,l?j.vbox:j.hbox);if(k&&m&&m.rendered){k.setVertical(l)}},_props:{hbox:{direction:"horizontal",oppositeDirection:"vertical",horizontal:true,vertical:false,names:{beforeX:"left",beforeScrollX:"left",leftCap:"Left",afterX:"right",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",getX:"getX",setX:"setX",scrollLeft:"scrollLeft",overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",parallelMargins:"lr",center:"middle",beforeY:"top",afterY:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",getY:"getY",setY:"setY",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",perpendicularMargins:"tb",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom",getScrollLeft:"getScrollLeft",setScrollLeft:"setScrollLeft",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}},vbox:{direction:"vertical",oppositeDirection:"horizontal",horizontal:false,vertical:true,names:{beforeX:"top",beforeScrollX:"top",leftCap:"Top",afterX:"bottom",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",getX:"getY",setX:"setY",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",parallelMargins:"tb",center:"center",beforeY:"left",afterY:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",getY:"getX",setY:"setX",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",perpendicularMargins:"lr",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom",getScrollLeft:"getScrollTop",setScrollLeft:"setScrollTop",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:0,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:1,setsHeight:0}}}}},1,0,0,0,["layout.box"],0,[Ext.layout.container,"Box",Ext.layout,"BoxLayout"],0));(Ext.cmd.derive("Ext.layout.container.HBox",Ext.layout.container.Box,{alternateClassName:"Ext.layout.HBoxLayout",type:"hbox",vertical:false},0,0,0,0,["layout.hbox"],0,[Ext.layout.container,"HBox",Ext.layout,"HBoxLayout"],0));(Ext.cmd.derive("Ext.layout.container.VBox",Ext.layout.container.Box,{alternateClassName:"Ext.layout.VBoxLayout",type:"vbox",vertical:true},0,0,0,0,["layout.vbox"],0,[Ext.layout.container,"VBox",Ext.layout,"VBoxLayout"],0));(Ext.cmd.derive("Ext.toolbar.Toolbar",Ext.container.Container,{alternateClassName:"Ext.Toolbar",isToolbar:true,baseCls:"x-toolbar",ariaRole:"toolbar",defaultType:"button",layout:undefined,vertical:undefined,enableOverflow:false,overflowHandler:null,defaultButtonUI:"default-toolbar",defaultFieldUI:"default",defaultFooterButtonUI:"default",defaultFooterFieldUI:"default",trackMenus:true,itemCls:"x-toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var g=this,h=g.layout,i=g.vertical;if(i===undefined){g.vertical=i=g.dock==="right"||g.dock==="left"}g.layout=h=Ext.applyIf(Ext.isString(h)?{type:h}:h||{},{type:i?"vbox":"hbox",align:i?"stretchmax":"middle"});if(g.overflowHandler){h.overflowHandler=g.overflowHandler}else{if(g.enableOverflow){h.overflowHandler="menu"}}if(i){g.addClsWithUI("vertical")}if(g.ui==="footer"){g.ignoreBorderManagement=true}Ext.container.Container.prototype.initComponent.call(this)},getRefItems:function(m){var i=this,l=Ext.container.Container.prototype.getRefItems.apply(this,arguments),j=i.layout,k;if(m&&(i.enableOverflow||(i.overflowHandler==="menu"))){k=j.overflowHandler;if(k&&k.menu){l=l.concat(k.menu.getRefItems(m))}}return l},lookupComponent:function(c){var i=arguments,k,j;if(typeof c==="string"){j=Ext.toolbar.Toolbar;k=j.shortcutsHV[this.vertical?1:0][c]||j.shortcuts[c];if(typeof k==="string"){c={xtype:k}}else{if(k){c=Ext.apply({},k)}else{c={xtype:"tbtext",text:c}}}this.applyDefaults(c);i=[c]}return Ext.container.Container.prototype.lookupComponent.apply(this,i)},onBeforeAdd:function(j){var i=this,h=i.ui==="footer",k=h?i.defaultFooterButtonUI:i.defaultButtonUI;if(j.isSegmentedButton){if(j.getDefaultUI()==="default"&&!j.config.hasOwnProperty("defaultUI")){j.setDefaultUI(k)}}else{if(j.ui==="default"&&!j.hasOwnProperty("ui")){if(j.isButton){j.ui=k}else{if(j.isFormField){j.ui=h?i.defaultFooterFieldUI:i.defaultFieldUI}}}}if(j instanceof Ext.toolbar.Separator){j.setUI(i.vertical?"vertical":"horizontal")}Ext.container.Container.prototype.onBeforeAdd.apply(this,arguments)},onAdd:function(d){if(d.needArrowKeys&&this.enableFocusableContainer){this.enableFocusableContainer=false}Ext.container.Container.prototype.onAdd.apply(this,arguments);this.trackMenu(d)},onRemove:function(c){Ext.container.Container.prototype.onRemove.apply(this,arguments);this.trackMenu(c,true)},privates:{applyDefaults:function(c){if(!Ext.isString(c)){c=Ext.container.Container.prototype.applyDefaults.apply(this,arguments)}return c},trackMenu:function(g,i){var h=this;if(h.trackMenus&&g.menu){g[i?"un":"on"]({mouseover:h.onButtonOver,menushow:h.onButtonMenuShow,menuhide:h.onButtonMenuHide,scope:h})}},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(h,e){var i=this.activeMenuBtn;if(i&&i!==h){i.hideMenu();h.focus();h.showMenu(e);this.activeMenuBtn=h}},onButtonMenuShow:function(d){this.activeMenuBtn=d},onButtonMenuHide:function(d){this.activeMenuBtn=null}}},0,["toolbar"],["component","box","container","toolbar"],{component:true,box:true,container:true,toolbar:true},["widget.toolbar"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.toolbar,"Toolbar",Ext,"Toolbar"],0));Ext.define("Ext.theme.neptune.toolbar.Toolbar",{override:"Ext.toolbar.Toolbar",usePlainButtons:false,border:false});(Ext.cmd.derive("Ext.dd.DragDrop",Ext.Base,{constructor:function(g,i,h){if(g){this.init(g,i,h)}},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true},moveOnly:false,unlock:function(){this.locked=false},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,triggerEvent:"mousedown",b4StartDrag:function(g,e){},startDrag:function(g,e){},b4Drag:function(d){},onDrag:function(d){},onDragEnter:function(g,e){},b4DragOver:function(d){},onDragOver:function(g,e){},b4DragOut:function(d){},onDragOut:function(g,e){},b4DragDrop:function(d){},onDragDrop:function(g,e){},onInvalidDrop:function(d){},b4EndDrag:function(d){},endDrag:function(d){},b4MouseDown:function(d){},onMouseDown:function(d){},onMouseUp:function(d){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(w,y,q){if(Ext.isNumber(y)){y={left:y,right:y,top:y,bottom:y}}y=y||this.defaultPadding;var u=Ext.get(this.getEl()).getBox(),c=Ext.get(w),r=c.getScroll(),v,t=c.dom,s,x,z;if(t===document.body){v={x:r.left,y:r.top,width:Ext.Element.getViewportWidth(),height:Ext.Element.getViewportHeight()}}else{s=c.getXY();v={x:s[0],y:s[1],width:t.clientWidth,height:t.clientHeight}}x=u.y-v.y;z=u.x-v.x;this.resetConstraints();this.setXConstraint(z-(y.left||0),v.width-z-u.width-(y.right||0),this.xTickSize);this.setYConstraint(x-(y.top||0),v.height-x-u.height-(y.bottom||0),this.yTickSize)},getEl:function(){if(!this._domRef){this._domRef=Ext.getDom(this.id)}return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(h,k,j){var i=this;i.el=i.el||Ext.get(h);i.initTarget(h,k,j);Ext.get(i.id).on(i.triggerEvent,i.handleMouseDown,i)},initTarget:function(g,i,h){this.config=h||{};this.DDMInstance=Ext.dd.DragDropManager;this.groups={};if(typeof g!=="string"){g=Ext.id(g)}this.id=g;this.addToGroup((i)?i:"default");this.handleElId=g;this.setDragElId(g);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false)},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(i,k,h,j){if(!k&&0!==k){this.padding=[i,i,i,i]}else{if(!h&&0!==h){this.padding=[i,k,i,k]}else{this.padding=[i,k,h,j]}}},setInitPosition:function(l,m){var k=this.getEl(),n,p,j;if(!this.DDMInstance.verifyEl(k)){return}n=l||0;p=m||0;j=Ext.fly(k).getXY();this.initPageX=j[0]-n;this.initPageY=j[1]-p;this.lastPageX=j[0];this.lastPageY=j[1];this.setStartPosition(j)},setStartPosition:function(e){var g=e||Ext.fly(this.getEl()).getXY();this.deltaSetXY=null;this.startPageX=g[0];this.startPageY=g[1]},addToGroup:function(d){this.groups[d]=true;this.DDMInstance.regDragDrop(this,d)},removeFromGroup:function(d){if(this.groups[d]){delete this.groups[d]}this.DDMInstance.removeDDFromGroup(this,d)},setDragElId:function(d){this.dragElId=d},setHandleElId:function(d){if(typeof d!=="string"){d=Ext.id(d)}this.handleElId=d;this.DDMInstance.regHandle(this.id,d)},setOuterHandleElId:function(d){if(typeof d!=="string"){d=Ext.id(d)}Ext.get(d).on(this.triggerEvent,this.handleMouseDown,this);this.setHandleElId(d);this.hasOuterHandles=true},unreg:function(){var e=this,g;if(e._domRef){g=Ext.fly(e.id);if(g){g.un(e.triggerEvent,e.handleMouseDown,e)}}e._domRef=null;e.DDMInstance._remove(e,e.autoGroup)},destroy:function(){this.unreg();this.callParent()},isLocked:function(){return(this.DDMInstance.isLocked()||this.locked)},handleMouseDown:function(e,h){var i=this;if((i.primaryButtonOnly&&e.button)||i.isLocked()){return}i.DDMInstance.refreshCache(i.groups);if(i.hasOuterHandles||i.DDMInstance.isOverTarget(e.getPoint(),i)){if(i.clickValidator(e)){i.setStartPosition();i.b4MouseDown(e);i.onMouseDown(e);i.DDMInstance.handleMouseDown(e,i);i.DDMInstance.stopEvent(e)}}},clickValidator:function(e){var g=e.getTarget();return(this.isValidHandleChild(g)&&(this.id===this.handleElId||this.DDMInstance.handleWasClicked(g,this.id)))},addInvalidHandleType:function(g){var e=g.toUpperCase();this.invalidHandleTypes[e]=e},addInvalidHandleId:function(d){if(typeof d!=="string"){d=Ext.id(d)}this.invalidHandleIds[d]=d},addInvalidHandleClass:function(d){this.invalidHandleClasses.push(d)},removeInvalidHandleType:function(g){var e=g.toUpperCase();delete this.invalidHandleTypes[e]},removeInvalidHandleId:function(d){if(typeof d!=="string"){d=Ext.id(d)}delete this.invalidHandleIds[d]},removeInvalidHandleClass:function(j){var h=this.invalidHandleClasses,k=h.length,i;for(i=0;i<k;++i){if(h[i]===j){delete h[i]}}},isValidHandleChild:function(l){var m=true,e,n,p;try{e=l.nodeName.toUpperCase()}catch(i){e=l.nodeName}m=m&&!this.invalidHandleTypes[e];m=m&&!this.invalidHandleIds[l.id];for(n=0,p=this.invalidHandleClasses.length;m&&n<p;++n){m=!Ext.fly(l).hasCls(this.invalidHandleClasses[n])}return m},setXTicks:function(h,k){this.xTicks=[];this.xTickSize=k;var i={},j;for(j=this.initPageX;j>=this.minX;j=j-k){if(!i[j]){this.xTicks[this.xTicks.length]=j;i[j]=true}}for(j=this.initPageX;j<=this.maxX;j=j+k){if(!i[j]){this.xTicks[this.xTicks.length]=j;i[j]=true}}Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(h,k){this.yTicks=[];this.yTickSize=k;var i={},j;for(j=this.initPageY;j>=this.minY;j=j-k){if(!i[j]){this.yTicks[this.yTicks.length]=j;i[j]=true}}for(j=this.initPageY;j<=this.maxY;j=j+k){if(!i[j]){this.yTicks[this.yTicks.length]=j;i[j]=true}}Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(g,h,i){this.leftConstraint=g;this.rightConstraint=h;this.minX=this.initPageX-g;this.maxX=this.initPageX+h;if(i){this.setXTicks(this.initPageX,i)}this.constrainX=true},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(i,g,h){this.topConstraint=i;this.bottomConstraint=g;this.minY=this.initPageY-i;this.maxY=this.initPageY+g;if(h){this.setYTicks(this.initPageY,h)}this.constrainY=true},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var e=(this.maintainOffset)?this.lastPageX-this.initPageX:0,g=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(e,g)}else{this.setInitPosition()}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize)}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)}},getTick:function(i,n){if(!n){return i}else{if(n[0]>=i){return n[0]}else{var q,r,p,l,m;for(q=0,r=n.length;q<r;++q){p=q+1;if(n[p]&&n[p]>=i){l=i-n[q];m=n[p]-i;return(m>l)?n[q]:n[p]}}return n[n.length-1]}}},toString:function(){return("DragDrop "+this.id)}},3,0,0,0,0,0,[Ext.dd,"DragDrop"],0));(Ext.cmd.derive("Ext.dd.DD",Ext.dd.DragDrop,{constructor:function(g,i,h){if(g){this.init(g,i,h)}},scroll:true,autoOffset:function(i,j){var k=i-this.startPageX,h=j-this.startPageY;this.setDelta(k,h)},setDelta:function(e,g){this.deltaX=e;this.deltaY=g},setDragElPos:function(g,h){var i=this.getDragEl();this.alignElWithMouse(i,g,h)},alignElWithMouse:function(y,v,x){var u=this.getTargetCoord(v,x),w=y.dom?y:Ext.fly(y,"_dd"),p=w.getSize(),s=Ext.Element,r,z,q,t;if(!this.deltaSetXY){r=this.cachedViewportSize={width:s.getDocumentWidth(),height:s.getDocumentHeight()};z=[Math.max(0,Math.min(u.x,r.width-p.width)),Math.max(0,Math.min(u.y,r.height-p.height))];w.setXY(z);q=this.getLocalX(w);t=w.getLocalY();this.deltaSetXY=[q-u.x,t-u.y]}else{r=this.cachedViewportSize;this.setLocalXY(w,Math.max(0,Math.min(u.x+this.deltaSetXY[0],r.width-p.width)),Math.max(0,Math.min(u.y+this.deltaSetXY[1],r.height-p.height)))}this.cachePosition(u.x,u.y);this.autoScroll(u.x,u.y,y.offsetHeight,y.offsetWidth);return u},cachePosition:function(h,i){if(h){this.lastPageX=h;this.lastPageY=i}else{var g=Ext.fly(this.getEl()).getXY();this.lastPageX=g[0];this.lastPageY=g[1]}},autoScroll:function(v,w,A,u){if(this.scroll){var t=Ext.Element.getViewportHeight(),D=Ext.Element.getViewportWidth(),F=this.DDMInstance.getScrollTop(),B=this.DDMInstance.getScrollLeft(),x=A+w,h=u+v,y=(t+F-w-this.deltaY),z=(D+B-v-this.deltaX),C=40,E=(document.all)?80:30;if(x>t&&y<C){window.scrollTo(B,F+E)}if(w<F&&F>0&&w-F<C){window.scrollTo(B,F-E)}if(h>D&&z<C){window.scrollTo(B+E,F)}if(v<B&&B>0&&v-B<C){window.scrollTo(B-E,F)}}},getTargetCoord:function(i,j){var k=i-this.deltaX,h=j-this.deltaY;if(this.constrainX){if(k<this.minX){k=this.minX}if(k>this.maxX){k=this.maxX}}if(this.constrainY){if(h<this.minY){h=this.minY}if(h>this.maxY){h=this.maxY}}k=this.getTick(k,this.xTicks);h=this.getTick(h,this.yTicks);return{x:k,y:h}},applyConfig:function(){Ext.dd.DragDrop.prototype.applyConfig.call(this);this.scroll=(this.config.scroll!==false)},b4MouseDown:function(e){var g=e.getXY();this.autoOffset(g[0],g[1])},b4Drag:function(e){var g=e.getXY();this.setDragElPos(g[0],g[1])},toString:function(){return("DD "+this.id)},getLocalX:function(d){return d.getLocalX()},setLocalXY:function(h,i,g){h.setLocalXY(i,g)}},3,0,0,0,0,0,[Ext.dd,"DD"],0));(Ext.cmd.derive("Ext.dd.DDProxy",Ext.dd.DD,{statics:{dragElId:"ygddfdiv"},constructor:function(g,i,h){if(g){this.init(g,i,h);this.initFrame()}},resizeFrame:true,centerFrame:false,createFrame:function(){var j=this,k=document.body,h,i;if(!k||!k.firstChild){Ext.defer(function(){j.createFrame()},50);return}h=this.getDragEl();if(!h){h=document.createElement("div");h.id=this.dragElId;h.setAttribute("role","presentation");i=h.style;i.position="absolute";i.visibility="hidden";i.cursor="move";i.border="2px solid #aaa";i.zIndex=999;k.insertBefore(h,k.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){Ext.dd.DD.prototype.applyConfig.call(this);this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(i,j){var k=this,m=k.getDragEl(),l=m.style;k._resizeProxy();if(k.centerFrame){k.setDelta(Math.round(parseInt(l.width,10)/2),Math.round(parseInt(l.height,10)/2))}k.setDragElPos(i,j);Ext.fly(m).show()},_resizeProxy:function(){if(this.resizeFrame){var d=this.getEl();Ext.fly(this.getDragEl()).setSize(d.offsetWidth,d.offsetHeight)}},b4MouseDown:function(i){var j=i.getXY(),k=j[0],e=j[1];this.autoOffset(k,e);this.setDragElPos(k,e)},b4StartDrag:function(g,e){this.showFrame(g,e)},b4EndDrag:function(d){Ext.fly(this.getDragEl()).hide()},endDrag:function(e){var h=this.getEl(),i=this.getDragEl();i.style.visibility="";this.beforeMove();h.style.visibility="hidden";Ext.dd.DDM.moveToEl(h,i);i.style.visibility="hidden";h.style.visibility="";this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return("DDProxy "+this.id)}},3,0,0,0,0,0,[Ext.dd,"DDProxy"],0));(Ext.cmd.derive("Ext.dd.StatusProxy",Ext.Component,{animRepair:false,childEls:["ghost"],renderTpl:['<div class="x-dd-drop-icon" role="presentation"></div><div id="{id}-ghost" data-ref="ghost" class="x-dd-drag-ghost" role="presentation"></div>'],repairCls:"x-dd-drag-repair",ariaRole:"presentation",skipLayout:true,constructor:function(g){var e=this;g=g||{};Ext.apply(e,{hideMode:"visibility",hidden:true,floating:true,id:e.id||Ext.id(),cls:"x-dd-drag-proxy "+this.dropNotAllowed,shadow:g.shadow||false,renderTo:Ext.getDetachedBody()});Ext.Component.prototype.constructor.apply(this,arguments);this.dropStatus=this.dropNotAllowed},dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",setStatus:function(d){d=d||this.dropNotAllowed;if(this.dropStatus!==d){this.el.replaceCls(this.dropStatus,d);this.dropStatus=d}},reset:function(h){var g=this,i="x-dd-drag-proxy ";g.el.replaceCls(i+g.dropAllowed,i+g.dropNotAllowed);g.dropStatus=g.dropNotAllowed;if(h){g.ghost.setHtml("")}},update:function(g){if(typeof g==="string"){this.ghost.setHtml(g)}else{this.ghost.setHtml("");g.style.margin="0";this.ghost.dom.appendChild(g)}var e=this.ghost.dom.firstChild;if(e){Ext.fly(e).setStyle("float","none")}},getGhost:function(){return this.ghost},hide:function(d){Ext.Component.prototype.hide.call(this);if(d){this.reset(true)}},stop:function(){if(this.anim&&this.anim.isAnimated&&this.anim.isAnimated()){this.anim.stop()}},sync:function(){this.el.syncUnderlays()},repair:function(i,h,k){var j=this;j.callback=h;j.scope=k;if(i&&j.animRepair!==false){j.el.addCls(j.repairCls);j.el.setUnderlaysVisible(false);j.anim=j.el.animate({duration:j.repairDuration||500,easing:"ease-out",to:{x:i[0],y:i[1]},stopAnimation:true,callback:j.afterRepair,scope:j})}else{j.afterRepair()}},afterRepair:function(){var d=this;d.hide(true);d.el.removeCls(d.repairCls);if(typeof d.callback==="function"){d.callback.call(d.scope||d)}delete d.callback;delete d.scope}},1,0,["component","box"],{component:true,box:true},0,0,[Ext.dd,"StatusProxy"],0));(Ext.cmd.derive("Ext.dd.DragSource",Ext.dd.DDProxy,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",animRepair:true,repairHighlightColor:"c3daf9",constructor:function(e,g){this.el=Ext.get(e);if(!this.dragData){this.dragData={}}Ext.apply(this,g);if(!this.proxy){this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair})}Ext.dd.DDProxy.prototype.constructor.call(this,this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,scroll:this.scroll===true});this.dragging=false},getDragData:function(d){return this.dragData},onDragEnter:function(i,e){var j=Ext.dd.DragDropManager.getDDById(e),k;this.cachedTarget=j;if(this.beforeDragEnter(j,i,e)!==false){if(j.isNotifyTarget){k=j.notifyEnter(this,i,this.dragData);this.proxy.setStatus(k)}else{this.proxy.setStatus(this.dropAllowed)}if(this.afterDragEnter){this.afterDragEnter(j,i,e)}}},beforeDragEnter:function(h,i,e){return true},onDragOver:function(i,e){var j=this.cachedTarget||Ext.dd.DragDropManager.getDDById(e),k;if(this.beforeDragOver(j,i,e)!==false){if(j.isNotifyTarget){k=j.notifyOver(this,i,this.dragData);this.proxy.setStatus(k)}if(this.afterDragOver){this.afterDragOver(j,i,e)}}},beforeDragOver:function(h,i,e){return true},onDragOut:function(h,e){var i=this.cachedTarget||Ext.dd.DragDropManager.getDDById(e);if(this.beforeDragOut(i,h,e)!==false){if(i.isNotifyTarget){i.notifyOut(this,h,this.dragData)}this.proxy.reset();if(this.afterDragOut){this.afterDragOut(i,h,e)}}this.cachedTarget=null},beforeDragOut:function(h,i,e){return true},onDragDrop:function(h,e){var i=this.cachedTarget||Ext.dd.DragDropManager.getDDById(e);if(this.beforeDragDrop(i,h,e)!==false){if(i.isNotifyTarget){if(i.notifyDrop(this,h,this.dragData)!==false){this.onValidDrop(i,h,e)}else{this.onInvalidDrop(i,h,e)}}else{this.onValidDrop(i,h,e)}if(this.afterDragDrop){this.afterDragDrop(i,h,e)}}delete this.cachedTarget},beforeDragDrop:function(h,i,e){return true},onValidDrop:function(h,i,e){this.hideProxy();if(this.afterValidDrop){this.afterValidDrop(h,i,e)}},getRepairXY:function(e,g){return this.el.getXY()},onInvalidDrop:function(i,j,e){var k=this;if(!j){j=i;i=null;e=j.getTarget().id}if(k.beforeInvalidDrop(i,j,e)!==false){if(k.cachedTarget){if(k.cachedTarget.isNotifyTarget){k.cachedTarget.notifyOut(k,j,k.dragData)}k.cacheTarget=null}k.proxy.repair(k.getRepairXY(j,k.dragData),k.afterRepair,k);if(k.afterInvalidDrop){k.afterInvalidDrop(j,e)}}},afterRepair:function(){var d=this;if(Ext.enableFx){d.el.highlight(d.repairHighlightColor)}d.dragging=false},beforeInvalidDrop:function(h,i,e){return true},handleMouseDown:function(e){if(this.dragging){return}var g=this.getDragData(e);if(g&&this.onBeforeDrag(g,e)!==false){this.dragData=g;this.proxy.stop();Ext.dd.DDProxy.prototype.handleMouseDown.apply(this,arguments)}},onBeforeDrag:function(g,e){return true},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){this.proxy.ensureAttachedToBody(true);return Ext.dd.DDProxy.prototype.alignElWithMouse.apply(this,arguments)},startDrag:function(g,e){this.proxy.reset();this.proxy.hidden=false;this.dragging=true;this.proxy.update("");this.onInitDrag(g,e);this.proxy.show()},onInitDrag:function(i,g){var h=this.el.dom.cloneNode(true);h.id=Ext.id();this.proxy.update(h);this.onStartDrag(i,g);return true},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(d){},endDrag:function(d){this.onEndDrag(this.dragData,d)},onEndDrag:function(g,e){},autoOffset:function(g,e){this.setDelta(-12,-20)},destroy:function(){Ext.dd.DDProxy.prototype.destroy.call(this);Ext.destroy(this.proxy)}},1,0,0,0,0,0,[Ext.dd,"DragSource"],0));(Ext.cmd.derive("Ext.panel.Proxy",Ext.Base,{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:true,constructor:function(i,h){var g=this;g.panel=i;g.id=g.panel.id+"-ddproxy";Ext.apply(g,h)},insertProxy:true,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){var d=this;if(d.ghost){if(d.proxy){d.proxy.destroy();delete d.proxy}d.panel.unghost(null,d.moveOnDrag);delete d.ghost}},show:function(){var e=this,g;if(!e.ghost){g=e.panel.getSize();e.panel.el.setVisibilityMode(Ext.Element.DISPLAY);e.ghost=e.panel.ghost();if(e.insertProxy){e.proxy=e.panel.el.insertSibling({role:"presentation",cls:"x-panel-dd-spacer"});e.proxy.setSize(g)}}},repair:function(h,g,i){this.hide();Ext.callback(g,i||this)},moveProxy:function(g,e){if(this.proxy){g.insertBefore(this.proxy.dom,e)}}},1,0,0,0,0,0,[Ext.panel,"Proxy",Ext.dd,"PanelProxy"],0));(Ext.cmd.derive("Ext.panel.DD",Ext.dd.DragSource,{constructor:function(h,i){var g=this;g.panel=h;g.dragData={panel:h};g.panelProxy=new Ext.panel.Proxy(h,i);g.proxy=g.panelProxy.proxy;Ext.dd.DragSource.prototype.constructor.call(this,h.el,i);g.setupEl(h)},setupEl:function(k){var i=this,h=k.header,j=k.body;if(h){i.setHandleElId(h.id);j=h.el}if(j){j.setStyle("cursor","move");i.scroll=false}else{k.on("boxready",i.setupEl,i,{single:true})}},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(g,e){this.panelProxy.show()},b4MouseDown:function(i){var j=i.getXY(),k=j[0],e=j[1];this.autoOffset(k,e)},onInitDrag:function(g,e){this.onStartDrag(g,e);return true},createFrame:Ext.emptyFn,getDragEl:function(e){var g=this.panelProxy.ghost;if(g){return g.el.dom}},endDrag:function(d){this.panelProxy.hide();this.panel.saveState()},autoOffset:function(g,e){g-=this.startPageX;e-=this.startPageY;this.setDelta(g,e)},onInvalidDrop:function(i,j,e){var k=this;if(k.beforeInvalidDrop(i,j,e)!==false){if(k.cachedTarget){if(k.cachedTarget.isNotifyTarget){k.cachedTarget.notifyOut(k,j,k.dragData)}k.cacheTarget=null}if(k.afterInvalidDrop){k.afterInvalidDrop(j,e)}}}},1,0,0,0,0,0,[Ext.panel,"DD"],0));(Ext.cmd.derive("Ext.layout.component.Dock",Ext.layout.component.Component,{alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",horzAxisProps:{name:"horz",oppositeName:"vert",dockBegin:"left",dockEnd:"right",horizontal:true,marginBegin:"margin-left",maxSize:"maxWidth",minSize:"minWidth",pos:"x",setSize:"setWidth",shrinkWrapDock:"shrinkWrapDockWidth",size:"width",sizeModel:"widthModel"},vertAxisProps:{name:"vert",oppositeName:"horz",dockBegin:"top",dockEnd:"bottom",horizontal:false,marginBegin:"margin-top",maxSize:"maxHeight",minSize:"minHeight",pos:"y",setSize:"setHeight",shrinkWrapDock:"shrinkWrapDockHeight",size:"height",sizeModel:"heightModel"},initializedBorders:-1,horizontalCollapsePolicy:{width:true,x:true},verticalCollapsePolicy:{height:true,y:true},finishRender:function(){var h=this,g,i;Ext.layout.component.Component.prototype.finishRender.call(this);g=h.getRenderTarget();i=h.getDockedItems();h.finishRenderItems(g,i)},isItemBoxParent:function(d){return true},isItemShrinkWrap:function(d){return true},noBorderClasses:["x-docked-noborder-top","x-docked-noborder-right","x-docked-noborder-bottom","x-docked-noborder-left"],noBorderClassesSides:{top:"x-docked-noborder-top",right:"x-docked-noborder-right",bottom:"x-docked-noborder-bottom",left:"x-docked-noborder-left"},borderWidthProps:{top:"border-top-width",right:"border-right-width",bottom:"border-bottom-width",left:"border-left-width"},_itemCls:"x-docked",handleItemBorders:function(){var v=this,F=v.owner,w,G,z=v.lastDockedItems,A=v.borders,E=F.dockedItems.generation,D=v.noBorderClassesSides,u=v.borderWidthProps,B,x,H,i,y,C=v.collapsed;if(v.initializedBorders===E||(F.border&&!F.manageBodyBorders)||(F.collapsed&&F.collapseMode==="mini")){return}v.initializedBorders=E;v.collapsed=false;v.lastDockedItems=G=v.getLayoutItems();v.collapsed=C;w={top:[],right:[],bottom:[],left:[]};for(B=0,x=G.length;B<x;B++){H=G[B];i=H.dock;if(H.ignoreBorderManagement){continue}if(!w[i].satisfied){w[i].push(H);w[i].satisfied=true}if(!w.top.satisfied&&i!=="bottom"){w.top.push(H)}if(!w.right.satisfied&&i!=="left"){w.right.push(H)}if(!w.bottom.satisfied&&i!=="top"){w.bottom.push(H)}if(!w.left.satisfied&&i!=="right"){w.left.push(H)}}if(z){for(B=0,x=z.length;B<x;B++){H=z[B];if(!H.destroyed&&!H.ignoreBorderManagement&&!F.manageBodyBorders){H.removeCls(v.noBorderClasses)}}}if(A){for(y in A){if(F.manageBodyBorders&&A[y].satisfied){F.setBodyStyle(u[y],"")}}}for(y in w){x=w[y].length;if(!F.manageBodyBorders){for(B=0;B<x;B++){w[y][B].addCls(D[y])}if((!w[y].satisfied&&!F.bodyBorder)||F.bodyBorder===false){F.addBodyCls(D[y])}else{F.removeBodyCls(D[y])}}else{if(w[y].satisfied){F.setBodyStyle(u[y],"1px")}}}v.borders=w},beforeLayoutCycle:function(l){var p=this,q=p.owner,k=p.sizeModels.shrinkWrap,m=q.shrinkWrapDock,n,r;if(q.collapsed){if(q.collapsedVertical()){r=true;l.measureDimensions=1}else{n=true;l.measureDimensions=2}}l.collapsedVert=r;l.collapsedHorz=n;if(r){l.heightModel=k}else{if(n){l.widthModel=k}}m=m===true?3:(m||0);l.shrinkWrapDockHeight=(m&1)&&l.heightModel.shrinkWrap;l.shrinkWrapDockWidth=(m&2)&&l.widthModel.shrinkWrap},beginLayout:function(B){var v=this,C=v.owner,F=v.getLayoutItems(),D=B.context,z=F.length,w=v.lastCollapsedState,u,x,i,E,A,y,t;Ext.layout.component.Component.prototype.beginLayout.apply(this,arguments);y=C.getCollapsed();if(y!==w&&w!==undefined){if(v.owner.collapsed){B.isCollapsingOrExpanding=1;C.addClsWithUI(C.collapsedCls)}else{B.isCollapsingOrExpanding=2;C.removeClsWithUI(C.collapsedCls);B.lastCollapsedState=v.lastCollapsedState}}v.lastCollapsedState=y;B.dockedItems=u=[];for(x=0;x<z;x++){i=F[x];if(i.rendered){t=i.dock;E=D.getCmp(i);E.dockedAt={x:0,y:0};E.offsets=A=Ext.Element.parseBox(i.offsets||0);E.horizontal=t==="top"||t==="bottom";A.width=A.left+A.right;A.height=A.top+A.bottom;u.push(E)}}B.bodyContext=B.getEl("body")},beginLayoutCycle:function(w){var t=this,i=w.dockedItems,u=i.length,x=t.owner,s=x.frameBody,p=t.lastHeightModel,v,q,r;Ext.layout.component.Component.prototype.beginLayoutCycle.apply(this,arguments);if(t.owner.manageHeight){if(t.lastBodyDisplay){x.body.dom.style.display=t.lastBodyDisplay=""}}else{if(t.lastBodyDisplay!=="inline-block"){x.body.dom.style.display=t.lastBodyDisplay="inline-block"}if(p&&p.shrinkWrap&&!w.heightModel.shrinkWrap){x.body.dom.style.marginBottom=""}}if(w.widthModel.auto){if(w.widthModel.shrinkWrap){x.el.setWidth(null)}x.body.setWidth(null);if(s){s.setWidth(null)}}if(w.heightModel.auto){x.body.setHeight(null);if(s){s.setHeight(null)}}if(w.collapsedVert){w.setContentHeight(0)}else{if(w.collapsedHorz){w.setContentWidth(0)}}for(v=0;v<u;v++){q=i[v].target;r=q.dock;if(r==="right"){q.setLocalX(0)}else{if(r!=="left"){continue}}}},calculate:function(y){var r=this,z=r.measureAutoDimensions(y,y.measureDimensions),A=y.state,s=A.horzDone,x=A.vertDone,w=y.bodyContext,t,B,u,v,q;y.borderInfo||y.getBorderInfo();y.paddingInfo||y.getPaddingInfo();y.frameInfo||y.getFrameInfo();w.borderInfo||w.getBorderInfo();w.paddingInfo||w.getPaddingInfo();if(!y.frameBorder){if(!(t=y.framing)){y.frameBorder=y.borderInfo;y.framePadding=y.paddingInfo}else{y.frameBorder=t.border;y.framePadding=t.padding}}B=!s&&r.createAxis(y,z.contentWidth,y.widthModel,r.horzAxisProps,y.collapsedHorz);u=!x&&r.createAxis(y,z.contentHeight,y.heightModel,r.vertAxisProps,y.collapsedVert);for(v=0,q=y.dockedItems.length;q--;++v){if(B){r.dockChild(y,B,q,v)}if(u){r.dockChild(y,u,q,v)}}if(B&&r.finishAxis(y,B)){A.horzDone=s=B}if(u&&r.finishAxis(y,u)){A.vertDone=x=u}if(s&&x&&r.finishConstraints(y,s,x)){r.finishPositions(y,s,x)}else{r.done=false}},createAxis:function(D,J,N,G,O){var y=this,z=0,Q=y.owner,M=Q[G.maxSize],P=Q[G.minSize]||0,F=G.dockBegin,K=G.dockEnd,B=G.pos,H=G.size,I=M!=null,E=N.shrinkWrap,R,A,C,L;if(E){if(O){L=0}else{R=D.bodyContext;L=J+R.borderInfo[H]}}else{A=D.frameBorder;C=D.framePadding;z=A[F]+C[F];L=D.getProp(H)-(A[K]+C[K])}return{shrinkWrap:N.shrinkWrap,sizeModel:N,initialBegin:z,begin:z,end:L,collapsed:O,horizontal:G.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:L-z,maxChildSize:0,hasMinMaxConstraints:(P||I)&&N.shrinkWrap,minSize:P,maxSize:I?M:1000000000,bodyPosProp:y.owner.manageHeight?B:G.marginBegin,dockBegin:F,dockEnd:K,posProp:B,sizeProp:H,setSize:G.setSize,shrinkWrapDock:D[G.shrinkWrapDock],sizeModelName:G.sizeModel,dockedPixelsEnd:0}},dockChild:function(y,x,p,v){var u=this,z=y.dockedItems[x.shrinkWrap?p:v],s=z.target,r=s.dock,w=x.sizeProp,t,q;if(s.ignoreParentFrame&&y.isCollapsingOrExpanding){z.clearMarginCache()}if(!z.marginInfo){z.getMarginInfo()}if(r===x.dockBegin){if(x.shrinkWrap){t=u.dockOutwardBegin(y,z,s,x)}else{t=u.dockInwardBegin(y,z,s,x)}}else{if(r===x.dockEnd){if(x.shrinkWrap){t=u.dockOutwardEnd(y,z,s,x)}else{t=u.dockInwardEnd(y,z,s,x)}}else{if(x.shrinkWrapDock){q=z.getProp(w)+z.marginInfo[w];x.maxChildSize=Math.max(x.maxChildSize,q);t=0}else{t=u.dockStretch(y,z,s,x)}}}z.dockedAt[x.posProp]=t},dockInwardBegin:function(w,x,p,u){var s=u.begin,t=u.sizeProp,v=p.ignoreParentFrame,r,n,q;if(v){u.ignoreFrameBegin=x;q=p.dock;r=w.frameBorder[q];s-=r+w.framePadding[q]}if(!p.overlay){n=x.getProp(t)+x.marginInfo[t];u.begin+=n;if(v){u.begin-=r}}return s},dockInwardEnd:function(p,q,r,s){var l=s.sizeProp,t=q.getProp(l)+q.marginInfo[l],m=s.end-t,n;if(!r.overlay){s.end=m}if(r.ignoreParentFrame){s.ignoreFrameEnd=q;n=p.frameBorder[r.dock];m+=n+p.framePadding[r.dock];s.end+=n}return m},dockOutwardBegin:function(m,n,p,q){var k=q.begin,l=q.sizeProp,r;if(q.collapsed){q.ignoreFrameBegin=q.ignoreFrameEnd=n}else{if(p.ignoreParentFrame){q.ignoreFrameBegin=n}}if(!p.overlay){r=n.getProp(l)+n.marginInfo[l];k-=r;q.begin=k}return k},dockOutwardEnd:function(m,n,p,q){var k=q.end,l=q.sizeProp,r;r=n.getProp(l)+n.marginInfo[l];if(q.collapsed){q.ignoreFrameBegin=q.ignoreFrameEnd=n}else{if(p.ignoreParentFrame){q.ignoreFrameEnd=n}}if(!p.overlay){q.end=k+r;q.dockedPixelsEnd+=r}return k},dockStretch:function(E,F,v,D){var u=v.dock,y=D.sizeProp,G=u==="top"||u==="bottom",z=E.frameBorder,C=F.offsets,w=E.framePadding,A=G?"right":"bottom",H=G?"left":"top",x=D.begin+C[H],B,t;if(v.stretch!==false){t=D.end-x-C[A];if(v.ignoreParentFrame){x-=w[H]+z[H];t+=w[y]+z[y]}B=F.marginInfo;t-=B[y];F[D.setSize](t)}return x},finishAxis:function(M,T){if(isNaN(T.maxChildSize)){return false}var U=T.begin,I=T.end-U,R=T.collapsed,B=T.setSize,O=T.dockBegin,D=T.dockEnd,J=M.framePadding,G=M.frameBorder,S=G[O],F=M.framing,K=F&&F[O],W=R?0:J[O],P=T.sizeProp,E=T.ignoreFrameBegin,H=T.ignoreFrameEnd,X=M.bodyContext,N=Math.max(S+W-K,0),V,L,C,Q;if(T.shrinkWrap){L=T.initialSize;if(F){C=-U+S+W;V=C-K-N}else{V=-U;C=V+W}if(!R){I+=J[P]}if(E){C-=S;V-=S;E.dockedAt[T.posProp]-=W}else{I+=S}if(R){}else{if(H){H.dockedAt[T.posProp]+=J[D]}else{I+=G[D]}}T.size=I;if(!T.horizontal&&!this.owner.manageHeight){Q=false}}else{if(F){C=0;V=U-K-N}else{C=-S;V=U-W-S}L=I}T.delta=C;X[B](L,Q);X.setProp(T.bodyPosProp,V);return !isNaN(I)},beforeInvalidateShrinkWrapDock:function(g,h){var i=h.axis.sizeModelName;if(!g[i].constrainedMin){g[i]=Ext.layout.SizeModel.calculated}},afterInvalidateShrinkWrapDock:function(j,m){var l=m.axis,k=m.layout,i;if(j[l.sizeModelName].calculated){i=k.dockStretch(m.ownerContext,j,j.target,l);j.setProp(l.posProp,l.delta+i)}},finishConstraints:function(E,L,z){var w=this,x=w.sizeModels,A=L.shrinkWrap,y=z.shrinkWrap,N=w.owner,G,C,B,I,H,D,M,K,J,F;if(A){D=L.size;M=L.collapsed?0:L.minSize;K=L.maxSize;J=L.maxChildSize;F=Math.max(D,J);if(F>K){H=x.constrainedMax;B=K}else{if(F<M){H=x.constrainedMin;B=M}else{if(D<J){H=x.constrainedDock;N.dockConstrainedWidth=B=J}else{B=D}}}}if(y){D=z.size;M=z.collapsed?0:z.minSize;K=z.maxSize;J=z.maxChildSize;F=Math.max(D,J+D-z.initialSize);if(F>K){I=x.constrainedMax;C=K}else{if(F<M){I=x.constrainedMin;C=M}else{if(D<J){I=x.constrainedDock;N.dockConstrainedHeight=C=J}else{if(!E.collapsedVert&&!N.manageHeight){G=false;E.bodyContext.setProp("margin-bottom",z.dockedPixelsEnd)}C=D}}}}if(H||I){if(H&&I&&H.constrainedMax&&I.constrainedByMin){E.invalidate({widthModel:H});return false}if(!E.widthModel.calculatedFromShrinkWrap&&!E.heightModel.calculatedFromShrinkWrap){E.invalidate({widthModel:H,heightModel:I});return false}}else{w.invalidateAxes(E,L,z)}if(A){E.setWidth(B);if(H){E.widthModel=H}}if(y){E.setHeight(C,G);if(I){E.heightModel=I}}return true},invalidateAxes:function(C,H,y){var L=this.beforeInvalidateShrinkWrapDock,G=this.afterInvalidateShrinkWrapDock,D=H.end-H.begin,I=y.initialSize,F=H.shrinkWrapDock&&H.maxChildSize<=D,x=y.shrinkWrapDock&&y.maxChildSize<=I,K,w,z,E,J,i,B,A;if(F||x){if(x){y.begin=y.initialBegin;y.end=y.begin+y.initialSize}K=C.dockedItems;for(z=0,w=K.length;z<w;++z){E=K[z];i=E.horizontal;B=null;if(F&&i){A=H.sizeProp;J=D;B=H}else{if(x&&!i){A=y.sizeProp;J=I;B=y}}if(B){J-=E.getMarginInfo()[A];if(J!==E.props[A]){E.invalidate({before:L,after:G,axis:B,ownerContext:C,layout:this})}}}}},finishPositions:function(s,v,p){var m=s.dockedItems,t=m.length,q=v.delta,r=p.delta,n,u;for(n=0;n<t;++n){u=m[n];u.setProp("x",q+u.dockedAt.x);u.setProp("y",r+u.dockedAt.y)}},finishedLayout:function(h){var i=this,g=h.target;Ext.layout.component.Component.prototype.finishedLayout.apply(this,arguments);if(!h.animatePolicy){if(h.isCollapsingOrExpanding===1){g.afterCollapse(false)}else{if(h.isCollapsingOrExpanding===2){g.afterExpand(false)}}}},getAnimatePolicy:function(i){var j=this,k,h;if(i.isCollapsingOrExpanding===1){k=j.lastCollapsedState}else{if(i.isCollapsingOrExpanding===2){k=i.lastCollapsedState}}if(k==="left"||k==="right"){h=j.horizontalCollapsePolicy}else{if(k==="top"||k==="bottom"){h=j.verticalCollapsePolicy}}return h},getDockedItems:function(z,i){var u=this,x=(z==="visual"),t=x?Ext.ComponentQuery.query("[rendered]",u.owner.dockedItems.items):u.owner.dockedItems.items,v=t&&t.length&&z!==false,A,r,s,w,y,B;if(i==null){s=v&&!x?t.slice():t}else{s=[];for(w=0,B=t.length;w<B;++w){r=t[w].dock;y=(r==="top"||r==="left");if(i?y:!y){s.push(t[w])}}v=v&&s.length}if(v){A=(z=z||"render")==="render";Ext.Array.sort(s,function(g,d){var e,c;if(A&&((e=u.owner.dockOrder[g.dock])!==(c=u.owner.dockOrder[d.dock]))){if(!(e+c)){return e-c}}e=u.getItemWeight(g,z);c=u.getItemWeight(d,z);if((e!==undefined)&&(c!==undefined)){return e-c}return 0})}return s||[]},getItemWeight:function(h,i){var g=h.weight||this.owner.defaultDockWeights[h.dock];return g[i]||g},getLayoutItems:function(){var k=this,n,i,l,m,p;if(k.owner.collapsed){p=k.owner.getCollapsedDockedItems()}else{n=k.getDockedItems("visual");i=n.length;p=[];for(m=0;m<i;m++){l=n[m];if(!l.hidden){p.push(l)}}}return p},measureContentWidth:function(g){var e=g.bodyContext;return e.el.getWidth()-e.getBorderInfo().width},measureContentHeight:function(g){var e=g.bodyContext;return e.el.getHeight()-e.getBorderInfo().height},redoLayout:function(g){var h=this,i=h.owner;if(g.isCollapsingOrExpanding===1){if(i.reExpander){i.reExpander.el.show()}i.addClsWithUI(i.collapsedCls);g.redo(true)}else{if(g.isCollapsingOrExpanding===2){i.removeClsWithUI(i.collapsedCls);g.bodyContext.redo()}}},renderChildren:function(){var h=this,i=h.getDockedItems(),g=h.getRenderTarget();h.handleItemBorders();h.renderItems(i,g)},renderItems:function(H,x){var y=this,N=y.owner,K={},A=H.length,J=N.body,M=!!N.frameSize,B=N.bodyContainer,I,L,F,C,G,D,z,i,E;if(A){for(D=0;D<A;D++){z=H[D];K[z.id]=z}L=y.getRenderTarget().dom.childNodes;F=L.length;G=0;for(D=0;D<F;++D){C=L[D];if(M){E=C===J.dom||C===B;if(!E&&Ext.fly(C).contains(J)){E=true;N.bodyContainer=C}}else{E=C===J.dom}if(E){I=D;break}if(K[C.id]){++G}}I-=G;for(D=0;D<A;++D){z=H[D];i=I+D;if(z.dock==="right"||z.dock==="bottom"){++i}if(!z.rendered){y.renderItem(z,x,i)}else{if(!y.isValidParent(z,x,i)){y.moveItem(z,x,i)}}}}},undoLayout:function(g){var h=this,i=h.owner;if(g.isCollapsingOrExpanding===1){if(i.reExpander){i.reExpander.el.hide()}i.removeClsWithUI(i.collapsedCls);g.undo(true)}else{if(g.isCollapsingOrExpanding===2){i.addClsWithUI(i.collapsedCls);g.bodyContext.undo()}}},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{setsWidth:0,setsHeight:1,readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(n,l){var p=this,k=p.sizePolicy,m=p.owner.shrinkWrapDock,q,r;if(n.stretch===false){return k.nostretch}q=n.dock;r=(q==="left"||q==="right");m=m===true?3:(m||0);if(r){k=k.vert;m=m&1}else{k=k.horz;m=m&2}if(m){if(!l){l=p.owner.getSizeModel()}if(l[r?"height":"width"].shrinkWrap){return k.shrinkWrap}}return k.stretch},configureItem:function(g,e){Ext.layout.component.Component.prototype.configureItem.apply(this,arguments);g.addCls(this._itemCls);if(!g.ignoreBorderManagement){g.addClsWithUI(this.getDockCls(g.dock))}},getDockCls:function(d){return"docked-"+d},afterRemove:function(g){var e;Ext.layout.component.Component.prototype.afterRemove.apply(this,arguments);g.removeCls(this._itemCls);if(!g.ignoreBorderManagement){g.removeClsWithUI(this.getDockCls(g.dock))}e=g.el.dom;if(!g.destroying&&e){e.parentNode.removeChild(e)}this.childrenChanged=true},borderCollapseMap:{},getBorderCollapseTable:function(){var l=this,j=l.borderCollapseMap,p=l.owner,n=p.baseCls,k=p.ui,m;j=j[n]||(j[n]={});m=j[k];if(!m){n+="-"+k+"-outer-border-";j[k]=m=[0,n+"l",n+"b",n+"bl",n+"r",n+"rl",n+"rb",n+"rbl",n+"t",n+"tl",n+"tb",n+"tbl",n+"tr",n+"trl",n+"trb",n+"trbl"]}return m}},0,0,0,0,["layout.dock"],0,[Ext.layout.component,"Dock",Ext.layout.component,"AbstractDock"],0));Ext.define("Ext.theme.neptune.layout.component.Dock",{override:"Ext.layout.component.Dock",noBorderClassTable:[0,"x-noborder-l","x-noborder-b","x-noborder-bl","x-noborder-r","x-noborder-rl","x-noborder-rb","x-noborder-rbl","x-noborder-t","x-noborder-tl","x-noborder-tb","x-noborder-tbl","x-noborder-tr","x-noborder-trl","x-noborder-trb","x-noborder-trbl"],edgeMasks:{top:8,right:4,bottom:2,left:1},handleItemBorders:function(){var O=this,X=0,N=8,L=4,S=2,Y=1,ab=O.owner,H=ab.bodyBorder,P=ab.border,U=O.collapsed,K=O.edgeMasks,T=O.noBorderClassTable,R=ab.dockedItems.generation,i,Z,E,V,I,Q,F,M,W,J,G,aa;if(O.initializedBorders===R){return}G=[];aa=[];Z=O.getBorderCollapseTable();T=O.getBorderClassTable?O.getBorderClassTable():T;O.initializedBorders=R;O.collapsed=false;E=O.getDockedItems("visual");O.collapsed=U;for(I=0,Q=E.length;I<Q;I++){F=E[I];if(F.ignoreBorderManagement){continue}M=F.dock;J=V=0;G.length=0;aa.length=0;if(M!=="bottom"){if(X&N){i=F.border}else{i=P;if(i!==false){V+=N}}if(i===false){J+=N}}if(M!=="left"){if(X&L){i=F.border}else{i=P;if(i!==false){V+=L}}if(i===false){J+=L}}if(M!=="top"){if(X&S){i=F.border}else{i=P;if(i!==false){V+=S}}if(i===false){J+=S}}if(M!=="right"){if(X&Y){i=F.border}else{i=P;if(i!==false){V+=Y}}if(i===false){J+=Y}}if((W=F.lastBorderMask)!==J){F.lastBorderMask=J;if(W){aa[0]=T[W]}if(J){G[0]=T[J]}}if((W=F.lastBorderCollapse)!==V){F.lastBorderCollapse=V;if(W){aa[aa.length]=Z[W]}if(V){G[G.length]=Z[V]}}if(aa.length){F.removeCls(aa)}if(G.length){F.addCls(G)}X|=K[M]}J=V=0;G.length=0;aa.length=0;if(X&N){i=H}else{i=P;if(i!==false){V+=N}}if(i===false){J+=N}if(X&L){i=H}else{i=P;if(i!==false){V+=L}}if(i===false){J+=L}if(X&S){i=H}else{i=P;if(i!==false){V+=S}}if(i===false){J+=S}if(X&Y){i=H}else{i=P;if(i!==false){V+=Y}}if(i===false){J+=Y}if((W=O.lastBodyBorderMask)!==J){O.lastBodyBorderMask=J;if(W){aa[0]=T[W]}if(J){G[0]=T[J]}}if((W=O.lastBodyBorderCollapse)!==V){O.lastBodyBorderCollapse=V;if(W){aa[aa.length]=Z[W]}if(V){G[G.length]=Z[V]}}if(aa.length){ab.removeBodyCls(aa)}if(G.length){ab.addBodyCls(G)}},onRemove:function(h){var i=this,j=h.lastBorderMask,k=h.lastBorderCollapse;if(!h.destroyed&&!h.ignoreBorderManagement){if(j){h.lastBorderMask=0;h.removeCls(i.noBorderClassTable[j])}if(k){h.lastBorderCollapse=0;h.removeCls(i.getBorderCollapseTable()[k])}}(arguments.callee.$previous||Ext.layout.component.Component.prototype.onRemove).call(this,h)}});(Ext.cmd.derive("Ext.util.Memento",Ext.Base,(function(){function j(d,e,c,g){d[g?g+c:c]=e[c]}function k(d,e,c){delete d[c]}function i(c,d,p,e){var h=e?e+p:p,g=c[h];if(g||c.hasOwnProperty(h)){m(d,p,g)}}function m(d,c,e){if(Ext.isDefined(e)){d[c]=e}else{delete d[c]}}function l(g,p,r,e,d){if(p){if(Ext.isArray(e)){var c,h=e.length;for(c=0;c<h;c++){g(p,r,e[c],d)}}else{g(p,r,e,d)}}}return{data:null,target:null,constructor:function(c,d){this.data={};if(c){this.target=c;if(d){this.capture(d)}}},capture:function(g,c,d){var e=this;l(j,e.data||(e.data={}),c||e.target,g,d)},remove:function(c){l(k,this.data,null,c)},restore:function(e,g,c,d){l(i,this.data,c||this.target,e,d);if(g!==false){this.remove(e)}},restoreAll:function(h,c){var e=this,g=c||this.target,d=e.data,p;h=h!==false;for(p in d){if(d.hasOwnProperty(p)){m(g,p,d[p]);if(h){delete d[p]}}}}}}()),1,0,0,0,0,0,[Ext.util,"Memento"],0));(Ext.cmd.derive("Ext.container.DockingContainer",Ext.Base,{isDockingContainer:true,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,tabGuard:false,tabGuardTpl:'<div id="{id}-{tabGuardEl}" data-ref="{tabGuardEl}" tabIndex="0" class="x-tab-guard x-tab-guard-{tabGuard}" ></div>',addDocked:function(u,r){var s=this,y=s.rendered,x=0,q=s.dockedItems,w=q.getCount(),v,t,i,z;u=s.prepareItems(u);z=u.length;if(y){Ext.suspendLayouts()}if(r===undefined){r=w}else{r=Math.min(r,w)}for(;x<z;x++){i=u[x];i.dock=i.dock||"top";if(i.dock==="left"||i.dock==="right"){s.horizontalDocks++}v=r+x;q.insert(v,i);t=!!i.instancedCmp;delete i.instancedCmp;i.onAdded(s,v,t);delete i.$initParent;if(s.onDockedAdd!==Ext.emptyFn){s.onDockedAdd(i)}if(s.hasListeners.dockedadd){s.fireEvent("dockedadd",s,i,v)}}if(s.rendered){s.updateLayout();Ext.resumeLayouts(true)}return u},destroyDockedItems:function(){var g=this.dockedItems,c;if(g){while((c=g.first())){this.removeDocked(c,true)}}},doRenderDockedItems:function(q,m,l){var n=m.$comp,p=n.componentLayout,r=n.tabGuard&&n.getTpl("tabGuardTpl"),s,t;if(p.getDockedItems&&!m.$skipDockedItems){if(r&&!l){m.tabGuard="before";n.addChildEl(m.tabGuardEl="tabGuardBeforeEl");r.applyOut(m,q)}s=p.getDockedItems("render",!l);t=s&&p.getItemsRenderTree(s);if(t){Ext.DomHelper.generateMarkup(t,q)}if(r&&l){m.tabGuard="after";n.addChildEl(m.tabGuardEl="tabGuardAfterEl");r.applyOut(m,q)}}},getDockedComponent:function(d){if(Ext.isObject(d)){d=d.getItemId()}return this.dockedItems.get(d)},getDockedItems:function(i,g){var h=this.getComponentLayout().getDockedItems("render",g);if(i&&h.length){h=Ext.ComponentQuery.query(i,h)}return h},getDockingRefItems:function(l,i){var m=l&&"*,* *",j=this.getDockedItems(m,true),k;j.push.apply(j,i);k=this.getDockedItems(m,false);j.push.apply(j,k);return j},initDockingItems:function(){var e=this,g=e.dockedItems;if(!g||!g.isMixedCollection){e.dockedItems=new Ext.util.ItemCollection();if(g){e.addDocked(g)}}},insertDocked:function(e,g){this.addDocked(g,e)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(i,l){var j=this,k,m;l=l===true||(l!==false&&j.autoDestroy);if(!j.dockedItems.contains(i)){return i}if(i.dock==="left"||i.dock==="right"){j.horizontalDocks--}k=j.componentLayout;m=k&&j.rendered;if(m){k.onRemove(i)}j.dockedItems.remove(i);i.onRemoved(i.destroying||l);j.onDockedRemove(i);if(l){i.destroy()}else{if(m){k.afterRemove(i)}}if(j.hasListeners.dockedremove){j.fireEvent("dockedremove",j,i)}if(!j.destroying){j.updateLayout()}return i},moveDocked:function(g,i){var h=this;if(h.rendered){Ext.suspendLayouts()}h.removeDocked(g,false);g.dock=i;h.addDocked(g);if(h.rendered){if(g.frame){Ext.getDetachedBody().appendChild(g.el);g.updateFrame()}Ext.resumeLayouts(true)}},setupDockingRenderTpl:function(d){d.renderDockedItems=this.doRenderDockedItems}},0,0,0,0,0,0,[Ext.container,"DockingContainer"],0));(Ext.cmd.derive("Ext.panel.Panel",Ext.container.Container,{alternateClassName:"Ext.Panel",childEls:["body"],renderTpl:['<tpl if="headingText">','<div id="{id}-headingEl" data-ref="headingEl" role="heading"',' class="',"x-",'hidden-clip" style="height:0">',"{headingText}","</div>","</tpl>","{% this.renderDockedItems(out,values,0); %}",'<div id="{id}-body" data-ref="body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>{childElCls}"','<tpl if="bodyAriaAttributes">','<tpl foreach="bodyAriaAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",'<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}"],headerPosition:"top",iconAlign:"left",titleAlign:"left",titleRotation:"default",beforeRenderConfig:{glyph:null,headerPosition:null,icon:null,iconAlign:null,iconCls:null,title:null,titleAlign:null,titleRotation:null},animCollapse:Ext.enableFx,border:true,closable:false,closeAction:"destroy",closeToolText:"Close panel",collapsed:false,collapsedCls:"collapsed",collapseFirst:true,collapsible:undefined,collapseToolText:"Collapse panel",expandToolText:"Expand panel",constrain:false,constrainHeader:false,dockedItems:null,tbar:null,bbar:null,fbar:null,lbar:null,rbar:null,buttons:null,floatable:true,frame:false,frameHeader:true,hideCollapseTool:false,manageHeight:true,maskElement:"el",minButtonWidth:75,preventHeader:false,shrinkWrapDock:false,titleCollapse:undefined,baseCls:"x-panel",bodyPosProps:{x:"x",y:"y"},componentLayout:"dock",contentPaddingProperty:"bodyPadding",emptyArray:[],isPanel:true,defaultBindProperty:"title",addBodyCls:function(h){var g=this,i=g.rendered?g.body:g.getProtoBody();i.addCls(h);return g},addTool:function(m){if(!Ext.isArray(m)){m=[m]}var n=this,k=n.header,r=m.length,l=n.tools,p,q;if(!k||!k.isHeader){k=null;if(!l){n.tools=l=[]}}for(p=0;p<r;p++){q=m[p];q.toolOwner=n;if(k){k.addTool(q)}else{l.push(q)}}n.updateHeader()},addTools:Ext.emptyFn,setCollapsible:function(i){var j=this,h=j.collapsible,k=j.collapseTool;j.collapsible=i;if(i&&!h){j.updateCollapseTool();k=j.collapseTool;if(k){k.show()}}else{if(!i&&h){if(k){k.hide()}}}},addUIClsToElement:function(h){var g=this,i=Ext.container.Container.prototype.addUIClsToElement.apply(this,arguments);g.addBodyCls(["x-"+h,g.baseCls+"-body-"+h,g.baseCls+"-body-"+g.ui+"-"+h]);return i},afterCollapse:function(i){var j=this,k=j.ariaEl.dom,h=j.ownerLayout;j.isCollapsingOrExpanding=0;j.updateCollapseTool();if(i){j.removeCls("x-animating-size")}if(h){h.afterCollapse(j,i)}if(k){k.setAttribute("aria-expanded",false)}if(j.isAccordionPanel){j.body.dom.setAttribute("aria-hidden",true)}j.setHiddenDocked();j.fireEvent("collapse",j)},afterExpand:function(i){var j=this,k=j.ariaEl.dom,h=j.ownerLayout;j.isCollapsingOrExpanding=0;j.updateCollapseTool();if(i){j.removeCls("x-animating-size")}if(h){h.afterExpand(j,i)}if(k){k.setAttribute("aria-expanded",true)}if(j.isAccordionPanel){j.body.dom.setAttribute("aria-hidden",false)}j.fireEvent("expand",j);j.fireHierarchyEvent("expand")},beforeDestroy:function(){var d=this;Ext.destroy(d.placeholder,d.ghostPanel,d.dd,d.accordionKeyNav,d.defaultButtonKeyNav);d.destroyDockedItems();Ext.container.Container.prototype.beforeDestroy.call(this)},destroy:function(){Ext.container.Container.prototype.destroy.call(this);this.dockedItems=this.bodyContainer=null},beforeRender:function(){var e=this,g;e.getProtoBody();Ext.container.Container.prototype.beforeRender.call(this);e.initTools();if(!(e.preventHeader||(e.header===false))||e.isViewportBorderChild){e.updateHeader()}e.afterHeaderInit=true;if(e.collapsed){if(e.isPlaceHolderCollapse()){if(!e.hidden){e.setHiddenState(true);e.preventCollapseFire=true;e.placeholderCollapse();delete e.preventCollapseFire;g=e.collapsed;e.collapsed=false}}else{e.beginCollapse();e.addClsWithUI(e.collapsedCls)}}if(g){e.collapsed=g}},getMemento:function(g){var e=this;if(g&&typeof g==="string"){g+="Memento";return e[g]||(e[g]=new Ext.util.Memento(e))}},beginCollapse:function(){var m=this,p=m.lastBox,k=m.rendered,q=m.getMemento("collapse"),n=m.getSizeModel(),l=m.header,r;q.capture(["height","minHeight","width","minWidth"]);if(p){q.capture(m.restoreDimension(),p,"last.")}if(m.collapsedVertical()){if(n.width.shrinkWrap){m.width=k?m.getWidth():m.width||m.minWidth||100}delete m.height;m.minHeight=0}else{if(m.collapsedHorizontal()){if(n.height.shrinkWrap){m.height=k?m.getHeight():m.height||m.minHeight||100}delete m.width;m.minWidth=0}}if(m.ownerCt){m.ownerCt.getLayout().beginCollapse(m)}if(!m.isPlaceHolderCollapse()&&l!==false){if(l===(r=m.getReExpander())){l.collapseImmune=true;l.getInherited().collapseImmune=true;l.addClsWithUI(m.getHeaderCollapsedClasses(l));if(l.rendered){l.updateFrame()}}else{if(r.el){r.el.show();r.hidden=false}}}if(m.resizer){m.resizer.disable()}},beginDrag:function(){if(this.floatingDescendants){this.floatingDescendants.hide()}},beginExpand:function(){var k=this,l=k.lastBox,m=k.getMemento("collapse"),p=k.restoreDimension(),j=k.header,n;if(m){m.restore(["minHeight","minWidth",p]);if(l){m.restore(p,true,l,"last.")}}if(k.ownerCt){k.ownerCt.getLayout().beginExpand(k)}if(!k.isPlaceHolderCollapse()&&j!==false){if(j===(n=k.getReExpander())){delete j.collapseImmune;delete j.getInherited().collapseImmune;j.removeClsWithUI(k.getHeaderCollapsedClasses(j));if(j.rendered){j.expanding=true;j.updateFrame();delete j.expanding}}else{n.hidden=true;n.el.hide()}}if(k.resizer){k.resizer.enable()}},bridgeToolbars:function(){var p=this,j=[],k=p.minButtonWidth,m,n;function l(e,c,d){if(Ext.isArray(e)){e={xtype:"toolbar",items:e}}else{if(!e.xtype){e.xtype="toolbar"}}e.dock=c;if(d){e.layout=Ext.applyIf(e.layout||{},{pack:{left:"start",center:"center"}[p.buttonAlign]||"end"})}return e}if(p.tbar){j.push(l(p.tbar,"top"));p.tbar=null}if(p.bbar){j.push(l(p.bbar,"bottom"));p.bbar=null}if(p.buttons){p.fbar=p.buttons;p.buttons=null}if(p.fbar){m=l(p.fbar,"bottom",true);m.ui="footer";if(k){n=m.defaults;m.defaults=function(d){var c=n||{},e=!d.xtype||d.isButton,g;if(!e){g=Ext.ClassManager.getByAlias("widget."+d.xtype);if(g){e=g.prototype.isButton}}if(e&&!("minWidth" in c)){c=Ext.apply({minWidth:k},c)}return c}}j.push(m);p.fbar=null}if(p.lbar){j.push(l(p.lbar,"left"));p.lbar=null}if(p.rbar){j.push(l(p.rbar,"right"));p.rbar=null}if(p.dockedItems){if(p.dockedItems.isMixedCollection){p.addDocked(j)}else{if(!Ext.isArray(p.dockedItems)){p.dockedItems=[p.dockedItems]}p.dockedItems=p.dockedItems.concat(j)}}else{p.dockedItems=j}},close:function(){if(this.fireEvent("beforeclose",this)!==false){this.doClose()}},collapse:function(m,r){var n=this,l=m||n.collapseDirection,q=n.ownerCt,p=n.ownerLayout,k=n.rendered;if(n.isCollapsingOrExpanding){return n}if(arguments.length<2){r=n.animCollapse}if(n.collapsed||n.fireEvent("beforecollapse",n,m,r)===false){return n}if(p&&p.onBeforeComponentCollapse){if(p.onBeforeComponentCollapse(n)===false){return n}}if(k&&q&&n.isPlaceHolderCollapse()){return n.placeholderCollapse(m,r)}n.collapsed=l;if(k){n.beginCollapse()}n.getInherited().collapsed=true;n.fireHierarchyEvent("collapse");if(k){n.doCollapseExpand(1,r)}return n},collapsedHorizontal:function(){var d=this.getCollapsed();return d==="left"||d==="right"},collapsedVertical:function(){var d=this.getCollapsed();return d==="top"||d==="bottom"},convertCollapseDir:function(d){return d.substr(0,1)},createGhost:function(k){var j=this,h=j.header,i=j.frame&&!j.alwaysFramed;return{xtype:"panel",hidden:false,header:h?{titleAlign:h.getTitleAlign()}:null,ui:i?j.ui.replace(/-framed$/,""):j.ui,id:j.id+"-ghost",renderTo:Ext.getBody(),resizable:false,draggable:false,closable:false,focusable:false,floating:true,shadow:false,frame:i,shim:j.shim,alwaysFramed:j.alwaysFramed,overlapHeader:j.overlapHeader,headerPosition:j.getHeaderPosition(),titleRotation:j.getTitleRotation(),baseCls:j.baseCls,getRefOwner:function(){return j.getRefOwner()},cls:j.baseCls+"-ghost "+(k||"")}},createReExpander:function(n,p){var q=this,l=n==="left",r=n==="right",m=l||r,s=q.ownerCt,t=Ext.apply({hideMode:"offsets",title:q.getTitle(),titleAlign:q.getTitleAlign(),vertical:m,textCls:q.headerTextCls,icon:q.getIcon(),iconCls:q.getIconCls(),iconAlign:q.getIconAlign(),glyph:q.getGlyph(),baseCls:q.self.prototype.baseCls+"-header",ui:q.ui,frame:q.frame&&q.frameHeader,ignoreParentFrame:q.frame||q.overlapHeader,ignoreBorderManagement:q.frame||q.ignoreHeaderBorderManagement,indicateDrag:q.draggable,collapseImmune:true,ariaRole:q.ariaRole,preventRefocus:true,ownerCt:(s&&q.collapseMode==="placeholder")?s:q,ownerLayout:q.componentLayout,forceOrientation:true,margin:q.margin},p);if(q.collapseMode==="mini"){if(m){t.width=1}else{t.height=1}}if(!q.hideCollapseTool){if(l||(r&&q.isPlaceHolderCollapse())){t.titlePosition=1}t.tools=[{xtype:"tool",type:"expand-"+q.getOppositeDirection(n),isDefaultExpandTool:true,uiCls:["top"],handler:q.toggleCollapse,scope:q,tooltip:q.expandToolText}]}t=new Ext.panel.Header(t);t.addClsWithUI(q.getHeaderCollapsedClasses(t));t.expandTool=t.down("tool[isDefaultExpandTool=true]");return t},doClose:function(){this.fireEvent("close",this);this[this.closeAction]()},doCollapseExpand:function(m,l){var j=this,k=j.animCollapse,i=j.ownerLayout;j.animCollapse=l;j.isCollapsingOrExpanding=m;if(l){j.addCls("x-animating-size")}if(i&&!l){i.onContentChange(j)}else{j.updateLayout({isRoot:true})}j.animCollapse=k;return j},endDrag:function(){if(this.floatingDescendants){this.floatingDescendants.show()}},expand:function(k){var i=this,j=i.ownerLayout,h=i.rendered;if(i.isCollapsingOrExpanding){return i}if(!arguments.length){k=i.animCollapse}if(!i.collapsed&&!i.floatedFromCollapse){return i}if(i.fireEvent("beforeexpand",i,k)===false){return i}if(j&&j.onBeforeComponentExpand){if(j.onBeforeComponentExpand(i)===false){return i}}delete i.getInherited().collapsed;if(h&&i.isPlaceHolderCollapse()){return i.placeholderExpand(k)}i.restoreHiddenDocked();if(h){i.beginExpand()}i.collapsed=false;if(i.rendered){i.doCollapseExpand(2,k)}return i},findReExpander:function(i){var m=this,c=Ext.Component,n=m.dockedItems.items,r=n.length,q,p;if(m.collapseMode==="mini"){return}switch(i){case c.DIRECTION_TOP:case c.DIRECTION_BOTTOM:for(p=0;p<r;p++){q=n[p];if(!q.hidden){if(q.isHeader&&(!q.dock||q.dock==="top"||q.dock==="bottom")){return q}}}break;case c.DIRECTION_LEFT:case c.DIRECTION_RIGHT:for(p=0;p<r;p++){q=n[p];if(!q.hidden){if(q.isHeader&&(q.dock==="left"||q.dock==="right")){return q}}}break;default:throw ("Panel#findReExpander must be passed a valid collapseDirection")}},floatCollapsedPanel:function(){var p=this,n=p.placeholder,v=n.getSize(),q=Ext.panel.Panel.floatCls,s=p.collapsed,m=p.ownerCt||p,u,t,r;if(p.isSliding){return}if(p.el.hasCls(q)){p.slideOutFloatedPanel();return}p.isSliding=true;n.el.hide();n.hidden=true;p.el.show();p.setHiddenState(false);p.collapsed=false;m.updateLayout();n.el.show();n.hidden=false;p.el.hide();p.setHiddenState(true);p.collapsed=s;m.updateLayout();r=p.getBox(false,true);p.slideOutTask=p.slideOutTask||new Ext.util.DelayedTask(p.slideOutFloatedPanel,p);if(Ext.supports.Touch){Ext.on("mousedown",t=function(c){if(!c.within(p.el)){Ext.un("mousedown",t);p.slideOutFloatedPanel()}})}if(!p.placeholderListener){p.placeholderListener=n.on({resize:p.onPlaceholderResize,scope:p,destroyable:true})}n.el.on("mouseleave",p.onMouseLeaveFloated,p);p.el.on("mouseleave",p.onMouseLeaveFloated,p);n.el.on("mouseenter",p.onMouseEnterFloated,p);p.el.on("mouseenter",p.onMouseEnterFloated,p);p.el.addCls(q);p.floated=s;if(p.collapseTool){p.collapseTool.el.hide()}switch(p.collapsed){case"top":p.width=v.width;p.setLocalXY(r.x,r.y+v.height);break;case"right":p.height=v.height;p.setLocalXY(r.x-v.width,r.y);break;case"bottom":p.width=v.width;p.setLocalXY(r.x,r.y-v.height);break;case"left":p.height=v.height;p.setLocalXY(r.x+v.width,r.y);break}u=p.convertCollapseDir(p.collapsed);p.floatedFromCollapse=p.collapsed;p.collapsed=false;p.setHiddenState(false);p.el.slideIn(u,{preserveScroll:true,duration:Ext.Number.from(p.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){p.isSliding=false;p.fireEvent("float",p)}}})},onPlaceholderResize:function(k,m,p){var n=this,l=n.getBox(false,true),j=k.getBox(false,true);switch(n.floated){case"top":n.width=m;n.setLocalY(j.y+j.height);break;case"right":n.height=p;n.setLocalX(j.x-l.width);break;case"bottom":n.width=m;n.setLocalY(j.y-l.height);break;case"left":n.height=p;n.setLocalX(j.x+j.width);break}n.updateLayout({isRoot:true})},getAnimationProps:function(){var h=this,g=h.animCollapse,i;i=Ext.container.Container.prototype.getAnimationProps.call(this);if(typeof g==="number"){i.duration=g}return i},getCollapsed:function(){var d=this;if(d.collapsed===true){return d.collapseDirection}return d.collapsed},getCollapsedDockedItems:function(){var d=this;return d.header===false||d.collapseMode==="placeholder"?d.emptyArray:[d.getReExpander()]},getComponent:function(g){var e=Ext.container.Container.prototype.getComponent.apply(this,arguments);if(e===undefined&&!Ext.isNumber(g)){e=this.getDockedComponent(g)}return e},getHeader:function(){return this.header},getHeaderCollapsedClasses:function(h){var j=this,i=j.collapsedCls,k;k=[i,i+"-"+h.getDockName()];if(j.border&&(!j.frame||(j.frame&&Ext.supports.CSS3BorderRadius))){k.push(i+"-border-"+h.getDockName())}return k},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.util.KeyMap(Ext.apply({target:this.el},this.keys)))},getOppositeDirection:function(d){var c=Ext.Component;switch(d){case c.DIRECTION_TOP:return c.DIRECTION_BOTTOM;case c.DIRECTION_RIGHT:return c.DIRECTION_LEFT;case c.DIRECTION_BOTTOM:return c.DIRECTION_TOP;case c.DIRECTION_LEFT:return c.DIRECTION_RIGHT}},getPlaceholder:function(m){var n=this,k=m||n.collapseDirection,p=null,l=n.placeholder,q=n.floatable,r=n.titleCollapse;if(!l){if(q||(n.collapsible&&r)){p={click:{fn:(!r&&q)?n.floatCollapsedPanel:n.toggleCollapse,element:"el",scope:n}}}n.placeholder=l=Ext.widget(n.createReExpander(k,{id:n.id+"-placeholder",listeners:p}))}if(!l.placeholderFor){if(!l.isComponent){n.placeholder=l=n.lookupComponent(l)}Ext.applyIf(l,{margin:n.margin,placeholderFor:n,synthetic:true});l.addCls(["x-region-collapsed-placeholder","x-region-collapsed-"+k+"-placeholder",n.collapsedCls])}return l},getProtoBody:function(){var e=this,g=e.protoBody;if(!g){e.protoBody=g=new Ext.util.ProtoElement({cls:e.bodyCls,style:e.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:true})}return g},getReExpander:function(i){var j=this,h=i||j.collapseDirection,k=j.reExpander||j.findReExpander(h);j.expandDirection=j.getOppositeDirection(h);if(!k){j.reExpander=k=j.createReExpander(h,{dock:h,cls:"x-docked "+j.baseCls+"-"+j.ui+"-collapsed",isCollapsedExpander:true});j.dockedItems.insert(0,k)}return k},getRefItems:function(g){var e=Ext.container.Container.prototype.getRefItems.apply(this,arguments);return this.getDockingRefItems(g,e)},getState:function(){var m=this,k=Ext.container.Container.prototype.getState.call(this)||{},i=m.collapsed,l=m.floated,j;if(l){m.collapsed=l}k=m.addPropertyToState(k,"collapsed");if(l){m.collapsed=i}if(m.getCollapsed()){j=m.getMemento("collapse").data;k=m.addPropertyToState(k,"collapsed",j);if(m.collapsedVertical()){delete k.height;if(j){k=m.addPropertyToState(k,"height",j.height)}}else{delete k.width;if(j){k=m.addPropertyToState(k,"width",j.width)}}}return k},applyState:function(i){var j=this,k={},h;if(i){h=i.collapsed;if(h){k=j.getMemento("collapse");Ext.Object.merge(k.data,h);i.collapsed=true}Ext.container.Container.prototype.applyState.apply(this,arguments)}},ghost:function(i){var t=this,z=t.ghostPanel,w=t.getBox(),x=t.header,r,v,s,q,u,y;if(!z){t.ghostPanel=z=Ext.widget(t.createGhost(i));z.el.dom.removeAttribute("tabIndex")}else{z.el.show()}z.setHiddenState(false);z.floatParent=t.floatParent;z.toFront();if(x&&!t.preventHeader){r=z.header;r.suspendLayouts();v=r.query("tool");for(y=v.length;y--;){r.remove(v[y])}r.setTitlePosition(0);z.addTool(t.ghostTools());z.setTitle(t.getTitle());r.setTitlePosition(x.titlePosition);q=t.getIconCls();if(q){z.setIconCls(q)}else{s=t.getIcon();if(s){z.setIcon(s)}else{u=t.getGlyph();if(u){z.setGlyph(u)}}}r.addCls("x-header-ghost");r.resumeLayouts()}z.setPagePosition(w.x,w.y);z.setSize(w.width,w.height);t.el.hide();return z},ghostTools:function(){var k=[],j=this.header,l=j?j.query("tool[hidden=false]"):[],m,p,n;if(l.length){m=0;p=l.length;for(;m<p;m++){n=l[m];k.push({type:n.type,tooltip:n.tooltip})}}else{k=[{type:"placeholder"}]}return k},initBodyBorder:function(){var d=this;if(d.frame&&d.bodyBorder){if(!Ext.isNumber(d.bodyBorder)){d.bodyBorder=1}d.getProtoBody().setStyle("border-width",this.unitizeBox(d.bodyBorder))}},initBodyStyles:function(){var e=this,g=e.getProtoBody();if(e.bodyPadding!==undefined){if(e.layout.managePadding){g.setStyle("padding",0)}else{g.setStyle("padding",this.unitizeBox((e.bodyPadding===true)?5:e.bodyPadding))}}e.initBodyBorder()},initBorderProps:function(){var d=this;if(d.frame&&d.border&&d.bodyBorder===undefined){d.bodyBorder=false}if(d.frame&&d.border&&(d.bodyBorder===false||d.bodyBorder===0)){d.manageBodyBorders=true}},initComponent:function(){var d=this;if(d.collapsible){d.addStateEvents(["expand","collapse"])}if(d.unstyled){d.setUI("plain")}if(d.frame){d.setUI(d.ui+"-framed")}d.bridgeToolbars();d.initBorderProps();Ext.container.Container.prototype.initComponent.call(this);d.collapseDirection=d.collapseDirection||d.getHeaderPosition()||Ext.Component.DIRECTION_TOP;d.hiddenOnCollapse=new Ext.dom.CompositeElement()},initItems:function(){Ext.container.Container.prototype.initItems.call(this);this.initDockingItems()},initRenderData:function(){var g=this,e=Ext.container.Container.prototype.initRenderData.call(this);g.initBodyStyles();g.protoBody.writeTo(e);delete g.protoBody;if(g.headingText){e.headingText=g.headingText;g.addChildEl("headingEl")}if(g.bodyAriaRole){e.bodyAriaAttributes={role:g.bodyAriaRole};if(!g.ariaStaticRoles[g.bodyAriaRole]&&g.bodyAriaRenderAttributes){Ext.apply(e.bodyAriaAttributes,g.bodyAriaRenderAttributes)}}return e},calculateConstrainedPosition:function(n,s,p,t){var m=this,l=m.header,q,r;if(m.constrainHeader){q=l.lastBox;if(t){if(!l.vertical){t=[t[0],q?q.height:t[1]]}else{t=[q?q.width:t[0],t[1]]}}else{if(q){t=[q.width,q.height]}}r=m.floatParent;n=n||m.constrainTo||(r?r.getTargetEl():null)||m.container||m.el.parent()}return Ext.container.Container.prototype.calculateConstrainedPosition.call(this,n,s,p,t)},initTools:function(){var k=this,i=k.tools,l,j,m;k.tools=[];for(l=i&&i.length;l;){--l;k.tools[l]=m=i[l];m.toolOwner=k}if(k.collapsible&&!(k.hideCollapseTool||k.header===false||k.preventHeader)){k.updateCollapseTool();if(k.collapseFirst){k.tools.unshift(k.collapseTool)}}k.addTools();if(k.pinnable){k.initPinnable()}if(k.closable){k.addClsWithUI("closable");j={xtype:"tool",type:"close",scope:k,handler:k.close,tooltip:k.closeToolText};if(k.isAccordionPanel){j.focusable=false;j.ariaRole="presentation"}k.addTool(j)}if(k.collapseTool&&!k.collapseFirst){k.addTool(k.collapseTool)}},isLayoutRoot:function(){if(this.floatedFromCollapse){return true}return Ext.container.Container.prototype.isLayoutRoot.call(this)},isPlaceHolderCollapse:function(){return this.collapseMode==="placeholder"},isVisible:function(g){var e=this;if(e.collapsed&&e.placeholder){return e.placeholder.isVisible(g)}return Ext.container.Container.prototype.isVisible.apply(this,arguments)},onBoxReady:function(){var g=this,e;Ext.container.Container.prototype.onBoxReady.apply(this,arguments);if(g.collapsed){g.setHiddenDocked()}if(g.isAccordionPanel){g.ariaEl=g.header.titleCmp.el;g.ariaEl.dom.setAttribute("aria-expanded",!g.collapsed);g.body.dom.setAttribute("aria-labelledby",g.header.titleCmp.id);g.body.dom.setAttribute("aria-hidden",!!g.collapsed);g.accordionKeyNav=new Ext.util.KeyNav({target:g.header.titleCmp.el,scope:g,left:g.navigateAccordion,right:g.navigateAccordion,left:g.navigateAccordion,up:g.navigateAccordion,down:g.navigateAccordion,home:g.navigateAccordion,end:g.navigateAccordion,space:g.toggleCollapse,enter:g.toggleCollapse,del:{alt:true,fn:g.maybeClose}})}if(g.defaultButton){e=g.defaultButtonTarget?g[g.defaultButtonTarget]:g.body;g.defaultButtonKeyNav=new Ext.util.KeyNav({target:e,scope:g,defaultEventAction:"stopEvent",enter:g.fireDefaultButton})}},onHide:function(i,l,k){var j=this,m=j.dd;if(j.floatedFromCollapse){j.slideOutFloatedPanel(true)}if(j.draggable&&m){m.endDrag()}if(j.collapsed&&j.placeholder){if(j.splitter){Ext.suspendLayouts();j.splitter.hide();Ext.resumeLayouts()}j.placeholder.hide()}else{Ext.container.Container.prototype.onHide.call(this,i,l,k)}},onMouseEnterFloated:function(d){this.slideOutTask.cancel()},onMouseLeaveFloated:function(d){this.slideOutTask.delay(500)},onRemoved:function(e){var g=this;if(g.placeholder&&!e){g.ownerCt.remove(g.placeholder,false)}Ext.container.Container.prototype.onRemoved.apply(this,arguments)},onShow:function(){var d=this;if(d.collapsed&&d.isPlaceHolderCollapse()){if(d.splitter){Ext.suspendLayouts();d.splitter.show();Ext.resumeLayouts()}d.setHiddenState(true);d.placeholderCollapse()}else{Ext.container.Container.prototype.onShow.apply(this,arguments)}},placeholderCollapse:function(q,v){var r=this,u=r.ownerCt,m=q||r.collapseDirection,s=Ext.panel.Panel.floatCls,t=r.collapseTool,p=r.getPlaceholder(m),n;r.isCollapsingOrExpanding=1;r.setHiddenState(true);r.collapsed=m;if(p.rendered){if(p.el.dom.parentNode!==r.el.dom.parentNode){r.el.dom.parentNode.insertBefore(p.el.dom,r.el.dom)}p.hidden=false;p.setHiddenState(false);p.el.show();u.updateLayout()}else{u.insert(u.items.indexOf(r),p)}if(r.rendered){if(t&&Ext.ComponentManager.getActiveComponent()===t){r.focusPlaceholderExpandTool=true}r.el.setVisibilityMode(r.placeholderCollapseHideMode);if(v){r.el.addCls(s);p.el.hide();n=r.convertCollapseDir(m);r.el.slideOut(n,{preserveScroll:true,duration:Ext.Number.from(v,Ext.fx.Anim.prototype.duration),listeners:{scope:r,afteranimate:function(){var c=this;c.el.removeCls(s);c.placeholder.el.show().setStyle("display","none").slideIn(n,{easing:"linear",duration:100,listeners:{afteranimate:c.doPlaceholderCollapse,scope:c}})}}})}else{r.el.hide();r.doPlaceholderCollapse()}}else{r.isCollapsingOrExpanding=0;if(!r.preventCollapseFire){r.fireEvent("collapse",r)}}return r},doPlaceholderCollapse:function(){var i=this,h=i.placeholder,g=h.expandTool;if(i.focusPlaceholderExpandTool&&g){g.focus()}else{h.focus()}i.focusPlaceholderExpandTool=false;h.setHiddenState(false);h.ariaEl.dom.setAttribute("aria-hidden",false);h.ariaEl.dom.setAttribute("aria-expanded",false);i.ariaEl.dom.setAttribute("aria-hidden",true);i.ariaEl.dom.setAttribute("aria-expanded",false);i.isCollapsingOrExpanding=0;i.fireEvent("collapse",i)},placeholderExpand:function(r){var p=this,m=p.collapsed,l=p.placeholder.expandTool,q=Ext.panel.Panel.floatCls,s=p.ownerLayout?p.ownerLayout.centerRegion:null,n,t;if(Ext.Component.layoutSuspendCount){r=false}if(p.floatedFromCollapse){t=p.getPosition(true);p.slideOutFloatedPanelBegin();p.slideOutFloatedPanelEnd();p.floated=false}if(l&&Ext.ComponentManager.getActiveComponent()===l){p.focusHeaderCollapseTool=true;l._ariaRole=l.ariaEl.dom.getAttribute("role");l._ariaLabel=l.ariaEl.dom.getAttribute("aria-label");l.ariaEl.dom.setAttribute("role","presentation");l.ariaEl.dom.removeAttribute("aria-label")}if(r){Ext.suspendLayouts();p.placeholder.hide();p.el.show();p.collapsed=false;p.setHiddenState(false);if(s&&!t){s.hidden=true}Ext.resumeLayouts(true);s.hidden=false;p.el.addCls(q);p.isCollapsingOrExpanding=2;if(t){n=p.getXY();p.setLocalXY(t[0],t[1]);p.setXY([n[0],n[1]],{duration:Ext.Number.from(r,Ext.fx.Anim.prototype.duration),listeners:{scope:p,afteranimate:function(){var c=this;c.el.removeCls(q);c.isCollapsingOrExpanding=0;c.fireEvent("expand",c)}}})}else{p.el.hide();p.placeholder.el.show();p.placeholder.hidden=false;p.setHiddenState(false);p.el.slideIn(p.convertCollapseDir(m),{preserveScroll:true,duration:Ext.Number.from(r,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:p.doPlaceholderExpand,scope:p}})}}else{p.floated=p.collapsed=false;p.doPlaceholderExpand(true)}return p},doPlaceholderExpand:function(l){var k=this,j=k.placeholder,m=k.collapseTool,i=j.expandTool;if(l){Ext.suspendLayouts();k.show()}k.el.removeCls(Ext.panel.Panel.floatCls);j.hide();if(l){Ext.resumeLayouts(true)}else{k.updateLayout()}if(k.focusHeaderCollapseTool&&m){m.focus()}k.focusHeaderCollapseTool=false;j.ariaEl.dom.setAttribute("aria-expanded",true);k.ariaEl.dom.setAttribute("aria-expanded",true);if(i&&i._ariaRole){i.ariaEl.dom.setAttribute("role",i._ariaRole);i.ariaEl.dom.setAttribute("aria-label",i._ariaLabel);i._ariaRole=i._ariaLabel=null}k.isCollapsingOrExpanding=0;k.fireEvent("expand",k)},remove:function(h,i){var g=this.dockedItems;if(g&&g.contains(h)){this.removeDocked(h,i)}else{Ext.container.Container.prototype.remove.call(this,h,i)}return h},removeBodyCls:function(h){var g=this,i=g.rendered?g.body:g.getProtoBody();i.removeCls(h);return g},removeUIClsFromElement:function(h){var g=this,i=Ext.container.Container.prototype.removeUIClsFromElement.apply(this,arguments);g.removeBodyCls(["x-"+h,g.baseCls+"-body-"+h,g.baseCls+"-body-"+g.ui+"-"+h]);return i},restoreDimension:function(){var d=this.collapseDirection;return(d==="top"||d==="bottom")?"height":"width"},restoreHiddenDocked:function(){this.setDockedItemsVisibility(this.hiddenOnCollapse,true)},setBodyStyle:function(j,h){var i=this,k=i.rendered?i.body:i.getProtoBody();if(Ext.isFunction(j)){j=j()}if(arguments.length===1){if(Ext.isString(j)){j=Ext.Element.parseStyles(j)}k.setStyle(j)}else{k.setStyle(j,h)}return i},setBorder:function(k,i){if(i){return}var j=this,h=j.header;if(!k){k=0}else{if(k===true){k="1px"}else{k=j.unitizeBox(k)}}if(h){if(h.isHeader){h.setBorder(k)}else{h.border=k}}if(j.rendered&&j.bodyBorder!==false){j.body.setStyle("border-width",k)}j.updateLayout();j.border=k},setCollapsed:function(d){this[d?"collapse":"expand"]()},setDockedItemsVisibility:function(n,r){var i=this,q=i.getDockedItems(),t=q.length,p=0,m,s;if(i.header!==false){s=i.getReExpander()}for(;p<t;p++){m=q[p];if(m&&m!==s&&m.el){n.add(m.el)}}n.setStyle("visibility",r?"":"hidden");n.clear()},setGlyph:function(k){var l=this,m=l.glyph,i=l.header,j=l.placeholder;if(k!==m){l.glyph=k;if(i){if(i.isHeader){i.setGlyph(k)}else{i.glyph=k}}else{if(l.rendered||l.afterHeaderInit){l.updateHeader()}}if(j&&j.setGlyph){j.setGlyph(k)}l.fireEvent("glyphchange",l,k,m)}},setIcon:function(m){var l=this,k=l.icon,i=l.header,j=l.placeholder;if(m!==k){l.icon=m;if(i){if(i.isHeader){i.setIcon(m)}else{i.icon=m}}else{if(l.rendered||l.afterHeaderInit){l.updateHeader()}}if(j&&j.setIcon){j.setIcon(m)}l.fireEvent("iconchange",l,m,k)}},setIconCls:function(l){var k=this,m=k.iconCls,i=k.header,j=k.placeholder;if(l!==m){k.iconCls=l;if(i){if(i.isHeader){i.setIconCls(l)}else{i.iconCls=l}}else{if(k.rendered||k.afterHeaderInit){k.updateHeader()}}if(j&&j.setIconCls){j.setIconCls(l)}k.fireEvent("iconclschange",k,l,m)}},setTitle:function(k){var m=this,n=m.title,j=m.header,p=m.reExpander,l=m.placeholder;if(k!==n){m.title=k;if(j){if(j.isHeader){j.setTitle(k)}}else{if(m.rendered||m.afterHeaderInit){m.updateHeader()}}if(m.headingEl){m.headingEl.setHtml(k)}if(p){p.setTitle(k)}if(l&&l.setTitle){l.setTitle(k)}m.fireEvent("titlechange",m,k,n)}},setHiddenDocked:function(){var e=this,g=new Ext.dom.CompositeElement();e.hiddenOnCollapse.add(e.body);g.add(e.body);e.setDockedItemsVisibility(g,false)},setUI:function(e){var g=this;Ext.container.Container.prototype.setUI.apply(this,arguments);if(g.header&&g.header.rendered){g.header.setUI(e)}},toggleCollapse:function(){return(this.collapsed||this.floatedFromCollapse)?this.expand():this.collapse()},updateCollapseTool:function(){var h=this,i=h.collapseTool,g;if(!i&&h.collapsible){h.collapseDirection=h.collapseDirection||h.getHeaderPosition()||"top";g={xtype:"tool",handler:h.toggleCollapse,scope:h};if(h.isAccordionPanel){g.focusable=false;g.ariaRole="presentation"}h.collapseTool=h.expandTool=i=Ext.widget(g)}if(i){if(h.collapsed&&!h.isPlaceHolderCollapse()){i.setType("expand-"+h.getOppositeDirection(h.collapseDirection));i.setTooltip(h.expandToolText)}else{i.setType("collapse-"+h.collapseDirection);i.setTooltip(h.collapseToolText)}}},navigateAccordion:function(m){var p=this,s=p.accordionWrapOver,t="[isAccordionPanel]",e=t+":first",n=t+":last",r,q;r=m.getKey();switch(r){case m.UP:case m.LEFT:q=p.prev(t);if(!q&&s){q=p.ownerCt.child(n)}break;case m.DOWN:case m.RIGHT:q=p.next(t);if(!q&&s){q=p.ownerCt.child(e)}break;case m.HOME:q=p.ownerCt.child(e);break;case m.END:q=p.ownerCt.child(n);break;case m.DELETE:q=p.prev(t)||p.next(t);if(!q){m.doNotClose=true}break}if(q&&q!==p){q.header.titleCmp.focus()}},fireDefaultButton:function(i){var j=this,e,k;e=j.lookupReferenceHolder(false)||j;k=e.lookupReference(j.defaultButton);if(k&&k.click){k.click(i);i.stopEvent();return false}},maybeClose:function(e){var g=this;if(g.closable){g.navigateAccordion(e);if(!e.doNotClose){g.close()}}},onFocusEnter:function(e){var h=this,i=h.ariaEl.dom;Ext.container.Container.prototype.onFocusEnter.call(this,e);if(h.isAccordionPanel&&i){i.setAttribute("aria-selected",true)}},onFocusLeave:function(e){var h=this,i=h.ariaEl.dom;Ext.container.Container.prototype.onFocusLeave.call(this,e);if(h.isAccordionPanel&&i){i.removeAttribute("aria-selected")}},updateHeaderPosition:function(g){var e=this.header;if(e&&e.isHeader){e.setDock(g)}},updateIconAlign:function(e){var g=this.header;if(g&&g.isHeader){g.setIconAlign(e)}},updateTitleAlign:function(e){var g=this.header;if(g&&g.isHeader){g.setTitleAlign(e)}},updateTitleRotation:function(g){var e=this.header;if(e&&e.isHeader){e.setTitleRotation(g)}},unghost:function(k,m,l){var i=this,j=i.ghostPanel;if(!j){return}if(k!==false){i.el.show();if(m!==false){i.setPagePosition(j.getXY());if(i.hideMode==="offsets"){delete i.el.hideModeStyles}}if(l){i.focus(false,10)}}j.el.hide();j.setHiddenState(true)},updateHeader:function(F){var x=this,B=x.header,u=x.getTitle(),z=x.tools,v=x.getIcon(),w=x.getGlyph(),s=x.getIconCls(),C=w||v||s,y=x.ariaEl.dom,A=x.getHeaderPosition(),D=A==="left"||A==="right",t,E;if(Ext.isObject(B)||(B!==false&&(F||(u||C)||(z&&z.length)||(x.collapsible&&!x.titleCollapse)))){if(B&&B.isHeader){B.show()}else{B=x.header=Ext.widget(Ext.merge({xtype:"header",title:u,titleAlign:x.getTitleAlign(),vertical:D,dock:x.getHeaderPosition()||"top",titleRotation:x.getTitleRotation(),textCls:x.headerTextCls,iconCls:s,iconAlign:x.getIconAlign(),icon:v,glyph:w,baseCls:x.baseCls+"-header",tools:z,ui:x.ui,id:x.id+"_header",overCls:x.headerOverCls,indicateDrag:x.draggable,frame:(x.frame||x.alwaysFramed)&&x.frameHeader,ignoreParentFrame:x.frame||x.overlapHeader,ignoreBorderManagement:x.frame||x.ignoreHeaderBorderManagement,isAccordionHeader:x.isAccordionPanel,ownerCt:x,synthetic:true,listeners:x.collapsible&&x.titleCollapse?{click:x.toggleCollapse,scope:x}:null},x.header));x.addDocked(B,0)}if(x.isAccordionPanel){if(y){y.setAttribute("aria-labelledby",B.id+"-title");y.removeAttribute("aria-label")}else{E=x.ariaRenderAttributes||(x.ariaRenderAttributes={});E["aria-labelledby"]=B.id+"-title";delete E["aria-label"]}}else{if(u){if(x.ariaRole!=="tabpanel"){if(y){y.setAttribute("aria-labelledby",B.id+"-title-textEl");y.removeAttribute("aria-label")}else{E=x.ariaRenderAttributes||(x.ariaRenderAttributes={});E["aria-labelledby"]=B.id+"-title-textEl";delete E["aria-label"]}}}else{if(x.ariaRenderAttributes){delete x.ariaRenderAttributes["aria-label"]}}}}else{if(B){B.hide()}u=Ext.util.Format.stripTags(u);if(y){if(!y.hasAttribute("aria-labelledby")){if(u){y.setAttribute("aria-label",u)}else{y.removeAttribute("aria-label")}}}else{E=x.ariaRenderAttributes||(x.ariaRenderAttributes={});if(!E["aria-labelledby"]){if(u){E["aria-label"]=u}else{delete E["aria-label"]}}}}if(x.isViewportBorderChild&&!x.hasOwnProperty("ariaRole")){x.ariaRole="region"}if(u&&x.ariaRole==="region"){t=x.headingEl;if(t){t.setHtml(u)}else{if(x.rendered){x.headingEl=Ext.dom.Helper.insertFirst(x.el,{tag:"div",id:x.id+"-headingEl",role:"heading","class":"x-hidden-clip",style:"height:0",html:u},true);y.removeAttribute("aria-label");y.setAttribute("aria-labelledby",x.id+"-headingEl")}else{x.headingText=x.title;E=x.ariaRenderAttributes||(x.ariaRenderAttributes={});E["aria-labelledby"]=x.id+"-headingEl";delete E["aria-label"]}}}else{if(x.headingEl){x.headingEl.destroy();x.headingEl=null}}},statics:{floatCls:"x-border-region-slide-in"},privates:{addUIToElement:function(){var d=this;Ext.container.Container.prototype.addUIToElement.apply(this,arguments);d.addBodyCls(d.baseCls+"-body-"+d.ui)},applyTargetCls:function(d){this.getProtoBody().addCls(d)},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){var d=this;return d.body||d.protoBody||d.frameBody||d.el},initDraggable:function(){var d=this;if(d.simpleDrag){d.initSimpleDraggable()}else{d.dd=new Ext.panel.DD(d,Ext.isBoolean(d.draggable)?null:d.draggable)}},initResizable:function(){Ext.container.Container.prototype.initResizable.apply(this,arguments);if(this.collapsed){this.resizer.disable()}},initSimpleDraggable:function(){var g=this,h,i;if(!g.header){g.updateHeader(true)}if(g.header){h=Ext.applyIf({el:g.el,delegate:"#"+g.header.id},g.draggable);if(g.constrain||g.constrainHeader){h.constrain=g.constrain;h.constrainDelegate=g.constrainHeader;h.constrainTo=g.constrainTo||g.container}i=g.dd=new Ext.util.ComponentDragger(g,h);g.relayEvents(i,["dragstart","drag","dragend"]);if(g.maximized){i.disable()}}},removeUIFromElement:function(){var d=this;Ext.container.Container.prototype.removeUIFromElement.apply(this,arguments);d.removeBodyCls(d.baseCls+"-body-"+d.ui)},setupRenderTpl:function(d){Ext.container.Container.prototype.setupRenderTpl.apply(this,arguments);this.setupDockingRenderTpl(d)},slideOutFloatedPanel:function(m){var k=this,i=k.el,j,l=function(){k.slideOutFloatedPanelEnd();k.el.removeCls("x-border-region-slide-in")};if(k.isSliding||k.destroyed){return}k.isSliding=true;k.floated=false;k.slideOutFloatedPanelBegin();if(m){i.hide();return l()}if(typeof k.collapsed==="string"){j=k.convertCollapseDir(k.collapsed)}i.slideOut(j,{preserveScroll:true,duration:Ext.Number.from(k.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:l}})},slideOutFloatedPanelBegin:function(){var h=this,g=h.placeholder.el,i=h.el;h.collapsed=h.floatedFromCollapse;h.setHiddenState(true);h.floatedFromCollapse=null;g.un("mouseleave",h.onMouseLeaveFloated,h);i.un("mouseleave",h.onMouseLeaveFloated,h);g.un("mouseenter",h.onMouseEnterFloated,h);i.un("mouseenter",h.onMouseEnterFloated,h)},slideOutFloatedPanelEnd:function(g){var e=this;if(e.collapseTool){e.collapseTool.el.show()}e.slideOutTask.cancel();e.isSliding=false;if(!g){e.fireEvent("unfloat",e)}}}},0,["panel"],["component","box","container","panel"],{component:true,box:true,container:true,panel:true},["widget.panel"],[["docking",Ext.container.DockingContainer]],[Ext.panel,"Panel",Ext,"Panel"],function(){var d=this.prototype;d.animCollapse=Ext.enableFx;d.placeholderCollapseHideMode=Ext.Element.VISIBILITY}));Ext.define("Ext.theme.neptune.panel.Panel",{override:"Ext.panel.Panel",border:false,bodyBorder:false,initBorderProps:Ext.emptyFn,initBodyBorder:function(){if(this.bodyBorder!==true){arguments.callee.$previous.call(this)}}});(Ext.cmd.derive("Ext.layout.container.Table",Ext.layout.container.Container,{alternateClassName:"Ext.layout.TableLayout",type:"table",createsInnerCt:true,targetCls:"x-table-layout-ct",tableCls:"x-table-layout",cellCls:"x-table-layout-cell",childEls:["table","tbody"],tableAttrs:null,getItemSizePolicy:function(d){return this.autoSizePolicy},initInheritedState:function(e,g){g.inShrinkWrapTable=true},getLayoutItems:function(){var i=this,n=[],m=Ext.layout.container.Container.prototype.getLayoutItems.call(this),p=m.length,k,l;for(l=0;l<p;l++){k=m[l];if(!k.hidden){n.push(k)}}return n},getHiddenItems:function(){var l=[],k=this.owner.items.items,m=k.length,j,i;for(j=0;j<m;++j){i=k[j];if(i.rendered&&i.hidden){l.push(i)}}return l},renderChildren:function(){var x=this,y=x.getLayoutItems(),A=x.tbody.dom,F=A.rows,z=y.length,C=x.getHiddenItems(),i,u,D,E,t,v,w,B;i=x.calculateCells(y);for(B=0;B<z;B++){u=i[B];D=u.rowIdx;E=u.cellIdx;t=y[B];v=F[D];if(!v){v=A.insertRow(D);if(x.trAttrs){v.set(x.trAttrs)}}w=Ext.get(v.cells[E]||v.insertCell(E));if(!t.rendered){x.renderItem(t,w,0)}else{if(!x.isValidParent(t,w,D,E,A)){x.moveItem(t,w,0)}}if(x.tdAttrs){w.set(x.tdAttrs)}if(t.tdAttrs){w.set(t.tdAttrs)}w.set({colSpan:t.colspan||1,rowSpan:t.rowspan||1,cls:x.cellCls+" "+(t.cellCls||"")});if(!i[B+1]||i[B+1].rowIdx!==D){E++;while(v.cells[E]){v.deleteCell(E)}}}D++;while(A.rows[D]){A.deleteRow(D)}for(B=0,z=C.length;B<z;++B){x.ensureInDocument(C[B].getEl())}},ensureInDocument:function(g){var e=g.dom.parentNode;while(e){if(e.tagName.toUpperCase()==="BODY"){return}e=e.parentNode}Ext.getDetachedBody().appendChild(g)},calculate:function(l){if(!l.hasDomProp("containerChildrenSizeDone")){this.done=false}else{var p=l.targetContext,q=l.widthModel.shrinkWrap,r=l.heightModel.shrinkWrap,k=r||q,n=k&&this.table.dom,m=k&&p.getPaddingInfo();if(q){l.setContentWidth(n.offsetWidth+m.width,true)}if(r){l.setContentHeight(n.offsetHeight+m.height,true)}}},calculateCells:function(s){var j=[],y=0,v=0,z=0,u=this.columns||Infinity,i=[],t=s.length,r,w,x;for(w=0;w<t;w++){r=s[w];while(v>=u||i[v]>0){if(v>=u){v=0;z=0;y++;for(x=0;x<u;x++){if(i[x]>0){i[x]--}}}else{v++}}j.push({rowIdx:y,cellIdx:z});for(x=r.colspan||1;x;--x){i[v]=r.rowspan||1;++v}++z}return j},getRenderTree:function(){var x=this,z=x.getLayoutItems(),i=[],F=Ext.apply({tag:"table",id:x.owner.id+"-table","data-ref":"table",role:"presentation",cls:x.tableCls,cellspacing:0,cellpadding:0,cn:{tag:"tbody",id:x.owner.id+"-tbody","data-ref":"tbody",role:"presentation",cn:i}},x.tableAttrs),C=x.tdAttrs,B,A=z.length,t,v,y,D,E,w,u;u=x.calculateCells(z);for(B=0;B<A;B++){t=z[B];v=u[B];D=v.rowIdx;E=v.cellIdx;y=i[D];if(!y){y=i[D]={tag:"tr",role:"presentation",cn:[]};if(x.trAttrs){Ext.apply(y,x.trAttrs)}}w=y.cn[E]={tag:"td",role:"presentation"};if(C){Ext.apply(w,C)}Ext.apply(w,{colSpan:t.colspan||1,rowSpan:t.rowspan||1,cls:x.cellCls+" "+(t.cellCls||"")});x.configureItem(t);w.cn=t.getRenderTree()}return F},isValidParent:function(i,h,j,k){if(arguments.length===3){return this.table.isAncestor(i.el)}return i.el.dom.parentNode===this.tbody.dom.rows[j].cells[k]}},0,0,0,0,["layout.table"],0,[Ext.layout.container,"Table",Ext.layout,"TableLayout"],0));(Ext.cmd.derive("Ext.container.Monitor",Ext.Base,{target:null,selector:"",scope:null,addHandler:null,removeHandler:null,invalidateHandler:null,disabled:0,constructor:function(d){Ext.apply(this,d)},bind:function(e){var g=this;g.target=e;e.on("beforedestroy",g.disable,g);g.onContainerAdd(e)},unbind:function(){var g=this,e=g.target;if(e){e.un("beforedestroy",g.disable,g)}g.items=null},disable:function(){++this.disabled},enable:function(){if(this.disabled>0){--this.disabled}},handleAdd:function(e,g){if(!this.disabled){if(g.is(this.selector)){this.onItemAdd(g.ownerCt,g)}if(g.isQueryable){this.onContainerAdd(g)}}},onItemAdd:function(k,l){var i=this,m=i.items,j=i.addHandler;if(!i.disabled){if(j){j.call(i.scope||l,l)}if(m){m.add(l)}}},onItemRemove:function(k,l){var i=this,m=i.items,j=i.removeHandler;if(!i.disabled){if(j){j.call(i.scope||l,l)}if(m){m.remove(l)}}},onContainerAdd:function(q,u){var i=this,n,p,t=i.handleAdd,v=i.handleRemove,s,r;if(q.isContainer){q.on("add",t,i);q.on("dockedadd",t,i);q.on("remove",v,i);q.on("dockedremove",v,i)}if(u!==true){n=q.query(i.selector);for(s=0,p=n.length;s<p;++s){r=n[s];i.onItemAdd(r.ownerCt,r)}}n=q.query(">container");for(s=0,p=n.length;s<p;++s){i.onContainerAdd(n[s],true)}},handleRemove:function(h,i){var g=this;if(!g.disabled){if(i.is(g.selector)){g.onItemRemove(h,i)}if(i.isQueryable){g.onContainerRemove(h,i)}}},onContainerRemove:function(m,p){var i=this,q,n,r,l;if(!p.destroyed&&!p.destroying&&p.isContainer){i.removeCtListeners(p);q=p.query(i.selector);for(n=0,r=q.length;n<r;++n){l=q[n];i.onItemRemove(l.ownerCt,l)}q=p.query("container");for(n=0,r=q.length;n<r;++n){i.removeCtListeners(q[n])}}else{i.invalidateItems(true)}},removeCtListeners:function(g){var e=this;g.un("add",e.handleAdd,e);g.un("dockedadd",e.handleAdd,e);g.un("remove",e.handleRemove,e);g.un("dockedremove",e.handleRemove,e)},getItems:function(){var e=this,g=e.items;if(!g){g=e.items=new Ext.util.MixedCollection();g.addAll(e.target.query(e.selector))}return g},invalidateItems:function(g){var h=this,i=h.invalidateHandler;if(g&&i){i.call(h.scope||h,h)}h.items=null}},1,0,0,0,0,0,[Ext.container,"Monitor"],0));(Ext.cmd.derive("Ext.plugin.Responsive",Ext.mixin.Responsive,{pluginId:"responsive",isPlugin:true,constructor:function(k){var i=this,j=k.cmp,c=Ext.apply({responsiveConfig:j.responsiveConfig,responsiveFormulas:j.responsiveFormulas},k);delete c.cmp;i.cmp=j;i.initConfig(c);if(i.transformed){j.setConfig(i.transformed);i.transformed=null}},init:Ext.emptyFn,privates:{transformInstanceConfig:function(g){var h=Ext.mixin.Responsive.prototype.transformInstanceConfig.call(this,g);if(h.ptype){h=Ext.apply({},h);delete h.ptype}this.transformed=h;var i=Ext.apply({},g);delete i.ptype;delete i.responsiveConfig;delete i.responsiveFormulas;return i},updateResponsiveState:function(){var d=this.getResponsiveState();this.cmp.setConfig(d)}}},1,0,0,0,["plugin.responsive"],0,[Ext.plugin,"Responsive"],0));(Ext.cmd.derive("Ext.plugin.Viewport",Ext.plugin.Responsive,{setCmp:function(d){this.cmp=d;if(d&&!d.isViewport){this.decorate(d);if(d.renderConfigs){d.flushRenderConfigs()}d.setupViewport()}},statics:{decorate:function(d){Ext.applyIf(d.prototype||d,{ariaRole:"application",viewportCls:"x-viewport"});Ext.override(d,{isViewport:true,preserveElOnDestroy:true,initComponent:function(){this.callParent();this.setupViewport()},getSizeModel:function(){var c=Ext.layout.SizeModel.configured;return c.pairsByHeightOrdinal[c.ordinal]},handleViewportResize:function(){var c=this,j=Ext.dom.Element,i=j.getViewportWidth(),k=j.getViewportHeight();if(i!==c.width||k!==c.height){c.setSize(i,k)}},setupViewport:function(){var c=this,h=document.body,i=Ext.scroll.DomScroller;if(i.document){i.document=i.document.destroy()}if(!h.id){h.id=c.id}h.setAttribute("data-componentid",c.id);if(!c.ariaStaticRoles[c.ariaRole]){h.setAttribute("role",c.ariaRole)}h=c.el=Ext.getBody();Ext.fly(document.documentElement).addCls(c.viewportCls);h.setHeight=h.setWidth=Ext.emptyFn;h.dom.scroll="no";c.allowDomMove=false;c.renderTo=h;if(Ext.supports.Touch){c.addMeta("apple-mobile-web-app-capable","yes")}Ext.getScrollbarSize();c.width=c.height=undefined;c.initialViewportHeight=Ext.Element.getViewportHeight();c.initialViewportWidth=Ext.Element.getViewportWidth()},afterLayout:function(c){if(Ext.supports.Touch){document.body.scrollTop=0}this.callParent([c])},onRender:function(){var c=this;c.callParent(arguments);c.width=c.initialViewportWidth;c.height=c.initialViewportHeight;c.initialViewportWidth=c.initialViewportHeight=null;if(Ext.supports.TouchEvents){c.mon(Ext.getDoc(),{touchmove:function(e){e.preventDefault()},translate:false,delegated:false})}},initInheritedState:function(i,j){var c=this,k=Ext.rootInheritedState;if(i!==k){c.initInheritedState(c.inheritedState=k,c.inheritedStateInner=Ext.Object.chain(k))}else{c.callParent([i,j])}},beforeDestroy:function(){var c=this,i=Ext.rootInheritedState,h;for(h in i){if(h!=="rtl"){delete i[h]}}c.removeUIFromElement();c.el.removeCls(c.baseCls);Ext.fly(document.body.parentNode).removeCls(c.viewportCls);c.callParent()},addMeta:function(i,h){var c=document.createElement("meta");c.setAttribute("name",i);c.setAttribute("content",h);Ext.getHead().appendChild(c)},privates:{applyTargetCls:function(c){this.el.addCls(c)},disableTabbing:function(){var c=this.el;if(c){c.saveTabbableState({skipSelf:true})}},enableTabbing:function(){var c=this.el;if(c){c.restoreTabbableState(true)}}}})}},privates:{updateResponsiveState:function(){this.cmp.handleViewportResize();Ext.plugin.Responsive.prototype.updateResponsiveState.call(this)}}},0,0,0,0,["plugin.viewport"],0,[Ext.plugin,"Viewport"],function(d){d.prototype.decorate=d.decorate}));(Ext.cmd.derive("Ext.layout.container.Anchor",Ext.layout.container.Auto,{alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,manageOverflow:true,setsItemSize:true,beginLayoutCycle:function(n){var p=this,q=0,i,t,m,s,r;Ext.layout.container.Auto.prototype.beginLayoutCycle.apply(this,arguments);m=n.childItems;r=m.length;for(s=0;s<r;++s){t=m[s];i=t.target.anchorSpec;if(i){if(t.widthModel.calculated&&i.right){q|=1}if(t.heightModel.calculated&&i.bottom){q|=2}if(q===3){break}}}n.anchorDimensions=q},calculateItems:function(B,H){var K=this,y=B.childItems,C=y.length,i=H.gotHeight,A=H.gotWidth,D=H.height,F=H.width,G=(A?1:0)|(i?2:0),L=B.anchorDimensions,x,I,w,J,z,E;if(!L){return true}for(z=0;z<C;z++){I=y[z];w=I.getMarginInfo();x=I.target.anchorSpec;if(A&&I.widthModel.calculated){E=x.right(F)-w.width;E=K.adjustWidthAnchor(E,I);I.setWidth(E)}if(i&&I.heightModel.calculated){J=x.bottom(D)-w.height;J=K.adjustHeightAnchor(J,I);I.setHeight(J)}}return(G&L)===L},anchorFactory:{offset:function(d){return function(c){return c+d}},ratio:function(d){return function(c){return Math.floor(c*d)}},standard:function(d){return function(c){return c-d}}},parseAnchor:function(l,i,m){if(l&&l!=="none"){var k=this.anchorFactory,j;if(this.parseAnchorRE.test(l)){return k.standard(m-i)}if(l.indexOf("%")!==-1){return k.ratio(parseFloat(l.replace("%",""))*0.01)}j=parseInt(l,10);if(!isNaN(j)){return k.offset(j)}}return null},adjustWidthAnchor:function(e,g){return e},adjustHeightAnchor:function(e,g){return e},configureItem:function(l){var m=this,r=m.owner,n=l.anchor,q,p,k;Ext.layout.container.Auto.prototype.configureItem.apply(this,arguments);if(!l.anchor&&l.items&&!Ext.isNumber(l.width)){l.anchor=n=m.defaultAnchor}if(r.anchorSize){if(typeof r.anchorSize==="number"){p=r.anchorSize}else{p=r.anchorSize.width;k=r.anchorSize.height}}else{p=r.initialConfig.width;k=r.initialConfig.height}if(n){q=n.split(" ");l.anchorSpec={right:m.parseAnchor(q[0],l.initialConfig.width,p),bottom:m.parseAnchor(q[1],l.initialConfig.height,k)}}},sizePolicy:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},b:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},r:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},b:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(k){var i=k.anchorSpec,m="$",j=this.sizePolicy,l;if(i){l=this.owner.getSizeModel();if(i.right&&!l.width.shrinkWrap){j=j.r}if(i.bottom&&!l.height.shrinkWrap){m="b"}}return j[m]}},0,0,0,0,["layout.anchor"],0,[Ext.layout.container,"Anchor",Ext.layout,"AnchorLayout"],0));(Ext.cmd.derive("Ext.dd.DragTracker",Ext.Base,{active:false,trackOver:false,tolerance:5,autoStart:false,constructor:function(g){var e=this;Ext.apply(e,g);e.dragRegion=new Ext.util.Region(0,0,0,0);if(e.el){e.initEl(e.el)}e.mixins.observable.constructor.call(e);if(e.disabled){e.disable()}},initEl:function(h){var g=this,i=g.delegate;g.el=h=Ext.get(h);if(i&&i.isElement){g.handle=i}g.delegate=g.handle?undefined:g.delegate;if(!g.handle){g.handle=h}g.handleListeners={scope:g,delegate:g.delegate,mousedown:g.onMouseDown,dragstart:g.onDragStart};if(!Ext.supports.TouchEvents&&(g.trackOver||g.overCls)){Ext.apply(g.handleListeners,{mouseover:g.onMouseOver,mouseout:g.onMouseOut})}g.mon(g.handle,g.handleListeners);g.keyNav=new Ext.util.KeyNav({target:h,up:g.onResizeKeyDown,left:g.onResizeKeyDown,right:g.onResizeKeyDown,down:g.onResizeKeyDown,scope:g})},disable:function(){this.disabled=true},enable:function(){this.disabled=false},destroy:function(){var d=this;d.endDrag({});d.el=d.handle=d.onBeforeStart=d.onStart=d.onDrag=d.onEnd=null;d.callParent()},onMouseOver:function(e,i){var p=this,n,q,r,t,s;if(!p.disabled){if(e.within(e.target,true,true)||p.delegate){n=p.handleCls;p.mouseIsOut=false;if(n){for(r=0,t=p.handleEls.length;r<t;r++){q=p.handleEls[r];s=q.delegateCls;if(!s){s=q.delegateCls=[n,"-",q.region,"-over"].join("")}q.addCls([s,p.overCls])}}p.fireEvent("mouseover",p,e,p.delegate?e.getTarget(p.delegate,i):p.handle)}}},onMouseOut:function(e){var i=this,k,l,m;if(i.mouseIsDown){i.mouseIsOut=true}else{if(i.handleCls){for(l=0,m=i.handleEls.length;l<m;l++){k=i.handleEls[l];k.removeCls([k.delegateCls,i.overCls])}}i.fireEvent("mouseout",i,e)}},onMouseDown:function(e,h){var i=this;if(i.disabled||e.dragTracked){return}i.dragTarget=i.delegate?h:i.handle.dom;i.startXY=i.lastXY=e.getXY();i.startRegion=Ext.fly(i.dragTarget).getRegion();if(i.fireEvent("mousedown",i,e)===false||i.fireEvent("beforedragstart",i,e)===false||i.onBeforeStart(e)===false){return}i.mouseIsDown=true;e.dragTracked=true;i.el.setCapture();e.stopPropagation();if(i.preventDefault!==false){e.preventDefault()}Ext.getDoc().on({scope:i,capture:true,mouseup:i.onMouseUp,mousemove:i.onMouseMove,selectstart:i.stopSelect});i.dragEnded=false;if(!i.tolerance){i.triggerStart()}else{if(i.autoStart){i.timer=Ext.defer(i.triggerStart,i.autoStart===true?1000:i.autoStart,i,[e])}}},onMouseMove:function(e,j){var l=this,k=e.getXY(),m=l.startXY;e.stopPropagation();if(l.preventDefault!==false){e.preventDefault()}if(l.dragEnded){return}l.lastXY=k;if(!l.active){if(Math.max(Math.abs(m[0]-k[0]),Math.abs(m[1]-k[1]))>l.tolerance){l.triggerStart(e)}else{return}}if(l.fireEvent("mousemove",l,e)===false){l.onMouseUp(e)}else{l.onDrag(e);l.fireEvent("drag",l,e)}},onMouseUp:function(e){var g=this;g.mouseIsDown=false;if(g.mouseIsOut){g.mouseIsOut=false;g.onMouseOut(e)}if(g.preventDefault!==false){e.preventDefault()}if(Ext.isIE&&document.releaseCapture){document.releaseCapture()}g.fireEvent("mouseup",g,e);g.endDrag(e)},endDrag:function(e){var h=this,i=h.active;Ext.getDoc().un({mousemove:h.onMouseMove,mouseup:h.onMouseUp,selectstart:h.stopSelect,capture:true,scope:h});h.clearStart();h.active=false;if(i){h.dragEnded=true;h.onEnd(e);h.fireEvent("dragend",h,e)}h._constrainRegion=null},triggerStart:function(e){var g=this;g.clearStart();g.active=true;g.onStart(e);g.fireEvent("dragstart",g,e)},clearStart:function(){var d=this.timer;if(d){clearTimeout(d);this.timer=null}},stopSelect:function(d){d.stopEvent();return false},onBeforeStart:function(d){},onStart:function(d){},onDrag:function(d){},onEnd:function(d){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){var d=this;if(d.constrainTo){if(d.constrainTo instanceof Ext.util.Region){return d.constrainTo}if(!d._constrainRegion){d._constrainRegion=Ext.fly(d.constrainTo).getViewRegion()}}else{if(!d._constrainRegion){d._constrainRegion=d.getDragCt().getViewRegion()}}return d._constrainRegion},getXY:function(d){return d?this.constrainModes[d](this,this.lastXY):this.lastXY},getOffset:function(g){var h=this.getXY(g),i=this.startXY;return[h[0]-i[0],h[1]-i[1]]},onDragStart:function(d){d.stopPropagation()},constrainModes:{point:function(j,h){var i=j.dragRegion,k=j.getConstrainRegion();if(!k){return h}i.x=i.left=i[0]=i.right=h[0];i.y=i.top=i[1]=i.bottom=h[1];i.constrainTo(k);return[i.left,i.top]},dragTarget:function(m,j){var n=m.startXY,k=m.startRegion.copy(),p=m.getConstrainRegion(),l;if(!p){return j}k.translateBy(j[0]-n[0],j[1]-n[1]);if(k.right>p.right){j[0]+=l=(p.right-k.right);k.left+=l}if(k.left<p.left){j[0]+=(p.left-k.left)}if(k.bottom>p.bottom){j[1]+=l=(p.bottom-k.bottom);k.top+=l}if(k.top<p.top){j[1]+=(p.top-k.top)}return j}}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.dd,"DragTracker"],0));(Ext.cmd.derive("Ext.resizer.SplitterTracker",Ext.dd.DragTracker,{enabled:true,overlayCls:"x-resizable-overlay",createDragOverlay:function(){var g,e=Ext.dom.Element;g=this.overlay=Ext.getBody().createChild({role:"presentation",cls:this.overlayCls,html:"&#160;"});g.unselectable();g.setSize(e.getDocumentWidth(),e.getDocumentHeight());g.show()},getPrevCmp:function(){var d=this.getSplitter();return d.previousSibling(":not([hidden])")},getNextCmp:function(){var d=this.getSplitter();return d.nextSibling(":not([hidden])")},onBeforeStart:function(e){var n=this,m=n.getPrevCmp(),r=n.getNextCmp(),p=n.getSplitter().collapseEl,l=e.getTarget(),q;if(!m||!r){return false}if(p&&l===p.dom){return false}if(r.collapsed||m.collapsed){return false}n.prevBox=m.getEl().getBox();n.nextBox=r.getEl().getBox();n.constrainTo=q=n.calculateConstrainRegion();if(!q){return false}return q},onStart:function(e){var g=this.getSplitter();this.createDragOverlay();g.addCls(g.baseCls+"-active")},onResizeKeyDown:function(m){var q=this,n=q.getSplitter(),r=m.getKey(),p=n.orientation==="vertical"?0:1,e=r===m.UP||r===m.LEFT?-1:1,l;if(!q.active&&q.onBeforeStart(m)){Ext.fly(m.target).on("keyup",q.onResizeKeyUp,q);q.triggerStart(m);q.onMouseDown(m);q.startXY=n.getXY();q.lastKeyDownXY=Ext.Array.slice(q.startXY);l=q.easing=new Ext.fx.easing.Linear();l.setStartTime(Ext.Date.now());l.setStartValue(1);l.setEndValue(4);l.setDuration(2000)}if(q.active){q.lastKeyDownXY[p]=Math.round(q.lastKeyDownXY[p]+(e*q.easing.getValue()));q.lastXY=q.lastKeyDownXY;n.setXY(q.getXY("dragTarget"))}},onResizeKeyUp:function(d){this.onMouseUp(d)},calculateConstrainRegion:function(){var v=this,B=v.getSplitter(),u=B.getWidth(),t=B.defaultSplitMin,A=B.orientation,x=v.prevBox,s=v.getPrevCmp(),z=v.nextBox,w=v.getNextCmp(),q,r,y;if(A==="vertical"){y={prevCmp:s,nextCmp:w,prevBox:x,nextBox:z,defaultMin:t,splitWidth:u};q=new Ext.util.Region(x.y,v.getVertPrevConstrainRight(y),x.bottom,v.getVertPrevConstrainLeft(y));r=new Ext.util.Region(z.y,v.getVertNextConstrainRight(y),z.bottom,v.getVertNextConstrainLeft(y))}else{q=new Ext.util.Region(x.y+(s.minHeight||t),x.right,(s.maxHeight?x.y+s.maxHeight:z.bottom-(w.minHeight||t))+u,x.x);r=new Ext.util.Region((w.maxHeight?z.bottom-w.maxHeight:x.y+(s.minHeight||t))-u,z.right,z.bottom-(w.minHeight||t),z.x)}return q.intersect(r)},performResize:function(i,A){var J=this,F=J.getSplitter(),z=F.orientation,I=J.getPrevCmp(),e=J.getNextCmp(),E=F.ownerCt,x=E.query(">[flex]"),w=x.length,D=z==="vertical",y=0,B=D?"width":"height",C=0,H,G;for(;y<w;y++){H=x[y];G=D?H.getWidth():H.getHeight();C+=G;H.flex=G}A=D?A[0]:A[1];if(I){G=J.prevBox[B]+A;if(I.flex){I.flex=G}else{I[B]=G}}if(e){G=J.nextBox[B]-A;if(e.flex){e.flex=G}else{e[B]=G}}E.updateLayout()},endDrag:function(){var d=this;if(d.overlay){d.overlay.destroy();delete d.overlay}Ext.dd.DragTracker.prototype.endDrag.apply(this,arguments)},onEnd:function(e){var i=this,h=i.getSplitter();h.removeCls(h.baseCls+"-active");i.performResize(e,i.getResizeOffset())},onDrag:function(k){var m=this,e=m.getOffset("dragTarget"),l=m.getSplitter(),n=l.getEl(),p=l.orientation;if(p==="vertical"){n.setX(m.startRegion.left+e[0])}else{n.setY(m.startRegion.top+e[1])}},getSplitter:function(){return this.splitter},getVertPrevConstrainRight:function(d){return(d.prevCmp.maxWidth?d.prevBox.x+d.prevCmp.maxWidth:d.nextBox.right-(d.nextCmp.minWidth||d.defaultMin))+d.splitWidth},getVertPrevConstrainLeft:function(d){return d.prevBox.x+(d.prevCmp.minWidth||d.defaultMin)},getVertNextConstrainRight:function(d){return d.nextBox.right-(d.nextCmp.minWidth||d.defaultMin)},getVertNextConstrainLeft:function(d){return(d.nextCmp.maxWidth?d.nextBox.right-d.nextCmp.maxWidth:d.prevBox.x+(d.prevBox.minWidth||d.defaultMin))-d.splitWidth},getResizeOffset:function(){return this.getOffset("dragTarget")}},0,0,0,0,0,0,[Ext.resizer,"SplitterTracker"],0));(Ext.cmd.derive("Ext.dd.DDTarget",Ext.dd.DragDrop,{constructor:function(g,i,h){if(g){this.initTarget(g,i,h)}},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return("DDTarget "+this.id)}},3,0,0,0,0,0,[Ext.dd,"DDTarget"],0));(Ext.cmd.derive("Ext.dd.ScrollManager",Ext.Base,{singleton:true,dirTrans:{up:-1,left:-1,down:1,right:1},constructor:function(){var d=Ext.dd.DragDropManager;d.fireEvents=Ext.Function.createSequence(d.fireEvents,this.onFire,this);d.stopDrag=Ext.Function.createSequence(d.stopDrag,this.onStop,this);this.doScroll=this.doScroll.bind(this);this.ddmInstance=d;this.els={};this.dragEl=null;this.proc={}},onStop:function(g){var e=Ext.dd.ScrollManager;e.dragEl=null;e.clearProc()},triggerRefresh:function(){if(this.ddmInstance.dragCurrent){this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)}},doScroll:function(){var n=this;if(n.ddmInstance.dragCurrent){var t=n.proc,p=t.el,r=t.component,m=t.el.ddScrollConfig,l=m&&m.increment?m.increment:n.increment,s=m&&"animate" in m?m.animate:n.animate,q=function(){n.triggerRefresh()};if(s){if(s===true){s={callback:q}}else{s.callback=s.callback?Ext.Function.createSequence(s.callback,q):q}}if(r){l=l*n.dirTrans[t.dir];if(t.dir==="up"||t.dir==="down"){r.scrollBy(0,l,s)}else{r.scrollBy(l,0,s)}}else{p.scroll(t.dir,l,s)}if(!s){q()}}},clearProc:function(){var d=this.proc;if(d.id){clearInterval(d.id)}d.id=0;d.el=null;d.dir=""},startProc:function(m,n){var l=this,p=l.proc,j,k;l.clearProc();p.el=m;p.dir=n;j=m.ddScrollConfig?m.ddScrollConfig.ddGroup:undefined;k=(m.ddScrollConfig&&m.ddScrollConfig.frequency)?m.ddScrollConfig.frequency:l.frequency;if(j===undefined||l.ddmInstance.dragCurrent.ddGroup===j){p.id=Ext.interval(l.doScroll,k)}},onFire:function(s,p){var q=this,e,r,u,x,w,t,v;if(p||!q.ddmInstance.dragCurrent){return}if(!q.dragEl||q.dragEl!==q.ddmInstance.dragCurrent){q.dragEl=q.ddmInstance.dragCurrent;q.refreshCache()}e=s.getPoint();r=q.proc;u=q.els;for(x in u){w=u[x];t=w._region;v=w.ddScrollConfig||q;if(t&&t.contains(e)&&w.isScrollable()){if(t.bottom-e.y<=v.vthresh){if(r.el!==w){q.startProc(w,"down")}return}else{if(t.right-e.x<=v.hthresh){if(r.el!==w){q.startProc(w,"right")}return}else{if(e.y-t.top<=v.vthresh){if(r.el!==w){q.startProc(w,"up")}return}else{if(e.x-t.left<=v.hthresh){if(r.el!==w){q.startProc(w,"left")}return}}}}}}q.clearProc()},register:function(g){if(Ext.isArray(g)){for(var h=0,i=g.length;h<i;h++){this.register(g[h])}}else{g=Ext.get(g);this.els[g.id]=g}},unregister:function(g){if(Ext.isArray(g)){for(var h=0,i=g.length;h<i;h++){this.unregister(g[h])}}else{g=Ext.get(g);delete this.els[g.id]}},vthresh:25*(window.devicePixelRatio||1),hthresh:25*(window.devicePixelRatio||1),increment:100,frequency:500,animate:true,animDuration:0.4,ddGroup:undefined,refreshCache:function(){var g=this.els,e;for(e in g){if(typeof g[e]==="object"){g[e]._region=g[e].getRegion()}}}},1,0,0,0,0,0,[Ext.dd,"ScrollManager"],0));(Ext.cmd.derive("Ext.dd.DropTarget",Ext.dd.DDTarget,{constructor:function(e,g){this.el=Ext.get(e);Ext.apply(this,g);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}Ext.dd.DDTarget.prototype.constructor.call(this,this.el.dom,this.ddGroup||this.group,{isTarget:true})},containerScroll:false,dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",isTarget:true,isNotifyTarget:true,notifyEnter:function(i,e,h){if(this.overClass){this.el.addCls(this.overClass)}return this.dropAllowed},notifyOver:function(i,e,h){return this.dropAllowed},notifyOut:function(i,e,h){if(this.overClass){this.el.removeCls(this.overClass)}},notifyDrop:function(i,e,h){if(this.overClass){this.el.removeCls(this.overClass)}return false},destroy:function(){Ext.dd.DDTarget.prototype.destroy.call(this);if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.el)}}},1,0,0,0,0,0,[Ext.dd,"DropTarget"],0));(Ext.cmd.derive("Ext.dd.DragZone",Ext.dd.DragSource,{constructor:function(i,j){var h=this,k=h.containerScroll;Ext.dd.DragSource.prototype.constructor.call(this,i,j);if(k){i=h.scrollEl||i;i=Ext.get(i);if(Ext.isObject(k)){i.ddScrollConfig=k}Ext.dd.ScrollManager.register(i)}},getDragData:function(d){return Ext.dd.Registry.getHandleFromEvent(d)},onInitDrag:function(g,e){this.proxy.update(this.dragData.ddel.cloneNode(true));this.onStartDrag(g,e);return true},getRepairXY:function(d){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){Ext.dd.DragSource.prototype.destroy.call(this);if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.scrollEl||this.el)}}},1,0,0,0,0,0,[Ext.dd,"DragZone"],0));(Ext.cmd.derive("Ext.dd.Registry",Ext.Base,{singleton:true,constructor:function(){this.elements={};this.handles={};this.autoIdSeed=0},getId:function(h,i){if(typeof h==="string"){return h}var g=h.id;if(!g&&i!==false){g="extdd-"+(++this.autoIdSeed);h.id=g}return g},register:function(j,i){i=i||{};if(typeof j==="string"){j=document.getElementById(j)}i.ddel=j;this.elements[this.getId(j)]=i;if(i.isHandle!==false){this.handles[i.ddel.id]=i}if(i.handles){var k=i.handles,l,m;for(l=0,m=k.length;l<m;l++){this.handles[this.getId(k[l])]=i}}},unregister:function(l){var i=this.getId(l,false),k=this.elements[i],m,n,p;if(k){delete this.elements[i];if(k.handles){m=k.handles;for(n=0,p=m.length;n<p;n++){delete this.handles[this.getId(m[n],false)]}}}},getHandle:function(d){if(typeof d!=="string"){d=d.id}return this.handles[d]},getHandleFromEvent:function(e){var g=e.getTarget();return g?this.handles[g.id]:null},getTarget:function(d){if(typeof d!=="string"){d=d.id}return this.elements[d]},getTargetFromEvent:function(e){var g=e.getTarget();return g?this.elements[g.id]||this.handles[g.id]:null}},1,0,0,0,0,0,[Ext.dd,"Registry"],0));(Ext.cmd.derive("Ext.dd.DropZone",Ext.dd.DropTarget,{getTargetFromEvent:function(d){return Ext.dd.Registry.getTargetFromEvent(d)},onNodeEnter:function(e,k,i,j){},onNodeOver:function(e,k,i,j){return this.dropAllowed},onNodeOut:function(e,k,i,j){},onNodeDrop:function(e,k,i,j){return false},onContainerOver:function(i,e,h){return this.dropNotAllowed},onContainerDrop:function(i,e,h){return false},notifyEnter:function(i,e,h){return this.dropNotAllowed},notifyOver:function(m,j,k){var l=this,e=l.getTargetFromEvent(j);if(!e){if(l.lastOverNode){l.onNodeOut(l.lastOverNode,m,j,k);l.lastOverNode=null}return l.onContainerOver(m,j,k)}if(l.lastOverNode!==e){if(l.lastOverNode){l.onNodeOut(l.lastOverNode,m,j,k)}l.onNodeEnter(e,m,j,k);l.lastOverNode=e}return l.onNodeOver(e,m,j,k)},notifyOut:function(i,e,h){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,i,e,h);this.lastOverNode=null}},notifyDrop:function(n,k,l){var m=this,e=m.getTargetFromEvent(k),p=e?m.onNodeDrop(e,n,k,l):m.onContainerDrop(n,k,l);if(m.lastOverNode){m.onNodeOut(m.lastOverNode,n,k,l);m.lastOverNode=null}return p},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}},0,0,0,0,0,0,[Ext.dd,"DropZone"],0));(Ext.cmd.derive("Ext.event.publisher.MouseEnterLeave",Ext.event.publisher.Dom,{type:"mouseEnterLeave"},0,0,0,0,0,0,[Ext.event.publisher,"MouseEnterLeave"],function(g){var e={mouseover:"mouseenter",mouseout:"mouseleave"};if(!Ext.supports.MouseEnterLeave){g.override({handledDomEvents:["mouseover","mouseout"],handledEvents:["mouseenter","mouseleave"],doDelegatedEvent:function(d){var n,s,c,q,r,p;d=this.callParent([d]);n=d.getTarget();s=d.getRelatedTarget();if(s&&Ext.fly(n).contains(s)){return}c=n.id;if(c){q=Ext.cache[c];if(q){r=e[d.type];d=d.chain({type:r});if(q.hasListeners[r]){p=q.events[r];if(p){p=p.directs;if(p){d.setCurrentTarget(q.dom);p.fire(d,d.target)}}}}}}})}g.instance=new g()}));(Ext.cmd.derive("Ext.form.action.Action",Ext.Base,{alternateClassName:"Ext.form.Action",submitEmptyText:true,constructor:function(g){if(g){Ext.apply(this,g)}var e=g.params;if(Ext.isString(e)){this.params=Ext.Object.fromQueryString(e)}},run:Ext.emptyFn,onFailure:function(i){var g=this.form,h=g&&!g.destroying&&!g.destroyed;this.response=i;this.failureType=Ext.form.action.Action.CONNECT_FAILURE;if(h){g.afterAction(this,false)}},processResponse:function(d){this.response=d;if(!d.responseText&&!d.responseXML){return true}return(this.result=this.handleResponse(d))},getUrl:function(){return this.url||this.form.url},getMethod:function(){return(this.method||this.form.method||"POST").toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){var d=this;return{success:d.onSuccess,failure:d.onFailure,scope:d,timeout:(d.timeout||d.form.timeout)*1000}},statics:{CLIENT_INVALID:"client",SERVER_INVALID:"server",CONNECT_FAILURE:"connect",LOAD_FAILURE:"load"}},1,0,0,0,0,0,[Ext.form.action,"Action",Ext.form,"Action"],0));(Ext.cmd.derive("Ext.form.action.Load",Ext.form.action.Action,{alternateClassName:"Ext.form.Action.Load",type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(j){var k=this.processResponse(j),h=this.form,i=h&&!h.destroying&&!h.destroyed;if(k===true||!k.success||!k.data){this.failureType=Ext.form.action.Action.LOAD_FAILURE;if(i){h.afterAction(this,false)}return}if(i){h.clearInvalid();h.setValues(k.data);h.afterAction(this,true)}},handleResponse:function(i){var k=this.form.reader,j,h;if(k){j=k.read(i);h=j.records&&j.records[0]?j.records[0].data:null;return{success:j.success,data:h}}return Ext.decode(i.responseText)}},0,0,0,0,["formaction.load"],0,[Ext.form.action,"Load",Ext.form.Action,"Load"],0));(Ext.cmd.derive("Ext.form.action.Submit",Ext.form.action.Action,{alternateClassName:"Ext.form.Action.Submit",type:"submit",run:function(){var e=this,g=e.form;if(e.clientValidation===false||g.isValid()){e.doSubmit()}else{e.failureType=Ext.form.action.Action.CLIENT_INVALID;g.afterAction(e,false)}},doSubmit:function(){var l=this,n=Ext.apply(l.createCallback(),{url:l.getUrl(),method:l.getMethod(),headers:l.headers}),m=l.form,k=l.jsonSubmit||m.jsonSubmit,p=k?"jsonData":"params",j;if(m.hasUpload()){j=l.buildForm();n.form=j.formEl;n.isUpload=true}else{n[p]=l.getParams(k)}Ext.Ajax.request(n);if(j){l.cleanup(j)}},cleanup:function(i){var m=i.formEl,n=i.uploadEls,q=i.uploadFields,r=q.length,p,l;for(p=0;p<r;++p){l=q[p];if(!l.clearOnSubmit){l.restoreInput(n[p])}}if(m){Ext.removeNode(m)}},getParams:function(h){var i=false,j=Ext.form.action.Action.prototype.getParams.call(this),k=this.form.getValues(i,i,this.submitEmptyText!==i,h,true);return Ext.apply({},k,j)},buildForm:function(){var z=this,v=[],y,I,B=z.form,E=z.getParams(),F=[],H=[],C=B.getFields().items,D,A=C.length,x,J,L,K,i,G;for(D=0;D<A;++D){x=C[D];if(x.isFileUpload()){F.push(x)}}for(J in E){if(E.hasOwnProperty(J)){L=E[J];if(Ext.isArray(L)){i=L.length;for(K=0;K<i;K++){v.push(z.getFieldConfig(J,L[K]))}}else{v.push(z.getFieldConfig(J,L))}}}y={tag:"form",role:"presentation",action:z.getUrl(),method:z.getMethod(),target:z.target?(Ext.isString(z.target)?z.target:Ext.fly(z.target).dom.name):"_self",style:"display:none",cn:v};if(F.length){y.encoding=y.enctype="multipart/form-data"}I=Ext.DomHelper.append(Ext.getBody(),y);A=F.length;for(D=0;D<A;++D){G=F[D].extractFileInput();I.appendChild(G);H.push(G)}return{formEl:I,uploadFields:F,uploadEls:H}},getFieldConfig:function(g,e){return{tag:"input",type:"hidden",name:g,value:Ext.String.htmlEncode(e)}},onSuccess:function(l){var j=this.form,k=j&&!j.destroying&&!j.destroyed,i=true,m=this.processResponse(l);if(m!==true&&!m.success){if(m.errors&&k){j.markInvalid(m.errors)}this.failureType=Ext.form.action.Action.SERVER_INVALID;i=false}if(k){j.afterAction(this,i)}},handleResponse:function(u){var x=this.form,v=x.errorReader,t,i,s,r,w,e;if(v){t=v.read(u);w=t.records;i=[];if(w){for(s=0,r=w.length;s<r;s++){i[s]=w[s].data}}if(i.length<1){i=null}e={success:t.success,errors:i}}else{try{e=Ext.decode(u.responseText)}catch(q){e={success:false,errors:[]}}}return e}},0,0,0,0,["formaction.submit"],0,[Ext.form.action,"Submit",Ext.form.Action,"Submit"],0));(Ext.cmd.derive("Ext.util.ComponentDragger",Ext.dd.DragTracker,{autoStart:500,constructor:function(g,e){this.comp=g;this.initialConstrainTo=e.constrainTo;Ext.dd.DragTracker.prototype.constructor.call(this,e)},onStart:function(e){var h=this,i=h.comp;h.startPosition=i.getXY();if(i.ghost&&!i.liveDrag){h.proxy=i.ghost();h.dragTarget=h.proxy.header.el}if(h.constrain||h.constrainDelegate){h.constrainTo=h.calculateConstrainRegion()}if(i.beginDrag){i.beginDrag()}if(i.el.shim){i.el.maskIframes()}},calculateConstrainRegion:function(){var q=this,s=q.comp,r=q.initialConstrainTo,t=s.constraintInsets,n,w,u,v=q.proxy?q.proxy.el:s.el,p=v.shadow,x=(p&&!q.constrainDelegate&&s.constrainShadow&&!p.disabled)?p.getShadowSize():0;if(!(r instanceof Ext.util.Region)){n=Ext.fly(r);r=n.getConstrainRegion()}else{r=r.copy()}if(t){t=Ext.isObject(t)?t:Ext.Element.parseBox(t);r.adjust(t.top,t.right,t.bottom,t.left)}if(x){r.adjust(x[0],-x[1],-x[2],x[3])}if(!q.constrainDelegate){w=Ext.fly(q.dragTarget).getRegion();u=v.getRegion();r.adjust(w.top-u.top,w.right-u.right,w.bottom-u.bottom,w.left-u.left)}return r},onDrag:function(i){var j=this,k=(j.proxy&&!j.comp.liveDrag)?j.proxy:j.comp,e=j.getOffset(j.constrain||j.constrainDelegate?"dragTarget":null);k.setPagePosition(j.startPosition[0]+e[0],j.startPosition[1]+e[1])},onEnd:function(e){var g=this.comp;if(g.destroyed||g.destroying){return}if(this.proxy&&!g.liveDrag){g.unghost()}if(g.endDrag){g.endDrag()}if(g.el.shim){g.el.unmaskIframes()}}},1,0,0,0,0,0,[Ext.util,"ComponentDragger"],0));(Ext.cmd.derive("Ext.util.FocusTrap",Ext.Mixin,{mixinConfig:{id:"focustrap",after:{afterRender:"initTabGuards",addTool:"initTabGuards",add:"initTabGuards",remove:"initTabGuards",addDocked:"initTabGuards",removeDocked:"initTabGuards",onShow:"initTabGuards",afterHide:"initTabGuards"}},config:{tabGuard:true,tabGuardTpl:'<div id="{id}-{tabGuardEl}" data-ref="{tabGuardEl}" role="button" data-tabguardposition="{tabGuard}" aria-busy="true" style="height:0"class="x-hidden-clip"></div>',tabGuardIndex:0},tabGuardPositionAttribute:"data-tabguardposition",privates:{initTabGuards:function(){var k=this,m=k.tabGuardPositionAttribute,l=k.tabGuardBeforeEl,j=k.tabGuardAfterEl,p=k.tabGuardIndex,n;if(!k.rendered||!k.tabGuard){return}n=k.el.findTabbableElements({skipSelf:true});if(n[0]&&n[0].hasAttribute(m)){n.shift()}if(n.length&&n[n.length-1].hasAttribute(m)){n.pop()}if(n.length){l.dom.setAttribute("tabIndex",p);l.on("focusenter",k.onTabGuardFocusEnter,k);j.dom.setAttribute("tabIndex",p);j.on("focusenter",k.onTabGuardFocusEnter,k)}else{l.dom.removeAttribute("tabIndex");l.un("focusenter",k.onTabGuardFocusEnter,k);j.dom.removeAttribute("tabIndex");j.un("focusenter",k.onTabGuardFocusEnter,k)}},onTabGuardFocusEnter:function(t,s){var r=this,w=r.el,q=r.tabGuardPositionAttribute,u=s.getAttribute(q),p=t.relatedTarget,x,v,e;if(!p.hasAttribute(q)&&p!==w.dom&&w.contains(p)){v=u==="before"?false:true}else{v=u==="before"?true:false}x=w.findTabbableElements({skipSelf:true});x.shift();x.pop();e=v?x[0]:x[x.length-1];if(e){e.focus()}}}},0,0,0,0,0,0,[Ext.util,"FocusTrap"],0));(Ext.cmd.derive("Ext.window.Window",Ext.panel.Panel,{alternateClassName:"Ext.Window",baseCls:"x-window",resizable:true,draggable:true,constrain:false,constrainHeader:false,plain:false,minimizable:false,maximizable:false,minHeight:50,minWidth:50,expandOnShow:true,collapsible:false,closable:true,hidden:true,autoRender:true,hideMode:"offsets",floating:true,itemCls:"x-window-item",overlapHeader:true,ignoreHeaderBorderManagement:true,alwaysFramed:true,isRootCfg:{isRoot:true},isWindow:true,ariaRole:"dialog",initComponent:function(){var d=this;d.frame=false;Ext.panel.Panel.prototype.initComponent.call(this);if(d.plain){d.addClsWithUI("plain")}d.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var e=this,g;g=Ext.panel.Panel.prototype.getElConfig.call(this);g.tabIndex=-1;return g},getFocusEl:function(){return this.getDefaultFocus()||this.el},getState:function(){var l=this,j=Ext.panel.Panel.prototype.getState.call(this)||{},m=!!l.maximized,k=l.ghostBox,i;j.maximized=m;if(m){i=l.restorePos}else{if(k){i=[k.x,k.y]}else{i=l.getPosition()}}Ext.apply(j,{size:m?l.restoreSize:l.getSize(),pos:i});return j},applyState:function(e){var g=this;if(e){g.maximized=e.maximized;if(g.maximized){g.hasSavedRestore=true;g.restoreSize=e.size;g.restorePos=e.pos}else{Ext.apply(g,{width:e.size.width,height:e.size.height,x:e.pos[0],y:e.pos[1]})}}},onRender:function(h,i){var g=this;Ext.panel.Panel.prototype.onRender.apply(this,arguments);if(g.header){g.header.on({scope:g,click:g.onHeaderClick})}if(g.maximizable){g.header.on({scope:g,dblclick:g.toggleMaximize})}},afterRender:function(){var i=this,g=i.header,h;if(i.maximized){i.maximized=false;i.maximize();if(g){g.removeCls(g.indicateDragCls)}}Ext.panel.Panel.prototype.afterRender.call(this);if(i.closable){h=i.getKeyMap();h.on(27,i.onEsc,i)}else{h=i.keyMap}if(h&&i.hidden){h.disable()}},onEsc:function(g,e){e.stopEvent();this.close()},beforeDestroy:function(){var d=this;if(d.rendered){Ext.un("resize",d.onWindowResize,d);delete d.animateTarget;d.hide();Ext.destroy(d.keyMap)}Ext.panel.Panel.prototype.beforeDestroy.call(this)},addTools:function(){var g=this,e=[];Ext.panel.Panel.prototype.addTools.call(this);if(g.minimizable){e.push({type:"minimize",handler:"minimize",scope:g})}if(g.maximizable){e.push({type:g.maximized?"restore":"maximize",handler:"toggleMaximize",scope:g})}if(e.length){g.addTool(e)}},onShow:function(){var d=this;Ext.panel.Panel.prototype.onShow.apply(this,arguments);if(d.expandOnShow){d.expand(false)}d.syncMonitorWindowResize();if(d.keyMap){d.keyMap.enable()}},doClose:function(){var d=this;if(d.hidden){d.fireEvent("close",d);if(d.closeAction==="destroy"){d.destroy()}}else{d.hide(d.animateTarget,d.doClose,d)}},afterHide:function(){var d=this;d.syncMonitorWindowResize();if(d.keyMap){d.keyMap.disable()}Ext.panel.Panel.prototype.afterHide.apply(this,arguments)},onWindowResize:function(){var e=this,g;if(!e.destroyed){if(e.maximized){e.fitContainer()}else{g=e.getSizeModel();if(g.width.natural||g.height.natural){e.updateLayout()}e.doConstrain()}}},minimize:function(){this.fireEvent("minimize",this);return this},resumeHeaderLayout:function(d){this.header.resumeLayouts(d?this.isRootCfg:null)},afterCollapse:function(){var i=this,g=i.header,h=i.tools;if(g&&i.maximizable){g.suspendLayouts();h.maximize.hide();this.resumeHeaderLayout(true)}if(i.resizer){i.resizer.disable()}Ext.panel.Panel.prototype.afterCollapse.apply(this,arguments)},afterExpand:function(){var k=this,h=k.header,j=k.tools,i;if(h){h.suspendLayouts();if(k.maximizable){j.maximize.show();i=true}this.resumeHeaderLayout(i)}if(k.resizer){k.resizer.enable()}Ext.panel.Panel.prototype.afterExpand.apply(this,arguments)},maximize:function(s){var p=this,l=p.header,n=p.tools,q=p.width,t=p.height,r,m;if(!p.maximized){p.expand(false);if(!p.hasSavedRestore){r=p.restoreSize={width:q?q:null,height:t?t:null};p.restorePos=p.getPosition()}if(l){l.suspendLayouts();if(n.maximize){n.maximize.setType("restore")}if(p.collapseTool){p.collapseTool.hide();m=true}p.resumeHeaderLayout(m)}p.el.disableShadow();if(p.dd){p.dd.disable();if(l){l.removeCls(l.indicateDragCls)}}if(p.resizer){p.resizer.disable()}p.el.addCls("x-window-maximized");p.container.addCls("x-window-maximized-ct");p.syncMonitorWindowResize();p.fitContainer(s=(s||!!p.animateTarget)?{callback:function(){p.maximized=true;p.fireEvent("maximize",p)}}:null);if(!s){p.maximized=true;p.fireEvent("maximize",p)}}return p},restore:function(n){var m=this,l=m.tools,j=m.header,p=m.restoreSize,k;if(m.maximized){m.hasSavedRestore=null;m.removeCls("x-window-maximized");if(j){j.suspendLayouts();if(l.maximize){l.maximize.setType("maximize")}if(m.collapseTool){m.collapseTool.show();k=true}m.resumeHeaderLayout(k)}p.x=m.restorePos[0];p.y=m.restorePos[1];m.setBox(p,n=(n||!!m.animateTarget)?{callback:function(){m.el.enableShadow(null,true);m.maximized=false;m.fireEvent("restore",m)}}:null);m.restorePos=m.restoreSize=null;if(m.dd){m.dd.enable();if(j){j.addCls(j.indicateDragCls)}}if(m.resizer){m.resizer.enable()}m.container.removeCls("x-window-maximized-ct");m.syncMonitorWindowResize();if(!n){m.el.enableShadow(null,true);m.maximized=false;m.fireEvent("restore",m)}}return m},syncMonitorWindowResize:function(){var j=this,i=j._monitoringResize,h=j.monitorResize||j.constrain||j.constrainHeader||j.maximized,k=j.hidden||j.destroying||j.destroyed;if(h&&!k){if(!i){Ext.on("resize",j.onWindowResize,j,{buffer:1});j._monitoringResize=true}}else{if(i){Ext.un("resize",j.onWindowResize,j);j._monitoringResize=false}}},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()},createGhost:function(){var d=Ext.panel.Panel.prototype.createGhost.apply(this,arguments);d.xtype="window";d.focusOnToFront=false;return d},getDefaultFocus:function(){var i=this,j,h=i.defaultFocus,k;if(h!==undefined){if(Ext.isNumber(h)){j=i.query("button")[h]}else{if(Ext.isString(h)){k=h;if(Ext.validIdRe.test(k)){j=i.down(Ext.makeIdSelector(k))}if(!j){j=i.down(k)}}else{if(h.focus){j=h}}}}return j},privates:{initDraggable:function(){this.initSimpleDraggable()},onHeaderClick:function(e,h){var i;if(e.el.contains(h.getTarget())){i=this.getDefaultFocus();if(i){i.focus()}}},initResizable:function(){Ext.panel.Panel.prototype.initResizable.apply(this,arguments);if(this.maximized){this.resizer.disable()}}}},0,["window"],["component","box","container","panel","window"],{component:true,box:true,container:true,panel:true,window:true},["widget.window"],[[Ext.util.FocusTrap.prototype.mixinId||Ext.util.FocusTrap.$className,Ext.util.FocusTrap]],[Ext.window,"Window",Ext,"Window"],0));(Ext.cmd.derive("Ext.form.Labelable",Ext.Mixin,{isLabelable:true,mixinConfig:{id:"labelable",on:{beforeRender:"beforeLabelRender",onRender:"onLabelRender"}},config:{childEls:["labelEl","bodyEl","errorEl","errorWrapEl","ariaErrorEl"]},labelableRenderTpl:["{beforeLabelTpl}",'<label id="{id}-labelEl" data-ref="labelEl" class="{labelCls} {labelCls}-{ui} {labelClsExtra} ','{childElCls} {unselectableCls}" style="{labelStyle}"<tpl if="inputId">',' for="{inputId}"</tpl> {labelAttrTpl}>','<span class="{labelInnerCls} {labelInnerCls}-{ui}" style="{labelInnerStyle}">',"{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}','<tpl if="labelSeparator">{labelSeparator}</tpl>',"</tpl>","{afterLabelTextTpl}","</span>","</label>","{afterLabelTpl}",'<div id="{id}-bodyEl" data-ref="bodyEl" role="presentation"',' class="{baseBodyCls} {baseBodyCls}-{ui}<tpl if="fieldBodyCls">',' {fieldBodyCls} {fieldBodyCls}-{ui}</tpl> {growCls} {extraFieldBodyCls}"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{beforeBodyEl}","{beforeSubTpl}","{[values.$comp.getSubTplMarkup(values)]}","{afterSubTpl}","{afterBodyEl}",'<div id="{id}-ariaErrorEl" data-ref="ariaErrorEl" role="alert" aria-live="polite"',' class="x-hidden-clip">',"</div>","</div>",'<tpl if="renderError">','<div id="{id}-errorWrapEl" data-ref="errorWrapEl" class="{errorWrapCls} {errorWrapCls}-{ui}',' {errorWrapExtraCls}" style="{errorWrapStyle}">','<div role="presentation" id="{id}-errorEl" data-ref="errorEl" ','class="{errorMsgCls} {invalidMsgCls} {invalidMsgCls}-{ui}" ','data-anchorTarget="{tipAnchorTarget}">',"</div>","</div>","</tpl>",{disableFormats:true}],activeErrorsTpl:undefined,htmlActiveErrorsTpl:['<tpl if="errors && errors.length">','<ul class="{listCls}">','<tpl for="errors"><li>{.}</li></tpl>',"</ul>","</tpl>"],plaintextActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl for="errors"><tpl if="xindex &gt; 1">\n</tpl>{.}</tpl>',"</tpl>"],isFieldLabelable:true,formItemCls:"x-form-item",labelCls:"x-form-item-label",topLabelCls:"x-form-item-label-top",rightLabelCls:"x-form-item-label-right",labelInnerCls:"x-form-item-label-inner",topLabelSideErrorCls:"x-form-item-label-top-side-error",errorMsgCls:"x-form-error-msg",errorWrapCls:"x-form-error-wrap",errorWrapSideCls:"x-form-error-wrap-side",errorWrapUnderCls:"x-form-error-wrap-under",errorWrapUnderSideLabelCls:"x-form-error-wrap-under-side-label",baseBodyCls:"x-form-item-body",invalidIconCls:"x-form-invalid-icon",invalidUnderCls:"x-form-invalid-under",noLabelCls:"x-form-item-no-label",fieldBodyCls:"",invalidCls:"x-form-invalid",fieldLabel:undefined,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:false,hideEmptyLabel:true,preventMark:false,autoFitErrors:true,msgTarget:"qtip",msgTargets:{qtip:1,title:1,under:1,side:1,none:1},noWrap:true,labelableInsertions:["beforeBodyEl","afterBodyEl","beforeLabelTpl","afterLabelTpl","beforeSubTpl","afterSubTpl","beforeLabelTextTpl","afterLabelTextTpl","labelAttrTpl"],statics:{initTip:function(){var h=this.tip,i,g;if(h){return}i={id:"ext-form-error-tip",ui:"form-invalid"};if(Ext.supports.Touch){i.dismissDelay=0;i.anchor="top";i.showDelay=0;i.listeners={beforeshow:function(){this.minWidth=Ext.fly(this.anchorTarget).getWidth()}}}h=this.tip=Ext.create("Ext.tip.QuickTip",i);g=Ext.apply({},h.tagConfig);g.attribute="errorqtip";h.setTagConfig(g)},destroyTip:function(){this.tip=Ext.destroy(this.tip)}},initLabelable:function(){var g=this,e=g.padding;if(e){g.padding=undefined;g.extraMargins=Ext.Element.parseBox(e)}if(Ext.isIE8){g.restoreDisplay=Ext.Function.createDelayed(g.doRestoreDisplay,0,g)}if(!g.activeErrorsTpl){if(g.msgTarget==="title"){g.activeErrorsTpl=g.plaintextActiveErrorsTpl}else{g.activeErrorsTpl=g.htmlActiveErrorsTpl}}g.addCls([g.formItemCls,g.formItemCls+"-"+g.ui]);g.lastActiveError="";g.enableBubble("errorchange")},trimLabelSeparator:function(){var i=this,h=i.labelSeparator,k=i.fieldLabel||"",j=k.substr(k.length-1);return j===h?k.slice(0,-1):k},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(q){q=q||"";var p=this,n=p.labelSeparator,r=p.labelEl,s=p.errorWrapEl,l=(p.labelAlign!=="top"),t=p.noLabelCls,m=p.errorWrapUnderSideLabelCls;p.fieldLabel=q;if(p.rendered){if(Ext.isEmpty(q)&&p.hideEmptyLabel){p.addCls(t);if(l&&s){s.removeCls(m)}}else{if(n){q=p.trimLabelSeparator()+n}r.dom.firstChild.innerHTML=q;p.removeCls(t);if(l&&s){s.addCls(m)}}p.updateLayout()}},setHideLabel:function(g){var e=this;if(g!==e.hideLabel){e.hideLabel=g;if(e.rendered){e[g?"addCls":"removeCls"](e.noLabelCls);e.updateLayout()}}},setHideEmptyLabel:function(i){var g=this,h;if(i!==g.hideEmptyLabel){g.hideEmptyLabel=i;if(g.rendered&&!g.hideLabel){h=i&&!g.getFieldLabel();g[h?"addCls":"removeCls"](g.noLabelCls);g.updateLayout()}}},getInsertionRenderData:function(j,i){var l=i.length,m,k;while(l--){m=i[l];k=this[m];if(k){if(typeof k!=="string"){if(!k.isTemplate){k=Ext.XTemplate.getTpl(this,m)}k=k.apply(j)}}j[m]=k||""}return j},getLabelableRenderData:function(){var z=this,w=z.labelAlign,J=(w==="top"),C=(w==="right"),F=(z.msgTarget==="side"),I=(z.msgTarget==="under"),x=z.errorMsgCls,H=z.labelPad,A=z.labelWidth,M=z.labelClsExtra||"",G=F?z.errorWrapSideCls:z.errorWrapUnderCls,N="",D="",K=z.hasVisibleLabel(),B=z.autoFitErrors,E=z.defaultBodyWidth,L,y;if(J){M+=" "+z.topLabelCls;if(H){D="padding-bottom:"+H+"px;"}if(F&&!B){M+=" "+z.topLabelSideErrorCls}}else{if(C){M+=" "+z.rightLabelCls}if(H){N+=z.getHorizontalPaddingStyle()+H+"px;"}N+="width:"+(A+(H?H:0))+"px;";D="width:"+A+"px"}if(K){if(!J&&I){G+=" "+z.errorWrapUnderSideLabelCls}}if(E){L="min-width:"+E+"px;max-width:"+E+"px;"}y={id:z.id,inputId:z.getInputId(),labelCls:z.labelCls,labelClsExtra:M,labelStyle:N+(z.labelStyle||""),labelInnerStyle:D,labelInnerCls:z.labelInnerCls,unselectableCls:Ext.Element.unselectableCls,bodyStyle:L,baseBodyCls:z.baseBodyCls,fieldBodyCls:z.fieldBodyCls,extraFieldBodyCls:z.extraFieldBodyCls,errorWrapCls:z.errorWrapCls,errorWrapExtraCls:G,renderError:F||I,invalidMsgCls:F?z.invalidIconCls:I?z.invalidUnderCls:"",errorMsgCls:x,growCls:z.grow?z.growCls:"",tipAnchorTarget:z.id+"-inputEl",errorWrapStyle:(F&&!B)?"visibility:hidden":"display:none",fieldLabel:z.getFieldLabel(),labelSeparator:z.labelSeparator};z.getInsertionRenderData(y,z.labelableInsertions);return y},getHorizontalPaddingStyle:function(){return"padding-right:"},beforeLabelRender:function(){var d=this;d.setFieldDefaults(d.getInherited().fieldDefaults);if(d.ownerLayout){d.addCls("x-"+d.ownerLayout.type+"-form-item")}if(!d.hasVisibleLabel()){d.addCls(d.noLabelCls)}},onLabelRender:function(){var l=this,m={},j=Ext.Element,p=l.errorWrapEl,k,n;if(p){p.setVisibilityMode((l.msgTarget==="side"&&!l.autoFitErrors)?j.VISIBILITY:j.DISPLAY)}if(l.extraMargins){k=l.el.getMargin();for(n in k){if(k.hasOwnProperty(n)){m["margin-"+n]=(k[n]+l.extraMargins[n])+"px"}}l.el.setStyle(m)}},hasVisibleLabel:function(){if(this.hideLabel){return false}return !(this.hideEmptyLabel&&!this.getFieldLabel())},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return !!this.getActiveError()},setActiveError:function(d){this.setActiveErrors(d)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(q){var s=this,r=s.errorWrapEl,u=s.msgTarget,v=u==="side",n=u==="qtip",x,w,t,p;q=Ext.Array.from(q);t=s.getTpl("activeErrorsTpl");s.activeErrors=q;w=s.activeError=t.apply({fieldLabel:s.fieldLabel,errors:q,listCls:"x-list-plain"});s.renderActiveError();if(s.rendered){x=s.getActionEl();if(v){s.errorEl.dom.setAttribute("data-errorqtip",w)}else{if(n){x.dom.setAttribute("data-errorqtip",w)}else{if(u==="title"){x.dom.setAttribute("title",w)}}}if(u!=="title"){s.ariaErrorEl.dom.innerHTML=q.join(". ");x.dom.setAttribute("aria-describedby",s.ariaErrorEl.id)}if(v||n){Ext.form.Labelable.initTip()}if(!s.msgTargets[u]){p=Ext.get(u);if(p){p.dom.innerHTML=w}}}if(r){r.setVisible(q.length>0);if(v&&s.autoFitErrors){s.labelEl.addCls(s.topLabelSideErrorCls)}s.updateLayout()}},unsetActiveError:function(){var k=this,n=k.errorWrapEl,m=k.msgTarget,p=k.restoreDisplay,l,j;if(k.hasActiveError()){delete k.activeError;delete k.activeErrors;k.renderActiveError();if(k.rendered){l=k.getActionEl();if(m==="qtip"){l.dom.removeAttribute("data-errorqtip")}else{if(m==="title"){l.dom.removeAttribute("title")}}if(m!=="title"){k.ariaErrorEl.dom.innerHTML="";l.dom.removeAttribute("aria-describedby")}if(!k.msgTargets[m]){j=Ext.get(m);if(j){j.dom.innerHTML=""}}if(n){n.hide();if(m==="side"&&k.autoFitErrors){k.labelEl.removeCls(k.topLabelSideErrorCls)}k.updateLayout();if(p){k.el.dom.style.display="block";k.restoreDisplay()}}}}},doRestoreDisplay:function(){var d=this.el;if(d&&d.dom){d.dom.style.display=""}},renderActiveError:function(){var g=this,h=g.getActiveError(),i=!!h;if(h!==g.lastActiveError){g.lastActiveError=h;g.fireEvent("errorchange",g,h)}if(g.rendered&&!g.destroyed&&!g.preventMark){g.toggleInvalidCls(i);if(g.errorEl){g.errorEl.dom.innerHTML=h}}},toggleInvalidCls:function(d){this.el[d?"addCls":"removeCls"](this.invalidCls)},setFieldDefaults:function(e){var g;for(g in e){if(!this.hasOwnProperty(g)){this[g]=e[g]}}}},0,0,0,0,0,0,[Ext.form,"Labelable"],function(){if(Ext.supports.Touch){this.prototype.msgTarget="side"}}));(Ext.cmd.derive("Ext.form.field.Field",Ext.Base,{mixinId:"field",isFormField:true,config:{validation:null,validationField:null},disabled:false,submitValue:true,validateOnChange:true,valuePublishEvent:"change",suspendCheckChange:0,dirty:false,initField:function(){var h=this,i=h.valuePublishEvent,k,j;h.initValue();if(Ext.isString(i)){h.on(i,h.publishValue,h)}else{for(j=0,k=i.length;j<k;++j){h.on(i[j],h.publishValue,h)}}},initValue:function(){var d=this;if("value" in d){d.suspendCheckChange++;d.setValue(d.value);d.suspendCheckChange--}d.initialValue=d.originalValue=d.lastValue=d.getValue()},getFieldIdentifier:function(){return this.isEditorComponent?this.dataIndex:this.name},getName:function(){return this.name},getValue:function(){return this.value},setValue:function(e){var g=this;g.value=e;g.checkChange();return g},isEqual:function(e,g){return String(e)===String(g)},isEqualAsString:function(e,g){return String(Ext.valueFrom(e,""))===String(Ext.valueFrom(g,""))},getSubmitData:function(){var g=this,e=null;if(!g.disabled&&g.submitValue){e={};e[g.getName()]=""+g.getValue()}return e},getModelData:function(k,j){var i=this,h=null;if(!i.disabled&&(i.submitValue||!j)){h={};h[i.getFieldIdentifier()]=i.getValue()}return h},reset:function(){var d=this;d.beforeReset();d.setValue(d.originalValue);d.clearInvalid();delete d.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue();this.checkDirty()},checkChange:function(){var g=this,h,i;if(!g.suspendCheckChange){h=g.getValue();i=g.lastValue;if(!g.destroyed&&g.didValueChange(h,i)){g.lastValue=h;g.fireEvent("change",g,h,i);g.onChange(h,i)}}},didValueChange:function(e,g){return !this.isEqual(e,g)},onChange:function(g){var e=this;if(e.validateOnChange){e.validate()}e.checkDirty()},publishValue:function(){var d=this;if(d.rendered&&!d.getErrors().length){d.publishState("value",d.getValue())}},isDirty:function(){var d=this;return !d.disabled&&!d.isEqual(d.getValue(),d.originalValue)},checkDirty:function(){var g=this,e=g.isDirty();if(e!==g.wasDirty){g.dirty=e;g.fireEvent("dirtychange",g,e);g.onDirtyChange(e);g.wasDirty=e}},onDirtyChange:Ext.emptyFn,getErrors:function(j){var i=[],k=this.getValidationField(),l=this.getValidation(),m;if(k){m=k.validate(j);if(m!==true){i.push(m)}}if(l&&l!==true){i.push(l)}return i},isValid:function(){var d=this;return d.disabled||Ext.isEmpty(d.getErrors())},validate:function(){return this.checkValidityChange(this.isValid())},checkValidityChange:function(e){var g=this;if(e!==g.wasValid){g.wasValid=e;g.fireEvent("validitychange",g,e)}return e},batchChanges:function(g){try{this.suspendCheckChange++;g()}catch(e){throw e}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return false},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,updateValidation:function(g,e){if(e){this.validate()}},privates:{resetToInitialValue:function(){var e=this,g=e.originalValue;e.originalValue=e.initialValue;e.reset();e.originalValue=g}}},0,0,0,0,0,0,[Ext.form.field,"Field"],0));(Ext.cmd.derive("Ext.form.field.Base",Ext.Component,{alternateClassName:["Ext.form.Field","Ext.form.BaseField"],focusable:true,shrinkWrap:true,fieldSubTpl:['<input id="{id}" data-ref="inputEl" type="{type}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>','<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {editableCls} {inputCls}" autocomplete="off"/>',{disableFormats:true}],defaultBindProperty:"value",autoEl:{role:"presentation"},subTplInsertions:["inputAttrTpl"],childEls:["inputEl"],inputType:"text",isTextInput:true,invalidText:"The value in this field is invalid",fieldCls:"x-form-field",focusCls:"form-focus",dirtyCls:"x-form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<=9)?["change","propertychange","keyup"]:["change","input","textInput","keyup","dragdrop"],ignoreChangeRe:/data\-errorqtip|style\.|className/,checkChangeBuffer:50,liquidLayout:true,readOnly:false,readOnlyCls:"x-form-readonly",validateOnBlur:true,hasFocus:false,baseCls:"x-field",fieldBodyCls:"x-field-body",maskOnDisable:false,stretchInputElFixed:true,ariaEl:"inputEl",initComponent:function(){var d=this;Ext.Component.prototype.initComponent.call(this);d.subTplData=d.subTplData||{};d.initLabelable();d.initField();d.initDefaultName();if(d.readOnly){d.addCls(d.readOnlyCls)}d.addCls("x-form-type-"+d.inputType)},initDefaultName:function(){var d=this;if(!d.name){d.name=d.getInputId()}},getInputId:function(){return this.inputId||(this.inputId=this.id+"-inputEl")},getSubTplData:function(m){var k=this,l=k.inputType,p=k.getInputId(),j,n;j=Ext.apply({ui:k.ui,id:p,cmpId:k.id,name:k.name||p,disabled:k.disabled,readOnly:k.readOnly,value:k.getRawValue(),type:l,fieldCls:k.fieldCls,fieldStyle:k.getFieldStyle(),childElCls:m.childElCls,tabIdx:k.tabIndex,inputCls:k.inputCls,typeCls:"x-form-"+(k.isTextInput?"text":l)},k.subTplData);if(k.ariaRole){n={role:k.ariaRole,"aria-hidden":!!k.hidden,"aria-disabled":!!k.disabled,"aria-readonly":!!k.readOnly,"aria-invalid":false};if(k.ariaLabel){n["aria-label"]=k.ariaLabel}if(k.format&&k.formatText&&!j.title){n.title=Ext.String.formatEncode(k.formatText,k.format)}j.inputElAriaAttributes=Ext.apply(n,k.getAriaAttributes())}k.getInsertionRenderData(j,k.subTplInsertions);return j},getSubTplMarkup:function(n){var m=this,l=m.getSubTplData(n),k=m.getTpl("preSubTpl"),j=m.getTpl("postSubTpl"),p="";if(k){p+=k.apply(l)}p+=m.getTpl("fieldSubTpl").apply(l);if(j){p+=j.apply(l)}return p},initRenderData:function(){return Ext.applyIf(Ext.Component.prototype.initRenderData.call(this),this.getLabelableRenderData())},setFieldStyle:function(i){var h=this,g=h.inputEl;if(g){g.applyStyles(i)}h.fieldStyle=i},getFieldStyle:function(){var d=this.fieldStyle;return Ext.isObject(d)?Ext.DomHelper.generateStyles(d,null,true):d||""},onRender:function(){this.callParent(arguments);this.mixins.labelable.self.initTip();this.renderActiveError()},onFocusLeave:function(d){Ext.Component.prototype.onFocusLeave.call(this,d);this.completeEdit()},completeEdit:Ext.emptyFn,isFileUpload:function(){return this.inputType==="file"},getSubmitData:function(){var i=this,h=null,g;if(!i.disabled&&i.submitValue){g=i.getSubmitValue();if(g!==null){h={};h[i.getName()]=g}}return h},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var e=this,g=(e.inputEl?e.inputEl.getValue():Ext.valueFrom(e.rawValue,""));e.rawValue=g;return g},setRawValue:function(g){var i=this,h=i.rawValue;if(!i.transformRawValue.$nullFn){g=i.transformRawValue(g)}g=Ext.valueFrom(g,"");if(h===undefined||h!==g||i.valueContainsPlaceholder){i.rawValue=g;if(i.inputEl){i.bindChangeEvents(false);i.inputEl.dom.value=g;i.bindChangeEvents(true)}if(i.rendered&&i.reference){i.publishState("rawValue",g)}}return g},transformRawValue:Ext.identityFn,valueToRaw:function(d){return""+Ext.valueFrom(d,"")},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,getValue:function(){var g=this,e=g.rawToValue(g.processRawValue(g.getRawValue()));g.value=e;return e},setValue:function(e){var g=this;g.setRawValue(g.valueToRaw(e));return g.mixins.field.setValue.call(g,e)},onBoxReady:function(){var d=this;Ext.Component.prototype.onBoxReady.apply(this,arguments);if(d.setReadOnlyOnBoxReady){d.setReadOnly(d.readOnly)}},onDisable:function(){var g=this,e=g.inputEl;Ext.Component.prototype.onDisable.call(this);if(e){e.dom.disabled=true;if(g.hasActiveError()){g.clearInvalid();g.hadErrorOnDisable=true}}if(g.wasValid===false){g.checkValidityChange(true)}},onEnable:function(){var j=this,i=j.inputEl,h=j.preventMark,k;Ext.Component.prototype.onEnable.call(this);if(i){i.dom.disabled=false}if(j.wasValid!==undefined){j.forceValidation=true;j.preventMark=!j.hadErrorOnDisable;k=j.isValid();j.forceValidation=false;j.preventMark=h;j.checkValidityChange(k)}delete j.hadErrorOnDisable},setReadOnly:function(h){var j=this,i=j.inputEl,k=j.readOnly;h=!!h;j[h?"addCls":"removeCls"](j.readOnlyCls);j.readOnly=h;if(i){i.dom.readOnly=h;j.ariaEl.dom.setAttribute("aria-readonly",h)}else{if(j.rendering){j.setReadOnlyOnBoxReady=true}}if(h!==k){j.fireEvent("writeablechange",j,h)}},fireKey:function(d){if(d.isSpecialKey()){this.fireEvent("specialkey",this,d)}},initEvents:function(){var m=this,i=m.inputEl,l=m.onFieldMutation,p=m.checkChangeEvents,r=p.length,q,n;if(i){m.mon(i,Ext.supports.SpecialKeyDownRepeat?"keydown":"keypress",m.fireKey,m);for(q=0;q<r;++q){n=p[q];if(n==="propertychange"){m.usesPropertychange=true}if(n==="textInput"){m.usesTextInput=true}m.mon(i,n,l,m)}}Ext.Component.prototype.initEvents.call(this)},onFieldMutation:function(d){if(!this.readOnly&&!(d.type==="propertychange"&&this.ignoreChangeRe.test(d.browserEvent.propertyName))){this.startCheckChangeTask()}},startCheckChangeTask:function(){var e=this,g=e.checkChangeTask;if(!g){e.checkChangeTask=g=new Ext.util.DelayedTask(e.doCheckChangeTask,e)}if(!e.bindNotifyListener){e.bindNotifyListener=Ext.on("beforebindnotify",e.onBeforeNotify,e,{destroyable:true})}g.delay(e.checkChangeBuffer)},doCheckChangeTask:function(){var d=this.bindNotifyListener;if(d){d.destroy();this.bindNotifyListener=null}this.checkChange()},publishValue:function(){var d=this;if(d.rendered&&!d.getErrors().length){d.publishState("value",d.getValue())}},onDirtyChange:function(e){var g=this;g[e?"addCls":"removeCls"](g.dirtyCls);if(g.rendered&&g.reference){g.publishState("dirty",e)}},isValid:function(){var h=this,i=h.disabled,g=h.forceValidation||!i;return g?h.validateValue(h.processRawValue(h.getRawValue())):i},validateValue:function(j){var k=this,h=k.getErrors(j),i=Ext.isEmpty(h);if(!k.preventMark){if(i){k.clearInvalid()}else{k.markInvalid(h)}}return i},markInvalid:function(i){var k=this,m=k.ariaEl.dom,l=k.getActiveError(),j;k.setActiveErrors(Ext.Array.from(i));j=k.getActiveError();if(l!==j){k.setError(j);if(!k.ariaStaticRoles[k.ariaRole]&&m){m.setAttribute("aria-invalid",true)}}},clearInvalid:function(){var g=this,i=g.ariaEl.dom,h=g.hasActiveError();delete g.hadErrorOnDisable;g.unsetActiveError();if(h){g.setError("");if(!g.ariaStaticRoles[g.ariaRole]&&i){i.setAttribute("aria-invalid",false)}}},setError:function(k){var i=this,j=i.msgTarget,h;if(i.rendered){if(j==="title"||j==="qtip"){h=j==="qtip"?"data-errorqtip":"title";i.getActionEl().dom.setAttribute(h,k||"")}else{i.updateLayout()}}},renderActiveError:function(){var g=this,h=g.hasActiveError(),i=g.invalidCls+"-field";if(g.inputEl){g.inputEl[h?"addCls":"removeCls"]([i,i+"-"+g.ui])}g.mixins.labelable.renderActiveError.call(g)},beforeDestroy:function(){var e=this,g=e.checkChangeTask;if(g){g.cancel()}e.checkChangeTask=e.bindNotifyListener=Ext.destroy(e.bindNotifyListener);Ext.Component.prototype.beforeDestroy.call(this)},privates:{applyBind:function(j,m){var n=this,p=m&&m.value,k,l;k=Ext.Component.prototype.applyBind.call(this,j,m);if(k){l=k.value;n.hasBindingValue=!!l;if(l!==p&&n.getInherited().modelValidation){n.updateValueBinding(k)}}return k},applyRenderSelectors:function(){var d=this;Ext.Component.prototype.applyRenderSelectors.call(this);if(!d.inputEl){d.inputEl=d.el.getById(d.getInputId())}},bindChangeEvents:function(h){var g=h?"resumeEvent":"suspendEvent",i=this.inputEl;if(this.usesPropertychange){i[g]("propertychange")}if(this.usesTextInput){i[g]("textInput")}},getActionEl:function(){return this.inputEl||this.el},getFocusEl:function(){return this.inputEl},initRenderTpl:function(){var d=this;if(!d.hasOwnProperty("renderTpl")){d.renderTpl=d.getTpl("labelableRenderTpl")}return Ext.Component.prototype.initRenderTpl.call(this)},onBeforeNotify:function(){this.checkChangeTask.cancel();this.checkChange()},updateValueBinding:function(h){var i=this,j=h.value,k=h.$fieldBinding;if(k){k.destroy();h.$fieldBinding=null}if(j&&j.bindValidationField){i.fieldBinding=j.bindValidationField("setValidationField",i)}}},deprecated:{"5":{methods:{doComponentLayout:function(){this.bindChangeEvents(false);this.callParent(arguments);this.bindChangeEvents(true)}}}}},0,["field"],["component","box","field"],{component:true,box:true,field:true},["widget.field"],[[Ext.form.Labelable.prototype.mixinId||Ext.form.Labelable.$className,Ext.form.Labelable],[Ext.form.field.Field.prototype.mixinId||Ext.form.field.Field.$className,Ext.form.field.Field]],[Ext.form.field,"Base",Ext.form,"Field",Ext.form,"BaseField"],0));(Ext.cmd.derive("Ext.form.field.VTypes",Ext.Base,(function(){var i=/^[a-zA-Z_]+$/,h=/^[a-zA-Z0-9_]+$/,j=/^(")?(?:[^\."\s])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,k=/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i;return{singleton:true,alternateClassName:"Ext.form.VTypes",email:function(c){return j.test(c)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[\w.\-@'"!#$%&'*+/=?^_`{|}~]/i,url:function(c){return k.test(c)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(c){return i.test(c)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(c){return h.test(c)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}()),0,0,0,0,0,0,[Ext.form.field,"VTypes",Ext.form,"VTypes"],0));(Ext.cmd.derive("Ext.form.trigger.Trigger",Ext.Base,{factoryConfig:{defaultType:"trigger"},repeatClick:false,hidden:false,hideOnReadOnly:undefined,weight:0,preventMouseDown:true,baseCls:"x-form-trigger",focusCls:"x-form-trigger-focus",overCls:"x-form-trigger-over",clickCls:"x-form-trigger-click",validIdRe:Ext.validIdRe,renderTpl:['<div id="{triggerId}" class="{baseCls} {baseCls}-{ui} {cls} {cls}-{ui} {extraCls} ','{childElCls}"<tpl if="triggerStyle"> style="{triggerStyle}"</tpl>>',"{[values.$trigger.renderBody(values)]}","</div>"],statics:{weightComparator:function(g,e){return g.weight-e.weight}},constructor:function(h){var g=this,i;Ext.apply(g,h);if(g.compat4Mode){i=g.cls;g.focusCls=[g.focusCls,i+"-focus"];g.overCls=[g.overCls,i+"-over"];g.clickCls=[g.clickCls,i+"-click"]}},afterFieldRender:function(){this.initEvents()},destroy:function(){var d=this;d.clickRepeater=d.el=Ext.destroy(d.clickRepeater,d.el);d.callParent()},getBodyRenderData:Ext.emptyFn,getEl:function(){return this.el||null},getStateEl:function(){return this.el},hide:function(){var e=this,g=e.el;e.hidden=true;if(g){g.hide()}},initEvents:function(){var h=this,k=h.isFieldEnabled,i=h.getStateEl(),j=h.el;i.addClsOnOver(h.overCls,k,h);i.addClsOnClick(h.clickCls,k,h);if(h.repeatClick){h.clickRepeater=new Ext.util.ClickRepeater(j,{preventDefault:true,handler:h.onClick,listeners:{mousedown:h.onClickRepeaterMouseDown,scope:h},scope:h})}else{h.field.mon(j,{click:h.onClick,mousedown:h.onMouseDown,scope:h})}},isFieldEnabled:function(){return !this.field.disabled},isVisible:function(){var i=this,g=i.field,h=false;if(i.hidden||!g||!i.rendered||i.destroyed){h=true}return !h},onClick:function(){var k=this,m=arguments,e=k.clickRepeater?m[1]:m[0],l=k.handler,j=k.field;if(l&&!j.readOnly&&k.isFieldEnabled()){Ext.callback(k.handler,k.scope,[j,k,e],0,j)}},resolveListenerScope:function(d){return this.field.resolveSatelliteListenerScope(this,d)},onMouseDown:function(d){if(d.pointerType!=="touch"&&!this.field.owns(Ext.Element.getActiveElement())){this.field.inputEl.focus()}if(this.preventMouseDown){d.preventDefault()}},onClickRepeaterMouseDown:function(e,g){if(!g.parentEvent||g.parentEvent.type==="mousedown"){this.field.inputEl.focus()}g.preventDefault()},onFieldBlur:function(){this.getStateEl().removeCls(this.focusCls)},onFieldFocus:function(){this.getStateEl().addCls(this.focusCls)},onFieldRender:function(){var e=this,g=e.el=e.field.triggerWrap.selectNode("#"+e.domId,false);g.setVisibilityMode(Ext.Element.DISPLAY);e.rendered=true},renderBody:function(h){var i=this,g=i.bodyTpl;Ext.apply(h,i.getBodyRenderData());return g?Ext.XTemplate.getTpl(i,"bodyTpl").apply(h):""},renderTrigger:function(k){var i=this,j=i.width,h=i.hidden?"display:none;":"";if(j){h+="width:"+j}return Ext.XTemplate.getTpl(i,"renderTpl").apply({$trigger:i,fieldData:k,ui:k.ui,childElCls:k.childElCls,triggerId:i.domId=i.field.id+"-trigger-"+i.id,cls:i.cls,triggerStyle:h,extraCls:i.extraCls,baseCls:i.baseCls})},setHidden:function(d){if(d!==this.hidden){this[d?"hide":"show"]()}},setVisible:function(d){this.setHidden(!d)},show:function(){var e=this,g=e.el;e.hidden=false;if(g){g.show()}}},1,0,0,0,["trigger.trigger"],[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.form.trigger,"Trigger"],0));(Ext.cmd.derive("Ext.form.field.Text",Ext.form.field.Base,{alternateClassName:["Ext.form.TextField","Ext.form.Text"],config:{hideTrigger:false,triggers:undefined},renderConfig:{editable:true},growMin:30,growMax:800,growAppend:"W",allowBlank:true,validateBlank:false,allowOnlyWhitespace:true,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyText:"",emptyCls:"x-form-empty-field",requiredCls:"x-form-required-field",valueContainsPlaceholder:false,ariaRole:"textbox",repeatTriggerClick:false,triggerWrapCls:"x-form-trigger-wrap",triggerWrapFocusCls:"x-form-trigger-wrap-focus",triggerWrapInvalidCls:"x-form-trigger-wrap-invalid",fieldBodyCls:"x-form-text-field-body",inputWrapCls:"x-form-text-wrap",inputWrapFocusCls:"x-form-text-wrap-focus",inputWrapInvalidCls:"x-form-text-wrap-invalid",growCls:"x-form-text-grow",needArrowKeys:true,squashMouseUp:{mouseup:function(){},translate:false,single:true,preventDefault:true},childEls:["triggerWrap","inputWrap"],preSubTpl:['<div id="{cmpId}-triggerWrap" data-ref="triggerWrap"',' role="presentation" class="{triggerWrapCls} {triggerWrapCls}-{ui}">','<div id={cmpId}-inputWrap data-ref="inputWrap"',' role="presentation" class="{inputWrapCls} {inputWrapCls}-{ui}">'],postSubTpl:["</div>",'<tpl for="triggers">{[values.renderTrigger(parent)]}</tpl>',"</div>"],initComponent:function(){var e=this,g=e.emptyCls;if(e.allowOnlyWhitespace===false){e.allowBlank=false}if(e.size){e.defaultBodyWidth=e.size*6.5+20}if(!e.onTrigger1Click){e.onTrigger1Click=e.onTriggerClick}Ext.form.field.Base.prototype.initComponent.call(this);if(e.readOnly){e.setReadOnly(e.readOnly)}e.fieldFocusCls=e.baseCls+"-focus";e.emptyUICls=g+" "+g+"-"+e.ui;e.addStateEvents("change")},initEvents:function(){var e=this,g=e.inputEl;Ext.form.field.Base.prototype.initEvents.call(this);if(e.selectOnFocus||e.emptyText){e.mon(g,"mousedown",e.onMouseDown,e)}if(e.maskRe||(e.vtype&&e.disableKeyFilter!==true&&(e.maskRe=Ext.form.field.VTypes[e.vtype+"Mask"]))){e.mon(g,"keypress",e.filterKeys,e)}if(e.enableKeyEvents){e.mon(g,{scope:e,keyup:e.onKeyUp,keydown:e.onKeyDown,keypress:e.onKeyPress})}},isEqual:function(e,g){return this.isEqualAsString(e,g)},onChange:function(e,g){Ext.form.field.Base.prototype.onChange.apply(this,arguments);this.autoSize()},getSubTplData:function(r){var q=this,n=q.getRawValue(),l=q.emptyText&&n.length<1,t=q.maxLength,m,p,s;if(q.enforceMaxLength){if(t===Number.MAX_VALUE){t=undefined}}else{t=undefined}if(l){if(Ext.supports.Placeholder){m=q.emptyText}else{n=q.emptyText;q.valueContainsPlaceholder=true}}p=Ext.apply(Ext.form.field.Base.prototype.getSubTplData.call(this,r),{triggerWrapCls:q.triggerWrapCls,inputWrapCls:q.inputWrapCls,triggers:q.orderedTriggers,maxLength:t,readOnly:!q.editable||q.readOnly,placeholder:m,value:n,fieldCls:q.fieldCls+((l&&(m||n))?" "+q.emptyUICls:"")+(q.allowBlank?"":" "+q.requiredCls)});s=p.inputElAriaAttributes;if(s){s["aria-required"]=!q.allowBlank}return p},onRender:function(){var k=this,l=k.getTriggers(),j=[],i,m;if(Ext.supports.FixedTableWidthBug){k.el._needsTableWidthFix=true}(arguments.callee.$previous||Ext.form.field.Base.prototype.onRender).call(this);if(l){this.invokeTriggers("onFieldRender");for(i in l){j.push(l[i].el)}m=k.triggerEl=k.triggerCell=new Ext.CompositeElement(j,true)}k.inputCell=k.inputWrap},afterRender:function(){var d=this;d.autoSize();Ext.form.field.Base.prototype.afterRender.call(this);d.invokeTriggers("afterFieldRender")},onMouseDown:function(){if(!this.hasFocus){Ext.getDoc().on(this.squashMouseUp)}},applyTriggers:function(t){var s=this,x=s.getHideTrigger(),q=s.readOnly,i=s.orderedTriggers=[],r=s.repeatTriggerClick,y,u,w,z,v;if(!t){t={};if(s.triggerCls&&!s.trigger1Cls){s.trigger1Cls=s.triggerCls}for(v=1;z=s["trigger"+v+"Cls"];v++){t["trigger"+v]={cls:z,extraCls:"x-trigger-index-"+v,handler:"onTrigger"+v+"Click",compat4Mode:true,scope:s}}}for(y in t){if(t.hasOwnProperty(y)){u=t[y];u.field=s;u.id=y;if((q&&u.hideOnReadOnly!==false)||(x&&u.hidden!==false)){u.hidden=true}if(r&&(u.repeatClick!==false)){u.repeatClick=true}w=t[y]=Ext.form.trigger.Trigger.create(u);i.push(w)}}Ext.Array.sort(i,Ext.form.trigger.Trigger.weightComparator);return t},invokeTriggers:function(p,m){var k=this,l=k.getTriggers(),j,n;if(l){for(j in l){if(l.hasOwnProperty(j)){n=l[j];n[p].apply(n,m||[])}}}},getTrigger:function(d){return this.getTriggers()[d]},updateHideTrigger:function(d){this.invokeTriggers(d?"hide":"show")},updateEditable:function(g,e){this.setReadOnlyAttr(!g||this.readOnly)},setReadOnly:function(j){var l=this,m=l.getTriggers(),n=l.getHideTrigger(),p,k;j=!!j;Ext.form.field.Base.prototype.setReadOnly.call(this,j);if(l.rendered){l.setReadOnlyAttr(j||!l.editable)}if(m){for(k in m){p=m[k];if(p.hideOnReadOnly===true||(p.hideOnReadOnly!==false&&!n)){p.setVisible(!j)}}}},setReadOnlyAttr:function(h){var j=this,k="readonly",i=j.inputEl.dom;if(h){i.setAttribute(k,k)}else{i.removeAttribute(k)}if(j.ariaRole){j.ariaEl.dom.setAttribute("aria-readonly",!!h)}},processRawValue:function(k){var l=this,i=l.stripCharsRe,m,j;if(i){if(!i.global){m="g";m+=(i.ignoreCase)?"i":"";m+=(i.multiline)?"m":"";i=new RegExp(i.source,m)}j=k.replace(i,"");if(j!==k){l.setRawValue(j);k=j}}return k},onDisable:function(){Ext.form.field.Base.prototype.onDisable.call(this);if(Ext.isIE){this.inputEl.dom.unselectable="on"}},onEnable:function(){Ext.form.field.Base.prototype.onEnable.call(this);if(Ext.isIE){this.inputEl.dom.unselectable=""}},onKeyDown:function(d){this.fireEvent("keydown",this,d)},onKeyUp:function(d){this.fireEvent("keyup",this,d)},onKeyPress:function(d){this.fireEvent("keypress",this,d)},reset:function(){Ext.form.field.Base.prototype.reset.call(this);this.applyEmptyText()},applyEmptyText:function(){var h=this,i=h.emptyText,g;if(h.rendered&&i){g=h.getRawValue().length<1&&!h.hasFocus;if(Ext.supports.Placeholder){h.inputEl.dom.placeholder=i}else{if(g){h.setRawValue(i);h.valueContainsPlaceholder=true}}if(g){h.inputEl.addCls(h.emptyUICls)}else{h.inputEl.removeCls(h.emptyUICls)}h.autoSize()}},getEmptyText:function(){return this.emptyText},setEmptyText:function(j){var k=this,i=k.inputEl,l=i&&i.dom,m=j||"";if(j){k.emptyText=m;k.applyEmptyText()}else{if(l){if(Ext.supports.Placeholder){l.removeAttribute("placeholder")}else{if(l.value!==k.getRawValue()){l.value="";i.removeCls(k.emptyUICls)}}k.valueContainsPlaceholder=false}}k.emptyText=m;return k},afterFirstLayout:function(){Ext.form.field.Base.prototype.afterFirstLayout.call(this);if(Ext.isIE&&this.disabled){var d=this.inputEl;if(d){d.dom.unselectable="on"}}},toggleInvalidCls:function(g){var e=g?"addCls":"removeCls";Ext.form.field.Base.prototype.toggleInvalidCls.call(this);this.triggerWrap[e](this.triggerWrapInvalidCls);this.inputWrap[e](this.inputWrapInvalidCls)},beforeFocus:function(){var j=this,i=j.inputEl,k=j.emptyText,h;Ext.form.field.Base.prototype.beforeFocus.apply(this,arguments);if((k&&!Ext.supports.Placeholder)&&(i.dom.value===j.emptyText&&j.valueContainsPlaceholder)){j.setRawValue("");h=true;i.removeCls(j.emptyUICls);j.valueContainsPlaceholder=false}else{if(Ext.supports.Placeholder){i.removeCls(j.emptyUICls)}}},onFocus:function(e){var g=this;Ext.form.field.Base.prototype.onFocus.apply(this,arguments);if(g.selectOnFocus){g.inputEl.dom.select()}if(g.emptyText){g.autoSize()}g.addCls(g.fieldFocusCls);g.triggerWrap.addCls(g.triggerWrapFocusCls);g.inputWrap.addCls(g.inputWrapFocusCls);g.invokeTriggers("onFieldFocus",[e])},onBlur:function(e){var g=this;Ext.form.field.Base.prototype.onBlur.apply(this,arguments);g.removeCls(g.fieldFocusCls);g.triggerWrap.removeCls(g.triggerWrapFocusCls);g.inputWrap.removeCls(g.inputWrapFocusCls);g.invokeTriggers("onFieldBlur",[e])},completeEdit:function(d){Ext.form.field.Base.prototype.completeEdit.call(this,d);this.applyEmptyText()},filterKeys:function(e){if((e.ctrlKey&&!e.altKey)||e.isSpecialKey()){return}var g=String.fromCharCode(e.getCharCode());if(!this.maskRe.test(g)){e.stopEvent()}},getState:function(){return this.addPropertyToState(Ext.form.field.Base.prototype.getState.call(this),"value")},applyState:function(d){Ext.form.field.Base.prototype.applyState.apply(this,arguments);if(d.hasOwnProperty("value")){this.setValue(d.value)}},getRawValue:function(){var e=this,g=Ext.form.field.Base.prototype.getRawValue.call(this);if(g===e.emptyText&&e.valueContainsPlaceholder){g=""}return g},setValue:function(h){var i=this,g=i.inputEl;if(g&&i.emptyText&&!Ext.isEmpty(h)){g.removeCls(i.emptyUICls);i.valueContainsPlaceholder=false}Ext.form.field.Base.prototype.setValue.apply(this,arguments);i.applyEmptyText();return i},getErrors:function(p){p=arguments.length?(p==null?"":p):this.processRawValue(this.getRawValue());var u=this,r=Ext.form.field.Base.prototype.getErrors.call(this,p),z=u.validator,w=u.vtype,t=Ext.form.field.VTypes,s=u.regex,q=Ext.String.format,y,v,x;if(Ext.isFunction(z)){y=z.call(u,p);if(y!==true){r.push(y)}}v=u.allowOnlyWhitespace?p:Ext.String.trim(p);if(v.length<1||(p===u.emptyText&&u.valueContainsPlaceholder)){if(!u.allowBlank){r.push(u.blankText)}if(!u.validateBlank){return r}x=true}if(!x&&p.length<u.minLength){r.push(q(u.minLengthText,u.minLength))}if(p.length>u.maxLength){r.push(q(u.maxLengthText,u.maxLength))}if(w){if(!t[w](p,u)){r.push(u.vtypeText||t[w+"Text"])}}if(s&&!s.test(p)){r.push(u.regexText||u.invalidText)}return r},selectText:function(k,q){var l=this,n=l.getRawValue(),r=n.length,m=l.inputEl.dom,p;if(r>0){k=k===undefined?0:Math.min(k,r);q=q===undefined?r:Math.min(q,r);if(m.setSelectionRange){m.setSelectionRange(k,q)}else{if(m.createTextRange){p=m.createTextRange();p.moveStart("character",k);p.moveEnd("character",q-r);p.select()}}}},getGrowWidth:function(){return this.inputEl.dom.value},autoSize:function(){var p=this,q,k,m,l,r,n;if(p.grow&&p.rendered&&p.getSizeModel().width.auto){l=p.inputEl;q=p.getTriggers();m=0;n=Ext.util.Format.htmlEncode(p.getGrowWidth()||(p.hasFocus?"":p.emptyText)||"");n+=p.growAppend;for(k in q){m+=q[k].el.getWidth()}r=l.getTextWidth(n)+m+p.inputWrap.getBorderWidth("lr")+p.triggerWrap.getBorderWidth("lr");r=Math.min(Math.max(r,p.growMin),p.growMax);p.bodyEl.setWidth(r);p.updateLayout();p.fireEvent("autosize",p,r)}},onDestroy:function(){var d=this;d.invokeTriggers("destroy");Ext.destroy(d.triggerRepeater);Ext.form.field.Base.prototype.onDestroy.call(this)},onTriggerClick:Ext.emptyFn,privates:{getTdType:function(){return"textfield"}},deprecated:{5:{methods:{getTriggerWidth:function(){var h=this.getTriggers(),i=0,g;if(h&&this.rendered){for(g in h){if(h.hasOwnProperty(g)){i+=h[g].el.getWidth()}}}return i}}}}},0,["textfield"],["component","box","field","textfield"],{component:true,box:true,field:true,textfield:true},["widget.textfield"],0,[Ext.form.field,"Text",Ext.form,"TextField",Ext.form,"Text"],0));(Ext.cmd.derive("Ext.form.field.TextArea",Ext.form.field.Text,{alternateClassName:"Ext.form.TextArea",fieldSubTpl:['<textarea id="{id}" data-ref="inputEl" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {inputCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>','<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>',"</textarea>",{disableFormats:true}],growMin:60,growMax:1000,growAppend:"\n-",enterIsSpecial:false,preventScrollbars:false,returnRe:/\r/g,inputCls:"x-form-textarea",extraFieldBodyCls:"x-form-textarea-body",ariaAttributes:{"aria-multiline":true},getSubTplData:function(j){var h=this,i=h.getFieldStyle(),k=Ext.form.field.Text.prototype.getSubTplData.apply(this,arguments);if(h.grow){if(h.preventScrollbars){k.fieldStyle=(i||"")+";overflow:hidden;height:"+h.growMin+"px"}}return k},afterRender:function(){var d=this;Ext.form.field.Text.prototype.afterRender.apply(this,arguments);d.needsMaxCheck=d.enforceMaxLength&&d.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength;if(d.needsMaxCheck){d.inputEl.on("paste",d.onPaste,d)}},transformRawValue:function(d){return this.stripReturns(d)},getValue:function(){return this.stripReturns(Ext.form.field.Text.prototype.getValue.call(this))},valueToRaw:function(d){d=this.stripReturns(d);return Ext.form.field.Text.prototype.valueToRaw.call(this,d)},stripReturns:function(d){if(d&&typeof d==="string"){d=d.replace(this.returnRe,"")}return d},onPaste:function(){var d=this;if(!d.pasteTask){d.pasteTask=new Ext.util.DelayedTask(d.pasteCheck,d)}d.pasteTask.delay(1)},pasteCheck:function(){var h=this,g=h.getValue(),i=h.maxLength;if(g.length>i){g=g.substr(0,i);h.setValue(g)}},fireKey:function(e){var j=this,k=e.getKey(),i;if(e.isSpecialKey()&&(j.enterIsSpecial||(k!==e.ENTER||e.hasModifier()))){j.fireEvent("specialkey",j,e)}if(j.needsMaxCheck&&k!==e.BACKSPACE&&k!==e.DELETE&&!e.isNavKeyPress()&&!j.isCutCopyPasteSelectAll(e,k)){i=j.getValue();if(i.length>=j.maxLength){e.stopEvent()}}},isCutCopyPasteSelectAll:function(e,g){if(e.ctrlKey){return g===e.A||g===e.C||g===e.V||g===e.X}return false},autoSize:function(){var k=this,i,m,l,j;if(k.grow&&k.rendered&&k.getSizeModel().height.auto){i=k.inputEl;l=i.getWidth(true);j=Ext.util.Format.htmlEncode(i.dom.value)||"&#160;";j+=k.growAppend;j=j.replace(/\n/g,"<br/>");m=Ext.util.TextMetrics.measure(i,j,l).height+i.getPadding("tb")+k.inputWrap.getBorderWidth("tb")+k.triggerWrap.getBorderWidth("tb");m=Math.min(Math.max(m,k.growMin),k.growMax);k.bodyEl.setHeight(m);k.updateLayout();k.fireEvent("autosize",k,m)}},beforeDestroy:function(){var d=this.pasteTask;if(d){d.cancel();this.pasteTask=null}Ext.form.field.Text.prototype.beforeDestroy.call(this)}},0,["textarea","textareafield"],["component","box","field","textfield","textareafield","textarea"],{component:true,box:true,field:true,textfield:true,textareafield:true,textarea:true},["widget.textarea","widget.textareafield"],0,[Ext.form.field,"TextArea",Ext.form,"TextArea"],0));(Ext.cmd.derive("Ext.window.MessageBox",Ext.window.Window,{OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:"x-message-box-info",WARNING:"x-message-box-warning",QUESTION:"x-message-box-question",ERROR:"x-message-box-error",hideMode:"offsets",closeAction:"hide",resizable:false,scrollable:true,title:"&#160;",defaultMinWidth:250,defaultMaxWidth:600,defaultMinHeight:110,defaultMaxHeight:500,minWidth:null,maxWidth:null,minHeight:null,maxHeight:null,constrain:true,cls:["x-message-box","x-hidden-offsets"],layout:{type:"vbox",align:"stretch"},shrinkWrapDock:true,defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},baseIconCls:"x-message-box-icon",ariaRole:"alertdialog",makeButton:function(g){var e=this.buttonIds[g];return new Ext.button.Button({handler:this.btnCallback,itemId:e,scope:this,text:this.buttonText[e],minWidth:75})},btnCallback:function(m,k){var l=this,j,i;if(k&&k.type==="keydown"&&!k.isSpecialKey()){k.getTarget(null,null,true).on({keyup:function(c){l.btnCallback(m,c)},single:true});return}if(l.cfg.prompt||l.cfg.multiline){if(l.cfg.multiline){i=l.textArea}else{i=l.textField}j=i.getValue();i.reset()}l.hide();l.userCallback(m.itemId,j,l.cfg)},hide:function(){var e=this,g=e.cfg?e.cfg.cls:"";e.progressBar.reset();if(g){e.removeCls(g)}Ext.window.Window.prototype.hide.apply(this,arguments)},constructor:function(g){var e=this;Ext.window.Window.prototype.constructor.apply(this,arguments);e.minWidth=e.defaultMinWidth=(e.minWidth||e.defaultMinWidth);e.maxWidth=e.defaultMaxWidth=(e.maxWidth||e.defaultMaxWidth);e.minHeight=e.defaultMinHeight=(e.minHeight||e.defaultMinHeight);e.maxHeight=e.defaultMaxHeight=(e.maxHeight||e.defaultMaxHeight)},initComponent:function(m){var i=this,l=i.id,j,k;i.title=i.title||"&#160;";i.iconCls=i.iconCls||"";i.topContainer=new Ext.container.Container({layout:"hbox",padding:10,style:{overflow:"hidden"},items:[i.iconComponent=new Ext.Component({cls:i.baseIconCls}),i.promptContainer=new Ext.container.Container({flex:1,layout:{type:"vbox",align:"stretch"},items:[i.msg=new Ext.Component({id:l+"-msg",cls:i.baseCls+"-text"}),i.textField=new Ext.form.field.Text({id:l+"-textfield",enableKeyEvents:true,listeners:{keydown:i.onPromptKey,scope:i}}),i.textArea=new Ext.form.field.TextArea({id:l+"-textarea",height:75})]})]});i.progressBar=new Ext.ProgressBar({id:l+"-progressbar",margin:"0 10 10 10"});i.items=[i.topContainer,i.progressBar];i.msgButtons=[];for(j=0;j<4;j++){k=i.makeButton(j);i.msgButtons[k.itemId]=k;i.msgButtons.push(k)}i.bottomTb=new Ext.toolbar.Toolbar({id:l+"-toolbar",ui:"footer",dock:"bottom",layout:{pack:"center"},items:[i.msgButtons[0],i.msgButtons[1],i.msgButtons[2],i.msgButtons[3]]});i.dockedItems=[i.bottomTb];i.on("close",i.onClose,i);Ext.window.Window.prototype.initComponent.call(this)},onClose:function(){var d=this.header.child("[type=close]");if(d){d.itemId="cancel";this.btnCallback(d);delete d.itemId}},onPromptKey:function(i,e){var h=this;if(e.keyCode===e.RETURN||e.keyCode===10){if(h.msgButtons.ok.isVisible()){h.msgButtons.ok.handler.call(h,h.msgButtons.ok)}else{if(h.msgButtons.yes.isVisible()){h.msgButtons.yes.handler.call(h,h.msgButtons.yes)}}}},reconfigure:function(P){var A=this,D=0,M=true,z=A.buttonText,N=A.resizer,F=A.header,B=F&&!F.isHeader,O=P&&(P.message||P.msg),i,H,K,E,C,L,Q,J,G,I,R;A.updateButtonText();A.cfg=P=P||{};I=P.wait;if(P.width){H=P.width}if(P.height){K=P.height}A.minWidth=P.minWidth||A.defaultMinWidth;A.maxWidth=P.maxWidth||A.defaultMaxWidth;A.minHeight=P.minHeight||A.defaultMinHeight;A.maxHeight=P.maxHeight||A.defaultMaxHeight;if(N){i=N.resizeTracker;N.minWidth=i.minWidth=A.minWidth;N.maxWidth=i.maxWidth=A.maxWidth;N.minHeight=i.minHeight=A.minHeight;N.maxHeight=i.maxHeight=A.maxHeight}delete A.defaultFocus;if(P.defaultFocus){A.defaultFocus=P.defaultFocus}A.animateTarget=P.animateTarget||undefined;A.modal=P.modal!==false;A.setTitle(P.title||(B&&F.title)||A.title);A.setIconCls(P.iconCls||(B&&F.iconCls)||A.iconCls);if(Ext.isObject(P.buttons)){A.buttonText=P.buttons;D=0}else{A.buttonText=P.buttonText||A.buttonText;D=Ext.isNumber(P.buttons)?P.buttons:0}D=D|A.updateButtonText();A.buttonText=z;Ext.suspendLayouts();A.width=A.height=null;if(H||K){if(H){A.setWidth(H)}if(K){A.setHeight(K)}}A.hidden=false;if(!A.rendered){A.render(Ext.getBody())}A.closable=P.closable!==false&&!I;F=A.header;if(F){R=F.child("[type=close]");if(R){R.setVisible(A.closable)}if(!P.title&&!A.closable&&!P.iconCls){F.hide()}else{F.show()}}A.liveDrag=!P.proxyDrag;A.userCallback=Ext.Function.bindCallback(P.callback||P.fn||Ext.emptyFn,P.scope||Ext.global);A.setIcon(P.icon);Q=A.msg;if(O){Q.setHtml(O);Q.show()}else{Q.hide()}C=A.textArea;L=A.textField;if(P.prompt||P.multiline){A.multiline=P.multiline;if(P.multiline){C.setValue(P.value);C.setHeight(P.defaultTextHeight||A.defaultTextHeight);C.show();L.hide();A.defaultFocus=C}else{L.setValue(P.value);C.hide();L.show();A.defaultFocus=L}}else{C.hide();L.hide()}J=A.progressBar;if(P.progress||I){J.show();A.updateProgress(0,P.progressText);if(I){J.wait(I===true?P.waitConfig:I)}}else{J.hide()}G=A.msgButtons;for(E=0;E<4;E++){if(D&Math.pow(2,E)){if(!A.defaultFocus){A.defaultFocus=G[E]}G[E].show();M=false}else{G[E].hide()}}if(M){A.bottomTb.hide()}else{A.bottomTb.show()}Ext.resumeLayouts(true)},updateButtonText:function(){var j=this,k=j.buttonText,l=0,i,m;for(i in k){if(k.hasOwnProperty(i)){m=j.msgButtons[i];if(m){if(j.cfg&&j.cfg.buttonText){l=l|Math.pow(2,Ext.Array.indexOf(j.buttonIds,i))}if(m.text!==k[i]){m.setText(k[i])}}}}return l},show:function(i){var g=this,h;i=i||{};if(Ext.Component.layoutSuspendCount){Ext.on({resumelayouts:function(){g.show(i)},single:true});return g}g.reconfigure(i);if(i.cls){g.addCls(i.cls)}h=g.query("textfield:not([hidden]),textarea:not([hidden]),button:not([hidden])");g.preventFocusOnActivate=!h.length;g.hidden=true;Ext.window.Window.prototype.show.call(this);return g},onShow:function(){Ext.window.Window.prototype.onShow.apply(this,arguments);this.center()},updateText:function(d){this.msg.setHtml(d)},setIcon:function(l,m,p){var k=this,j=k.iconComponent,n=k.messageIconCls;if(n){j.removeCls(n)}if(l){j.show();if(m||p){j.setSize(m||j.getWidth(),p||j.getHeight())}j.addCls("x-dlg-icon");j.addCls(k.messageIconCls=l)}else{j.removeCls("x-dlg-icon");j.hide()}return k},updateProgress:function(g,i,h){this.progressBar.updateProgress(g,i);if(h){this.updateText(h)}return this},onEsc:function(){if(this.closable!==false){Ext.window.Window.prototype.onEsc.apply(this,arguments)}},confirm:function(k,h,i,j){if(Ext.isString(k)){k={title:k,icon:this.QUESTION,message:h,buttons:this.YESNO,callback:i,scope:j}}return this.show(k)},prompt:function(j,l,m,n,p,k){if(Ext.isString(j)){j={prompt:true,title:j,minWidth:this.minPromptWidth,message:l,buttons:this.OKCANCEL,callback:m,scope:n,multiline:p,value:k}}return this.show(j)},wait:function(h,g,i){if(Ext.isString(h)){h={title:g,message:h,closable:false,wait:true,modal:true,minWidth:this.minProgressWidth,waitConfig:i}}return this.show(h)},alert:function(h,i,j,k){if(Ext.isString(h)){h={title:h,message:i,buttons:this.OK,fn:j,scope:k,minWidth:this.minWidth}}return this.show(h)},progress:function(g,h,i){if(Ext.isString(g)){g={title:g,message:h,progress:true,progressText:i}}return this.show(g)}},1,["messagebox"],["component","box","container","panel","window","messagebox"],{component:true,box:true,container:true,panel:true,window:true,messagebox:true},["widget.messagebox"],0,[Ext.window,"MessageBox"],function(d){Ext.onInternalReady(function(){Ext.MessageBox=Ext.Msg=new d()})}));(Ext.cmd.derive("Ext.form.Basic",Ext.util.Observable,{alternateClassName:"Ext.form.BasicForm",taskDelay:10,constructor:function(j,i){var h=this,k;h.owner=j;h.fieldMonitors={validitychange:h.checkValidityDelay,enable:h.checkValidityDelay,disable:h.checkValidityDelay,dirtychange:h.checkDirtyDelay,errorchange:h.checkErrorDelay,scope:h};h.checkValidityTask=new Ext.util.DelayedTask(h.checkValidity,h);h.checkDirtyTask=new Ext.util.DelayedTask(h.checkDirty,h);h.checkErrorTask=new Ext.util.DelayedTask(h.checkError,h);h.monitor=new Ext.container.Monitor({selector:"[isFormField]:not([excludeForm])",scope:h,addHandler:h.onFieldAdd,removeHandler:h.onFieldRemove,invalidateHandler:h.onMonitorInvalidate});h.monitor.bind(j);Ext.apply(h,i);if(Ext.isString(h.paramOrder)){h.paramOrder=h.paramOrder.split(/[\s,|]/)}k=h.reader;if(k&&!k.isReader){if(typeof k==="string"){k={type:k}}h.reader=Ext.createByAlias("reader."+k.type,k)}k=h.errorReader;if(k&&!k.isReader){if(typeof k==="string"){k={type:k}}h.errorReader=Ext.createByAlias("reader."+k.type,k)}Ext.util.Observable.prototype.constructor.call(this)},initialize:function(){this.initialized=true;this.onValidityChange(!this.hasInvalidField())},timeout:30,paramsAsHash:false,waitTitle:"Please Wait...",trackResetOnLoad:false,wasDirty:false,destroy:function(){var e=this,g=e.monitor;if(g){g.unbind();e.monitor=null}e.clearListeners();e.checkValidityTask.cancel();e.checkDirtyTask.cancel();e.checkErrorTask.cancel();e.checkValidityTask=e.checkDirtyTask=e.checkErrorTask=null;Ext.util.Observable.prototype.destroy.call(this)},onFieldAdd:function(d){d.on(this.fieldMonitors);this.onMonitorInvalidate()},onFieldRemove:function(d){d.un(this.fieldMonitors);this.onMonitorInvalidate()},onMonitorInvalidate:function(){if(this.initialized){this.checkValidityDelay()}},getFields:function(){return this.monitor.getItems()},getBoundItems:function(){var d=this._boundItems;if(!d||d.getCount()===0){d=this._boundItems=new Ext.util.MixedCollection();d.addAll(this.owner.query("[formBind]"))}return d},hasInvalidField:function(){return !!this.getFields().findBy(function(g){var i=g.preventMark,h;g.preventMark=true;h=g.isValid();g.preventMark=i;return !h})},isValid:function(){var g=this,e;Ext.suspendLayouts();e=g.getFields().filterBy(function(c){return !c.validate()});Ext.resumeLayouts(true);return e.length<1},checkValidity:function(){var e=this,g;if(e.destroyed){return}g=!e.hasInvalidField();if(g!==e.wasValid){e.onValidityChange(g);e.fireEvent("validitychange",e,g);e.wasValid=g}},checkValidityDelay:function(){var d=this.taskDelay;if(d){this.checkValidityTask.delay(d)}else{this.checkValidity()}},checkError:function(){this.fireEvent("errorchange",this)},checkErrorDelay:function(){var d=this.taskDelay;if(d){this.checkErrorTask.delay(d)}else{this.checkError()}},onValidityChange:function(i){var l=this.getBoundItems(),n,m,p,k;if(l){n=l.items;p=n.length;for(m=0;m<p;m++){k=n[m];if(k.disabled===i){k.setDisabled(!i)}}}},isDirty:function(){return !!this.getFields().findBy(function(d){return d.isDirty()})},checkDirtyDelay:function(){var d=this.taskDelay;if(d){this.checkDirtyTask.delay(d)}else{this.checkDirty()}},checkDirty:function(){var e=this,g;if(e.destroyed){return}g=this.isDirty();if(g!==this.wasDirty){this.fireEvent("dirtychange",this,g);this.wasDirty=g}},hasUpload:function(){return !!this.getFields().findBy(function(d){return d.isFileUpload()})},doAction:function(e,g){if(Ext.isString(e)){e=Ext.ClassManager.instantiateByAlias("formaction."+e,Ext.apply({},g,{form:this}))}if(this.fireEvent("beforeaction",this,e)!==false){this.beforeAction(e);Ext.defer(e.run,100,e)}return this},submit:function(i){i=i||{};var h=this,g;if(i.standardSubmit||h.standardSubmit){g="standardsubmit"}else{g=h.api?"directsubmit":"submit"}return h.doAction(g,i)},load:function(d){return this.doAction(this.api?"directload":"load",d)},updateRecord:function(p){p=p||this._record;if(!p){return this}var q=p.self.fields,n=this.getFieldValues(),i={},l=0,r=q.length,m;for(;l<r;++l){m=q[l].name;if(n.hasOwnProperty(m)){i[m]=n[m]}}p.beginEdit();p.set(i);p.endEdit();return this},loadRecord:function(d){this._record=d;return this.setValues(d.getData())},getRecord:function(){return this._record},beforeAction:function(t){var q=this,u=t.waitMsg,m="x-mask-loading",s=q.getFields().items,r,n=s.length,p,v;for(r=0;r<n;r++){p=s[r];if(p.isFormField&&p.syncValue){p.syncValue()}}if(u){v=q.waitMsgTarget;if(v===true){q.owner.el.mask(u,m)}else{if(v){v=q.waitMsgTarget=Ext.get(v);v.mask(u,m)}else{q.floatingAncestor=q.owner.up("[floating]");if(q.floatingAncestor){q.savePreventFocusOnActivate=q.floatingAncestor.preventFocusOnActivate;q.floatingAncestor.preventFocusOnActivate=true}Ext.MessageBox.wait(u,t.waitTitle||q.waitTitle)}}}},afterAction:function(k,i){var m=this;if(k.waitMsg){var l=Ext.MessageBox,j=m.waitMsgTarget;if(j===true){m.owner.el.unmask()}else{if(j){j.unmask()}else{l.hide()}}}if(m.floatingAncestor){m.floatingAncestor.preventFocusOnActivate=m.savePreventFocusOnActivate}if(i){if(k.reset){m.reset()}Ext.callback(k.success,k.scope||k,[m,k]);m.fireEvent("actioncomplete",m,k)}else{Ext.callback(k.failure,k.scope||k,[m,k]);m.fireEvent("actionfailed",m,k)}},findField:function(d){return this.getFields().findBy(function(c){return c.id===d||c.name===d||c.dataIndex===d})},markInvalid:function(e){var q=this,n,t,s,p,r;function m(d,g){var c=q.findField(d);if(c){c.markInvalid(g)}}if(Ext.isArray(e)){t=e.length;for(n=0;n<t;n++){s=e[n];m(s.id||s.field,s.msg||s.message)}}else{if(e instanceof Ext.data.ErrorCollection){t=e.items.length;for(n=0;n<t;n++){s=e.items[n];m(s.field,s.message)}}else{for(r in e){if(e.hasOwnProperty(r)){p=e[r];m(r,p,e)}}}}return this},setValues:function(n){var l=this,p,m,j;function k(e,c){var d=l.findField(e);if(d){d.setValue(c);if(l.trackResetOnLoad){d.resetOriginalValue()}}}Ext.suspendLayouts();if(Ext.isArray(n)){m=n.length;for(p=0;p<m;p++){j=n[p];k(j.id,j.value)}}else{Ext.iterate(n,k)}Ext.resumeLayouts(true);return this},getValues:function(y,x,t,v,E){var u={},A=this.getFields().items,H=A.length,B=Ext.isArray,w,C,D,F,G,z;for(z=0;z<H;z++){w=A[z];if(!x||w.isDirty()){C=w[v?"getModelData":"getSubmitData"](t,E);if(Ext.isObject(C)){for(G in C){if(C.hasOwnProperty(G)){D=C[G];if(t&&D===""){D=w.emptyText||""}if(!w.isRadio){if(u.hasOwnProperty(G)){F=u[G];if(!B(F)){F=u[G]=[F]}if(B(D)){u[G]=F.concat(D)}else{F.push(D)}}else{u[G]=D}}else{u[G]=u[G]||D}}}}}}if(y){u=Ext.Object.toQueryString(u)}return u},getFieldValues:function(d){return this.getValues(false,d,false,true)},clearInvalid:function(){Ext.suspendLayouts();var j=this,k=j.getFields().items,i,h=k.length;for(i=0;i<h;i++){k[i].clearInvalid()}Ext.resumeLayouts(true);return j},reset:function(l){Ext.suspendLayouts();var k=this,m=k.getFields().items,j,i=m.length;for(j=0;j<i;j++){m[j].reset()}Ext.resumeLayouts(true);if(l===true){delete k._record}return k},applyToFields:function(i){var k=this.getFields().items,j,h=k.length;for(j=0;j<h;j++){Ext.apply(k[j],i)}return this},applyIfToFields:function(i){var k=this.getFields().items,j,h=k.length;for(j=0;j<h;j++){Ext.applyIf(k[j],i)}return this}},1,0,0,0,0,0,[Ext.form,"Basic",Ext.form,"BasicForm"],0));(Ext.cmd.derive("Ext.form.FieldAncestor",Ext.Mixin,{mixinConfig:{id:"fieldAncestor",after:{initInheritedState:"initFieldInheritedState"},before:{destroy:"onBeforeDestroy"}},initFieldAncestor:function(){var d=this;d.monitor=new Ext.container.Monitor({scope:d,selector:"[isFormField]:not([excludeForm])",addHandler:d.onChildFieldAdd,removeHandler:d.onChildFieldRemove});d.initFieldDefaults()},initMonitor:function(){this.monitor.bind(this)},initFieldInheritedState:function(h){var i=h.fieldDefaults,g=this.fieldDefaults;if(g){if(i){h.fieldDefaults=Ext.apply(Ext.Object.chain(i),g)}else{h.fieldDefaults=g}}},onChildFieldAdd:function(e){var g=this;g.mon(e,"errorchange",g.handleFieldErrorChange,g);g.mon(e,"validitychange",g.handleFieldValidityChange,g)},onChildFieldRemove:function(e){var g=this;g.mun(e,"errorchange",g.handleFieldErrorChange,g);g.mun(e,"validitychange",g.handleFieldValidityChange,g)},initFieldDefaults:function(){if(!this.fieldDefaults){this.fieldDefaults={}}},handleFieldValidityChange:function(g,h){var i=this;if(g!==i){i.fireEvent("fieldvaliditychange",i,g,h);i.onFieldValidityChange(g,h)}},handleFieldErrorChange:function(h,i){var g=this;if(h!==g){g.fireEvent("fielderrorchange",g,h,i);g.onFieldErrorChange(h,i)}},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn,onBeforeDestroy:function(){this.monitor.unbind()}},0,0,0,0,0,0,[Ext.form,"FieldAncestor"],0));(Ext.cmd.derive("Ext.layout.component.field.FieldContainer",Ext.layout.component.Auto,{type:"fieldcontainer",waitForOuterHeightInDom:true,waitForOuterWidthInDom:true,beginLayout:function(e){var g=this.owner.containerEl;Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);e.hasRawContent=true;g.setStyle("width","");g.setStyle("height","");e.containerElContext=e.getEl("containerEl")},measureContentHeight:function(d){return d.hasDomProp("containerLayoutDone")?Ext.layout.component.Auto.prototype.measureContentHeight.apply(this,arguments):NaN},measureContentWidth:function(d){return d.hasDomProp("containerLayoutDone")?Ext.layout.component.Auto.prototype.measureContentWidth.apply(this,arguments):NaN},publishInnerHeight:function(g,h){var i=this.owner;if(i.labelAlign==="top"&&i.hasVisibleLabel()){h-=i.labelEl.getHeight()}if(i.msgTarget==="under"&&i.hasActiveError()){h-=i.errorWrapEl.getHeight()}h-=i.bodyEl.getPadding("tb");g.containerElContext.setHeight(h)},publishInnerWidth:function(g,h){var i=this.owner;if(i.labelAlign!=="top"&&i.hasVisibleLabel()){h-=(i.labelWidth+(i.labelPad||0))}if(i.msgTarget==="side"&&i.hasActiveError()){h-=i.errorWrapEl.getWidth()}h-=i.bodyEl.getPadding("lr");g.containerElContext.setWidth(h)}},0,0,0,0,["layout.fieldcontainer"],0,[Ext.layout.component.field,"FieldContainer"],0));(Ext.cmd.derive("Ext.form.FieldContainer",Ext.container.Container,{componentLayout:"fieldcontainer",componentCls:"x-form-fieldcontainer",shrinkWrap:true,autoEl:{tag:"div",role:"presentation"},childEls:["containerEl"],combineLabels:false,labelConnector:", ",combineErrors:false,maskOnDisable:false,invalidCls:"",fieldSubTpl:['<div id="{id}-containerEl" data-ref="containerEl" class="{containerElCls}"','<tpl if="ariaAttributes">','<tpl foreach="ariaAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",">","{%this.renderContainer(out,values)%}","</div>"],initComponent:function(){var d=this;d.initLabelable();d.initFieldAncestor();Ext.container.Container.prototype.initComponent.call(this);d.initMonitor()},onAdd:function(g){var e=this;if(g.isLabelable&&Ext.isGecko&&Ext.firefoxVersion<37&&e.layout.type==="absolute"&&!e.hideLabel&&e.labelAlign!=="top"){g.x+=(e.labelWidth+e.labelPad)}Ext.container.Container.prototype.onAdd.apply(this,arguments);if(g.isLabelable&&e.combineLabels){g.oldHideLabel=g.hideLabel;g.hideLabel=true}e.updateLabel()},onRemove:function(i,h){var g=this;Ext.container.Container.prototype.onRemove.apply(this,arguments);if(!h){if(i.isLabelable&&g.combineLabels){i.hideLabel=i.oldHideLabel}g.updateLabel()}},initRenderData:function(){var g=this,e=Ext.container.Container.prototype.initRenderData.call(this);e.containerElCls=g.containerElCls;e=Ext.applyIf(e,g.getLabelableRenderData());e.tipAnchorTarget=g.id+"-containerEl";return e},getFieldLabel:function(){var d=this.fieldLabel||"";if(!d&&this.combineLabels){d=Ext.Array.map(this.query("[isFieldLabelable]"),function(c){return c.getFieldLabel()}).join(this.labelConnector)}return d},getSubTplData:function(){var d=this.initRenderData();Ext.apply(d,this.subTplData);return d},getSubTplMarkup:function(j){var h=this,k=h.getTpl("fieldSubTpl"),i;if(!k.renderContent){h.setupRenderTpl(k)}i=k.apply(h.getSubTplData(j));return i},updateLabel:function(){var e=this,g=e.labelEl;if(g){e.setFieldLabel(e.getFieldLabel())}},onFieldErrorChange:function(){if(this.combineErrors){var i=this,h=i.getActiveError(),j=Ext.Array.filter(i.query("[isFormField]"),function(c){return c.hasActiveError()}),k=i.getCombinedErrors(j);if(k){i.setActiveErrors(k)}else{i.unsetActiveError()}if(h!==i.getActiveError()){i.updateLayout()}}},getCombinedErrors:function(u){var p=[],w,n=u.length,r,v,q,x,t,s;for(w=0;w<n;w++){r=u[w];v=r.getActiveErrors();x=v.length;for(q=0;q<x;q++){t=v[q];s=r.getFieldLabel();p.push((s?s+": ":"")+t)}}return p},privates:{applyTargetCls:function(e){var g=this.containerElCls;this.containerElCls=g?g+" "+e:e},getTargetEl:function(){return this.containerEl},initRenderTpl:function(){var d=this;if(!d.hasOwnProperty("renderTpl")){d.renderTpl=d.getTpl("labelableRenderTpl")}return Ext.container.Container.prototype.initRenderTpl.call(this)}}},0,["fieldcontainer"],["component","box","container","fieldcontainer"],{component:true,box:true,container:true,fieldcontainer:true},["widget.fieldcontainer"],[["labelable",Ext.form.Labelable],["fieldAncestor",Ext.form.FieldAncestor]],[Ext.form,"FieldContainer"],0));(Ext.cmd.derive("Ext.layout.container.CheckboxGroup",Ext.layout.container.Container,{autoFlex:true,type:"checkboxgroup",createsInnerCt:true,childEls:["innerCt"],renderTpl:['<table id="{ownerId}-innerCt" data-ref="innerCt" class="x-table-plain" cellpadding="0"','role="presentation" style="{tableStyle}"><tr role="presentation">','<tpl for="columns">','<td class="{parent.colCls}" valign="top" style="{style}" role="presentation">',"{% this.renderColumn(out,parent,xindex-1) %}","</td>","</tpl>","</tr></table>"],lastOwnerItemsGeneration:null,beginLayout:function(y){var r=this,v,w,t,z,s,u=0,i=0,q=r.autoFlex,x=r.innerCt.dom.style;Ext.layout.container.Container.prototype.beginLayout.apply(this,arguments);v=r.columnNodes;y.innerCtContext=y.getEl("innerCt",r);if(!y.widthModel.shrinkWrap){w=v.length;if(r.columnsArray){for(t=0;t<w;t++){z=r.owner.columns[t];if(z<1){u+=z;i++}}for(t=0;t<w;t++){z=r.owner.columns[t];if(z<1){s=((z/u)*100)+"%"}else{s=z+"px"}v[t].style.width=s}}else{for(t=0;t<w;t++){s=q?(1/w*100)+"%":"";v[t].style.width=s;i++}}if(!i){x.tableLayout="fixed";x.width=""}else{if(i<w){x.tableLayout="fixed";x.width="100%"}else{x.tableLayout="auto";if(q){x.width="100%"}else{x.width=""}}}}else{x.tableLayout="auto";x.width=""}},cacheElements:function(){var d=this;Ext.layout.container.Container.prototype.cacheElements.call(this);d.rowEl=d.innerCt.down("tr");d.columnNodes=d.rowEl.dom.childNodes},calculate:function(m){var p=this,r,s,t,l,q,n;if(!m.getDomProp("containerChildrenSizeDone")){p.done=false}else{r=m.innerCtContext;s=m.widthModel.shrinkWrap;t=m.heightModel.shrinkWrap;l=t||s;q=r.el.dom;n=l&&r.getPaddingInfo();if(s){m.setContentWidth(q.offsetWidth+n.width,true)}if(t){m.setContentHeight(q.offsetHeight+n.height,true)}}},doRenderColumn:function(A,t,y){var w=t.$layout,B=w.owner,z=t.columnCount,x=B.items.items,C=x.length,s,D,v,u,r;if(B.vertical){v=Math.ceil(C/z);D=y*v;C=Math.min(C,D+v);u=1}else{D=y;u=z}for(;D<C;D+=u){s=x[D];w.configureItem(s);r=s.getRenderTree();Ext.DomHelper.generateMarkup(r,A)}},getColumnCount:function(){var h=this,i=h.owner,g=i.columns;if(h.columnsArray){return g.length}if(Ext.isNumber(g)){return g}return i.items.length},getItemSizePolicy:function(d){return this.autoSizePolicy},getRenderData:function(){var r=this,u=Ext.layout.container.Container.prototype.getRenderData.call(this),y=r.owner,t,w=r.getColumnCount(),z,x,s,q=r.autoFlex,v=0,i=0;if(r.columnsArray){for(t=0;t<w;t++){z=r.owner.columns[t];if(z<1){v+=z;i++}}}u.colCls=y.groupCls;u.columnCount=w;u.columns=[];for(t=0;t<w;t++){x=(u.columns[t]={});if(r.columnsArray){z=r.owner.columns[t];if(z<1){s=((z/v)*100)+"%"}else{s=z+"px"}x.style="width:"+s}else{x.style="width:"+(1/w*100)+"%";i++}}u.tableStyle=!i?"table-layout:fixed;":(i<w)?"table-layout:fixed;width:100%":(q)?"table-layout:auto;width:100%":"table-layout:auto;";return u},initLayout:function(){var e=this,g=e.owner;e.columnsArray=Ext.isArray(g.columns);e.autoColumns=!g.columns||g.columns==="auto";e.vertical=g.vertical;Ext.layout.container.Container.prototype.initLayout.call(this)},isValidParent:Ext.returnTrue,setupRenderTpl:function(d){Ext.layout.container.Container.prototype.setupRenderTpl.apply(this,arguments);d.renderColumn=this.doRenderColumn},renderChildren:function(){var g=this,e=g.owner.items.generation;if(g.lastOwnerItemsGeneration!==e){g.lastOwnerItemsGeneration=e;g.renderItems(g.getLayoutItems())}},renderItems:function(r){var q=this,v=r.length,u,i,n,s,p,t;if(v){Ext.suspendLayouts();if(q.autoColumns){q.addMissingColumns(v)}s=q.columnNodes.length;n=Math.ceil(v/s);for(u=0;u<v;u++){i=r[u];p=q.getRenderRowIndex(u,n,s);t=q.getRenderColumnIndex(u,n,s);if(!i.rendered){q.renderItem(i,p,t)}else{if(!q.isItemAtPosition(i,p,t)){q.moveItem(i,p,t)}}}if(q.autoColumns){q.removeExceedingColumns(v)}Ext.resumeLayouts(true)}},isItemAtPosition:function(h,g,i){return h.el.dom===this.getNodeAt(g,i)},getRenderColumnIndex:function(h,i,g){if(this.vertical){return Math.floor(h/i)}else{return h%g}},getRenderRowIndex:function(j,k,h){var i=this;if(i.vertical){return j%k}else{return Math.floor(j/h)}},getNodeAt:function(e,g){return this.columnNodes[g].childNodes[e]},addMissingColumns:function(r){var l=this,p=l.columnNodes.length,m,i,q,n;if(p<r){m=r-p;i=l.rowEl;q=l.owner.groupCls;for(n=0;n<m;n++){i.createChild({cls:q,tag:"td",vAlign:"top",role:"presentation"})}}},removeExceedingColumns:function(p){var k=this,n=k.columnNodes.length,l,i,m;if(n>p){l=n-p;i=k.rowEl;for(m=0;m<l;m++){i.last().destroy()}}},renderItem:function(i,h,k){var j=this;j.configureItem(i);i.render(Ext.get(j.columnNodes[k]),h)},moveItem:function(l,j,n){var m=this,p=m.columnNodes[n],k=p.childNodes[j];p.insertBefore(l.el.dom,k||null)}},0,0,0,0,["layout.checkboxgroup"],0,[Ext.layout.container,"CheckboxGroup"],0));(Ext.cmd.derive("Ext.form.CheckboxManager",Ext.util.MixedCollection,{singleton:true,getByName:function(g,e){return this.filterBy(function(c){return c.name===g&&c.getFormId()===e})}},0,0,0,0,0,0,[Ext.form,"CheckboxManager"],0));(Ext.cmd.derive("Ext.form.field.Checkbox",Ext.form.field.Base,{alternateClassName:"Ext.form.Checkbox",stretchInputElFixed:false,childEls:["boxLabelEl","innerWrapEl","displayEl"],fieldSubTpl:['<div id="{cmpId}-innerWrapEl" data-ref="innerWrapEl" role="presentation"',' class="{wrapInnerCls}">','<tpl if="labelAlignedBefore">',"{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" data-ref="boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {noBoxLabelCls} {childElCls}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",'<input type="button" id="{id}" name="{inputName}" data-ref="inputEl" {inputAttrTpl}','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{checkboxCls} {clipCls}" autocomplete="off" hidefocus="true" ','<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',"/>",'<span id="{cmpId}-displayEl" data-ref="displayEl" class="{fieldCls} {typeCls} ','{typeCls}-{ui} {inputCls} {inputCls}-{ui} {childElCls} {afterLabelCls}"></span>','<tpl if="!labelAlignedBefore">',"{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" data-ref="boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {noBoxLabelCls} {childElCls}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>","</div>",{disableFormats:true,compiled:true}],publishes:{checked:1},subTplInsertions:["beforeBoxLabelTpl","afterBoxLabelTpl","beforeBoxLabelTextTpl","afterBoxLabelTextTpl","boxLabelAttrTpl","inputAttrTpl"],isCheckbox:true,focusCls:"form-checkbox-focus",fieldBodyCls:"x-form-cb-wrap",checked:false,checkedCls:"x-form-cb-checked",boxLabelCls:"x-form-cb-label",boxLabelAlign:"after",afterLabelCls:"x-form-cb-after",wrapInnerCls:"x-form-cb-wrap-inner",noBoxLabelCls:"x-form-cb-no-box-label",inputValue:"on",checkChangeEvents:[],inputType:"checkbox",isTextInput:false,ariaRole:"checkbox",onRe:/^on$/i,inputCls:"x-form-cb",_checkboxCls:"x-form-cb-input",_clipCls:"x-hidden-clip",initComponent:function(){var g=this,e=g.value;if(e!==undefined){g.checked=g.isChecked(e,g.inputValue)}Ext.form.field.Base.prototype.initComponent.call(this);g.getManager().add(g)},initDefaultName:Ext.emptyFn,initValue:function(){var e=this,g=!!e.checked;e.originalValue=e.lastValue=g;e.setValue(g)},getElConfig:function(){var d=this;if(d.isChecked(d.rawValue,d.inputValue)){d.addCls(d.checkedCls)}return Ext.form.field.Base.prototype.getElConfig.call(this)},getSubTplData:function(q){var n=this,p=n.boxLabel,k=n.boxLabelAlign,l=k==="before",m,r;m=Ext.apply(Ext.form.field.Base.prototype.getSubTplData.call(this,q),{clipCls:n._clipCls,checkboxCls:n._checkboxCls,disabled:n.readOnly||n.disabled,wrapInnerCls:n.wrapInnerCls,boxLabel:p,boxLabelCls:n.boxLabelCls,boxLabelAlign:k,labelAlignedBefore:l,afterLabelCls:l?n.afterLabelCls:"",noBoxLabelCls:!p?n.noBoxLabelCls:"",inputName:n.name||n.id});r=m.inputElAriaAttributes;if(r){r["aria-checked"]=!!n.checked;r["aria-labelledby"]=n.id+"-boxLabelEl"}return m},initEvents:function(){var d=this;Ext.form.field.Base.prototype.initEvents.call(this);d.inputEl.on({click:"onBoxClick",scope:d,translate:false});d.displayEl.on({click:"onBoxClick",mousedown:"_onDisplayElMouseDown",scope:d})},setBoxLabel:function(g){var e=this;e.boxLabel=g;if(e.rendered){e.boxLabelEl.setHtml(g);e.boxLabelEl[g?"removeCls":"addCls"](e.noBoxLabelCls);e.updateLayout()}},onBoxClick:function(){var d=this;if(!d.disabled&&!d.readOnly){d.setValue(!d.checked)}},getRawValue:function(){return this.checked},getValue:function(){return this.checked},getSubmitValue:function(){var g=this.uncheckedValue,e=Ext.isDefined(g)?g:null;return this.checked?this.inputValue:e},isChecked:function(e,g){return(e===true||e==="true"||e==="1"||e===1||(((Ext.isString(e)||Ext.isNumber(e))&&g)?e==g:this.onRe.test(e)))},setRawValue:function(k){var l=this,j=l.inputEl,i=l.displayEl,m=l.isChecked(k,l.inputValue);if(j){l[m?"addCls":"removeCls"](l.checkedCls);if(l.ariaRole){l.ariaEl.dom.setAttribute("aria-checked",m)}}if(Ext.isIE8&&i&&m!==l.lastValue){i.repaint()}l.checked=l.rawValue=m;if(!l.duringSetValue){l.lastValue=m}return m},setValue:function(i){var k=this,m,n,p,l;if(Ext.isArray(i)){m=k.getManager().getByName(k.name,k.getFormId()).items;p=m.length;for(n=0;n<p;++n){l=m[n];l.setValue(Ext.Array.contains(i,l.inputValue))}}else{k.duringSetValue=true;Ext.form.field.Base.prototype.setValue.apply(this,arguments);delete k.duringSetValue}return k},valueToRaw:Ext.identityFn,onChange:function(j,k){var h=this,i=h.handler;if(i){Ext.callback(i,h.scope,[h,j],0,h)}Ext.form.field.Base.prototype.onChange.apply(this,arguments);if(h.reference&&h.publishState){h.publishState("checked",j)}},resetOriginalValue:function(n){var i=this,l,k,p,m;if(!n){l=i.getManager().getByName(i.name,i.getFormId()).items;p=l.length;for(m=0;m<p;++m){k=l[m];if(k!==i){l[m].resetOriginalValue(true)}}}Ext.form.field.Base.prototype.resetOriginalValue.call(this)},beforeDestroy:function(){Ext.form.field.Base.prototype.beforeDestroy.call(this);this.getManager().removeAtKey(this.id)},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var g=this,e=g.inputEl;Ext.form.field.Base.prototype.onEnable.call(this);if(e){e.dom.disabled=g.readOnly}},setReadOnly:function(g){var i=this,h=i.inputEl;if(h){h.dom.disabled=!!g||i.disabled}Ext.form.field.Base.prototype.setReadOnly.apply(this,arguments)},getFormId:function(){var e=this,g;if(!e.formId){g=e.up("form");if(g){e.formId=g.id}}return e.formId},getFocusClsEl:function(){return this.displayEl},privates:{_onDisplayElMouseDown:function(d){d.preventDefault();this.inputEl.focus(1)}}},0,["checkbox","checkboxfield"],["component","box","field","checkboxfield","checkbox"],{component:true,box:true,field:true,checkboxfield:true,checkbox:true},["widget.checkbox","widget.checkboxfield"],0,[Ext.form.field,"Checkbox",Ext.form,"Checkbox"],0));(Ext.cmd.derive("Ext.form.CheckboxGroup",Ext.form.FieldContainer,{columns:"auto",vertical:false,allowBlank:true,blankText:"You must select at least one item in this group",defaultType:"checkboxfield",defaultBindProperty:"value",groupCls:"x-form-check-group",extraFieldBodyCls:"x-form-checkboxgroup-body",layout:"checkboxgroup",componentCls:"x-form-checkboxgroup",ariaRole:"group",ariaEl:"containerEl",ariaRenderAttributes:{"aria-invalid":false},initComponent:function(){var d=this;d.name=d.name||d.id;Ext.form.FieldContainer.prototype.initComponent.call(this);d.initField()},initRenderData:function(){var l=this,i,q,n,p,r,m;i=Ext.form.FieldContainer.prototype.initRenderData.call(this);i.inputId=l.id+"-"+l.ariaEl;q=i.ariaAttributes;if(q){n=l.getBoxes();m=[];for(p=0,r=n.length;p<r;p++){m.push(n[p].id+"-inputEl")}q["aria-owns"]=m.join(" ")}return i},initValue:function(){var e=this,g=e.value;e.originalValue=e.lastValue=g||e.getValue();if(g){e.setValue(g)}},onAdd:function(i){var j=this,l,m,k;if(i.isCheckbox){if(!i.name){i.name=j.name}j.mon(i,"change",j.checkChange,j)}else{if(i.isContainer){l=i.items.items;for(k=0,m=l.length;k<m;k++){j.onAdd(l[k])}}}Ext.form.FieldContainer.prototype.onAdd.apply(this,arguments)},onRemove:function(i){var j=this,l,m,k;if(i.isCheckbox){j.mun(i,"change",j.checkChange,j)}else{if(i.isContainer){l=i.items.items;for(k=0,m=l.length;k<m;k++){j.onRemove(l[k])}}}Ext.form.FieldContainer.prototype.onRemove.apply(this,arguments)},isEqual:function(h,i){var g=Ext.Object.toQueryString;return g(h)===g(i)},getErrors:function(){var d=[];if(!this.allowBlank&&Ext.isEmpty(this.getChecked())){d.push(this.blankText)}return d},getBoxes:function(d){return this.query("[isCheckbox]"+(d||""))},eachBox:function(e,g){Ext.Array.forEach(this.getBoxes(),e,g||this)},getChecked:function(){return this.getBoxes("[checked]")},isDirty:function(){var h=this.getBoxes(),i,g=h.length;for(i=0;i<g;i++){if(h[i].isDirty()){return true}}},setReadOnly:function(h){var j=this.getBoxes(),k,i=j.length;for(k=0;k<i;k++){j[k].setReadOnly(h)}this.readOnly=h},reset:function(){var g=this,h=g.hasActiveError(),i=g.preventMark;g.preventMark=true;g.batchChanges(function(){var d=g.getBoxes(),e,c=d.length;for(e=0;e<c;e++){d[e].reset()}});g.preventMark=i;g.unsetActiveError();if(h){g.updateLayout()}},resetOriginalValue:function(){var i=this,j=i.getBoxes(),k,h=j.length;for(k=0;k<h;k++){j[k].resetOriginalValue()}i.originalValue=i.getValue();i.checkDirty()},setValue:function(n){var p=this,r=p.getBoxes(),t,l=r.length,q,s,m;p.batchChanges(function(){Ext.suspendLayouts();for(t=0;t<l;t++){q=r[t];s=q.getName();m=false;if(n){if(Ext.isArray(n[s])){m=Ext.Array.contains(n[s],q.inputValue)}else{m=n[s]}}q.setValue(m)}Ext.resumeLayouts(true)});return p},getValue:function(){var r={},p=this.getBoxes(),s,l=p.length,n,q,t,m;for(s=0;s<l;s++){n=p[s];q=n.getName();t=n.inputValue;if(n.getValue()){if(r.hasOwnProperty(q)){m=r[q];if(!Ext.isArray(m)){m=r[q]=[m]}m.push(t)}else{r[q]=t}}}return r},getSubmitData:function(){return null},getModelData:function(){return null},validate:function(){var k=this,h,i,j;if(k.disabled){i=true}else{h=k.getErrors();i=Ext.isEmpty(h);j=k.wasValid;if(i){k.unsetActiveError()}else{k.setActiveError(h)}}if(i!==j){k.wasValid=i;k.fireEvent("validitychange",k,i);k.updateLayout()}return i}},0,["checkboxgroup"],["component","box","container","fieldcontainer","checkboxgroup"],{component:true,box:true,container:true,fieldcontainer:true,checkboxgroup:true},["widget.checkboxgroup"],[["field",Ext.form.field.Field]],[Ext.form,"CheckboxGroup"],function(){this.borrow(Ext.form.field.Base,["markInvalid","clearInvalid","setError"])}));(Ext.cmd.derive("Ext.form.FieldSet",Ext.container.Container,{checkboxUI:"default",collapsed:false,toggleOnTitleClick:true,baseCls:"x-fieldset",layout:"anchor",descriptionText:"{0} field set",expandText:"Expand field set",componentLayout:"fieldset",ariaRole:"group",focusable:false,autoEl:"fieldset",childEls:["body"],renderTpl:["{%this.renderLegend(out,values);%}",'<div id="{id}-body" data-ref="body" class="{baseCls}-body {baseCls}-body-{ui} {bodyTargetCls}" ','role="presentation"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>"],stateEvents:["collapse","expand"],maskOnDisable:false,beforeDestroy:function(){var e=this,g=e.legend;if(g){delete g.ownerCt;g.destroy();e.legend=null}Ext.container.Container.prototype.beforeDestroy.call(this)},initComponent:function(){var e=this,g=e.baseCls;if(e.ariaRole&&!e.ariaLabel){e.ariaLabel=Ext.String.formatEncode(e.descriptionText,e.title||"")}e.ariaRenderAttributes=e.ariaRenderAttributes||{};e.ariaRenderAttributes["aria-expanded"]=!e.collapsed;e.initFieldAncestor();Ext.container.Container.prototype.initComponent.call(this);e.layout.managePadding=e.layout.manageOverflow=false;if(e.collapsed){e.addCls(g+"-collapsed");e.collapse()}if(e.title||e.checkboxToggle||e.collapsible){e.addTitleClasses();e.legend=e.createLegendCt()}e.initMonitor()},initRenderData:function(){var g=this,e=Ext.container.Container.prototype.initRenderData.call(this);e.bodyTargetCls=g.bodyTargetCls;g.protoBody.writeTo(e);delete g.protoBody;return e},getState:function(){var d=Ext.container.Container.prototype.getState.call(this);d=this.addPropertyToState(d,"collapsed");return d},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn,collapsedHorizontal:function(){return true},collapsedVertical:function(){return true},createLegendCt:function(){var i=this,k=[],h={baseCls:i.baseCls+"-header",layout:"container",ui:i.ui,id:i.id+"-legend",autoEl:"legend",ariaRole:null,items:k,ownerCt:i,shrinkWrap:true,ownerLayout:i.componentLayout},j;if(i.checkboxToggle){k.push(i.createCheckboxCmp())}else{if(i.collapsible){k.push(i.createToggleCmp())}}k.push(i.createTitleCmp());j=new Ext.container.Container(h);j.collapseImmune=true;j.getInherited().collapseImmune=true;return j},createTitleCmp:function(){var e=this,g={html:e.title,ui:e.ui,cls:e.baseCls+"-header-text",id:e.id+"-legendTitle",ariaRole:"presentation"};if(e.collapsible&&e.toggleOnTitleClick){g.listeners={click:{element:"el",scope:e,fn:e.toggle}};g.cls+=" "+e.baseCls+"-header-text-collapsible"}e.titleCmp=new Ext.Component(g);return e.titleCmp},createCheckboxCmp:function(){var j=this,h="-checkbox",k=j.baseCls+"-header"+h,i;k+=" "+k+"-"+j.ui;j.checkboxCmp=i=new Ext.form.field.Checkbox({hideEmptyLabel:true,name:j.checkboxName||j.id+h,cls:k,id:j.id+"-legendChk",ui:j.checkboxUI,checked:!j.collapsed,msgTarget:"none",listeners:{change:j.onCheckChange,scope:j},ariaLabel:j.expandText});return i},createToggleCmp:function(){var g=this,e;g.toggleCmp=e=new Ext.panel.Tool({cacheHeight:false,cls:g.baseCls+"-header-tool-"+g.ui,type:"toggle",handler:g.toggle,id:g.id+"-legendToggle",scope:g,ariaRole:"checkbox",ariaLabel:g.expandText,ariaRenderAttributes:{"aria-checked":!g.collapsed}});return e},doRenderLegend:function(l,i){var j=i.$comp,k=j.legend,m;if(k){k.ownerLayout.configureItem(k);m=k.getRenderTree();Ext.DomHelper.generateMarkup(m,l)}},getCollapsed:function(){return this.collapsed?"top":false},getCollapsedDockedItems:function(){var d=this.legend;return d?[d]:[]},setTitle:function(g){var h=this,i=h.legend;h.title=g;h.ariaLabel=Ext.String.formatEncode(h.descriptionText,g||"");if(h.rendered){if(!i){h.legend=i=h.createLegendCt();h.addTitleClasses();i.ownerLayout.configureItem(i);i.render(h.el,0)}h.titleCmp.update(g);h.ariaEl.dom.setAttribute("aria-label",h.ariaLabel)}else{if(i){h.titleCmp.update(g)}else{h.addTitleClasses();h.legend=h.createLegendCt()}}return h},addTitleClasses:function(){var h=this,g=h.title,i=h.baseCls;if(g){h.addCls(i+"-with-title")}if(g||h.checkboxToggle||h.collapsible){h.addCls(i+"-with-legend")}},expand:function(){return this.setExpanded(true)},collapse:function(){return this.setExpanded(false)},setExpanded:function(l){var k=this,j=k.checkboxCmp,i=k.toggleCmp,m=l?"expand":"collapse";if(!k.rendered||k.fireEvent("before"+m,k)!==false){l=!!l;if(j){j.setValue(l)}else{if(i&&i.ariaEl.dom){i.ariaEl.dom.setAttribute("aria-checked",l)}}if(l){k.removeCls(k.baseCls+"-collapsed")}else{k.addCls(k.baseCls+"-collapsed")}if(k.ariaEl.dom){k.ariaEl.dom.setAttribute("aria-expanded",!!l)}k.collapsed=!l;if(l){delete k.getInherited().collapsed}else{k.getInherited().collapsed=true}if(k.rendered){k.updateLayout({isRoot:false});k.fireEvent(m,k)}}return k},getRefItems:function(i){var g=Ext.container.Container.prototype.getRefItems.apply(this,arguments),h=this.legend;if(h){g.unshift(h);if(i){g.unshift.apply(g,h.getRefItems(true))}}return g},toggle:function(){this.setExpanded(!!this.collapsed)},privates:{applyTargetCls:function(d){this.bodyTargetCls=d},finishRender:function(){var d=this.legend;Ext.container.Container.prototype.finishRender.call(this);if(d){d.finishRender()}},getProtoBody:function(){var e=this,g=e.protoBody;if(!g){e.protoBody=g=new Ext.util.ProtoElement({styleProp:"bodyStyle",styleIsText:true})}return g},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){return this.body||this.frameBody||this.el},initPadding:function(i){var k=this,m=k.getProtoBody(),j=k.padding,l;if(j!==undefined){if(Ext.isIE8){j=k.parseBox(j);l=Ext.Element.parseBox(0);l.top=j.top;j.top=0;m.setStyle("padding",k.unitizeBox(l))}i.setStyle("padding",k.unitizeBox(j))}},onCheckChange:function(e,g){this.setExpanded(g)},setupRenderTpl:function(d){Ext.container.Container.prototype.setupRenderTpl.apply(this,arguments);d.renderLegend=this.doRenderLegend}}},0,["fieldset"],["component","box","container","fieldset"],{component:true,box:true,container:true,fieldset:true},["widget.fieldset"],[["fieldAncestor",Ext.form.FieldAncestor]],[Ext.form,"FieldSet"],0));(Ext.cmd.derive("Ext.form.Panel",Ext.panel.Panel,{alternateClassName:["Ext.FormPanel","Ext.form.FormPanel"],layout:"anchor",bodyAriaRole:"form",basicFormConfigs:["api","baseParams","errorReader","jsonSubmit","method","paramOrder","paramsAsHash","reader","standardSubmit","timeout","trackResetOnLoad","url","waitMsgTarget","waitTitle"],initComponent:function(){var d=this;if(d.frame){d.border=false}d.initFieldAncestor();Ext.panel.Panel.prototype.initComponent.call(this);d.relayEvents(d.form,["beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"]);if(d.pollForChanges){d.startPolling(d.pollInterval||500)}},initItems:function(){Ext.panel.Panel.prototype.initItems.call(this);this.initMonitor();this.form=this.createForm()},afterFirstLayout:function(){Ext.panel.Panel.prototype.afterFirstLayout.apply(this,arguments);this.form.initialize()},createForm:function(){var l={},j=this.basicFormConfigs,m=j.length,k=0,i;for(;k<m;++k){i=j[k];l[i]=this[i]}return new Ext.form.Basic(this,l)},getForm:function(){return this.form},loadRecord:function(d){return this.getForm().loadRecord(d)},getRecord:function(){return this.getForm().getRecord()},updateRecord:function(d){return this.getForm().updateRecord(d)},getValues:function(h,j,i,k){return this.getForm().getValues(h,j,i,k)},isDirty:function(){return this.form.isDirty()},isValid:function(){return this.form.isValid()},reset:function(){this.form.reset()},hasInvalidField:function(){return this.form.hasInvalidField()},beforeDestroy:function(){this.stopPolling();this.form.destroy();Ext.panel.Panel.prototype.beforeDestroy.call(this)},load:function(d){this.form.load(d)},submit:function(d){this.form.submit(d)},startPolling:function(e){this.stopPolling();var g=new Ext.util.TaskRunner(e);g.start({interval:0,run:this.checkChange,scope:this});this.pollTask=g},stopPolling:function(){var d=this.pollTask;if(d){d.stopAll();delete this.pollTask}},checkChange:function(){var i=this.form.getFields().items,h,g=i.length;for(h=0;h<g;h++){i[h].checkChange()}}},0,["form"],["component","box","container","panel","form"],{component:true,box:true,container:true,panel:true,form:true},["widget.form"],[["fieldAncestor",Ext.form.FieldAncestor]],[Ext.form,"Panel",Ext,"FormPanel",Ext.form,"FormPanel"],0));(Ext.cmd.derive("Ext.form.RadioManager",Ext.util.MixedCollection,{singleton:true,getByName:function(g,e){return this.filterBy(function(c){return c.name===g&&c.getFormId()===e})},getWithValue:function(i,h,g){return this.filterBy(function(c){return c.name===i&&c.inputValue==h&&c.getFormId()===g})},getChecked:function(g,e){return this.findBy(function(c){return c.name===g&&c.checked&&c.getFormId()===e})}},0,0,0,0,0,0,[Ext.form,"RadioManager"],0));(Ext.cmd.derive("Ext.form.field.Radio",Ext.form.field.Checkbox,{alternateClassName:"Ext.form.Radio",isRadio:true,inputType:"radio",ariaRole:"radio",tabIndex:0,formId:null,getGroupValue:function(){var d=this.getManager().getChecked(this.name,this.getFormId());return d?d.inputValue:null},onBoxClick:function(){var d=this;if(!d.disabled&&!d.readOnly){this.setValue(true)}},onRemoved:function(){Ext.form.field.Checkbox.prototype.onRemoved.apply(this,arguments);this.formId=null},setValue:function(h){var i=this,g;if(Ext.isBoolean(h)){Ext.form.field.Checkbox.prototype.setValue.apply(this,arguments)}else{g=i.getManager().getWithValue(i.name,h,i.getFormId()).getAt(0);if(g){g.setValue(true)}}return i},getSubmitValue:function(){return this.checked?this.inputValue:null},getModelData:function(){var d=Ext.form.field.Checkbox.prototype.getModelData.apply(this,arguments);if(d){d[this.getName()]=this.getSubmitValue()}return d},onChange:function(p,r){var l=this,m,n,q,k;Ext.form.field.Checkbox.prototype.onChange.apply(this,arguments);if(p){k=l.getManager().getByName(l.name,l.getFormId()).items;n=k.length;for(m=0;m<n;m++){q=k[m];if(q!==l){q.setValue(false)}}}},getManager:function(){return Ext.form.RadioManager}},0,["radiofield","radio"],["component","box","field","checkboxfield","checkbox","radiofield","radio"],{component:true,box:true,field:true,checkboxfield:true,checkbox:true,radiofield:true,radio:true},["widget.radio","widget.radiofield"],0,[Ext.form.field,"Radio",Ext.form,"Radio"],0));(Ext.cmd.derive("Ext.form.RadioGroup",Ext.form.CheckboxGroup,{allowBlank:true,blankText:"You must select one item in this group",defaultType:"radiofield",local:false,defaultBindProperty:"value",groupCls:"x-form-radio-group",ariaRole:"radiogroup",initRenderData:function(){var h=this,g,i;g=Ext.form.CheckboxGroup.prototype.initRenderData.call(this);i=g.ariaAttributes;if(i){i["aria-required"]=!h.allowBlank;i["aria-invalid"]=false}return g},lookupComponent:function(e){var g=Ext.form.CheckboxGroup.prototype.lookupComponent.call(this,e);if(this.local){g.formId=this.getId()}return g},getBoxes:function(e,g){return(g||this).query("[isRadio]"+(e||""))},checkChange:function(){var e=this.getValue(),g=Ext.Object.getKeys(e)[0];if(Ext.isArray(e[g])){return}Ext.form.CheckboxGroup.prototype.checkChange.apply(this,arguments)},setValue:function(q){var i,n,p,m,r,t,s;if(Ext.isObject(q)){Ext.suspendLayouts();n=this.items.first();p=n?n.getFormId():null;for(s in q){i=q[s];m=Ext.form.RadioManager.getWithValue(s,i,p).items;t=m.length;for(r=0;r<t;++r){m[r].setValue(true)}}Ext.resumeLayouts(true)}return this},markInvalid:function(e){var g=this.ariaEl.dom;Ext.form.CheckboxGroup.prototype.markInvalid.call(this,e);if(g){g.setAttribute("aria-invalid",true)}},clearInvalid:function(){var d=this.ariaEl.dom;Ext.form.CheckboxGroup.prototype.clearInvalid.call(this);if(d){d.setAttribute("aria-invalid",false)}},privates:{getFocusables:function(){return this.getBoxes()},initDefaultFocusable:function(k){var h=this,i,j;i=h.getChecked();if(i.length){j=i[0]}else{j=h.findNextFocusableChild({beforeRender:k,step:1})}if(j){h.activateFocusable(j)}return j},getFocusableContainerEl:function(){return this.containerEl},onFocusableContainerFocusLeave:function(){this.clearFocusables();this.initDefaultFocusable()},doFocusableChildAdd:function(i){var k=this,n=k.mixins.focusablecontainer,l,m,p;l=i.isContainer?k.getBoxes("",i):[i];for(m=0,p=l.length;m<p;m++){n.doFocusableChildAdd.call(k,l[m])}},doFocusableChildRemove:function(i){var k=this,n=k.mixins.focusablecontainer,l,m,p;l=i.isContainer?k.getBoxes("",i):[i];for(m=0,p=l.length;m<p;m++){n.doFocusableChildRemove.call(k,l[m])}},focusChild:function(i,j,e){var k=this.mixins.focusablecontainer.focusChild.apply(this,arguments);if(!e.ctrlKey){k.setValue(true)}}}},0,["radiogroup"],["component","box","container","fieldcontainer","checkboxgroup","radiogroup"],{component:true,box:true,container:true,fieldcontainer:true,checkboxgroup:true,radiogroup:true},["widget.radiogroup"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.form,"RadioGroup"],0));(Ext.cmd.derive("Ext.form.field.Picker",Ext.form.field.Text,{alternateClassName:"Ext.form.Picker",config:{triggers:{picker:{handler:"onTriggerClick",scope:"this"}}},renderConfig:{editable:true},isPickerField:true,matchFieldWidth:true,pickerAlign:"tl-bl?",openCls:"x-pickerfield-open",isExpanded:false,applyTriggers:function(h){var g=this,i=h.picker;if(!i.cls){i.cls=g.triggerCls}return Ext.form.field.Text.prototype.applyTriggers.call(this,h)},getSubTplData:function(j){var i=this,h,k;h=Ext.form.field.Text.prototype.getSubTplData.call(this,j);if(i.ariaRole){k=h.inputElAriaAttributes;if(k){k["aria-haspopup"]=true;k["aria-expanded"]=false}}return h},initEvents:function(){var d=this;Ext.form.field.Text.prototype.initEvents.call(this);d.keyNav=new Ext.util.KeyNav(d.inputEl,{down:d.onDownArrow,esc:{handler:d.onEsc,scope:d,defaultEventAction:false},scope:d,forceKeyDown:true});if(Ext.isGecko){d.inputEl.dom.setAttribute("autocomplete","off")}},updateEditable:function(i,g){var h=this;if(!i){h.inputEl.on("click",h.onTriggerClick,h)}else{h.inputEl.un("click",h.onTriggerClick,h)}Ext.form.field.Text.prototype.updateEditable.call(this,i,g)},onEsc:function(d){if(Ext.isIE){d.preventDefault()}if(this.isExpanded){this.collapse();d.stopEvent()}},onDownArrow:function(e){var g=this;if((e.time-g.lastDownArrow)>150){delete g.lastDownArrow}if(!g.isExpanded){e.stopEvent();g.onTriggerClick();g.lastDownArrow=e.time}else{if(!e.isStopped&&(e.time-g.lastDownArrow)<150){delete g.lastDownArrow}}},expand:function(){var j=this,l,m,k,i;if(j.rendered&&!j.isExpanded&&!j.destroyed){l=j.bodyEl;k=j.getPicker();i=Ext.getDoc();k.setMaxHeight(k.initialConfig.maxHeight);if(j.matchFieldWidth){k.setWidth(j.bodyEl.getWidth())}k.show();j.isExpanded=true;j.alignPicker();l.addCls(j.openCls);if(j.ariaRole){m=j.ariaEl.dom;m.setAttribute("aria-owns",k.listEl?k.listEl.id:k.el.id);m.setAttribute("aria-expanded",true)}j.touchListeners=i.on({translate:false,touchstart:j.collapseIf,scope:j,delegated:false,destroyable:true});j.scrollListeners=Ext.on({scroll:j.onGlobalScroll,scope:j,destroyable:true});Ext.on("resize",j.alignPicker,j,{buffer:1});j.fireEvent("expand",j);j.onExpand()}},onExpand:Ext.emptyFn,alignPicker:function(){if(!this.destroyed){var d=this.getPicker();if(d.isVisible()&&d.isFloating()){this.doAlign()}}},doAlign:function(){var h=this,i=h.picker,k="-above",j;h.picker.alignTo(h.triggerWrap,h.pickerAlign,h.pickerOffset);j=i.el.getY()<h.inputEl.getY();h.bodyEl[j?"addCls":"removeCls"](h.openCls+k);i[j?"addCls":"removeCls"](i.baseCls+k)},collapse:function(){var h=this;if(h.isExpanded&&!h.destroyed&&!h.destroying){var i=h.openCls,j=h.picker,k="-above";j.hide();h.isExpanded=false;h.bodyEl.removeCls([i,i+k]);j.el.removeCls(j.baseCls+k);if(h.ariaRole){h.ariaEl.dom.setAttribute("aria-expanded",false)}h.touchListeners.destroy();h.scrollListeners.destroy();Ext.un("resize",h.alignPicker,h);h.fireEvent("collapse",h);h.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(e){var g=this;if(!g.destroyed&&!e.within(g.bodyEl,false,true)&&!g.owns(e.target)&&!Ext.fly(e.target).isFocusable()){g.collapse()}},getPicker:function(){var e=this,g=e.picker;if(!g){e.creatingPicker=true;e.picker=g=e.createPicker();g.ownerCmp=e;delete e.creatingPicker}return e.picker},onFocusLeave:function(d){this.collapse();Ext.form.field.Text.prototype.onFocusLeave.call(this,d)},getRefItems:function(){var d=[];if(this.picker){d[0]=this.picker}return d},createPicker:Ext.emptyFn,onTriggerClick:function(e){var g=this;if(!g.readOnly&&!g.disabled){if(g.isExpanded){g.collapse()}else{g.expand()}}},beforeDestroy:function(){var e=this,g=e.picker;Ext.form.field.Text.prototype.beforeDestroy.call(this);Ext.un("resize",e.alignPicker,e);Ext.destroy(e.keyNav,g);if(g){e.picker=g.pickerField=null}},privates:{onGlobalScroll:function(k){var j,h,i=this.el;if(k.getElement().contains(i)){j=k.getPosition();h=i.getScrollIntoViewXY(k.getElement(),j.x,j.y);if(this.up("[fixed]")||h.y!==j.y||h.x!==j.x){this.collapse()}}}}},0,["pickerfield"],["component","box","field","textfield","pickerfield"],{component:true,box:true,field:true,textfield:true,pickerfield:true},["widget.pickerfield"],0,[Ext.form.field,"Picker",Ext.form,"Picker"],0));(Ext.cmd.derive("Ext.selection.Model",Ext.mixin.Observable,{alternateClassName:"Ext.AbstractSelectionModel",factoryConfig:{defaultType:"dataviewmodel"},$configPrefixed:false,$configStrict:false,config:{store:null,selected:{}},isSelectionModel:true,allowDeselect:undefined,toggleOnClick:true,selected:null,pruneRemoved:true,suspendChange:0,ignoreRightMouseSelection:false,constructor:function(g){var e=this;e.modes={SINGLE:true,SIMPLE:true,MULTI:true};Ext.mixin.Observable.prototype.constructor.call(this,g);e.setSelectionMode(e.mode);if(e.selectionMode!=="SINGLE"){e.allowDeselect=true}},updateStore:function(g,e){this.bindStore(g,!e)},applySelected:function(d){if(!d.isCollection){d=new Ext.util.Collection(Ext.apply({rootProperty:"data"},d))}return d},getStoreListeners:function(){var d=this;return{add:d.onStoreAdd,clear:d.onStoreClear,remove:d.onStoreRemove,update:d.onStoreUpdate,idchanged:d.onIdChanged,load:d.onStoreLoad,refresh:d.onStoreRefresh,pageadd:d.onPageAdd,pageremove:d.onPageRemove}},suspendChanges:function(){++this.suspendChange},resumeChanges:function(){if(this.suspendChange){--this.suspendChange}},selectAll:function(k){var i=this,j=i.store.getRange(),h=i.getSelection().length;i.suspendChanges();i.doSelect(j,true,k);i.resumeChanges();if(!k&&!i.destroyed){i.maybeFireSelectionChange(i.getSelection().length!==h)}},deselectAll:function(i){var q=this,u=q.getSelection(),p={},l=q.store,v=u.length,r,t,s;for(r=0,t=u.length;r<t;r++){s=u[r];p[s.id]=l.indexOf(s)}u=Ext.Array.sort(u,function(g,d){var e=p[g.id],c=p[d.id];return e<c?-1:1});q.suspendChanges();q.doDeselect(u,i);q.resumeChanges();if(!i&&!q.destroyed){q.maybeFireSelectionChange(q.getSelection().length!==v)}},getSelectionStart:function(){return this.selectionStart},setSelectionStart:function(d){this.selectionStart=d},selectWithEvent:function(l,e){var j=this,k=j.isSelected(l),m=e.shiftKey;switch(j.selectionMode){case"MULTI":j.selectWithEventMulti(l,e,k);break;case"SIMPLE":j.selectWithEventSimple(l,e,k);break;case"SINGLE":j.selectWithEventSingle(l,e,k);break}if(!m){if(j.isSelected(l)){j.selectionStart=l}else{j.selectionStart=null}}},vetoSelection:function(d){if(d.stopSelection){return true}else{if(d.type!=="keydown"&&d.button!==0){if(this.ignoreRightMouseSelection||this.isSelected(d.record)){return true}}else{return d.type==="mousedown"}}},onNavigate:function(y){if(!y.record||this.vetoSelection(y.keyEvent)){return}this.onBeforeNavigate(y);var w=this,x=y.keyEvent,C=x.ctrlKey||y.ctrlKey,A=y.recordIndex,z=y.record,s=y.previousRecord,B=w.isSelected(z),u=(w.selectionStart&&w.isSelected(y.previousRecord))?w.selectionStart:(w.selectionStart=y.previousRecord),D=y.previousRecordIndex,t=x.getCharCode(),e=t===x.SPACE,v=t===x.UP||t===x.PAGE_UP||t===x.HOME?"up":(t===x.DOWN||t===x.PAGE_DOWN||t===x.END?"down":null);switch(w.selectionMode){case"MULTI":w.setSelectionStart(y.selectionStart);if(t===x.A&&C){w.selected.beginUpdate();w.selectRange(0,w.store.getCount()-1);w.selected.endUpdate()}else{if(e){if(x.shiftKey){w.selectRange(u,z,C)}else{if(B){if(w.allowDeselect){w.doDeselect(z)}}else{w.doSelect(z,C)}}}else{if(x.shiftKey&&u){if(v==="up"&&D<=A){w.deselectRange(s,A+1)}else{if(v==="down"&&D>=A){w.deselectRange(s,A-1)}else{if(u!==z){w.selectRange(u,z,C)}}}w.lastSelected=z}else{if(t){if(!C){w.doSelect(z,false)}}else{w.selectWithEvent(z,x)}}}}break;case"SIMPLE":if(t===x.A&&C){w.selected.beginUpdate();w.selectRange(0,w.store.getCount()-1);w.selected.endUpdate()}else{if(B){w.doDeselect(z)}else{w.doSelect(z,true)}}break;case"SINGLE":if(!C){if(v){w.doSelect(z,false)}else{if(e||!t){w.selectWithEvent(z,x)}}}}if(!x.shiftKey&&!w.destroyed&&w.isSelected(z)){w.selectionStart=z;w.selectionStartIdx=A}},selectRange:function(t,A,s){var w=this,u=w.store,B=w.selected.items,i,y,x,z,D,v,C;if(w.isLocked()){return}i=w.normalizeRowRange(t,A);t=i[0];A=i[1];z=[];for(y=t;y<=A;y++){if(!w.isSelected(u.getAt(y))){z.push(u.getAt(y))}}if(!s){D=[];w.suspendChanges();for(y=0,x=B.length;y<x;++y){C=B[y];v=u.indexOf(C);if(v<t||v>A){D.push(C)}}for(y=0,x=D.length;y<x;++y){w.doDeselect(D[y])}w.resumeChanges()}if(!w.destroyed){if(z.length){w.doMultiSelect(z,true)}else{if(D){w.maybeFireSelectionChange(D.length>0)}}}},deselectRange:function(p,q){var i=this,r=i.store,t,m,n,s;if(i.isLocked()){return}t=i.normalizeRowRange(p,q);p=t[0];q=t[1];n=[];for(m=p;m<=q;m++){s=r.getAt(m);if(i.isSelected(s)){n.push(s)}}if(n.length){i.doDeselect(n)}},normalizeRowRange:function(i,j){var k=this.store,h;if(!Ext.isNumber(i)){i=k.indexOf(i)}i=Math.max(0,i);if(!Ext.isNumber(j)){j=k.indexOf(j)}j=Math.min(j,k.getCount()-1);if(i>j){h=j;j=i;i=h}return[i,j]},select:function(h,g,i){if(Ext.isDefined(h)&&!(Ext.isArray(h)&&!h.length)){this.doSelect(h,g,i)}},deselect:function(e,g){this.doDeselect(e,g)},doSelect:function(k,i,l){var j=this,m;if(j.locked||k==null){return}if(typeof k==="number"){m=j.store.getAt(k);if(!m){return}k=[m]}if(j.selectionMode==="SINGLE"){if(k.isModel){k=[k]}if(k.length){j.doSingleSelect(k[0],l)}}else{j.doMultiSelect(k,i,l)}},doMultiSelect:function(z,q,r){var t=this,y=t.selected,s=false,i,w,u,v,x;if(t.locked){return}z=!Ext.isArray(z)?[z]:z;u=z.length;if(!q&&y.getCount()>0){i=t.deselectDuringSelect(z,r);if(t.destroyed){return}if(i[0]){t.maybeFireSelectionChange(i[1]>0&&!r);return}else{s=i[1]>0}}x=function(){if(!y.getCount()){t.selectionStart=v}y.add(v);s=true};for(w=0;w<u;w++){v=z[w];if(t.isSelected(v)){continue}t.onSelectChange(v,true,r,x);if(t.destroyed){return}}t.lastSelected=v;t.maybeFireSelectionChange(s&&!r)},deselectDuringSelect:function(s,n){var p=this,v=p.selected.getRange(),q=v.length,t=0,r=false,i,u;p.suspendChanges();p.deselectingDuringSelect=true;for(u=0;u<q;++u){i=v[u];if(!Ext.Array.contains(s,i)){if(p.doDeselect(i,n)){++t}else{r=true}}if(p.destroyed){r=true;t=0;break}}p.deselectingDuringSelect=false;p.resumeChanges();return[r,t]},doDeselect:function(x,p){var q=this,w=q.selected,u=0,r,t,i=0,s=0,v;if(q.locked||!q.store){return false}if(typeof x==="number"){t=q.store.getAt(x);if(!t){return false}x=[t]}else{if(!Ext.isArray(x)){x=[x]}}v=function(){++s;w.remove(t);if(t===q.selectionStart){q.selectionStart=null}};r=x.length;q.suspendChanges();for(;u<r;u++){t=x[u];if(q.isSelected(t)){if(q.lastSelected===t){q.lastSelected=w.last()}++i;q.onSelectChange(t,false,p,v);if(q.destroyed){return false}}}q.resumeChanges();q.maybeFireSelectionChange(s>0&&!p);return s===i},doSingleSelect:function(p,n){var l=this,j=false,m=l.selected,k;if(l.locked){return}if(l.isSelected(p)){return}k=function(){if(m.getCount()){l.suspendChanges();var c=l.deselectDuringSelect([p],n);if(l.destroyed){return}l.resumeChanges();if(c[0]){return false}}l.lastSelected=p;if(!m.getCount()){l.selectionStart=p}m.add(p);j=true};l.onSelectChange(p,true,n,k);if(j&&!l.destroyed){l.maybeFireSelectionChange(!n)}},maybeFireSelectionChange:function(g){var e=this;if(g&&!e.suspendChange){e.fireEvent("selectionchange",e,e.getSelection())}},getLastSelected:function(){return this.lastSelected},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(d){d=d?d.toUpperCase():"SINGLE";this.selectionMode=this.modes[d]?d:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(d){this.locked=!!d},isRangeSelected:function(l,m){var i=this,n=i.store,k,p;p=i.normalizeRowRange(l,m);l=p[0];m=p[1];for(k=l;k<=m;k++){if(!i.isSelected(n.getAt(k))){return false}}return true},isSelected:function(d){d=Ext.isNumber(d)?this.store.getAt(d):d;return this.selected.contains(d)},hasSelection:function(){var d=this.getSelected();return !!(d&&d.getCount())},refresh:function(){var t=this,D=t.store,x=[],u=[],y=t.getSelection(),w=y.length,A=t.getSelected(),i,v,C,d,B,z;if(!D||!(A.isCollection||A.isRows)||!A.getCount()){return}C=D.getData();if(C.getSource){v=C.getSource();if(v){C=v}}t.refreshing=true;A.beginUpdate();t.suspendChanges();for(z=0;z<w;z++){d=y[z];B=C.get(d.getId());if(B){x.push(B)}else{if(!t.pruneRemoved){u.push(d)}}if(t.mode==="SINGLE"&&u.length){break}}if(A.getCount()!==(x.length+u.length)){i=true}t.clearSelections();if(x.length){t.doSelect(x,false,true)}if(u.length){A.add(u);if(!t.lastSelected){t.lastSelected=u[u.length-1]}}t.resumeChanges();if(i){A.endUpdate()}else{A.updating--}t.refreshing=false;t.maybeFireSelectionChange(i)},clearSelections:function(){var d=this.getSelected();if(d){d.clear()}this.lastSelected=null},onStoreAdd:Ext.emptyFn,onStoreClear:function(){if(!this.store.isLoading()&&this.hasSelection()){this.clearSelections();this.maybeFireSelectionChange(true)}},onStoreRemove:function(p,w,t,i){var q=this,x=w,u,s,v,r;if(q.selectionStart&&Ext.Array.contains(w,q.selectionStart)){q.selectionStart=null}if(i||q.locked||!q.pruneRemoved){return}r=p.isMoving(null,true);if(r){x=null;for(u=0,s=w.length;u<s;++u){v=w[u];if(!r[v.id]){(x||(x=[])).push(v)}}}if(x){q.deselect(x)}},onPageRemove:function(h,i,g){this.onStoreRemove(this.store,g)},onPageAdd:function(l,m,k){var p=k.length,i,n;for(i=0;i<p;i++){n=k[i];if(this.selected.get(n.id)){this.selected.replace(n)}}},getCount:function(){return this.selected.getCount()},onUpdate:Ext.emptyFn,destroy:function(){var d=this;d.clearSelections();d.bindStore(null);d.selected=Ext.destroy(d.selected);Ext.mixin.Observable.prototype.destroy.call(this)},onStoreUpdate:Ext.emptyFn,onIdChanged:function(k,h,i,j){this.selected.updateKey(h,i)},onStoreRefresh:function(){this.updateSelectedInstances(this.selected)},updateSelectedInstances:function(x){var t=this,r=t.getStore(),s=t.lastSelected,B=0,z=t.pruneRemovedOnRefresh(),u,A,w,i,y,v;if(r.isBufferedStore){return}u=x.getRange();A=u.length;if(s){t.lastSelected=r.getById(s.id);v=t.lastSelected!==s}t.refreshing=true;for(w=0;w<A;++w){i=u[w];y=r.getById(i.id);if(y){if(y!==i){x.replace(y)}}else{if(z){x.remove(i);++B}}}t.refreshing=false;t.maybeFireSelectionChange(B>0);if(v){t.fireEvent("lastselectedchanged",t,t.getSelection(),t.lastSelected)}},pruneRemovedOnRefresh:function(){return this.pruneRemoved},onStoreLoad:Ext.emptyFn,onSelectChange:function(p,l,m,j){var k=this,n=l?"select":"deselect";if((m||k.fireEvent("before"+n,k,p))!==false&&j()!==false){if(!m){k.fireEvent(n,k,p)}}},onEditorKey:Ext.emptyFn,beforeViewRender:function(d){Ext.Array.include(this.views||(this.views=[]),d)},onHeaderClick:Ext.emptyFn,resolveListenerScope:function(g){var i=this.view,h;if(i){h=i.resolveSatelliteListenerScope(this,g)}return h||Ext.mixin.Observable.prototype.resolveListenerScope.call(this,g)},bindComponent:Ext.emptyFn,privates:{onBeforeNavigate:Ext.privateFn,selectWithEventMulti:function(u,s,y){var i=this,x=s.shiftKey,B=s.ctrlKey,z=x?(i.getSelectionStart()):null,w=i.getSelection(),t=w.length,A,v,e;if(x&&z){i.selectRange(z,u,B)}else{if(B&&y){if(i.allowDeselect){i.doDeselect(u,false)}}else{if(B){i.doSelect(u,true,false)}else{if(y&&!x&&!B&&t>1){if(i.allowDeselect){A=[];for(v=0;v<t;++v){e=w[v];if(e!==u){A.push(e)}}i.doDeselect(A)}}else{if(!y){i.doSelect(u,false)}}}}}},selectWithEventSimple:function(i,e,h){if(h){this.doDeselect(i)}else{this.doSelect(i,true)}},selectWithEventSingle:function(l,e,k){var j=this,m=j.allowDeselect;if(m&&!e.ctrlKey){m=j.toggleOnClick}if(m&&k){j.doDeselect(l)}else{j.doSelect(l,false)}}}},1,0,0,0,["selection.abstract"],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.selection,"Model",Ext,"AbstractSelectionModel"],0));(Ext.cmd.derive("Ext.selection.DataViewModel",Ext.selection.Model,{deselectOnContainerClick:true,bindComponent:function(i){var g=this,h;if(g.view!==i){if(g.view){g.navigationModel=null;Ext.destroy(g.viewListeners,g.navigationListeners)}g.view=i;if(i){h=g.getViewListeners();h.scope=g;h.destroyable=true;g.navigationModel=i.getNavigationModel();g.viewListeners=i.on(h);g.navigationListeners=g.navigationModel.on({navigate:g.onNavigate,scope:g,destroyable:true})}}},getViewListeners:function(){var g=this,e={};e[g.view.triggerCtEvent]=g.onContainerClick;return e},onUpdate:function(e){var g=this.view;if(g&&this.isSelected(e)){g.onItemSelect(e)}},onContainerClick:function(){if(this.deselectOnContainerClick){this.deselectAll()}},onSelectChange:function(s,n,p,l){var m=this,t=m.view,q=n?"select":"deselect",r=m.store.indexOf(s);if((p||m.fireEvent("before"+q,m,s,r))!==false&&l()!==false){if(t){if(n){t.onItemSelect(s)}else{t.onItemDeselect(s)}}if(!p){m.fireEvent(q,m,s,r)}}},destroy:function(){this.bindComponent();Ext.destroy(this.keyNav);Ext.selection.Model.prototype.destroy.call(this)}},0,0,0,0,["selection.dataviewmodel"],0,[Ext.selection,"DataViewModel"],0));(Ext.cmd.derive("Ext.view.NavigationModel",Ext.Base,{config:{store:null},focusCls:"x-view-item-focused",constructor:function(){this.mixins.observable.constructor.call(this)},bindComponent:function(d){if(this.view!==d){this.view=d;this.bindView(d)}},bindView:function(k){var i=this,h=k.dataSource,j;i.initKeyNav(k);if(!h.isEmptyStore){i.setStore(h)}j=i.getViewListeners();j.destroyable=true;i.viewListeners=i.viewListeners||[];i.viewListeners.push(k.on(j))},updateStore:function(d){this.mixins.storeholder.bindStore.apply(this,[d])},getViewListeners:function(){var d=this;return{containermousedown:d.onContainerMouseDown,itemmousedown:d.onItemMouseDown,itemclick:d.onItemClick,itemcontextmenu:d.onItemMouseDown,scope:d}},initKeyNav:function(g){var e=this;e.keyNav=new Ext.util.KeyNav({target:g,ignoreInputFields:true,eventName:"itemkeydown",defaultEventAction:"stopEvent",processEvent:e.processViewEvent,up:e.onKeyUp,down:e.onKeyDown,right:e.onKeyRight,left:e.onKeyLeft,pageDown:e.onKeyPageDown,pageUp:e.onKeyPageUp,home:e.onKeyHome,end:e.onKeyEnd,space:e.onKeySpace,enter:e.onKeyEnter,A:{ctrl:true,handler:e.onSelectAllKeyPress},scope:e})},processViewEvent:function(l,m,i,k,j){return j},addKeyBindings:function(d){this.keyNav.addBindings(d)},enable:function(){this.keyNav.enable();this.disabled=false},disable:function(){this.keyNav.disable();this.disabled=true},onContainerMouseDown:function(g,e){if(e.pointerType==="mouse"&&Ext.getScrollbarSize().width){if(!g.el.getClientRegion().contains(e.getPoint())){e.preventDefault()}}},onItemMouseDown:function(l,m,i,j,k){if(k.pointerType!=="touch"){this.setPosition(j)}},onItemClick:function(k,l,i,j,m){if(this.record===l){this.fireNavigateEvent(m)}else{this.setPosition(j,m)}},setPosition:function(v,r,n,u){var q=this,p=q.view,t=p.getSelectionModel(),x=p.dataSource,s,w;if(v==null||!p.all.getCount()){q.record=q.recordIndex=null}else{if(typeof v==="number"){w=Math.max(Math.min(v,x.getCount()-1),0);s=x.getAt(v)}else{if(v.isEntity){s=x.getById(v.id);w=x.indexOf(s);if(w===-1){s=x.getAt(0);w=0}}else{if(v.tagName){s=p.getRecord(v);w=x.indexOf(s)}else{s=w=null}}}}if(s===q.record){q.recordIndex=w;return q.focusPosition(w)}if(q.item){q.item.removeCls(q.focusCls)}q.previousRecordIndex=q.recordIndex;q.previousRecord=q.record;q.previousItem=q.item;q.recordIndex=w;q.record=s;u=u||q.record===q.lastFocused;if(s){q.focusPosition(q.recordIndex)}else{q.item=null}if(!n){t.fireEvent("focuschange",t,q.previousRecord,q.record)}if(!u&&r){q.fireNavigateEvent(r)}},focusPosition:function(g){var e=this;if(g!=null&&g!==-1){if(g.isEntity){g=e.view.dataSource.indexOf(g)}e.item=e.view.all.item(g);if(e.item){e.lastFocused=e.record;e.lastFocusedIndex=e.recordIndex;e.focusItem(e.item)}else{e.record=null}}else{e.item=null}},focusItem:function(d){d.addCls(this.focusCls);d.focus()},getPosition:function(){return this.record?this.recordIndex:null},getRecordIndex:function(){return this.recordIndex},getItem:function(){return this.item},getRecord:function(){return this.record},getLastFocused:function(){if(this.view.dataSource.indexOf(this.lastFocused)===-1){return null}return this.lastFocused},onKeyUp:function(e){var g=this.recordIndex-1;if(g<0){g=this.view.all.getCount()-1}this.setPosition(g,e)},onKeyDown:function(e){var g=this.recordIndex+1;if(g>this.view.all.getCount()-1){g=0}this.setPosition(g,e)},onKeyRight:function(e){var g=this.recordIndex+1;if(g>this.view.all.getCount()-1){g=0}this.setPosition(g,e)},onKeyLeft:function(e){var g=this.recordIndex-1;if(g<0){g=this.view.all.getCount()-1}this.setPosition(g,e)},onKeyPageDown:Ext.emptyFn,onKeyPageUp:Ext.emptyFn,onKeyHome:function(d){this.setPosition(0,d)},onKeyEnd:function(d){this.setPosition(this.view.all.getCount()-1,d)},onKeySpace:function(d){this.fireNavigateEvent(d)},onKeyEnter:function(d){d.stopEvent();d.view.fireEvent("itemclick",d.view,d.record,d.item,d.recordIndex,d)},onSelectAllKeyPress:function(d){this.fireNavigateEvent(d)},fireNavigateEvent:function(e){var g=this;g.fireEvent("navigate",{navigationModel:g,keyEvent:e,previousRecordIndex:g.previousRecordIndex,previousRecord:g.previousRecord,previousItem:g.previousItem,recordIndex:g.recordIndex,record:g.record,item:g.item})},destroy:function(){var d=this;d.setStore(null);Ext.destroy(d.viewListeners,d.keyNav);d.keyNav=d.viewListeners=d.dataSource=d.lastFocused=null;d.callParent()}},1,0,0,0,["view.navigation.default"],[[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable],[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable],[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.view,"NavigationModel"],0));(Ext.cmd.derive("Ext.view.AbstractView",Ext.Component,{inheritableStatics:{getRecord:function(d){return this.getBoundView(d).getRecord(d)},getBoundView:function(d){return Ext.getCmp(d.getAttribute("data-boundView"))}},defaultBindProperty:"store",renderBuffer:document.createElement("div"),statics:{updateDelay:200,queueRecordChange:function(u,H,z,E,D){var v=this,F=v.changeQueue||(v.changeQueue={}),y=z.internalId,w,A,x,C,G,i,B;w=F[y]||(F[y]={operation:E,record:z,data:{},views:[]});A=w.data;Ext.Array.include(w.views,u);if(D&&(x=D.length)){for(C=0;C<x;C++){G=D[C];i=z.data[G];if(A.hasOwnProperty(G)){if(z.isEqual(A[G],i)){delete A[G];B=true}}else{A[G]=i}}if(B&&!Ext.Object.getKeys(A).length){delete F[y]}}else{Ext.apply(A,z.data)}if(!v.flushQueueTask){v.flushQueueTask=Ext.util.TaskManager.newTask({run:Ext.global.requestAnimationFrame?Ext.Function.createAnimationFrame(v.onFlushTick,v):Ext.Function.bind(v.onFlushTick,v),interval:Ext.view.AbstractView.updateDelay,repeat:1})}v.flushQueueTask.start()},onFlushTick:function(){Ext.AnimationQueue.start(this.flushChangeQueue,this)},flushChangeQueue:function(){var p=this,n,t,i,q,m,r,s;if(Ext.isScrolling){p.flushQueueTask.start();return}i=p.changeQueue;this.changeQueue={};for(m in i){q=i[m];n=q.views;t=n.length;for(r=0;r<t;r++){s=n[r];if(!s.destroyed){s.handleUpdate(s.dataSource,q.record,q.operation,Ext.Object.getKeys(q.data))}}}Ext.AnimationQueue.stop(p.flushChangeQueue,p)}},config:{selection:null,store:"ext-empty-store",navigationModel:{type:"default"},selectionModel:{type:"dataviewmodel"}},publishes:["selection"],twoWayBindable:["selection"],throttledUpdate:false,deferInitialRefresh:false,itemCls:"x-dataview-item",loadingText:"Loading...",loadMask:true,loadingUseMsg:true,selectedItemCls:"x-item-selected",emptyText:"",deferEmptyText:true,trackOver:false,blockRefresh:false,preserveScrollOnRefresh:false,preserveScrollOnReload:false,ariaRole:"listbox",itemAriaRole:"option",last:false,focusable:true,tabIndex:0,triggerEvent:"itemclick",triggerCtEvent:"containerclick",refreshNeeded:true,updateSuspendCounter:0,addCmpEvents:Ext.emptyFn,constructor:function(d){if(d&&d.selModel){d.selectionModel=d.selModel}Ext.Component.prototype.constructor.call(this,d)},initComponent:function(){var j=this,l=Ext.isDefined,i=j.itemTpl,k={},m;if(i){if(Ext.isArray(i)){if(typeof i[i.length-1]!=="string"){i=i.slice(0);k=i.pop()}i=i.join("")}else{if(Ext.isObject(i)){k=Ext.apply(k,i.initialConfig);i=i.html}}if(!j.itemSelector){j.itemSelector="."+j.itemCls}i=Ext.String.format('<tpl for="."><div class="{0}" role="{2}">{1}</div></tpl>',j.itemCls,i,j.itemAriaRole);j.tpl=new Ext.XTemplate(i,k)}Ext.Component.prototype.initComponent.call(this);j.tpl=j.getTpl("tpl");if(j.overItemCls){j.trackOver=true}j.addCmpEvents();m=j.store=Ext.data.StoreManager.lookup(j.store||"ext-empty-store");if(!j.dataSource){j.dataSource=m}j.bindStore(m,true);j.getNavigationModel().bindComponent(this);if(!j.all){j.all=new Ext.CompositeElementLite()}j.scrollState={top:0,left:0};j.savedTabIndexAttribute="data-savedtabindex-"+j.id},getElConfig:function(){var d=this.mixins.renderable.getElConfig.call(this);if(this.focusable){d.tabIndex=0}return d},onRender:function(){var d=this.loadMask;Ext.Component.prototype.onRender.apply(this,arguments);if(d){this.createMask(d)}},beforeLayout:function(){var d=this;Ext.Component.prototype.beforeLayout.apply(this,arguments);if(d.refreshNeeded&&!d.pendingRefresh){if(d.refreshCounter){d.refresh()}else{d.doFirstRefresh(d.dataSource)}}},onMaskBeforeShow:function(){var e=this,g=e.loadingHeight;if(g&&g>e.getHeight()){e.hasLoadingHeight=true;e.oldMinHeight=e.minHeight;e.minHeight=g;e.updateLayout()}},onMaskHide:function(){var d=this;if(!d.destroying&&d.hasLoadingHeight){d.minHeight=d.oldMinHeight;d.updateLayout();delete d.hasLoadingHeight}},beforeRender:function(){Ext.Component.prototype.beforeRender.apply(this,arguments);this.getSelectionModel().beforeViewRender(this)},afterRender:function(){Ext.Component.prototype.afterRender.apply(this,arguments);if(this.focusable){this.focusEl=this.el}},getRefItems:function(){var e=this.loadMask,g=[];if(e&&e.isComponent){g.push(e)}return g},getSelection:function(){return this.getSelectionModel().getSelection()},updateSelection:function(i){var h=this,g;if(!h.ignoreNextSelection){h.ignoreNextSelection=true;g=h.getSelectionModel();if(i){g.select(i)}else{g.deselectAll()}h.ignoreNextSelection=false}},updateBindSelection:function(k,i){var h=this,j=null;if(!h.ignoreNextSelection){h.ignoreNextSelection=true;if(i.length){j=k.getLastSelected();h.hasHadSelection=true}if(h.hasHadSelection){h.setSelection(j)}h.ignoreNextSelection=false}},applySelectionModel:function(q,l){var m=this,n=m.grid,k,p,r;if(l){l.un({scope:m,selectionchange:m.updateBindSelection,lastselectedchanged:m.updateBindSelection,select:m.ariaSelect,deselect:m.ariaDeselect});Ext.destroy(m.selModelRelayer);q=Ext.Factory.selection(q)}else{if(q&&q.isSelectionModel){q.locked=m.disableSelection}else{if(m.simpleSelect){k="SIMPLE"}else{if(m.multiSelect){k="MULTI"}else{k="SINGLE"}}if(typeof q==="string"){q={type:q}}q=Ext.Factory.selection(Ext.apply({allowDeselect:m.allowDeselect||m.multiSelect,mode:k,locked:m.disableSelection},q))}}if(q.mode!=="SINGLE"){r=(n||m).ariaEl.dom;if(r){r.setAttribute("aria-multiselectable",true)}else{if(!n){p=m.ariaRenderAttributes||(m.ariaRenderAttributes={});p["aria-multiselectable"]=true}}}m.selModelRelayer=m.relayEvents(q,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]);q.on({scope:m,lastselectedchanged:m.updateBindSelection,selectionchange:m.updateBindSelection,select:m.ariaSelect,deselect:m.ariaDeselect});return q},updateSelectionModel:function(d){this.selModel=d},applyNavigationModel:function(d){return Ext.Factory.viewNavigation(d)},onFocusEnter:function(e){var i=this,j=i.getNavigationModel(),k;i.toggleChildrenTabbability(false);if(!i.itemFocused&&i.all.getCount()){k=j.getLastFocused();j.setPosition(k||0,e.event,null,!k);i.itemFocused=j.getPosition()!=null}if(i.itemFocused){this.el.dom.setAttribute("tabIndex","-1")}Ext.Component.prototype.onFocusEnter.call(this,e)},onFocusLeave:function(e){var g=this;if(g.itemFocused&&!g.refreshing){g.getNavigationModel().setPosition(null,e.event,null,true);g.itemFocused=false;g.el.dom.setAttribute("tabIndex",0)}Ext.Component.prototype.onFocusLeave.call(this,e)},ariaSelect:function(h,i){var g=this.getNode(i);if(g){g.setAttribute("aria-selected",true)}},ariaDeselect:function(h,i){var g=this.getNode(i);if(g){g.removeAttribute("aria-selected")}},onRemoved:function(d){Ext.Component.prototype.onRemoved.call(this,d);if(!d){this.onFocusLeave({})}},refresh:function(){var r=this,s=r.all,p=s.getCount(),t=r.refreshCounter,q,x,y,u=r.getSelectionModel(),v,w=t&&s.getCount()&&r.preserveScrollOnRefresh&&r.getScrollable(),z;if(!r.rendered||r.destroyed){return}if(!r.hasListeners.beforerefresh||r.fireEvent("beforerefresh",r)!==false){r.refreshing=true;v=r.saveFocusState();q=r.getTargetEl();y=r.getViewRange();x=q.dom;if(w){z=w.getPosition();if(!(z.x||z.y)){z=null}}if(t){r.clearViewEl();r.refreshCounter++}else{r.refreshCounter=1}r.tpl.append(q,r.collectData(y,s.startIndex||0));if(y.length<1){r.addEmptyText();s.clear()}else{r.collectNodes(q.dom);r.updateIndexes(0)}v();if(r.refreshSelmodelOnRefresh!==false){u.refresh()}r.refreshNeeded=false;r.refreshSize(s.getCount()!==p);r.fireEvent("refresh",r,y);if(w){w.scrollTo(z)}if(!r.viewReady){r.viewReady=true;r.fireEvent("viewready",r)}r.refreshing=false;r.refreshScroll();r.cleanupData()}},addEmptyText:function(){var e=this,g=e.getStore();if(e.emptyText&&!g.isLoading()&&(!e.deferEmptyText||e.refreshCounter>1||g.isLoaded())){e.emptyEl=Ext.core.DomHelper.insertHtml("beforeEnd",e.getTargetEl().dom,e.emptyText)}},getViewRange:function(){return this.dataSource.getRange()},refreshSize:function(h){var i=this,j=i.getSizeModel(),k=i.getScrollable();if(j.height.shrinkWrap||j.width.shrinkWrap||h){i.updateLayout()}else{if(i.touchScroll&&!i.bufferedRenderer){if(k){k.refresh()}else{i.on({boxready:i.refreshScroll,scope:i,single:true})}}}},afterFirstLayout:function(i,j){var h=this,k=h.getScrollable();if(k){k.on({scroll:h.onViewScroll,scrollend:h.onViewScrollEnd,scope:h,onFrame:!!Ext.global.requestAnimationFrame})}Ext.Component.prototype.afterFirstLayout.call(this,i,j)},clearViewEl:function(){var h=this,g=h.getTargetEl(),i=h.getNodeContainer()===g;h.clearEmptyEl();h.all.clear(!i);if(i){g.dom.innerHTML=""}},clearEmptyEl:function(){var d=this.emptyEl;if(d){Ext.removeNode(d)}this.emptyEl=null},onViewScroll:function(h,i,g){this.fireEvent("scroll",this,i,g)},onViewScrollEnd:function(h,i,g){this.fireEvent("scrollend",this,i,g)},saveScrollState:function(){var g=this,e=g.scrollState;if(g.rendered){e.left=g.getScrollX();e.top=g.getScrollY()}},restoreScrollState:function(){var g=this,e=g.scrollState;if(g.rendered){g.setScrollX(e.left);g.setScrollY(e.top)}},prepareData:function(k,l,m){var n,p,j;if(m){n=m.getAssociatedData();for(p in n){if(n.hasOwnProperty(p)){if(!j){k=Ext.Object.chain(k);j=true}k[p]=n[p]}}}return k},collectData:function(m,i){var k=[],l=0,p=m.length,n;for(;l<p;l++){n=m[l];k[l]=this.prepareData(n.data,i+l,n)}return k},cleanupData:Ext.emptyFn,bufferRender:function(q,p){var m=this,i=m.renderBuffer,s=document.createDocumentFragment(),r,t,n;m.tpl.overwrite(i,m.collectData(q,p));r=Ext.fly(i).query(m.getItemSelector());for(n=0,t=r.length;n<t;n++){s.appendChild(r[n])}return{fragment:s,children:r}},nodeContainerSelector:null,getNodeContainer:function(){var e=this.getTargetEl(),g=this.nodeContainerSelector;return g?e.down(g,true):e},getNodeContainerSelector:function(){return this.nodeContainerSelector},onUpdate:function(n,q,p,k,m){var l=this,r=m&&m.filtered;if(!r&&l.getNode(q)){if(l.throttledUpdate){l.statics().queueRecordChange(l,n,q,p,k)}else{l.handleUpdate.apply(l,arguments)}}},handleUpdate:function(m,p){var j=this,l,k,n=j.getSelectionModel();if(j.viewReady){l=j.dataSource.indexOf(p);if(l>-1){if(j.getNode(p)){k=j.bufferRender([p],l).children[0];j.all.replaceElement(l,k,true);j.updateIndexes(l,l);n.onUpdate(p);j.refreshSizePending=true;if(n.isSelected(p)){j.onItemSelect(p)}if(j.hasListeners.itemupdate){j.fireEvent("itemupdate",p,l,k)}return k}}}},onReplace:function(x,v,F,E){var z=this,y=z.all,B=z.getSelectionModel(),u=v,H,t,A,G,w,D,C;if(z.rendered){H=z.bufferRender(E,v,true);A=H.fragment;G=H.children;t=y.item(v);if(t){y.item(v).insertSibling(A,"before",true)}else{z.appendNodes(A)}y.insert(v,G);if(F.length){C=z.saveFocusState()}v+=E.length;D=v+F.length-1;w=y.removeRange(v,D,true);if(z.refreshSelmodelOnRefresh!==false){B.refresh()}z.updateIndexes(v);if(z.hasListeners.itemremove){z.fireEvent("itemremove",F,u,w,z)}if(z.hasListeners.itemadd){z.fireEvent("itemadd",E,u,G)}C();z.refreshSize()}},onAdd:function(l,m,k){var j=this,n,p=j.getSelectionModel();if(j.rendered){if(j.all.getCount()===0){j.refresh();n=j.all.slice()}else{n=j.doAdd(m,k);if(j.refreshSelmodelOnRefresh!==false){p.refresh()}j.updateIndexes(k);j.refreshSizePending=true}if(j.hasListeners.itemadd){j.fireEvent("itemadd",m,k,n)}}},appendNodes:function(i){var h=this.all,g=h.getCount();if(this.nodeContainerSelector){this.getNodeContainer().appendChild(i)}else{h.item(g-1).insertSibling(i,"after")}},doAdd:function(v,t){var r=this,n=r.bufferRender(v,t,true),s=n.fragment,w=n.children,q=r.all,u=q.getCount(),p=q.startIndex||0,x=q.endIndex||u-1;if(u===0||t>x){r.appendNodes(s)}else{if(t<=p){q.item(p).insertSibling(s,"before",true)}else{q.item(t).insertSibling(w,"before",true)}}q.insert(t,w);return w},onRemove:function(r,y,u){var t=this,i=t.all,A=t.hasListeners.itemremove,s,x,w,B,z,v;if(i.getCount()){if(t.dataSource.getCount()===0){if(A){t.fireEvent("itemremove",y,u,t.getNodes(u,u+y.length-1))}t.refresh()}else{v=t.saveFocusState();if(A){B=[]}for(x=y.length-1;x>=0;--x){w=y[x];s=u+x;if(B){z=i.item(s);B[x]=z?z.dom:undefined}if(i.item(s)){t.doRemove(w,s)}}if(A){t.fireEvent("itemremove",y,u,B,t)}v();t.updateIndexes(u)}t.refreshSizePending=true}},doRemove:function(g,e){this.all.removeElement(e,true)},saveFocusState:function(){var j=this,m=j.dataSource||j.store,l=j.getNavigationModel(),k=l.recordIndex,i=l.record;if(j.el.contains(Ext.Element.getActiveElement())){j.el.dom.focus();return function(){if(m.getCount()){k=Math.min(k,j.all.getCount()-1);l.setPosition(m.contains(i)?i:k,null,null,true)}}}return Ext.emptyFn},refreshNode:function(d){if(Ext.isNumber(d)){d=this.store.getAt(d)}this.onUpdate(this.dataSource,d)},updateIndexes:function(i,l){var q=this.all.elements,m,r=this.getViewRange(),n,p=this.id;i=i||0;l=l||((l===0)?0:(q.length-1));for(n=i;n<=l;n++){m=q[n];m.setAttribute("data-recordIndex",n);m.setAttribute("data-recordId",r[n].internalId);m.setAttribute("data-boundView",p)}},bindStore:function(l,k){var i=this,m=i.getSelectionModel(),j=i.getNavigationModel();m.bindStore(l);m.bindComponent(l?i:null);i.mixins.storeholder.bindStore.apply(i,arguments);j.setStore(l);if(l&&i.componentLayoutCounter){i.doFirstRefresh(l,!k)}},doFirstRefresh:function(i,g){var h=this;if(h.deferInitialRefresh&&!g){Ext.defer(h.doFirstRefresh,1,h,[i,true])}else{if(i&&!i.isLoading()){h.refresh()}}},onUnbindStore:function(d){this.setMaskBind(null);if(this.dataSource===d){this.dataSource=null}},onBindStore:function(i,g){var h=this;if(h.store.isBufferedStore){h.store.preserveScrollOnReload=h.preserveScrollOnReload}if(g&&g.isBufferedStore){delete g.preserveScrollOnReload}h.setMaskBind(i);if(!h.dataSource){h.dataSource=i}},setMaskBind:function(e){var g=this.loadMask;if(this.rendered&&g&&e&&!g.bindStore){g=this.createMask()}if(g&&g.bindStore){g.bindStore(e)}},getStoreListeners:function(){var d=this;return{refresh:d.onDataRefresh,replace:d.onReplace,add:d.onAdd,remove:d.onRemove,update:d.onUpdate,clear:d.onDataRefresh,beginupdate:d.onBeginUpdate,endupdate:d.onEndUpdate}},onBeginUpdate:function(){++this.updateSuspendCounter;Ext.suspendLayouts()},onEndUpdate:function(){var d=this;if(d.updateSuspendCounter){--d.updateSuspendCounter}Ext.resumeLayouts(true);if(d.refreshSizePending){d.refreshSize(true);d.refreshSizePending=false}},onDataRefresh:function(i){var g=this,h=g.preserveScrollOnRefresh;if(i.loadCount>g.lastRefreshLoadCount){g.preserveScrollOnRefresh=g.preserveScrollOnReLoad}g.refreshView();g.preserveScrollOnRefresh=h;g.lastRefreshLoadCount=i.loadCount},refreshView:function(){var e=this,g=e.blockRefresh||!e.rendered||e.up("[collapsed],[isCollapsingOrExpanding],[hidden]");if(g){e.refreshNeeded=true}else{if(e.bufferedRenderer){e.bufferedRenderer.refreshView()}else{e.refresh()}}},findItemByChild:function(d){return Ext.fly(d).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(d){return d.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){var j=[],k=this.getSelectionModel().getSelection(),h=k.length,i=0;for(;i<h;i++){j.push(this.getNode(k[i]))}return j},getRecords:function(k){var l=[],j=0,m=k.length,i=this.dataSource.data;for(;j<m;j++){l[l.length]=i.getByKey(k[j].getAttribute("data-recordId"))}return l},getRecord:function(d){return this.dataSource.getByInternalId(Ext.getDom(d).getAttribute("data-recordId"))},isSelected:function(e){var g=this.getRecord(e);return this.getSelectionModel().isSelected(g)},select:function(h,g,i){this.getSelectionModel().select(h,g,i)},deselect:function(e,g){this.getSelectionModel().deselect(e,g)},getNode:function(h){var g=this,i;if(g.rendered&&(h||h===0)){if(Ext.isString(h)){i=document.getElementById(h)}else{if(h.isModel){i=g.getNodeByRecord(h)}else{if(Ext.isNumber(h)){i=g.all.elements[h]}else{if(h.target&&h.target.nodeType){h=h.target}i=Ext.fly(h).findParent(g.itemSelector,g.getTargetEl())}}}}return i||null},getNodeByRecord:function(g){var e=this.store.indexOf(g);return this.all.elements[e]||null},getNodes:function(g,i){var h=this.all;if(i!==undefined){i++}return h.slice(g,i)},indexOf:function(d){d=this.getNode(d);if(!d&&d!==0){return -1}if(d.getAttribute("data-recordIndex")){return Number(d.getAttribute("data-recordIndex"))}return this.all.indexOf(d)},onDestroy:function(){var e=this,g=e.updateSuspendCounter;e.all.clear();e.emptyEl=null;Ext.Component.prototype.onDestroy.call(this);e.bindStore(null);e.store=e.dataSource=e.storeListeners=null;if(e.selModelRelayer){e.selModelRelayer.destroy();e.selModelRelayer=null}Ext.destroy(e.navigationModel,e.selectionModel);e.navigationModel=e.selectionModel=e.selModel=null;e.loadMask=null;while(g--){Ext.resumeLayouts(true)}},onItemSelect:function(g){var e=this.getNode(g);if(e){Ext.fly(e).addCls(this.selectedItemCls)}},onItemDeselect:function(g){var e=this.getNode(g);if(e){Ext.fly(e).removeCls(this.selectedItemCls)}},getItemSelector:function(){return this.itemSelector},addItemCls:function(h,i){var g=this.getNode(h);if(g){Ext.fly(g).addCls(i)}},removeItemCls:function(h,i){var g=this.getNode(h);if(g){Ext.fly(g).removeCls(i)}},setStore:function(g){var e=this;if(e.store!==g){if(e.isConfiguring){e.store=g}else{e.bindStore(g,false)}}},privates:{toggleChildrenTabbability:function(e){var g=this.getTargetEl();if(e){g.restoreTabbableState(true)}else{g.saveTabbableState({skipSelf:true,includeSaved:false})}},collectNodes:function(g){var h=this.all,i={role:this.itemAriaRole};h.fill(Ext.fly(g).query(this.getItemSelector()),h.startIndex||0);if(this.focusable){i.tabindex="-1"}h.set(i)},createMask:function(j){var h=this,i=h.getStore(),k;if(i&&!i.isEmptyStore&&!i.loadsSynchronously()){k={target:h,msg:h.loadingText,useMsg:h.loadingUseMsg,store:i};if(h.loadingCls){k.msgCls=h.loadingCls}if(Ext.isObject(j)){k=Ext.apply(k,j)}h.loadMask=new Ext.LoadMask(k);h.loadMask.on({scope:h,beforeshow:h.onMaskBeforeShow,hide:h.onMaskHide})}return h.loadMask},getOverflowEl:function(){return Ext.Component.prototype.getTargetEl.call(this)},getTargetEl:function(){return this.touchScroll?this.getScrollerEl():Ext.Component.prototype.getTargetEl.call(this)}}},1,0,["component","box"],{component:true,box:true},0,[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.view,"AbstractView"],function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){if(Ext.global.console){Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel")}return this.selModel.getSelection().length},getSelectedRecords:function(){if(Ext.global.console){Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel")}return this.selModel.getSelection()},select:function(k,j,h){if(Ext.global.console){Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()")}var i=this.getSelectionModel();return i.select.apply(i,arguments)},clearSelections:function(){if(Ext.global.console){Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()")}var d=this.getSelectionModel();return d.deselectAll()}})})}));(Ext.cmd.derive("Ext.view.View",Ext.view.AbstractView,{alternateClassName:"Ext.DataView",inputTagRe:/^textarea$|^input$/i,keyEventRe:/^key/,inheritableStatics:{EventMap:{longpress:"LongPress",mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",keyup:"KeyUp",keypress:"KeyPress",focus:"Focus"},TouchEventMap:{touchstart:"mousedown",touchend:"mouseup",tap:"click",doubletap:"dblclick"}},afterRender:function(){var d=this;Ext.view.AbstractView.prototype.afterRender.call(this);d.mon(d.el,{scope:d,click:d.handleEvent,longpress:d.handleEvent,mousedown:d.handleEvent,mouseup:d.handleEvent,dblclick:d.handleEvent,contextmenu:d.handleEvent,keydown:d.handleEvent,keyup:d.handleEvent,keypress:d.handleEvent,mouseover:d.handleMouseOver,mouseout:d.handleMouseOut})},getTargetSelector:function(){return this.dataRowSelector||this.itemSelector},handleMouseOver:function(e){var i=this,k=i.getTargetSelector(),j=e.getTarget(k);if(!i.destroyed){if(j){if(i.mouseOverItem!==j&&i.el.contains(j)){i.mouseOverItem=e.item=j;e.newType="mouseenter";i.handleEvent(e)}}else{i.handleEvent(e)}}},handleMouseOut:function(e){var l=this,n=l.getTargetSelector(),m=e.getTarget(n),k=e.getRelatedTarget(n),p;if((m===k)&&!(m===null&&k===null)){return}if(!l.destroyed){if(m&&(p=l.self.getBoundView(m))){e.item=m;e.newType="mouseleave";p.handleEvent(e);p.mouseOverItem=null}else{l.handleEvent(e)}}},handleEvent:function(e){var h=this,i=h.keyEventRe.test(e.type);e.view=h;e.item=e.getTarget(h.itemSelector);if(e.item){e.record=h.getRecord(e.item)}if(h.processUIEvent(e)!==false){h.processSpecialEvent(e)}if(i&&!Ext.fly(e.target).isInputField()){if(e.getKey()===e.SPACE||e.isNavKeyPress(true)){e.preventDefault()}}e.view=null},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(t){if(!Ext.getBody().isAncestor(t.target)){return}var q=this,p=t.item,e=q.self,x=e.EventMap,s=e.TouchEventMap,u,v=t.record,r=t.type,w=r;if(t.newType){w=t.newType}if(p){w=s[w]||w;u=t.recordIndex=q.indexInStore?q.indexInStore(v):q.indexOf(p);if(!v||q.processItemEvent(v,p,u,t)===false){return false}if((q["onBeforeItem"+x[w]](v,p,u,t)===false)||(q.fireEvent("beforeitem"+w,q,v,p,u,t)===false)||(q["onItem"+x[w]](v,p,u,t)===false)){return false}q.fireEvent("item"+w,q,v,p,u,t)}else{r=s[r]||r;if((q.processContainerEvent(t)===false)||(q["onBeforeContainer"+x[r]](t)===false)||(q.fireEvent("beforecontainer"+r,q,t)===false)||(q["onContainer"+x[r]](t)===false)){return false}q.fireEvent("container"+r,q,t)}return true},onItemMouseEnter:function(k,i,j,e){if(this.trackOver){this.highlightItem(i)}},onItemMouseLeave:function(k,i,j,e){if(this.trackOver){this.clearHighlight()}},onItemMouseDown:Ext.emptyFn,onItemLongPress:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onItemKeyUp:Ext.emptyFn,onItemKeyPress:Ext.emptyFn,onBeforeItemLongPress:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onBeforeItemKeyUp:Ext.emptyFn,onBeforeItemKeyPress:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerLongPress:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onContainerKeyUp:Ext.emptyFn,onContainerKeyPress:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerLongPress:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,onBeforeContainerKeyUp:Ext.emptyFn,onBeforeContainerKeyPress:Ext.emptyFn,setHighlightedItem:function(i){var j=this,k=j.highlightedItem,h=j.overItemCls;if(k!==i){if(k){Ext.fly(k).removeCls(h);if(Ext.isIE8){j.repaintBorder(k);j.repaintBorder(k.nextSibling)}if(j.hasListeners.unhighlightitem){j.fireEvent("unhighlightitem",j,k)}}j.highlightedItem=i;if(i){Ext.fly(i).addCls(j.overItemCls);if(Ext.isIE8){j.repaintBorder(i.nextSibling)}if(j.hasListeners.highlightitem){j.fireEvent("highlightitem",j,i)}}}},highlightItem:function(d){this.setHighlightedItem(d)},clearHighlight:function(){this.setHighlightedItem(undefined)},handleUpdate:function(n,p){var j=this,k,m,l;if(j.viewReady){k=j.getNode(p);m=Ext.view.AbstractView.prototype.handleUpdate.apply(this,arguments);l=j.highlightedItem;if(l&&l===k){delete j.highlightedItem;if(m){j.highlightItem(m)}}}},refresh:function(){this.clearHighlight();Ext.view.AbstractView.prototype.refresh.apply(this,arguments)},focusNode:function(l){var n=this,p=Ext.fly(n.getNode(l)),q=n.el,t=0,s=0,m=q.getRegion(),r;m.bottom=m.top+q.dom.clientHeight;m.right=m.left+q.dom.clientWidth;if(p){r=p.getRegion();if(r.top<m.top){t=r.top-m.top}else{if(r.bottom>m.bottom){t=r.bottom-m.bottom}}if(r.left<m.left){s=r.left-m.left}else{if(r.right>m.right){s=r.right-m.right}}if(s||t){n.scrollBy(s,t,false)}p.set({tabIndex:-1});p.focus()}},privates:{repaintBorder:function(e){var g=this.getNode(e);if(g){g.className=g.className}}}},0,["dataview"],["component","box","dataview"],{component:true,box:true,dataview:true},["widget.dataview"],0,[Ext.view,"View",Ext,"DataView"],0));(Ext.cmd.derive("Ext.view.BoundListKeyNav",Ext.view.NavigationModel,{navigateOnSpace:true,initKeyNav:function(i){var h=this,g=i.pickerField;if(!h.keyNav){Ext.view.NavigationModel.prototype.initKeyNav.call(this,i);h.keyNav.map.addBinding({key:Ext.event.Event.ESC,fn:h.onKeyEsc,scope:h})}if(!g){return}if(!g.rendered){g.on("render",Ext.Function.bind(h.initKeyNav,h,[i],0),h,{single:true});return}h.fieldKeyNav=new Ext.util.KeyNav({disabled:true,target:g.inputEl,forceKeyDown:true,up:h.onKeyUp,down:h.onKeyDown,right:h.onKeyRight,left:h.onKeyLeft,pageDown:h.onKeyPageDown,pageUp:h.onKeyPageUp,home:h.onKeyHome,end:h.onKeyEnd,tab:h.onKeyTab,space:h.onKeySpace,enter:h.onKeyEnter,A:{ctrl:true,handler:h.onSelectAllKeyPress},priority:1001,scope:h})},processViewEvent:function(l,m,i,k,j){if(j.within(l.listWrap)){return j}if(j.getKey()===j.ESC){if(Ext.fly(j.target).isInputField()){j.target=j.target.parentNode}return j}},enable:function(){this.fieldKeyNav.enable();Ext.view.NavigationModel.prototype.enable.call(this)},disable:function(){this.fieldKeyNav.disable();Ext.view.NavigationModel.prototype.disable.call(this)},onItemMouseDown:function(l,m,i,k,j){Ext.view.NavigationModel.prototype.onItemMouseDown.call(this,l,m,i,k,j);j.preventDefault()},onKeyUp:function(e){var m=this,q=m.view,n=q.all,l=q.highlightedItem,p=l?q.indexOf(l):-1,r=p>0?p-1:n.getCount()-1;m.setPosition(r);e.preventDefault()},onKeyDown:function(e){var m=this,q=m.view,n=q.all,l=q.highlightedItem,p=l?q.indexOf(l):-1,r=p<n.getCount()-1?p+1:0;m.setPosition(r);e.preventDefault()},onKeyLeft:Ext.returnTrue,onKeyRight:Ext.returnTrue,onKeyTab:function(e){var i=this.view,h=i.pickerField;if(i.isVisible()){if(h.selectOnTab){this.selectHighlighted(e)}if(h.collapse){h.collapse()}}return true},onKeyEnter:function(e){var m=this.view,l=m.getSelectionModel(),j=m.pickerField,k=l.getCount();e.stopEvent();this.selectHighlighted(e);if(!j.multiSelect&&k===l.getCount()&&j.collapse){j.collapse()}return false},onKeySpace:function(){if(this.navigateOnSpace){Ext.view.NavigationModel.prototype.onKeySpace.apply(this,arguments)}return true},onKeyEsc:function(){if(this.view.pickerField){this.view.pickerField.collapse()}},focusItem:function(g){var h=this,i=h.view;if(typeof g==="number"){g=i.all.item(g)}if(g){g=g.dom;i.highlightItem(g);i.getScrollable().scrollIntoView(g,false)}},selectHighlighted:function(e){var k=this,n=k.view,p=n.getSelectionModel(),m,l=k.recordIndex;if(n.all.getCount()){m=k.getRecord();if(m){if(e.getKey()===e.ENTER||!p.isSelected(m)){p.selectWithEvent(m,e);if(!n.store.data.contains(m)){k.setPosition(Math.min(l,n.store.getCount()-1))}}}}},destroy:function(){this.fieldKeyNav=Ext.destroy(this.fieldKeyNav);Ext.view.NavigationModel.prototype.destroy.call(this)}},0,0,0,0,["view.navigation.boundlist"],0,[Ext.view,"BoundListKeyNav"],0));(Ext.cmd.derive("Ext.layout.component.BoundList",Ext.layout.component.Auto,{type:"component",beginLayout:function(h){var i=this,k=i.owner,j=k.pagingToolbar;i.scrollPos=k.listWrap.getScroll();Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);if(k.floating){h.savedXY=k.getXY();k.setXY([0,-9999])}if(j){h.toolbarContext=h.context.getCmp(j)}h.listContext=h.getEl("listWrap")},beginLayoutCycle:function(e){var g=this.owner;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,arguments);if(e.heightModel.auto){g.el.setHeight("auto");g.listWrap.setHeight("auto")}},getLayoutItems:function(){var d=this.owner.pagingToolbar;return d?[d]:[]},isValidParent:function(){return true},finishedLayout:function(l){var m=this,k=l.savedXY,p=m.owner,n=p.listWrap,j=m.scrollPos;Ext.layout.component.Auto.prototype.finishedLayout.apply(this,arguments);if(k){m.owner.setXY(k)}n.setScrollLeft(j.left);n.setScrollTop(j.top)},measureContentWidth:function(d){return this.owner.listWrap.getWidth()},measureContentHeight:function(d){return this.owner.listWrap.getHeight()},publishInnerHeight:function(i,k){var j=i.toolbarContext,h=0;if(j){h=j.getProp("height")}if(h===undefined){this.done=false}else{i.listContext.setHeight(k-i.getFrameInfo().height-h)}},calculateOwnerHeightFromContentHeight:function(g){var i=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.apply(this,arguments),h=g.toolbarContext;if(h){i+=h.getProp("height")}return i}},0,0,0,0,["layout.boundlist"],0,[Ext.layout.component,"BoundList"],0));(Ext.cmd.derive("Ext.toolbar.Item",Ext.Component,{alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn},0,["tbitem"],["component","box","tbitem"],{component:true,box:true,tbitem:true},["widget.tbitem"],0,[Ext.toolbar,"Item",Ext.Toolbar,"Item"],0));(Ext.cmd.derive("Ext.toolbar.TextItem",Ext.toolbar.Item,{alternateClassName:"Ext.Toolbar.TextItem",text:"",baseCls:"x-toolbar-text",ariaRole:null,beforeRender:function(){var d=this.text;Ext.toolbar.Item.prototype.beforeRender.call(this);if(d){this.html=d}},setText:function(d){this.update(d)}},0,["tbtext"],["component","box","tbitem","tbtext"],{component:true,box:true,tbitem:true,tbtext:true},["widget.tbtext"],0,[Ext.toolbar,"TextItem",Ext.Toolbar,"TextItem"],0));(Ext.cmd.derive("Ext.form.trigger.Spinner",Ext.form.trigger.Trigger,{cls:"x-form-trigger-spinner",spinnerCls:"x-form-spinner",spinnerUpCls:"x-form-spinner-up",spinnerDownCls:"x-form-spinner-down",focusCls:"x-form-spinner-focus",overCls:"x-form-spinner-over",clickCls:"x-form-spinner-click",focusFieldOnClick:true,vertical:true,bodyTpl:'<tpl if="vertical"><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerUpCls} {spinnerUpCls}-{ui} {childElCls} {upDisabledCls}"></div></tpl><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerDownCls} {spinnerDownCls}-{ui} {childElCls} {downDisabledCls}"></div><tpl if="!vertical"><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerUpCls} {spinnerUpCls}-{ui} {childElCls} {upDisabledCls}"></div></tpl>',destroy:function(){var d=this;if(d.spinnerEl){d.spinnerEl.destroy();d.spinnerEl=d.upEl=d.downEl=null}Ext.form.trigger.Trigger.prototype.destroy.call(this)},getBodyRenderData:function(){var d=this;return{vertical:d.vertical,upDisabledCls:d.upEnabled?"":(d.spinnerUpCls+"-disabled"),downDisabledCls:d.downEnabled?"":(d.spinnerDownCls+"-disabled"),spinnerCls:d.spinnerCls,spinnerUpCls:d.spinnerUpCls,spinnerDownCls:d.spinnerDownCls}},getStateEl:function(){return this.spinnerEl},onClick:function(){var j=this,k=arguments,e=j.clickRepeater?k[1]:k[0],i=j.field;if(!i.readOnly&&!i.disabled){if(j.upEl.contains(e.target)){Ext.callback(j.upHandler,j.scope,[i,j,e],0,i)}else{if(j.downEl.contains(e.target)){Ext.callback(j.downHandler,j.scope,[i,j,e],0,i)}}}i.inputEl.focus()},onFieldRender:function(){var j=this,k=j.vertical,h,i;Ext.form.trigger.Trigger.prototype.onFieldRender.call(this);h=j.spinnerEl=j.el.select("."+j.spinnerCls,true);i=h.elements;j.upEl=k?i[0]:i[1];j.downEl=k?i[1]:i[0]},setUpEnabled:function(d){this.upEl[d?"removeCls":"addCls"](this.spinnerUpCls+"-disabled")},setDownEnabled:function(d){this.downEl[d?"removeCls":"addCls"](this.spinnerDownCls+"-disabled")}},0,0,0,0,["trigger.spinner"],0,[Ext.form.trigger,"Spinner"],0));(Ext.cmd.derive("Ext.form.field.Spinner",Ext.form.field.Text,{alternateClassName:"Ext.form.Spinner",config:{triggers:{spinner:{type:"spinner",upHandler:"onSpinnerUpClick",downHandler:"onSpinnerDownClick",scope:"this"}}},spinUpEnabled:true,spinDownEnabled:true,keyNavEnabled:true,mouseWheelEnabled:true,repeatTriggerClick:true,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,ariaRole:"spinbutton",applyTriggers:function(h){var g=this,i=h.spinner;i.upEnabled=g.spinUpEnabled;i.downEnabled=g.spinDownEnabled;return Ext.form.field.Text.prototype.applyTriggers.call(this,h)},onRender:function(){var e=this,g=e.getTrigger("spinner");(arguments.callee.$previous||Ext.form.field.Text.prototype.onRender).call(this);if(e.keyNavEnabled){e.spinnerKeyNav=new Ext.util.KeyNav(e.inputEl,{scope:e,up:e.spinUp,down:e.spinDown})}if(e.mouseWheelEnabled){e.mon(e.bodyEl,"mousewheel",e.onMouseWheel,e)}e.spinUpEl=g.upEl;e.spinDownEl=g.downEl},onSpinnerUpClick:function(){this.spinUp()},onSpinnerDownClick:function(){this.spinDown()},spinUp:function(){var d=this;if(d.spinUpEnabled&&!d.disabled){d.fireEvent("spin",d,"up");d.fireEvent("spinup",d);d.onSpinUp()}},spinDown:function(){var d=this;if(d.spinDownEnabled&&!d.disabled){d.fireEvent("spin",d,"down");d.fireEvent("spindown",d);d.onSpinDown()}},setSpinUpEnabled:function(i){var h=this,g=h.spinUpEnabled;h.spinUpEnabled=i;if(g!==i&&h.rendered){h.getTrigger("spinner").setUpEnabled(i)}},setSpinDownEnabled:function(i){var h=this,g=h.spinDownEnabled;h.spinDownEnabled=i;if(g!==i&&h.rendered){h.getTrigger("spinner").setDownEnabled(i)}},onMouseWheel:function(h){var i=this,e;if(i.hasFocus){e=h.getWheelDelta();if(e>0){i.spinUp()}else{if(e<0){i.spinDown()}}h.stopEvent()}},onDestroy:function(){Ext.destroyMembers(this,"spinnerKeyNav");Ext.form.field.Text.prototype.onDestroy.call(this)}},0,["spinnerfield"],["component","box","field","textfield","spinnerfield"],{component:true,box:true,field:true,textfield:true,spinnerfield:true},["widget.spinnerfield"],0,[Ext.form.field,"Spinner",Ext.form,"Spinner"],0));(Ext.cmd.derive("Ext.form.field.Number",Ext.form.field.Spinner,{alternateClassName:["Ext.form.NumberField","Ext.form.Number"],allowExponential:true,allowDecimals:true,decimalSeparator:null,submitLocaleSeparator:true,decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",negativeText:"The value cannot be negative",baseChars:"0123456789",autoStripChars:false,initComponent:function(){var d=this;if(d.decimalSeparator===null){d.decimalSeparator=Ext.util.Format.decimalSeparator}Ext.form.field.Spinner.prototype.initComponent.call(this);d.setMinValue(d.minValue);d.setMaxValue(d.maxValue)},getSubTplData:function(p){var m=this,n=m.minValue,r=m.maxValue,k,q,l;k=Ext.form.field.Spinner.prototype.getSubTplData.call(this,p);q=k.inputElAriaAttributes;if(q){if(n>Number.NEGATIVE_INFINITY){q["aria-valuemin"]=n}if(r<Number.MAX_VALUE){q["aria-valuemax"]=r}l=m.getValue();if(l!=null&&l>=n&&l<=r){q["aria-valuenow"]=l}}return k},setValue:function(i){var j=this,h,k;if(j.hasFocus){h=j.getBind();k=h&&h.value;if(k&&k.syncing&&i===j.value){return j}}return Ext.form.field.Spinner.prototype.setValue.call(this,i)},getErrors:function(k){k=arguments.length>0?k:this.processRawValue(this.getRawValue());var l=this,i=Ext.form.field.Spinner.prototype.getErrors.call(this,k),j=Ext.String.format,m;if(k.length<1){return i}k=String(k).replace(l.decimalSeparator,".");if(isNaN(k)){i.push(j(l.nanText,k))}m=l.parseValue(k);if(l.minValue===0&&m<0){i.push(this.negativeText)}else{if(m<l.minValue){i.push(j(l.minText,l.minValue))}}if(m>l.maxValue){i.push(j(l.maxText,l.maxValue))}return i},rawToValue:function(e){var g=this.fixPrecision(this.parseValue(e));if(g===null){g=e||null}return g},valueToRaw:function(g){var h=this,i=h.decimalSeparator;g=h.parseValue(g);g=h.fixPrecision(g);g=Ext.isNumber(g)?g:parseFloat(String(g).replace(i,"."));g=isNaN(g)?"":String(g).replace(".",i);return g},getSubmitValue:function(){var g=this,e=Ext.form.field.Spinner.prototype.getSubmitValue.call(this);if(!g.submitLocaleSeparator){e=e.replace(g.decimalSeparator,".")}return e},onChange:function(e){var g=this.ariaEl.dom;this.toggleSpinners();Ext.form.field.Spinner.prototype.onChange.apply(this,arguments);if(g){if(Ext.isNumber(e)&&isFinite(e)){g.setAttribute("aria-valuenow",e)}else{g.removeAttribute("aria-valuenow")}}},toggleSpinners:function(){var i=this,h=i.getValue(),j=h===null,k;if(i.spinUpEnabled||i.spinUpDisabledByToggle){k=j||h<i.maxValue;i.setSpinUpEnabled(k,true)}if(i.spinDownEnabled||i.spinDownDisabledByToggle){k=j||h>i.minValue;i.setSpinDownEnabled(k,true)}},setMinValue:function(j){var l=this,m=l.ariaEl.dom,k,i,m;l.minValue=k=Ext.Number.from(j,Number.NEGATIVE_INFINITY);l.toggleSpinners();if(m){if(k>Number.NEGATIVE_INFINITY){m.setAttribute("aria-valuemin",k)}else{m.removeAttribute("aria-valuemin")}}if(l.disableKeyFilter!==true){i=l.baseChars+"";if(l.allowExponential){i+=l.decimalSeparator+"e+-"}else{if(l.allowDecimals){i+=l.decimalSeparator}if(l.minValue<0){i+="-"}}i=Ext.String.escapeRegex(i);l.maskRe=new RegExp("["+i+"]");if(l.autoStripChars){l.stripCharsRe=new RegExp("[^"+i+"]","gi")}}},setMaxValue:function(h){var i=this.ariaEl.dom,g;this.maxValue=g=Ext.Number.from(h,Number.MAX_VALUE);if(i){if(g<Number.MAX_VALUE){i.setAttribute("aria-valuemax",g)}else{i.removeAttribute("aria-valuemax")}}this.toggleSpinners()},parseValue:function(d){d=parseFloat(String(d).replace(this.decimalSeparator,"."));return isNaN(d)?null:d},fixPrecision:function(h){var i=this,j=isNaN(h),k=i.decimalPrecision;if(j||!h){return j?"":h}else{if(!i.allowDecimals||k<=0){k=0}}return parseFloat(Ext.Number.toFixed(parseFloat(h),k))},onBlur:function(e){var h=this,i=h.rawToValue(h.getRawValue());if(!Ext.isEmpty(i)){h.setValue(i)}Ext.form.field.Spinner.prototype.onBlur.call(this,e)},setSpinUpEnabled:function(e,g){Ext.form.field.Spinner.prototype.setSpinUpEnabled.apply(this,arguments);if(!g){delete this.spinUpDisabledByToggle}else{this.spinUpDisabledByToggle=!e}},onSpinUp:function(){var d=this;if(!d.readOnly){d.setSpinValue(Ext.Number.constrain(d.getValue()+d.step,d.minValue,d.maxValue))}},setSpinDownEnabled:function(e,g){Ext.form.field.Spinner.prototype.setSpinDownEnabled.apply(this,arguments);if(!g){delete this.spinDownDisabledByToggle}else{this.spinDownDisabledByToggle=!e}},onSpinDown:function(){var d=this;if(!d.readOnly){d.setSpinValue(Ext.Number.constrain(d.getValue()-d.step,d.minValue,d.maxValue))}},setSpinValue:function(e){var g=this;if(g.enforceMaxLength){if(g.fixPrecision(e).toString().length>g.maxLength){return}}g.setValue(e)}},0,["numberfield"],["component","box","field","textfield","spinnerfield","numberfield"],{component:true,box:true,field:true,textfield:true,spinnerfield:true,numberfield:true},["widget.numberfield"],0,[Ext.form.field,"Number",Ext.form,"NumberField",Ext.form,"Number"],0));(Ext.cmd.derive("Ext.toolbar.Paging",Ext.toolbar.Toolbar,{alternateClassName:"Ext.PagingToolbar",displayInfo:false,prependButtons:false,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",inputItemWidth:30,emptyPageData:{total:0,currentPage:0,pageCount:0,toRecord:0,fromRecord:0},defaultBindProperty:"store",getPagingItems:function(){var e=this,g={scope:e,blur:e.onPagingBlur};g[Ext.supports.SpecialKeyDownRepeat?"keydown":"keypress"]=e.onPagingKeyDown;return[{itemId:"first",tooltip:e.firstText,overflowText:e.firstText,iconCls:"x-tbar-page-first",disabled:true,handler:e.moveFirst,scope:e},{itemId:"prev",tooltip:e.prevText,overflowText:e.prevText,iconCls:"x-tbar-page-prev",disabled:true,handler:e.movePrevious,scope:e},"-",e.beforePageText,{xtype:"numberfield",itemId:"inputItem",name:"inputItem",cls:"x-tbar-page-number",allowDecimals:false,minValue:1,hideTrigger:true,enableKeyEvents:true,keyNavEnabled:false,selectOnFocus:true,submitValue:false,isFormField:false,width:e.inputItemWidth,margin:"-1 2 3 2",listeners:g},{xtype:"tbtext",itemId:"afterTextItem",html:Ext.String.format(e.afterPageText,1)},"-",{itemId:"next",tooltip:e.nextText,overflowText:e.nextText,iconCls:"x-tbar-page-next",disabled:true,handler:e.moveNext,scope:e},{itemId:"last",tooltip:e.lastText,overflowText:e.lastText,iconCls:"x-tbar-page-last",disabled:true,handler:e.moveLast,scope:e},"-",{itemId:"refresh",tooltip:e.refreshText,overflowText:e.refreshText,iconCls:"x-tbar-loading",disabled:e.store.isLoading(),handler:e.doRefresh,scope:e}]},initComponent:function(){var h=this,i=h.items||h.buttons||[],g;h.bindStore(h.store||"ext-empty-store",true);g=h.getPagingItems();if(h.prependButtons){h.items=i.concat(g)}else{h.items=g.concat(i)}delete h.buttons;if(h.displayInfo){h.items.push("->");h.items.push({xtype:"tbtext",itemId:"displayItem"})}Ext.toolbar.Toolbar.prototype.initComponent.call(this)},beforeRender:function(){Ext.toolbar.Toolbar.prototype.beforeRender.apply(this,arguments);this.updateBarInfo()},updateBarInfo:function(){var d=this;if(!d.store.isLoading()){d.calledInternal=true;d.onLoad();d.calledInternal=false}},updateInfo:function(){var k=this,m=k.child("#displayItem"),p=k.store,n=k.getPageData(),l,j;if(m){l=p.getCount();if(l===0){j=k.emptyMsg}else{j=Ext.String.format(k.displayMsg,n.fromRecord,n.toRecord,n.total)}m.setText(j)}},onLoad:function(){var m=this,q,s,r,t,n,l,p;n=m.store.getCount();l=n===0;if(!l){q=m.getPageData();s=q.currentPage;r=q.pageCount;if(s>r){if(r>0){m.store.loadPage(r)}else{m.getInputItem().reset()}return}t=Ext.String.format(m.afterPageText,isNaN(r)?1:r)}else{s=0;r=0;t=Ext.String.format(m.afterPageText,0)}Ext.suspendLayouts();p=m.child("#afterTextItem");if(p){p.update(t)}p=m.getInputItem();if(p){p.setDisabled(l).setValue(s)}m.setChildDisabled("#first",s===1||l);m.setChildDisabled("#prev",s===1||l);m.setChildDisabled("#next",s===r||l);m.setChildDisabled("#last",s===r||l);m.setChildDisabled("#refresh",false);m.updateInfo();Ext.resumeLayouts(true);if(!m.calledInternal){m.fireEvent("change",m,q||m.emptyPageData)}},setChildDisabled:function(i,h){var g=this.child(i);if(g){g.setDisabled(h)}},getPageData:function(){var e=this.store,g=e.getTotalCount();return{total:g,currentPage:e.currentPage,pageCount:Math.ceil(g/e.pageSize),fromRecord:((e.currentPage-1)*e.pageSize)+1,toRecord:Math.min(e.currentPage*e.pageSize,g)}},onLoadError:function(){this.setChildDisabled("#refresh",false)},getInputItem:function(){return this.child("#inputItem")},readPageFromInput:function(j){var i=this.getInputItem(),h=false,k;if(i){k=i.getValue();h=parseInt(k,10);if(!k||isNaN(h)){i.setValue(j.currentPage);return false}}return h},onPagingBlur:function(e){var h=this.getInputItem(),i;if(h){i=this.getPageData().currentPage;h.setValue(i)}},onPagingKeyDown:function(e,g){this.processKeyEvent(e,g)},processKeyEvent:function(e,l){var n=this,p=l.getKey(),q=n.getPageData(),r=l.shiftKey?10:1,m;if(p===l.RETURN){l.stopEvent();m=n.readPageFromInput(q);if(m!==false){m=Math.min(Math.max(1,m),q.pageCount);if(m!==q.currentPage&&n.fireEvent("beforechange",n,m)!==false){n.store.loadPage(m)}}}else{if(p===l.HOME||p===l.END){l.stopEvent();m=p===l.HOME?1:q.pageCount;e.setValue(m)}else{if(p===l.UP||p===l.PAGE_UP||p===l.DOWN||p===l.PAGE_DOWN){l.stopEvent();m=n.readPageFromInput(q);if(m){if(p===l.DOWN||p===l.PAGE_DOWN){r*=-1}m+=r;if(m>=1&&m<=q.pageCount){e.setValue(m)}}}}}},beforeLoad:function(){this.setChildDisabled("#refresh",true)},moveFirst:function(){if(this.fireEvent("beforechange",this,1)!==false){this.store.loadPage(1);return true}return false},movePrevious:function(){var g=this,i=g.store,h=i.currentPage-1;if(h>0){if(g.fireEvent("beforechange",g,h)!==false){i.previousPage();return true}}return false},moveNext:function(){var h=this,k=h.store,i=h.getPageData().pageCount,j=k.currentPage+1;if(j<=i){if(h.fireEvent("beforechange",h,j)!==false){k.nextPage();return true}}return false},moveLast:function(){var e=this,g=e.getPageData().pageCount;if(e.fireEvent("beforechange",e,g)!==false){e.store.loadPage(g);return true}return false},doRefresh:function(){var h=this,i=h.store,g=i.currentPage;if(h.fireEvent("beforechange",h,g)!==false){i.loadPage(g);return true}return false},getStoreListeners:function(){return{beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}},onBindStore:function(){if(this.rendered){this.updateBarInfo()}},onDestroy:function(){this.bindStore(null);Ext.toolbar.Toolbar.prototype.onDestroy.call(this)}},0,["pagingtoolbar"],["component","box","container","toolbar","pagingtoolbar"],{component:true,box:true,container:true,toolbar:true,pagingtoolbar:true},["widget.pagingtoolbar"],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.toolbar,"Paging",Ext,"PagingToolbar"],0));Ext.define("Ext.theme.neptune.toolbar.Paging",{override:"Ext.toolbar.Paging",defaultButtonUI:"plain-toolbar",inputItemWidth:40});(Ext.cmd.derive("Ext.view.BoundList",Ext.view.View,{alternateClassName:"Ext.BoundList",pageSize:0,baseCls:"x-boundlist",itemCls:"x-boundlist-item",listItemCls:"",shadow:false,trackOver:true,preserveScrollOnRefresh:true,enableInitialSelection:false,refreshSelmodelOnRefresh:true,componentLayout:"boundlist",navigationModel:"boundlist",scrollable:true,ariaEl:"listEl",tabIndex:-1,childEls:["listWrap","listEl"],renderTpl:['<div id="{id}-listWrap" data-ref="listWrap"',' class="{baseCls}-list-ct ',Ext.dom.Element.unselectableCls,'">','<ul id="{id}-listEl" data-ref="listEl" class="',"x-",'list-plain"','<tpl foreach="ariaAttributes"> {$}="{.}"</tpl>',">","</ul>","</div>","{%","var pagingToolbar=values.$comp.pagingToolbar;","if (pagingToolbar) {","Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);","}","%}",{disableFormats:true}],focusOnToFront:false,initComponent:function(){var h=this,i=h.baseCls,g=h.itemCls;h.selectedItemCls=i+"-selected";if(h.trackOver){h.overItemCls=i+"-item-over"}h.itemSelector="."+g;h.scrollerSelector="ul.x-list-plain";if(h.floating){h.addCls(i+"-floating")}if(!h.tpl){h.tpl=new Ext.XTemplate('<tpl for=".">','<li role="option" unselectable="on" class="'+g+'">'+h.getInnerTpl(h.displayField)+"</li>","</tpl>")}else{if(!h.tpl.isTemplate){h.tpl=new Ext.XTemplate(h.tpl)}}if(h.pageSize){h.pagingToolbar=h.createPagingToolbar()}Ext.view.View.prototype.initComponent.call(this)},getRefOwner:function(){return this.pickerField||Ext.view.View.prototype.getRefOwner.call(this)},getRefItems:function(){var g=Ext.view.View.prototype.getRefItems.call(this),e=this.pagingToolbar;if(e){g.push(e)}return g},createPagingToolbar:function(){return Ext.widget("pagingtoolbar",{id:this.id+"-paging-toolbar",pageSize:this.pageSize,store:this.dataSource,border:false,ownerCt:this,ownerLayout:this.getComponentLayout()})},getNodeContainer:function(){return this.listEl},refresh:function(){var e=this,g=e.tpl;g.field=e.pickerField;g.store=e.store;Ext.view.View.prototype.refresh.call(this);g.field=g.store=null},bindStore:function(i,h){var g=this.pagingToolbar;Ext.view.View.prototype.bindStore.apply(this,arguments);if(g){g.bindStore(i,h)}},getInnerTpl:function(d){return"{"+d+"}"},onShow:function(){var d=this.pickerField;Ext.view.View.prototype.onShow.call(this);if(d&&d.rendered&&!d.hasFocus){d.focus()}},afterComponentLayout:function(k,m,l,i){var j=this.pickerField;Ext.view.View.prototype.afterComponentLayout.call(this,k,m,l,i);if(j&&j.alignPicker){j.alignPicker()}},onItemClick:function(m){var j=this,i=j.pickerField,l,k;if(!i){return}l=i.valueField;k=j.getSelectionModel().getSelection();if(!i.multiSelect&&k.length){k=k[0];if(k&&i.isEqual(m.get(l),k.get(l))&&i.collapse){i.collapse()}}},onContainerClick:function(e){var g=this.pagingToolbar;if(g&&g.rendered&&e.within(g.el)){return false}},onDestroy:function(){Ext.view.View.prototype.onDestroy.call(this);Ext.destroyMembers(this,"pagingToolbar","listWrap","listEl")},privates:{getTargetEl:function(){return this.listEl},getOverflowEl:function(){return this.listWrap},finishRenderChildren:function(){var d=this.pagingToolbar;Ext.view.View.prototype.finishRenderChildren.apply(this,arguments);if(d){d.finishRender()}}}},0,["boundlist"],["component","box","dataview","boundlist"],{component:true,box:true,dataview:true,boundlist:true},["widget.boundlist"],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.view,"BoundList",Ext,"BoundList"],0));(Ext.cmd.derive("Ext.form.field.ComboBox",Ext.form.field.Picker,{alternateClassName:"Ext.form.ComboBox",config:{filters:null,selection:null,valueNotFoundText:null,displayTpl:false,delimiter:", ",displayField:"text"},publishes:["selection"],twoWayBindable:["selection"],triggerCls:"x-form-arrow-trigger",hiddenName:"",collapseOnSelect:false,hiddenDataCls:"x-hidden-display x-form-data-hidden",ariaRole:"combobox",childEls:{hiddenDataEl:true},filtered:false,afterRender:function(){var d=this;Ext.form.field.Picker.prototype.afterRender.apply(this,arguments);d.setHiddenValue(d.value)},multiSelect:false,triggerAction:"all",allQuery:"",queryParam:"query",queryMode:"remote",queryCaching:true,autoLoadOnValue:false,pageSize:0,anyMatch:false,caseSensitive:false,autoSelect:true,typeAhead:false,typeAheadDelay:250,selectOnTab:true,forceSelection:false,growToLongestValue:true,clearFilterOnBlur:true,defaultListConfig:{loadingHeight:70,minWidth:70,maxHeight:300,shadow:"sides"},transformInPlace:true,clearValueOnEmpty:true,getGrowWidth:function(){var s=this,q=s.inputEl.dom.value,r,p,n,t,u,i,v;if(s.growToLongestValue){r=s.displayField;p=s.store;n=p.data.length;t=0;for(u=0;u<n;u++){i=p.getAt(u).data[r];v=i.length;if(v>t){t=v;q=i}}}return q},initComponent:function(){var k=this,m=Ext.isDefined,n=k.store,l=k.transform,p,j;if("pinList" in k){k.collapseOnSelect=!k.pinList}if(l){p=Ext.getDom(l);if(p){if(!k.store){n=Ext.Array.map(Ext.Array.from(p.options),function(c){return[c.value,c.text]})}if(!k.name){k.name=p.name}if(!("value" in k)){k.value=p.value}}}k.bindStore(n||"ext-empty-store",true,true);j=k.queryMode==="local";if(!m(k.queryDelay)){k.queryDelay=j?10:500}if(!m(k.minChars)){k.minChars=j?0:4}Ext.form.field.Picker.prototype.initComponent.call(this);k.doQueryTask=new Ext.util.DelayedTask(k.doRawQuery,k);if(p){if(k.transformInPlace){k.render(p.parentNode,p);delete k.renderTo}Ext.removeNode(p)}},getSubTplData:function(h){var g,i;g=Ext.form.field.Picker.prototype.getSubTplData.call(this,h);i=g.inputElAriaAttributes;if(i){i["aria-autocomplete"]="list"}return g},getSubTplMarkup:function(i){var h=this,k="",j=Ext.form.field.Picker.prototype.getSubTplMarkup.apply(this,arguments);if(h.hiddenName){k='<div id="'+i.id+'-hiddenDataEl" data-ref="hiddenDataEl" class="'+h.hiddenDataCls+'" role="presentation"></div>'}return k+j},applyDisplayTpl:function(e){var g=this;if(!e){e=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : values["'+g.getDisplayField()+'"]]}<tpl if="xindex < xcount">'+g.getDelimiter()+"</tpl></tpl>");e.auto=true}else{if(!e.isTemplate){e=new Ext.XTemplate(e)}}return e},applyFilters:function(h,g){var i=this;if(h===null||h.isFilterCollection){return h}if(h){if(!g){g=this.getFilters()}g.beginUpdate();g.splice(0,g.length,h);g.each(function(c){c.ownerId=i.id});g.endUpdate()}return g},applyValueNotFoundText:function(i){var h=this,g=h.valueNotFoundRecord||(h.valueNotFoundRecord=new Ext.data.Model());g.set(h.displayField,i);if(h.valueField&&h.displayField!==h.valueField){g.set(h.valueField,i)}return i},getFilters:function(e){var g=this.filters;if(!g&&e!==false){g=new Ext.util.FilterCollection();this.setFilters(g)}return g},updateFilters:function(i,h){var g=this;if(h){h.un("endupdate","onEndUpdateFilters",g)}if(i){i.on("endupdate","onEndUpdateFilters",g)}g.onEndUpdateFilters(i)},onEndUpdateFilters:function(k){var l=this,j=l.filtered,m=!!k&&(k.length>0),p,n;if(j||m){l.filtered=m;p=[];n=l.store.getFilters();n.each(function(c){if(c.ownerId===l.id&&!k.contains(c)){p.push(c)}});n.splice(0,p,k.items)}},completeEdit:function(e){var h=this,i=h.queryFilter;Ext.form.field.Picker.prototype.completeEdit.call(this,e);h.doQueryTask.cancel();h.assertValue();if(i&&h.queryMode==="local"&&h.clearFilterOnBlur){h.getStore().getFilters().remove(i)}},onFocus:function(e){var g=this;Ext.form.field.Picker.prototype.onFocus.call(this,e);if(g.triggerAction!=="all"&&g.queryFilter&&g.queryMode==="local"&&g.clearFilterOnBlur){delete g.lastQuery;g.doRawQuery()}},assertValue:function(){var l=this,k=l.getRawValue(),m=l.getDisplayValue(),j=l.lastSelectedRecords,i;if(l.forceSelection){if(l.multiSelect){if(k!==m){l.setRawValue(m)}}else{i=l.findRecordByDisplay(k);if(i){if(l.getDisplayValue([l.getRecordDisplayData(i)])!==m){l.select(i,true)}}else{if(j&&(!l.allowBlank||l.rawValue)){l.setValue(j)}else{if(j){delete l.lastSelectedRecords}l.setRawValue("")}}}}l.collapse()},onTypeAhead:function(){var m=this,n=m.displayField,q=m.store.findRecord(n,m.getRawValue()),p=m.getPicker(),l,r,k;if(q){l=q.get(n);r=l.length;k=m.getRawValue().length;p.highlightItem(p.getNode(q));if(k!==0&&k!==r){m.setRawValue(l);m.selectText(k,l.length)}}},resetToDefault:Ext.emptyFn,beforeReset:function(){var d=this.queryFilter;Ext.form.field.Picker.prototype.beforeReset.call(this);if(d){this.getStore().getFilters().remove(d)}},onUnbindStore:function(){var g=this,i=g.picker,h=g.queryFilter;if(h&&!g.store.destroyed){g.changingFilters=true;g.getStore().removeFilter(h,true);g.changingFilters=false}g.pickerSelectionModel.destroy();if(i){i.bindStore(null)}},onBindStore:function(p,m){var k=this,n=k.picker,l,j;if(p){if(p.autoCreated){k.queryMode="local";k.valueField=k.displayField="field1";if(!p.expanded){k.displayField="field2"}if(k.getDisplayTpl().auto){k.setDisplayTpl(null)}}if(!Ext.isDefined(k.valueField)){k.valueField=k.displayField}l={byValue:{rootProperty:"data",unique:false}};l.byValue.property=k.valueField;p.setExtraKeys(l);if(k.displayField===k.valueField){p.byText=p.byValue}else{l.byText={rootProperty:"data",unique:false};l.byText.property=k.displayField;p.setExtraKeys(l)}j={rootProperty:"data",extraKeys:{byInternalId:{property:"internalId"},byValue:{property:k.valueField,rootProperty:"data"}},listeners:{beginupdate:k.onValueCollectionBeginUpdate,endupdate:k.onValueCollectionEndUpdate,scope:k}};k.valueCollection=new Ext.util.Collection(j);k.pickerSelectionModel=new Ext.selection.DataViewModel({mode:k.multiSelect?"SIMPLE":"SINGLE",deselectOnContainerClick:false,enableInitialSelection:false,pruneRemoved:false,selected:k.valueCollection,store:p,listeners:{scope:k,lastselectedchanged:k.updateBindSelection}});if(!m){k.resetToDefault()}if(n){n.setSelectionModel(k.pickerSelectionModel);if(n.getStore()!==p){n.bindStore(p)}}}},bindStore:function(m,i,l){var j=this,k=j.queryFilter;j.mixins.storeholder.bindStore.call(j,m,l);m=j.getStore();if(m&&k&&!i){m.getFilters().add(k)}if(!l&&m&&!m.isEmptyStore){j.setValueOnData()}},getStoreListeners:function(h){if(!h.isEmptyStore){var g=this,i={datachanged:g.onDataChanged,load:g.onLoad,exception:g.onException,update:g.onStoreUpdate,remove:g.checkValueOnChange};if(!h.getRemoteFilter()){i.filterchange=g.checkValueOnChange}return i}},onDataChanged:function(){if(this.grow&&this.growToLongestValue){this.autoSize()}},checkValueOnChange:function(){var d=this;if(!d.destroying&&d.getStore().isLoaded()){if(d.multiSelect){}else{if(d.forceSelection&&!d.changingFilters&&!d.findRecordByValue(d.value)){d.setValue(null)}}}},onStoreUpdate:function(e,g){this.updateValue()},onException:function(){this.collapse()},onLoad:function(k,l,i){var j=this,m=!j.valueCollection.byValue.get(j.value);if(i&&m&&!(k.lastOptions&&"rawQuery" in k.lastOptions)){j.setValueOnData()}j.checkValueOnChange()},setValueOnData:function(){var d=this;d.setValue(d.value);if(d.isExpanded&&d.getStore().getCount()){d.doAutoSelect()}},doRawQuery:function(){var g=this,e=g.inputEl.dom.value;if(g.multiSelect){e=e.split(g.delimiter).pop()}g.doQuery(e,false,true)},doQuery:function(k,p,l){var n=this,r=n.getStore(),m=r.filters&&!r.filters.length&&!!k,q=n.beforeQuery({query:k||"",rawQuery:l,forceAll:p,combo:n,cancel:false});if(q!==false&&!q.cancel){if(n.queryCaching&&!m&&q.query===n.lastQuery){n.getPicker().refresh();n.expand()}else{n.lastQuery=q.query;if(n.queryMode==="local"){n.doLocalQuery(q)}else{n.doRemoteQuery(q)}}}return true},beforeQuery:function(g){var e=this;if(e.fireEvent("beforequery",g)===false){g.cancel=true}else{if(!g.cancel){if(g.query.length<e.minChars&&!g.forceAll){g.cancel=true}}}return g},doLocalQuery:function(l){var j=this,i=l.query,m=j.getStore(),k=j.queryFilter;j.queryFilter=null;j.changingFilters=true;if(k){m.removeFilter(k,true)}if(i){k=j.queryFilter=new Ext.util.Filter({id:j.id+"-filter",anyMatch:j.anyMatch,caseSensitive:j.caseSensitive,root:"data",property:j.displayField,value:j.enableRegEx?new RegExp(i):i});m.addFilter(k,true)}j.changingFilters=false;if(j.store.getCount()||j.getPicker().emptyText){j.getPicker().refresh();j.expand()}else{j.collapse()}j.afterQuery(l)},doRemoteQuery:function(h){var g=this,i=function(){if(!g.destroyed){g.afterQuery(h)}};g.expand();if(g.pageSize){g.loadPage(1,{rawQuery:h.rawQuery,callback:i})}else{g.store.load({params:g.getParams(h.query),rawQuery:h.rawQuery,callback:i})}},afterQuery:function(g){var e=this;if(e.store.getCount()){if(e.typeAhead){e.doTypeAhead()}if(g.rawQuery){if(e.picker&&!e.picker.getSelectionModel().hasSelection()){e.doAutoSelect()}}else{e.doAutoSelect()}}e.startCheckChangeTask()},loadPage:function(e,g){this.store.loadPage(e,Ext.apply({params:this.getParams(this.lastQuery)},g))},onPageChange:function(e,g){this.loadPage(g);return false},getParams:function(g){var h={},i=this.queryParam;if(i){h[i]=g}return h},doAutoSelect:function(){var i=this,j=i.picker,k,h=0;if(j&&i.autoSelect&&i.store.getCount()>0){k=i.picker.getSelectionModel();if(k.lastSelected&&k.selected.length){h=k.lastSelected}j.getNavigationModel().setPosition(h)}},doTypeAhead:function(){var e=this,g=Ext.event.Event;if(!e.typeAheadTask){e.typeAheadTask=new Ext.util.DelayedTask(e.onTypeAhead,e)}if(e.lastKey!==g.BACKSPACE&&e.lastKey!==g.DELETE){e.typeAheadTask.delay(e.typeAheadDelay)}},onTriggerClick:function(){var d=this;if(!d.readOnly&&!d.disabled){if(d.isExpanded){d.collapse()}else{if(d.triggerAction==="all"){d.doQuery(d.allQuery,true)}else{if(d.triggerAction==="last"){d.doQuery(d.lastQuery,true)}else{d.doQuery(d.getRawValue(),false,true)}}}}},onFieldMutation:function(e){var l=this,n=e.getKey(),m=n===e.BACKSPACE||n===e.DELETE,k=l.inputEl.dom.value,p=k.length;if(!l.readOnly&&(k!==l.lastMutatedValue||m)&&n!==e.TAB){l.lastMutatedValue=k;l.lastKey=n;if(p&&(e.type!=="keyup"||(!e.isSpecialKey()||m))){l.doQueryTask.delay(l.queryDelay)}else{if(!p&&(!n||m)){++l.suspendCheckChange;if(!l.multiSelect){l.value=null;l.displayTplData=undefined}if(l.clearValueOnEmpty){l.valueCollection.beginUpdate();l.pickerSelectionModel.deselectAll();l.valueCollection.removeAll();l.valueCollection.endUpdate()}l.collapse();if(l.queryFilter){l.changingFilters=true;l.store.removeFilter(l.queryFilter,true);l.changingFilters=false}--l.suspendCheckChange}Ext.form.field.Picker.prototype.onFieldMutation.call(this,e)}}},onDestroy:function(){var d=this;d.doQueryTask.cancel();if(d.typeAheadTask){d.typeAheadTask.cancel();d.typeAheadTask=null}d.bindStore(null);d.valueCollection=Ext.destroy(d.valueCollection);Ext.form.field.Picker.prototype.onDestroy.call(this)},onAdded:function(){var d=this;Ext.form.field.Picker.prototype.onAdded.apply(this,arguments);if(d.picker){d.picker.ownerCt=d.up("[floating]");d.picker.registerWithOwnerCt()}},createPicker:function(){var g=this,h,i=Ext.apply({xtype:"boundlist",id:g.pickerId,pickerField:g,selectionModel:g.pickerSelectionModel,floating:true,hidden:true,store:g.getPickerStore(),displayField:g.displayField,preserveScrollOnRefresh:true,pageSize:g.pageSize,tpl:g.tpl},g.listConfig,g.defaultListConfig);h=g.picker=Ext.widget(i);if(g.pageSize){h.pagingToolbar.on("beforechange",g.onPageChange,g)}if(!h.initialConfig.maxHeight){h.on({beforeshow:g.onBeforePickerShow,scope:g})}h.getSelectionModel().on({beforeselect:g.onBeforeSelect,beforedeselect:g.onBeforeDeselect,focuschange:g.onFocusChange,scope:g});h.getNavigationModel().navigateOnSpace=false;return h},getPickerStore:function(){return this.store},onBeforePickerShow:function(k){var j=this,h=j.getPosition()[1]-Ext.getBody().getScroll().top,i=Ext.Element.getViewportHeight()-h-j.getHeight();k.maxHeight=Math.max(h,i)-5},onBeforeSelect:function(g,i,h){return this.fireEvent("beforeselect",this,i,h)},onBeforeDeselect:function(g,i,h){return this.fireEvent("beforedeselect",this,i,h)},onFocusChange:function(k,m,l){var j=this.picker,i;if(l){i=Ext.get(j.getNodeByRecord(l));if(i){this.ariaEl.dom.setAttribute("aria-activedescendant",i.id)}}},getSelection:function(){var g=this.getPicker().getSelectionModel(),e=g.getSelection();return e.length?g.getLastSelected():null},updateSelection:function(i){var h=this,g;if(!h.ignoreNextSelection){h.ignoreNextSelection=true;g=h.getPicker().getSelectionModel();if(i){g.select(i);h.hasHadSelection=true}else{g.deselectAll()}h.ignoreNextSelection=false}},updateBindSelection:function(k,i){var h=this,j=null;if(!h.ignoreNextSelection){h.ignoreNextSelection=true;if(i.length){j=k.getLastSelected();h.hasHadSelection=true}if(h.hasHadSelection){h.setSelection(j)}h.ignoreNextSelection=false}},onValueCollectionBeginUpdate:Ext.emptyFn,onValueCollectionEndUpdate:function(){var j=this,k=j.store,i=j.valueCollection.getRange(),l=i[0],m=i.length;j.updateBindSelection(j.pickerSelectionModel,i);if(j.isSelectionUpdating()){return}Ext.suspendLayouts();j.lastSelection=i;if(m){j.lastSelectedRecords=i}j.updateValue();if(m&&((!j.multiSelect&&k.contains(l))||j.collapseOnSelect||!k.getCount())){j.updatingValue=true;j.collapse();j.updatingValue=false}Ext.resumeLayouts(true);if(m&&!j.suspendCheckChange){if(!j.multiSelect){i=l}j.fireEvent("select",j,i)}},isSelectionUpdating:function(){var d=this.pickerSelectionModel;return d.deselectingDuringSelect||d.refreshing},onExpand:function(){var d=this.getPicker().getNavigationModel();if(d){d.enable()}this.doAutoSelect()},onCollapse:function(){var d=this.getPicker().getNavigationModel();if(d){d.disable()}if(this.updatingValue){this.doQueryTask.cancel()}},select:function(j,m){var k=this,l=k.picker,i;if(j&&j.isModel&&m===true&&l){i=!l.getSelectionModel().isSelected(j)}if(!i){k.suspendEvent("select")}k.setValue(j);k.resumeEvent("select")},findRecord:function(h,i){var j=this.store,k=j.findExact(h,i);return k!==-1?j.getAt(k):false},getSelectedRecord:function(){return this.findRecordByValue(this.value)||null},findRecordByValue:function(g){var i=this.store.byValue.get(g),h=false;if(i){h=i[0]||i}return h},findRecordByDisplay:function(g){var i=this.store.byText.get(g),h=false;if(i){h=i[0]||i}return h},addValue:function(d){if(d!=null){return this.doSetValue(d,true)}},setValue:function(e){var g=this;if(e!=null){return g.doSetValue(e)}else{g.suspendEvent("select");g.valueCollection.beginUpdate();g.pickerSelectionModel.deselectAll();g.valueCollection.endUpdate();g.lastSelectedRecords=null;g.resumeEvent("select")}},setRawValue:function(d){Ext.form.field.Picker.prototype.setRawValue.call(this,d);this.lastMutatedValue=d},doSetValue:function(G,L){var i=this,P=i.getStore(),O=P.getModel(),D=[],Q=[],E=i.autoLoadOnValue,R=P.getCount()>0||P.isLoaded(),V=P.hasPendingLoad(),J=E&&!R&&!V,M=i.forceSelection,H=i.pickerSelectionModel,U=i.displayField===i.valueField,I=P.isEmptyStore,N=i.lastSelection,C,B,T,F,S,K;if(V||J||!R||I){if(!G.isModel){if(L){i.value=Ext.Array.from(i.value).concat(G)}else{i.value=G}i.setHiddenValue(i.value);i.setRawValue(U?G:"")}if(J&&!I){P.load()}if(!G.isModel||I){return i}}G=L?Ext.Array.from(i.value).concat(G):Ext.Array.from(G);for(C=0,B=G.length;C<B;C++){T=G[C];if(!T||!T.isModel){T=i.findRecordByValue(K=T);if(!T){T=i.valueCollection.find(i.valueField,K)}}if(!T){if(!M){if(!T&&G[C]){F={};F[i.displayField]=G[C];if(i.valueField&&i.displayField!==i.valueField){F[i.valueField]=G[C]}T=new O(F)}}else{if(i.valueNotFoundRecord){T=i.valueNotFoundRecord}}}if(T){D.push(T);Q.push(T.get(i.valueField))}}if(N){B=N.length;if(B===D.length){for(C=0;!S&&C<B;C++){if(Ext.Array.indexOf(i.lastSelection,D[C])===-1){S=true}}}else{S=true}}else{S=D.length}if(S){i.suspendEvent("select");i.valueCollection.beginUpdate();if(D.length){H.select(D,false)}else{H.deselectAll()}i.valueCollection.endUpdate();i.resumeEvent("select")}else{i.updateValue()}if(i.inputEl&&i.emptyText){i.inputEl.removeCls(i.emptyCls);i.valueContainsPlaceholder=false}i.applyEmptyText();return i},updateValue:function(){var p=this,i=p.valueCollection.getRange(),t=i.length,q=[],n=p.displayTplData||(p.displayTplData=[]),m=p.inputEl,r,s;n.length=0;for(r=0;r<t;r++){s=i[r];n.push(p.getRecordDisplayData(s));if(s!==p.valueNotFoundRecord){q.push(s.get(p.valueField))}}p.setHiddenValue(q);p.value=p.multiSelect?q:q[0];if(!Ext.isDefined(p.value)){p.value=undefined}p.displayTplData=n;if(m&&p.emptyText&&!Ext.isEmpty(p.value)){m.removeCls(p.emptyCls)}p.setRawValue(p.getDisplayValue());p.checkChange();p.applyEmptyText()},setHiddenValue:function(n){var r=this,v=r.hiddenName,s,u,i,p,q,t;if(!r.hiddenDataEl||!v){return}n=Ext.Array.from(n);u=r.hiddenDataEl.dom;i=u.childNodes;p=i[0];q=n.length;t=i.length;if(!p&&q>0){r.hiddenDataEl.setHtml(Ext.DomHelper.markup({tag:"input",type:"hidden",name:v}));t=1;p=u.firstChild}while(t>q){u.removeChild(i[0]);--t}while(t<q){u.appendChild(p.cloneNode(true));++t}for(s=0;s<q;s++){i[s].value=n[s]}},getDisplayValue:function(d){d=d||this.displayTplData;return this.getDisplayTpl().apply(d)},getRecordDisplayData:function(d){return d.data},getValue:function(){var k=this,m=k.getStore(),l=k.picker,i=k.getRawValue(),j=k.value;if(!m.isEmptyStore&&k.getDisplayValue()!==i){k.displayTplData=undefined;if(l){k.valueCollection.suspendEvents();l.getSelectionModel().deselectAll();k.valueCollection.resumeEvents();k.lastSelection=null}if(m.isLoaded()&&(k.multiSelect||k.forceSelection)){j=k.value=undefined}else{j=k.value=i}}k.value=j==null?null:j;return k.value},getSubmitValue:function(){var d=this.getValue();if(Ext.isEmpty(d)){d=""}return d},isEqual:function(i,j){var l=Ext.Array.from,k,m;i=l(i);j=l(j);m=i.length;if(m!==j.length){return false}for(k=0;k<m;k++){if(j[k]!==i[k]){return false}}return true},clearValue:function(){this.setValue(null)}},0,["combo","combobox"],["component","box","field","textfield","pickerfield","combobox","combo"],{component:true,box:true,field:true,textfield:true,pickerfield:true,combobox:true,combo:true},["widget.combo","widget.combobox"],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.form.field,"ComboBox",Ext.form,"ComboBox"],0));(Ext.cmd.derive("Ext.picker.Month",Ext.Component,{alternateClassName:"Ext.MonthPicker",isMonthPicker:true,focusable:true,childEls:["bodyEl","prevEl","nextEl","monthEl","yearEl"],renderTpl:['<div id="{id}-bodyEl" data-ref="bodyEl" class="{baseCls}-body">','<div id="{id}-monthEl" data-ref="monthEl" class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month">','<a style="{parent.monthStyle}" role="button" hidefocus="on" class="{parent.baseCls}-item-inner">{.}</a>',"</div>","</tpl>","</div>",'<div id="{id}-yearEl" data-ref="yearEl" class="{baseCls}-years">','<div class="{baseCls}-yearnav">','<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-prevEl" data-ref="prevEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-prev" hidefocus="on" role="button"></a>',"</div>",'<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-nextEl" data-ref="nextEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-next" hidefocus="on" role="button"></a>',"</div>","</div>",'<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year">','<a hidefocus="on" class="{parent.baseCls}-item-inner" role="button">{.}</a>',"</div>","</tpl>","</div>",'<div class="x-clear"></div>','<tpl if="showButtons">','<div class="{baseCls}-buttons">{%',"var me=values.$comp, okBtn=me.okBtn, cancelBtn=me.cancelBtn;","okBtn.ownerLayout = cancelBtn.ownerLayout = me.componentLayout;","okBtn.ownerCt = cancelBtn.ownerCt = me;","Ext.DomHelper.generateMarkup(okBtn.getRenderTree(), out);","Ext.DomHelper.generateMarkup(cancelBtn.getRenderTree(), out);","%}</div>","</tpl>","</div>"],okText:"OK",cancelText:"Cancel",baseCls:"x-monthpicker",showButtons:true,footerButtonUI:"default",measureWidth:35,measureMaxHeight:20,smallCls:"x-monthpicker-small",totalYears:10,yearOffset:5,monthOffset:6,initComponent:function(){var d=this;d.selectedCls=d.baseCls+"-selected";if(d.small){d.addCls(d.smallCls)}d.setValue(d.value);d.activeYear=d.getYear(new Date().getFullYear()-4,-4);if(d.showButtons){d.okBtn=new Ext.button.Button({ui:d.footerButtonUI,text:d.okText,handler:d.onOkClick,scope:d});d.cancelBtn=new Ext.button.Button({ui:d.footerButtonUI,text:d.cancelText,handler:d.onCancelClick,scope:d})}Ext.Component.prototype.initComponent.call(this)},beforeRender:function(){var l=this,p=0,q=[],r=Ext.Date.getShortMonthName,m=l.monthOffset,i=l.monthMargin,n="";if(l.padding&&!l.width){l.cacheWidth()}Ext.Component.prototype.beforeRender.call(this);for(;p<m;++p){q.push(r(p),r(p+m))}if(Ext.isDefined(i)){n="margin: 0 "+i+"px;"}Ext.apply(l.renderData,{months:q,years:l.getYears(),showButtons:l.showButtons,monthStyle:n})},cacheWidth:function(){var i=this,h=i.parseBox(i.padding),g=Ext.getBody().createChild({cls:i.baseCls+" "+i.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;",html:"&nbsp;"});i.self.prototype.width=g.getWidth()+h.left+h.right;g.destroy()},afterRender:function(){var e=this,g=e.bodyEl;Ext.Component.prototype.afterRender.call(this);if(e.up("[floating=true]")){e.el.on("mousedown",e.onElClick,e)}e.mon(g,"click",e.onBodyClick,e);e.mon(g,"dblclick",e.onBodyClick,e);e.years=g.select("."+e.baseCls+"-year a");e.months=g.select("."+e.baseCls+"-month a");e.backRepeater=new Ext.util.ClickRepeater(e.prevEl,{handler:Ext.Function.bind(e.adjustYear,e,[-e.totalYears])});e.prevEl.addClsOnOver(e.baseCls+"-yearnav-prev-over");e.nextRepeater=new Ext.util.ClickRepeater(e.nextEl,{handler:Ext.Function.bind(e.adjustYear,e,[e.totalYears])});e.nextEl.addClsOnOver(e.baseCls+"-yearnav-next-over");e.updateBody();if(!Ext.isDefined(e.monthMargin)){Ext.picker.Month.prototype.monthMargin=e.calculateMonthMargin()}},calculateMonthMargin:function(){var i=this,k=i.months,h=k.first(),j=h.getMargin("l");while(j&&i.getLargest()>i.measureMaxHeight){--j;k.setStyle("margin","0 "+j+"px")}return j},getLargest:function(g){var e=0;this.months.each(function(c){var d=c.getHeight();if(d>e){e=d}});return e},setValue:function(i){var j=this,h=j.activeYear,k;if(!i){j.value=[null,null]}else{if(Ext.isDate(i)){j.value=[i.getMonth(),i.getFullYear()]}else{j.value=[i[0],i[1]]}}if(j.rendered){k=j.value[1];if(k!==null){if((k<h||k>h+j.yearOffset)){j.activeYear=k-j.yearOffset+1}}j.updateBody()}return j},getValue:function(){return this.value},hasSelection:function(){var d=this.value;return d[0]!==null&&d[1]!==null},getYears:function(){var l=this,k=l.yearOffset,i=l.activeYear,p=i+k,m=i,n=[];for(;m<p;++m){n.push(m,m+k)}return n},updateBody:function(){var w=this,z=w.years,C=w.months,s=w.getYears(),r=w.selectedCls,u=w.getYear(null),y=w.value[0],t=w.monthOffset,x,A,v,D,B;if(w.rendered){z.removeCls(r);C.removeCls(r);A=z.elements;D=A.length;for(v=0;v<D;v++){B=Ext.fly(A[v]);x=s[v];B.dom.innerHTML=x;if(x===u){B.addCls(r)}}if(y!==null){if(y<t){y=y*2}else{y=(y-t)*2+1}C.item(y).addCls(r)}}},getYear:function(i,g){var h=this.value[1];g=g||0;return h===null?i:h+g},onElClick:function(d){d.stopEvent()},onBodyClick:function(e,j){var i=this,k=e.type==="dblclick";if(e.getTarget("."+i.baseCls+"-month")){e.stopEvent();i.onMonthClick(j,k)}else{if(e.getTarget("."+i.baseCls+"-year")){e.stopEvent();i.onYearClick(j,k)}}},adjustYear:function(d){if(typeof d!=="number"){d=this.totalYears}this.activeYear+=d;this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(g,i){var h=this;h.value[0]=h.resolveOffset(h.months.indexOf(g),h.monthOffset);h.updateBody();h.fireEvent("month"+(i?"dbl":"")+"click",h,h.value);h.fireEvent("select",h,h.value)},onYearClick:function(g,i){var h=this;h.value[1]=h.activeYear+h.resolveOffset(h.years.indexOf(g),h.yearOffset);h.updateBody();h.fireEvent("year"+(i?"dbl":"")+"click",h,h.value);h.fireEvent("select",h,h.value)},resolveOffset:function(g,e){if(g%2===0){return(g/2)}else{return e+Math.floor(g/2)}},beforeDestroy:function(){var d=this;d.years=d.months=null;Ext.destroyMembers(d,"backRepeater","nextRepeater","okBtn","cancelBtn");Ext.Component.prototype.beforeDestroy.call(this)},onDestroy:function(){Ext.destroyMembers(this,"okBtn","cancelBtn");Ext.Component.prototype.onDestroy.call(this)},privates:{finishRenderChildren:function(){var d=this;Ext.Component.prototype.finishRenderChildren.apply(this,arguments);if(this.showButtons){d.okBtn.finishRender();d.cancelBtn.finishRender()}}}},0,["monthpicker"],["component","box","monthpicker"],{component:true,box:true,monthpicker:true},["widget.monthpicker"],0,[Ext.picker,"Month",Ext,"MonthPicker"],0));Ext.define("Ext.theme.neptune.picker.Month",{override:"Ext.picker.Month",measureMaxHeight:36});(Ext.cmd.derive("Ext.picker.Date",Ext.Component,{alternateClassName:"Ext.DatePicker",todayText:"Today",ariaTitle:"Date Picker: {0}",ariaTitleDateFormat:"F d",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",ariaMinText:"This date is before the minimum date",maxText:"This date is after the maximum date",ariaMaxText:"This date is after the maximum date",disabledDaysText:"Disabled",ariaDisabledDaysText:"This day of week is disabled",disabledDatesText:"Disabled",ariaDisabledDatesText:"This date is disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",monthYearFormat:"F Y",startDay:0,showToday:true,disableAnim:false,baseCls:"x-datepicker",longDayFormat:"F d, Y",footerButtonUI:"default",isDatePicker:true,ariaRole:"region",focusable:true,childEls:["innerEl","eventEl","prevEl","nextEl","middleBtnEl","footerEl"],border:true,renderTpl:['<div id="{id}-innerEl" data-ref="innerEl" role="presentation">','<div class="{baseCls}-header">','<div id="{id}-prevEl" data-ref="prevEl" class="{baseCls}-prev {baseCls}-arrow" role="presentation" title="{prevText}"></div>','<div id="{id}-middleBtnEl" data-ref="middleBtnEl" class="{baseCls}-month" role="heading">{%this.renderMonthBtn(values, out)%}</div>','<div id="{id}-nextEl" data-ref="nextEl" class="{baseCls}-next {baseCls}-arrow" role="presentation" title="{nextText}"></div>',"</div>",'<table role="grid" id="{id}-eventEl" data-ref="eventEl" class="{baseCls}-inner" cellspacing="0" tabindex="0">',"<thead>",'<tr role="row">','<tpl for="dayNames">','<th role="columnheader" class="{parent.baseCls}-column-header" aria-label="{.}">','<div role="presentation" class="{parent.baseCls}-column-header-inner">{.:this.firstInitial}</div>',"</th>","</tpl>","</tr>","</thead>","<tbody>",'<tr role="row">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell">','<div hidefocus="on" class="{parent.baseCls}-date"></div>',"</td>","</tpl>","</tr>","</tbody>","</table>",'<tpl if="showToday">','<div id="{id}-footerEl" data-ref="footerEl" role="presentation" class="{baseCls}-footer">{%this.renderTodayBtn(values, out)%}</div>',"</tpl>",'<div id="{id}-todayText" class="x-hidden-clip">{todayText}.</div>','<div id="{id}-ariaMinText" class="x-hidden-clip">{ariaMinText}.</div>','<div id="{id}-ariaMaxText" class="x-hidden-clip">{ariaMaxText}.</div>','<div id="{id}-ariaDisabledDaysText" class="x-hidden-clip">{ariaDisabledDaysText}.</div>','<div id="{id}-ariaDisabledDatesText" class="x-hidden-clip">{ariaDisabledDatesText}.</div>',"</div>",{firstInitial:function(d){return Ext.picker.Date.prototype.getDayInitial(d)},isEndOfWeek:function(e){e--;var g=e%7===0&&e!==0;return g?'</tr><tr role="row">':""},renderTodayBtn:function(g,e){Ext.DomHelper.generateMarkup(g.$comp.todayBtn.getRenderTree(),e)},renderMonthBtn:function(g,e){Ext.DomHelper.generateMarkup(g.$comp.monthBtn.getRenderTree(),e)}}],initHour:12,numDays:42,initComponent:function(){var e=this,g=Ext.Date.clearTime;e.selectedCls=e.baseCls+"-selected";e.disabledCellCls=e.baseCls+"-disabled";e.prevCls=e.baseCls+"-prevday";e.activeCls=e.baseCls+"-active";e.cellCls=e.baseCls+"-cell";e.nextCls=e.baseCls+"-prevday";e.todayCls=e.baseCls+"-today";if(!e.format){e.format=Ext.Date.defaultFormat}if(!e.dayNames){e.dayNames=Ext.Date.dayNames}e.dayNames=e.dayNames.slice(e.startDay).concat(e.dayNames.slice(0,e.startDay));Ext.Component.prototype.initComponent.call(this);e.value=e.value?g(e.value,true):g(new Date());e.initDisabledDays()},getRefOwner:function(){return this.pickerField||Ext.Component.prototype.getRefOwner.call(this)},getRefItems:function(){var i=[],g=this.monthBtn,h=this.todayBtn;if(g){i.push(g)}if(h){i.push(h)}return i},beforeRender:function(){var i=this,j=Ext.String.htmlEncode,h=new Array(i.numDays),k=Ext.Date.format(new Date(),i.format);if(i.padding&&!i.width){i.cacheWidth()}i.monthBtn=new Ext.button.Split({ownerCt:i,ownerLayout:i.getComponentLayout(),text:"",tooltip:i.monthYearText,tabIndex:-1,ariaRole:"presentation",listeners:{click:i.doShowMonthPicker,arrowclick:i.doShowMonthPicker,scope:i}});if(i.showToday){i.todayBtn=new Ext.button.Button({ui:i.footerButtonUI,ownerCt:i,ownerLayout:i.getComponentLayout(),text:Ext.String.format(i.todayText,k),tooltip:Ext.String.format(i.todayTip,k),tooltipType:"title",tabIndex:-1,ariaRole:"presentation",handler:i.selectToday,scope:i})}Ext.Component.prototype.beforeRender.call(this);Ext.applyIf(i,{renderData:{}});Ext.apply(i.renderData,{dayNames:i.dayNames,showToday:i.showToday,prevText:j(i.prevText),nextText:j(i.nextText),todayText:j(i.todayText),ariaMinText:j(i.ariaMinText),ariaMaxText:j(i.ariaMaxText),ariaDisabledDaysText:j(i.ariaDisabledDaysText),ariaDisabledDatesText:j(i.ariaDisabledDatesText),days:h});i.protoEl.unselectable()},cacheWidth:function(){var i=this,h=i.parseBox(i.padding),g=Ext.getBody().createChild({cls:i.baseCls+" "+i.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;"});i.self.prototype.width=g.getWidth()+h.left+h.right;g.destroy()},onRender:function(h,i){var g=this;Ext.Component.prototype.onRender.apply(this,arguments);g.cells=g.eventEl.select("tbody td");g.textNodes=g.eventEl.query("tbody td div");g.eventEl.set({"aria-labelledby":g.monthBtn.id});g.mon(g.eventEl,{scope:g,mousewheel:g.handleMouseWheel,click:{fn:g.handleDateClick,delegate:"div."+g.baseCls+"-date"}})},initEvents:function(){var i=this,h=i.pickerField,k=Ext.Date,j=k.DAY;Ext.Component.prototype.initEvents.call(this);if(h){i.el.on("mousedown",i.onMouseDown,i)}i.monthBtn.el.on("mousedown",i.onMouseDown,i);i.prevRepeater=new Ext.util.ClickRepeater(i.prevEl,{handler:i.showPrevMonth,scope:i,mousedownStopEvent:true});i.nextRepeater=new Ext.util.ClickRepeater(i.nextEl,{handler:i.showNextMonth,scope:i,mousedownStopEvent:true});i.keyNav=new Ext.util.KeyNav(i.eventEl,Ext.apply({scope:i,left:function(c){if(c.ctrlKey){c.preventDefault();i.showPrevMonth()}else{i.update(k.add(i.activeDate,j,-1))}},right:function(c){if(c.ctrlKey){c.preventDefault();i.showNextMonth()}else{i.update(k.add(i.activeDate,j,1))}},up:function(c){if(c.ctrlKey){i.showNextYear()}else{i.update(k.add(i.activeDate,j,-7))}},down:function(c){if(c.ctrlKey){i.showPrevYear()}else{i.update(k.add(i.activeDate,j,7))}},pageUp:function(c){if(c.ctrlKey){i.showPrevYear()}else{i.showPrevMonth()}},pageDown:function(c){if(c.ctrlKey){i.showNextYear()}else{i.showNextMonth()}},tab:function(c){i.handleTabKey(c);return true},enter:function(c){i.handleDateClick(c,i.activeCell.firstChild)},space:function(){i.setValue(new Date(i.activeCell.firstChild.dateValue));var e=i.startValue,d=i.value,c;if(h){c=h.getValue();if(c&&e&&c.getTime()===d.getTime()){h.setValue(e)}else{h.setValue(d)}}},home:function(c){i.update(k.getFirstDateOfMonth(i.activeDate))},end:function(c){i.update(k.getLastDateOfMonth(i.activeDate))}},i.keyNavConfig));if(i.disabled){i.syncDisabled(true)}i.update(i.value)},onMouseDown:function(d){d.preventDefault()},handleTabKey:function(e){var i=this,k=i.getSelectedDate(i.activeDate),j=i.handler;if(!i.disabled&&k.dateValue&&!Ext.fly(k.parentNode).hasCls(i.disabledCellCls)){i.setValue(new Date(k.dateValue));i.fireEvent("select",i,i.value);if(j){j.call(i.scope||i,i,i.value)}i.onSelect()}else{i.fireEventArgs("tabout",[i])}},getSelectedDate:function(v){var t=this,p=v.getTime(),n=t.cells,c=t.selectedCls,r=n.elements,s=r.length,q,u;n.removeCls(c);for(u=0;u<s;u++){q=r[u].firstChild;if(q.dateValue===p){return q}}return null},initDisabledDays:function(){var l=this,q=l.disabledDates,m="(?:",r,d,p,n;if(!l.disabledDatesRE&&q){r=q.length-1;p=q.length;for(d=0;d<p;d++){n=q[d];m+=Ext.isDate(n)?"^"+Ext.String.escapeRegex(Ext.Date.dateFormat(n,l.format))+"$":n;if(d!==r){m+="|"}}l.disabledDatesRE=new RegExp(m+")")}},setDisabledDates:function(g){var e=this;if(Ext.isArray(g)){e.disabledDates=g;e.disabledDatesRE=null}else{e.disabledDatesRE=g}e.initDisabledDays();e.update(e.value,true);return e},setDisabledDays:function(d){this.disabledDays=d;return this.update(this.value,true)},setMinDate:function(d){this.minDate=d;return this.update(this.value,true)},setMaxDate:function(d){this.maxDate=d;return this.update(this.value,true)},setValue:function(d){this.value=Ext.Date.clearTime(d||new Date(),true);return this.update(this.value)},getValue:function(){return this.value},getDayInitial:function(d){return d.substr(0,1)},onEnable:function(){var d=this;Ext.Component.prototype.onEnable.call(this);d.syncDisabled(false);d.update(d.activeDate)},onShow:function(){var d=this;Ext.Component.prototype.onShow.call(this);d.syncDisabled(false);if(d.pickerField){d.startValue=d.pickerField.getValue()}},onHide:function(){Ext.Component.prototype.onHide.call(this);this.syncDisabled(true)},onDisable:function(){Ext.Component.prototype.onDisable.call(this);this.syncDisabled(true)},getActive:function(){return this.activeDate||this.value},runAnimation:function(g){var h=this.monthPicker,i={duration:200,callback:function(){h.setVisible(!g)}};if(g){h.el.slideOut("t",i)}else{h.el.slideIn("t",i)}},hideMonthPicker:function(i){var g=this,h=g.monthPicker;if(h&&h.isVisible()){if(g.shouldAnimate(i)){g.runAnimation(true)}else{h.hide()}}return g},doShowMonthPicker:function(){this.showMonthPicker()},doHideMonthPicker:function(){this.hideMonthPicker()},showMonthPicker:function(k){var h=this,i=h.el,j;if(h.rendered&&!h.disabled){j=h.createMonthPicker();if(!j.isVisible()){j.setValue(h.getActive());j.setSize(i.getSize());j.floatParent=null;j.setPosition(-i.getBorderWidth("l"),-i.getBorderWidth("t"));if(h.shouldAnimate(k)){h.runAnimation(false)}else{j.show()}}}return h},shouldAnimate:function(d){return Ext.isDefined(d)?d:!this.disableAnim},createMonthPicker:function(){var e=this,g=e.monthPicker;if(!g){e.monthPicker=g=new Ext.picker.Month({renderTo:e.el,ownerCmp:e,floating:true,padding:e.padding,shadow:false,small:e.showToday===false,footerButtonUI:e.footerButtonUI,listeners:{scope:e,cancelclick:e.onCancelClick,okclick:e.onOkClick,yeardblclick:e.onOkClick,monthdblclick:e.onOkClick}});if(!e.disableAnim){g.el.setStyle("display","none")}g.hide();e.on("beforehide",e.doHideMonthPicker,e)}return g},onOkClick:function(n,k){var l=this,j=k[0],m=k[1],p=new Date(m,j,l.getActive().getDate());if(p.getMonth()!==j){p=Ext.Date.getLastDateOfMonth(new Date(m,j,1))}l.setValue(p);l.hideMonthPicker()},onCancelClick:function(){this.selectedUpdate(this.activeDate);this.hideMonthPicker()},showPrevMonth:function(d){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(d){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,-1))},showNextYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,1))},handleMouseWheel:function(g){var e;g.stopEvent();if(!this.disabled){e=g.getWheelDelta();if(e>0){this.showPrevMonth()}else{if(e<0){this.showNextMonth()}}}},handleDateClick:function(e,k){var i=this,j=i.handler;e.stopEvent();if(!i.disabled&&k.dateValue&&!Ext.fly(k.parentNode).hasCls(i.disabledCellCls)){i.setValue(new Date(k.dateValue));i.fireEvent("select",i,i.value);if(j){j.call(i.scope||i,i,i.value)}i.onSelect()}},onSelect:function(){if(this.hideOnSelect){this.hide()}},selectToday:function(){var g=this,i=g.todayBtn,h=g.handler;if(i&&!i.disabled){g.setValue(Ext.Date.clearTime(new Date()));g.fireEvent("select",g,g.value);if(h){h.call(g.scope||g,g,g.value)}g.onSelect()}return g},selectedUpdate:function(q){var n=this,p=q.getTime(),r=n.cells,s=n.selectedCls,c,m=r.getCount(),t;n.eventEl.dom.setAttribute("aria-busy","true");t=n.activeCell;if(t){Ext.fly(t).removeCls(s);t.setAttribute("aria-selected",false)}for(c=0;c<m;c++){t=r.item(c);if(n.textNodes[c].dateValue===p){n.activeCell=t.dom;n.eventEl.dom.setAttribute("aria-activedescendant",t.dom.id);t.dom.setAttribute("aria-selected",true);t.addCls(s);n.fireEvent("highlightitem",n,t);break}}n.eventEl.dom.removeAttribute("aria-busy")},fullUpdate:function(Z){var Q=this,ak=Q.cells.elements,al=Q.textNodes,M=Q.disabledCellCls,ad=Ext.Date,L=0,T=0,af=+ad.clearTime(Z,true),ab=+ad.clearTime(new Date()),P=Q.minDate?ad.clearTime(Q.minDate,true):Number.NEGATIVE_INFINITY,N=Q.maxDate?ad.clearTime(Q.maxDate,true):Number.POSITIVE_INFINITY,V=Q.disabledDatesRE,R=Q.disabledDatesText,K=Q.disabledDays?Q.disabledDays.join(""):false,X=Q.disabledDaysText,i=Q.format,ag=ad.getDaysInMonth(Z),W=ad.getFirstDateOfMonth(Z),aj=W.getDay()-Q.startDay,ac=ad.add(Z,ad.MONTH,-1),Y=Q.ariaTitleDateFormat,ah,U,an,O,ae,aa,am,ai,S;if(aj<0){aj+=7}ag+=aj;ah=ad.getDaysInMonth(ac)-aj;U=new Date(ac.getFullYear(),ac.getMonth(),ah,Q.initHour);if(Q.showToday){O=ad.clearTime(new Date());an=(O<P||O>N||(V&&i&&V.test(ad.dateFormat(O,i)))||(K&&K.indexOf(O.getDay())!==-1));if(!Q.disabled){Q.todayBtn.setDisabled(an)}}ae=function(c,d){var e=ak[c],g=[];if(!e.hasAttribute("id")){e.setAttribute("id",Q.id+"-cell-"+c)}S=+ad.clearTime(U,true);e.firstChild.dateValue=S;e.setAttribute("aria-label",ad.format(U,Y));e.removeAttribute("aria-describedby");e.removeAttribute("data-qtip");if(S===ab){d+=" "+Q.todayCls;g.push(Q.id+"-todayText")}if(S===af){Q.activeCell=e;Q.eventEl.dom.setAttribute("aria-activedescendant",e.id);e.setAttribute("aria-selected",true);d+=" "+Q.selectedCls;Q.fireEvent("highlightitem",Q,e)}else{e.setAttribute("aria-selected",false)}if(S<P){d+=" "+M;g.push(Q.id+"-ariaMinText");e.setAttribute("data-qtip",Q.minText)}else{if(S>N){d+=" "+M;g.push(Q.id+"-ariaMaxText");e.setAttribute("data-qtip",Q.maxText)}else{if(K&&K.indexOf(U.getDay())!==-1){e.setAttribute("data-qtip",X);g.push(Q.id+"-ariaDisabledDaysText");d+=" "+M}else{if(V&&i){ai=ad.dateFormat(U,i);if(V.test(ai)){e.setAttribute("data-qtip",R.replace("%0",ai));g.push(Q.id+"-ariaDisabledDatesText");d+=" "+M}}}}}if(g.length){e.setAttribute("aria-describedby",g.join(" "))}e.className=d+" "+Q.cellCls};Q.eventEl.dom.setAttribute("aria-busy","true");for(;L<Q.numDays;++L){if(L<aj){aa=(++ah);am=Q.prevCls}else{if(L>=ag){aa=(++T);am=Q.nextCls}else{aa=L-aj+1;am=Q.activeCls}}al[L].innerHTML=aa;U.setDate(U.getDate()+1);ae(L,am)}Q.eventEl.dom.removeAttribute("aria-busy");Q.monthBtn.setText(Ext.Date.format(Z,Q.monthYearFormat))},update:function(k,h){var j=this,i=j.activeDate;if(j.rendered){j.activeDate=k;if(!h&&i&&j.el&&i.getMonth()===k.getMonth()&&i.getFullYear()===k.getFullYear()){j.selectedUpdate(k,i)}else{j.fullUpdate(k,i)}}return j},beforeDestroy:function(){var d=this;if(d.rendered){Ext.destroy(d.keyNav,d.monthPicker,d.monthBtn,d.nextRepeater,d.prevRepeater,d.todayBtn,d.todayElSpan);delete d.textNodes;delete d.cells.elements}Ext.Component.prototype.beforeDestroy.call(this)},privates:{finishRenderChildren:function(){var d=this;Ext.Component.prototype.finishRenderChildren.call(this);d.monthBtn.finishRender();if(d.showToday){d.todayBtn.finishRender()}},getFocusEl:function(){return this.eventEl},syncDisabled:function(h){var g=this,i=g.keyNav;if(i){i.setDisabled(h);g.prevRepeater.setDisabled(h);g.nextRepeater.setDisabled(h);if(g.todayBtn){g.todayBtn.setDisabled(h)}}}}},0,["datepicker"],["component","box","datepicker"],{component:true,box:true,datepicker:true},["widget.datepicker"],0,[Ext.picker,"Date",Ext,"DatePicker"],0));(Ext.cmd.derive("Ext.form.field.Date",Ext.form.field.Picker,{alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",ariaFormat:"M j Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",ariaDisabledDaysText:"This day of week is disabled",disabledDatesText:"Disabled",ariaDisabledDatesText:"This date cannot be selected",minText:"The date in this field must be equal to or after {0}",ariaMinText:"The date must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",ariaMaxText:"The date must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",formatText:"Expected date format: {0}",triggerCls:"x-form-date-trigger",showToday:true,useStrict:undefined,initTime:"12",initTimeFormat:"H",matchFieldWidth:false,startDay:0,valuePublishEvent:["select","blur"],ariaRole:"combobox",initComponent:function(){var h=this,j=Ext.isString,i,k;i=h.minValue;k=h.maxValue;if(j(i)){h.minValue=h.parseDate(i)}if(j(k)){h.maxValue=h.parseDate(k)}h.disabledDatesRE=null;h.initDisabledDays();Ext.form.field.Picker.prototype.initComponent.call(this)},initValue:function(){var g=this,e=g.value;if(Ext.isString(e)){g.value=g.rawToValue(e)}Ext.form.field.Picker.prototype.initValue.call(this)},initDisabledDays:function(){if(this.disabledDates){var n=this.disabledDates,p=n.length-1,k="(?:",d,l=n.length,m;for(d=0;d<l;d++){m=n[d];k+=Ext.isDate(m)?"^"+Ext.String.escapeRegex(m.dateFormat(this.format))+"$":m;if(d!==p){k+="|"}}this.disabledDatesRE=new RegExp(k+")")}},setDisabledDates:function(g){var h=this,i=h.picker;h.disabledDates=g;h.initDisabledDays();if(i){i.setDisabledDates(h.disabledDatesRE)}},setDisabledDays:function(e){var g=this.picker;this.disabledDays=e;if(g){g.setDisabledDays(e)}},setMinValue:function(h){var j=this,k=j.picker,i=(Ext.isString(h)?j.parseDate(h):h);j.minValue=i;if(k){k.minText=Ext.String.format(j.minText,j.formatDate(j.minValue));k.setMinDate(i)}},setMaxValue:function(i){var j=this,k=j.picker,h=(Ext.isString(i)?j.parseDate(i):i);j.maxValue=h;if(k){k.maxText=Ext.String.format(j.maxText,j.formatDate(j.maxValue));k.setMaxDate(h)}},getErrors:function(G){G=arguments.length>0?G:this.formatDate(this.processRawValue(this.getRawValue()));var y=this,H=Ext.String.format,x=Ext.Date.clearTime,i=Ext.form.field.Picker.prototype.getErrors.call(this,G),u=y.disabledDays,C=y.disabledDatesRE,v=y.minValue,z=y.maxValue,A=u?u.length:0,B=0,F,E,w,D;if(G===null||G.length<1){return i}F=G;G=y.parseDate(G);if(!G){i.push(H(y.invalidText,F,Ext.Date.unescapeFormat(y.format)));return i}D=G.getTime();if(v&&D<x(v).getTime()){i.push(H(y.minText,y.formatDate(v)))}if(z&&D>x(z).getTime()){i.push(H(y.maxText,y.formatDate(z)))}if(u){w=G.getDay();for(;B<A;B++){if(w===u[B]){i.push(y.disabledDaysText);break}}}E=y.formatDate(G);if(C&&C.test(E)){i.push(H(y.disabledDatesText,E))}return i},rawToValue:function(d){return this.parseDate(d)||d||null},valueToRaw:function(d){return this.formatDate(this.parseDate(d))},safeParse:function(l,k){var m=this,p=Ext.Date,r=null,q=m.useStrict,n;if(p.formatContainsHourInfo(k)){r=p.parse(l,k,q)}else{n=p.parse(l+" "+m.initTime,k+" "+m.initTimeFormat,q);if(n){r=p.clearTime(n)}}return r},getSubmitValue:function(){var e=this.submitFormat||this.format,g=this.getValue();return g?Ext.Date.format(g,e):""},parseDate:function(m){if(!m||Ext.isDate(m)){return m}var n=this,i=n.safeParse(m,n.format),q=n.altFormats,l=n.altFormatsArray,p=0,r;if(!i&&q){l=l||q.split("|");r=l.length;for(;p<r&&!i;++p){i=n.safeParse(m,l[p])}}return i},formatDate:function(g,e){return Ext.isDate(g)?Ext.Date.dateFormat(g,e||this.format):g},createPicker:function(){var g=this,e=Ext.String.format;return new Ext.picker.Date({pickerField:g,floating:true,preventRefocus:true,hidden:true,minDate:g.minValue,maxDate:g.maxValue,disabledDatesRE:g.disabledDatesRE,disabledDatesText:g.disabledDatesText,ariaDisabledDatesText:g.ariaDisabledDatesText,disabledDays:g.disabledDays,disabledDaysText:g.disabledDaysText,ariaDisabledDaysText:g.ariaDisabledDaysText,format:g.format,showToday:g.showToday,startDay:g.startDay,minText:e(g.minText,g.formatDate(g.minValue)),ariaMinText:e(g.ariaMinText,g.formatDate(g.minValue,g.ariaFormat)),maxText:e(g.maxText,g.formatDate(g.maxValue)),ariaMaxText:e(g.ariaMaxText,g.formatDate(g.maxValue,g.ariaFormat)),listeners:{scope:g,select:g.onSelect,tabout:g.onTabOut},keyNavConfig:{esc:function(){g.inputEl.focus();g.collapse()}}})},onSelect:function(i,d){var h=this;h.setValue(d);h.fireEvent("select",h,d);h.onTabOut(i)},onTabOut:function(d){this.inputEl.focus();this.collapse()},onExpand:function(){var d=this.getValue();this.picker.setValue(Ext.isDate(d)?d:new Date())},onBlur:function(e){var h=this,i=h.rawToValue(h.getRawValue());if(Ext.isDate(i)){h.setValue(i)}Ext.form.field.Picker.prototype.onBlur.call(this,e)}},0,["datefield"],["component","box","field","textfield","pickerfield","datefield"],{component:true,box:true,field:true,textfield:true,pickerfield:true,datefield:true},["widget.datefield"],0,[Ext.form.field,"Date",Ext.form,"DateField",Ext.form,"Date"],0));(Ext.cmd.derive("Ext.form.field.Display",Ext.form.field.Base,{alternateClassName:["Ext.form.DisplayField","Ext.form.Display"],fieldSubTpl:['<div id="{id}" data-ref="inputEl" tabindex="-1" role="textbox" aria-readonly="true"',' aria-labelledby="{cmpId}-labelEl" {inputAttrTpl}','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {fieldCls}-{ui}">{value}</div>',{compiled:true,disableFormats:true}],ariaRole:undefined,focusable:false,readOnly:true,fieldCls:"x-form-display-field",fieldBodyCls:"x-form-display-field-body",htmlEncode:false,noWrap:false,validateOnChange:false,initEvents:Ext.emptyFn,submitValue:false,getValue:function(){return this.value},valueToRaw:function(d){if(d||d===0||d===false){return d}else{return""}},isDirty:function(){return false},isValid:Ext.returnTrue,validate:Ext.returnTrue,getRawValue:function(){return this.rawValue},setRawValue:function(e){var g=this;e=Ext.valueFrom(e,"");g.rawValue=e;if(g.rendered){g.inputEl.dom.innerHTML=g.getDisplayValue();g.updateLayout()}return e},getDisplayValue:function(){var i=this,h=this.getRawValue(),g;if(i.renderer){g=i.renderer.call(i.scope||i,h,i)}else{g=i.htmlEncode?Ext.util.Format.htmlEncode(h):h}return g},getSubTplData:function(e){var g=Ext.form.field.Base.prototype.getSubTplData.apply(this,arguments);g.value=this.getDisplayValue();return g}},0,["displayfield"],["component","box","field","displayfield"],{component:true,box:true,field:true,displayfield:true},["widget.displayfield"],0,[Ext.form.field,"Display",Ext.form,"DisplayField",Ext.form,"Display"],0));(Ext.cmd.derive("Ext.form.field.FileButton",Ext.button.Button,{childEls:["fileInputEl"],inputCls:"x-form-file-input",cls:"x-form-file-btn",preventDefault:false,tabIndex:undefined,autoEl:{tag:"div",unselectable:"on"},afterTpl:['<input id="{id}-fileInputEl" data-ref="fileInputEl" class="{childElCls} {inputCls}" ','type="file" size="1" name="{inputName}" role="{role}" ','<tpl if="tabIndex != null">tabindex="{tabIndex}"</tpl>',">"],keyHandlers:null,ariaEl:"fileInputEl",getAfterMarkup:function(d){return this.getTpl("afterTpl").apply(d)},getTemplateArgs:function(){var e=this,g;g=Ext.button.Button.prototype.getTemplateArgs.call(this);g.inputCls=e.inputCls;g.inputName=e.inputName||e.id;g.tabIndex=e.tabIndex||null;g.role=e.ariaRole;return g},afterRender:function(){var d=this;Ext.button.Button.prototype.afterRender.apply(this,arguments);d.fileInputEl.on({scope:d,change:d.fireChange,focus:d.onFileFocus,blur:d.onFileBlur})},fireChange:function(d){this.fireEvent("change",this,d,this.fileInputEl.dom.value)},createFileInput:function(h){var g=this,i=g.fileInputEl=g.el.createChild({name:g.inputName,id:!h?g.id+"-fileInputEl":undefined,cls:g.inputCls,tag:"input",type:"file",size:1,role:"button"});i.dom.setAttribute("data-componentid",g.id);i.on({scope:g,change:g.fireChange,focus:g.onFileFocus,blur:g.onFileBlur})},onFileFocus:function(e){var g=this.ownerCt;if(!this.hasFocus){this.onFocus(e)}if(g&&!g.hasFocus){g.onFocus(e)}},onFileBlur:function(e){var g=this.ownerCt;if(this.hasFocus){this.onBlur(e)}if(g&&g.hasFocus){g.onBlur(e)}},reset:function(g){var e=this;if(g){e.fileInputEl.destroy()}e.createFileInput(!g)},restoreInput:function(g){var e=this;e.fileInputEl.destroy();g=Ext.get(g);e.el.appendChild(g);e.fileInputEl=g},onDisable:function(){Ext.button.Button.prototype.onDisable.call(this);this.fileInputEl.dom.disabled=true},onEnable:function(){Ext.button.Button.prototype.onEnable.call(this);this.fileInputEl.dom.disabled=false},privates:{getFocusEl:function(){return this.fileInputEl},getFocusClsEl:function(){return this.el}}},0,["filebutton"],["component","box","button","filebutton"],{component:true,box:true,button:true,filebutton:true},["widget.filebutton"],0,[Ext.form.field,"FileButton"],0));(Ext.cmd.derive("Ext.form.trigger.Component",Ext.form.trigger.Trigger,{cls:"x-form-trigger-cmp",onFieldRender:function(){var e=this,g=e.component;Ext.form.trigger.Trigger.prototype.onFieldRender.call(this);if(!g.isComponent&&!g.isWidget){g=Ext.widget(g)}e.component=g;g.render(e.el)},destroy:function(){var d=this.component;if(d.isComponent||d.isWidget){d.destroy()}this.component=null;Ext.form.trigger.Trigger.prototype.destroy.call(this)}},0,0,0,0,["trigger.component"],0,[Ext.form.trigger,"Component"],0));(Ext.cmd.derive("Ext.form.field.File",Ext.form.field.Text,{alternateClassName:["Ext.form.FileUploadField","Ext.ux.form.FileUploadField","Ext.form.File"],emptyText:undefined,needArrowKeys:false,triggers:{filebutton:{type:"component",hideOnReadOnly:false,preventMouseDown:false}},buttonText:"Browse...",buttonOnly:false,buttonMargin:3,clearOnSubmit:true,extraFieldBodyCls:"x-form-file-wrap",inputCls:"x-form-text-file",readOnly:true,editable:false,submitValue:false,triggerNoEditCls:"",childEls:["browseButtonWrap"],applyTriggers:function(i){var h=this,g=(i||{}).filebutton;if(g){g.component=Ext.apply({xtype:"filebutton",ownerCt:h,id:h.id+"-button",ui:h.ui,disabled:h.disabled,text:h.buttonText,style:h.buttonOnly?"":h.getButtonMarginProp()+h.buttonMargin+"px",inputName:h.getName(),listeners:{scope:h,change:h.onFileChange}},h.buttonConfig);return Ext.form.field.Text.prototype.applyTriggers.call(this,i)}},getSubTplData:function(g){var e=Ext.form.field.Text.prototype.getSubTplData.call(this,g);e.tabIdx=-1;return e},onRender:function(){var j=this,i,k,m,l;(arguments.callee.$previous||Ext.form.field.Text.prototype.onRender).apply(this,arguments);i=j.inputEl;i.dom.name="";i.on("focus",j.onInputFocus,j);i.on("mousedown",j.onInputMouseDown,j);l=j.getTrigger("filebutton");k=j.button=l.component;j.fileInputEl=k.fileInputEl;m=k.el;if(j.buttonOnly){j.inputWrap.setDisplayed(false);j.shrinkWrap=3}l.el.setWidth(m.getWidth()+m.getMargin("lr"));if(Ext.isIE){j.button.getEl().repaint()}},getTriggerMarkup:function(){return'<td id="'+this.id+'-browseButtonWrap" data-ref="browseButtonWrap" role="presentation"></td>'},onFileChange:function(i,e,h){this.duringFileSelect=true;Ext.form.field.File.superclass.setValue.call(this,h);delete this.duringFileSelect},didValueChange:function(){return !!this.duringFileSelect},setEmptyText:Ext.emptyFn,setValue:Ext.emptyFn,reset:function(){var e=this,g=e.clearOnSubmit;if(e.rendered){e.button.reset(g);e.fileInputEl=e.button.fileInputEl;if(g){e.inputEl.dom.value="";Ext.form.field.File.superclass.setValue.call(this,null)}}Ext.form.field.Text.prototype.reset.call(this)},onShow:function(){Ext.form.field.Text.prototype.onShow.call(this);this.button.updateLayout()},onDisable:function(){Ext.form.field.Text.prototype.onDisable.call(this);this.button.disable()},onEnable:function(){Ext.form.field.Text.prototype.onEnable.call(this);this.button.enable()},isFileUpload:Ext.returnTrue,extractFileInput:function(){var e=this,g;if(e.rendered){g=e.button.fileInputEl.dom;e.reset()}else{g=document.createElement("input");g.type="file";g.className="x-hidden-display";g.name=e.getName()}return g},restoreInput:function(e){if(this.rendered){var g=this.button;g.restoreInput(e);this.fileInputEl=g.fileInputEl}},onDestroy:function(){this.fileInputEl=this.button=null;Ext.form.field.Text.prototype.onDestroy.call(this)},getButtonMarginProp:function(){return"margin-left:"},onInputFocus:function(d){this.focus();if(Ext.isIE9m){this.fileInputEl.addCls("x-position-relative");this.fileInputEl.removeCls("x-position-relative")}},onInputMouseDown:function(d){d.preventDefault();this.focus()},privates:{getFocusEl:function(){return this.button},getFocusClsEl:Ext.privateFn}},0,["fileuploadfield","filefield"],["component","box","field","textfield","filefield","fileuploadfield"],{component:true,box:true,field:true,textfield:true,filefield:true,fileuploadfield:true},["widget.filefield","widget.fileuploadfield"],0,[Ext.form.field,"File",Ext.form,"FileUploadField",Ext.ux.form,"FileUploadField",Ext.form,"File"],0));(Ext.cmd.derive("Ext.form.field.Hidden",Ext.form.field.Base,{alternateClassName:"Ext.form.Hidden",focusable:false,inputType:"hidden",isTextInput:false,hideLabel:true,hidden:true,ariaRole:"presentation",initComponent:function(){this.formItemCls+="-hidden";Ext.form.field.Base.prototype.initComponent.call(this)},isEqual:function(e,g){return this.isEqualAsString(e,g)},initEvents:Ext.emptyFn,setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn},0,["hiddenfield","hidden"],["component","box","field","hiddenfield","hidden"],{component:true,box:true,field:true,hiddenfield:true,hidden:true},["widget.hidden","widget.hiddenfield"],0,[Ext.form.field,"Hidden",Ext.form,"Hidden"],0));(Ext.cmd.derive("Ext.tip.Tip",Ext.panel.Panel,{alternateClassName:"Ext.Tip",minWidth:40,maxWidth:500,shadow:"sides",defaultAlign:"tl-bl?",constrainPosition:true,autoRender:true,hidden:true,baseCls:"x-tip",focusOnToFront:false,maskOnDisable:false,closeAction:"hide",alwaysFramed:true,frameHeader:false,initComponent:function(){var d=this;d.floating=Ext.apply({},{shadow:d.shadow,constrain:d.constrainPosition},d.self.prototype.floating);Ext.panel.Panel.prototype.initComponent.apply(this,arguments);d.constrain=d.constrain||d.constrainPosition},showAt:function(e){var g=this;Ext.panel.Panel.prototype.showAt.apply(this,arguments);if(g.isVisible()){g.setPagePosition(e[0],e[1]);if(g.constrainPosition||g.constrain){g.doConstrain()}g.toFront(true)}},privates:{initDraggable:function(){var d=this;d.draggable={el:d.getDragEl(),delegate:d.header.el,constrain:d,constrainTo:d.el.dom.parentNode};Ext.Component.prototype.initDraggable.call(d)}},ghost:undefined,unghost:undefined},0,["tip"],["component","box","container","panel","tip"],{component:true,box:true,container:true,panel:true,tip:true},["widget.tip"],0,[Ext.tip,"Tip",Ext,"Tip"],0));(Ext.cmd.derive("Ext.tip.ToolTip",Ext.tip.Tip,{alternateClassName:"Ext.ToolTip",autoHide:true,showDelay:500,hideDelay:200,dismissDelay:5000,trackMouse:false,anchorToTarget:true,anchorOffset:0,targetCounter:0,quickShowInterval:250,hideAction:"hide",fadeOutDuration:1000,ariaRole:"tooltip",initComponent:function(){var d=this;Ext.tip.Tip.prototype.initComponent.apply(this,arguments);d.lastActive=new Date();d.setTarget(d.target);d.origAnchor=d.anchor},onRender:function(h,i){var g=this;Ext.tip.Tip.prototype.onRender.apply(this,arguments);g.anchorCls="x-tip-anchor-"+g.getAnchorPosition();g.anchorEl=g.el.createChild({role:"presentation",cls:"x-tip-anchor "+g.anchorCls})},setTarget:function(h){var j=this,k=Ext.get(h),i;if(j.target){i=Ext.get(j.target);if(Ext.supports.Touch){j.mun(i,"tap",j.onTargetOver,j)}else{j.mun(i,{mouseover:j.onTargetOver,mouseout:j.onTargetOut,mousemove:j.onMouseMove,scope:j})}}j.target=k;if(k){if(Ext.supports.Touch){j.mon(k,{tap:j.onTargetOver,scope:j})}else{j.mon(k,{mouseover:j.onTargetOver,mouseout:j.onTargetOut,mousemove:j.onMouseMove,scope:j})}}if(j.anchor){j.anchorTarget=j.target}},onMouseMove:function(e){var j=this,k,i;if(!j.target||j.target.contains(e.target)){k=j.delegate?e.getTarget(j.delegate):(j.triggerElement=true);if(k){j.targetXY=e.getXY();if(k===j.triggerElement){if(!j.hidden&&j.trackMouse){i=j.getTargetXY();if(j.constrainPosition){i=j.el.adjustForConstraints(i,j.el.parent())}j.setPagePosition(i)}}else{j.hide();j.lastActive=new Date(0);j.onTargetOver(e)}}else{if((!j.closable&&j.isVisible())&&j.autoHide!==false){j.delayHide()}}}},getTargetXY:function(){var v=this,A,B,r,D,w,t,z,s,u,C,x,y;if(v.delegate){v.anchorTarget=v.triggerElement}if(v.anchor){v.targetCounter++;B=v.getOffsets();r=(v.anchorToTarget&&!v.trackMouse)?v.getAlignToXY(v.anchorTarget,v.getAnchorAlign()):v.targetXY;D=Ext.Element.getViewportWidth()-5;w=Ext.Element.getViewportHeight()-5;t=document.documentElement;z=document.body;s=(t.scrollLeft||z.scrollLeft||0)+5;u=(t.scrollTop||z.scrollTop||0)+5;C=[r[0]+B[0],r[1]+B[1]];x=v.getSize();y=v.constrainPosition;v.anchorEl.removeCls(v.anchorCls);if(v.targetCounter<2&&y){if(C[0]<s){if(v.anchorToTarget){v.defaultAlign="l-r";if(v.mouseOffset){v.mouseOffset[0]*=-1}}v.anchor="left";return v.getTargetXY()}if(C[0]+x.width>D){if(v.anchorToTarget){v.defaultAlign="r-l";if(v.mouseOffset){v.mouseOffset[0]*=-1}}v.anchor="right";return v.getTargetXY()}if(C[1]<u){if(v.anchorToTarget){v.defaultAlign="t-b";if(v.mouseOffset){v.mouseOffset[1]*=-1}}v.anchor="top";return v.getTargetXY()}if(C[1]+x.height>w){if(v.anchorToTarget){v.defaultAlign="b-t";if(v.mouseOffset){v.mouseOffset[1]*=-1}}v.anchor="bottom";return v.getTargetXY()}}v.anchorCls="x-tip-anchor-"+v.getAnchorPosition();v.anchorEl.addCls(v.anchorCls);v.targetCounter=0;return C}else{A=v.getMouseOffset();return(v.targetXY)?[v.targetXY[0]+A[0],v.targetXY[1]+A[1]]:A}},calculateConstrainedPosition:function(l){var k=this,i,m,j;if(!l&&k.isContainedFloater()){i=k.isVisible();if(!i){k.el.show()}m=k.getTargetXY();if(!i){k.el.hide()}j=k.floatParent.getTargetEl().getViewRegion();m[0]-=j.left;m[1]-=j.top}else{m=k.callOverridden(arguments)}return m},getMouseOffset:function(){var g=this,e=g.anchor?[0,0]:[15,18];if(g.mouseOffset){e[0]+=g.mouseOffset[0];e[1]+=g.mouseOffset[1]}return e},fadeOut:function(){var d=this;d.el.fadeOut({duration:d.fadeOutDuration,callback:function(){d.hide();d.el.setOpacity("")}})},getAnchorPosition:function(){var e=this,g;if(e.anchor){e.tipAnchor=e.anchor.charAt(0)}else{g=e.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/);e.tipAnchor=g[1].charAt(0)}switch(e.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var i=this,h,j,k=i.getAnchorPosition().charAt(0);if(i.anchorToTarget&&!i.trackMouse){switch(k){case"t":j=[0,9];break;case"b":j=[0,-13];break;case"r":j=[-13,0];break;default:j=[9,0];break}}else{switch(k){case"t":j=[-15-i.anchorOffset,30];break;case"b":j=[-19-i.anchorOffset,-13-i.el.dom.offsetHeight];break;case"r":j=[-15-i.el.dom.offsetWidth,-13-i.anchorOffset];break;default:j=[25,-13-i.anchorOffset];break}}h=i.getMouseOffset();j[0]+=h[0];j[1]+=h[1];return j},onTargetOver:function(e){var i=this,j=i.delegate,k;if(i.disabled||e.within(i.target.dom,true)){return}k=j?e.getTarget(j):true;if(k){i.triggerElement=k;i.triggerEvent=e;i.clearTimer("hide");i.targetXY=e.getXY();i.delayShow()}},delayShow:function(g){var i=this,h=i.el&&(g===false||!i.trackMouse)&&i.getTargetXY();if(i.hidden&&!i.showTimer){if(Ext.Date.getElapsed(i.lastActive)<i.quickShowInterval){i.show()}else{i.showTimer=Ext.defer(i.showFromDelay,i.showDelay,i,[h])}}else{if(!i.hidden&&i.autoHide!==false){i.show(h)}}},showFromDelay:function(e){var g=this;if(g.disabled){return}g.fromDelayShow=true;g.show(e);delete g.fromDelayShow},onShowVeto:function(){Ext.tip.Tip.prototype.onShowVeto.call(this);delete this.triggerElement;this.clearTimer("show")},onTargetOut:function(e){var j=this,k=j.triggerElement,i=k===true?j.target:k;if(j.disabled||!k||e.within(i,true)){return}if(j.showTimer){j.clearTimer("show");j.triggerElement=null}if(j.autoHide!==false){j.delayHide()}},delayHide:function(){var d=this;if(!d.hidden&&!d.hideTimer){d.hideTimer=Ext.defer(d[d.hideAction],d.hideDelay,d)}},hide:function(){var d=this;d.clearTimer("dismiss");d.lastActive=new Date();if(d.anchorEl){d.anchorEl.hide()}Ext.tip.Tip.prototype.hide.apply(this,arguments);delete d.triggerElement},show:function(e){var g=this;Ext.tip.Tip.prototype.show.call(this);if(this.hidden===false){if(g.anchor){g.anchor=g.origAnchor}if(!g.calledFromShowAt){g.showAt(e||g.getTargetXY())}}},showAt:function(e){var g=this;g.lastActive=new Date();g.clearTimers();g.calledFromShowAt=true;if(!g.isVisible()){Ext.tip.Tip.prototype.showAt.apply(this,arguments)}if(g.isVisible()){g.setPagePosition(e[0],e[1]);if(g.constrainPosition||g.constrain){g.doConstrain()}g.toFront(true);g.el.syncUnderlays();if(g.dismissDelay&&g.autoHide!==false){g.dismissTimer=Ext.defer(g.hide,g.dismissDelay,g)}}delete g.calledFromShowAt},syncAnchor:function(){var i=this,k,j,h;switch(i.tipAnchor.charAt(0)){case"t":k="b";j="tl";h=[20+i.anchorOffset,1];break;case"r":k="l";j="tr";h=[-1,12+i.anchorOffset];break;case"b":k="t";j="bl";h=[20+i.anchorOffset,-1];break;default:k="r";j="tl";h=[1,12+i.anchorOffset];break}i.anchorEl.alignTo(i.el,k+"-"+j,h);i.anchorEl.setStyle("z-index",parseInt(i.el.getZIndex(),10)||0+1).setVisibilityMode(Ext.Element.DISPLAY)},afterSetPosition:function(i,g){var h=this;Ext.tip.Tip.prototype.afterSetPosition.apply(this,arguments);if(h.anchor){h.syncAnchor();if(!h.anchorEl.isVisible()){h.anchorEl.show()}}else{h.anchorEl.hide()}},_timerNames:{},clearTimer:function(m){var l=this,j=l._timerNames,k=j[m]||(j[m]=m+"Timer"),i=l[k];if(i){clearTimeout(i);l[k]=null}},clearTimers:function(){var d=this;d.clearTimer("show");d.clearTimer("dismiss");d.clearTimer("hide")},onShow:function(){var d=this;Ext.tip.Tip.prototype.onShow.call(this);d.mon(Ext.getDoc(),"mousedown",d.onDocMouseDown,d)},onHide:function(){var d=this;Ext.tip.Tip.prototype.onHide.call(this);d.mun(Ext.getDoc(),"mousedown",d.onDocMouseDown,d)},onDocMouseDown:function(e){var g=this;if(!g.closable&&!e.within(g.el.dom)){g.disable();Ext.defer(g.doEnable,100,g)}},doEnable:function(){if(!this.destroyed){this.enable()}},onDisable:function(){Ext.tip.Tip.prototype.onDisable.call(this);this.clearTimers();this.hide()},beforeDestroy:function(){var d=this;d.clearTimers();Ext.destroy(d.anchorEl);delete d.anchorEl;delete d.target;delete d.anchorTarget;delete d.triggerElement;Ext.tip.Tip.prototype.beforeDestroy.call(this)},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this);Ext.tip.Tip.prototype.onDestroy.call(this)}},0,["tooltip"],["component","box","container","panel","tip","tooltip"],{component:true,box:true,container:true,panel:true,tip:true,tooltip:true},["widget.tooltip"],0,[Ext.tip,"ToolTip",Ext,"ToolTip"],0));(Ext.cmd.derive("Ext.tip.QuickTip",Ext.tip.ToolTip,{alternateClassName:"Ext.QuickTip",interceptTitles:false,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor",showDelay:"qshowDelay",hideAction:"hideAction",anchorTarget:"anchorTarget"},isQuickTip:true,shrinkWrapDock:true,initComponent:function(){var d=this;d.target=d.target||Ext.getDoc();d.targets=d.targets||{};Ext.tip.ToolTip.prototype.initComponent.call(this)},setTagConfig:function(d){this.tagConfig=Ext.apply({},d);delete this.tagConfig.attr},text:null,register:function(p){var i=Ext.isArray(p)?p:arguments,n=0,r=i.length,j,q,m;for(;n<r;n++){p=i[n];j=p.target;if(j){if(Ext.isArray(j)){for(q=0,m=j.length;q<m;q++){this.targets[Ext.id(j[q])]=p}}else{this.targets[Ext.id(j)]=p}}}},unregister:function(d){delete this.targets[Ext.id(d)]},cancelShow:function(i){var h=this,g=h.activeTarget;i=Ext.get(i).dom;if(h.isVisible()){if(g&&g.el===i){h.hide()}}else{if(g&&g.el===i){h.clearTimer("show")}}},getTipCfg:function(k,l){var m=k.title,n=this.tagConfig,p=n.attr||(n.attr=n.namespace+n.attribute),j;if(this.interceptTitles&&m&&Ext.isString(m)){k.setAttribute(p,m);k.removeAttribute("title");return{text:m}}else{k=Ext.fly(k).findParent(function(c){return(j=c.getAttribute(p))});if(k){return{target:k,text:j}}}},onTargetOver:function(d){this.doTargetOver(d.getTarget(this.delegate),null,d)},doTargetOver:function(z,I,G){var y=this,H,D,C,F,A,x,E,v,B,J,w,u;if(y.disabled){return}if(typeof z==="string"){z=Ext.getDom(z)}y.targetXY=I||(G?G.getXY():Ext.fly(z).getXY());if(!z||z.nodeType!==1||z===document.documentElement||z===document.body){return}if(y.activeTarget&&((z===y.activeTarget.el)||Ext.fly(y.activeTarget.el).contains(z))){if(y.targetTextEmpty()){y.onShowVeto();delete y.activeTarget}else{y.clearTimer("hide");y.show()}return}if(z){B=y.targets;for(u in B){if(B.hasOwnProperty(u)){w=B[u];J=Ext.fly(w.target);if(J&&(J.dom===z||J.contains(z))){F=J.dom;break}}}if(F){y.activeTarget=y.targets[F.id];y.activeTarget.el=z;y.anchor=y.activeTarget.anchor;if(y.anchor){y.anchorTarget=z}H=parseInt(y.activeTarget.showDelay,10);if(H){C=y.showDelay;y.showDelay=H}y.delayShow();if(H){y.showDelay=C}if(!(D=y.activeTarget.hideAction)){delete y.hideAction}else{y.hideAction=D}return}}F=Ext.fly(z,"_quicktip-target");A=y.tagConfig;x=A.namespace;E=y.getTipCfg(z,G);if(E){if(E.target){z=E.target;F=Ext.fly(z,"_quicktip-target")}v=F.getAttribute(x+A.hide);y.activeTarget={el:z,text:E.text,width:+F.getAttribute(x+A.width)||null,autoHide:v!=="user"&&v!=="false",title:F.getAttribute(x+A.title),cls:F.getAttribute(x+A.cls),align:F.getAttribute(x+A.align),showDelay:parseInt(F.getAttribute(x+A.showDelay)||0,10),hideAction:F.getAttribute(x+A.hideAction),anchorTarget:F.getAttribute(x+A.anchorTarget)};if(!y.initialConfig.hasOwnProperty("anchor")){y.anchor=F.getAttribute(x+A.anchor)}if(y.anchor&&!y.initialConfig.hasOwnProperty("anchorTarget")){y.anchorTarget=y.activeTarget.anchorTarget||z}H=parseInt(y.activeTarget.showDelay,10);if(H){C=y.showDelay;y.showDelay=H}y.delayShow();if(H){y.showDelay=C}}},onTargetOut:function(e){var k=this,j=k.activeTarget,m,l;if(j&&e.within(k.activeTarget.el)&&!k.getTipCfg(e.getTarget(),e)){return}k.clearTimer("show");delete k.activeTarget;if(k.autoHide!==false){m=j&&parseInt(j.hideDelay,10);if(m){l=k.hideDelay;k.hideDelay=m}k.delayHide();if(m){k.hideDelay=l}}},targetTextEmpty:function(){var k=this,j=k.activeTarget,m=k.tagConfig,l,i;if(j){l=j.el;if(l){i=l.getAttribute(m.namespace+m.attribute);if(!i&&!k.targets[Ext.id(j.target)]){return true}}}return false},show:function(){var e=this,g=e.fromDelayShow;if(g&&e.targetTextEmpty()){e.onShowVeto();delete e.activeTarget;return}Ext.tip.ToolTip.prototype.show.apply(this,arguments)},showAt:function(k){var m=this,l=m.activeTarget,j=m.header,n,p;if(l){if(!m.rendered){m.render(Ext.getBody());m.activeTarget=l}m.suspendLayouts();if(l.title){m.setTitle(l.title);j.show()}else{if(j){j.hide()}}m.update(l.text);m.autoHide=l.autoHide;n=l.dismissDelay;m.dismissDelay=Ext.isNumber(n)?n:m.dismissDelay;if(l.mouseOffset){k[0]+=l.mouseOffset[0];k[1]+=l.mouseOffset[1]}p=m.lastCls;if(p){m.removeCls(p);delete m.lastCls}p=l.cls;if(p){m.addCls(p);m.lastCls=p}m.setWidth(l.width);if(m.anchor){m.constrainPosition=false}else{if(l.align){k=m.getAlignToXY(l.el,l.align);m.constrainPosition=false}else{m.constrainPosition=true}}m.resumeLayouts(true)}Ext.tip.ToolTip.prototype.showAt.call(this,k)},showByTarget:function(l){var p=this,m,q,n,r,k;m=p.targets[l.id];if(m){p.activeTarget=m;p.activeTarget.el=Ext.get(l).dom;p.anchor=p.activeTarget.anchor;q=l.getSize();n=l.getXY();p.showAt([n[0],n[1]+q.height])}},hide:function(){delete this.activeTarget;Ext.tip.ToolTip.prototype.hide.call(this)}},0,["quicktip"],["component","box","container","panel","tip","tooltip","quicktip"],{component:true,box:true,container:true,panel:true,tip:true,tooltip:true,quicktip:true},["widget.quicktip"],0,[Ext.tip,"QuickTip",Ext,"QuickTip"],0));(Ext.cmd.derive("Ext.tip.QuickTipManager",Ext.Base,{singleton:true,alternateClassName:"Ext.QuickTips",disabled:false,init:function(k,n){var l=this;if(!l.tip){if(!Ext.isReady){Ext.onInternalReady(function(){Ext.tip.QuickTipManager.init(k,n)});return false}var p=Ext.apply({disabled:l.disabled,id:"ext-quicktips-tip"},n),m=p.className,j=p.xtype;if(m){delete p.className}else{if(j){m="widget."+j;delete p.xtype}}if(k!==false){p.renderTo=document.body}l.tip=Ext.create(m||"Ext.tip.QuickTip",p);Ext.quickTipsActive=true}},destroy:function(){Ext.destroy(this.tip);this.tip=undefined},ddDisable:function(){var g=this,e=g.tip;if(e&&!g.disabled){e.disable()}},ddEnable:function(){var g=this,e=g.tip;if(e&&!g.disabled){e.enable()}},enable:function(){var g=this,e=g.tip;if(e){e.enable()}g.disabled=false},disable:function(){var g=this,e=g.tip;if(e){e.disable()}g.disabled=true},isEnabled:function(){var d=this.tip;return d!==undefined&&!d.disabled},getQuickTip:function(){return this.tip},register:function(){var d=this.tip;d.register.apply(d,arguments)},unregister:function(){var d=this.tip;d.unregister.apply(d,arguments)},tips:function(){var d=this.tip;d.register.apply(d,arguments)}},0,0,0,0,0,0,[Ext.tip,"QuickTipManager",Ext,"QuickTips"],0));(Ext.cmd.derive("Ext.toolbar.Separator",Ext.toolbar.Item,{alternateClassName:"Ext.Toolbar.Separator",baseCls:"x-toolbar-separator",ariaRole:"separator"},0,["tbseparator"],["component","box","tbitem","tbseparator"],{component:true,box:true,tbitem:true,tbseparator:true},["widget.tbseparator"],0,[Ext.toolbar,"Separator",Ext.Toolbar,"Separator"],0));(Ext.cmd.derive("Ext.grid.CellContext",Ext.Base,{isCellContext:true,constructor:function(d){this.view=d},setPosition:function(g,i){var h=this;if(arguments.length===1){if(g.length){i=g[0];g=g[1]}else{if(g.isCellContext){return h.setAll(g.view,g.rowIdx,g.colIdx,g.record,g.columnHeader)}else{if(g.view){h.view=g.view}i=g.column;g=g.row}}}h.setRow(g);h.setColumn(i);return h},setAll:function(n,m,l,p,j){var k=this;k.view=n;k.rowIdx=m;k.colIdx=l;k.record=p;k.column=j;return k},setRow:function(g){var i=this,h=i.view.dataSource;if(g!==undefined){if(typeof g==="number"){i.rowIdx=Math.max(Math.min(g,h.getCount()-1),0);i.record=h.getAt(g)}else{if(g.isModel){i.record=g;i.rowIdx=h.indexOf(g)}else{if(g.tagName||g.isElement){i.record=i.view.getRecord(g);i.rowIdx=h.indexOf(i.record)}}}}return i},setColumn:function(i){var g=this,h=g.view.getVisibleColumnManager();if(i!==undefined){if(typeof i==="number"){g.colIdx=i;g.column=h.getHeaderAtIndex(i)}else{if(i.isHeader){g.column=i;g.colIdx=h.indexOf(i)}}}return g},getCell:function(d){return this.view.getCellByPosition(this,d)},getRow:function(e){var g=this.view.getRow(this.record);return e?g:Ext.get(g)},getNode:function(e){var g=this.view.getNode(this.record);return e?g:Ext.get(g)},isEqual:function(d){return(d&&d.isCellContext&&d.record===this.record&&d.column===this.column)},clone:function(){var e=this,g=new e.self(e.view);g.rowIdx=e.rowIdx;g.colIdx=e.colIdx;g.record=e.record;g.column=e.column;return g},privates:{isFirstColumn:function(){var d=this.getCell(true);if(d){return !d.previousSibling}},isLastColumn:function(){var d=this.getCell(true);if(d){return !d.nextSibling}},getLastColumnIndex:function(){var d=this.getRow(true);if(d){return d.lastChild.cellIndex}return -1},navigate:function(g){var h=this,i=h.view.getVisibleColumnManager().getColumns();switch(g){case -1:do{if(!h.colIdx){h.colIdx=i.length-1}else{h.colIdx--}h.setColumn(h.colIdx)}while(!h.getCell(true));break;case 1:do{if(h.colIdx>=i.length){h.colIdx=0}else{h.colIdx++}h.setColumn(h.colIdx)}while(!h.getCell(true));break}}},statics:{compare:function(e,g){return e.rowIdx-g.rowIdx||e.colIdx-g.colIdx}}},1,0,0,0,0,0,[Ext.grid,"CellContext"],0));(Ext.cmd.derive("Ext.grid.CellEditor",Ext.Editor,{isCellEditor:true,alignment:"l-l!",hideEl:false,cls:"x-small-editor x-grid-editor x-grid-cell-editor",treeNodeSelector:".x-tree-node-text",shim:false,shadow:false,setGrid:function(j){var h=this,i=h.grid,k;if(j!==i){k={beforeitemupdate:h.beforeItemUpdate,itemupdate:h.onItemUpdate,scope:h};if(i){i.getView().un(k)}h.grid=j;j.getView().on(k)}},beforeViewRefresh:function(i){var h=this,g=h.el&&h.el.dom;if(g){h.wasAllowBlur=h.allowBlur;if(h.editing){i.cellFocused=false;h.allowBlur=false}if(g.parentNode){i.refreshing=true;g.parentNode.removeChild(g)}}},onViewRefresh:function(l){var j=this,i=j.el&&j.el.dom,m,k=j.context;if(i){m=l.getCellByPosition(k,true);if(!m){j.allowBlur=j.wasAllowBlur;j.completeEdit();Ext.getDetachedBody().dom.appendChild(i);return}k.node=l.getNode(k.record);k.row=l.getRow(k.record);k.cell=m;k.rowIdx=l.indexOf(k.row);m.insertBefore(i,m.firstChild);j.boundEl=j.container=Ext.get(m);j.realign(true);if(j.editing){if(Ext.isIE){Ext.defer(function(){if(!j.destroyed){j.allowBlur=j.wasAllowBlur;j.field.focus()}},10)}else{j.allowBlur=j.wasAllowBlur;j.field.focus()}}}},beforeItemUpdate:function(r,q,p,s){var i=this,l=i.context,t=s.length,n;if(r===l.record){for(n=0;n<t;n++){if(s[n]===l.column){i.needsFixOnItemUpdate=true;i.beforeViewRefresh(l.view);return}}}},onItemUpdate:function(j,i,h){var k=this.context.view;if(this.needsFixOnItemUpdate){this.needsFixOnItemUpdate=k.refreshing=false;this.onViewRefresh(k)}},startEdit:function(h,g,i){this.context=this.editingPlugin.context;Ext.Editor.prototype.startEdit.call(this,h,g,i)},onShow:function(){var g=this,e=g.boundEl.down(g.context.view.innerSelector);if(e){if(g.isForTree){e=e.child(g.treeNodeSelector)}e.hide()}Ext.Editor.prototype.onShow.apply(this,arguments)},onFocusEnter:function(){var e=this.context,g=e.view;e.node=g.getNode(e.record);e.row=g.getRow(e.record);e.cell=e.getCell(true);e.rowIdx=g.indexOf(e.row);this.realign(true);Ext.Editor.prototype.onFocusEnter.apply(this,arguments);this.focusEnterEvent=null},onEditComplete:function(d){if(d){this.restoreCell()}Ext.Editor.prototype.onEditComplete.apply(this,arguments)},onHide:function(){this.restoreCell();Ext.Editor.prototype.onHide.apply(this,arguments)},onSpecialKey:function(k,l){var m=this,p=l.getKey(),q=m.completeOnEnter&&p===l.ENTER,n=m.cancelOnEsc&&p===l.ESC,r=m.editingPlugin.view;if(q||n){l.stopEvent();if(q){m.completeEdit(true)}else{if(n){m.cancelEdit(true)}}r.getNavigationModel().setPosition(m.context,null,l);r.ownerGrid.setActionableMode(false)}},getRefOwner:function(){return this.column&&this.column.getView()},restoreCell:function(){var g=this,e=g.boundEl.down(g.context.view.innerSelector);if(e){if(g.isForTree){e=e.child(g.treeNodeSelector)}e.show()}},afterRender:function(){var g=this,e=g.field;Ext.Editor.prototype.afterRender.apply(this,arguments);if(e.isCheckbox){e.mon(e.inputEl,{mousedown:g.onCheckBoxMouseDown,click:g.onCheckBoxClick,scope:g})}},onCheckBoxMouseDown:function(){this.completeEdit=Ext.emptyFn},onCheckBoxClick:function(){delete this.completeEdit;this.field.focus(false,10)},realign:function(w){var r=this,u=r.boundEl,t=u.down(r.context.view.innerSelector),p=t.dom.firstChild,y=u.getWidth(),x=Ext.Array.clone(r.offsets),z=r.grid,s,q="",v=!p||(p.nodeType===3&&!(Ext.String.trim(q=p.data).length));if(r.isForTree){s=r.getTreeNodeOffset(t);y-=Math.abs(s);x[0]+=s}if(z.columnLines){y-=u.getBorderWidth("rl")}if(w===true){r.field.setWidth(y)}if(v){t.dom.innerHTML="X"}r.alignTo(u,r.alignment,x);if(v){t.dom.firstChild.data=q}},getTreeNodeOffset:function(d){return d.child(this.treeNodeSelector).getOffsetsTo(d)[0]}},0,0,["component","box","container","editor"],{component:true,box:true,container:true,editor:true},0,0,[Ext.grid,"CellEditor"],0));(Ext.cmd.derive("Ext.grid.ColumnComponentLayout",Ext.layout.component.Auto,{type:"columncomponent",setWidthInDom:true,_paddingReset:{paddingTop:"",paddingBottom:""},columnAutoCls:"x-column-header-text-container-auto",beginLayout:function(d){Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);d.titleContext=d.getEl("titleEl")},beginLayoutCycle:function(i){var j=this,k=j.owner,h=i.widthModel.shrinkWrap;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,arguments);if(h){k.el.setWidth("")}k.textContainerEl[h&&!k.isGroupHeader?"addCls":"removeCls"](j.columnAutoCls);k.titleEl.setStyle(j._paddingReset)},publishInnerHeight:function(j,k){var l=this,m=l.owner,i;if(m.getRootHeaderCt().hiddenHeaders){j.setProp("innerHeight",0);return}if(!j.hasRawContent){if(m.headerWrap&&!j.hasDomProp("width")){l.done=false;return}i=k-j.getBorderInfo().height;j.setProp("innerHeight",i-m.titleEl.getHeight(),false)}},measureContentHeight:function(d){return d.el.dom.offsetHeight},publishInnerWidth:function(g,e){if(!g.hasRawContent){g.setProp("innerWidth",e-g.getBorderInfo().width,false)}},calculateOwnerHeightFromContentHeight:function(h,i){var j=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.apply(this,arguments),k=this.owner;if(!h.hasRawContent){if(!k.headerWrap||h.hasDomProp("width")){return i+k.titleEl.getHeight()+h.getBorderInfo().height}return null}return j},calculateOwnerWidthFromContentWidth:function(j,n){var p=this.owner,k=j.getPaddingInfo().width,l=this.getTriggerOffset(p,j),m;if(p.isGroupHeader){m=n}else{m=Math.max(n,p.textEl.getWidth()+j.titleContext.getPaddingInfo().width)}return m+k+l},getTriggerOffset:function(i,g){var h=0;if(g.widthModel.shrinkWrap&&!i.menuDisabled){if(i.query(">:not([hidden])").length===0){h=i.getTriggerElWidth()}}return h}},0,0,0,0,["layout.columncomponent"],0,[Ext.grid,"ColumnComponentLayout"],0));(Ext.cmd.derive("Ext.layout.container.Fit",Ext.layout.container.Container,{alternateClassName:"Ext.layout.FitLayout",itemCls:"x-fit-item",type:"fit",manageMargins:true,sizePolicies:{0:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},1:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},2:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},3:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(j,i){var k=i||this.owner.getSizeModel(),h=(k.width.shrinkWrap?0:1)|(k.height.shrinkWrap?0:2);return this.sizePolicies[h]},beginLayoutCycle:function(G,J){var i=this,c=i.lastHeightModel&&i.lastHeightModel.calculated,I=i.lastWidthModel&&i.lastWidthModel.calculated,C=I||c,F=0,E=0,y,M,B,z,K,N,H,D,A,L;Ext.layout.container.Container.prototype.beginLayoutCycle.apply(this,arguments);if(C&&G.targetContext.el.dom.tagName.toUpperCase()!=="TD"){C=I=c=false}M=G.childItems;K=M.length;for(B=0;B<K;++B){z=M[B];if(J){y=z.target;H=y.minHeight;D=y.minWidth;if(D||H){N=z.marginInfo||z.getMarginInfo();H+=N.height;D+=N.height;if(F<H){F=H}if(E<D){E=D}}}if(C){A=z.el.dom.style;if(c){A.height=""}if(I){A.width=""}}}if(J){G.maxChildMinHeight=F;G.maxChildMinWidth=E}y=G.target;G.overflowX=(!G.widthModel.shrinkWrap&&G.maxChildMinWidth&&y.scrollFlags.x)||L;G.overflowY=(!G.heightModel.shrinkWrap&&G.maxChildMinHeight&&y.scrollFlags.y)||L},calculate:function(B){var i=this,x=B.childItems,D=x.length,E=i.getContainerSize(B),C={length:D,ownerContext:B,targetSize:E},H=B.widthModel.shrinkWrap,w=B.heightModel.shrinkWrap,y=B.overflowX,A=B.overflowY,v,F,J,z,G,I;B.state.info=C;if(y||A){v=i.getScrollbarsNeeded(y&&E.width,A&&E.height,B.maxChildMinWidth,B.maxChildMinHeight);if(v){F=Ext.getScrollbarSize();if(v&1){E.height-=F.height}if(v&2){E.width-=F.width}}}if(D>0){for(z=0;z<D;++z){C.index=z;i.fitItem(x[z],C)}}else{C.contentWidth=C.contentHeight=0}if(w||H){J=B.targetContext.getPaddingInfo();if(H){if(A&&!E.gotHeight){i.done=false}else{G=C.contentWidth+J.width;if(v&2){G+=F.width}if(!B.setContentWidth(G)){i.done=false}}}if(w){if(y&&!E.gotWidth){i.done=false}else{I=C.contentHeight+J.height;if(v&1){I+=F.height}if(!B.setContentHeight(I)){i.done=false}}}}},fitItem:function(h,g){var i=this;if(h.invalid){i.done=false;return}g.margins=h.getMarginInfo();g.needed=g.got=0;i.fitItemWidth(h,g);i.fitItemHeight(h,g);if(g.got!==g.needed){i.done=false}},fitItemWidth:function(i,h){var k,j;if(h.ownerContext.widthModel.shrinkWrap){j=i.getProp("width")+h.margins.width;k=h.contentWidth;if(k===undefined){h.contentWidth=j}else{h.contentWidth=Math.max(k,j)}}else{if(i.widthModel.calculated){++h.needed;if(h.targetSize.gotWidth){++h.got;this.setItemWidth(i,h)}else{return}}}this.positionItemX(i,h)},fitItemHeight:function(i,h){var j,k;if(h.ownerContext.heightModel.shrinkWrap){k=i.getProp("height")+h.margins.height;j=h.contentHeight;if(j===undefined){h.contentHeight=k}else{h.contentHeight=Math.max(j,k)}}else{if(i.heightModel.calculated){++h.needed;if(h.targetSize.gotHeight){++h.got;this.setItemHeight(i,h)}else{return}}}this.positionItemY(i,h)},positionItemX:function(i,g){var h=g.margins;if(g.index||h.left){i.setProp("x",h.left)}if(h.width&&g.ownerContext.widthModel.shrinkWrap){i.setProp("margin-right",h.width)}},positionItemY:function(i,g){var h=g.margins;if(g.index||h.top){i.setProp("y",h.top)}if(h.height&&g.ownerContext.heightModel.shrinkWrap){i.setProp("margin-bottom",h.height)}},setItemHeight:function(g,e){g.setHeight(e.targetSize.height-e.margins.height)},setItemWidth:function(g,e){g.setWidth(e.targetSize.width-e.margins.width)}},0,0,0,0,["layout.fit"],0,[Ext.layout.container,"Fit",Ext.layout,"FitLayout"],0));(Ext.cmd.derive("Ext.panel.Table",Ext.panel.Panel,{extraBaseCls:"x-grid",extraBodyCls:"x-grid-body",actionableModeCls:"x-grid-actionable",noHeaderBordersCls:"x-no-header-borders",defaultBindProperty:"store",layout:"fit",ariaRole:"grid",config:{selection:null,headerBorders:true},publishes:["selection"],twoWayBindable:["selection"],autoLoad:false,variableRowHeight:false,numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,hasView:false,viewType:null,deferRowRender:false,sortableColumns:true,multiColumnSort:false,enableLocking:false,scrollerOwner:true,enableColumnMove:true,sealedColumns:false,enableColumnResize:true,rowLines:true,bufferedRenderer:true,ownerGrid:null,colLinesCls:"x-grid-with-col-lines",rowLinesCls:"x-grid-with-row-lines",noRowLinesCls:"x-grid-no-row-lines",hiddenHeaderCtCls:"x-grid-header-ct-hidden",hiddenHeaderCls:"x-grid-header-hidden",resizeMarkerCls:"x-grid-resize-marker",emptyCls:"x-grid-empty",focusable:true,constructor:function(i){var h=this,k=i&&i.ownerGrid,j;h.ownerGrid=k||h;h.actionables=k?k.actionables:[];Ext.panel.Panel.prototype.constructor.call(this,i);j=h.store;j.trackStateChanges=true;if(h.autoLoad){if(!j.isEmptyStore){j.load()}}},registerActionable:function(d){Ext.Array.include(this.actionables,d)},initComponent:function(){var r=this,t=r.columns||r.colModel||[],p,q,u,s,i,v,w,x;p=r.store=Ext.data.StoreManager.lookup(r.store||"ext-empty-store");r.enableLocking=r.enableLocking||r.hasLockedColumns(t);if(r.plugins){r.plugins=r.constructPlugins()}if(r.columnLines){r.addBodyCls(r.colLinesCls)}r.addBodyCls(r.rowLines?r.rowLinesCls:r.noRowLinesCls);r.addBodyCls(r.extraBodyCls);if(r.enableLocking){r.self.mixin("lockable",Ext.grid.locking.Lockable);r.injectLockable();x=r.headerCt}else{if(t.isRootHeader){if(r.hideHeaders){t.setHeight(0);t.hiddenHeaders=true}else{t.setScrollable({x:false,y:false})}r.headerCt=x=t;x.grid=r;x.forceFit=!!r.forceFit;x.$initParent=r;r.columnManager=t.columnManager;r.visibleColumnManager=t.visibleColumnManager}else{if(Ext.isArray(t)){t={items:t}}Ext.apply(t,{grid:r,$initParent:r,forceFit:r.forceFit,sortable:r.sortableColumns,enableColumnMove:r.enableColumnMove,enableColumnResize:r.enableColumnResize,columnLines:r.columnLines,sealed:r.sealedColumns,scrollable:r.hideHeaders?undefined:{x:false,y:false}});if(r.hideHeaders){t.height=0;t.hiddenHeaders=true}if(Ext.isDefined(r.enableColumnHide)){t.enableColumnHide=r.enableColumnHide}r.headerCt=x=new Ext.grid.header.Container(t)}}r.columns=v=x.getGridColumns();r.scrollTask=new Ext.util.DelayedTask(r.syncHorizontalScroll,r);r.cls=(r.cls||"")+(" "+r.extraBaseCls);delete r.autoScroll;i=r.plugins&&Ext.Array.findBy(r.plugins,function(c){return c.isBufferedRenderer});if(i){r.bufferedRenderer=i}if(!r.hasView){if(p.isBufferedStore&&!p.getRemoteSort()){for(u=0,s=v.length;u<s;u++){v[u].sortable=false}}if(r.hideHeaders){r.headerCt.addCls(r.hiddenHeaderCtCls);r.addCls(r.hiddenHeaderCls)}r.relayHeaderCtEvents(x);r.features=r.features||[];if(!Ext.isArray(r.features)){r.features=[r.features]}r.dockedItems=[].concat(r.dockedItems||[]);r.dockedItems.unshift(x);r.viewConfig=r.viewConfig||{};q=r.getView();r.items=[q];r.hasView=true;if(!r.hideHeaders){w=q.getScrollable();if(w){x.getScrollable().addPartner(w,"x")}}r.bindStore(p,true);r.mon(q,{viewready:r.onViewReady,refresh:r.onRestoreHorzScroll,scope:r})}r.selModel=r.view.getSelectionModel();if(r.selModel.isRowModel){r.selModel.on({scope:r,lastselectedchanged:r.updateBindSelection,selectionchange:r.updateBindSelection})}r.relayEvents(r.view,["beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown","cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown","rowclick","rowdblclick","rowcontextmenu","rowmousedown","rowmouseup","rowkeydown","beforeitemkeydown","itemkeydown","beforeitemkeyup","itemkeyup","beforeitemkeypress","itemkeypress","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","beforecontainerkeyup","beforecontainerkeypress","containermouseup","containermousedown","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","containerkeyup","containerkeypress","selectionchange","beforeselect","select","beforedeselect","deselect"]);Ext.panel.Panel.prototype.initComponent.call(this);if(r.enableLocking){r.afterInjectLockable()}else{delete x.$initParent}r.addStateEvents(["columnresize","columnmove","columnhide","columnshow","sortchange","filterchange","groupchange"])},beforeRender:function(){var h=this,g=h.bufferedRenderer,i;if(h.lockable){h.getProtoBody().addCls(h.lockingBodyCls)}else{if(g&&h.getSizeModel().height.auto){h.bufferedRenderer=g=false}if(g&&!g.isBufferedRenderer){g={xclass:"Ext.grid.plugin.BufferedRenderer"};Ext.copy(g,h,"variableRowHeight,numFromEdge,trailingBufferZone,leadingBufferZone,scrollToLoadBuffer");h.bufferedRenderer=h.addPlugin(g)}i=h.ariaRenderAttributes||(h.ariaRenderAttributes={});i["aria-readonly"]=!h.isEditable;i["aria-multiselectable"]=h.selModel.selectionMode!=="SINGLE"}Ext.panel.Panel.prototype.beforeRender.apply(this,arguments)},onRender:function(){var h=this,i,g;if(h.isLocked&&h.getSizeModel().width.shrinkWrap){h.shrinkWrapColumns=true;g=h.headerCt.getTableWidth();i=h.gridPanelBorderWidth||(h.gridPanelBorderWidth=h.el.getBorderWidth("lr"));h.width=g+i}Ext.panel.Panel.prototype.onRender.call(this)},getHeaderContainer:function(){return this.getView().getHeaderCt()},getColumns:function(){return this.getColumnManager().getColumns()},getVisibleColumns:function(){return this.getVisibleColumnManager().getColumns()},focus:function(){this.getView().focus()},disableColumnHeaders:function(){this.headerCt.disable()},enableColumnHeaders:function(){this.headerCt.enable()},hasLockedColumns:function(i){var j,k,h;if(i.isRootHeader){i=i.items.items}else{if(Ext.isObject(i)){i=i.items}}for(j=0,k=i.length;j<k;j++){h=i[j];if(!h.processed&&h.locked){return true}}},relayHeaderCtEvents:function(d){this.relayEvents(d,["columnresize","columnmove","columnhide","columnshow","columnschanged","sortchange","headerclick","headercontextmenu","headertriggerclick"])},getState:function(){var h=this,g=Ext.panel.Panel.prototype.getState.call(this),i=h.store.getState();g=h.addPropertyToState(g,"columns",h.headerCt.getColumnsState());if(i){g.storeState=i}return g},applyState:function(k){var l=this,j=k.sort,p=k.storeState,n=l.store,m=k.columns;delete k.columns;Ext.panel.Panel.prototype.applyState.apply(this,arguments);if(m){l.headerCt.applyColumnsState(m,p)}if(j){if(n.getRemoteSort()){n.sort({property:j.property,direction:j.direction,root:j.root},null,false)}else{n.sort(j.property,j.direction)}}else{if(p){n.applyState(p)}}},getStore:function(){return this.store},getView:function(){var i=this,k,h,j;if(!i.view){j=i.viewConfig;k=j.scroll||i.scroll;h=i.scrollable;if(h==null&&j.scrollable==null&&k!==null){if(k===true||k==="both"){h=true}else{if(k===false||k==="none"){h=false}else{if(k==="vertical"){h={x:false,y:true}}else{if(k==="horizontal"){h={x:true,y:false}}}}}}j=Ext.apply({grid:i,ownerGrid:i.ownerGrid,deferInitialRefresh:i.deferRowRender,variableRowHeight:i.variableRowHeight,preserveScrollOnRefresh:true,trackOver:i.trackMouseOver!==false,throttledUpdate:i.throttledUpdate===true,xtype:i.viewType,store:i.store,headerCt:i.headerCt,columnLines:i.columnLines,rowLines:i.rowLines,navigationModel:"grid",features:i.features,panel:i,emptyText:i.emptyText||""},i.viewConfig);if(h!=null){j.scrollable=h;i.scrollable=null}Ext.create(j);if(i.view.emptyText){i.view.emptyText='<div class="'+i.emptyCls+'">'+i.view.emptyText+"</div>"}i.view.getComponentLayout().headerCt=i.headerCt;i.mon(i.view,{uievent:i.processEvent,scope:i});i.headerCt.view=i.view;if(i.hasListeners.viewcreated){i.fireEvent("viewcreated",i,i.view)}}return i.view},getColumnManager:function(){return this.columnManager},getVisibleColumnManager:function(){return this.visibleColumnManager},getTopLevelColumnManager:function(){return this.ownerGrid.getColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},setAutoScroll:Ext.emptyFn,applyScrollable:function(d){if(this.view){this.view.setScrollable(d)}return d},getScrollable:function(){return null},processEvent:function(r,p,n,v,q,s,t,e){var u=s.position.column;if(u){return u.processEvent.apply(u,arguments)}},ensureVisible:function(g,e){this.doEnsureVisible(g,e)},scrollByDeltaY:function(e,g){this.getView().scrollBy(0,e,g)},scrollByDeltaX:function(e,g){this.getView().scrollBy(e,0,g)},afterCollapse:function(){this.saveScrollPos();Ext.panel.Panel.prototype.afterCollapse.apply(this,arguments)},afterExpand:function(){Ext.panel.Panel.prototype.afterExpand.apply(this,arguments);this.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:function(){var g=this.view.getScrollable(),e;if(g&&g.isTouchScroller){e=g.getSize();if(e){g.setSize({x:this.headerCt.getTableWidth(),y:e.y})}}},onHeaderMove:function(k,j,p,n,l){var m=this;if(m.optimizedColumnMove===false){m.view.refreshView()}else{m.view.moveColumn(n,l,p)}m.delayScroll()},onHeaderHide:function(h,g){var i=this.view;if(!h.childHideCount&&i.refreshCounter){i.refreshView()}},onHeaderShow:function(h,g){var i=this.view;if(i.refreshCounter){i.refreshView()}},onHeadersChanged:function(h,g){var i=this;if(i.rendered&&!i.reconfiguring){i.view.refreshView();i.delayScroll()}},delayScroll:function(){var d=this.view;if(d){this.scrollTask.delay(10,null,null,[d])}},onViewReady:function(){this.fireEvent("viewready",this)},onRestoreHorzScroll:function(){var e=this,g=e.scrollXPos;if(g){e.syncHorizontalScroll(e,true)}},getScrollerOwner:function(){var d=this;if(!this.scrollerOwner){d=this.up("[scrollerOwner]")}return d},getLhsMarker:function(){var d=this;return d.lhsMarker||(d.lhsMarker=Ext.DomHelper.append(d.el,{role:"presentation",cls:d.resizeMarkerCls},true))},getRhsMarker:function(){var d=this;return d.rhsMarker||(d.rhsMarker=Ext.DomHelper.append(d.el,{role:"presentation",cls:d.resizeMarkerCls},true))},getSelection:function(){return this.getSelectionModel().getSelection()},updateSelection:function(i){var h=this,g;if(!h.ignoreNextSelection){h.ignoreNextSelection=true;g=h.getSelectionModel();if(i){g.select(i)}else{g.deselectAll()}h.ignoreNextSelection=false}},updateBindSelection:function(k,i){var h=this,j=null;if(!h.ignoreNextSelection){h.ignoreNextSelection=true;if(i.length){j=k.getLastSelected();h.hasHadSelection=true}if(h.hasHadSelection){h.setSelection(j)}h.ignoreNextSelection=false}},updateHeaderBorders:function(d){this[d?"removeCls":"addCls"](this.noHeaderBordersCls)},getNavigationModel:function(){return this.getView().getNavigationModel()},getSelectionModel:function(){return this.getView().getSelectionModel()},getScrollTarget:function(){var d=this.getScrollerOwner().query("tableview");return d[d.length-1]},syncHorizontalScroll:function(i,k){var j=this,m=j.view.getScrollX(),l;k=k===true;if(j.rendered&&(k||m!==j.scrollXPos)){if(k){l=j.getScrollTarget();l.setScrollX(m)}j.headerCt.setScrollX(m);j.scrollXPos=m}},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(j,i){var h=this,k=h.getView();if(j){h.store=j;if(k.store!==j){k.bindStore(j,false)}h.mon(j,{load:h.onStoreLoad,scope:h});h.storeRelayers=h.relayEvents(j,["filterchange","groupchange"])}else{h.unbindStore()}},unbindStore:function(){var g=this,h=g.store,i;if(h){h.trackStateChanges=false;g.store=null;g.mun(h,{load:g.onStoreLoad,scope:g});Ext.destroy(g.storeRelayers);i=g.view;if(i.store){i.bindStore(null)}}},setColumns:function(d){if(d.length||this.getColumnManager().getColumns().length){this.reconfigure(undefined,d)}},setStore:function(d){this.reconfigure(d);if(this.autoLoad&&!d.isEmptyStore&&!(d.loading||d.isLoaded())){d.load()}},reconfigure:function(n,v){var r=this,x=r.store,w=r.headerCt,p=r.lockable,t=w?w.items.getRange():r.columns,q=r.getView(),u,s;if(arguments.length===1&&Ext.isArray(n)){v=n;n=null}if(v){v=Ext.Array.slice(v)}r.reconfiguring=true;if(n){n=Ext.StoreManager.lookup(n)}r.fireEvent("beforereconfigure",r,n,v,x,t);Ext.suspendLayouts();if(p){r.reconfigureLockable(n,v)}else{u=q.blockRefresh;q.blockRefresh=true;if(n&&n!==x){r.unbindStore();r.bindStore(n)}if(v){delete r.scrollXPos;w.removeAll();w.add(v)}q.blockRefresh=u;s=q.refreshCounter}Ext.resumeLayouts(true);if(p){r.afterReconfigureLockable()}else{if(q.refreshCounter===s){q.refreshView()}}r.fireEvent("reconfigure",r,n,v,x,t);delete r.reconfiguring},beforeDestroy:function(){var e=this,g=e.scrollTask;if(g){g.cancel();e.scrollTask=null}Ext.destroy(e.focusEnterLeaveListeners);Ext.panel.Panel.prototype.beforeDestroy.call(this)},onDestroy:function(){var d=this;if(d.lockable){d.destroyLockable()}d.unbindStore();Ext.panel.Panel.prototype.onDestroy.call(this);d.columns=d.storeRelayers=d.columnManager=d.visibleColumnManager=null},destroy:function(){var d=this;Ext.panel.Panel.prototype.destroy.call(this);if(d.destroyed){d.view=d.selModel=d.headerCt=null}},privates:{initFocusableElement:function(){},doEnsureVisible:function(B,s){if(this.lockable){return this.ensureLockedVisible(B,s)}if(typeof B!=="number"&&!B.isEntity){B=this.store.getById(B)}var A=this,y=A.getView(),C=y.getNode(B),v,u,F,E,x,t,z,D,w;if(s){v=s.callback;u=s.scope;F=s.animate;E=s.highlight;x=s.select;t=s.focus;D=s.column}if(A.deferredEnsureVisible){A.deferredEnsureVisible.destroy()}if(!y.componentLayoutCounter){A.deferredEnsureVisible=y.on({resize:A.doEnsureVisible,args:Ext.Array.slice(arguments),scope:A,single:true,destroyable:true});return}if(typeof D==="number"){D=A.ownerGrid.getVisibleColumnManager().getColumns()[D]}if(C){z=y.getScrollable();if(D){w=Ext.fly(C).selectNode(D.getCellSelector())}if(z){z.scrollIntoView(w||C,!!D,F,E)}if(!B.isEntity){B=y.getRecord(C)}if(x){y.getSelectionModel().select(B)}if(t){y.getNavigationModel().setPosition(B,0)}Ext.callback(v,u||A,[true,B,C])}else{if(y.bufferedRenderer){y.bufferedRenderer.scrollTo(B,{animate:F,highlight:E,select:x,focus:t,column:D,callback:function(c,e,d){Ext.callback(v,u||A,[true,e,d])}})}else{Ext.callback(v,u||A,[false,null])}}},getFocusEl:function(){return this.getView().getFocusEl()},setActionableMode:function(h,i){var g=this.ownerGrid;if(!g.destroying&&g.view.setActionableMode(h,i)!==false){g.fireEvent("actionablemodechange",h);g[h?"addCls":"removeCls"](g.actionableModeCls);return true}}}},1,["tablepanel"],["component","box","container","panel","tablepanel"],{component:true,box:true,container:true,panel:true,tablepanel:true},["widget.tablepanel"],0,[Ext.panel,"Table"],0));Ext.define("Ext.theme.neptune.panel.Table",{override:"Ext.panel.Table",lockableBodyBorder:true,initComponent:function(){var d=this;(arguments.callee.$previous||Ext.panel.Panel.prototype.initComponent).call(this);if(!d.hasOwnProperty("bodyBorder")&&!d.hideHeaders&&(d.lockableBodyBorder||!d.lockable)){d.bodyBorder=true}}});(Ext.cmd.derive("Ext.grid.ColumnLayout",Ext.layout.container.HBox,{type:"gridcolumn",firstHeaderCls:"x-column-header-first",lastHeaderCls:"x-column-header-last",initLayout:function(){Ext.layout.container.HBox.prototype.initLayout.call(this);if(this.scrollbarWidth===undefined){this.self.prototype.scrollbarWidth=Ext.getScrollbarSize().width}},beginLayout:function(v){var q=this,x=q.owner,u=q.firstHeaderCls,i=q.lastHeaderCls,w=[u,i],r=q.getVisibleItems(),s=r.length,t,p;Ext.layout.container.HBox.prototype.beginLayout.call(this,v);for(t=0;t<s;t++){p=r[t];if(s===1){p.addCls(w)}else{if(t===0){p.addCls(u);p.removeCls(i)}else{if(t===s-1){p.removeCls(u);p.addCls(i)}else{p.removeCls(w)}}}}q.scrollbarWidth=0;if(x.isRootHeader){q.determineScrollbarWidth(v)}if(!q.scrollbarWidth){v.manageScrollbar=false}},moveItemBefore:function(h,g){var i=h.ownerCt;if(h!==g&&i){i.remove(h,false)}return Ext.layout.container.HBox.prototype.moveItemBefore.call(this,h,g)},determineScrollbarWidth:function(k){var l=this,r=l.owner,m=r.grid,p=r.reserveScrollbar===false,q=m.reserveScrollbar&&!p,n=!q&&!p&&m.view.scrollFlags.y;k.manageScrollbar=n;if(!m.ownerGrid.collapsed&&(q||n)){delete l.scrollbarWidth}},calculate:function(C){var H=this,F=H.owner.grid,w=C.viewContext,E=C.state,D=C.context,x,G,v,z,i,u,A,y,B;Ext.layout.container.HBox.prototype.calculate.call(this,C);if(F&&E.parallelDone){x=w.lockingPartnerContext;G=F.ownerGrid;if(G.forceFit&&!E.reflexed){if(H.convertWidthsToFlexes(C)){H.cacheFlexes(C);H.done=false;C.invalidate({state:{reflexed:true,scrollbarAdjustment:H.getScrollbarAdjustment(C)}});return}}if((v=E.columnsChanged)===undefined){z=C.target.getVisibleGridColumns();v=false;for(u=0,i=z.length;u<i;u++){A=D.getCmp(z[u]);if(!A.lastBox||A.props.width!==A.lastBox.width){(v||(v=[]))[u]=A}}E.columnsChanged=v;C.setProp("columnsChanged",v)}if(C.manageScrollbar){y=H.getScrollbarAdjustment(C);if(y){B=w.getProp("viewOverflowY");if(B===undefined){H.done=false;return}if(!B){if(x){x.invalidate();x.headerContext.invalidate()}w.invalidate();C.invalidate({state:{scrollbarAdjustment:0}})}}}}},finishedLayout:function(d){Ext.layout.container.HBox.prototype.finishedLayout.call(this,d);if(this.owner.ariaRole==="rowgroup"){this.innerCt.dom.setAttribute("role","row")}d.props.columnsChanged=null},convertWidthsToFlexes:function(v){var q=this,s=0,p=q.sizeModels.calculated,t,r,u,i,n;t=v.childItems;r=t.length;for(u=0;u<r;u++){i=t[u];n=i.target;s+=i.props.width;if(!(n.fixed||n.resizable===false)){n.flex=v.childItems[u].flex=i.props.width;n.width=null;i.widthModel=p}}return s!==v.props.width},getScrollbarAdjustment:function(j){var l=this,k=j.state,m=l.owner.grid,i=k.scrollbarAdjustment;if(i===undefined){i=0;if(m.reserveScrollbar||(j.manageScrollbar&&!m.ownerGrid.layout.ownerContext.heightModel.shrinkWrap)){i=l.scrollbarWidth}k.scrollbarAdjustment=i}return i},getContainerSize:function(w){var t=this,s,q,r,v,u,x,p,n;if(t.owner.isRootHeader){n=Ext.layout.container.HBox.prototype.getContainerSize.call(this,w);if(n.gotWidth){n.width-=t.getScrollbarAdjustment(w)}}else{r=w.paddingContext.getPaddingInfo();s=q=0;if(!w.widthModel.shrinkWrap){++q;x=w.getProp("innerWidth");v=(typeof x==="number");if(v){++s;x-=r.width;if(x<0){x=0}}}if(!w.heightModel.shrinkWrap){++q;p=w.getProp("innerHeight");u=(typeof p==="number");if(u){++s;p-=r.height;if(p<0){p=0}}}return{width:x,height:p,needed:q,got:s,gotAll:s===q,gotWidth:v,gotHeight:u}}return n},publishInnerCtSize:function(i){var j=this,m=j.owner,l=i.peek("contentWidth"),k=0;if(l!=null&&m.isRootHeader){k=-i.state.scrollbarAdjustment}return Ext.layout.container.HBox.prototype.publishInnerCtSize.call(this,i,k)}},0,0,0,0,["layout.gridcolumn"],0,[Ext.grid,"ColumnLayout"],0));(Ext.cmd.derive("Ext.grid.ColumnManager",Ext.Base,{alternateClassName:["Ext.grid.ColumnModel"],columns:null,constructor:function(h,g,i){this.headerCt=g;if(i){this.secondHeaderCt=i}this.visibleOnly=!!h},getColumns:function(){if(!this.columns){this.cacheColumns()}return this.columns},hasVariableRowHeight:function(){var h=this,i=h.getColumns(),k=i.length,j;if(h.variableRowHeight==null){h.variableRowHeight=false;for(j=0;!h.variableRowHeight&&j<k;j++){h.variableRowHeight=!!i[j].variableRowHeight}}return h.variableRowHeight},getHeaderIndex:function(d){if(d.isGroupHeader){d=this.getHeaderColumns(d)[0]}return Ext.Array.indexOf(this.getColumns(),d)},getHeaderAtIndex:function(h){var g=this.getColumns(),i=g[h];return i||null},getPreviousSibling:function(g){var h=this.getHeaderIndex(g),i=null;if(h>0){i=this.getColumns()[h-1]}return i},getNextSibling:function(g){var h=this.getHeaderIndex(g),i;if(h!==-1){i=this.getColumns()[h+1]}return i||null},getFirst:function(){var d=this.getColumns();return d.length>0?d[0]:null},getLast:function(){var e=this.getColumns(),g=e.length;return g>0?e[g-1]:null},getHeaderByDataIndex:function(j){var k=this.getColumns(),m=k.length,l,i;for(l=0;l<m;++l){i=k[l];if(i.dataIndex===j){return i}}return null},getHeaderById:function(i){var k=this.getColumns(),m=k.length,l,j;for(l=0;l<m;++l){j=k[l];if(j.getItemId()===i){return j}}return null},getVisibleHeaderClosestToIndex:function(e){var g=this.getHeaderAtIndex(e);if(g&&g.hidden){g=g.next(":not([hidden])")||g.prev(":not([hidden])")}return g},cacheColumns:function(){var e=this.getHeaderColumns(this.headerCt),g=this.secondHeaderCt;if(g){e=e.concat(this.getHeaderColumns(g))}this.columns=e},getHeaderColumns:function(e){var g=this.visibleOnly?e.getVisibleGridColumns():e.getGridColumns();return Ext.Array.clone(g)},invalidate:function(){var d=this.rootColumns;this.columns=this.variableRowHeight=null;if(d){d.invalidate()}},destroy:function(){this.columns=this.rootColumns=null;this.callParent()}},1,0,0,0,0,0,[Ext.grid,"ColumnManager",Ext.grid,"ColumnModel"],function(){this.createAlias("indexOf","getHeaderIndex")}));(Ext.cmd.derive("Ext.grid.NavigationModel",Ext.view.NavigationModel,{focusCls:"x-grid-item-focused",getViewListeners:function(){var d=this;return{focusmove:{element:"el",fn:d.onFocusMove},containermousedown:d.onContainerMouseDown,cellmousedown:d.onCellMouseDown,cellclick:d.onCellClick,itemmousedown:d.onItemMouseDown,itemclick:d.onItemClick,itemcontextmenu:d.onItemClick,scope:d}},initKeyNav:function(g){var e=this;if(!e.keyNav){e.keyNav=[];e.position=new Ext.grid.CellContext(g)}e.keyNav.push(new Ext.util.KeyNav({target:g,ignoreInputFields:true,eventName:"itemkeydown",defaultEventAction:"stopEvent",processEvent:e.processViewEvent,up:e.onKeyUp,down:e.onKeyDown,right:e.onKeyRight,left:e.onKeyLeft,pageDown:e.onKeyPageDown,pageUp:e.onKeyPageUp,home:e.onKeyHome,end:e.onKeyEnd,space:e.onKeySpace,enter:e.onKeyEnter,esc:e.onKeyEsc,113:e.onKeyF2,tab:e.onKeyTab,A:{ctrl:true,handler:e.onSelectAllKeyPress},scope:e}))},addKeyBindings:function(g){var i=this.keyNav.length,h;for(h=0;h<i;h++){this.keyNav[h].addBindings(g)}},enable:function(){var g=this.keyNav.length,e;for(e=0;e<g;e++){this.keyNav[e].enable()}this.disabled=false},disable:function(){var g=this.keyNav.length,e;for(e=0;e<g;e++){this.keyNav[e].disable()}this.disabled=true},processViewEvent:function(n,p,j,m,k){var l=k.getKey();if(n.actionableMode){this.map.ignoreInputFields=false;if(l===k.TAB||l===k.ESC||l===k.F2){return k}}else{this.map.ignoreInputFields=true;return l===k.TAB?null:k}},onCellMouseDown:function(q,p,r,s,m,t,u){var v=Ext.Component.fromElement(u.target,p),n;if(q.actionableMode&&(u.getTarget(null,null,true).isTabbable()||((n=Ext.ComponentManager.getActiveComponent())&&n.owns(u)))){return}if(u.pointerType!=="touch"){this.setPosition(u.position,null,u)}if(v&&v.isFocusable&&v.isFocusable()){q.setActionableMode(true,u.position);v.focus()}},onCellClick:function(s,r,t,v,n,w,q){var u=this,x=Ext.Component.fromElement(q.target,r),p=x&&x.isFocusable&&x.isFocusable();if(s.actionableMode){if(!q.position.isEqual(s.actionPosition)){if(!p){u.setPosition(q.position,null,q)}}u.fireEvent("navigate",{view:s,navigationModel:u,keyEvent:q,previousPosition:u.previousPosition,previousRecordIndex:u.previousRecordIndex,previousRecord:u.previousRecord,previousItem:u.previousItem,previousCell:u.previousCell,previousColumnIndex:u.previousColumnIndex,previousColumn:u.previousColumn,position:q.position,recordIndex:q.position.rowIdx,record:q.position.record,item:q.item,cell:q.position.cellElement,columnIndex:q.position.colIdx,column:q.position.column})}else{if(u.position.isEqual(q.position)||p){u.fireNavigateEvent(q)}else{u.setPosition(q.position,null,q)}}},onFocusMove:function(e){var p=e.target,m=Ext.Component.fromElement(e.delegatedTarget,null,"tableview"),p=e.target,n,k,l;if(m&&Ext.fly(p).is(m.cellSelector)){if(m.actionableModeTabbing){return}m.ownerGrid.setActionableMode(false);n=m.getRecord(p);k=m.getHeaderByCell(p);if(n&&k){l=new Ext.grid.CellContext(m).setPosition(n,k);if(!l.isEqual(this.position)){this.setPosition(l)}}}},onItemMouseDown:function(n,p,j,l,m){var k=this;if(!m.position.cellElement&&(m.pointerType!=="touch")){k.getClosestCell(m);k.setPosition(m.position,null,m)}},onItemClick:function(k,l,i,j,m){if(!m.position.cellElement){this.getClosestCell(m);if(m.pointerType==="touch"){this.setPosition(m.position,null,m)}this.fireNavigateEvent(m)}},getClosestCell:function(v){var q=v.position,u=q.cellElement,i,s,p,r,t,n;if(!u){i=v.getX();s=q.view.getVisibleColumnManager().getColumns();p=s.length;for(r=0;r<p;r++){t=s[r];n=s[r].getBox();if(i>=n.left&&i<n.right){q.setColumn(s[r]);q.rowElement=q.getRow(true);q.cellElement=q.getCell(true);return}}}},deferSetPosition:function(p,q,n,l,r,k){var m=this.view.getFocusTask();m.delay(p,this.setPosition,this,[q,n,l,r,k]);return m},setPosition:function(D,x,w,J,B){var v=this,K,z,A,I,G,H,F,y,C,L=D==null&&x==null,E=v.record==null&&v.recordIndex==null&&v.item==null;if(D&&D.isCellContext){K=D.view}else{if(w&&w.view){K=w.view}else{if(v.lastFocused){K=v.lastFocused.view}else{K=v.view}}}K.getFocusTask().cancel();if(K.destroyed||!K.refreshCounter||!K.ownerCt||L&&E||!K.all.getCount()){return}A=K.getSelectionModel();I=K.dataSource;G=K.getVisibleColumnManager();if(D&&D.isCellContext){y=D.record;H=D.rowIdx;F=D.colIdx;C=D.column;if(I.indexOf(y)===-1){z=K.getScrollable();v.recordIndex=-1;if(z.getPosition().y>=z.getMaxPosition().y-K.all.last(true).offsetHeight){D.rowIdx--}H=Math.min(D.rowIdx,I.getCount()-1);F=Math.min(F,G.getColumns().length);y=I.getAt(H);C=G.getColumns()[F]}}else{if(L){y=H=null}else{if(x==null){x=v.lastFocused?v.lastFocused.column:0}if(typeof D==="number"){H=Math.max(Math.min(D,I.getCount()-1),0);y=I.getAt(D)}else{if(D.isEntity){y=D;H=I.indexOf(y)}else{if(D.tagName){y=K.getRecord(D);H=I.indexOf(y);if(H===-1){y=null}}else{if(E){return}L=true;y=H=null}}}}if(y){if(H===-1){v.recordIndex=-1;y=I.getAt(0);H=0;x=null}if(x==null){if(!(C=v.column)){F=0;C=G.getColumns()[0]}}else{if(typeof x==="number"){C=G.getColumns()[x];F=x}else{C=x;F=G.indexOf(x)}}}else{L=true;C=F=null}}if(H===v.recordIndex&&F===v.columnIndex&&K===v.position.view){return v.focusPosition(v.position)}if(v.cell){v.cell.removeCls(v.focusCls)}v.previousRecordIndex=v.recordIndex;v.previousRecord=v.record;v.previousItem=v.item;v.previousCell=v.cell;v.previousColumn=v.column;v.previousColumnIndex=v.columnIndex;v.previousPosition=v.position.clone();v.selectionStart=A.selectionStart;v.position.setAll(K,v.recordIndex=H,v.columnIndex=F,v.record=y,v.column=C);if(L){v.item=v.cell=null}else{v.focusPosition(v.position,B)}if(!J){A.fireEvent("focuschange",A,v.previousRecord,v.record);K.fireEvent("rowfocus",v.record,v.item,v.recordIndex);K.fireEvent("cellfocus",v.record,v.cell,v.position)}if(w&&!B&&v.cell!==v.previousCell){v.fireNavigateEvent(w)}},focusPosition:function(k){var i=this,j,h;i.item=i.cell=null;if(k&&k.record&&k.column){j=k.view;if(k.rowElement){h=i.item=k.rowElement}else{h=j.getRowByRecord(k.record)}if(h){i.cell=k.cellElement||Ext.fly(h).down(k.column.getCellSelector(),true);if(i.cell){i.cell=new Ext.dom.Fly(i.cell);j.lastFocused=i.lastFocused=i.position.clone();i.focusItem(i.cell);j.focusEl=i.cell}else{i.position.setAll();i.record=i.column=i.recordIndex=i.columnIndex=null}}else{h=j.dataSource.indexOf(k.record);i.position.setAll();i.record=i.column=i.recordIndex=i.columnIndex=null;if(h!==-1&&j.bufferedRenderer){i.lastKeyEvent=null;j.bufferedRenderer.scrollTo(h,false,i.afterBufferedScrollTo,i)}}}},focusItem:function(d){d.addCls(this.focusCls);d.focus()},getCell:function(){return this.cell},getPosition:function(m){var k=this,p=k.position,l,n,j;if(p.record&&p.column){if(m){return p}n=p.view;j=n.dataSource;l=j.indexOf(p.record);if(l===-1){l=p.rowIdx;if(!(p.record=j.getAt(l))){l=-1}}if(l===-1||n.getVisibleColumnManager().indexOf(p.column)===-1){p.setAll();k.record=k.column=k.recordIndex=k.columnIndex=null}else{return p}}return null},getLastFocused:function(){var g=this,i,h=g.lastFocused;if(h&&h.record&&h.column){i=h.view;if(i.dataSource.indexOf(h.record)!==-1&&i.getVisibleColumnManager().indexOf(h.column)!==-1){return h}}},onKeyTab:function(t){var w=!t.shiftKey,v=t.position.clone(),s=v.view,i=t.position.cellElement,r=Ext.fly(i).findTabbableElements(),q,p=s.ownerGrid.actionables,u=p.length,x;t.preventDefault();q=r[Ext.Array.indexOf(r,t.target)+(w?1:-1)];while(!q&&(i=i[w?"nextSibling":"previousSibling"])){v.setColumn(s.getHeaderByCell(i));for(x=0;x<u;x++){p[x].activateCell(v)}if((r=Ext.fly(i).findTabbableElements()).length){q=r[w?0:r.length-1]}}if(q){this.actionPosition=v.view.actionPosition=v;Ext.fly(q).focus();return}if(Ext.isIE){s.el.focus()}s.onRowExit(t.item,t.item[w?"nextSibling":"previousSibling"],w)},onKeyUp:function(h){var i=h.view.walkRecs(h.record,-1),g=this.getPosition();if(i){g.setRow(i);if(!g.getCell(true)){g.navigate(-1)}this.setPosition(g,null,h)}},onKeyDown:function(h){var i=h.record.isExpandingOrCollapsing?null:h.view.walkRecs(h.record,1),g=this.getPosition();if(i){g.setRow(i);if(!g.getCell(true)){g.navigate(-1)}this.setPosition(g,null,h)}},onKeyRight:function(e){var g=this.move("right",e);if(g){this.setPosition(g,null,e)}},onKeyLeft:function(e){var g=this.move("left",e);if(g){this.setPosition(g,null,e)}},onKeyEnter:function(h){var i=["cellclick",h.view,h.position.cellElement,h.position.colIdx,h.record,h.position.rowElement,h.recordIndex,h],g=h.position.getCell();if(g){if(!g.query('[tabIndex="-1"]').length){h.stopEvent();h.view.fireEvent.apply(h.view,i);i[0]="celldblclick";h.view.fireEvent.apply(h.view,i)}if(!this.view.actionableMode){this.view.ownerGrid.setActionableMode(true,this.getPosition())}}},onKeyF2:function(h){var i=this.view.ownerGrid,g=i.actionableMode;i.setActionableMode(!g,g?null:this.getPosition())},onKeyEsc:function(d){this.view.ownerGrid.setActionableMode(false)},move:function(j,h){var i=this,k=i.getPosition();if(k&&k.record){return k.view.walkCells(k,j,h.shiftKey&&(j==="right"||j==="left")?i.vetoRowChange:null,i)}},vetoRowChange:function(d){return this.getPosition().record===d.record},onKeyPageDown:function(k){var l=this,p=k.view,j=l.getRowsVisible(),m,n;if(j){if(p.bufferedRenderer){m=Math.min(k.recordIndex+j,p.dataSource.getCount()-1);l.lastKeyEvent=k;p.bufferedRenderer.scrollTo(m,false,l.afterBufferedScrollTo,l)}else{n=p.walkRecs(k.record,j);l.setPosition(n,null,k)}}},onKeyPageUp:function(k){var l=this,p=k.view,j=l.getRowsVisible(),m,n;if(j){if(p.bufferedRenderer){m=Math.max(k.recordIndex-j,0);l.lastKeyEvent=k;p.bufferedRenderer.scrollTo(m,false,l.afterBufferedScrollTo,l)}else{n=p.walkRecs(k.record,-j);l.setPosition(n,null,k)}}},onKeyHome:function(g){var h=this,i=g.view;if(g.altKey){if(i.bufferedRenderer){h.lastKeyEvent=g;i.bufferedRenderer.scrollTo(0,false,h.afterBufferedScrollTo,h)}else{h.setPosition(i.walkRecs(g.record,-i.dataSource.indexOf(g.record)),null,g)}}else{h.setPosition(g.record,0,g)}},afterBufferedScrollTo:function(e,g){this.setPosition(g,null,this.lastKeyEvent,null,!this.lastKeyEvent)},onKeyEnd:function(g){var h=this,i=g.view;if(g.altKey){if(i.bufferedRenderer){h.lastKeyEvent=g;i.bufferedRenderer.scrollTo(i.store.getCount()-1,false,h.afterBufferedScrollTo,h)}else{h.setPosition(i.walkRecs(g.record,i.dataSource.getCount()-1-i.dataSource.indexOf(g.record)),null,g)}}else{h.setPosition(g.record,g.view.getVisibleColumnManager().getColumns().length-1,g)}},getRowsVisible:function(){var i=false,m=this.view,j=m.all.first(),l,k;if(j){l=j.getHeight();k=m.el.getHeight();i=Math.floor(k/l)}return i},fireNavigateEvent:function(e){var g=this;g.fireEvent("navigate",{view:g.position.view,navigationModel:g,keyEvent:e||new Ext.event.Event({}),previousPosition:g.previousPosition,previousRecordIndex:g.previousRecordIndex,previousRecord:g.previousRecord,previousItem:g.previousItem,previousCell:g.previousCell,previousColumnIndex:g.previousColumnIndex,previousColumn:g.previousColumn,position:g.position,recordIndex:g.recordIndex,record:g.record,selectionStart:g.selectionStart,item:g.item,cell:g.cell,columnIndex:g.columnIndex,column:g.column})}},0,0,0,0,["view.navigation.grid"],0,[Ext.grid,"NavigationModel"],0));(Ext.cmd.derive("Ext.view.TableLayout",Ext.layout.component.Auto,{type:"tableview",beginLayout:function(j){var l=this,p=l.owner,k=p.ownerGrid,m=p.lockingPartner,n=j.context;j.doSyncRowHeights=m&&m.grid.isVisible()&&k.syncRowHeight;if(!l.columnFlusherId){l.columnFlusherId=l.id+"-columns";l.rowHeightFlusherId=l.id+"-rows"}if(l.owner.bufferedRenderer){l.owner.bufferedRenderer.beforeTableLayout(j)}Ext.layout.component.Auto.prototype.beginLayout.call(this,j);if(j.doSyncRowHeights){if(!j.lockingPartnerContext){(j.lockingPartnerContext=n.getCmp(m)).lockingPartnerContext=j}j.rowHeightSynchronizer=l.owner.syncRowHeightBegin()}(j.headerContext=n.getCmp(l.headerCt)).viewContext=j},beginLayoutCycle:function(e,g){Ext.layout.component.Auto.prototype.beginLayoutCycle.call(this,e,g);if(e.syncRowHeights){e.target.syncRowHeightClear(e.rowHeightSynchronizer);e.syncRowHeights=false}},calculate:function(E){var w=this,H=E.context,C=E.lockingPartnerContext,F=E.headerContext,z=E.ownerCtContext,G=w.owner,A=F.getProp("columnsChanged"),I=E.state,v,D,K,L,y=G.body.dom,J,x,B;if(!G.all.getCount()&&(!y||!G.body.child("table"))){E.setProp("viewOverflowY",false);Ext.layout.component.Auto.prototype.calculate.call(this,E);return}if(A===undefined){w.done=false;return}if(A){if(!(v=I.columnFlusher)){H.queueFlush(I.columnFlusher=v={ownerContext:E,columnsChanged:A,layout:w,id:w.columnFlusherId,flush:w.flushColumnWidths})}if(!v.flushed){w.done=false;return}}if(E.doSyncRowHeights){if(!(L=I.rowHeightFlusher)){if(!(K=I.rowHeights)){I.rowHeights=K=E.rowHeightSynchronizer;w.owner.syncRowHeightMeasure(K);E.setProp("rowHeights",K)}if(!(D=C.getProp("rowHeights"))){w.done=false;return}H.queueFlush(I.rowHeightFlusher=L={ownerContext:E,synchronizer:K,otherSynchronizer:D,layout:w,id:w.rowHeightFlusherId,flush:w.flushRowHeights})}if(!L.flushed){w.done=false;return}}Ext.layout.component.Auto.prototype.calculate.call(this,E);if(!E.heightModel.shrinkWrap){B=false;if(!z.heightModel.shrinkWrap){x=z.target.layout.getContainerSize(z);if(!x.gotHeight){w.done=false;return}J=y.offsetHeight;B=J>x.height}E.setProp("viewOverflowY",B)}},measureContentHeight:function(j){var m=this.owner,k=m.body.dom,l=m.emptyEl,i=0;if(l){i+=l.offsetHeight}if(k){i+=k.offsetHeight}if(j.headerContext.state.boxPlan.tooNarrow){i+=Ext.getScrollbarSize().height}return i},flushColumnWidths:function(){var i=this,p=i.layout,w=i.ownerContext,u=i.columnsChanged,x=w.target,q=u.length,v,s,t,r;if(w.state.columnFlusher!==i){return}for(s=0;s<q;s++){if(!(v=u[s])){continue}t=v.props.width;x.body.select(x.getColumnSizerSelector(v.target)).setWidth(t);r=v.lastBox;if(r){r.width=t}}i.flushed=true;if(!p.pending){w.context.queueLayout(p)}},flushRowHeights:function(){var i=this,h=i.layout,g=i.ownerContext;if(g.state.rowHeightFlusher!==i){return}g.target.syncRowHeightFinish(i.synchronizer,i.otherSynchronizer);i.flushed=true;g.syncRowHeights=true;if(!h.pending){g.context.queueLayout(h)}},finishedLayout:function(h){var i=this,g=Ext.fly(i.owner.getNodeContainer());Ext.layout.component.Auto.prototype.finishedLayout.call(this,h);if(g){g.setWidth(h.headerContext.props.contentWidth)}if(i.owner.bufferedRenderer){i.owner.bufferedRenderer.afterTableLayout(h)}}},0,0,0,0,["layout.tableview"],0,[Ext.view,"TableLayout"],0));(Ext.cmd.derive("Ext.grid.locking.RowSynchronizer",Ext.Base,{constructor:function(k,j){var i=this,h;i.view=k;i.rowEl=j;i.els={};i.add("data",k.rowSelector);for(h=k.rowTpl;h;h=h.nextTpl){if(h.beginRowSync){h.beginRowSync(i)}}},add:function(h,i){var g=Ext.fly(this.rowEl).down(i,true);if(g){this.els[h]={el:g}}},finish:function(s){var r=this,v=r.els,p=s.els,t,q=0,w=0,n,x,u;for(x in v){t=p[x];u=t?t.height:0;n=u-v[x].height;if(n>0){q+=n;Ext.fly(v[x].el).setHeight(u)}else{w-=n}}u=s.rowHeight+w;if(Ext.isIE9&&r.view.ownerGrid.rowLines){u--}if(r.rowHeight+q<u){Ext.fly(r.rowEl).setHeight(u)}},measure:function(){var g=this,h=g.els,i;g.rowHeight=g.rowEl.offsetHeight;for(i in h){h[i].height=h[i].el.offsetHeight}},reset:function(){var e=this.els,g;this.rowEl.style.height="";for(g in e){e[g].el.style.height=""}}},1,0,0,0,0,0,[Ext.grid.locking,"RowSynchronizer"],0));(Ext.cmd.derive("Ext.view.NodeCache",Ext.Base,{statics:{range:document.createRange&&document.createRange()},constructor:function(d){this.view=d;this.clear();this.el=new Ext.dom.Fly()},destroy:function(){var d=this;if(!d.destroyed){d.el.destroy();d.el=d.view=null;d.destroyed=true}d.callParent()},clear:function(i){var k=this,j=k.elements,m=k.statics().range,l;if(k.count&&i){if(m){m.setStartBefore(j[k.startIndex]);m.setEndAfter(j[k.endIndex]);m.deleteContents()}else{for(l in j){Ext.removeNode(j[l])}}}k.elements={};k.count=k.startIndex=0;k.endIndex=-1},fill:function(q,i,l){l=l||0;var n=this,m=n.elements={},p,r=q.length-l;if(!i){i=0}for(p=0;p<r;p++){m[i+p]=q[p+l]}n.startIndex=i;n.endIndex=i+r-1;n.count=r;return this},insert:function(i,n){var l=this,k=l.elements,m,p=n.length;if(l.count){if(i<l.count){for(m=l.endIndex+p;m>=i+p;m--){k[m]=k[m-p];k[m].setAttribute("data-recordIndex",m)}}l.endIndex=l.endIndex+p}else{l.startIndex=i;l.endIndex=i+p-1}for(m=0;m<p;m++,i++){k[i]=n[m];k[i].setAttribute("data-recordIndex",i)}l.count+=p},invoke:function(j,m){var i=this,k,l;j=Ext.dom.Element.prototype[j];for(l=i.startIndex;l<=i.endIndex;l++){k=i.item(l);if(k){j.apply(k,m)}}return i},item:function(i,j){var h=this.elements[i],k=null;if(h){k=j?this.elements[i]:this.el.attach(this.elements[i])}return k},first:function(d){return this.item(this.startIndex,d)},last:function(d){return this.item(this.endIndex,d)},moveBlock:function(r){var l=this,i=l.elements,m,q,n,p;if(!r){return}if(r<0){p=l.startIndex-1;q=l.endIndex;n=1}else{p=l.endIndex+1;q=l.startIndex;n=-1}l.startIndex+=r;l.endIndex+=r;do{p+=n;m=i[p+r]=i[p];m.setAttribute("data-recordIndex",p+r);if(p<l.startIndex||p>l.endIndex){delete i[p]}}while(p!==q);delete i[p]},getCount:function(){return this.count},slice:function(i,l){var j=this.elements,m=[],k;if(!l){l=this.endIndex}else{l=Math.min(this.endIndex,l-1)}for(k=i||this.startIndex;k<=l;k++){m.push(j[k])}return m},replaceElement:function(j,k,m){var i=this.elements,l=(typeof j==="number")?j:this.indexOf(j);if(l>-1){k=Ext.getDom(k);if(m){j=i[l];j.parentNode.insertBefore(k,j);Ext.removeNode(j);k.setAttribute("data-recordIndex",l)}this.elements[l]=k}return this},indexOf:function(h){var g=this.elements,i;h=Ext.getDom(h);for(i=this.startIndex;i<=this.endIndex;i++){if(g[i]===h){return i}}return -1},removeRange:function(v,s,u){var p=this,x=p.elements,q=[],t,r,w,i;if(s==null){s=p.endIndex+1}else{s=Math.min(p.endIndex+1,s+1)}if(v==null){v=p.startIndex}w=s-v;for(r=v,i=s;r<=p.endIndex;r++,i++){t=x[r];if(r<s){q.push(t);if(u){Ext.removeNode(t)}}if(i<=p.endIndex){t=x[r]=x[i];t.setAttribute("data-recordIndex",r)}else{delete x[r]}}p.count-=w;p.endIndex-=w;return q},removeElement:function(p,x){var t=this,q,r,z=t.elements,w,v,y=0,u,s;if(Ext.isArray(p)){q=p;p=[];v=q.length;for(y=0;y<v;y++){r=q[y];if(typeof r!=="number"){r=t.indexOf(r)}if(r>=t.startIndex&&r<=t.endIndex){p[p.length]=r}}Ext.Array.sort(p);v=p.length}else{if(p<t.startIndex||p>t.endIndex){return}v=1;p=[p]}for(u=s=p[0],y=0;u<=t.endIndex;u++,s++){if(y<v&&u===p[y]){s++;y++;if(x){Ext.removeNode(z[u])}}if(s<=t.endIndex&&s>=t.startIndex){w=z[u]=z[s];w.setAttribute("data-recordIndex",u)}else{delete z[u]}}t.endIndex-=v;t.count-=v},scroll:function(B,A,K){var z=this,I=z.view,M=I.store,H=z.elements,R=B.length,E=I.getNodeContainer(),L=I.hasListeners.itemremove,C=I.hasListeners.itemadd,G=z.statics().range,D,Q,P,O,J,N,F,i;if(!B.length){return}if(A===-1){if(K){if(L){F=[];i=[]}N=(z.endIndex-K)+1;if(G){G.setStartBefore(H[N]);G.setEndAfter(H[z.endIndex]);G.deleteContents();for(D=N;D<=z.endIndex;D++){Q=H[D];delete H[D];if(L){F.push(M.getByInternalId(Q.getAttribute("data-recordId")));i.push(Q)}}}else{for(D=N;D<=z.endIndex;D++){Q=H[D];delete H[D];Ext.removeNode(Q);if(L){F.push(M.getByInternalId(Q.getAttribute("data-recordId")));i.push(Q)}}}I.fireEvent("itemremove",F,N,i,I);z.endIndex-=K}if(B.length){J=I.bufferRender(B,z.startIndex-=R);O=J.children;for(D=0;D<R;D++){H[z.startIndex+D]=O[D]}E.insertBefore(J.fragment,E.firstChild);if(C){I.fireEvent("itemadd",B,z.startIndex,O)}}}else{if(K){if(L){F=[];i=[]}P=z.startIndex+K;if(G){G.setStartBefore(H[z.startIndex]);G.setEndAfter(H[P-1]);G.deleteContents();for(D=z.startIndex;D<P;D++){Q=H[D];delete H[D];if(L){F.push(M.getByInternalId(Q.getAttribute("data-recordId")));i.push(Q)}}}else{for(D=z.startIndex;D<P;D++){Q=H[D];delete H[D];Ext.removeNode(Q);if(L){F.push(M.getByInternalId(Q.getAttribute("data-recordId")));i.push(Q)}}}I.fireEvent("itemremove",F,z.startIndex,i,I);z.startIndex=P}J=I.bufferRender(B,z.endIndex+1);O=J.children;for(D=0;D<R;D++){H[z.endIndex+=1]=O[D]}E.appendChild(J.fragment);if(C){I.fireEvent("itemadd",B,z.endIndex+1,O)}}z.count=z.endIndex-z.startIndex+1;return O},sumHeights:function(){var i=0,g=this.elements,h;for(h=this.startIndex;h<=this.endIndex;h++){i+=g[h].offsetHeight}return i}},1,0,0,0,0,0,[Ext.view,"NodeCache"],function(){Ext.dom.CompositeElementLite.importElementMethods.call(this)}));(Ext.cmd.derive("Ext.view.Table",Ext.view.View,{alternateClassName:"Ext.grid.View",isTableView:true,config:{selectionModel:{type:"rowmodel"}},inheritableStatics:{normalSideEvents:["deselect","select","beforedeselect","beforeselect","selectionchange"],events:["blur","focus","move","resize","destroy","beforedestroy","boxready","afterrender","render","beforerender","removed","hide","beforehide","show","beforeshow","enable","disable","added","deactivate","beforedeactivate","activate","beforeactivate","cellkeydown","beforecellkeydown","cellmouseup","beforecellmouseup","cellmousedown","beforecellmousedown","cellcontextmenu","beforecellcontextmenu","celldblclick","beforecelldblclick","cellclick","beforecellclick","refresh","itemremove","itemadd","beforeitemupdate","itemupdate","viewready","beforerefresh","unhighlightitem","highlightitem","focuschange","containerkeydown","containercontextmenu","containerdblclick","containerclick","containermouseout","containermouseover","containermouseup","containermousedown","beforecontainerkeydown","beforecontainercontextmenu","beforecontainerdblclick","beforecontainerclick","beforecontainermouseout","beforecontainermouseover","beforecontainermouseup","beforecontainermousedown","itemkeydown","itemcontextmenu","itemdblclick","itemclick","itemmouseleave","itemmouseenter","itemmouseup","itemmousedown","rowclick","rowcontextmenu","rowdblclick","rowkeydown","rowmouseup","rowmousedown","rowkeydown","beforeitemkeydown","beforeitemcontextmenu","beforeitemdblclick","beforeitemclick","beforeitemmouseleave","beforeitemmouseenter","beforeitemmouseup","beforeitemmousedown","statesave","beforestatesave","staterestore","beforestaterestore","uievent","groupcollapse","groupexpand","scroll"]},scrollable:true,componentLayout:"tableview",baseCls:"x-grid-view",unselectableCls:"x-unselectable",firstCls:"x-grid-cell-first",lastCls:"x-grid-cell-last",itemCls:"x-grid-item",selectedItemCls:"x-grid-item-selected",selectedCellCls:"x-grid-cell-selected",focusedItemCls:"x-grid-item-focused",overItemCls:"x-grid-item-over",altRowCls:"x-grid-item-alt",dirtyCls:"x-grid-dirty-cell",rowClsRe:new RegExp("(?:^|\\s*)x-grid-item-alt(?:\\s+|$)","g"),cellRe:new RegExp("x-grid-cell-([^\\s]+)(?:\\s|$)",""),positionBody:true,positionCells:false,stripeOnUpdate:null,actionableMode:false,trackOver:true,getRowClass:null,stripeRows:true,markDirty:true,ariaRole:"rowgroup",rowAriaRole:"row",cellAriaRole:"gridcell",tpl:["{%","view = values.view;","if (!(columns = values.columns)) {","columns = values.columns = view.ownerCt.getVisibleColumnManager().getColumns();","}","values.fullWidth = 0;","for (i = 0, len = columns.length; i < len; i++) {","column = columns[i];","values.fullWidth += (column.cellWidth = column.lastBox ? column.lastBox.width : column.width || column.minWidth);","}","tableCls=values.tableCls=[];","%}",'<div class="x-grid-item-container" role="presentation" style="width:{fullWidth}px">',"{[view.renderTHead(values, out, parent)]}","{%","view.renderRows(values.rows, values.columns, values.viewStartIndex, out);","%}","{[view.renderTFoot(values, out, parent)]}","</div>","{% ","view = columns = column = null;","%}",{definitions:"var view, tableCls, columns, i, len, column;",priority:0}],outerRowTpl:['<table id="{rowId}" role="presentation" ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]}" cellpadding="0" cellspacing="0" style="{itemStyle};width:0">',"{%","this.nextTpl.applyOut(values, out, parent)","%}","</table>",{priority:9999}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " x-grid-row";',"%}",'<tr class="{[values.rowClasses.join(" ")]} {[dataRowCls]}"',' role="{rowRole}" {rowAttr:attributes}>','<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, parent.rowIndex, xindex - 1, out, parent)","%}","</tpl>","</tr>",{priority:0}],cellTpl:['<td class="{tdCls}" role="{cellRole}" {tdAttr} {cellAttr:attributes}',' style="width:{column.cellWidth}px;<tpl if="tdStyle">{tdStyle}</tpl>"',' tabindex="-1" data-columnid="{[values.column.getItemId()]}">','<div {unselectableAttr} class="x-grid-cell-inner {innerCls}" ','style="text-align:{align};<tpl if="style">{style}</tpl>" ',"{cellInnerAttr:attributes}>{value}</div>","</td>",{priority:0}],refreshSelmodelOnRefresh:false,tableValues:{},rowValues:{itemClasses:[],rowClasses:[]},cellValues:{classes:["x-grid-cell x-grid-td"]},constructor:function(d){if(d.grid.isTree){d.baseCls="x-tree-view"}Ext.view.View.prototype.constructor.call(this,d)},hasVariableRowHeight:function(g){var e=this;return e.variableRowHeight||e.store.isGrouped()||e.getVisibleColumnManager().hasVariableRowHeight()||(!g&&e.lockingPartner&&e.lockingPartner.hasVariableRowHeight(true))},initComponent:function(){var d=this;if(d.columnLines){d.addCls(d.grid.colLinesCls)}if(d.rowLines){d.addCls(d.grid.rowLinesCls)}d.body=new Ext.dom.Fly();d.body.id=d.id+"gridBody";if(!d.trackOver){d.overItemCls=null}d.headerCt.view=d;d.grid.view=d;d.initFeatures(d.grid);d.itemSelector=d.getItemSelector();d.all=new Ext.view.NodeCache(d);Ext.view.View.prototype.initComponent.call(this)},applySelectionModel:function(n,k){var l=this,m=l.ownerGrid,j=n.type,p=l.disableSelection||m.disableSelection;if(!k){if(!(n&&n.isSelectionModel)){n=m.selModel||n}}if(n){if(n.isSelectionModel){n.allowDeselect=m.allowDeselect||n.selectionMode!=="SINGLE";n.locked=p}else{if(typeof n==="string"){n={type:n}}else{n.type=m.selType||n.selType||n.type||j}if(!n.mode){if(m.simpleSelect){n.mode="SIMPLE"}else{if(m.multiSelect){n.mode="MULTI"}}}n=Ext.Factory.selection(Ext.apply({allowDeselect:m.allowDeselect,locked:p},n))}}return n},updateSelectionModel:function(i,g){var h=this;if(g){g.un({scope:h,lastselectedchanged:h.updateBindSelection,selectionchange:h.updateBindSelection});Ext.destroy(h.selModelRelayer)}h.selModelRelayer=h.relayEvents(i,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]);i.on({scope:h,lastselectedchanged:h.updateBindSelection,selectionchange:h.updateBindSelection});h.selModel=i},getVisibleColumnManager:function(){return this.ownerCt.getVisibleColumnManager()},getColumnManager:function(){return this.ownerCt.getColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},moveColumn:function(N,i,G){var j=this,z=G>1,E=z&&document.createRange?document.createRange():null,M=z&&!E?document.createDocumentFragment():null,F=i,D=j.getGridColumns().length,y=D-1,J=(j.firstCls||j.lastCls)&&(i===0||i===D||N===0||N===y),B,C,H,A,L,K,I;if(j.rendered&&i!==N){H=j.el.query(j.rowSelector);for(B=0,A=H.length;B<A;B++){L=H[B];K=L.childNodes;if(J){if(K.length===1){Ext.fly(K[0]).addCls(j.firstCls);Ext.fly(K[0]).addCls(j.lastCls);continue}if(N===0){Ext.fly(K[0]).removeCls(j.firstCls);Ext.fly(K[1]).addCls(j.firstCls)}else{if(N===y){Ext.fly(K[y]).removeCls(j.lastCls);Ext.fly(K[y-1]).addCls(j.lastCls)}}if(i===0){Ext.fly(K[0]).removeCls(j.firstCls);Ext.fly(K[N]).addCls(j.firstCls)}else{if(i===D){Ext.fly(K[y]).removeCls(j.lastCls);Ext.fly(K[N]).addCls(j.lastCls)}}}if(z){if(E){E.setStartBefore(K[N]);E.setEndAfter(K[N+G-1]);M=E.extractContents()}else{for(C=0;C<G;C++){M.appendChild(K[N])}}L.insertBefore(M,K[F]||null)}else{L.insertBefore(K[N],K[F]||null)}}I=j.el.query("colgroup");for(B=0,A=I.length;B<A;B++){L=I[B];if(z){if(E){E.setStartBefore(L.childNodes[N]);E.setEndAfter(L.childNodes[N+G-1]);M=E.extractContents()}else{for(C=0;C<G;C++){M.appendChild(L.childNodes[N])}}L.insertBefore(M,L.childNodes[F]||null)}else{L.insertBefore(L.childNodes[N],L.childNodes[F]||null)}}}},scrollToTop:Ext.emptyFn,addElListener:function(i,g,h){this.mon(this,i,g,h,{element:"el"})},getGridColumns:function(){return this.ownerCt.getVisibleColumnManager().getColumns()},getHeaderAtIndex:function(d){return this.ownerCt.getVisibleColumnManager().getHeaderAtIndex(d)},getCell:function(i,h){var g=this.getRow(i);if(typeof h==="number"){h=this.getHeaderAtIndex(h)}return Ext.fly(g).down(h.getCellSelector())},getFeature:function(e){var g=this.featuresMC;if(g){return g.get(e)}},findFeature:function(d){if(this.features){return Ext.Array.findBy(this.features,function(c){if(c.ftype===d){return true}})}},initFeatures:function(l){var i=this,m,k,n,p;i.tpl=Ext.XTemplate.getTpl(this,"tpl");i.rowTpl=Ext.XTemplate.getTpl(this,"rowTpl");i.addRowTpl(Ext.XTemplate.getTpl(this,"outerRowTpl"));i.cellTpl=Ext.XTemplate.getTpl(this,"cellTpl");i.featuresMC=new Ext.util.MixedCollection();k=i.features=i.constructFeatures();p=k?k.length:0;for(m=0;m<p;m++){n=k[m];n.view=i;n.grid=l;i.featuresMC.add(n);n.init(l)}},renderTHead:function(n,m,k){var i=n.view.headerFns,p,l;if(i){for(l=0,p=i.length;l<p;++l){i[l].call(this,n,m,k)}}},addHeaderFn:function(g){var e=this.headerFns;if(!e){e=this.headerFns=[]}e.push(g)},renderTFoot:function(n,m,k){var i=n.view.footerFns,p,l;if(i){for(l=0,p=i.length;l<p;++l){i[l].call(this,n,m,k)}}},addFooterFn:function(g){var e=this.footerFns;if(!e){e=this.footerFns=[]}e.push(g)},addTpl:function(d){return this.insertTpl("tpl",d)},addRowTpl:function(d){return this.insertTpl("rowTpl",d)},addCellTpl:function(d){return this.insertTpl("cellTpl",d)},insertTpl:function(i,j){var k=this,m,l;if(j.isTemplate){j=Ext.Object.chain(j)}else{j=new Ext.XTemplate("{%this.nextTpl.applyOut(values, out, parent);%}",j)}for(m=k[i];j.priority<m.priority;m=m.nextTpl){l=m}if(l){l.nextTpl=j}else{k[i]=j}j.nextTpl=m;return j},tplApplyOut:function(i,h,g){if(this.before){if(this.before(i,h,g)===false){return}}this.nextTpl.applyOut(i,h,g);if(this.after){this.after(i,h,g)}},constructFeatures:function(){var i=this,k=i.features,l,n,m=0,p;if(k){n=[];p=k.length;for(;m<p;m++){l=k[m];if(!l.isFeature){l=Ext.create("feature."+l.ftype,l)}n[m]=l}}return n},beforeRender:function(){Ext.view.View.prototype.beforeRender.call(this);if(!this.enableTextSelection){this.protoEl.unselectable()}},getElConfig:function(){var d=Ext.view.View.prototype.getElConfig.call(this);delete d["aria-hidden"];delete d["aria-disabled"];return d},onBindStore:function(i){var h=this,g=h.bufferedRenderer;if(g&&g.store!==i){g.bindStore(i)}if(h.all&&h.all.getCount()){if(g){g.setBodyTop(0)}h.clearViewEl()}Ext.view.View.prototype.onBindStore.apply(this,arguments)},getStoreListeners:function(){var d=Ext.view.View.prototype.getStoreListeners.call(this);if(this.bufferedRenderer){delete d.clear}d.beforepageremove=this.beforePageRemove;return d},beforePageRemove:function(i,j){var h=this.all,k=i.getPageSize();if(h.startIndex>=(j-1)*k&&h.endIndex<=(j*k-1)){i.get(j);return false}},onViewScroll:function(h,i,g){if(!this.ignoreScroll){Ext.view.View.prototype.onViewScroll.call(this,h,i,g)}},createRowElement:function(n,m,l){var k=this,j=k.renderBuffer,p=k.collectData([n],m);p.columns=l;k.tpl.overwrite(j,p);k.cleanupData();return Ext.fly(j).down(k.getNodeContainerSelector(),true).firstChild},bufferRender:function(m,l){var k=this,j=k.renderBuffer,p,n=document.createRange?document.createRange():null;k.tpl.overwrite(j,k.collectData(m,l));k.cleanupData();Ext.fly(j).saveTabbableState({skipSelf:true,includeHidden:true});j=Ext.fly(j).down(k.getNodeContainerSelector(),true);if(n){n.selectNodeContents(j);p=n.extractContents()}else{p=document.createDocumentFragment();while(j.firstChild){p.appendChild(j.firstChild)}}return{fragment:p,children:Ext.Array.toArray(p.childNodes)}},collectData:function(i,g){var h=this;h.rowValues.view=h;h.tableValues.view=h;h.tableValues.rows=i;h.tableValues.columns=null;h.tableValues.viewStartIndex=g;h.tableValues.touchScroll=h.touchScroll;h.tableValues.tableStyle="width:"+h.headerCt.getTableWidth()+"px";return h.tableValues},cleanupData:function(){var d=this.tableValues;d.view=d.columns=d.rows=this.rowValues.view=null},refreshSize:function(g){var h=this,i=h.getBodySelector();if(i){h.body.attach(h.el.down(i,true))}if(!h.hasLoadingHeight){Ext.suspendLayouts();Ext.view.View.prototype.refreshSize.apply(this,arguments);if(g||(h.hasVariableRowHeight()&&h.dataSource.getCount())){h.grid.updateLayout()}Ext.resumeLayouts(true)}},clearViewEl:function(v){var r=this,q=r.all,p=r.getStore(),t,s,n,i=q.slice(),u=[];if(r.hasListeners.itemremove){for(t=q.startIndex;t<=q.endIndex;t++){u.push(p.getByInternalId(q.item(t,true).getAttribute("data-recordId")))}}r.fireEvent("itemremove",u,q.startIndex,i,r);Ext.view.View.prototype.clearViewEl.call(this);s=Ext.fly(r.getNodeContainer());if(s&&!v){n=r.getTargetEl();if(n.dom!==s.dom){s.destroy()}}},getMaskTarget:function(){return this.ownerCt.body},statics:{getBoundView:function(d){return Ext.getCmp(d.getAttribute("data-boundView"))}},getRecord:function(d){if(this.store.destroyed){return}if(d.isModel){return d}d=this.getNode(d);if(d){return this.dataSource.getByInternalId(d.getAttribute("data-recordId"))}},indexOf:function(d){d=this.getNode(d);if(!d&&d!==0){return -1}return this.all.indexOf(d)},indexInStore:function(d){return d?this.dataSource.indexOf(this.getRecord(d)):-1},indexOfRow:function(h){var g=this.dataSource,i;if(h.isCollapsedPlaceholder){i=g.indexOfPlaceholder(h)}else{i=g.indexOf(h)}return i},renderRows:function(m,p,q,s){var n=this,i=n.rowValues,t=m.length,r;i.view=n;i.columns=p;i.rowRole=n.rowAriaRole;n.cellValues.cellRole=n.cellAriaRole;for(r=0;r<t;r++,q++){i.itemClasses.length=i.rowClasses.length=0;n.renderRow(m[r],q,s)}i.view=i.columns=i.record=null},renderColumnSizer:function(q,p){var m=q.columns||this.getGridColumns(),r=m.length,n,i,l;p.push('<colgroup role="presentation">');for(n=0;n<r;n++){i=m[n];l=i.cellWidth?i.cellWidth:Ext.grid.header.Container.prototype.defaultWidth;p.push('<col role="presentation" class="',"x-","grid-cell-",m[n].getItemId(),'" style="width:'+l+'px">')}p.push("</colgroup>")},renderRow:function(v,B,w){var t=this,x=B===-1,u=t.selectionModel,q=t.rowValues,y=q.itemClasses,z=q.rowClasses,A=t.itemCls,r,s=t.rowTpl;q.rowAttr={};q.record=v;q.recordId=v.internalId;q.recordIndex=t.store.indexOf(v);q.rowIndex=B;q.rowId=t.getRowId(v);q.itemCls=q.rowCls="";if(!q.columns){q.columns=t.ownerCt.getVisibleColumnManager().getColumns()}y.length=z.length=0;if(!x){y[0]=A;if(!t.ownerCt.disableSelection&&u.isRowSelected){if(u.isRowSelected(v)){y.push(t.selectedItemCls)}}if(t.stripeRows&&B%2!==0){y.push(t.altRowCls)}if(t.getRowClass){r=t.getRowClass(v,B,null,t.dataSource);if(r){z.push(r)}}}if(w){s.applyOut(q,w,t.tableValues)}else{return s.apply(q,t.tableValues)}},renderCell:function(E,B,C,v,z,D){var x=this,G,A=x.selectionModel,y=x.cellValues,F=y.classes,H=B.data[E.dataIndex],u=x.cellTpl,J,w,I=x.navigationModel.getPosition();y.record=B;y.column=E;y.recordIndex=C;y.rowIndex=v;y.columnIndex=y.cellIndex=z;y.align=E.align;y.innerCls=E.innerCls;y.tdCls=y.tdStyle=y.tdAttr=y.style="";y.unselectableAttr=x.enableTextSelection?"":'unselectable="on"';F[1]=E.getCellId();w=2;if(E.renderer&&E.renderer.call){G=x.ownerCt.columnManager.getHeaderIndex(E);J=E.renderer.call(E.usingDefaultRenderer?E:E.scope||x.ownerCt,H,y,B,C,G,x.dataSource,x);if(y.css){B.cssWarning=true;y.tdCls+=" "+y.css;y.css=null}if(y.tdCls){F[w++]=y.tdCls}}else{J=H}y.value=(J==null||J==="")?E.emptyCellText:J;if(E.tdCls){F[w++]=E.tdCls}if(x.markDirty&&B.dirty&&B.isModified(E.dataIndex)){F[w++]=x.dirtyCls}if(E.isFirstVisible){F[w++]=x.firstCls}if(E.isLastVisible){F[w++]=x.lastCls}if(!x.enableTextSelection){F[w++]=x.unselectableCls}if(A&&(A.isCellModel||A.isSpreadsheetModel)&&A.isCellSelected(x,C,E)){F[w++]=x.selectedCellCls}if(I&&I.record.id===B.id&&I.column===E){F[w++]=x.focusedItemCls}F.length=w;y.tdCls=F.join(" ");u.applyOut(y,D);y.column=y.record=null},getRow:function(g){var e;if((!g&&g!==0)||!this.rendered){return null}if(g.target){g=g.target}if(Ext.isString(g)){return Ext.fly(g).down(this.rowSelector,true)}if(Ext.isNumber(g)){e=this.all.item(g);return e&&e.down(this.rowSelector,true)}if(g.isModel){return this.getRowByRecord(g)}e=Ext.fly(g);if(e.is(this.itemSelector)){return this.getRowFromItem(e)}return e.findParent(this.rowSelector,this.getTargetEl())},getRowId:function(d){return this.id+"-record-"+d.internalId},constructRowId:function(d){return this.id+"-record-"+d},getNodeById:function(d){d=this.constructRowId(d);return this.retrieveNode(d,false)},getRowById:function(d){d=this.constructRowId(d);return this.retrieveNode(d,true)},getNodeByRecord:function(d){return this.retrieveNode(this.getRowId(d),false)},getRowByRecord:function(d){return this.retrieveNode(this.getRowId(d),true)},getRowFromItem:function(i){var h=Ext.getDom(i).tBodies[0].childNodes,k=h.length,j;for(j=0;j<k;j++){if(Ext.fly(h[j]).is(this.rowSelector)){return h[j]}}},retrieveNode:function(g,h){var i=this.el.getById(g,true);if(h&&i){return Ext.fly(i).down(this.rowSelector,true)}return i},updateIndexes:Ext.emptyFn,bodySelector:"div.x-grid-item-container",nodeContainerSelector:"div.x-grid-item-container",itemSelector:"table.x-grid-item",rowSelector:"tr.x-grid-row",cellSelector:"td.x-grid-cell",sizerSelector:".x-grid-cell",innerSelector:"div.x-grid-cell-inner",getBodySelector:function(){return this.bodySelector},getColumnSizerSelector:function(e){var g=this.sizerSelector+"-"+e.getItemId();return"td"+g+",col"+g},getItemSelector:function(){return this.itemSelector},getCellSelector:function(d){return d?d.getCellSelector():this.cellSelector},getCellInnerSelector:function(d){return this.getCellSelector(d)+" "+this.innerSelector},addRowCls:function(h,i){var g=this.getRow(h);if(g){Ext.fly(g).addCls(i)}},removeRowCls:function(h,i){var g=this.getRow(h);if(g){Ext.fly(g).removeCls(i)}},onRowSelect:function(g){var h=this,i;h.addItemCls(g,h.selectedItemCls);i=h.getRow(g);if(i){i.setAttribute("aria-selected",true)}if(Ext.isIE8){h.repaintBorder(g+1)}},onRowDeselect:function(g){var h=this,i;h.removeItemCls(g,h.selectedItemCls);i=h.getRow(g);if(i){i.removeAttribute("aria-selected")}if(Ext.isIE8){h.repaintBorder(g+1)}},onCellSelect:function(e){var g=this.getCellByPosition(e);if(g){g.addCls(this.selectedCellCls);g.dom.setAttribute("aria-selected",true)}},onCellDeselect:function(e){var g=this.getCellByPosition(e,true);if(g){Ext.fly(g).removeCls(this.selectedCellCls);g.removeAttribute("aria-selected")}},getCellInclusive:function(k,j){if(k){var i=this.getRow(k.row),h=this.ownerCt.getColumnManager().getHeaderAtIndex(k.column);if(h&&i){return Ext.fly(i).down(this.getCellSelector(h),j)}}return false},getCellByPosition:function(m,k){if(m){var l=m.view||this,j=l.getRow(m.record||m.row),i=m.column.isColumn?m.column:l.getVisibleColumnManager().getHeaderAtIndex(m.column);if(i&&j){return Ext.fly(j).down(l.getCellSelector(i),k)}}return false},onFocusEnter:function(u){var t=this,r=u.fromComponent,p=t.getNavigationModel(),w,e=t.bufferedRenderer,s,x,q,v;if(t.actionableMode){return}u=u.event;if(!t.cellFocused&&t.all.getCount()&&t.dataSource.getCount()){q=u.getTarget();if(Ext.fly(q).is(t.getCellSelector())){w=new Ext.grid.CellContext(t).setPosition(t.getRecord(q),t.getHeaderByCell(q))}else{if(q&&Ext.fly(q).isFocusable()&&t.el.contains(q)&&q!==t.el.dom){t.ownerGrid.setActionableMode(true,new Ext.grid.CellContext(t).setPosition(t.getRecord(q),t.getHeaderByCell(Ext.fly(q).up(t.getCellSelector()))));Ext.fly(q).focus()}else{w=t.lastFocused;if(w){v=t.getScrollable();if(!v||v.isInView(w.getRow()).y){s=w.record}}else{w=new Ext.grid.CellContext((t.isNormalView&&t.lockingPartner.grid.isVisible())?t.lockingPartner:t).setColumn(0)}if(r&&r.isColumn&&r.getView()===t){w.view=t;w.setColumn(r)}if(!s){x=e?e.getFirstVisibleRowIndex():0;s=t.dataSource.getAt(x);while(s&&s.isNonData){x++;s=t.dataSource.getAt(x)}if(s){w.setRow(s)}else{w=null}}if(!w){u.stopEvent();t.el.focus();return}}}}if(w){p.setPosition(w,null,u,null,true);t.cellFocused=!!p.getPosition();if(t.cellFocused){t.el.dom.setAttribute("tabIndex","-1");t.toggleChildrenTabbability(false)}}Ext.Component.prototype.onFocusEnter.call(t,u)},onFocusLeave:function(e){var h=this,i=!h.lockingPartner||!e.toComponent||(e.toComponent!==h.lockingPartner&&!h.lockingPartner.isAncestor(e.toComponent));if(!h.refreshing){if(h.cellFocused){if(i){h.getNavigationModel().setPosition(null,null,e.event,null,true)}h.cellFocused=false;h.focusEl=h.el;h.focusEl.dom.setAttribute("tabIndex",0)}if(i){if(h.ownerGrid.actionableMode){h.ownerGrid.setActionableMode(false)}}Ext.Component.prototype.onFocusLeave.call(h,e)}},onRowFocus:function(h,j,k){var i=this;if(j){i.addItemCls(h,i.focusedItemCls);if(!k){i.focusRow(h)}}else{i.removeItemCls(h,i.focusedItemCls)}if(Ext.isIE8){i.repaintBorder(h+1)}},focusRow:function(h,k){var i=this,j=i.getFocusTask();if(k){j.delay(Ext.isNumber(k)?k:10,i.focusRow,i,[h,false]);return}j.cancel();if(i.isVisible(true)){i.getNavigationModel().setPosition(i.getRecord(h))}},focusNode:function(e,g){this.focusRow(e,g)},scrollRowIntoView:function(e,g){e=this.getRow(e);if(e){this.scrollElIntoView(e,false,g)}},focusCell:function(l,k){var i=this,m,j=i.getFocusTask();if(k){j.delay(Ext.isNumber(k)?k:10,i.focusCell,i,[l,false]);return}j.cancel();if(i.isVisible(true)&&(m=i.getCellByPosition(l))){i.getNavigationModel().setPosition(l)}},getLastFocused:function(){var e=this,g=e.lastFocused;if(g&&g.record&&g.column){if(e.dataSource.indexOf(g.record)!==-1&&e.getVisibleColumnManager().indexOf(g.column)!==-1&&e.getNode(g.record)){return g}}},scrollCellIntoView:function(g,e){if(g.isCellContext){g=this.getCellByPosition(g)}if(g){this.scrollElIntoView(g,null,e)}},scrollElIntoView:function(i,h,j){var k=this.getScrollable();if(k){k.scrollIntoView(i,h,j)}},syncRowHeightBegin:function(){var n=this,i=n.all,p=i.count,r=[],j=Ext.grid.locking.RowSynchronizer,s,t,q;for(s=0,t=i.startIndex;s<p;s++,t++){r[s]=q=new j(n,i.elements[t]);q.reset()}return r},syncRowHeightClear:function(l){var j=this,i=j.all,k=i.count,m;for(m=0;m<k;m++){l[m].reset()}},syncRowHeightMeasure:function(h){var g=h.length,i;for(i=0;i<g;i++){h[i].measure()}},syncRowHeightFinish:function(l,j){var k=l.length,i=this.bufferedRenderer,m;for(m=0;m<k;m++){l[m].finish(j[m])}if(i){i.syncRowHeightsFinish()}},handleUpdate:function(ae,ap,Z,ab){Z=Z||Ext.data.Model.EDIT;var i=this,ao=i.store.indexOf(ap),T=i.rowTpl,aj=i.markDirty,ah=i.dirtyCls,Y=Z!==Ext.data.Model.EDIT,ai=[],af=i.variableRowHeight,R=0,Q=i.ownerCt,at=i.cellFly||(i.self.prototype.cellFly=new Ext.dom.Fly()),X,ad,an,aa,V,P,al,ak,au,aq,S,W,ag,av,ar,ac,O,aw,am,U;if(i.viewReady){X=i.getNodeByRecord(ap);if(X){if(ap.isCollapsedPlaceholder){Ext.fly(X).syncContent(i.createRowElement(ap,i.indexOfRow(ap)));return}ak=i.overItemCls;au=i.ownerCt.getVisibleColumnManager().getColumns();for(W=0,S=au.length;W<S;W++){aq=au[W];if(aq.preventUpdate){av=Ext.fly(X).down(aq.getCellSelector(),true);if(av&&!Y&&aj){at.attach(av);if(ap.isModified(aq.dataIndex)){at.addCls(ah)}else{at.removeCls(ah)}}}else{ag=i.shouldUpdateCell(ap,aq,ab);if(ag){R=R|ag;ai[ai.length]=aq;af=af||aq.variableRowHeight}}}i.fireEvent("beforeitemupdate",ap,ao,X,ai);if(i.getRowClass||!i.getRowFromItem(X)||(R&1)||(X.tBodies[0].childNodes.length>1)){am=X._extData;an=i.createRowElement(ap,i.indexOfRow(ap),ai);if(Ext.fly(X,"_internal").hasCls(ak)){Ext.fly(an).addCls(ak)}if(Ext.isIE9m&&X.mergeAttributes){X.mergeAttributes(an,true)}else{aa=an.attributes;V=aa.length;for(al=0;al<V;al++){P=aa[al].name;if(P!=="id"){X.setAttribute(P,aa[al].value)}}}if(am){am.isSynchronized=false}if(au.length&&(ad=i.getRow(X))){i.updateColumns(ad,Ext.fly(an).down(i.rowSelector,true),ai)}while(T){if(T.syncContent){if(T.syncContent(X,an,ab?ai:null)===false){break}}T=T.nextTpl}}else{for(W=0,S=ai.length;W<S;W++){aq=ai[W];ar=aq.dataIndex;ac=ap.get(ar);av=Ext.fly(X).down(aq.getCellSelector(),true);at.attach(av);if(!Y&&aj){if(ap.isModified(aq.dataIndex)){at.addCls(ah)}else{at.removeCls(ah)}}O=aq.usingDefaultRenderer;aw=O?aq:aq.scope;if(aq.updater){Ext.callback(aq.updater,aw,[av,ac,ap,i,i.dataSource],0,aq,Q)}else{if(aq.renderer){ac=Ext.callback(aq.renderer,aw,[ac,null,ap,0,0,i.dataSource,i],0,aq,Q)}U=ac==null||ac==="";ac=U?aq.emptyCellText:ac;if(aq.producesHTML||U){at.down(i.innerSelector,true).innerHTML=ac}else{at.down(i.innerSelector,true).childNodes[0].data=ac}}if(i.highlightClass){Ext.fly(av).addCls(i.highlightClass);if(!i.changedCells){i.self.prototype.changedCells=[];i.prototype.clearChangedTask=new Ext.util.DelayedTask(i.clearChangedCells,i.prototype);i.clearChangedTask.delay(i.unhighlightDelay)}i.changedCells.push({cell:av,cls:i.highlightClass,expires:Ext.Date.now()+1000})}}}if(Y&&aj&&!ap.dirty){Ext.fly(X,"_internal").select("."+ah).removeCls(ah)}if(af){Ext.suspendLayouts()}i.fireEvent("itemupdate",ap,ao,X);if(af){i.ownerGrid.updateLayout();Ext.resumeLayouts(true)}}}},afterComponentLayout:function(){var d;Ext.view.View.prototype.afterComponentLayout.apply(this,arguments);if(this.touchScroll&&!this.bufferedRenderer&&(d=this.getScrollable())){d.refresh()}},clearChangedCells:function(){var j=this,l=Ext.Date.now(),i;for(var k=0,m=j.changedCells.length;k<m;){i=j.changedCells[k];if(i.expires<=l){Ext.fly(i.cell).removeCls(i.highlightClass);Ext.Array.erase(j.changedCells,k,1);m--}else{break}}if(m){j.clearChangedTask.delay(j.unhighlightDelay)}},updateColumns:function(x,w,v){var y=this,E,F,z,D,t=v.length,u,C,s,A,B=y.getCellSelector();if(x.mergeAttributes){x.mergeAttributes(w,true)}else{E=w.attributes;F=E.length;for(D=0;D<F;D++){z=E[D].name;if(z!=="id"){x.setAttribute(z,E[D].value)}}}for(u=0;u<t;u++){C=v[u];B=y.getCellSelector(C);s=Ext.fly(x).selectNode(B);A=Ext.fly(w).selectNode(B);Ext.fly(s).syncContent(A)}},shouldUpdateCell:function(i,g,h){return g.shouldUpdateCell(i,h)},refresh:function(){var h=this,i,g=h.saveFocusState();if(h.destroying){return}Ext.view.View.prototype.refresh.apply(this,arguments);g();h.headerCt.setSortState();if(h.touchScroll&&h.el&&!h.all.getCount()&&h.headerCt&&h.headerCt.tooNarrow){i=h.getScrollable();if(i&&i.isTouchScroller){i.setSize({x:h.headerCt.getTableWidth(),y:i.getSize().y})}}},processContainerEvent:function(e){var g=Ext.Component.fromElement(e.target.parentNode);if(g&&g.up(this.ownerCt)){return false}},processItemEvent:function(M,z,F,A){var e=this,D=e.self,i=D.EventMap,K=A.type,I=e.features,B=I.length,C,G,E,J,L,y=A.position=e.eventPosition||(e.eventPosition=new Ext.grid.CellContext()),H,N;if(Ext.isIE&&K==="mouseup"&&!A.within(e.el)){return false}if(e.indexInStore(z)!==-1){H=y.rowElement=Ext.fly(z).down(e.rowSelector,true);N=A.getTarget(e.getCellSelector(),H);K=D.TouchEventMap[K]||K;if(N){if(!N.parentNode){return false}L=e.getHeaderByCell(N);G=e.ownerCt.getColumnManager().getHeaderIndex(L)}else{G=-1}y.setAll(e,F,L?e.getVisibleColumnManager().getHeaderIndex(L):-1,M,L);y.cellElement=N;E=e.fireEvent("uievent",K,e,N,F,G,A,M,H);if((E===false||Ext.view.View.prototype.processItemEvent.apply(this,arguments)===false)){return false}for(C=0;C<B;++C){J=I[C];if(J.wrapsItem){if(J.vetoEvent(M,H,F,A)===false){e.processSpecialEvent(A);return false}}}if(N&&K!=="mouseover"&&K!=="mouseout"){E=!((e["onBeforeCell"+i[K]](N,G,M,H,F,A)===false)||(e.fireEvent("beforecell"+K,e,N,G,M,H,F,A)===false)||(e["onCell"+i[K]](N,G,M,H,F,A)===false)||(e.fireEvent("cell"+K,e,N,G,M,H,F,A)===false))}if(E!==false){E=e.fireEvent("row"+K,e,M,H,F,A)}return E}else{this.processSpecialEvent(A);A.preventDefault();return false}},processSpecialEvent:function(v){var s=this,z=s.features,t=z.length,i=v.type,y,e,x,w,A,u,B=s.ownerCt;Ext.view.View.prototype.processSpecialEvent.apply(this,arguments);if(i==="mouseover"||i==="mouseout"){return}i=s.self.TouchEventMap[i]||i;for(y=0;y<t;y++){e=z[y];if(e.hasFeatureEvent){w=v.getTarget(e.eventSelector,s.getTargetEl());if(w){x=e.eventPrefix;A=e.getFireEventArgs("before"+x+i,s,w,v);u=e.getFireEventArgs(x+i,s,w,v);if((s.fireEvent.apply(s,A)===false)||(B.fireEvent.apply(B,A)===false)||(s.fireEvent.apply(s,u)===false)||(B.fireEvent.apply(B,u)===false)){return false}}}}return true},onCellMouseDown:Ext.emptyFn,onCellLongPress:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onCellKeyUp:Ext.emptyFn,onCellKeyPress:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellLongPress:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,onBeforeCellKeyUp:Ext.emptyFn,onBeforeCellKeyPress:Ext.emptyFn,expandToFit:function(d){this.autoSizeColumn(d)},autoSizeColumn:function(d){if(Ext.isNumber(d)){d=this.getGridColumns()[d]}if(d){if(d.isGroupHeader){d.autoSize();return}delete d.flex;d.setWidth(this.getMaxContentWidth(d))}},getMaxContentWidth:function(u){var s=this,i=s.el.query(u.getCellInnerSelector()),w=u.getWidth(),v=0,t=i.length,x=s.body.select(s.getColumnSizerSelector(u)),q=Math.max,r=0,p;if(t>0){if(Ext.supports.ScrollWidthInlinePaddingBug){r+=s.getCellPaddingAfter(i[0])}if(s.columnLines){r+=Ext.fly(i[0].parentNode).getBorderWidth("lr")}}x.setWidth(1);u.textEl.setStyle({"text-overflow":"clip",display:"table-cell"});p=u.textEl.dom.offsetWidth+u.titleEl.getPadding("lr");u.textEl.setStyle({"text-overflow":"",display:""});for(;v<t;v++){p=q(p,i[v].scrollWidth)}p+=r;p=q(p+1,40);x.setWidth(w);return p},getPositionByEvent:function(k){var l=this,n=k.getTarget(l.cellSelector),m=k.getTarget(l.itemSelector),p=l.getRecord(m),e=l.getHeaderByCell(n);return l.getPosition(p,e)},getHeaderByCell:function(d){if(d){return this.ownerCt.getVisibleColumnManager().getHeaderById(Ext.getDom(d).getAttribute("data-columnId"))}return false},walkCells:function(r,q,v,p){var s=this,n=r.clone(),t=s.lockingPartner&&s.lockingPartner.grid.isVisible()?s.lockingPartner:null,w=r.rowIdx,x=s.dataSource.getCount()-1,u=s.ownerCt.getVisibleColumnManager().getColumns();switch(q.toLowerCase()){case"right":if(r.isLastColumn()){w=t&&s.isLockedView?w:w+1;if(w>x){return false}if(t){n.view=t}n.setPosition(w,0)}else{n.navigate(+1)}break;case"left":if(r.isFirstColumn()){w=t&&s.isNormalView?w:w-1;if(w<0){return false}if(t){n.view=t;u=t.getVisibleColumnManager().getColumns()}n.setPosition(w,u[u.length-1])}else{n.navigate(-1)}break;case"up":if(w===0){return false}else{n.setRow(w-1)}break;case"down":if(w===x){return false}else{n.setRow(w+1)}break}if(v&&v.call(p||s,n)!==true){return false}return n},walkRows:function(q,x){var u=this,r=u.dataSource,t=0,n=q,w,v=(x<0)?0:r.getCount()-1,s=v?1:-1,p=q;do{if(v?p>=v:p<=v){return n||v}p+=s;if((w=Ext.fly(u.getRow(p)))&&w.isVisible(true)){t+=s;n=p}}while(t!==x);return p},walkRecs:function(y,z){var t=this,q=t.dataSource,s=0,p=y,x,v=(z<0)?0:(q.isBufferedStore?q.getTotalCount():q.getCount())-1,r=v?1:-1,u=q.indexOf(y),w;do{if(v?u>=v:u<=v){return p}u+=r;w=q.getAt(u);if(!w.isCollapsedPlaceholder&&(x=Ext.fly(t.getNodeByRecord(w)))&&x.isVisible(true)){s+=r;p=w}}while(s!==z);return p},getFirstVisibleRowIndex:function(){var g=this,h=(g.dataSource.isBufferedStore?g.dataSource.getTotalCount():g.dataSource.getCount()),i=g.indexOf(g.all.first())-1;do{i+=1;if(i===h){return}}while(!Ext.fly(g.getRow(i)).isVisible(true));return i},getLastVisibleRowIndex:function(){var e=this,g=e.indexOf(e.all.last());do{g-=1;if(g===-1){return}}while(!Ext.fly(e.getRow(g)).isVisible(true));return g},getHeaderCt:function(){return this.headerCt},getPosition:function(g,e){return new Ext.grid.CellContext(this).setPosition(g,e)},onDestroy:function(){var h=this,i=h.featuresMC,k,j;if(i){for(j=0,k=i.getCount();j<k;++j){i.getAt(j).destroy()}}h.cellFly=h.featuresMC=null;Ext.view.View.prototype.onDestroy.apply(this,arguments);h.all.destroy();h.body.destroy();h.all=h.body=h.body.el=null;h.grid=h.ownerGrid=h.headerCt=h.panel=null;h.selection=h.actionPosition=h.eventPosition=h.lastFocused=null;h.actionRow=h.cellTpl=h.rowTpl=h.bufferedRenderer=null},onReplace:function(q,l,r,m){var p=this,k=p.bufferedRenderer,n;if(p.rendered&&k){n=p.saveFocusState();k.onReplace(q,l,r,m);n()}else{Ext.view.View.prototype.onReplace.apply(this,arguments)}p.setPendingStripe(l)},onResize:function(m,p,n,j){var l=this,k=l.bufferedRenderer;if(k){k.onViewResize(l,m,p,n,j)}Ext.view.View.prototype.onResize.call(this,m,p)},onAdd:function(l,m,k){var j=this,i=j.bufferedRenderer;if(j.rendered&&i&&(i.bodyTop||j.dataSource.getCount()+m.length>=i.viewSize)){i.onReplace(l,k,[],m)}else{Ext.view.View.prototype.onAdd.apply(this,arguments)}j.setPendingStripe(k)},onRemove:function(n,p,m){var l=this,j=l.bufferedRenderer,k;if(l.rendered&&j&&l.dataSource.getCount()+p.length>=j.viewSize){k=l.saveFocusState();j.onReplace(n,m,p,[]);k()}else{Ext.view.View.prototype.onRemove.apply(this,arguments)}l.setPendingStripe(m)},saveFocusState:function(){var m=this,r=m.dataSource,k=m.actionableMode,p=m.getNavigationModel(),n=k?m.actionPosition:p.getPosition(true),q,l;if(n){n=n.clone();if(k){m.ownerGrid.setActionableMode(false)}m.el.dom.focus();p.setPosition();return function(){if(r.getCount()){q=Math.min(n.rowIdx,m.all.getCount()-1);l=Math.min(n.colIdx,m.getVisibleColumnManager().getColumns().length-1);n=new Ext.grid.CellContext(m).setPosition(r.contains(n.record)?n.record:q,l);if(k){m.ownerGrid.setActionableMode(true,n)}else{m.cellFocused=true;p.setPosition(n,null,null,null,true)}}else{n.column.focus()}}}return Ext.emptyFn},onDataRefresh:function(h){var g=this,i=g.ownerCt;if(i&&i.isCollapsingOrExpanding===2){i.on("expand",g.onDataRefresh,g,{single:true});return}Ext.view.View.prototype.onDataRefresh.call(this,h)},getViewRange:function(){var d=this;if(d.bufferedRenderer){return d.bufferedRenderer.getViewRange()}return Ext.view.View.prototype.getViewRange.call(this)},setPendingStripe:function(g){var e=this.stripeOnUpdate;if(e===null){e=g}else{e=Math.min(e,g)}this.stripeOnUpdate=e},onEndUpdate:function(){var i=this,g=i.stripeOnUpdate,h=i.all.startIndex;if(i.rendered&&(g||g===0)){if(g<h){g=h}i.doStripeRows(g);i.stripeOnUpdate=null}Ext.view.View.prototype.onEndUpdate.apply(this,arguments)},doStripeRows:function(q,r){var n=this,m,i,p,l;if(n.rendered&&n.stripeRows){m=n.getNodes(q,r);for(p=0,i=m.length;p<i;p++){l=m[p];l.className=l.className.replace(n.rowClsRe," ");q++;if(q%2===0){l.className+=(" "+n.altRowCls)}}}},hasActiveFeature:function(){return(this.isGrouping&&this.store.isGrouped())||this.isRowWrapped},getCellPaddingAfter:function(d){return Ext.fly(d).getPadding("r")},privates:{refreshScroll:function(){var g=this,e=g.bufferedRenderer;if(e){e.refreshSize()}else{Ext.view.View.prototype.refreshScroll.call(this)}},collectNodes:function(d){this.all.fill(this.getNodeContainer().childNodes,this.all.startIndex)},setActionableMode:function(x,A){var v=this,F=v.getNavigationModel(),E,G,u,D,i=v.grid.actionables,z=i.length,C,B,H,w,y;if(v.actionableMode===x){if(!x||A.isEqual(v.actionPosition)){return false}}if(x){if(A&&(A.view===v||(A.view===(w=v.lockingPartner)&&w.actionableMode))){A=A.clone();B=A.record;v.grid.ensureVisible(B,{column:A.column});E=v.all.item(A.rowIdx);if(!w){G=Ext.fly(E).down(A.column.getCellSelector());for(C=0;C<z;C++){H=H||i[C].activateCell(A)}}if(w||G.restoreTabbableState(true).length||H){for(C=0;C<z;C++){if(i[C].activateRow){i[C].activateRow(E)}}if(w||(u=G.findTabbableElements()).length){E.restoreTabbableState(true);if(w){v.actionableMode=true;v.actionPosition=null;return true}if(u){v.actionRow=E;v.actionableMode=v.ownerGrid.actionableMode=true;F.setPosition();F.actionPosition=v.actionPosition=A;Ext.fly(u[0]).focus();return true}}}}return false}else{D=Ext.fly(Ext.Element.getActiveElement());y=v.el.contains(D);if(y){B=v.actionPosition&&v.actionPosition.record}for(C=0;C<z;C++){if(i[C].deactivate){i[C].deactivate()}}if(v.actionRow){v.actionRow.saveTabbableState({skipSelf:true,includeSaved:false})}v.actionableMode=v.ownerGrid.actionableMode=false;v.actionPosition=F.actionPosition=v.actionRow=null;if(y){F.setPosition(new Ext.grid.CellContext(v).setPosition(B||0,v.getHeaderByCell(D.findParent(v.getCellSelector()))||0))}}},onRowExit:function(x,i,v){var s=this,r=v?"nextSibling":"previousSibling",t=s.lockingPartner,q=s.grid.actionables,u=q.length,w,y,z;s.refreshing=s.actionableModeTabbing=true;for(w=0;w<u;w++){if(q[w].deactivate){q[w].deactivate()}}if(t&&t.grid.isVisible()){y=s.all.indexOf(x);if(v){z=0;if(s.isNormalView){y++}}else{z=t.getVisibleColumnManager().getColumns().length-1;if(s.isLockedView){y--}}s.actionPosition=null;s=t;i=s.all.item(y,true)}s.findFirstActionableElement(i,r,v);s.refreshing=s.actionableModeTabbing=false;Ext.fly(x).saveTabbableState({skipSelf:true,includeSaved:false})},findFirstActionableElement:function(F,w,z){var x=this,D=x.getVisibleColumnManager().getColumns(),y=D.length,G,J,I=x.grid.actionables,i=I.length,B,C,E,A=new Ext.grid.CellContext(x),H,j;if(F){A.setRow(F);for(B=0;B<i;B++){if(I[B].activateRow){I[B].activateRow(F)}}for(B=(z?0:y-1);(z?B<y:B>-1)&&!J;B=B+(z?1:-1)){E=D[B];A.setColumn(E);G=Ext.fly(F).down(A.column.getCellSelector());for(C=0;C<i;C++){H=H||I[C].activateCell(A)}if(G.restoreTabbableState(true).length||H){j=G.findTabbableElements();x.actionRow=Ext.get(F);x.actionRow.restoreTabbableState(true);J=j[z?0:j.length-1]}}if(J){x.actionPosition=x.getNavigationModel().actionPosition=A;Ext.fly(J).focus()}else{x.onRowExit(F,x.all.item(A.rowIdx+(z?1:-1)),z)}}else{x.grid.ensureVisible(z?0:x.dataSource.getCount()-1,{callback:function(c,e,d){if(c){x.findFirstActionableElement(d,w,z)}else{x.ownerGrid.setActionableMode(false)}}})}}}},1,["tableview","gridview"],["component","box","dataview","tableview","gridview"],{component:true,box:true,dataview:true,tableview:true,gridview:true},["widget.gridview","widget.tableview"],0,[Ext.view,"Table",Ext.grid,"View"],0));(Ext.cmd.derive("Ext.grid.Panel",Ext.panel.Table,{alternateClassName:["Ext.list.ListView","Ext.ListView","Ext.grid.GridPanel"],viewType:"tableview",lockable:false,rowLines:true},0,["grid","gridpanel"],["component","box","container","panel","tablepanel","gridpanel","grid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true},["widget.grid","widget.gridpanel"],0,[Ext.grid,"Panel",Ext.list,"ListView",Ext,"ListView",Ext.grid,"GridPanel"],0));(Ext.cmd.derive("Ext.grid.RowEditorButtons",Ext.container.Container,{frame:true,shrinkWrap:true,position:"bottom",constructor:function(l){var j=this,m=l.rowEditor,i="x-",k=m.editingPlugin;l=Ext.apply({baseCls:i+"grid-row-editor-buttons",defaults:{xtype:"button",ui:m.buttonUI,scope:k,flex:1,minWidth:Ext.panel.Panel.prototype.minButtonWidth},items:[{cls:i+"row-editor-update-button",itemId:"update",handler:k.completeEdit,text:m.saveBtnText,disabled:m.updateButtonDisabled,listeners:{element:"el",keydown:j.onUpdateKeyDown,scope:j}},{cls:i+"row-editor-cancel-button",itemId:"cancel",handler:k.cancelEdit,text:m.cancelBtnText,listeners:{element:"el",keydown:j.onCancelKeyDown,scope:j}}]},l);Ext.container.Container.prototype.constructor.call(this,l);j.addClsWithUI(j.position)},onUpdateKeyDown:function(d){if(d.shiftKey&&d.getKey()===d.TAB){d.stopEvent();this.rowEditor.child(":focusable:not([isButton]):last").focus(false,true)}},onCancelKeyDown:function(d){if(!d.shiftKey&&d.getKey()===d.TAB){d.stopEvent();this.rowEditor.child(":focusable").focus(false,true)}},setButtonPosition:function(q){var m=this,r=this.rowEditor,k=r.getHeight(),n=r.body,p="",l="";m.removeClsWithUI(m.position);m.position=q;m.addClsWithUI(q);if(q==="top"){p=(k-n.getBorderWidth("t"))+"px"}else{l=(k-n.getBorderWidth("b"))+"px"}m.el.setStyle({top:l,bottom:p})},privates:{getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this.position},getFrameInfo:function(){var d=Ext.container.Container.prototype.getFrameInfo.call(this);d.top=true;return d}}},1,["roweditorbuttons"],["component","box","container","roweditorbuttons"],{component:true,box:true,container:true,roweditorbuttons:true},["widget.roweditorbuttons"],0,[Ext.grid,"RowEditorButtons"],0));(Ext.cmd.derive("Ext.grid.RowEditor",Ext.form.Panel,{saveBtnText:"Update",cancelBtnText:"Cancel",errorsText:"Errors",dirtyText:"You need to commit or cancel your changes",lastScrollLeft:0,lastScrollTop:0,border:false,_wrapCls:"x-grid-row-editor-wrap",errorCls:"x-grid-row-editor-errors-item",buttonUI:"default",hideMode:"offsets",_cachedNode:false,initComponent:function(){var l=this,n=l.editingPlugin.grid,p=Ext.container.Container,m,k,j;l.cls="x-grid-editor x-grid-row-editor";l.layout={type:"hbox",align:"middle"};l.lockable=n.lockable;if(l.lockable){l.items=[j=l.lockedColumnContainer=new p({id:n.id+"-locked-editor-cells",scrollable:{x:false,y:false},layout:{type:"hbox",align:"middle"},margin:"0 1 0 0"}),k=l.normalColumnContainer=new p({scrollable:{x:false,y:false},flex:1,id:n.id+"-normal-editor-cells",layout:{type:"hbox",align:"middle"}})];j.getScrollable().addPartner(n.lockedGrid.view.getScrollable(),"x");k.getScrollable().addPartner(n.normalGrid.view.getScrollable(),"x")}else{l.setScrollable({x:false,y:false});l.getScrollable().addPartner(n.view.getScrollable(),"x");l.lockedColumnContainer=l.normalColumnContainer=l}Ext.form.Panel.prototype.initComponent.call(this);if(l.fields){l.addFieldsForColumn(l.fields,true);l.insertColumnEditor(l.fields);delete l.fields}l.mon(Ext.GlobalEvents,{scope:l,show:l.repositionIfVisible});m=l.getForm();m.trackResetOnLoad=true;m.on("validitychange",l.onValidityChange,l);m.on("errorchange",l.onErrorChange,l)},onGridResize:function(){var k=this,i=k.getClientWidth(),m=k.editingPlugin.grid,j=m.body,l=k.getFloatingButtons();k.wrapEl.setLocalX(j.getOffsetsTo(m)[0]+j.getBorderWidth("l")-m.el.getBorderWidth("l"));k.setWidth(i);l.setLocalX((i-l.getWidth())/2);if(k.lockable){k.lockedColumnContainer.setWidth(m.lockedGrid.view.el.dom.clientWidth)}},syncAllFieldWidths:function(){var i=this,j=i.query("[isEditorComponent]"),m=j.length,k,l;for(l=0;l<m;++l){k=j[l].column;if(k.isVisible()){i.onColumnShow(k)}}},syncFieldWidth:function(h){var g=h.getEditor(),i;g._marginWidth=(g._marginWidth||g.el.getMargin("lr"));i=h.getWidth()-g._marginWidth;g.setWidth(i);if(g.xtype==="displayfield"){g.inputWidth=i}},onValidityChange:function(e,g){this.updateButton(g)},onErrorChange:function(){var e=this,g;if(e.errorSummary&&e.isVisible()){g=e.getForm().isValid();e[g?"hideToolTip":"showToolTip"]()}},updateButton:function(e){var g=this.floatingButtons;if(g){g.child("#update").setDisabled(!e)}else{this.updateButtonDisabled=!e}},afterRender:function(){var h=this,i=h.editingPlugin,j=i.grid,k=j.lockable?j.normalGrid.view:j.view;Ext.form.Panel.prototype.afterRender.apply(this,arguments);h.scrollingView=k;h.scrollingViewEl=k.el;k.on("scroll",h.onViewScroll,h);h.mon(h.el,{click:Ext.emptyFn,stopPropagation:true});h.mon(j,"resize",h.onGridResize,h);if(h.lockable){j.lockedGrid.view.on("resize","onGridResize",h)}h.el.swallowEvent(["keypress","keydown"]);h.initKeyNav();h.mon(i.view,{beforerefresh:h.onBeforeViewRefresh,refresh:h.onViewRefresh,itemremove:h.onViewItemRemove,scope:h});h.preventReposition=true;h.syncAllFieldWidths();delete h.preventReposition},initKeyNav:function(){var e=this,g=e.editingPlugin;e.keyNav=new Ext.util.KeyNav(e.el,{tab:{fn:e.onFieldTab,scope:e},enter:g.onEnterKey,esc:g.onEscKey,scope:g})},onBeforeViewRefresh:function(h){var g=this,i=h.el.dom;if(g.el.dom.parentNode===i){i.removeChild(g.el.dom)}},onViewRefresh:function(k){var i=this,j=i.context,h;if(!i.completing){if(j&&(h=k.getRow(j.record))){j.row=h;i.reposition();if(i.tooltip&&i.tooltip.isVisible()){i.tooltip.setTarget(j.row)}}else{i.editingPlugin.cancelEdit()}}},onViewItemRemove:function(w,t,s,q){var r=this,y,p,z,x,v,u;if(!q.refreshing){u=r.editingPlugin;y=u.grid;p=y.getStore();z=r.editingPlugin.view;x=this.context;if(p.getById(r.getRecord().getId())&&!r._cachedNode){if(u.editing){this._cachedNode=true;this.mon(z,{itemadd:r.onViewItemAdd,scope:r})}}else{if(!r._cachedNode){this.activeField=null;this.editingPlugin.cancelEdit()}}}},onViewItemAdd:function(r,q,s,t){var m=this,i,n=m.editingPlugin;if(m._cachedNode&&n.editing){i=n.view;for(var p=0;p<r.length;p++){if(r[p]===m.context.record){m.context.node=s[p];m.context.row=i.getRow(s[p]);m.context.cell=i.getCellByPosition(m.context,true);m.clearCache();break}}}},onViewScroll:function(){var p=this,q=p.editingPlugin.view.el,k=p.scrollingView,n=k.getScrollY(),l=k.getScrollX(),r=n!==p.lastScrollTop,m;p.lastScrollTop=n;p.lastScrollLeft=l;if(p.isVisible()){m=Ext.getDom(p.context.row);if(m&&q.contains(m)){if(p.getLocalY()){p.setLocalY(0)}if(r){p.context.row=m;p.reposition(null,true);if((p.tooltip&&p.tooltip.isVisible())||p.hiddenTip){p.repositionTip()}p.syncEditorClip()}}else{p.setLocalY(-400)}}},onColumnResize:function(h,i){var g=this;if(g.rendered&&!g.editingPlugin.reconfiguring){g.onGridResize();g.onViewScroll();if(!h.isGroupHeader){g.syncFieldWidth(h);g.repositionIfVisible()}}},onColumnHide:function(d){if(!this.editingPlugin.reconfiguring&&!d.isGroupHeader){d.getEditor().hide();this.repositionIfVisible()}},onColumnShow:function(g){var e=this;if(e.rendered&&!e.editingPlugin.reconfiguring&&!g.isGroupHeader&&g.getEditor){g.getEditor().show();e.syncFieldWidth(g);if(!e.preventReposition){this.repositionIfVisible()}}},onColumnMove:function(x,z,i){var q=this,t=x.isLocked(),s=t?q.lockedColumnContainer:q.normalColumnContainer,w,u,r,y,v;if(x.isGroupHeader){Ext.suspendLayouts();y=i>z;v=y?1:0;w=x.getGridColumns();for(u=0,r=w.length;u<r;++u){x=w[u];i=x.getIndex();if(y){++v}q.setColumnEditor(x,i+v,s)}Ext.resumeLayouts(true)}else{q.setColumnEditor(x,x.getIndex(),s)}},setColumnEditor:function(h,i,g){this.addFieldsForColumn(h);g.insert(i,h.getEditor())},onColumnAdd:function(d){if(d.isGroupHeader){d=d.getGridColumns()}this.addFieldsForColumn(d);this.insertColumnEditor(d);this.preventReposition=false},insertColumnEditor:function(m){var l=this,k,i,p,n;if(Ext.isArray(m)){for(n=0,p=m.length;n<p;n++){l.insertColumnEditor(m[n])}return}if(!m.getEditor){return}i=m.isLocked()?l.lockedColumnContainer:l.normalColumnContainer;i.insert(m.getIndex(),k=m.getEditor());k.on("focus",l.onFieldFocus,l);l.needsSyncFieldWidths=true},onFieldFocus:function(d){if(Ext.isIE){d.inputEl.dom.value=d.inputEl.dom.value}this.activeField=d;this.context.setColumn(d.column);if(!this.skipFocusScroll){d.column.getView().getScrollable().scrollIntoView(d.el)}else{this.skipFocusScroll=null}},onFieldTab:function(e){var l=this,p=l.activeField,m=l.context.rowIdx,n=!e.shiftKey,k=p[n?"nextNode":"previousNode"](":focusable");if(!k||!k.isDescendant(l)){if(l.isDirty()){e.preventDefault();l.floatingButtons.child("#update").focus()}else{m=m+(n?1:-1);if(m>=0&&m<=l.view.dataSource.getCount()){if(n){k=l.down(":focusable:not([isButton]):first");p.column.getView().getScrollable().scrollIntoView(p.ownerCt.child(":focusable").el)}else{k=l.down(":focusable:not([isButton]):last")}l.editingPlugin.startEdit(m,k.column)}}}},destroyColumnEditor:function(g){var e;if(g.hasEditor()&&(e=g.getEditor())){e.destroy()}},getFloatingButtons:function(){var e=this,g=e.floatingButtons;if(!g){e.floatingButtons=g=new Ext.grid.RowEditorButtons({ownerCmp:e,rowEditor:e})}return g},repositionIfVisible:function(c){var h=this,i=h.view;if(c&&(c===h||!c.el.isAncestor(i.el))){return}if(h.isVisible()&&i.isVisible(true)){h.reposition()}},isLayoutChild:function(d){return false},getRefOwner:function(){return this.editingPlugin.grid},getRefItems:function(h){var g=this,i;if(g.lockable){i=[g.lockedColumnContainer];i.push.apply(i,g.lockedColumnContainer.getRefItems(h));i.push(g.normalColumnContainer);i.push.apply(i,g.normalColumnContainer.getRefItems(h))}else{i=Ext.form.Panel.prototype.getRefItems.apply(this,arguments)}i.push.apply(i,g.getFloatingButtons().getRefItems(h));return i},reposition:function(q,t){var s=this,w=s.context,n=w&&w.row,p=s.wrapEl,x,v,u,r;if(n&&Ext.isElement(n)){u=s.syncButtonPosition(s.getScrollDelta());x=s.calculateLocalRowTop(n);v=s.calculateEditorTop(x);if(!t){r=function(){if(u){s.scrollingViewEl.scrollBy(0,u,true)}s.focusColumnField(w.column)}}s.syncEditorClip();if(q){p.animate(Ext.applyIf({to:{top:v},duration:q.duration||125,callback:r},q))}else{p.setLocalY(v);if(r){r()}}}},getScrollDelta:function(){var i=this,j=i.scrollingViewEl.dom,k=i.context,l=i.body,m=0;if(k){m=Ext.fly(k.row).getOffsetsTo(j)[1];if(m<0){m-=l.getBorderPadding().beforeY}else{if(m>0){m=Math.max(m+i.getHeight()+i.floatingButtons.getHeight()-j.clientHeight-l.getBorderWidth("b"),0);if(m>0){m-=l.getBorderPadding().afterY}}}}return m},calculateLocalRowTop:function(e){var g=this.editingPlugin.grid;return Ext.fly(e).getOffsetsTo(g)[1]-g.el.getBorderWidth("t")+this.lastScrollTop},calculateEditorTop:function(d){return d-this.body.getBorderPadding().beforeY-this.lastScrollTop},getClientWidth:function(){var g=this,h=g.editingPlugin.grid,i;if(g.lockable){i=h.lockedGrid.getWidth()+h.normalGrid.view.el.dom.clientWidth}else{i=h.view.el.dom.clientWidth}return i},getEditor:function(g){var e=this;if(Ext.isNumber(g)){return e.query("[isEditorComponent]")[g]}else{if(g.isHeader&&!g.isGroupHeader){return g.getEditor()}}},addFieldsForColumn:function(m,p){var k=this,n,l,i;if(Ext.isArray(m)){for(n=0,l=m.length;n<l;n++){k.addFieldsForColumn(m[n],p)}return}if(m.getEditor){i=m.getEditor(null,k.getDefaultFieldCfg());if(m.align==="right"){i.fieldStyle="text-align:right"}if(m.xtype==="actioncolumn"){i.fieldCls+=" x-form-action-col-field"}if(k.isVisible()&&k.context){if(i.is("displayfield")){k.renderColumnData(i,k.context.record,m)}else{i.suspendEvents();i.setValue(k.context.record.get(m.dataIndex));i.resumeEvents()}}if(m.hidden){k.onColumnHide(m)}else{if(m.rendered&&!p){k.onColumnShow(m)}}}},getDefaultFieldCfg:function(){return{xtype:"displayfield",getModelData:function(){return null}}},loadRecord:function(u){var q=this,x=q.getForm(),t=x.getFields(),r=t.items,w=r.length,v,s,i,p;for(v=0;v<w;v++){p=r[v];p.suspendEvents();p.resetToInitialValue()}x.loadRecord(u);for(v=0;v<w;v++){r[v].resumeEvents()}if(x.hasInvalidField()===x.wasValid){delete x.wasValid}i=x.isValid();if(q.errorSummary){if(i){q.hideToolTip()}else{q.showToolTip()}}q.updateButton(i);s=q.query(">displayfield");w=s.length;for(v=0;v<w;v++){q.renderColumnData(s[v],u)}},renderColumnData:function(v,z,E){var x=this,G=x.editingPlugin.grid,C=G.headerCt,w=x.scrollingView,t=w.dataSource,B=E||v.column,u=z.get(B.dataIndex),y=B.editRenderer||B.renderer,F,D,A,H=(B.usingDefaultRenderer&&!B.scope)?B:B.scope;if(y){F={tdCls:"",style:""};D=t.indexOf(z);A=C.getHeaderIndex(B);u=y.call(H||C.ownerCt,u,F,z,D,A,t,w)}v.setRawValue(u)},beforeEdit:function(){var g=this,e;if(g.isVisible()&&g.errorSummary&&!g.autoCancel&&g.isDirty()){e=g.getScrollDelta();if(e){g.scrollingViewEl.scrollBy(0,e,true)}g.showToolTip();return false}},startEdit:function(s,l){var m=this,r=m.editingPlugin,p=r.grid,q=m.context=r.context,n=m.isVisible(),t=m.wrapEl;if(m._cachedNode){m.clearCache()}Ext.suspendLayouts();if(!m.rendered){m.width=m.getClientWidth();m.render(p.el,p.el.dom.firstChild);t=m.wrapEl=m.el.wrap();t.setVisibilityMode(3);t.addCls(m._wrapCls);m.getFloatingButtons().render(t);m.onViewScroll()}m.setLocalY(0);q.grid.getSelectionModel().selectByPosition({row:s,column:l});m.onGridResize();m.loadRecord(s);Ext.resumeLayouts(n);if(n){m.reposition(true)}else{m.skipFocusScroll=true;m.show()}},syncButtonPosition:function(k){var l=this,m=l.getFloatingButtons(),i=l.scrollingView,j=l.getScrollDelta()-(i.getScrollable().getSize().y-i.getScrollY()-l.scrollingViewEl.dom.clientHeight);if(j>0){if(!l._buttonsOnTop){m.setButtonPosition("top");l._buttonsOnTop=true}k=0}else{if(l._buttonsOnTop!==false){m.setButtonPosition("bottom");l._buttonsOnTop=false}else{m.setButtonPosition(m.position)}}return k},syncEditorClip:function(){var n=this,u=n.getScrollDelta(),v=n.el,r=n.floatingButtons,s=r.el,m=Math.max,q,t,p;if(u){n.isOverflowing=true;q=n.body;t=r.getHeight();p=n.getHeight();m=Math.max;if(u>0){if(n._buttonsOnTop){u-=(t-q.getBorderWidth("b"));n.clipBottom(v,m(p-u),0);u-=(p-q.getBorderWidth("t"));if(u>0){n.clipBottom(s,m(t-u,0))}else{n.clearClip(s)}}else{n.clipBottom(s,m(t-u,0));u-=(t-q.getBorderWidth("b"));if(u>0){n.clipBottom(v,m(p-u,0))}else{n.clearClip(v)}}}else{if(u<0){u=Math.abs(u);n.clipTop(v,u);u-=(p-q.getBorderWidth("b"));if(u>0){n.clipTop(s,u)}else{n.clearClip(s)}}}}else{if(n.isOverflowing){n.clearClip(s);n.clearClip(v);n.isOverflowing=false}}},focusColumnField:function(h){var g,i;if(h&&!h.destroyed){if(h.isVisible()){g=this.getEditor(h);if(g&&g.isFocusable(true)){i=true;g.focus()}}if(!i){this.focusColumnField(h.next())}}},cancelEdit:function(){var i=this,k=i.getForm(),p=k.getFields(),n=p.items,l=n.length,m;if(i._cachedNode){i.clearCache()}i.hide();k.clearInvalid();for(m=0;m<l;m++){n[m].suspendEvents()}k.reset();for(m=0;m<l;m++){n[m].resumeEvents()}},clearCache:function(){var d=this;d.mun(d.editingPlugin.view,{itemadd:d.onViewItemAdd,scope:d});d._cachedNode=false},completeEdit:function(){var e=this,g=e.getForm();if(!g.isValid()){return false}e.completing=true;g.updateRecord(e.context.record);e.hide();e.completing=false;return true},onShow:function(){var d=this;d.wrapEl.show();Ext.form.Panel.prototype.onShow.apply(this,arguments);if(d.needsSyncFieldWidths){d.suspendLayouts();d.syncAllFieldWidths();d.resumeLayouts(true)}delete d.needsSyncFieldWidths;d.reposition()},onHide:function(){var j=this,l=j.context,k,m,i=Ext.Element.getActiveElement();if(j.el.contains(i)){k=j.activeField.column}else{k=l.column}m=new Ext.grid.CellContext(k.getView()).setPosition(j.context.record,k);m.view.getNavigationModel().setPosition(m);j.activeField=null;j.wrapEl.hide();Ext.form.Panel.prototype.onHide.apply(this,arguments);if(j.tooltip){j.hideToolTip()}},onResize:function(e,g){this.wrapEl.setSize(e,g)},isDirty:function(){return this.getForm().isDirty()},getToolTip:function(){var h=this,g=h.tooltip,i=h.editingPlugin.grid;if(!g){h.tooltip=g=new Ext.tip.ToolTip({cls:"x-grid-row-editor-errors",title:h.errorsText,autoHide:false,closable:true,closeAction:"disable",anchor:"left",anchorToTarget:true,constrainPosition:true,constrainTo:document.body});i.add(g);h.mon(i,{afterlayout:h.onGridLayout,scope:h})}return g},hideToolTip:function(){var g=this,e=g.getToolTip();if(e.rendered){e.disable()}g.hiddenTip=false},showToolTip:function(){var g=this,e=g.getToolTip();e.update(g.getErrors());g.repositionTip();e.enable()},onGridLayout:function(){if(this.tooltip&&this.tooltip.isVisible()){this.repositionTip()}},repositionTip:function(){var s=this,r=s.getToolTip(),x=s.context,p=Ext.get(x.row),q=s.scrollingViewEl,v=q.dom.clientHeight,u=q.getY(),t=u+v,y=p.getHeight(),z=p.getY(),w=z+y;if(w>u&&z<t){r.anchorTarget=q;r.mouseOffset=[0,p.getOffsetsTo(q)[1]];r.show();s.hiddenTip=false}else{r.hide();s.hiddenTip=true}},getErrors:function(){var m=this,i=[],q=m.query(">[isFormField]"),n=q.length,p,r,l;for(p=0;p<n;p++){l=q[p];r=l.getErrors();if(r.length){i.push(m.createErrorListItem(r[0],l.column.text))}}if(!i.length&&!m.autoCancel&&m.isDirty()){i[0]=m.createErrorListItem(m.dirtyText)}return'<ul class="x-list-plain">'+i.join("")+"</ul>"},createErrorListItem:function(e,g){e=g?g+": "+e:e;return'<li class="'+this.errorCls+'">'+e+"</li>"},beforeDestroy:function(){Ext.destroy(this.floatingButtons,this.tooltip);Ext.form.Panel.prototype.beforeDestroy.call(this)},clipBottom:function(g,e){g.setStyle("clip","rect(0 auto "+e+"px 0)")},clipTop:function(g,e){g.setStyle("clip","rect("+e+"px, auto, auto, 0)")},clearClip:function(d){d.setStyle("clip",Ext.isIE8?"rect(-1000px auto 1000px auto)":"auto")}},0,["roweditor"],["component","box","container","panel","form","roweditor"],{component:true,box:true,container:true,panel:true,form:true,roweditor:true},["widget.roweditor"],0,[Ext.grid,"RowEditor"],0));Ext.define("Ext.theme.neptune.grid.RowEditor",{override:"Ext.grid.RowEditor",buttonUI:"default-toolbar"});(Ext.cmd.derive("Ext.view.DropZone",Ext.dd.DropZone,{indicatorCls:"x-grid-drop-indicator",indicatorHtml:['<div class="',"x-",'grid-drop-indicator-left" role="presentation"></div>','<div class="x-grid-drop-indicator-right" role="presentation"></div>'].join(""),constructor:function(g){var e=this;Ext.apply(e,g);if(!e.ddGroup){e.ddGroup="view-dd-zone-"+e.view.id}Ext.dd.DropZone.prototype.constructor.call(this,e.view.el)},fireViewEvent:function(){var e=this,g;e.lock();g=e.view.fireEvent.apply(e.view,arguments);e.unlock();return g},getTargetFromEvent:function(e){var i=e.getTarget(this.view.getItemSelector()),q,r,s,p,t,n;if(!i){q=e.getY();for(p=0,r=this.view.getNodes(),t=r.length;p<t;p++){s=r[p];n=Ext.fly(s).getBox();if(q<=n.bottom){return s}}}return i},getIndicator:function(){var d=this;if(!d.indicator){d.indicator=new Ext.Component({ariaRole:"presentation",html:d.indicatorHtml,cls:d.indicatorCls,ownerCt:d.view,floating:true,shadow:false})}return d.indicator},getPosition:function(k,m){var e=k.getXY()[1],l=Ext.fly(m).getRegion(),j;if((l.bottom-e)>=(l.bottom-l.top)/2){j="before"}else{j="after"}return j},containsRecordAtOffset:function(n,q,l){if(!q){return false}var r=this.view,p=r.indexOf(q),m=r.getNode(p+l),k=m?r.getRecord(m):null;return k&&Ext.Array.contains(n,k)},positionIndicator:function(u,t,s){var r=this,p=r.view,q=r.getPosition(s,u),e=p.getRecord(u),v=t.records,n;if(!Ext.Array.contains(v,e)&&(q==="before"&&!r.containsRecordAtOffset(v,e,-1)||q==="after"&&!r.containsRecordAtOffset(v,e,1))){r.valid=true;if(r.overRecord!==e||r.currentPosition!==q){n=Ext.fly(u).getY()-p.el.getY()-1;if(q==="after"){n+=Ext.fly(u).getHeight()}if(p.touchScroll===2){n+=p.getScrollY()}r.getIndicator().setWidth(Ext.fly(p.el).getWidth()).showAt(0,n);r.overRecord=e;r.currentPosition=q}}else{r.invalidateDrop()}},invalidateDrop:function(){if(this.valid){this.valid=false;this.getIndicator().hide()}},onNodeOver:function(k,m,e,j){var l=this;if(!Ext.Array.contains(j.records,l.view.getRecord(k))){l.positionIndicator(k,j,e)}return l.valid?l.dropAllowed:l.dropNotAllowed},notifyOut:function(k,m,e,j){var l=this;Ext.dd.DropZone.prototype.notifyOut.apply(this,arguments);l.overRecord=l.currentPosition=null;l.valid=false;if(l.indicator){l.indicator.hide()}},onContainerOver:function(p,e,k){var l=this,n=l.view,m=n.dataSource.getCount();if(m){l.positionIndicator(n.all.last(),k,e)}else{l.overRecord=l.currentPosition=null;l.getIndicator().setWidth(Ext.fly(n.el).getWidth()).showAt(0,0);l.valid=true}return l.dropAllowed},onContainerDrop:function(i,e,h){return this.onNodeDrop(i,null,e,h)},onNodeDrop:function(m,t,n,p){var q=this,r=false,s={wait:false,processDrop:function(){q.invalidateDrop();q.handleNodeDrop(p,q.overRecord,q.currentPosition);r=true;q.fireViewEvent("drop",m,p,q.overRecord,q.currentPosition)},cancelDrop:function(){q.invalidateDrop();r=true}},e=false;if(q.valid){e=q.fireViewEvent("beforedrop",m,p,q.overRecord,q.currentPosition,s);if(s.wait){return}if(e!==false){if(!r){s.processDrop()}}}return e},destroy:function(){this.indicator=Ext.destroy(this.indicator);Ext.dd.DropZone.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.view,"DropZone"],0));(Ext.cmd.derive("Ext.grid.ViewDropZone",Ext.view.DropZone,{indicatorHtml:'<div class="x-grid-drop-indicator-left" role="presentation"></div><div class="x-grid-drop-indicator-right" role="presentation"></div>',indicatorCls:"x-grid-drop-indicator",handleNodeDrop:function(u,s,r){var n=this.view,i=n.getStore(),p,v,t,q;if(u.copy){v=u.records;u.records=[];for(t=0,q=v.length;t<q;t++){u.records.push(v[t].copy())}}else{u.view.store.remove(u.records,u.view===n)}if(s&&r){p=i.indexOf(s);if(r!=="before"){p++}i.insert(p,u.records)}else{i.add(u.records)}n.getSelectionModel().select(u.records);n.getNavigationModel().setPosition(u.records[0])}},0,0,0,0,0,0,[Ext.grid,"ViewDropZone"],0));(Ext.cmd.derive("Ext.grid.plugin.HeaderResizer",Ext.plugin.Abstract,{disabled:false,config:{dynamic:false},colHeaderCls:"x-column-header",minColWidth:40,maxColWidth:1000,eResizeCursor:"col-resize",init:function(e){var g=this;g.headerCt=e;e.on("render",g.afterHeaderRender,g,{single:g});if(!g.minColWidth){g.self.prototype.minColWidth=Ext.grid.column.Column.prototype.minWidth}},destroy:function(){var e=this,g=e.tracker;if(g){g.destroy();e.tracker=null}e.headerCt.un("render",e.afterHeaderRender,e);e.headerCt=null;Ext.plugin.Abstract.prototype.destroy.call(this)},afterHeaderRender:function(){var h=this,g=h.headerCt,i=g.el;g.mon(i,"mousemove",h.onHeaderCtMouseMove,h);h.markerOwner=h.ownerGrid=h.headerCt.up("tablepanel").ownerGrid;h.tracker=new Ext.dd.DragTracker({disabled:h.disabled,onBeforeStart:h.onBeforeStart.bind(h),onStart:h.onStart.bind(h),onDrag:h.onDrag.bind(h),onEnd:h.onEnd.bind(h),tolerance:3,autoStart:300,el:i})},onHeaderCtMouseMove:function(e){var g=this;if(g.headerCt.dragging||g.disabled){if(g.activeHd){g.activeHd.el.dom.style.cursor="";delete g.activeHd}}else{if(e.pointerType!=="touch"){g.findActiveHeader(e)}}},findActiveHeader:function(t){var s=this,v=s.headerCt,q=t.getTarget("."+s.colHeaderCls,v.el,true),p=s.ownerGrid,x=p.ownerLockable,e,r,w,u;s.activeHd=null;if(q){e=Ext.getCmp(q.id);if(e.isAtEndEdge(t)){if(v.visibleColumnManager.getColumns().length===1&&v.forceFit){return}r=e}else{if(e.isAtStartEdge(t)){w=v.visibleColumnManager.getColumns();u=e.isGroupHeader?e.getGridColumns()[0]:e;r=w[Ext.Array.indexOf(w,u)-1];if(!r&&x&&!p.isLocked){w=x.lockedGrid.headerCt.visibleColumnManager.getColumns();r=w[w.length-1]}}}if(r){if(r.isGroupHeader){w=r.getGridColumns();r=w[w.length-1]}if(r&&!(r.fixed||(r.resizable===false))){s.activeHd=r;e.el.dom.style.cursor=s.eResizeCursor;if(e.triggerEl){e.triggerEl.dom.style.cursor=s.eResizeCursor}}}else{e.el.dom.style.cursor="";if(e.triggerEl){e.triggerEl.dom.style.cursor=""}}}return s.activeHd},onBeforeStart:function(e){var g=this;g.dragHd=g.activeHd||e.pointerType==="touch"&&g.findActiveHeader(e);if(g.dragHd&&!g.headerCt.dragging){g.xDelta=g.dragHd.getX()+g.dragHd.getWidth()-g.tracker.getXY()[0];g.tracker.constrainTo=g.getConstrainRegion();return true}else{g.headerCt.dragging=false;return false}},getConstrainRegion:function(){var l=this,q=l.dragHd.el,m,k=l.ownerGrid,n=k.getSizeModel().width,p=n.shrinkWrap?l.headerCt.getWidth()-l.headerCt.visibleColumnManager.getColumns().length*l.minColWidth:l.maxColWidth,r;if(l.headerCt.forceFit){m=l.dragHd.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(m&&l.headerInSameGrid(m)){p=q.getWidth()+(m.getWidth()-l.minColWidth)}}else{if(k.isLocked&&n.shrinkWrap){p=l.dragHd.up("[scrollerOwner]").getTargetEl().getWidth(true)-k.getWidth()-(k.ownerLockable.normalGrid.visibleColumnManager.getColumns().length*l.minColWidth+Ext.getScrollbarSize().width)}}r=l.adjustConstrainRegion(q.getRegion(),0,0,0,l.minColWidth);r.right=q.getX()+p;return r},onStart:function(u){var t=this,v=t.dragHd,y=v.el.getWidth(),w=v.getRootHeaderCt(),q,r,x,z,s,e;t.headerCt.dragging=true;t.origWidth=y;if(!t.dynamic){x=t.markerOwner;if(x.frame&&x.resizable){t.gridOverflowSetting=x.el.dom.style.overflow;x.el.dom.style.overflow="hidden"}q=t.getLeftMarkerX(x);z=x.getLhsMarker();s=x.getRhsMarker();e=t.ownerGrid.body.getHeight()+w.getHeight();r=w.getOffsetsTo(x)[1]-x.el.getBorderWidth("t");z.dom.style.cursor=t.eResizeCursor;s.dom.style.cursor=t.eResizeCursor;z.setLocalY(r);s.setLocalY(r);z.setHeight(e);s.setHeight(e);t.setMarkerX(z,q);t.setMarkerX(s,q+y)}},onDrag:function(e){var g=this;if(g.dynamic){g.doResize()}else{g.setMarkerX(g.getMovingMarker(g.markerOwner),g.calculateDragX(g.markerOwner))}},getMovingMarker:function(d){return d.getRhsMarker()},onEnd:function(h){var i=this,e=i.markerOwner;i.headerCt.dragging=false;if(i.dragHd){if(!i.dynamic){if("gridOverflowSetting" in i){e.el.dom.style.overflow=i.gridOverflowSetting}i.setMarkerX(e.getLhsMarker(),-9999);i.setMarkerX(e.getRhsMarker(),-9999)}i.doResize();if(h.pointerType!=="touch"){i.dragHd=null;i.activeHd.el.dom.style.cursor=i.eResizeCursor}else{i.dragHd=i.activeHd=null}}i.headerCt.blockNextEvent()},doResize:function(){var i=this,j=i.dragHd,k,h=i.tracker.getOffset("point");if(j&&h[0]){if(j.flex){delete j.flex}Ext.suspendLayouts();i.adjustColumnWidth(h[0]-i.xDelta);if(i.headerCt.forceFit){k=j.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(k&&!i.headerInSameGrid(k)){k=null}if(k){delete k.flex;k.setWidth(k.getWidth()-h[0])}}Ext.resumeLayouts(true)}},headerInSameGrid:function(e){var g=this.dragHd.up("tablepanel");return !!e.up(g)},disable:function(){var d=this.tracker;this.disabled=true;if(d){d.disable()}},enable:function(){var d=this.tracker;this.disabled=false;if(d){d.enable()}},calculateDragX:function(d){return this.tracker.getXY("point")[0]+this.xDelta-d.getX()-d.el.getBorderWidth("l")},getLeftMarkerX:function(d){return this.dragHd.getX()-d.getX()-d.el.getBorderWidth("l")-1},setMarkerX:function(e,g){e.setLocalX(g)},adjustConstrainRegion:function(i,k,j,m,l){return i.adjust(k,j,m,l)},adjustColumnWidth:function(d){this.dragHd.setWidth(this.origWidth+d)}},0,0,0,0,["plugin.gridheaderresizer"],0,[Ext.grid.plugin,"HeaderResizer"],0));(Ext.cmd.derive("Ext.grid.header.DragZone",Ext.dd.DragZone,{colHeaderSelector:".x-column-header",colInnerSelector:".x-column-header-inner",maxProxyWidth:120,constructor:function(e){var g=this;g.headerCt=e;g.ddGroup=g.getDDGroup();g.autoGroup=true;Ext.dd.DragZone.prototype.constructor.call(this,e.el);g.proxy.el.addCls("x-grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(j){if(j.getTarget(this.colInnerSelector)){var e=j.getTarget(this.colHeaderSelector),k,i;if(e){k=Ext.getCmp(e.id);if(!this.headerCt.dragging&&k.draggable&&!(k.isAtStartEdge(j)||k.isAtEndEdge(j))){i=document.createElement("div");i.role="presentation";i.innerHTML=k.text;return{ddel:i,header:k}}}}return false},onBeforeDrag:function(){return !(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=true;this.headerCt.hideMenu();Ext.dd.DragZone.prototype.onInitDrag.apply(this,arguments)},onDragDrop:function(){this.headerCt.dragging=false;Ext.dd.DragZone.prototype.onDragDrop.apply(this,arguments)},afterRepair:function(){Ext.dd.DragZone.prototype.afterRepair.call(this);this.headerCt.dragging=false},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=true},enable:function(){this.disabled=false}},1,0,0,0,0,0,[Ext.grid.header,"DragZone"],0));(Ext.cmd.derive("Ext.grid.header.DropZone",Ext.dd.DropZone,{colHeaderCls:"x-column-header",proxyOffsets:[-4,-9],constructor:function(e){var g=this;g.headerCt=e;g.ddGroup=g.getDDGroup();g.autoGroup=true;Ext.dd.DropZone.prototype.constructor.call(this,e.el)},destroy:function(){Ext.dd.DropZone.prototype.destroy.call(this);Ext.destroy(this.topIndicator,this.bottomIndicator)},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(d){return d.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){if(!this.topIndicator){this.topIndicator=Ext.getBody().createChild({role:"presentation",cls:"x-col-move-top",html:"&#160;"});this.indicatorXOffset=Math.floor((this.topIndicator.dom.offsetWidth+1)/2)}return this.topIndicator},getBottomIndicator:function(){if(!this.bottomIndicator){this.bottomIndicator=Ext.getBody().createChild({role:"presentation",cls:"x-col-move-bottom",html:"&#160;"})}return this.bottomIndicator},getLocation:function(j,l){var m=j.getXY()[0],k=Ext.fly(l).getRegion(),e;if((k.right-m)<=(k.right-k.left)/2){e="after"}else{e="before"}return{pos:e,header:Ext.getCmp(l.id),node:l}},positionIndicator:function(K,I,i){var L=this,H=K.header,T=L.getLocation(i,I),Q=T.header,U=T.pos,V,D,O,F,E,X,W,P,M,N,e,J,R,G,S;if(Q===L.lastTargetHeader&&U===L.lastDropPos){return}V=H.nextSibling("gridcolumn:not([hidden])");D=H.previousSibling("gridcolumn:not([hidden])");L.lastTargetHeader=Q;L.lastDropPos=U;if(!Q.draggable&&U==="before"&&Q.getIndex()===0){return false}K.dropLocation=T;if((H!==Q)&&((U==="before"&&V!==Q)||(U==="after"&&D!==Q))&&!Q.isDescendantOf(H)){J=Ext.dd.DragDropManager.getRelated(L);R=J.length;G=0;for(;G<R;G++){S=J[G];if(S!==L&&S.invalidateDrop){S.invalidateDrop()}}L.valid=true;O=L.getTopIndicator();F=L.getBottomIndicator();if(U==="before"){E="bc-tl";X="tc-bl"}else{E="bc-tr";X="tc-br"}W=O.getAlignToXY(Q.el,E);P=F.getAlignToXY(Q.el,X);M=L.headerCt.el;N=M.getX()-L.indicatorXOffset;e=M.getX()+M.getWidth();W[0]=Ext.Number.constrain(W[0],N,e);P[0]=Ext.Number.constrain(P[0],N,e);O.setXY(W);F.setXY(P);O.show();F.show()}else{L.invalidateDrop()}},invalidateDrop:function(){this.valid=false;this.hideIndicators()},onNodeOver:function(v,s,t,u){var r=this,p=u.header,x,e,w,q;if(u.header.el.dom===v){x=false}else{u.isLock=u.isUnlock=u.crossPanel=false;e=r.getLocation(t,v).header;x=(p.ownerCt===e.ownerCt);if(!x&&(!p.ownerCt.sealed&&!e.ownerCt.sealed)){x=true;w=p.up("tablepanel");q=e.up("tablepanel");if(w!==q){u.crossPanel=true;u.isLock=q.isLocked&&!w.isLocked;u.isUnlock=!q.isLocked&&w.isLocked;if((u.isUnlock&&p.lockable===false)||(u.isLock&&!p.isLockable())){x=false}}}}if(x){r.positionIndicator(u,v,t)}else{r.valid=false}return r.valid?r.dropAllowed:r.dropNotAllowed},hideIndicators:function(){var d=this;d.getTopIndicator().hide();d.getBottomIndicator().hide();d.lastTargetHeader=d.lastDropPos=null},onNodeOut:function(){this.hideIndicators()},getNestedHeader:function(h,j){var k=h.items,i;if(h.isGroupHeader&&k.length){i=!j?"first":"last";h=this.getNestedHeader(k[i](),j)}return h},onNodeDrop:function(F,N,B,e){this.headerCt.blockNextEvent();if(!this.valid){return}var A=this,E=e.header,J=e.dropLocation,C=J.pos,I=J.header,y=E.ownerCt,G=y.getRootHeaderCt(),P=I.ownerCt,M=A.headerCt.visibleColumnManager,D=M.getHeaderIndex(E),O,H,z,K,L;if(e.isLock||e.isUnlock){K=y.up("[scrollerOwner]");O=P.items.indexOf(I);if(C==="after"){O++}if(e.isLock){K.lock(E,O,P)}else{K.unlock(E,O,P)}}else{O=C==="after"?M.getHeaderIndex(A.getNestedHeader(I,1))+1:M.getHeaderIndex(A.getNestedHeader(I,0));A.invalidateDrop();L=E.getWidth();Ext.suspendLayouts();y.isDDMoveInGrid=P.isDDMoveInGrid=!e.crossPanel;if(E.isGroupHeader&&I.isGroupHeader){E.setNestedParent(I)}if(C==="before"){I.insertNestedHeader(E)}else{z="move"+C.charAt(0).toUpperCase()+C.substr(1);P[z](E,I)}if(O>=0&&!(I.isGroupHeader&&(!I.items||!I.items.length))&&D!==O){H=E.isGroupHeader?E.query(":not([hidden]):not([isGroupHeader])").length:1;if((D<=O)&&H>1){O-=H}P.getRootHeaderCt().grid.view.moveColumn(D,O,H)}G.fireEvent("columnmove",y,E,D,O);y.isDDMoveInGrid=P.isDDMoveInGrid=false;if(P.isGroupHeader&&!y.isGroupHeader){if(y!==P){E.savedFlex=E.flex;delete E.flex;E.width=L}}else{if(!y.isGroupHeader){if(E.savedFlex){E.flex=E.savedFlex;delete E.width}}}Ext.resumeLayouts(true)}}},1,0,0,0,0,0,[Ext.grid.header,"DropZone"],0));(Ext.cmd.derive("Ext.grid.plugin.HeaderReorderer",Ext.plugin.Abstract,{init:function(d){this.headerCt=d;d.on({boxready:this.onHeaderCtRender,single:true,scope:this})},destroy:function(){var d=this;d.headerCt.un("boxready",d.onHeaderCtRender,d);Ext.destroy(d.dragZone,d.dropZone);d.headerCt=d.dragZone=d.dropZone=null;Ext.plugin.Abstract.prototype.destroy.call(this)},onHeaderCtRender:function(){var d=this;d.dragZone=new Ext.grid.header.DragZone(d.headerCt);d.dropZone=new Ext.grid.header.DropZone(d.headerCt);if(d.disabled){d.dragZone.disable()}},enable:function(){this.disabled=false;if(this.dragZone){this.dragZone.enable()}},disable:function(){this.disabled=true;if(this.dragZone){this.dragZone.disable()}}},0,0,0,0,["plugin.gridheaderreorderer"],0,[Ext.grid.plugin,"HeaderReorderer"],0));(Ext.cmd.derive("Ext.grid.header.Container",Ext.container.Container,{border:true,baseCls:"x-grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",detachOnRemove:false,defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",headerOpenCls:"x-column-header-open",menuSortAscCls:"x-hmenu-sort-asc",menuSortDescCls:"x-hmenu-sort-desc",menuColsIcon:"x-cols-icon",blockEvents:false,dragging:false,sortOnClick:true,enableFocusableContainer:false,childHideCount:0,sortable:true,enableColumnHide:true,initComponent:function(){var d=this;d.plugins=d.plugins||[];d.defaults=d.defaults||{};if(!d.isColumn){if(d.enableColumnResize){d.resizer=new Ext.grid.plugin.HeaderResizer();d.plugins.push(d.resizer)}if(d.enableColumnMove){d.reorderer=new Ext.grid.plugin.HeaderReorderer();d.plugins.push(d.reorderer)}}if(d.isColumn&&!d.isGroupHeader){if(!d.items||d.items.length===0){d.isContainer=d.isFocusableContainer=false;d.focusable=true;d.layout={type:"container",calculate:Ext.emptyFn}}}else{d.layout=Ext.apply({type:"gridcolumn",align:"stretch"},d.initialConfig.layout);d.defaults.columnLines=d.columnLines;if(!d.isGroupHeader){d.isRootHeader=true;if(!d.hiddenHeaders){d.enableFocusableContainer=true;d.ariaRole="rowgroup"}d.columnManager=new Ext.grid.ColumnManager(false,d);d.visibleColumnManager=new Ext.grid.ColumnManager(true,d);if(d.grid){d.grid.columnManager=d.columnManager;d.grid.visibleColumnManager=d.visibleColumnManager}}else{d.visibleColumnManager=new Ext.grid.ColumnManager(true,d);d.columnManager=new Ext.grid.ColumnManager(false,d)}}d.menuTask=new Ext.util.DelayedTask(d.updateMenuDisabledState,d);Ext.container.Container.prototype.initComponent.call(this)},insertNestedHeader:function(j){var n=this,k=j.ownerCt,p=n.ownerCt,l=p.layout.owner,m;if(k){if(n.isGroupHeader&&!p.isNestedParent){m=l.items.indexOf(n)}k.remove(j,false)}if(m===undefined){m=l.items.indexOf(n)}l.insert(m,j)},isNested:function(){return !!this.getRootHeaderCt().down("[isNestedParent]")},isNestedGroupHeader:function(){var e=this,g=e.getRefOwner().query(">:not([hidden])");return(g.length===1&&g[0]===e)},maybeShowNestedGroupHeader:function(){var g=this.items,e;if(g&&g.length===1&&(e=g.getAt(0))&&e.hidden){e.show()}},setNestedParent:function(d){d.isNestedParent=false;d.ownerCt.isNestedParent=!!(this.ownerCt.items.length===1&&d.ownerCt.items.length===1)},initEvents:function(){var g=this,i,h;Ext.container.Container.prototype.initEvents.call(this);if(!g.isColumn&&!g.isGroupHeader){i=g.onHeaderCtEvent;h={click:i,dblclick:i,contextmenu:i,mouseover:g.onHeaderCtMouseOver,mouseout:g.onHeaderCtMouseOut,scope:g};if(Ext.supports.Touch){h.longpress=g.onHeaderCtLongPress}g.mon(g.el,h)}},onHeaderCtEvent:function(n,q){var p=this,e=p.getHeaderElByEvent(n),l,m,r;if(p.longPressFired){p.longPressFired=false;return}if(e&&!p.blockEvents){l=Ext.getCmp(e.id);if(l){m=l[l.clickTargetName];if((!l.isGroupHeader&&!l.isContainer)||n.within(m)){if(n.type==="click"||n.type==="tap"){r=l.onTitleElClick(n,m,p.sortOnClick);if(r){p.onHeaderTriggerClick(r,n,n.pointerType==="touch"?r.el:r.triggerEl)}else{p.onHeaderClick(l,n,q)}}else{if(n.type==="contextmenu"){p.onHeaderContextMenu(l,n,q)}else{if(n.type==="dblclick"&&l.resizable){l.onTitleElDblClick(n,m.dom)}}}}}}},blockNextEvent:function(){this.blockEvents=true;Ext.asap(this.unblockEvents,this)},unblockEvents:function(){this.blockEvents=false},onHeaderCtMouseOver:function(l,m){var e,j,k;if(!l.within(this.el,true)){e=l.getTarget("."+Ext.grid.column.Column.prototype.baseCls);j=e&&Ext.getCmp(e.id);if(j){k=j[j.clickTargetName];if(l.within(k)){j.onTitleMouseOver(l,k.dom)}}}},onHeaderCtMouseOut:function(m,p){var n="."+Ext.grid.column.Column.prototype.baseCls,q=m.getTarget(n),r=m.getRelatedTarget(n),e,l;if(q!==r){if(q){e=Ext.getCmp(q.id);if(e){l=e[e.clickTargetName];e.onTitleMouseOut(m,l.dom)}}if(r){e=Ext.getCmp(r.id);if(e){l=e[e.clickTargetName];e.onTitleMouseOver(m,l.dom)}}}},onHeaderCtLongPress:function(j){var k=this,e=k.getHeaderElByEvent(j),i=Ext.getCmp(e.id);if(!i.menuDisabled){k.longPressFired=true;k.showMenuBy(j,e,i)}},getHeaderElByEvent:function(d){return d.getTarget("."+Ext.grid.column.Column.prototype.baseCls)},isLayoutRoot:function(){if(this.hiddenHeaders){return false}return Ext.container.Container.prototype.isLayoutRoot.call(this)},getRootHeaderCt:function(){var d=this;return d.isRootHeader?d:d.up("[isRootHeader]")},onDestroy:function(){var d=this;if(d.menu){d.menu.un("hide",d.onMenuHide,d)}d.menuTask.cancel();Ext.container.Container.prototype.onDestroy.call(this);Ext.destroy(d.visibleColumnManager,d.columnManager,d.menu);d.columnManager=d.visibleColumnManager=null},applyColumnsState:function(y,B){if(!y||!y.length){return}var G=this,c=G.items.items,i=c.length,x=0,D=y.length,H,C,E,v,F=false,w=[],A={},z=[];for(H=0;H<D;H++){E=y[H];E.index=H;A[E.id]=E}for(x=0;x<i;x++){C=c[x];E=A[C.getStateId()];if(E){v=E.index;w[v]=C;if(x!==v){F=true}if(C.applyColumnState){C.applyColumnState(E,B)}}else{z.push({index:x,column:C})}}w=Ext.Array.clean(w);D=z.length;if(D){for(x=0;x<D;x++){E=z[x];v=E.index;if(v<w.length){F=true;Ext.Array.splice(w,v,0,E.column)}else{w.push(E.column)}}}if(F){G.applyingState=true;G.removeAll(false);delete G.applyingState;G.add(w);G.purgeCache()}},getColumnsState:function(){var h=this,i=[],g;h.items.each(function(c){g=c.getColumnState&&c.getColumnState();if(g){i.push(g)}});return i},onAdd:function(c){var g=this;Ext.container.Container.prototype.onAdd.apply(this,arguments);g.onHeadersChanged(c,g.isDDMoveInGrid)},move:function(k,i){var j=this,l=j.items,m;if(k.isComponent){m=k;k=l.indexOf(m)}else{m=l.getAt(k)}m.visibleFromIdx=j.getRootHeaderCt().visibleColumnManager.indexOf(m);Ext.container.Container.prototype.move.apply(this,arguments)},onMove:function(t,q,m){var n=this,p=n.getRootHeaderCt(),s=p.visibleColumnManager,l=1,r;n.onHeadersChanged(t,true);r=s.indexOf(t);if(r>=t.visibleFromIdx){r++}Ext.container.Container.prototype.onMove.apply(this,arguments);if(t.isGroupHeader){l=t.visibleColumnManager.getColumns().length}p.onHeaderMoved(t,l,t.visibleFromIdx,r)},maybeContinueRemove:function(){var d=this;return(d.isGroupHeader&&!d.applyingState)&&!d.isNestedParent&&d.ownerCt&&!d.items.getCount()},onRemove:function(c,k){var j=this,l=j.ownerCt,m=c.lastHiddenHeader;Ext.container.Container.prototype.onRemove.call(this,c,k);if(!j.destroying){if(!j.isDDMoveInGrid){j.onHeadersChanged(c,false)}if(j.maybeContinueRemove()){if(c.rendered){j.detachComponent(c)}Ext.suspendLayouts();l.remove(j);Ext.resumeLayouts(true)}}},onHeadersChanged:function(c,k){var j,i=this.getRootHeaderCt();this.purgeHeaderCtCache(this);if(i){i.onColumnsChanged();if(!c.isGroupHeader){j=i.ownerCt;if(j&&!k){j.onHeadersChanged(i,c)}}}},onHeaderMoved:function(j,p,m,k){var l=this,n=l.ownerCt;if(l.rendered){if(n&&n.onHeaderMove){n.onHeaderMove(l,j,p,m,k)}l.fireEvent("columnmove",l,j,m,k)}},onColumnsChanged:function(){var i=this,h=i.menu,k,j;if(i.rendered){i.fireEvent("columnschanged",i);if(h&&(k=h.child("#columnItemSeparator"))){j=h.child("#columnItem");k.destroy();j.destroy()}}},lookupComponent:function(e){var g=Ext.container.Container.prototype.lookupComponent.apply(this,arguments);if(!g.isGroupHeader&&g.width===undefined&&!g.flex){g.width=this.defaultWidth}return g},setSortState:function(){var n=this.up("[store]").store,l=this.visibleColumnManager.getColumns(),p=l.length,m,i,k;for(m=0;m<p;m++){i=l[m];k=i.getSorter();if(k){if(!n.getSorters().contains(k)){k=null}}else{k=n.getSorters().get(i.getSortParam())}i.setSortState(k)}},getHeaderMenu:function(){var e=this.getMenu(),g;if(e){g=e.child("#columnItem");if(g){return g.menu}}return null},onHeaderVisibilityChange:function(i,j){var l=this,k=l.getHeaderMenu(),m;l.purgeHeaderCtCache(i.ownerCt);if(k){m=l.getMenuItemForHeader(k,i);if(m){m.setChecked(j,true)}if(k.isVisible()){l.menuTask.delay(50)}}},updateMenuDisabledState:function(m){var n=this,q=n.query("gridcolumn:not([hidden])"),r,t=q.length,p,s,i;if(!m){m=n.getMenu()}for(r=0;r<t;++r){p=q[r];s=n.getMenuItemForHeader(m,p);if(s){i=p.isHideable()?"enable":"disable";if(s.menu){i+="CheckChange"}s[i]()}}},getMenuItemForHeader:function(g,e){return e?g.down("menucheckitem[headerId="+e.id+"]"):null},onHeaderShow:function(h){var i=this,j=i.ownerCt,k=h.lastHiddenHeader;if(!j){return}if(i.forceFit){delete i.flex}if(k&&!h.query("[hidden=false]").length){k.show();h.lastHiddenHeader=null}i.onHeaderVisibilityChange(h,true);j.onHeaderShow(i,h);i.fireEvent("columnshow",i,h);i.fireEvent("columnschanged",this)},onHeaderHide:function(g){var h=this,i=h.ownerCt;if(!i){return}h.onHeaderVisibilityChange(g,false);i.onHeaderHide(h,g);h.fireEvent("columnhide",h,g);h.fireEvent("columnschanged",this)},onHeaderResize:function(h,k){var i=this,j=i.ownerCt;if(j){j.onHeaderResize(i,h,k)}i.fireEvent("columnresize",i,h,k)},onHeaderClick:function(e,j,l){var k=this,m=e.getView().getSelectionModel();e.fireEvent("headerclick",k,e,j,l);if(k.fireEvent("headerclick",k,e,j,l)!==false){if(m.onHeaderClick){m.onHeaderClick(k,e,j)}}},onHeaderContextMenu:function(e,h,i){e.fireEvent("headercontextmenu",this,e,h,i);this.fireEvent("headercontextmenu",this,e,h,i)},onHeaderTriggerClick:function(e,i,k){var j=this;if(e.fireEvent("headertriggerclick",j,e,i,k)!==false&&j.fireEvent("headertriggerclick",j,e,i,k)!==false){if(e.activeMenu){if(i.pointerType){e.activeMenu.hide()}else{e.activeMenu.focus()}}else{j.showMenuBy(i,k,e)}}},showMenuBy:function(t,q,l){var n=this.getMenu(),m=n.down("#ascItem"),p=n.down("#descItem"),r,s=t&&t.pointerType==="touch";n.activeHeader=n.ownerCmp=l;l.setMenuActive(n);r=l.sortable?"enable":"disable";if(m){m[r]()}if(p){p[r]()}n.autoFocus=!t||t.keyCode;n.showBy(q,"tl-bl?");if(!n.isVisible()){this.onMenuHide(n)}},hideMenu:function(){if(this.menu){this.menu.hide()}},onMenuHide:function(d){d.activeHeader.setMenuActive(false)},purgeHeaderCtCache:function(d){while(d){d.purgeCache();if(d.isRootHeader){return}d=d.ownerCt}},purgeCache:function(){var g=this,h=g.visibleColumnManager,i=g.columnManager;g.gridVisibleColumns=g.gridDataColumns=g.hideableColumns=null;if(h){h.invalidate();i.invalidate()}},getMenu:function(){var e=this,g=e.view&&e.view.ownerGrid;if(!e.menu){e.menu=new Ext.menu.Menu({hideOnParentHide:false,items:e.getMenuItems(),listeners:{beforeshow:e.beforeMenuShow,hide:e.onMenuHide,scope:e}});e.fireEvent("menucreate",e,e.menu);if(g){g.fireEvent("headermenucreate",g,e.menu,e)}}return e.menu},beforeMenuShow:function(i){var k=this,l=i.child("#columnItem"),m,j;if(!l){m=k.enableColumnHide?k.getColumnMenu(k):null;j=k.sortable?2:0;if(m&&m.length){i.insert(j,[{itemId:"columnItemSeparator",xtype:"menuseparator"},{itemId:"columnItem",text:k.columnsText,iconCls:k.menuColsIcon,menu:{items:m},hideOnClick:false}])}}k.updateMenuDisabledState(k.menu)},getMenuItems:function(){var g=this,h=[],i=g.enableColumnHide?g.getColumnMenu(g):null;if(g.sortable){h=[{itemId:"ascItem",text:g.sortAscText,iconCls:g.menuSortAscCls,handler:g.onSortAscClick,scope:g},{itemId:"descItem",text:g.sortDescText,iconCls:g.menuSortDescCls,handler:g.onSortDescClick,scope:g}]}if(i&&i.length){if(g.sortable){h.push({itemId:"columnItemSeparator",xtype:"menuseparator"})}h.push({itemId:"columnItem",text:g.columnsText,iconCls:g.menuColsIcon,menu:i,hideOnClick:false})}return h},onSortAscClick:function(){var e=this.getMenu(),g=e.activeHeader;g.sort("ASC")},onSortDescClick:function(){var e=this.getMenu(),g=e.activeHeader;g.sort("DESC")},getColumnMenu:function(l){var p=[],q=0,m,r=l.query(">gridcolumn[hideable]"),i=r.length,n;for(;q<i;q++){m=r[q];n=new Ext.menu.CheckItem({text:m.menuText||m.text,checked:!m.hidden,hideOnClick:false,headerId:m.id,menu:m.isGroupHeader?this.getColumnMenu(m):undefined,checkHandler:this.onColumnCheckChange,scope:this});p.push(n)}return p.length?p:null},onColumnCheckChange:function(i,h){var g=Ext.getCmp(i.headerId);if(g.rendered){g[h?"show":"hide"]()}else{g.hidden=!h}},getColumnCount:function(){return this.getGridColumns().length},getTableWidth:function(){var i=0,j=this.getVisibleGridColumns(),h=j.length,k;for(k=0;k<h;k++){i+=j[k].getCellWidth()||0}return i},getVisibleGridColumns:function(){var i=this,p,m,q,r,n,l;if(i.gridVisibleColumns){return i.gridVisibleColumns}p=i.getGridColumns();m=i.getRootHeaderCt();q=[];r=p.length;for(n=0;n<r;n++){l=p[n];if(!l.hidden&&!l.isColumnHidden(m)){q[q.length]=l}}i.gridVisibleColumns=q;return q},isColumnHidden:function(e){var g=this.getRefOwner();while(g&&g!==e){if(g.hidden){return true}g=g.getRefOwner()}return false},getGridColumns:function(p,v){if(!p&&this.gridDataColumns){return this.gridDataColumns}var q=this,i=p||[],r,u,s,n,t;v=v||q.hidden;if(q.items){r=q.items.items;if(r){for(u=0,s=r.length;u<s;u++){n=r[u];if(n.isGroupHeader){n.visibleIndex=i.length;n.getGridColumns(i,v)}else{n.hiddenAncestor=v;i.push(n)}}}}if(!p){q.gridDataColumns=i}if(!p&&s){for(u=0,s=i.length;u<s;u++){n=i[u];n.fullColumnIndex=u;n.isFirstVisible=n.isLastVisible=false;if(!(n.hidden||n.hiddenAncestor)){if(!t){n.isFirstVisible=true}t=n}}if(t){t.isLastVisible=true}}return i},getHideableColumns:function(){var e=this,g=e.hideableColumns;if(!g){g=e.hideableColumns=e.query("[hideable]")}return g},getHeaderIndex:function(d){if(!this.columnManager){this.columnManager=this.getRootHeaderCt().columnManager}return this.columnManager.getHeaderIndex(d)},getHeaderAtIndex:function(d){if(!this.columnManager){this.columnManager=this.getRootHeaderCt().columnManager}return this.columnManager.getHeaderAtIndex(d)},getVisibleHeaderClosestToIndex:function(d){if(!this.visibleColumnManager){this.visibleColumnManager=this.getRootHeaderCt().visibleColumnManager}return this.visibleColumnManager.getVisibleHeaderClosestToIndex(d)},applyForceFit:function(B){var w=this,i=w.view,G=Ext.grid.plugin.HeaderResizer.prototype.minColWidth,E=false,I=Ext.grid.header.Container.prototype.defaultWidth,H=w.el.dom.clientWidth-(i.el.dom.scrollHeight>i.el.dom.clientHeight?Ext.getScrollbarSize().width:0),D=0,x=w.getVisibleGridColumns(),A=B.hidden,y,C,J,z,F;function L(){for(C=0,y=x.length;C<y;C++){J=x[C];if(J===B){continue}J.flex=J.flex||J.width||J.getWidth();D+=J.flex;J.width=null}}function K(){var c;for(C=0,y=x.length;C<y;C++){J=x[C];c=(J===B);if(E&&!c){J.flex=G;J.width=null}else{if(!c){F=J.flex||I;J.flex=Math.max(Math.ceil((F/D)*H),G);J.width=null}}J.setWidth(J.width||J.flex)}}Ext.suspendLayouts();z=(H-((x.length+1)*G));B.flex=null;if(A){F=B.width||B.savedWidth;B.savedWidth=null}else{F=i.getMaxContentWidth(B)}if(F>z){B.width=z;E=true}else{B.width=F;H-=F+I;L()}K();Ext.resumeLayouts(true)},autoSizeColumn:function(e){var g=this.view;if(g){g.autoSizeColumn(e);if(this.forceFit){this.applyForceFit(e)}}},getRefItems:function(e){var g=Ext.container.Container.prototype.getRefItems.call(this,e);if(this.menu){g.push(this.menu)}return g},privates:{beginChildHide:function(){++this.childHideCount},endChildHide:function(){--this.childHideCount},getFocusables:function(){return this.isRootHeader?this.getVisibleGridColumns():this.items.items},createFocusableContainerKeyNav:function(g){var e=this;return new Ext.util.KeyNav(g,{scope:e,down:e.showHeaderMenu,left:e.onFocusableContainerLeftKey,right:e.onFocusableContainerRightKey,home:e.onHomeKey,end:e.onEndKey,space:e.onHeaderActivate,enter:e.onHeaderActivate})},onHomeKey:function(d){return this.focusChild(null,true,d)},onEndKey:function(d){return this.focusChild(null,false,d)},showHeaderMenu:function(e){var g=this.getFocusableFromEvent(e);if(g&&g.isColumn&&g.triggerEl){this.onHeaderTriggerClick(g,e,g.triggerEl)}},onHeaderActivate:function(e){var i=this.getFocusableFromEvent(e),k,j;if(i&&i.isColumn){k=i.getView();if(i.sortable&&this.sortOnClick){j=k.getNavigationModel().getLastFocused();i.toggleSortState();if(j){k.ownerCt.ensureVisible(j.record)}}this.onHeaderClick(i,e,i.el)}},onFocusableContainerMousedown:function(e,h){var i=Ext.Component.fromElement(h);if(i===this){e.preventDefault()}else{i.focus()}}}},0,["headercontainer"],["component","box","container","headercontainer"],{component:true,box:true,container:true,headercontainer:true},["widget.headercontainer"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.grid.header,"Container"],0));(Ext.cmd.derive("Ext.grid.column.Column",Ext.grid.header.Container,{alternateClassName:"Ext.grid.Column",config:{triggerVisible:false,sorter:null},baseCls:"x-column-header",hoverCls:"x-column-header-over",ariaRole:"columnheader",enableFocusableContainer:false,sortState:null,possibleSortStates:["ASC","DESC"],ariaSortStates:{ASC:"ascending",DESC:"descending"},childEls:["titleEl","triggerEl","textEl","textContainerEl"],headerWrap:false,renderTpl:['<div id="{id}-titleEl" data-ref="titleEl" role="presentation"','{tipMarkup}class="',"x-",'column-header-inner<tpl if="!$comp.isContainer"> ',"x-","leaf-column-header</tpl>",'<tpl if="empty"> ',"x-",'column-header-inner-empty</tpl>">','<div id="{id}-textContainerEl" data-ref="textContainerEl" role="presentation" class="',"x-",'column-header-text-container">','<div role="presentation" class="',"x-",'column-header-text-wrapper">','<div id="{id}-textEl" data-ref="textEl" role="presentation" class="',"x-","column-header-text",'{childElCls}">','<span role="presentation" class="',"x-",'column-header-text-inner">{text}</span>',"</div>","</div>","</div>",'<tpl if="!menuDisabled">','<div id="{id}-triggerEl" data-ref="triggerEl" role="presentation" class="',"x-","column-header-trigger",'{childElCls}" style="{triggerStyle}"></div>',"</tpl>","</div>","{%this.renderContainer(out,values)%}"],dataIndex:null,text:"&#160;",menuText:null,emptyCellText:"&#160;",sortable:true,resizable:true,hideable:true,menuDisabled:false,renderer:false,align:"left",draggable:true,tooltipType:"qtip",initDraggable:Ext.emptyFn,tdCls:"",producesHTML:true,ignoreExport:false,isHeader:true,isColumn:true,tabIndex:-1,ascSortCls:"x-column-header-sort-ASC",descSortCls:"x-column-header-sort-DESC",componentLayout:"columncomponent",groupSubHeaderCls:"x-group-sub-header",groupHeaderCls:"x-group-header",clickTargetName:"titleEl",detachOnRemove:true,initResizable:Ext.emptyFn,rendererNames:{column:"renderer",edit:"editRenderer",summary:"summaryRenderer"},formatterNames:{column:"formatter",edit:"editFormatter",summary:"summaryFormatter"},initComponent:function(){var d=this;if(!d.rendererScope){d.rendererScope=d.scope}if(d.header!=null){d.text=d.header;d.header=null}if(d.cellWrap){d.tdCls=(d.tdCls||"")+" x-wrap-cell"}if(d.columns!=null){d.isGroupHeader=true;d.ariaRole="presentation";d.items=d.columns;d.columns=d.flex=d.width=null;d.cls=(d.cls||"")+" "+d.groupHeaderCls;d.sortable=d.resizable=false;d.align="center"}else{if(d.flex){d.minWidth=d.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth}}d.addCls("x-column-header-align-"+d.align);d.setupRenderer();d.setupRenderer("edit");d.setupRenderer("summary");Ext.grid.header.Container.prototype.initComponent.apply(this,arguments)},onAdded:function(q,k,r){var p=this,l,n,m;Ext.grid.header.Container.prototype.onAdded.call(this,q,k,r);if(!p.headerId){n=p.up("tablepanel");m=n?n.ownerGrid:p.getRootHeaderCt();m.headerCounter=(m.headerCounter||0)+1;p.headerId="h"+m.headerCounter}if(!p.stateId){p.stateId=p.initialConfig.id||p.headerId}l=p.getSorter();if(l&&!l.initialConfig.id){l.setId((p.dataIndex||p.stateId)+"-sorter")}},applySorter:function(d){return this.getRootHeaderCt().up("tablepanel").store.getData().getSorters().decodeSorter(d)},bindFormatter:function(e){var g=this;return function(c){return e.format(c,e.scope||g.rendererScope||g.resolveListenerScope())}},bindRenderer:function(e){var g=this;g.hasCustomRenderer=true;return function(){return Ext.callback(e,g.rendererScope,arguments,0,g)}},setupRenderer:function(q){q=q||"column";var p=this,l=p[p.formatterNames[q]],n=p[p.rendererNames[q]],r=q==="column",k,m;if(!l){if(n){if(typeof n==="string"){n=p[p.rendererNames[q]]=p.bindRenderer(n);m=true}if(r){p.hasCustomRenderer=m||n.length>1}}else{if(r&&p.defaultRenderer){p.renderer=p.defaultRenderer;p.usingDefaultRenderer=true}}}else{k=l.indexOf("this.")===0;if(k){l=l.substring(5)}l=Ext.app.bind.Template.prototype.parseFormat(l);p[p.formatterNames[q]]=null;if(k){l.scope=null}p[p.rendererNames[q]]=p.bindFormatter(l)}},getView:function(){var d=this.getRootHeaderCt();if(d){return d.view}},onFocusLeave:function(d){Ext.grid.header.Container.prototype.onFocusLeave.call(this,d);if(this.activeMenu){this.activeMenu.hide()}},initItems:function(){var d=this;Ext.grid.header.Container.prototype.initItems.apply(this,arguments);if(d.isGroupHeader){if(d.config.hidden||!d.hasVisibleChildColumns()){d.hide()}}},hasVisibleChildColumns:function(){var j=this.items.items,k=j.length,i,h;for(i=0;i<k;++i){h=j[i];if(h.isColumn&&!h.hidden){return true}}return false},onAdd:function(e){var g=this;if(e.isColumn){e.isSubHeader=true;e.addCls(g.groupSubHeaderCls)}if(g.isGroupHeader&&g.hidden&&g.hasVisibleChildColumns()){g.show()}Ext.grid.header.Container.prototype.onAdd.call(this,e)},onRemove:function(g,i){var h=this;if(g.isSubHeader){g.isSubHeader=false;g.removeCls(h.groupSubHeaderCls)}Ext.grid.header.Container.prototype.onRemove.call(this,g,i);if(!(h.destroyed||h.destroying)&&!h.hasVisibleChildColumns()&&!h.ownerCt.isNested()){h.hide()}},initRenderData:function(){var l=this,i="",k=l.tooltip,j=l.text,m=l.tooltipType==="qtip"?"data-qtip":"title";if(!Ext.isEmpty(k)){i=m+'="'+k+'" '}return Ext.applyIf(Ext.grid.header.Container.prototype.initRenderData.apply(this,arguments),{text:j,empty:j==="&#160;"||j===" "||j==="",menuDisabled:l.menuDisabled,tipMarkup:i,triggerStyle:this.getTriggerVisible()?"display:block":""})},applyColumnState:function(v,t){var p=this,i=p.getSorter(),q=t&&t.sorters,r,s,u,n;if(i&&q&&(r=q.length)){n=i.getId();for(s=0;!u&&s<r;s++){if(q[s].id===n){i.setDirection(q[s].direction);q[s]=i;break}}}p.applyColumnsState(v.columns);if(v.hidden!=null){p.hidden=v.hidden}if(v.locked!=null){p.locked=v.locked}if(v.sortable!=null){p.sortable=v.sortable}if(v.width!=null){p.flex=null;p.width=v.width}else{if(v.flex!=null){p.width=null;p.flex=v.flex}}},getColumnState:function(){var k=this,n=k.items.items,p=n?n.length:0,l,m=[],i={id:k.getStateId()};k.savePropsToState(["hidden","sortable","locked","flex","width"],i);if(k.isGroupHeader){for(l=0;l<p;l++){m.push(n[l].getColumnState())}if(m.length){i.columns=m}}if("width" in i){delete i.flex}return i},setText:function(d){this.text=d;if(this.rendered){this.textEl.setHtml(d)}},getIndex:function(){return this.isGroupColumn?false:this.getRootHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return this.visibleIndex!=null?this.visibleIndex:this.isGroupColumn?false:Ext.Array.indexOf(this.getRootHeaderCt().getVisibleGridColumns(),this)},getLabelChain:function(){var g=this,h=[],i;while(i=g.up("headercontainer")){if(i.text){h.unshift(Ext.util.Format.stripTags(i.text))}g=i}return h},beforeRender:function(){var k=this,m=k.getRootHeaderCt(),j=k.isSortable(),i=[],l;Ext.grid.header.Container.prototype.beforeRender.call(this);if(!j&&!k.groupable&&!k.lockable&&(m.grid.enableColumnHide===false||!m.getHideableColumns().length)){k.menuDisabled=true}if(k.cellWrap){k.variableRowHeight=true}l=k.ariaRenderAttributes||(k.ariaRenderAttributes={});l["aria-readonly"]=true;if(j){l["aria-sort"]=k.ariaSortStates[k.sortState]}if(k.isSubHeader){i=k.getLabelChain();if(k.text){i.push(Ext.util.Format.stripTags(k.text))}if(i.length){l["aria-label"]=i.join(" ")}}k.protoEl.unselectable()},getTriggerElWidth:function(){var g=this,h=g.triggerEl,i=g.self.triggerElWidth;if(h&&i===undefined){h.setStyle("display","block");i=g.self.triggerElWidth=h.getWidth();h.setStyle("display","")}return i},afterComponentLayout:function(l,p,n,j){var k=this,m=k.getRootHeaderCt();Ext.grid.header.Container.prototype.afterComponentLayout.apply(this,arguments);if(m&&(n!=null||k.flex)&&l!==n){m.onHeaderResize(k,l)}},onDestroy:function(){var d=this;Ext.destroy(d.field);d.field=null;Ext.grid.header.Container.prototype.onDestroy.apply(this,arguments)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(d){if(this.triggerEl){this.onTitleElClick(d,this.triggerEl.dom||this.el.dom)}},onEnterKey:function(d){this.onTitleElClick(d,this.el.dom)},onTitleElDblClick:function(j){var l=this,m,k,e;if(l.isAtStartEdge(j)){m=l.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(m&&m.getRootHeaderCt()===l.getRootHeaderCt()){m.autoSize()}}else{if(l.isAtEndEdge(j)){if(l.isGroupHeader&&j.getPoint().isContainedBy(l.layout.innerCt)){k=l.query("gridcolumn:not([hidden]):not([isGroupHeader])");l.getRootHeaderCt().autoSizeColumn(k[k.length-1]);return}else{e=l.getRootHeaderCt();if(e.visibleColumnManager.getColumns().length===1&&e.forceFit){return}}l.autoSize()}}},autoSize:function(){var l=this,k,i,m,j;if(l.isGroupHeader){k=l.query("gridcolumn:not([hidden]):not([isGroupHeader])");i=k.length;j=l.getRootHeaderCt();Ext.suspendLayouts();for(m=0;m<i;m++){j.autoSizeColumn(k[m])}Ext.resumeLayouts(true);return}l.getRootHeaderCt().autoSizeColumn(l)},onTitleElClick:function(e,m,l){var k=this,p,n;if(e.pointerType==="touch"){n=k.previousSibling(":not([hidden])");if(!k.menuDisabled&&k.isAtEndEdge(e,parseInt(k.triggerEl.getStyle("width"),10))){if(!k.menuDisabled){p=k}}else{if(n&&!n.menuDisabled&&k.isAtStartEdge(e)){p=n}}}else{p=k.triggerEl&&(e.target===k.triggerEl.dom||m===k.triggerEl||e.within(k.triggerEl))?k:null}if(l!==false&&(!p&&!k.isAtStartEdge(e)&&!k.isAtEndEdge(e)||e.getKey())){k.toggleSortState()}return p},processEvent:function(k,n,p,m,l,e){return this.fireEvent.apply(this,arguments)},isSortable:function(){var h=this.getRootHeaderCt(),i=h?h.grid:null,g=this.sortable;if(i&&i.sortableColumns===false){g=false}return g},toggleSortState:function(){if(this.isSortable()){this.sort()}},sort:function(j){var k=this,l=k.up("tablepanel"),m=l.store,i=k.getSorter();Ext.suspendLayouts();k.sorting=true;if(i){if(j){i.setDirection(j)}m.sort(i,l.multiColumnSort?"multi":"replace")}else{m.sort(k.getSortParam(),j,l.multiColumnSort?"multi":"replace")}delete k.sorting;Ext.resumeLayouts(true)},getSortParam:function(){return this.dataIndex},setSortState:function(l){var q=this,p=l&&l.getDirection(),m=q.ascSortCls,s=q.descSortCls,r=q.getRootHeaderCt(),t=q.ariaEl.dom,n;switch(p){case"DESC":if(!q.hasCls(s)){q.addCls(s);q.sortState="DESC";n=true}q.removeCls(m);break;case"ASC":if(!q.hasCls(m)){q.addCls(m);q.sortState="ASC";n=true}q.removeCls(s);break;default:q.removeCls([m,s]);q.sortState=null;break}if(t){if(q.sortState){t.setAttribute("aria-sort",q.ariaSortStates[q.sortState])}else{t.removeAttribute("aria-sort")}}if(n){r.fireEvent("sortchange",r,q,p)}},isHideable:function(){var d={hideCandidate:this,result:this.hideable};if(d.result){this.ownerCt.bubble(this.hasOtherMenuEnabledChildren,null,[d])}return d.result},hasOtherMenuEnabledChildren:function(i){var h,g;if(!this.isXType("headercontainer")){i.result=false;return false}h=this.query(">gridcolumn:not([hidden]):not([menuDisabled])");g=h.length;if(Ext.Array.contains(h,i.hideCandidate)){g--}if(g){return false}i.hideCandidate=this},isLockable:function(){var d={result:this.lockable!==false};if(d.result){this.ownerCt.bubble(this.hasMultipleVisibleChildren,null,[d])}return d.result},isLocked:function(){return this.locked||!!this.up("[isColumn][locked]","[isRootHeader]")},hasMultipleVisibleChildren:function(d){if(!this.isXType("headercontainer")){d.result=false;return false}if(this.query(">gridcolumn:not([hidden])").length>1){return false}},hide:function(){var g=this,h=g.getRootHeaderCt(),i=g.getRefOwner();if(i.constructing){Ext.grid.header.Container.prototype.hide.call(this);return g}if(g.rendered&&!g.isVisible()){return g}if(h.forceFit){g.visibleSiblingCount=h.getVisibleGridColumns().length-1;if(g.flex){g.savedWidth=g.getWidth();g.flex=null}}h.beginChildHide();Ext.suspendLayouts();if(i.isGroupHeader){if(g.isNestedGroupHeader()){i.hide()}if(g.isSubHeader&&!g.isGroupHeader&&i.query(">gridcolumn:not([hidden])").length===1){i.lastHiddenHeader=g}}Ext.grid.header.Container.prototype.hide.call(this);h.endChildHide();h.onHeaderHide(g);Ext.resumeLayouts(true);return g},show:function(){var g=this,i=g.getRootHeaderCt(),h=g.getRefOwner();if(g.isVisible()){return g}if(h.isGroupHeader){h.lastHiddenHeader=null}if(g.rendered){if(i.forceFit){i.applyForceFit(g)}}Ext.suspendLayouts();if(g.isSubHeader&&h.hidden){h.show(false,true)}Ext.grid.header.Container.prototype.show.apply(this,arguments);if(g.isGroupHeader){g.maybeShowNestedGroupHeader()}h=g.getRootHeaderCt();if(h){h.onHeaderShow(g)}Ext.resumeLayouts(true);return g},shouldUpdateCell:function(l,j){if(!this.preventUpdate){if(this.hasCustomRenderer){return 1}if(j){var m=j.length,k,i;for(k=0;k<m;++k){i=j[k];if(i===this.dataIndex||i===l.idProperty){return 2}}}else{return 2}}},getCellWidth:function(){var e=this,g;if(e.rendered&&e.componentLayout&&e.componentLayout.lastComponentSize){g=e.componentLayout.lastComponentSize.width}else{if(e.width){g=e.width}else{if(!e.isColumn){g=e.getTableWidth()}}}return g},getCellId:function(){return"x-grid-cell-"+this.getItemId()},getCellSelector:function(){var d=this.getView();return(d?d.getCellSelector():"")+"."+this.getCellId()},getCellInnerSelector:function(){return this.getCellSelector()+" .x-grid-cell-inner"},isAtStartEdge:function(g){var e=g.getXY()[0]-this.getX();if(e<0&&this.getIndex()===0){return false}return(e<this.getHandleWidth(g))},isAtEndEdge:function(e,g){return(this.getX()+this.getWidth()-e.getXY()[0]<=(g||this.getHandleWidth(e)))},getHandleWidth:function(d){return d.pointerType==="touch"?10:4},setMenuActive:function(d){this.activeMenu=d;this.titleEl[d?"addCls":"removeCls"](this.headerOpenCls)},deprecated:{5:{methods:{bindRenderer:function(d){return function(c){return Ext.util.Format[d](c)}}}}}},0,["gridcolumn"],["component","box","container","headercontainer","gridcolumn"],{component:true,box:true,container:true,headercontainer:true,gridcolumn:true},["widget.gridcolumn"],0,[Ext.grid.column,"Column",Ext.grid,"Column"],0));(Ext.cmd.derive("Ext.grid.column.Action",Ext.grid.column.Column,{alternateClassName:"Ext.grid.ActionColumn",stopSelection:true,actionIdRe:new RegExp("x-action-col-(\\d+)"),altText:"",menuText:"<i>Actions</i>",ignoreExport:true,sortable:false,innerCls:"x-grid-cell-inner-action-col",actionIconCls:"x-action-col-icon",constructor:function(n){var l=this,q=Ext.apply({},n),p=q.items||l.items||[l],i,m,r;l.origRenderer=q.renderer||l.renderer;l.origScope=q.scope||l.scope;l.renderer=l.scope=q.renderer=q.scope=null;q.items=null;Ext.grid.column.Column.prototype.constructor.call(this,q);l.items=p;for(m=0,r=p.length;m<r;++m){if(p[m].getClass){i=true;break}}if(l.origRenderer||i){l.hasCustomRenderer=true}},initComponent:function(){var d=this;Ext.grid.column.Column.prototype.initComponent.call(this);if(d.sortable&&!d.dataIndex){d.sortable=false}},defaultRenderer:function(G,D,L,M,E,I,F){var v=this,N=v.origScope||v,C=v.items,A=C.length,B,y,i,K,J,H,z;i=Ext.isFunction(v.origRenderer)?v.origRenderer.apply(N,arguments)||"":"";D.tdCls+=" x-action-col-cell";for(B=0;B<A;B++){y=C[B];z=y.icon;K=y.disabled||(y.isDisabled?y.isDisabled.call(y.scope||N,F,M,E,y,L):false);J=K?null:(y.tooltip||(y.getTip?y.getTip.apply(y.scope||N,arguments):null));H=y.getAltText?y.getAltText.apply(y.scope||N,arguments):y.altText||v.altText;if(!y.hasActionConfiguration){y.stopSelection=v.stopSelection;y.disable=Ext.Function.bind(v.disableAction,v,[B],0);y.enable=Ext.Function.bind(v.enableAction,v,[B],0);y.hasActionConfiguration=true}i+="<"+(z?"img":"div")+' tabIndex="0" role="button"'+(z?(' alt="'+H+'" src="'+y.icon+'"'):"")+' class="'+v.actionIconCls+" x-action-col-"+String(B)+" "+(K?v.disabledCls+" ":" ")+(Ext.isFunction(y.getClass)?y.getClass.apply(y.scope||N,arguments):(y.iconCls||v.iconCls||""))+'"'+(J?' data-qtip="'+J+'"':"")+(z?"/>":"></div>")}return i},updater:function(p,k,m,n,j){var l={};Ext.fly(p).addCls(l.tdCls).down(this.getView().innerSelector,true).innerHTML=this.defaultRenderer(k,l,m,null,null,j,n)},enableAction:function(h,i){var g=this;if(!h){h=0}else{if(!Ext.isNumber(h)){h=Ext.Array.indexOf(g.items,h)}}g.items[h].disabled=false;g.up("tablepanel").el.select(".x-action-col-"+h).removeCls(g.disabledCls);if(!i){g.fireEvent("enable",g)}},disableAction:function(h,i){var g=this;if(!h){h=0}else{if(!Ext.isNumber(h)){h=Ext.Array.indexOf(g.items,h)}}g.items[h].disabled=true;g.up("tablepanel").el.select(".x-action-col-"+h).addCls(g.disabledCls);if(!i){g.fireEvent("disable",g)}},beforeDestroy:function(){this.renderer=this.items=null;return Ext.grid.column.Column.prototype.beforeDestroy.apply(this,arguments)},processEvent:function(x,v,e,E,w,z,C,G){var y=this,A=z.getTarget(),u=x==="keydown"&&z.getKey(),D,H,F,B=Ext.fly(e);z.stopSelection=!u&&y.stopSelection;if(u&&(A===e||!B.contains(A))){A=B.query("."+y.actionIconCls,true);if(A.length===1){A=A[0]}else{return}}if(A&&(D=A.className.match(y.actionIdRe))){H=y.items[parseInt(D[1],10)];F=H.disabled||(H.isDisabled?H.isDisabled.call(H.scope||y.origScope||y,v,E,w,H,C):false);if(H&&!F){if(x==="mousedown"&&!y.getView().actionableMode){z.preventDefault()}else{if(x==="click"||(u===z.ENTER||u===z.SPACE)){Ext.callback(H.handler||y.handler,H.scope||y.origScope,[v,E,w,H,z,C,G],undefined,y);if(!v.el.contains(Ext.Element.getActiveElement())){return false}}}}}return Ext.grid.column.Column.prototype.processEvent.apply(this,arguments)},cascade:function(e,g){e.call(g||this,this)},getRefItems:function(){return[]},privates:{getFocusables:function(){return[]},shouldUpdateCell:function(){return 2}}},1,["actioncolumn"],["component","box","container","headercontainer","gridcolumn","actioncolumn"],{component:true,box:true,container:true,headercontainer:true,gridcolumn:true,actioncolumn:true},["widget.actioncolumn"],0,[Ext.grid.column,"Action",Ext.grid,"ActionColumn"],0));(Ext.cmd.derive("Ext.grid.column.Boolean",Ext.grid.column.Column,{alternateClassName:"Ext.grid.BooleanColumn",trueText:"true",falseText:"false",undefinedText:"&#160;",defaultFilterType:"boolean",producesHTML:false,defaultRenderer:function(d){if(d===undefined){return this.undefinedText}if(!d||d==="false"){return this.falseText}return this.trueText},updater:function(g,e){Ext.fly(g).down(this.getView().innerSelector,true).innerHTML=Ext.grid.column.Boolean.prototype.defaultRenderer.call(this,e)}},0,["booleancolumn"],["component","box","container","headercontainer","gridcolumn","booleancolumn"],{component:true,box:true,container:true,headercontainer:true,gridcolumn:true,booleancolumn:true},["widget.booleancolumn"],0,[Ext.grid.column,"Boolean",Ext.grid,"BooleanColumn"],0));(Ext.cmd.derive("Ext.grid.column.Check",Ext.grid.column.Column,{alternateClassName:["Ext.ux.CheckColumn","Ext.grid.column.CheckColumn"],align:"center",ignoreExport:true,stopSelection:true,tdCls:"x-grid-cell-checkcolumn",innerCls:"x-grid-cell-inner-checkcolumn",clickTargetName:"el",defaultFilterType:"boolean",constructor:function(){this.scope=this;Ext.grid.column.Column.prototype.constructor.apply(this,arguments)},processEvent:function(x,v,e,C,w,z,B,F){var y=this,t=x==="keydown"&&z.getKey(),E=x==="mousedown",D=y.disabled,A,u;z.stopSelection=!t&&y.stopSelection;if(!D&&(E||(t===z.ENTER||t===z.SPACE))){u=!y.isRecordChecked(B);if(y.fireEvent("beforecheckchange",y,C,u)!==false){y.setRecordCheck(B,u,e,F,z);y.fireEvent("checkchange",y,C,u);if(E&&!y.getView().actionableMode){z.preventDefault()}}}else{A=Ext.grid.column.Column.prototype.processEvent.apply(this,arguments)}return A},onEnable:function(){Ext.grid.column.Column.prototype.onEnable.apply(this,arguments);this._setDisabled(false)},onDisable:function(){this._setDisabled(true)},_setDisabled:function(i){var h=this,k=h.disabledCls,j;j=h.up("tablepanel").el.select(h.getCellSelector());if(i){j.addCls(k)}else{j.removeCls(k)}},defaultRenderer:function(i,j){var h="x-",k=h+"grid-checkcolumn";if(this.disabled){j.tdCls+=" "+this.disabledCls}if(i){k+=" "+h+"grid-checkcolumn-checked"}return'<div class="'+k+'" role="button" tabIndex="0"></div>'},isRecordChecked:function(g){var e=this.property;if(e){return g[e]}return g.get(this.dataIndex)},setRecordCheck:function(q,n,r,l,m){var p=this,e=p.property;if(e){q[e]=n;p.updater(r,n)}else{q.set(p.dataIndex,n)}},updater:function(g,e){g=Ext.fly(g);g[this.disabled?"addCls":"removeCls"](this.disabledCls);Ext.fly(g.down(this.getView().innerSelector,true).firstChild)[e?"addCls":"removeCls"]("x-grid-checkcolumn-checked")}},1,["checkcolumn"],["component","box","container","headercontainer","gridcolumn","checkcolumn"],{component:true,box:true,container:true,headercontainer:true,gridcolumn:true,checkcolumn:true},["widget.checkcolumn"],0,[Ext.grid.column,"Check",Ext.ux,"CheckColumn",Ext.grid.column,"CheckColumn"],0));(Ext.cmd.derive("Ext.grid.column.Date",Ext.grid.column.Column,{alternateClassName:"Ext.grid.DateColumn",isDateColumn:true,defaultFilterType:"date",producesHTML:false,initComponent:function(){if(!this.format){this.format=Ext.Date.defaultFormat}Ext.grid.column.Column.prototype.initComponent.apply(this,arguments)},defaultRenderer:function(d){return Ext.util.Format.date(d,this.format)},updater:function(g,e){Ext.fly(g).down(this.getView().innerSelector,true).innerHTML=Ext.grid.column.Date.prototype.defaultRenderer.call(this,e)}},0,["datecolumn"],["component","box","container","headercontainer","gridcolumn","datecolumn"],{component:true,box:true,container:true,headercontainer:true,gridcolumn:true,datecolumn:true},["widget.datecolumn"],0,[Ext.grid.column,"Date",Ext.grid,"DateColumn"],0));(Ext.cmd.derive("Ext.grid.column.Number",Ext.grid.column.Column,{alternateClassName:"Ext.grid.NumberColumn",defaultFilterType:"number",format:"0,000.00",producesHTML:false,defaultRenderer:function(d){return Ext.util.Format.number(d,this.format)},updater:function(g,e){Ext.fly(g).down(this.getView().innerSelector,true).innerHTML=Ext.grid.column.Number.prototype.defaultRenderer.call(this,e)}},0,["numbercolumn"],["component","box","container","headercontainer","gridcolumn","numbercolumn"],{component:true,box:true,container:true,headercontainer:true,gridcolumn:true,numbercolumn:true},["widget.numbercolumn"],0,[Ext.grid.column,"Number",Ext.grid,"NumberColumn"],0));(Ext.cmd.derive("Ext.grid.column.RowNumberer",Ext.grid.column.Column,{alternateClassName:"Ext.grid.RowNumberer",isRowNumberer:true,text:"&#160;",width:23,sortable:false,draggable:false,autoLock:true,lockable:false,align:"right",producesHTML:false,ignoreExport:true,constructor:function(g){var e=this;e.width=e.width;Ext.grid.column.Column.prototype.constructor.apply(this,arguments);e.sortable=false;e.scope=e},resizable:false,hideable:false,menuDisabled:true,dataIndex:"",cls:"x-row-numberer",tdCls:"x-grid-cell-row-numberer x-grid-cell-special",innerCls:"x-grid-cell-inner-row-numberer",rowspan:undefined,defaultRenderer:function(p,w,s,v,t,x,q){var u=this.rowspan,r=x.currentPage,n=q.store.indexOf(s);if(w&&u){w.tdAttr='rowspan="'+u+'"'}if(r>1){n+=(r-1)*x.pageSize}return n+1},updater:function(m,j,k,l,i){Ext.fly(m).down(this.getView().innerSelector,true).innerHTML=this.defaultRenderer(j,null,k,null,null,i,l)}},1,["rownumberer"],["component","box","container","headercontainer","gridcolumn","rownumberer"],{component:true,box:true,container:true,headercontainer:true,gridcolumn:true,rownumberer:true},["widget.rownumberer"],0,[Ext.grid.column,"RowNumberer",Ext.grid,"RowNumberer"],0));Ext.define("Ext.theme.neptune.grid.column.RowNumberer",{override:"Ext.grid.column.RowNumberer",width:25});(Ext.cmd.derive("Ext.grid.column.Template",Ext.grid.column.Column,{alternateClassName:"Ext.grid.TemplateColumn",initComponent:function(){var d=this;d.tpl=(!Ext.isPrimitive(d.tpl)&&d.tpl.compile)?d.tpl:new Ext.XTemplate(d.tpl);d.hasCustomRenderer=true;Ext.grid.column.Column.prototype.initComponent.apply(this,arguments)},defaultRenderer:function(i,h,k){var j=Ext.apply({},k.data,k.getAssociatedData());return this.tpl.apply(j)},updater:function(g,e){Ext.fly(g).down(this.getView().innerSelector,true).innerHTML=Ext.grid.column.CheckColumn.prototype.defaultRenderer.call(this,e)}},0,["templatecolumn"],["component","box","container","headercontainer","gridcolumn","templatecolumn"],{component:true,box:true,container:true,headercontainer:true,gridcolumn:true,templatecolumn:true},["widget.templatecolumn"],0,[Ext.grid.column,"Template",Ext.grid,"TemplateColumn"],0));(Ext.cmd.derive("Ext.grid.column.Widget",Ext.grid.column.Column,{config:{defaultWidgetUI:{}},ignoreExport:true,sortable:false,onWidgetAttach:null,preventUpdate:true,stopSelection:true,initComponent:function(){var g=this,e;Ext.grid.column.Column.prototype.initComponent.apply(this,arguments);e=g.widget;g.widget=e=Ext.apply({},e);if(!e.ui){e.ui=g.getDefaultWidgetUI()[e.xtype]||"default"}g.isFixedSize=Ext.isNumber(e.width)},processEvent:function(r,p,n,v,q,s,u,e){var t;if(this.stopSelection&&r==="click"){t=s.getTarget(p.innerSelector);if(t&&t!==s.target){s.stopSelection=true}}},beforeRender:function(){var i=this,g=i.tdCls,h;i.listenerScopeFn=function(c){if(c==="this"){return this}return i.resolveListenerScope(c)};i.liveWidgets={};i.cachedStyles={};i.freeWidgetStack=[h=i.getFreeWidget()];g=g?g+" ":"";i.tdCls=g+h.getTdCls();i.setupViewListeners(i.getView());Ext.grid.column.Column.prototype.beforeRender.call(this)},afterRender:function(){var d=this.getView();Ext.grid.column.Column.prototype.afterRender.call(this);if(d&&d.viewReady&&!d.ownerGrid.reconfiguring){this.onViewRefresh(d,d.getViewRange())}},defaultRenderer:Ext.emptyFn,updater:function(i,g,h){this.updateWidget(h)},onResize:function(k){var l=this,n=l.liveWidgets,m=l.getView(),j,p;if(!l.isFixedSize&&l.rendered&&m&&m.viewReady){p=m.getEl().down(l.getCellInnerSelector());if(p){k-=parseInt(l.getCachedStyle(p,"padding-left"),10)+parseInt(l.getCachedStyle(p,"padding-right"),10);for(j in n){n[j].setWidth(k)}}}},onAdded:function(){var e=this,g;Ext.grid.column.Column.prototype.onAdded.apply(this,arguments);g=e.getView();if(g){e.setupViewListeners(g);if(g&&g.viewReady&&e.rendered&&g.getEl().down(e.getCellSelector())){e.onViewRefresh(g,g.getViewRange())}}},onRemoved:function(k){var j=this,m=j.liveWidgets,l=j.viewListeners,i;if(j.rendered){j.viewListeners=l&&Ext.destroy(l);if(!k){for(i in m){m[i].detachFromBody()}}}Ext.grid.column.Column.prototype.onRemoved.apply(this,arguments)},onDestroy:function(){var p=this,i=p.liveWidgets,l=p.freeWidgetStack,m,n,q,r;if(p.rendered){for(m in i){n=i[m];n.$widgetRecord=n.$widgetColumn=null;delete n.getWidgetRecord;delete n.getWidgetColumn;n.destroy()}for(q=0,r=l.length;q<r;++q){l[q].destroy()}}p.freeWidgetStack=p.liveWidgets=null;Ext.grid.column.Column.prototype.onDestroy.call(this)},getWidget:function(h){var i=this.liveWidgets,g;if(h&&i){g=i[h.internalId]}return g||null},privates:{getCachedStyle:function(h,i){var g=this.cachedStyles;return g[i]||(g[i]=Ext.fly(h).getStyle(i))},getFreeWidget:function(){var e=this,g=e.freeWidgetStack?e.freeWidgetStack.pop():null;if(!g){g=Ext.widget(e.widget);g.resolveListenerScope=e.listenerScopeFn;g.getWidgetRecord=e.widgetRecordDecorator;g.getWidgetColumn=e.widgetColumnDecorator;g.dataIndex=e.dataIndex;g.measurer=e;g.ownerCmp=e.getView();g.isLayoutChild=e.returnFalse}return g},onBeforeRefresh:function(){var g=this.liveWidgets,e;for(e in g){g[e].detachFromBody()}},onItemAdd:function(F,z,x){var w=this,i=w.getView(),y=!!w.onWidgetAttach,L=w.dataIndex,K=w.isFixedSize,A=F.length,E,C,I,J,D,G,B,H;if(w.isVisible(true)){for(E=0;E<A;E++){C=F[E];if(C.isNonData){continue}I=i.getRowFromItem(x[E]);if(I){J=I.cells[w.getVisibleIndex()].firstChild;if(!K&&!H){H=w.lastBox.width-parseInt(w.getCachedStyle(J,"padding-left"),10)-parseInt(w.getCachedStyle(J,"padding-right"),10)}D=w.liveWidgets[C.internalId]=w.getFreeWidget();D.$widgetColumn=w;D.$widgetRecord=C;Ext.fly(J).empty();if(D.defaultBindProperty&&L){D.setConfig(D.defaultBindProperty,C.get(L))}if(y){Ext.callback(w.onWidgetAttach,w.scope,[w,D,C],0,w)}G=D.el||D.element;if(G){J.appendChild(G.dom);if(!K){D.setWidth(H)}D.reattachToBody()}else{if(!K){D.width=H}D.render(J)}B=D.getFocusEl();if(B){if(i.actionableMode){if(!B.isTabbable()){B.restoreTabbableState()}}else{if(B.isTabbable()){B.saveTabbableState()}}}}}}},onItemRemove:function(y,s,r){var q=this,x=q.liveWidgets,v,i,z,t,w,u;if(q.rendered){r=Ext.Array.from(r);t=r.length;for(w=0;w<t;w++){i=r[w];z=i.getAttribute("data-recordId");if(z&&(v=x[z])){delete x[z];q.freeWidgetStack.unshift(v);v.$widgetRecord=v.$widgetColumn=null;u=v.getFocusEl();if(u){if(u.isTabbable(true)){u.saveTabbableState({includeHidden:true})}u.blur()}v.detachFromBody()}}}},onItemUpdate:function(i,h,g){this.updateWidget(i)},onViewRefresh:function(G,D){var z=this,I=G.all,J=!!z.onWidgetAttach,H=z.liveWidgets,y=z.dataIndex,x=z.isFixedSize,O,K,N,E,P,A,L,M,F,B,C;if(z.isVisible(true)){z.liveWidgets={};Ext.suspendLayouts();for(A=I.startIndex,L=0;A<=I.endIndex;A++,L++){M=D[L];if(M.isNonData){continue}P=M.internalId;O=G.getRow(I.item(A)).cells[z.getVisibleIndex()].firstChild;K=z.liveWidgets[P]=H[P]||z.getFreeWidget();K.$widgetRecord=M;K.$widgetColumn=z;delete H[P];B=z.lastBox;if(B&&!x&&E===undefined){E=B.width-parseInt(z.getCachedStyle(O,"padding-left"),10)-parseInt(z.getCachedStyle(O,"padding-right"),10)}if(K.defaultBindProperty&&y){K.setConfig(K.defaultBindProperty,D[L].get(y))}if(J){Ext.callback(z.onWidgetAttach,z.scope,[z,K,M],0,z)}N=K.el||K.element;if(N){C=N.dom;if(C.parentNode!==O){Ext.fly(O).empty();O.appendChild(N.dom)}if(!x){K.setWidth(E)}K.reattachToBody()}else{if(!x){K.width=E}Ext.fly(O).empty();K.render(O)}}Ext.resumeLayouts(true);for(F in H){K=H[F];K.$widgetRecord=K.$widgetColumn=null;z.freeWidgetStack.unshift(K);K.detachFromBody()}}},returnFalse:function(){return false},setupViewListeners:function(g){var e=this;e.viewListeners=g.on({refresh:e.onViewRefresh,itemupdate:e.onItemUpdate,itemadd:e.onItemAdd,itemremove:e.onItemRemove,scope:e,destroyable:true});if(Ext.isIE8){g.on("beforerefresh",e.onBeforeRefresh,e)}},updateWidget:function(i){var h=this.dataIndex,g;if(this.rendered){g=this.liveWidgets[i.internalId];if(g&&g.defaultBindProperty&&h){g.setConfig(g.defaultBindProperty,i.get(h))}}},widgetRecordDecorator:function(){return this.$widgetRecord},widgetColumnDecorator:function(){return this.$widgetColumn}}},0,["widgetcolumn"],["component","box","container","headercontainer","gridcolumn","widgetcolumn"],{component:true,box:true,container:true,headercontainer:true,gridcolumn:true,widgetcolumn:true},["widget.widgetcolumn"],0,[Ext.grid.column,"Widget"],0));(Ext.cmd.derive("Ext.grid.feature.Feature",Ext.util.Observable,{wrapsItem:false,isFeature:true,disabled:false,hasFeatureEvent:true,eventPrefix:null,eventSelector:null,view:null,grid:null,constructor:function(d){this.initialConfig=d;Ext.util.Observable.prototype.constructor.apply(this,arguments)},clone:function(){return new this.self(this.initialConfig)},init:Ext.emptyFn,getFireEventArgs:function(j,k,i,e){return[j,k,i,e]},vetoEvent:Ext.emptyFn,enable:function(){this.disabled=false},disable:function(){this.disabled=true}},1,0,0,0,["feature.feature"],0,[Ext.grid.feature,"Feature"],0));(Ext.cmd.derive("Ext.grid.feature.AbstractSummary",Ext.grid.feature.Feature,{summaryRowCls:"x-grid-row-summary",readDataOptions:{recordCreator:Ext.identityFn},summaryRowTpl:{fn:function(h,i,g){if(i.record.isSummary&&this.summaryFeature.showSummaryRow){this.summaryFeature.outputSummaryRecord(i.record,i,h,g)}else{this.nextTpl.applyOut(i,h,g)}},priority:1000},showSummaryRow:true,init:function(){var d=this;d.view.summaryFeature=d;d.rowTpl=d.view.self.prototype.rowTpl;d.view.addRowTpl(d.summaryRowTpl).summaryFeature=d;d.summaryData={};d.groupInfo={};if(!d.summaryTableCls){d.summaryTableCls="x-grid-item"}d.summaryRowSelector="."+d.summaryRowCls},bindStore:function(h,i){var g=this;Ext.destroy(g.readerListeners);if(g.remoteRoot){g.readerListeners=i.getProxy().getReader().on({scope:g,destroyable:true,rawdata:g.onReaderRawData})}},onReaderRawData:function(d){this.summaryRows=null;this.readerRawData=d},toggleSummaryRow:function(i,m){var j=this,k=j.showSummaryRow,l;i=i!=null?!!i:!j.showSummaryRow;j.showSummaryRow=i;if(i&&i!==k){j.updateSummaryRow=true}if(j.lockingPartner){if(!m){j.lockingPartner.toggleSummaryRow(i,true);l=true}}else{l=true}if(l){j.grid.ownerGrid.getView().refresh()}},createRenderer:function(k,n){var j=this,m=n.ownerGroup,p=m?j.summaryData[m]:j.summaryData,l=k.dataIndex||k.getItemId();return function(c,d){return k.summaryRenderer?k.summaryRenderer(n.data[l],p,l,d):n.data[l]}},outputSummaryRecord:function(s,i,u){var r=i.view,x=r.rowValues,v=i.columns||r.headerCt.getVisibleGridColumns(),p=v.length,t,w,q={view:r,record:s,rowStyle:"",rowClasses:[this.summaryRowCls],itemClasses:[],recordIndex:-1,rowId:r.getRowId(s),columns:v};for(t=0;t<p;t++){w=v[t];w.savedRenderer=w.renderer;if(w.summaryType||w.summaryRenderer){w.renderer=this.createRenderer(w,s)}else{w.renderer=Ext.emptyFn}}r.rowValues=q;r.self.prototype.rowTpl.applyOut(q,u,parent);r.rowValues=x;for(t=0;t<p;t++){w=v[t];w.renderer=w.savedRenderer;w.savedRenderer=null}},getSummary:function(p,n,j,k){var l=!!k,m=l?k:p;if(n){if(Ext.isFunction(n)){if(l){return m.aggregate(j,n)}else{return m.aggregate(n,null,false,[j])}}switch(n){case"count":return m.count(j);case"min":return m.min(j);case"max":return m.max(j);case"sum":return m.sum(j);case"average":return m.average(j);default:return""}}},getRawData:function(){var d=this.readerRawData;if(d){return d}return this.view.getStore().getProxy().getReader().rawData},generateSummaryData:function(A){var w=this,i=w.summaryRows,t={},u={},v,y,B,z,x,i,r,s;if(!i){B=w.getRawData();if(!B){return}v=w.view.store.getProxy().getReader();y=Ext.create("reader."+v.type,v.getConfig());y.setRootProperty(w.remoteRoot);i=y.getRoot(B);if(i){r=[];if(!Ext.isArray(i)){i=[i]}x=i.length;for(z=0;z<x;++z){s=y.extractRecordData(i[z],w.readDataOptions);r.push(s)}w.summaryRows=i=r}y.destroy();w.readerRawData=null}if(i){for(z=0,x=i.length;z<x;z++){t=i[z];if(A){u[t[A]]=t}}}return A?u:t},setSummaryData:function(k,j,l,i){var m=this.summaryData;if(i){if(!m[i]){m[i]={}}m[i][j]=l}else{m[j]=l}},destroy:function(){Ext.destroy(this.readerListeners);this.readerRawData=this.summaryRows=null;Ext.grid.feature.Feature.prototype.destroy.call(this)}},0,0,0,0,["feature.abstractsummary"],0,[Ext.grid.feature,"AbstractSummary"],0));(Ext.cmd.derive("Ext.grid.feature.GroupStore",Ext.util.Observable,{isStore:true,defaultViewSize:100,isFeatureStore:true,badGrouperKey:"[object Object]",constructor:function(g,i){var h=this;Ext.util.Observable.prototype.constructor.call(this);h.groupingFeature=g;h.bindStore(i);if(!g.grid.isLocked){h.bindViewStoreListeners()}},bindStore:function(g){var e=this;if(!g||e.store!==g){Ext.destroy(e.storeListeners);e.store=null}if(g){e.storeListeners=g.on({groupchange:e.onGroupChange,remove:e.onRemove,add:e.onAdd,idchanged:e.onIdChanged,update:e.onUpdate,refresh:e.onRefresh,clear:e.onClear,scope:e,destroyable:true});e.store=g;e.processStore(g)}},bindViewStoreListeners:function(){var g=this.groupingFeature.view,e=g.getStoreListeners();e.scope=g;this.on(e)},processStore:function(W){var R=this,N=R.groupingFeature,H=N.startCollapsed,M=R.data,ab=Ext.Array,Y=ab.indexOf,P=ab.splice,F=W.getGroups(),X=F?F.length:0,i=W.getGroupField(),T=F&&ab.unique(Ext.Object.getValues(F.itemGroupKeys)),Z=false,E=N.getCache(),G,aa,J,I,U,V,Q,L,K,O,S;N.invalidateCache();aa=N.getCache();if(E.map){aa.map=E.map}if(M){M.clear()}else{M=R.data=new Ext.util.Collection({rootProperty:"data",extraKeys:{byInternalId:{property:"internalId",rootProperty:""}}})}if(W.getCount()){N.startCollapsed=false;if(X>0){S=W.getModel();for(J=0;J<X;J++){V=F.getAt(J);K=V.getGroupKey();if(R.badGrouperKey===K&&(U=N.getGrouper(i))){N.startCollapsed=H;W.group(U);return}G=aa[K]=E[K]||N.getMetaGroup(K);P(T,Y(T,K),1);Z=G.isCollapsed=H||G.isCollapsed;if(Z){O={};O[i]=K;G.placeholder=L=new S(O);L.isNonData=L.isCollapsedPlaceholder=true;L.group=V;M.add(L)}else{M.insert(R.data.length,V.items)}}if(T.length){for(J=0,I=T.length;J<I;J++){Q=T[J];aa[Q]=E[Q]}}E=null}else{M.add(W.getRange())}}},isCollapsed:function(d){return this.groupingFeature.getCache()[d].isCollapsed},isLoading:function(){return false},getData:function(){return this.data},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.data.getCount()},rangeCached:function(e,g){return g<this.getCount()},getRange:function(h,j,i){var k=this.data.getRange(h,Ext.isNumber(j)?j+1:j);if(i&&i.callback){i.callback.call(i.scope||this,k,h,j,i)}return k},getAt:function(d){return this.data.getAt(d)},getById:function(d){return this.store.getById(d)},getByInternalId:function(d){return this.store.getByInternalId(d)||this.data.byInternalId.get(d)},expandGroup:function(l){var n=this,m=n.groupingFeature,q,k,p,r;if(typeof l==="string"){l=m.getGroup(l)}if(l){r=l.items;q=m.getMetaGroup(l);k=q.placeholder}if(r.length&&(p=n.data.indexOf(k))!==-1){q.isCollapsed=false;n.isExpandingOrCollapsing=1;n.data.removeAt(p);n.data.insert(p,l.items);n.fireEvent("replace",n,p,[k],l.items);n.fireEvent("groupexpand",n,l);n.isExpandingOrCollapsing=0}},collapseGroup:function(l){var n=this,m=n.groupingFeature,p,k,r,q;if(typeof l==="string"){l=m.getGroup(l)}if(l){q=l.items}if(q&&(r=q.length)&&(p=n.data.indexOf(q[0]))!==-1){m.getMetaGroup(l).isCollapsed=true;n.isExpandingOrCollapsing=2;n.data.removeAt(p,r);n.data.insert(p,k=n.getGroupPlaceholder(l));n.fireEvent("replace",n,p,q,[k]);n.fireEvent("groupcollapse",n,l);n.isExpandingOrCollapsing=0}},getGroupPlaceholder:function(m){var q=this.groupingFeature.getMetaGroup(m);if(!q.placeholder){var r=this.store,k=r.getModel(),n={},p=m.getGroupKey(),l;n[r.getGroupField()]=p;l=q.placeholder=new k(n);l.isNonData=l.isCollapsedPlaceholder=true;l.groupKey=p}return q.placeholder},indexOf:function(g){var e=-1;if(!g.isCollapsedPlaceholder){e=this.data.indexOf(g)}return e},contains:function(d){return this.indexOf(d)>-1},indexOfPlaceholder:function(d){return this.data.indexOf(d)},indexOfId:function(d){return this.data.indexOfKey(d)},indexOfTotal:function(d){return this.store.indexOf(d)},onAdd:function(g){var e=this;e.processStore(e.store);e.fireEvent("refresh",e);return false},onClear:function(j,k,h){var i=this;i.processStore(i.store);i.fireEvent("clear",i)},onIdChanged:function(k,h,i,j){this.data.updateKey(h,i)},onRefresh:function(){this.processStore(this.store);this.fireEvent("refresh",this)},onRemove:function(){var d=this;d.processStore(d.store);d.fireEvent("refresh",d);return false},onUpdate:function(q,u,x,v){var r=this,z=r.groupingFeature,p,w,s,y,t;if(q.isGrouped()){p=u.group=z.getGroup(u);if(p){w=z.getMetaGroup(u);if(v&&Ext.Array.contains(v,z.getGroupField())){return r.onRefresh(r.store)}if(w.isCollapsed){r.fireEvent("update",r,w.placeholder)}else{Ext.suspendLayouts();r.fireEvent("update",r,u,x,v);t=p.items;s=t[0];y=t[t.length-1];if(s!==u){s.group=p;r.fireEvent("update",r,s,"edit",v);delete s.group}if(y!==u&&y!==s&&z.showSummaryRow){y.group=p;r.fireEvent("update",r,y,"edit",v);delete y.group}Ext.resumeLayouts(true)}}delete u.group}else{r.fireEvent("update",r,u,x,v)}},onGroupChange:function(e,g){if(!g){this.processStore(e)}this.fireEvent("groupchange",e,g)},destroy:function(){var d=this;d.bindStore(null);Ext.destroyMembers(d,"data","groupingFeature");Ext.util.Observable.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.grid.feature,"GroupStore"],0));(Ext.cmd.derive("Ext.grid.feature.Grouping",Ext.grid.feature.Feature,{eventPrefix:"group",eventSelector:".x-grid-group-hd",refreshData:{},wrapsItem:true,groupHeaderTpl:"{columnName}: {name}",depthToIndent:17,collapsedCls:"x-grid-group-collapsed",hdCollapsedCls:"x-grid-group-hd-collapsed",hdNotCollapsibleCls:"x-grid-group-hd-not-collapsible",collapsibleCls:"x-grid-group-hd-collapsible",ctCls:"x-group-hd-container",groupByText:"Group by this field",showGroupsText:"Show in groups",hideGroupedHeader:false,startCollapsed:false,enableGroupingMenu:true,enableNoGroups:true,collapsible:true,groupers:null,expandTip:"Click to expand. CTRL key collapses all others",collapseTip:"Click to collapse. CTRL/click collapses all others",showSummaryRow:false,outerTpl:["{%","if (!(this.groupingFeature.disabled || values.rows.length === 1 && values.rows[0].isSummary)) {","this.groupingFeature.setup(values.rows, values.view.rowValues);","}","this.nextTpl.applyOut(values, out, parent);","if (!(this.groupingFeature.disabled || values.rows.length === 1 && values.rows[0].isSummary)) {","this.groupingFeature.cleanup(values.rows, values.view.rowValues);","}","%}",{priority:200}],groupRowTpl:["{%","var me = this.groupingFeature,",'colspan = "colspan=" + values.columns.length;',"if (me.disabled || parent.rows.length === 1 && parent.rows[0].isSummary) {","values.needsWrap = false;","} else {","me.setupRowData(values.record, values.rowIndex, values);","}","%}",'<tpl if="needsWrap">','<tpl if="isFirstRow">',"{% values.view.renderColumnSizer(values, out); %}",'<tr data-boundView="{view.id}" data-recordId="{record.internalId:htmlEncode}" data-recordIndex="{[values.isCollapsedGroup ? -1 : values.recordIndex]}" class="{groupHeaderCls}">','<td class="{[me.ctCls]}" {[colspan]}>',"{%",'var groupTitleStyle = (!values.view.lockingPartner || (values.view.ownerCt === values.view.ownerCt.ownerLockable.lockedGrid) || (values.view.lockingPartner.headerCt.getVisibleGridColumns().length === 0)) ? "" : "visibility:hidden";',"%}",'<div data-groupname="{groupName:htmlEncode}" class="',"x-",'grid-group-hd {collapsibleCls}" nottabindex="0" hidefocus="on" {ariaCellInnerAttr}>','<div class="',"x-",'grid-group-title" style="{[groupTitleStyle]}" {ariaGroupTitleAttr} data-qtip="{[values.isCollapsedGroup ? me.expandTip : me.collapseTip]}">','{[values.groupHeaderTpl.apply(values.metaGroupCache, parent) || "&#160;"]}',"</div>","</div>","</td>","</tr>","</tpl>",'<tpl if="!isCollapsedGroup">',"{%","values.itemClasses.length = 0;","this.nextTpl.applyOut(values, out, parent);","%}","</tpl>",'<tpl if="summaryRecord">',"{%me.outputSummaryRecord(values.summaryRecord, values, out, parent);%}","</tpl>","<tpl else>","{%this.nextTpl.applyOut(values, out, parent);%}","</tpl>",{priority:200,beginRowSync:function(g){var e=this.groupingFeature;g.add("header",e.eventSelector);g.add("summary",e.summaryRowSelector)},syncContent:function(s,l,t){s=Ext.fly(s,"syncDest");l=Ext.fly(l,"syncSrc");var p=this.groupingFeature,q=s.down(p.eventSelector,true),r=l.down(p.eventSelector,true),m=s.down(p.summaryRowSelector,true),n=l.down(p.summaryRowSelector,true);if(q&&r){Ext.fly(q).syncContent(r)}if(m&&n){if(t){this.groupingFeature.view.updateColumns(m,n,t)}else{Ext.fly(m).syncContent(n)}}}}],init:function(m){var k=this,p=k.view,n=k.getGridStore(),l,j;p.isGrouping=n.isGrouped();k.mixins.summary.init.call(k);Ext.grid.feature.Feature.prototype.init.call(this,m);p.headerCt.on({columnhide:k.onColumnHideShow,columnshow:k.onColumnHideShow,columnmove:k.onColumnMove,scope:k});p.addTpl(Ext.XTemplate.getTpl(k,"outerTpl")).groupingFeature=k;p.addRowTpl(Ext.XTemplate.getTpl(k,"groupRowTpl")).groupingFeature=k;p.preserveScrollOnRefresh=true;if(n.isBufferedStore){k.collapsible=false}else{l=k.lockingPartner;if(l&&l.dataSource){k.dataSource=p.dataSource=j=l.dataSource}else{k.dataSource=p.dataSource=j=new Ext.grid.feature.GroupStore(k,n)}}m=m.ownerLockable||m;m.on("beforereconfigure",k.beforeReconfigure,k);p.on({afterrender:k.afterViewRender,scope:k,single:true});if(j){j.on("groupchange",k.onGroupChange,k)}else{k.setupStoreListeners(n)}k.mixins.summary.bindStore.call(k,m,m.getStore())},getGridStore:function(){return this.view.getStore()},indexOf:function(d){return this.dataSource.indexOf(d)},indexOfPlaceholder:function(d){return this.dataSource.indexOfPlaceholder(d)},isInCollapsedGroup:function(l){var i=this,j=i.getGridStore(),m=false,k;if(j.isGrouped()&&(k=i.getMetaGroup(l))){m=!!(k&&k.isCollapsed)}return m},createCache:function(){var g=this.metaGroupCache={},e=this.lockingPartner;if(e){e.metaGroupCache=g}g.map={};return g},getCache:function(){return this.metaGroupCache||this.createCache()},invalidateCache:function(){var d=this.lockingPartner;this.metaGroupCache=null;if(d){d.metaGroupCache=null}},vetoEvent:function(k,i,e,j){if(j.type!=="mouseover"&&j.type!=="mouseout"&&j.type!=="mouseenter"&&j.type!=="mouseleave"&&j.getTarget(this.eventSelector)){return false}},enable:function(){var k=this,m=k.view,l=k.getGridStore(),i=k.hideGroupedHeader&&k.getGroupedHeader(),j;m.isGrouping=true;if(m.lockingPartner){m.lockingPartner.isGrouping=true}Ext.grid.feature.Feature.prototype.enable.call(this);if(k.lastGrouper){l.group(k.lastGrouper);k.lastGrouper=null}if(i){i.hide()}j=k.view.headerCt.getMenu().down("#groupToggleMenuItem");if(j){j.setChecked(true,true)}},disable:function(){var m=this,p=m.view,n=m.getGridStore(),j=m.hideGroupedHeader&&m.getGroupedHeader(),k=n.getGrouper(),l;p.isGrouping=false;if(p.lockingPartner){p.lockingPartner.isGrouping=false}Ext.grid.feature.Feature.prototype.disable.call(this);if(k){m.lastGrouper=k;n.clearGrouping()}if(j){j.show()}l=m.view.headerCt.getMenu().down("#groupToggleMenuItem");if(l){l.setChecked(false,true);l.disable()}},afterViewRender:function(){var e=this,g=e.view;g.on({scope:e,groupclick:e.onGroupClick});if(e.enableGroupingMenu){e.injectGroupingMenu()}e.pruneGroupedHeader();e.lastGrouper=e.getGridStore().getGrouper();if(e.disabled){e.disable()}},injectGroupingMenu:function(){var g=this,e=g.view.headerCt;e.showMenuBy=g.showMenuBy;e.getMenuItems=g.getMenuItems()},onColumnHideShow:function(A,x){var u=this,t=u.view,C=t.headerCt,D=C.getMenu(),B=D.activeHeader,s=D.down("#groupMenuItem"),y,i=u.grid.getVisibleColumnManager().getColumns().length,v,w,z;if(B&&s){y=B.groupable===false||!B.dataIndex||u.view.headerCt.getVisibleGridColumns().length<2?"disable":"enable";s[y]()}if(t.rendered&&i){v=t.el.query("."+u.ctCls);for(z=0,w=v.length;z<w;++z){v[z].colSpan=i}}},onColumnMove:function(){var p=this,s=p.view,l,t,n,m,q,r;if(s.getStore().isGrouped()){t=p.getCache().map;Ext.suspendLayouts();for(l in t){n=p.getGroup(l);m=n.first();q=n.last();r=p.getMetaGroup(l);if(r.isCollapsed){m=q=p.dataSource.getGroupPlaceholder(l)}s.refreshNode(m);if(p.showSummaryRow&&q!==m){s.refreshNode(q)}}Ext.resumeLayouts(true)}},showMenuBy:function(n,m,t){var r=this,v=r.getMenu(),q=v.down("#groupMenuItem"),s=t.groupable===false||!t.dataIndex||r.view.headerCt.getVisibleGridColumns().length<2?"disable":"enable",u=v.down("#groupToggleMenuItem"),p=r.grid.getStore().isGrouped();q[s]();if(u){u.setChecked(p,true);u[p?"enable":"disable"]()}Ext.grid.header.Container.prototype.showMenuBy.apply(r,arguments)},getMenuItems:function(){var j=this,m=j.groupByText,k=j.disabled||!j.getGroupField(),p=j.showGroupsText,l=j.enableNoGroups,n=j.view.headerCt.getMenuItems;return function(){var c=n.call(this);c.push("-",{iconCls:"x-group-by-icon",itemId:"groupMenuItem",text:m,handler:j.onGroupMenuItemClick,scope:j});if(l){c.push({itemId:"groupToggleMenuItem",text:p,checked:!k,checkHandler:j.onGroupToggleMenuItemClick,scope:j})}return c}},onGroupMenuItemClick:function(p,m){var n=this,l=p.parentMenu,e=l.activeHeader,r=n.view,q=n.getGridStore();if(n.disabled){n.lastGrouper=null;n.block();n.enable();n.unblock()}r.isGrouping=true;q.group(n.getGrouper(e.dataIndex)||e.dataIndex);n.pruneGroupedHeader()},block:function(g){var e=this;e.blockRefresh=e.view.blockRefresh=true;if(e.lockingPartner&&!g){e.lockingPartner.block(true)}},unblock:function(g){var e=this;e.blockRefresh=e.view.blockRefresh=false;if(e.lockingPartner&&!g){e.lockingPartner.unblock(true)}},onGroupToggleMenuItemClick:function(g,e){this[e?"enable":"disable"]()},pruneGroupedHeader:function(){var g=this,e=g.getGroupedHeader();if(g.hideGroupedHeader&&e){Ext.suspendLayouts();if(g.prunedHeader&&g.prunedHeader!==e){g.prunedHeader.show()}g.prunedHeader=e;if(e.rendered){e.hide()}Ext.resumeLayouts(true)}},getHeaderNode:function(i){var l=this.view.getEl(),n,m,p,k;if(l){i=Ext.htmlEncode(i);n=l.query(this.eventSelector);for(m=0,p=n.length;m<p;++m){k=n[m];if(k.getAttribute("data-groupName")===i){return k}}}},getGroup:function(j){var k=this.getGridStore(),i=j,h;if(k.isGrouped()){if(j.isModel){j=j.get(k.getGroupField())}if(typeof j!=="string"){j=k.getGrouper().getGroupString(i)}h=k.getGroups().getByKey(j)}return h},getGrouper:function(g){var e=this.groupers;if(!e){return null}return Ext.Array.findBy(e,function(c){return c.property===g})},getGroupField:function(){return this.getGridStore().getGroupField()},getMetaGroup:function(h){var k=this.metaGroupCache||this.createCache(),i,j;if(h.isModel){h=this.getGroup(h)}if(h!=null){i=(typeof h==="string")?h:h.getGroupKey();j=k[i];if(!j){j=k[i]={isCollapsed:false,lastGroup:null,lastGroupGeneration:null,lastFilterGeneration:null,aggregateRecord:new Ext.data.Model()};k.map[i]=true}}return j},isExpanded:function(d){return !this.getMetaGroup(d).isCollapsed},expand:function(e,g){this.doCollapseExpand(false,e,g)},expandAll:function(){var i=this,k=i.getCache(),j=i.lockingPartner,h;for(h in k){if(k.hasOwnProperty(h)){k[h].isCollapsed=false}}Ext.suspendLayouts();i.dataSource.onRefresh();Ext.resumeLayouts(true);for(h in k){if(k.hasOwnProperty(h)){i.afterCollapseExpand(false,h);if(j){j.afterCollapseExpand(false,h)}}}},collapse:function(e,g){this.doCollapseExpand(true,e,g)},isAllCollapsed:function(){var h=this,i=h.getCache(),g;for(g in i){if(i.hasOwnProperty(g)){if(!i[g].isCollapsed){return false}}}return true},isAllExpanded:function(){var h=this,i=h.getCache(),g;for(g in i){if(i.hasOwnProperty(g)){if(i[g].isCollapsed){return false}}}return true},collapseAll:function(){var i=this,k=i.getCache(),h,j=i.lockingPartner;for(h in k){if(k.hasOwnProperty(h)){k[h].isCollapsed=true}}Ext.suspendLayouts();i.dataSource.onRefresh();Ext.resumeLayouts(true);for(h in k){if(k.hasOwnProperty(h)){i.afterCollapseExpand(true,h);if(j){j.afterCollapseExpand(true,h)}}}},doCollapseExpand:function(k,j,p){var m=this,n=m.lockingPartner,l=m.getGroup(j);if(m.getMetaGroup(l).isCollapsed!==k){m.isExpandingOrCollapsing=true;Ext.suspendLayouts();if(k){m.dataSource.collapseGroup(l)}else{m.dataSource.expandGroup(l)}Ext.resumeLayouts(true);m.afterCollapseExpand(k,j,p);if(n){n.afterCollapseExpand(k,j,false)}m.isExpandingOrCollapsing=false}},afterCollapseExpand:function(n,k,q){var p=this,r=p.view,l=r.bufferedRenderer,m;m=p.getHeaderNode(k);r.fireEvent(n?"groupcollapse":"groupexpand",r,m,k);if(q){if(m){r.scrollElIntoView(Ext.fly(m).up(r.getItemSelector()),false,true)}else{if(l){l.scrollTo(p.getGroup(k).getAt(0))}}}},onGroupChange:function(e,g){if(!g){this.view.ownerGrid.getView().refreshView()}else{this.lastGrouper=g}},getMenuItem:function(j){var k=this.view,h=k.headerCt.down("gridcolumn[dataIndex="+j+"]"),i=k.headerCt.getMenu();return h?i.down("menuitem[headerId="+h.id+"]"):null},onGroupKey:function(i,j){var k=this,h=k.getGroupName(j.target);if(h){k.onGroupClick(k.view,j.target,h,j)}},onGroupClick:function(q,v,g,s){var r=this,p=r.getCache(),e=p.map,t=!r.isExpanded(g),u;if(r.collapsible){if(s.ctrlKey){Ext.suspendLayouts();for(u in e){if(u===g){if(t){r.expand(g)}}else{if(!p[u].isCollapsed){r.doCollapseExpand(true,u,false)}}}Ext.resumeLayouts(true);return}if(t){r.expand(g)}else{r.collapse(g)}}},setupRowData:function(S,L,I){var A=this,R=I.recordIndex,z=A.refreshData,T=A.getCache(),E=z.header,B=z.groupField,O=A.getGridStore(),D=A.view.dataSource,F=D.isBufferedStore,Q=A.grid.columnManager.getHeaderByDataIndex(B),P=!!(Q&&Q.renderer),C=S.groupKey,N=S.isCollapsedPlaceholder&&C?A.getGroup(C):S.group,G,M,J,H,K;I.isCollapsedGroup=false;I.summaryRecord=I.groupHeaderCls=null;if(z.doGrouping){G=O.getGrouper();if(S.isCollapsedPlaceholder){M=N.getGroupKey();K=N.items;I.isFirstRow=I.isLastRow=true;I.groupHeaderCls=A.hdCollapsedCls;I.isCollapsedGroup=I.needsWrap=true;I.groupName=M;I.metaGroupCache=T;T.groupField=B;T.name=T.renderedGroupValue=P?Q.renderer(N.getAt(0).get(B),{},S):M;T.groupValue=K[0].get(B);T.columnName=E?E.text:B;I.collapsibleCls=A.collapsible?A.collapsibleCls:A.hdNotCollapsibleCls;T.rows=T.children=K;if(A.showSummaryRow){I.summaryRecord=z.summaryData[M]}return}M=G.getGroupString(S);if(N){K=N.items;I.isFirstRow=S===K[0];I.isLastRow=S===K[K.length-1]}else{I.isFirstRow=R===0;if(!I.isFirstRow){J=O.getAt(R-1);if(J){I.isFirstRow=!J.isEqual(G.getGroupString(J),M)}}I.isLastRow=R===(F?O.getTotalCount():O.getCount())-1;if(!I.isLastRow){H=O.getAt(R+1);if(H){I.isLastRow=!H.isEqual(G.getGroupString(H),M)}}}if(I.isFirstRow){T.groupField=B;T.name=T.renderedGroupValue=P?Q.renderer(S.get(B),{},S):M;T.groupValue=S.get(B);T.columnName=E?E.text:B;I.collapsibleCls=A.collapsible?A.collapsibleCls:A.hdNotCollapsibleCls;I.groupName=M;if(!A.isExpanded(M)){I.itemClasses.push(A.hdCollapsedCls);I.isCollapsedGroup=true}if(F){T.rows=T.children=[]}else{T.rows=T.children=A.getRecordGroup(S).items}I.metaGroupCache=T}if(I.isLastRow){if(A.showSummaryRow){I.summaryRecord=z.summaryData[M];I.itemClasses.push("x-grid-group-last")}}I.needsWrap=(I.isFirstRow||I.summaryRecord)}},setup:function(m,l){var p=this,n=p.refreshData,r=l.view,q=r.isGrouping=!p.disabled&&p.getGridStore().isGrouped(),k=r.bufferedRenderer;p.skippedRows=0;if(k){k.variableRowHeight=r.bufferedRenderer.variableRowHeight||q}n.groupField=p.getGroupField();n.header=p.getGroupedHeader(n.groupField);n.doGrouping=q;l.groupHeaderTpl=Ext.XTemplate.getTpl(p,"groupHeaderTpl");if(q&&p.showSummaryRow){n.summaryData=p.generateSummaryData()}},cleanup:function(h,g){var i=this.refreshData;g.metaGroupCache=g.groupHeaderTpl=g.isFirstRow=null;i.groupField=i.header=i.summaryData=null},getAggregateRecord:function(i,h){var g;if(h===true||!i.aggregateRecord){g=new Ext.data.Model();i.aggregateRecord=g;g.isNonData=g.isSummary=true}return i.aggregateRecord},generateSummaryData:function(){var i=this,K=i.getGridStore(),F=K.getFilters(),E=K.getGroups().items,y=K.getProxy().getReader(),H=i.getGroupField(),w=i.lockingPartner,I=i.updateSummaryRow,A={},D=i.view.ownerCt,B,x,J,C,z,G,L;if(i.remoteRoot){L=i.mixins.summary.generateSummaryData.call(i,H);G=!!L}for(B=0,x=E.length;B<x;++B){J=E[B];C=i.getMetaGroup(J);if(I||G||K.updating||i.grid.reconfiguring||i.didGroupChange(J,C,F)){z=i.populateRecord(J,C,L);if(!w||(D===D.ownerLockable.normalGrid)){C.lastGroup=J;C.lastGroupGeneration=J.generation;C.lastFilterGeneration=F.generation}}else{z=i.getAggregateRecord(C)}A[J.getGroupKey()]=z}i.updateSummaryRow=false;return A},getGroupName:function(n){var l=this,p=l.view,m=l.eventSelector,j,k;j=Ext.fly(n).findParent(m);if(!j){k=Ext.fly(n).findParent(p.itemSelector);if(k){j=k.down(m,true)}}if(j){return Ext.htmlDecode(j.getAttribute("data-groupname"))}},getRecordGroup:function(i){var g=this.getGridStore(),h=g.getGrouper();if(h){return g.getGroups().getByKey(h.getGroupString(i))}},getGroupedHeader:function(n){var l=this,k=l.view.headerCt,m=l.lockingPartner,p,j;n=n||l.getGroupField();if(n){p="[dataIndex="+n+"]";j=k.down(p);if(!j&&m){j=m.view.headerCt.down(p)}}return j||null},getFireEventArgs:function(j,k,e,i){return[j,k,e,this.getGroupName(e),i]},destroy:function(){var g=this,e=g.dataSource;g.storeListeners=Ext.destroy(g.storeListeners);g.view=g.prunedHeader=g.grid=g.dataSource=g.groupers=null;g.invalidateCache();Ext.grid.feature.Feature.prototype.destroy.call(this);if(e){e.bindStore(null);Ext.destroy(e)}},beforeReconfigure:function(t,m,s,v,r){var p=this,n=p.view,u=p.dataSource,q;if(m&&m!==v){q=m.isBufferedStore;if(!u){Ext.destroy(p.storeListeners);p.setupStoreListeners(m)}if(q!==v.isBufferedStore){Ext.raise("Cannot reconfigure grouping switching between buffered and non-buffered stores")}n.isGrouping=!!m.getGrouper();u.bindStore(m)}},populateRecord:function(J,C,v){var y=this,x=y.grid.ownerLockable?y.grid.ownerLockable.view:y.view,i=y.getGridStore(),A=y.getAggregateRecord(C),D=x.headerCt.getGridColumns(),z=D.length,H=J.getGroupKey(),E,w,B,F,I,G;A.beginEdit();if(v){E=v[H];for(w in E){if(E.hasOwnProperty(w)){if(w!==A.idProperty){A.set(w,E[w])}}}}for(B=0;B<z;++B){F=D[B];I=F.dataIndex||F.getItemId();if(!v){G=y.getSummary(i,F.summaryType,I,J);A.set(I,G)}else{G=A.get(F.dataIndex)}y.setSummaryData(A,F.getItemId(),G,H)}A.ownerGroup=H;A.endEdit(true);A.commit();return A},privates:{didGroupChange:function(h,k,i){var j=true;if(h===k.lastGroup){j=k.lastGroupGeneration!==h.generation||k.lastFilterGeneration!==i.generation}return j},setupStoreListeners:function(g){var e=this;e.storeListeners=g.on({groupchange:e.onGroupChange,scope:e,destroyable:true})}}},0,0,0,0,["feature.grouping"],[["summary",Ext.grid.feature.AbstractSummary]],[Ext.grid.feature,"Grouping"],0));(Ext.cmd.derive("Ext.grid.feature.GroupingSummary",Ext.grid.feature.Grouping,{showSummaryRow:true,vetoEvent:function(l,j,e,k){var m=Ext.grid.feature.Grouping.prototype.vetoEvent.apply(this,arguments);if(m!==false&&k.getTarget(this.summaryRowSelector)){m=false}return m}},0,0,0,0,["feature.groupingsummary"],0,[Ext.grid.feature,"GroupingSummary"],0));(Ext.cmd.derive("Ext.grid.feature.RowBody",Ext.grid.feature.Feature,{rowBodyCls:"x-grid-row-body",rowBodyHiddenCls:"x-grid-row-body-hidden",rowBodyTdSelector:"td.x-grid-cell-rowbody",eventPrefix:"rowbody",eventSelector:"tr.x-grid-rowbody-tr",colSpanDecrement:0,bodyBefore:false,outerTpl:{fn:function(k,l,j){var m=l.view,i=m.rowValues;this.rowBody.setup(l.rows,i);this.nextTpl.applyOut(l,k,j);this.rowBody.cleanup(l.rows,i)},priority:100},extraRowTpl:["{%","if(this.rowBody.bodyBefore) {","values.view.renderColumnSizer(values, out);","} else {","this.nextTpl.applyOut(values, out, parent);","}","values.view.rowBodyFeature.setupRowData(values.record, values.recordIndex, values);","%}",'<tr class="x-grid-rowbody-tr {rowBodyCls}" {ariaRowAttr}>','<td class="x-grid-td x-grid-cell-rowbody" colspan="{rowBodyColspan}" {ariaCellAttr}>','<div class="x-grid-rowbody {rowBodyDivCls}" {ariaCellInnerAttr}>{rowBody}</div>',"</td>","</tr>","{%","if(this.rowBody.bodyBefore) {","this.nextTpl.applyOut(values, out, parent);","}","%}",{priority:100,beginRowSync:function(d){d.add("rowBody",this.owner.eventSelector)},syncContent:function(m,j,n){var p=this.owner,l=Ext.fly(m).down(p.eventSelector,true),k;if(l&&(k=Ext.fly(j).down(p.eventSelector,true))){Ext.fly(l).syncContent(k)}}}],init:function(h){var g=this,i=g.view=h.getView();h.variableRowHeight=i.variableRowHeight=true;i.rowBodyFeature=g;h.mon(i,{element:"el",click:g.onClick,scope:g});i.headerCt.on({columnschanged:g.onColumnsChanged,scope:g});i.addTpl(g.outerTpl).rowBody=g;i.addRowTpl(Ext.XTemplate.getTpl(this,"extraRowTpl")).rowBody=g;Ext.grid.feature.Feature.prototype.init.apply(this,arguments)},onClick:function(e){var h=this,i=e.getTarget(h.eventSelector);if(i&&Ext.fly(i=(i.previousSibling||i.nextSibling)).is(h.view.rowSelector)){e.target=i;h.view.handleEvent(e)}},getSelectedRow:function(i,g){var h=i.getNode(g);if(h){return Ext.fly(h).down(this.eventSelector)}return null},onColumnsChanged:function(j){var l=this.view.el.query(this.rowBodyTdSelector),i=j.getVisibleGridColumns().length,m=l.length,k;for(k=0;k<m;++k){l[k].setAttribute("colSpan",i)}},setupRowData:function(i,g,h){if(this.getAdditionalData){Ext.apply(h,this.getAdditionalData(i.data,g,i,h))}},setup:function(g,e){e.rowBodyCls=this.rowBodyCls;e.rowBodyColspan=this.view.headerCt.visibleColumnManager.getColumns().length-this.colSpanDecrement},cleanup:function(g,e){e.rowBodyCls=e.rowBodyColspan=e.rowBody=null}},0,0,0,0,["feature.rowbody"],0,[Ext.grid.feature,"RowBody"],0));(Ext.cmd.derive("Ext.grid.feature.Summary",Ext.grid.feature.AbstractSummary,{dock:undefined,dockedSummaryCls:"x-docked-summary",panelBodyCls:"x-summary-",hasFeatureEvent:false,fullSummaryTpl:["{%","var me = this.summaryFeature,","    record = me.summaryRecord,","    view = values.view,","    bufferedRenderer = view.bufferedRenderer;","this.nextTpl.applyOut(values, out, parent);","if (!me.disabled && me.showSummaryRow && view.store.isLast(values.record)) {","if (bufferedRenderer) {","    bufferedRenderer.variableRowHeight = true;","}","me.outputSummaryRecord((record && record.isModel) ? record : me.createSummaryRecord(view), values, out, parent);","}","%}",{priority:300,beginRowSync:function(d){d.add("fullSummary",this.summaryFeature.summaryRowSelector)},syncContent:function(n,k,p){n=Ext.fly(n,"syncDest");k=Ext.fly(k,"sycSrc");var q=this.owner,r=q.summaryRowSelector,l=n.down(r,true),m=k.down(r,true);if(l&&m){if(p){this.summaryFeature.view.updateColumns(l,m,p)}else{Ext.fly(l).syncContent(m)}}}}],init:function(j){var h=this,k=h.view,i=h.dock;Ext.grid.feature.AbstractSummary.prototype.init.apply(this,arguments);if(i){j.addBodyCls(h.panelBodyCls+i);j.headerCt.on({add:h.onStoreUpdate,afterlayout:h.onStoreUpdate,scope:h});j.on({beforerender:function(){var c=[h.summaryTableCls];if(k.columnLines){c[c.length]=k.ownerCt.colLinesCls}h.summaryBar=j.addDocked({childEls:["innerCt","item"],renderTpl:['<div id="{id}-innerCt" data-ref="innerCt" role="presentation">','<table id="{id}-item" data-ref="item" cellPadding="0" cellSpacing="0" class="'+c.join(" ")+'">','<tr class="'+h.summaryRowCls+'"></tr>',"</table>","</div>"],scrollable:{x:false,y:false},hidden:!h.showSummaryRow,itemId:"summaryBar",cls:[h.dockedSummaryCls,h.dockedSummaryCls+"-"+i],xtype:"component",dock:i,weight:10000000})[0]},afterrender:function(){j.getView().getScrollable().addPartner(h.summaryBar.getScrollable());h.onStoreUpdate()},single:true});j.headerCt.afterComponentLayout=Ext.Function.createSequence(j.headerCt.afterComponentLayout,function(){var d=this.getTableWidth(),c=h.summaryBar.innerCt;h.summaryBar.item.setWidth(d);if(this.tooNarrow){d+=Ext.getScrollbarSize().width}c.setWidth(d)})}else{if(j.bufferedRenderer){h.wrapsItem=true;k.addRowTpl(Ext.XTemplate.getTpl(h,"fullSummaryTpl")).summaryFeature=h;k.on("refresh",h.onViewRefresh,h)}else{h.wrapsItem=false;h.view.addFooterFn(h.renderSummaryRow)}}j.ownerGrid.on({beforereconfigure:h.onBeforeReconfigure,columnmove:h.onStoreUpdate,scope:h});h.bindStore(j,j.getStore())},onBeforeReconfigure:function(e,g){this.summaryRecord=null;if(g){this.bindStore(e,g)}},bindStore:function(h,i){var g=this;Ext.destroy(g.storeListeners);g.storeListeners=i.on({scope:g,destroyable:true,update:g.onStoreUpdate,datachanged:g.onStoreUpdate});Ext.grid.feature.AbstractSummary.prototype.bindStore.call(this,h,i)},renderSummaryRow:function(p,n,m){var q=p.view,l=q.findFeature("summary"),r,k;if(!l.disabled&&l.showSummaryRow){r=l.summaryRecord;n.push('<table cellpadding="0" cellspacing="0" class="'+l.summaryItemCls+'" style="table-layout: fixed; width: 100%;">');l.outputSummaryRecord((r&&r.isModel)?r:l.createSummaryRecord(q),p,n,m);n.push("</table>")}},toggleSummaryRow:function(h,k){var i=this,j=i.summaryBar;Ext.grid.feature.AbstractSummary.prototype.toggleSummaryRow.call(this,h,k);if(j){j.setVisible(i.showSummaryRow);i.onViewScroll()}},getSummaryBar:function(){return this.summaryBar},vetoEvent:function(k,i,e,j){return !j.getTarget(this.summaryRowSelector)},onViewScroll:function(){this.summaryBar.setScrollX(this.view.getScrollX())},onViewRefresh:function(j){var i=this,k,h;if(!i.disabled&&i.showSummaryRow&&!j.all.getCount()){k=i.createSummaryRecord(j);h=Ext.fly(j.getNodeContainer()).createChild({tag:"table",cellpadding:0,cellspacing:0,cls:i.summaryItemCls,style:"table-layout: fixed; width: 100%"},false,true);h.appendChild(Ext.fly(j.createRowElement(k,-1)).down(i.summaryRowSelector,true))}},createSummaryRecord:function(s){var t=this,w=s.headerCt.getGridColumns(),z=t.remoteRoot,u=t.summaryRecord,q=w.length,v,x,r,y,i;if(!u){i={id:s.id+"-summary-record"};u=t.summaryRecord=new Ext.data.Model(i)}u.beginEdit();if(z){y=t.generateSummaryData();if(y){u.set(y)}}else{for(v=0;v<q;v++){x=w[v];r=x.dataIndex||x.getItemId();y=t.getSummary(s.store,x.summaryType,r);u.set(r,y);t.setSummaryData(u,x.getItemId(),y)}}u.endEdit(true);u.commit(true);u.isSummary=true;return u},onStoreUpdate:function(){var m=this,r=m.view,t=m.summaryRowSelector,n=m.dock,s,p,q,l;if(!r.rendered){return}s=m.createSummaryRecord(r);p=Ext.fly(r.createRowElement(s,-1)).down(t,true);if(!p){return}if(n){l=m.summaryBar.item.dom.firstChild;q=l.firstChild}else{q=m.view.el.down(t,true);l=q?q.parentNode:r.getNodeContainer()}if(l){l.insertBefore(p,q);if(q){l.removeChild(q)}}if(n){m.onColumnHeaderLayout()}},onColumnHeaderLayout:function(){var q=this.view,n=q.headerCt.getVisibleGridColumns(),l,r=n.length,p,i=this.summaryBar.el,m;for(p=0;p<r;p++){l=n[p];m=i.down(q.getCellSelector(l),true);if(m){Ext.fly(m).setWidth(l.width||(l.lastBox?l.lastBox.width:100))}}},destroy:function(){var d=this;d.summaryRecord=d.storeListeners=Ext.destroy(d.storeListeners);Ext.grid.feature.AbstractSummary.prototype.destroy.call(this)}},0,0,0,0,["feature.summary"],0,[Ext.grid.feature,"Summary"],0));(Ext.cmd.derive("Ext.menu.Item",Ext.Component,{alternateClassName:"Ext.menu.TextItem",isMenuItem:true,activated:false,activeCls:"x-menu-item-active",clickHideDelay:0,destroyMenu:true,disabledCls:"x-menu-item-disabled",hideOnClick:true,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",focusable:true,ariaRole:"menuitem",ariaEl:"itemEl",baseCls:"x-menu-item",arrowCls:"x-menu-item-arrow",baseIconCls:"x-menu-item-icon",textCls:"x-menu-item-text",indentCls:"x-menu-item-indent",indentNoSeparatorCls:"x-menu-item-indent-no-separator",indentRightIconCls:"x-menu-item-indent-right-icon",indentRightArrowCls:"x-menu-item-indent-right-arrow",linkCls:"x-menu-item-link",linkHrefCls:"x-menu-item-link-href",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:'<tpl if="plain">{text}<tpl else><a id="{id}-itemEl" data-ref="itemEl" class="{linkCls}<tpl if="hasHref"> {linkHrefCls}</tpl>{childElCls}" href="{href}" <tpl if="hrefTarget"> target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on"<tpl if="tabIndex != null"> tabindex="{tabIndex}"</tpl><tpl foreach="ariaAttributes"> {$}="{.}"</tpl>><span id="{id}-textEl" data-ref="textEl" class="{textCls} {textCls}-{ui} {indentCls}{childElCls}" unselectable="on">{text}</span><tpl if="hasIcon"><div role="presentation" id="{id}-iconEl" data-ref="iconEl" class="{baseIconCls}-{ui} {baseIconCls}{[values.rightIcon ? "-right" : ""]} {iconCls}{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl><tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>"><tpl if="glyph">&#{glyph};</tpl></div></tpl><tpl if="showCheckbox"><div role="presentation" id="{id}-checkEl" data-ref="checkEl" class="{baseIconCls}-{ui} {baseIconCls}{[(values.hasIcon && !values.rightIcon) ? "-right" : ""]} {groupCls} {checkboxCls}{childElCls}"></div></tpl><tpl if="hasMenu"><div role="presentation" id="{id}-arrowEl" data-ref="arrowEl" class="{arrowCls} {arrowCls}-{ui}{childElCls}"></div></tpl></a></tpl>',maskOnDisable:false,iconAlign:"left",initComponent:function(){var h=this,i=h.cls?[h.cls]:[],g;if(h.hasOwnProperty("canActivate")){h.focusable=h.canActivate}if(h.plain){i.push("x-menu-item-plain")}if(i.length){h.cls=i.join(" ")}if(h.menu){g=h.menu;h.menu=null;h.setMenu(g)}Ext.Component.prototype.initComponent.apply(this,arguments)},canFocus:function(){var d=this;return d.focusable&&d.rendered&&d.canActivate!==false&&!d.destroying&&!d.destroyed&&d.isVisible(true)},onFocus:function(e){var g=this;Ext.Component.prototype.onFocus.call(this,e);if(!g.disabled){if(!g.plain){g.addCls(g.activeCls)}g.activated=true;if(g.hasListeners.activate){g.fireEvent("activate",g)}}},onFocusLeave:function(e){var g=this;Ext.Component.prototype.onFocusLeave.call(this,e);if(g.activated){if(!g.plain){g.removeCls(g.activeCls)}g.doHideMenu();g.activated=false;if(g.hasListeners.deactivate){g.fireEvent("deactivate",g)}}},doHideMenu:function(){var d=this.menu;this.cancelDeferExpand();if(d&&d.isVisible()){d.hide()}},deferHideParentMenus:function(){for(var d=this.getRefOwner();d&&((d.isMenu&&d.floating)||d.isMenuItem);d=d.getRefOwner()){if(d.isMenu){d.hide()}}},expandMenu:function(g,i){var h=this;if(h.activated&&h.menu){h.hideOnClick=false;h.cancelDeferHide();i=i==null?h.menuExpandDelay:i;if(i===0){h.doExpandMenu(g)}else{h.cancelDeferExpand();h.expandMenuTimer=Ext.defer(h.doExpandMenu,i,h,[g])}}},doExpandMenu:function(i){var h=this,g=h.menu;if(!g.isVisible()){h.parentMenu.activeChild=g;g.ownerCmp=h;g.parentMenu=h.parentMenu;g.constrainTo=document.body;g.autoFocus=!i||!i.pointerType;g.showBy(h,h.menuAlign)}},getRefItems:function(i){var g=this.menu,h;if(g){h=g.getRefItems(i);h.unshift(g)}return h||[]},getValue:function(){return this.value},hideMenu:function(g){var e=this;if(e.menu){e.cancelDeferExpand();e.hideMenuTimer=Ext.defer(e.doHideMenu,Ext.isNumber(g)?g:e.menuHideDelay,e)}},onClick:function(k){var l=this,m=l.clickHideDelay,e=k.browserEvent,n,p;if(!l.href||l.disabled){k.stopEvent();if(l.disabled){return false}}if(l.disabled||l.handlingClick){return}if(l.hideOnClick){if(!m){l.deferHideParentMenus()}else{l.deferHideParentMenusTimer=Ext.defer(l.deferHideParentMenus,m,l)}}n=l.fireEvent("click",l,k);if(l.destroyed){return}if(n!==false&&l.handler){Ext.callback(l.handler,l.scope,[l,k],0,l)}if(Ext.isIE9m){p=e.returnValue===false?true:false}else{p=!!e.defaultPrevented}if(l.href&&k.type!=="click"&&!p){l.handlingClick=true;l.itemEl.dom.click();l.handlingClick=false}if(!l.hideOnClick){l.focus()}return n},onRemoved:function(){var d=this;if(d.activated&&d.parentMenu.activeItem===d){d.parentMenu.deactivateActiveItem()}Ext.Component.prototype.onRemoved.apply(this,arguments);d.parentMenu=d.ownerCmp=null},beforeDestroy:function(){var d=this;if(d.rendered){d.clearTip()}Ext.Component.prototype.beforeDestroy.call(this)},onDestroy:function(){var d=this;d.cancelDeferExpand();d.cancelDeferHide();clearTimeout(d.deferHideParentMenusTimer);d.setMenu(null);Ext.Component.prototype.onDestroy.apply(this,arguments)},beforeRender:function(){var r=this,q=r.glyph,s=Ext._glyphFontFamily,v=!!(r.icon||r.iconCls||q),p=!!r.menu,u=((r.iconAlign==="right")&&!p),x=r.isMenuCheckItem,z=[],w=r.ownerCt,t=w.plain,y;if(r.plain){r.ariaEl="el"}Ext.Component.prototype.beforeRender.call(this);if(v){if(p&&r.showCheckbox){v=false}}if(typeof q==="string"){y=q.split("@");q=y[0];s=y[1]}if(!t||(v&&!u)||x){if(w.showSeparator&&!t){z.push(r.indentCls)}else{z.push(r.indentNoSeparatorCls)}}if(p){z.push(r.indentRightArrowCls)}else{if(v&&(u||x)){z.push(r.indentRightIconCls)}}Ext.applyIf(r.renderData,{hasHref:!!r.href,href:r.href||"#",hrefTarget:r.hrefTarget,icon:r.icon,iconCls:r.iconCls,glyph:q,glyphCls:q?"x-menu-item-glyph":undefined,glyphFontFamily:s,hasIcon:v,hasMenu:p,indent:!t||v||x,isCheckItem:x,rightIcon:u,plain:r.plain,text:r.text,arrowCls:r.arrowCls,baseIconCls:r.baseIconCls,textCls:r.textCls,indentCls:z.join(" "),linkCls:r.linkCls,linkHrefCls:r.linkHrefCls,groupCls:r.group?r.groupCls:"",tabIndex:r.tabIndex})},onRender:function(){var d=this;Ext.Component.prototype.onRender.apply(this,arguments);if(d.tooltip){d.setTooltip(d.tooltip,true)}},getMenu:function(){return this.menu||null},setMenu:function(l,m){var n=this,r=n.menu,s=n.arrowEl,t=n.ariaEl.dom,p,q;if(r){r.ownerCmp=r.parentMenu=null;if(m===true||(m!==false&&n.destroyMenu)){Ext.destroy(r)}if(t){t.removeAttribute("aria-haspopup");t.removeAttribute("aria-owns")}else{p=(n.ariaRenderAttributes||(n.ariaRenderAttributes={}));delete p["aria-haspopup"];delete p["aria-owns"]}}if(l){q=l.isMenu;l=n.menu=Ext.menu.Manager.get(l,{ownerCmp:n,focusOnToFront:false});l.setOwnerCmp(n,q);if(t){t.setAttribute("aria-haspopup",true);t.setAttribute("aria-owns",l.id)}else{p=(n.ariaRenderAttributes||(n.ariaRenderAttributes={}));p["aria-haspopup"]=true;p["aria-owns"]=l.id}}else{l=n.menu=null}if(l&&n.rendered&&!n.destroying&&s){s[l?"addCls":"removeCls"](n.arrowCls)}},setHandler:function(e,g){this.handler=e||null;this.scope=g},setIcon:function(h){var i=this.iconEl,g=this.icon;if(i){i.src=h||Ext.BLANK_IMAGE_URL}this.icon=h;this.fireEvent("iconchange",this,g,h)},setIconCls:function(j){var h=this,k=h.iconEl,i=h.iconCls;if(k){if(h.iconCls){k.removeCls(h.iconCls)}if(j){k.addCls(j)}}h.iconCls=j;h.fireEvent("iconchange",h,i,j)},setText:function(h){var i=this,j=i.textEl||i.el,k=i.text;i.text=h;if(i.rendered){j.setHtml(h||"");i.updateLayout()}i.fireEvent("textchange",i,k,h)},getTipAttr:function(){return this.tooltipType==="qtip"?"data-qtip":"title"},clearTip:function(){if(Ext.quickTipsActive&&Ext.isObject(this.tooltip)){Ext.tip.QuickTipManager.unregister(this.itemEl)}},setTooltip:function(g,i){var h=this;if(h.rendered){if(!i){h.clearTip()}if(Ext.quickTipsActive&&Ext.isObject(g)){Ext.tip.QuickTipManager.register(Ext.apply({target:h.itemEl.id},g));h.tooltip=g}else{h.itemEl.dom.setAttribute(h.getTipAttr(),g)}}else{h.tooltip=g}return h},privates:{cancelDeferExpand:function(){window.clearTimeout(this.expandMenuTimer)},cancelDeferHide:function(){window.clearTimeout(this.hideMenuTimer)},getFocusEl:function(){return this.plain?this.el:this.itemEl}}},0,["menuitem"],["component","box","menuitem"],{component:true,box:true,menuitem:true},["widget.menuitem"],[[Ext.mixin.Queryable.prototype.mixinId||Ext.mixin.Queryable.$className,Ext.mixin.Queryable]],[Ext.menu,"Item",Ext.menu,"TextItem"],0));(Ext.cmd.derive("Ext.menu.CheckItem",Ext.menu.Item,{checkedCls:"x-menu-item-checked",uncheckedCls:"x-menu-item-unchecked",groupCls:"x-menu-group-icon",hideOnClick:false,checkChangeDisabled:false,submenuText:"{0} submenu",ariaRole:"menuitemcheckbox",childEls:["checkEl"],showCheckbox:true,isMenuCheckItem:true,checkboxCls:"x-menu-item-checkbox",initComponent:function(){var d=this;d.checked=!!d.checked;Ext.menu.Item.prototype.initComponent.apply(this,arguments);if(d.group){Ext.menu.Manager.registerCheckable(d);if(d.initialConfig.hideOnClick!==false){d.hideOnClick=true}}},beforeRender:function(){var e=this,g;Ext.menu.Item.prototype.beforeRender.call(this);Ext.apply(e.renderData,{checkboxCls:e.checkboxCls,showCheckbox:e.showCheckbox});g=(e.ariaRenderAttributes||(e.ariaRenderAttributes={}));g["aria-checked"]=e.menu?"mixed":e.checked;if(e.menu){g["aria-label"]=Ext.String.formatEncode(e.submenuText,e.text)}},afterRender:function(){var d=this;Ext.menu.Item.prototype.afterRender.call(this);d.checked=!d.checked;d.setChecked(!d.checked,true);if(d.checkChangeDisabled){d.disableCheckChange()}if(Ext.isGecko&&d.checkEl){d.checkEl.on("mousedown",d.onMouseDownCheck)}},disableCheckChange:function(){var e=this,g=e.checkEl;if(g){g.addCls(e.disabledCls)}if(Ext.isIE8&&e.rendered){e.el.repaint()}e.checkChangeDisabled=true},enableCheckChange:function(){var e=this,g=e.checkEl;if(g){g.removeCls(e.disabledCls)}e.checkChangeDisabled=false},onMouseDownCheck:function(d){d.preventDefault()},onClick:function(e){var g=this;if(!(g.disabled||g.checkChangeDisabled||g.checked&&g.group||g.menu&&"touch"===e.pointerType&&!g.checkEl.contains(e.target))){g.setChecked(!g.checked);if(e.type==="keydown"&&g.menu){return false}}Ext.menu.Item.prototype.onClick.call(this,e)},onDestroy:function(){Ext.menu.Manager.unregisterCheckable(this);Ext.menu.Item.prototype.onDestroy.apply(this,arguments)},setText:function(g){var h=this,i=h.ariaEl.dom;Ext.menu.Item.prototype.setText.call(this,g);if(i&&h.menu){i.setAttribute("aria-label",Ext.String.formatEncode(h.submenuText,g))}},setChecked:function(m,p){var n=this,l=n.checkedCls,k=n.uncheckedCls,q=n.el,r=n.ariaEl.dom;if(n.checked!==m&&(p||n.fireEvent("beforecheckchange",n,m)!==false)){if(q){if(m){q.addCls(l);q.removeCls(k)}else{q.addCls(k);q.removeCls(l)}}if(r){r.setAttribute("aria-checked",n.menu?"mixed":!!m)}n.checked=m;Ext.menu.Manager.onCheckChange(n,m);if(!p){Ext.callback(n.checkHandler,n.scope,[n,m],0,n);n.fireEvent("checkchange",n,m)}}}},0,["menucheckitem"],["component","box","menuitem","menucheckitem"],{component:true,box:true,menuitem:true,menucheckitem:true},["widget.menucheckitem"],0,[Ext.menu,"CheckItem"],0));(Ext.cmd.derive("Ext.menu.Separator",Ext.menu.Item,{focusable:false,canActivate:false,hideOnClick:false,plain:true,separatorCls:"x-menu-item-separator",text:"&#160;",ariaRole:"separator",beforeRender:function(){this.addCls(this.separatorCls);Ext.menu.Item.prototype.beforeRender.call(this)}},0,["menuseparator"],["component","box","menuitem","menuseparator"],{component:true,box:true,menuitem:true,menuseparator:true},["widget.menuseparator"],0,[Ext.menu,"Separator"],0));Ext.define("Ext.theme.neptune.menu.Separator",{override:"Ext.menu.Separator",border:true});(Ext.cmd.derive("Ext.menu.Menu",Ext.panel.Panel,{enableKeyNav:true,allowOtherMenus:false,ariaRole:"menu",floating:true,constrain:true,hidden:true,hideMode:"visibility",ignoreParentClicks:false,isMenu:true,showSeparator:true,minWidth:undefined,defaultMinWidth:120,defaultAlign:"tl-bl?",focusOnToFront:false,bringParentToFront:false,defaultFocus:":focusable",menuClickBuffer:0,baseCls:"x-menu",_iconSeparatorCls:"x-menu-icon-separator",_itemCmpCls:"x-menu-item-cmp",layout:{type:"vbox",align:"stretchmax",overflowHandler:"Scroller"},initComponent:function(){var k=this,m=["x-menu"],j=k.bodyCls?[k.bodyCls]:[],i=k.floating!==false,l={element:"el",click:k.onClick,mouseover:k.onMouseOver,scope:k};if(Ext.supports.Touch){l.pointerdown=k.onMouseOver}k.on(l);k.on({beforeshow:k.onBeforeShow,scope:k});if(k.plain){m.push("x-menu-plain")}k.cls=m.join(" ");j.push("x-menu-body",Ext.dom.Element.unselectableCls);k.bodyCls=j.join(" ");if(i){if(k.minWidth===undefined){k.minWidth=k.defaultMinWidth}}else{k.hidden=!!k.initialConfig.hidden;k.constrain=false}Ext.panel.Panel.prototype.initComponent.apply(this,arguments);Ext.override(k.getLayout(),{configureItem:k.configureItem})},initFloatConstrain:Ext.emptyFn,getInherited:function(){var d=Ext.panel.Panel.prototype.getInherited.call(this);d.hidden=this.hidden;return d},beforeRender:function(){var d=this;Ext.panel.Panel.prototype.beforeRender.apply(this,arguments);if(!d.getSizeModel().width.shrinkWrap){d.layout.align="stretch"}if(d.floating){d.ariaRenderAttributes=d.ariaRenderAttributes||{};d.ariaRenderAttributes["aria-expanded"]=!!d.autoShow}},onBoxReady:function(){var h=this,g=h._iconSeparatorCls,i=h.focusableKeyNav;if(i){i.map.processEventScope=h;i.map.processEvent=function(c){if(c.keyCode===c.ESC){c.target=this.el.dom}return c};i.map.addBinding([{key:Ext.event.Event.ESC,handler:h.onEscapeKey,scope:h},{key:/[\w]/,handler:h.onShortcutKey,scope:h,shift:false,ctrl:false,alt:false}])}else{h.escapeKeyNav=new Ext.util.KeyNav(h.el,{eventName:"keydown",scope:h,esc:h.onEscapeKey})}Ext.panel.Panel.prototype.onBoxReady.apply(this,arguments);if(h.showSeparator){h.iconSepEl=h.body.insertFirst({role:"presentation",cls:g+" "+g+"-"+h.ui,html:"&#160;"})}if(Ext.supports.MSPointerEvents||Ext.supports.PointerEvents){h.el.on({scope:h,click:h.preventClick,translate:false})}h.mouseMonitor=h.el.monitorMouseLeave(100,h.onMouseLeave,h)},onFocusLeave:function(e){var g=this;Ext.panel.Panel.prototype.onFocusLeave.call(this,e);g.mixins.focusablecontainer.onFocusLeave.call(g,e);if(g.floating){g.hide()}},canActivateItem:function(d){return d&&d.isFocusable()},deactivateActiveItem:function(){var g=this,e=g.lastFocusedChild;if(e){e.blur()}},getItemFromEvent:function(e){var k=this,i=k.layout.getRenderTarget().dom,j=e.getTarget();while(j.parentNode!==i){j=j.parentNode;if(!j){return}}return Ext.getCmp(j.id)},lookupComponent:function(e){var g=this;if(typeof e==="string"){e=g.lookupItemFromString(e)}else{if(Ext.isObject(e)){e=g.lookupItemFromObject(e)}}if(!e.dock){e.minWidth=e.minWidth||g.minWidth}return e},lookupItemFromObject:function(e){var g=this;if(!e.isComponent){if(!e.xtype){e=Ext.create("Ext.menu."+(Ext.isBoolean(e.checked)?"Check":"")+"Item",e)}else{e=Ext.ComponentManager.create(e,e.xtype)}}if(e.isMenuItem){e.parentMenu=g}return e},lookupItemFromString:function(d){return(d==="separator"||d==="-")?new Ext.menu.Separator():new Ext.menu.Item({canActivate:false,hideOnClick:false,plain:true,text:d})},configureItem:function(m){var n=this.owner,k="x-",l=n.ui,p,j;if(m.isMenuItem){m.setUI(l)}else{if(n.items.getCount()>1&&!m.rendered&&!m.dock){j=n._itemCmpCls;p=[j+" "+j+"-"+l];if(!n.plain&&(m.indent!==false||m.iconCls==="no-icon")){p.push(k+"menu-item-indent-"+l)}if(m.rendered){m.el.addCls(p)}else{m.cls=(m.cls||"")+" "+p.join(" ")}m.$extraMenuCls=p}}this.callParent(arguments)},onRemove:function(d){Ext.panel.Panel.prototype.onRemove.call(this,d);if(!d.destroyed&&d.$extraMenuCls){d.el.removeCls(d.$extraMenuCls)}},onClick:function(e){var k=this,m=e.type,l,n,p=m==="keydown";if(k.disabled){e.stopEvent();return}l=k.getItemFromEvent(e);if(l&&l.isMenuItem){if(!l.menu||!k.ignoreParentClicks){n=l.onClick(e)}else{e.stopEvent()}if(l.menu&&n!==false&&p){l.expandMenu(e,0)}}if(!l||l.disabled){l=undefined}k.fireEvent("click",k,l,e)},onDestroy:function(){var d=this;if(d.escapeKeyNav){d.escapeKeyNav.destroy()}d.parentMenu=d.ownerCmp=d.escapeKeyNav=null;if(d.rendered){d.el.un(d.mouseMonitor);Ext.destroy(d.iconSepEl)}Ext.menu.Manager.onHide(d);Ext.panel.Panel.prototype.onDestroy.apply(this,arguments)},onMouseLeave:function(d){if(this.disabled){return}this.fireEvent("mouseleave",this,d)},onMouseOver:function(l){var m=this,e=l.getRelatedTarget(),q=!m.el.contains(e),n=m.getItemFromEvent(l),p=m.parentMenu,r=m.ownerCmp;if(q&&p){p.setActiveItem(r);r.cancelDeferHide();p.mouseMonitor.mouseenter()}if(m.disabled){return}if(n){if(!n.containsFocus){n.focus()}if(n.expandMenu){n.expandMenu(l)}}if(q){m.fireEvent("mouseenter",m,l)}m.fireEvent("mouseover",m,n,l)},setActiveItem:function(e){var g=this;if(e&&(e!==g.lastFocusedChild)){g.focusChild(e,1)}},onEscapeKey:function(){if(this.floating){this.hide()}},onShortcutKey:function(i,n){var s=String.fromCharCode(n.getCharCode()),r=this.query(">[text]"),t=r.length,p=this.lastFocusedChild,e=Ext.Array.indexOf(r,p),q=e;for(;;){if(++q===t){q=0}p=r[q];if(q===e){return}if(p.text&&p.text[0].toUpperCase()===s){p.focus();return}}},onFocusableContainerTabKey:function(d){if(this.floating){this.hide()}},onFocusableContainerEnterKey:function(d){this.onClick(d)},onFocusableContainerSpaceKey:function(d){this.onClick(d)},onFocusableContainerLeftKey:function(d){d.preventDefault();if(this.parentMenu){this.ownerCmp.focus();this.hide()}},onFocusableContainerRightKey:function(h){var i=this,e=i.lastFocusedChild;h.preventDefault();if(e&&e.expandMenu){e.expandMenu(h,0)}},onBeforeShow:function(){if(Ext.Date.getElapsed(this.lastHide)<this.menuClickBuffer){return false}},beforeShow:function(){var i=this,j,h,k;if(i.floating){j=i.hasFloatMenuParent();if(!j&&!i.allowOtherMenus){Ext.menu.Manager.hideAll()}if(j){i.focusAnchor=j.focusAnchor}else{h=Ext.Element.getActiveElement();if(h===document.body||h===document.documentElement){i.focusAnchor=null}else{i.focusAnchor=h}}i.savedMaxHeight=i.maxHeight;k=i.container.getViewSize().height;i.maxHeight=Math.min(i.maxHeight||k,k)}Ext.panel.Panel.prototype.beforeShow.apply(this,arguments)},afterShow:function(){var e=this,g=e.ariaEl.dom;Ext.panel.Panel.prototype.afterShow.apply(this,arguments);Ext.menu.Manager.onShow(e);if(e.floating&&g){g.setAttribute("aria-expanded",true)}if(e.floating&&e.autoFocus){e.maxHeight=e.savedMaxHeight;e.focus()}},onHide:function(j,m,l){var k=this,n=k.ariaEl.dom,p;if(k.el.contains(Ext.Element.getActiveElement())){p=k.focusAnchor||k.ownerCmp||k.up(":focusable");if(p){k.previousFocus=p}}Ext.panel.Panel.prototype.onHide.call(this,j,m,l);k.lastHide=Ext.Date.now();Ext.menu.Manager.onHide(k);if(k.floating&&n){n.setAttribute("aria-expanded",false)}},preventClick:function(e){var g=this.getItemFromEvent(e);if(g&&g.isMenuItem&&!g.href){e.preventDefault()}},privates:{hasFloatMenuParent:function(){return this.parentMenu||this.up("menu[floating=true]")},setOwnerCmp:function(h,i){var g=this;g.parentMenu=h.isMenuItem?h:null;g.ownerCmp=h;g.registerWithOwnerCt();delete g.hierarchicallyHidden;g.onInheritedAdd(h,i);g.containerOnAdded(h,i)}}},0,["menu"],["component","box","container","panel","menu"],{component:true,box:true,container:true,panel:true,menu:true},["widget.menu"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.menu,"Menu"],0));Ext.define("Ext.theme.neptune.menu.Menu",{override:"Ext.menu.Menu",showSeparator:false});(Ext.cmd.derive("Ext.grid.filters.filter.Base",Ext.Base,{factoryConfig:{type:"grid.filter"},$configPrefixed:false,$configStrict:false,config:{itemDefaults:null,menuDefaults:{xtype:"menu"},updateBuffer:500},active:false,type:"string",dataIndex:null,menu:null,isGridFilter:true,defaultRoot:"data",filterIdPrefix:"x-gridfilter",constructor:function(i){var g=this,h;g.initConfig(i);h=g.column;h.on("destroy",g.destroy,g);g.dataIndex=g.dataIndex||h.dataIndex;g.task=new Ext.util.DelayedTask(g.setValue,g)},destroy:function(){this.grid=this.menu=Ext.destroy(this.menu);this.callParent()},addStoreFilter:function(d){this.getGridStore().getFilters().add(d)},createFilter:function(g,e){return new Ext.util.Filter(this.getFilterConfig(g,e))},getFilterConfig:function(g,e){g.id=this.getBaseIdPrefix();if(!g.property){g.property=this.dataIndex}if(!g.root){g.root=this.defaultRoot}if(e){g.id+="-"+e}return g},createMenu:function(){this.menu=Ext.widget(this.getMenuConfig())},getActiveState:function(i,h){var g=i.active;return(g!==undefined)?g:h!==undefined},getBaseIdPrefix:function(){return this.filterIdPrefix+"-"+this.dataIndex},getMenuConfig:function(){return Ext.apply({},this.getMenuDefaults())},getGridStore:function(){return this.grid.getStore()},getStoreFilter:function(g){var e=this.getBaseIdPrefix();if(g){e+="-"+g}return this.getGridStore().getFilters().get(e)},onValueChange:function(e,i){var j=this,k=j.updateBuffer;if(e.isValid()){if(i.getKey()===i.RETURN){j.menu.hide();return}if(k){j.task.delay(k,null,null,[j.getValue(e)])}else{j.setValue(j.getValue(e))}}},preprocess:Ext.emptyFn,removeStoreFilter:function(d){this.getGridStore().getFilters().remove(d)},getValue:Ext.emptyFn,setActive:function(i){var j=this,k=j.owner.activeFilterMenuItem,h;if(j.active!==i){j.active=i;j.preventDefault=true;h=j.getGridStore().getFilters();h.beginUpdate();if(i){j.activate()}else{j.deactivate()}h.endUpdate();j.preventDefault=false;if(k&&k.activeFilter===j){k.setChecked(i)}j.setColumnActive(i)}},setColumnActive:function(d){this.column[d?"addCls":"removeCls"](this.owner.filterCls)},showMenu:function(g){var e=this;if(!e.menu){e.createMenu()}g.activeFilter=e;g.setMenu(e.menu,false);g.setChecked(e.active);g.setDisabled(e.disabled===true);e.activate(true)},updateStoreFilter:function(){this.getGridStore().getFilters().notify("endupdate")}},1,0,0,0,0,[[Ext.mixin.Factoryable.prototype.mixinId||Ext.mixin.Factoryable.$className,Ext.mixin.Factoryable]],[Ext.grid.filters.filter,"Base"],0));(Ext.cmd.derive("Ext.grid.filters.filter.SingleFilter",Ext.grid.filters.filter.Base,{constructor:function(k){var i=this,j,h;Ext.grid.filters.filter.Base.prototype.constructor.call(this,k);h=i.value;j=i.getStoreFilter();if(j){i.active=true}else{if(i.grid.stateful&&i.getGridStore().saveStatefulFilters){h=undefined}i.active=i.getActiveState(k,h);j=i.createFilter({operator:i.operator,value:h});if(i.active){i.addStoreFilter(j)}}if(i.active){i.setColumnActive(true)}i.filter=j},activate:function(d){if(d){this.activateMenu()}else{this.addStoreFilter(this.filter)}},deactivate:function(){this.removeStoreFilter(this.filter)},getValue:function(d){return d.getValue()},onFilterRemove:function(){if(!this.menu||this.active){this.active=false}}},1,0,0,0,0,0,[Ext.grid.filters.filter,"SingleFilter"],0));(Ext.cmd.derive("Ext.grid.filters.filter.Boolean",Ext.grid.filters.filter.SingleFilter,{type:"boolean",operator:"=",defaultValue:false,yesText:"Yes",noText:"No",updateBuffer:0,createMenu:function(m){var k=this,j=Ext.id(),l={scope:k,click:k.onClick},i=k.getItemDefaults();Ext.grid.filters.filter.SingleFilter.prototype.createMenu.apply(this,arguments);k.menu.add([Ext.apply({text:k.yesText,filterKey:1,group:j,checked:!!k.defaultValue,listeners:l},i),Ext.apply({text:k.noText,filterKey:0,group:j,checked:!k.defaultValue,listeners:l},i)])},onClick:function(d){this.setValue(!!d.filterKey)},setValue:function(e){var g=this;g.filter.setValue(e);if(e!==undefined&&g.active){g.value=e;g.updateStoreFilter()}else{g.setActive(true)}},activateMenu:Ext.emptyFn},0,0,0,0,["grid.filter.boolean"],0,[Ext.grid.filters.filter,"Boolean"],0));(Ext.cmd.derive("Ext.grid.filters.filter.TriFilter",Ext.grid.filters.filter.Base,{menuItems:["lt","gt","-","eq"],constructor:function(s){var n=this,q=false,v={},r,p,t,m,u;Ext.grid.filters.filter.Base.prototype.constructor.call(this,s);m=n.value;p=n.getStoreFilter("lt");r=n.getStoreFilter("gt");t=n.getStoreFilter("eq");if(p||r||t){q=n.active=true;if(p){n.onStateRestore(p)}if(r){n.onStateRestore(r)}if(t){n.onStateRestore(t)}}else{if(n.grid.stateful&&n.getGridStore().saveStatefulFilters){m=undefined}n.active=n.getActiveState(s,m)}v.lt=p||n.createFilter({operator:"lt",value:(!q&&m&&Ext.isDefined(m.lt))?m.lt:null},"lt");v.gt=r||n.createFilter({operator:"gt",value:(!q&&m&&Ext.isDefined(m.gt))?m.gt:null},"gt");v.eq=t||n.createFilter({operator:"eq",value:(!q&&m&&Ext.isDefined(m.eq))?m.eq:null},"eq");n.filter=v;if(n.active){n.setColumnActive(true);if(!q){for(u in m){n.addStoreFilter(n.filter[u])}}}},activate:function(r){var q=this,u=q.filter,s=q.fields,v,n,t,m,p;if(q.preventFilterRemoval){return}for(t in u){v=u[t];n=s[t];m=v.getValue();if(m||m===0){n.setValue(m);if(p===undefined){p=q.owner.activeFilterMenuItem===n.up("menuitem")}if(!p){n.up("menuitem").setChecked(true,true)}if(!r){q.addStoreFilter(v)}}}},deactivate:function(){var k=this,l=k.filter,i,m,j;if(!k.countActiveFilters()||k.preventFilterRemoval){return}k.preventFilterRemoval=true;for(i in l){m=l[i];j=m.getValue();if(j||j===0){k.removeStoreFilter(m)}}k.preventFilterRemoval=false},countActiveFilters:function(){var k=this.filter,i=this.getGridStore().getFilters(),j=this.getBaseIdPrefix(),m=0,l;if(i.length){for(l in k){if(i.get(j+"-"+l)){m++}}}return m},onFilterRemove:function(i){var h=this,g;if(!h.menu&&h.countActiveFilters()){h.active=false}else{if(h.menu){g={};g[i]=null;h.setValue(g)}}},onStateRestore:Ext.emptyFn,setValue:function(u){var w=this,D=w.filter,F=[],y=[],B=false,z=w.getGridStore().getFilters(),v,E,i,A,x,t,C;if(w.preventFilterRemoval){return}w.preventFilterRemoval=true;if("eq" in u){i=D.lt.getValue();if(i||i===0){y.push(D.lt)}i=D.gt.getValue();if(i||i===0){y.push(D.gt)}i=u.eq;if(i||i===0){F.push(D.eq);D.eq.setValue(i)}else{y.push(D.eq)}}else{i=D.eq.getValue();if(i||i===0){y.push(D.eq)}if("lt" in u){i=u.lt;if(i||i===0){F.push(D.lt);D.lt.setValue(i)}else{y.push(D.lt)}}if("gt" in u){i=u.gt;if(i||i===0){F.push(D.gt);D.gt.setValue(i)}else{y.push(D.gt)}}}t=y.length;C=F.length;B=!!(w.countActiveFilters()+C-t);if(t||C||B!==w.active){z.beginUpdate();if(t){for(A=0;A<t;A++){E=y[A];w.fields[E.getOperator()].setValue(null);E.setValue(null);w.removeStoreFilter(E)}}if(C){for(A=0;A<C;A++){w.addStoreFilter(F[A])}}w.setActive(B);z.endUpdate()}w.preventFilterRemoval=false}},1,0,0,0,0,0,[Ext.grid.filters.filter,"TriFilter"],0));(Ext.cmd.derive("Ext.grid.filters.filter.Date",Ext.grid.filters.filter.TriFilter,{type:"date",config:{fields:{lt:{text:"Before"},gt:{text:"After"},eq:{text:"On"}},pickerDefaults:{xtype:"datepicker",border:0},updateBuffer:0,dateFormat:undefined},itemDefaults:{xtype:"menucheckitem",selectOnFocus:true,width:125,menu:{layout:"auto",plain:true}},applyDateFormat:function(d){return d||Ext.Date.defaultFormat},createMenu:function(C){var v=this,u={scope:v,checkchange:v.onCheckChange},D=v.menuItems,y,B,A,z,w,s,i,x,t;Ext.grid.filters.filter.TriFilter.prototype.createMenu.apply(this,arguments);B=v.getItemDefaults();y=v.getFields();A=Ext.apply({minDate:v.minDate,maxDate:v.maxDate,format:v.dateFormat,listeners:{scope:v,select:v.onMenuSelect}},v.getPickerDefaults());v.fields={};for(z=0,w=D.length;z<w;z++){s=D[z];if(s!=="-"){x={menu:{xtype:"datemenu",hideOnClick:false,pickerCfg:Ext.apply({itemId:s},A)}};if(B){Ext.merge(x,B)}if(y){Ext.merge(x,y[s])}i=v.menu.add(x);t=v.fields[s]=i.down("datepicker");t.filter=v.filter[s];t.filterKey=s;i.on(u)}else{v.menu.add(s)}}},getPicker:function(d){return this.fields[d]},onCheckChange:function(h,i){var j=h.down("datepicker").filter,k;if(!i&&j.getValue()){k={};k[j.getOperator()]=null;this.setValue(k)}},onFilterRemove:function(e){var g={};g[e]=null;this.setValue(g);this.fields[e].up("menuitem").setChecked(false,true)},onStateRestore:function(d){d.setSerializer(this.getSerializer());d.setConvert(this.convertDateOnly)},getFilterConfig:function(g,e){g=Ext.grid.filters.filter.TriFilter.prototype.getFilterConfig.call(this,g,e);g.serializer=this.getSerializer();g.convert=this.convertDateOnly;return g},convertDateOnly:function(e){var g=null;if(e){g=Ext.Date.clearTime(e,true).getTime()}return g},getSerializer:function(){var d=this;return function(c){var g=c.value;if(g){c.value=Ext.Date.format(g,d.getDateFormat())}}},onMenuSelect:function(s,v){var r=this,t=r.fields,w=r.filter,q=t[s.itemId],x=t.gt,u=t.lt,n=t.eq,p={};q.up("menuitem").setChecked(true,true);if(q===n){u.up("menuitem").setChecked(false,true);x.up("menuitem").setChecked(false,true)}else{n.up("menuitem").setChecked(false,true);if(q===x&&(+u.value<+v)){u.up("menuitem").setChecked(false,true);if(w.lt.getValue()!=null){p.lt=null}}else{if(q===u&&(+x.value>+v)){x.up("menuitem").setChecked(false,true);if(w.gt.getValue()!=null){p.gt=null}}}}p[q.filterKey]=v;r.setValue(p);s.up("menu").hide()}},0,0,0,0,["grid.filter.date"],0,[Ext.grid.filters.filter,"Date"],0));(Ext.cmd.derive("Ext.grid.filters.filter.List",Ext.grid.filters.filter.SingleFilter,{type:"list",operator:"in",itemDefaults:{checked:false,hideOnClick:false},idField:"id",labelField:"text",labelIndex:null,loadingText:"Loading...",loadOnShow:true,single:false,plain:true,constructor:function(i){var g=this,h;Ext.grid.filters.filter.SingleFilter.prototype.constructor.call(this,i);g.labelIndex=g.labelIndex||g.column.dataIndex;if(!g.options&&(g.value!=null)&&g.active){h=g.getGridStore();if(!h.isEmptyStore){h.on(g.getGridStoreListeners())}g.grid.on("reconfigure",g.onReconfigure,g);g.inferOptionsFromGridStore=true}},destroy:function(){var i=this,k=i.store,j=i.autoStore,h=i.gridStoreListeners;if(k){if(j||k.autoDestroy){k.destroy()}else{k.un("load",i.bindMenuStore,i)}i.store=null}if(i.inferOptionsFromGridStore){i.grid.un("reconfigure",i.onReconfigure,i)}if(h){i.getGridStore().un(h);i.gridStoreListeners=null}Ext.grid.filters.filter.SingleFilter.prototype.destroy.call(this)},activateMenu:function(){var k=this,i=k.filter.getValue(),m,l,p,n;if(!i||!i.length){return}m=k.menu.items;for(l=0,p=m.length;l<p;l++){n=m.getAt(l);if(Ext.Array.indexOf(i,n.value)>-1){n.setChecked(true,true)}}},bindMenuStore:function(g){var e=this;if(e.grid.destroyed||e.preventFilterRemoval){return}e.createListStore(g);e.createMenuItems(e.store);e.loaded=true},createListStore:function(i){var v=this,r=v.store,u=i.isStore,A=v.idField,y=v.labelField,t=false,B,z,x,w,s;if(u){if(i!==v.getGridStore()){t=true;r=v.store=i}else{v.autoStore=true;B=v.getOptionsFromStore(i)}}else{B=[];for(x=0,w=i.length;x<w;x++){s=i[x];switch(Ext.typeOf(s)){case"array":B.push(s);break;case"object":B.push(s);break;default:if(s!=null){z={};z[A]=s;z[y]=s;B.push(z)}}}}if(!t){if(r){r.destroy()}r=v.store=new Ext.data.Store({fields:[A,y],data:B});if(!v.gridStoreListeners){v.getGridStore().on(v.getGridStoreListeners())}v.loaded=true}v.setStoreFilter(r)},createMenu:function(m){var k=this,l=k.getGridStore(),p=k.store,n=k.options,j;if(p){k.store=p=Ext.StoreManager.lookup(p)}Ext.grid.filters.filter.SingleFilter.prototype.createMenu.call(this,m);j=k.menu;if(p){if(!p.getCount()){j.add({text:k.loadingText,iconCls:"x-mask-msg-text"});j.on("show",k.show,k);p.on("load",k.bindMenuStore,k,{single:true})}else{k.createMenuItems(p)}}else{if(n){k.bindMenuStore(n)}else{if(l.getCount()||l.isFiltered()){k.bindMenuStore(l)}else{l.on("load",k.bindMenuStore,k,{single:true})}}}},createMenuItems:function(I){var i=this,E=i.menu,v=I.getCount(),A=Ext.Array.contains,J,D,x,w,F,G,z,B,y,H,C;if(v&&E){J={checkchange:i.onCheckChange,scope:i};D=i.getItemDefaults();E.suspendLayouts();E.removeAll(true);w=i.single?Ext.id():null;G=i.idField;B=i.labelField;C=[];for(y=0;y<v;y++){x=I.getAt(y);F=x.get(G);z=x.get(B);if(z==null||A(C,F)){continue}C.push(z);H=E.add(Ext.apply({text:z,group:w,value:F,listeners:J},D))}E.resumeLayouts(true)}},getFilterConfig:function(g,e){g.value=g.value||[];return Ext.grid.filters.filter.SingleFilter.prototype.getFilterConfig.call(this,g,e)},getGridStoreListeners:function(){var d=this;return d.gridStoreListeners={scope:d,add:d.onDataChanged,refresh:d.onDataChanged,remove:d.onDataChanged,update:d.onDataChanged}},getOptionsFromStore:function(s){var u=this,x=s.getData(),C={},w=[],t=u.dataIndex,D=u.labelIndex,v,y,A,i,B,z;if(s.isFiltered()&&!s.remoteFilter){x=x.getSource()}v=x.items;A=v.length;for(y=0;y<A;++y){i=v[y].data;B=i[t];z=i[D];if(z===undefined){z=B}if(!C[B]){C[B]=1;w.push([B,z])}}return w},onCheckChange:function(){var e=this,g=e.updateBuffer;if(g){e.task.delay(g,null,null)}else{e.setValue()}},onDataChanged:function(d){if(!this.preventDefault){this.bindMenuStore(d)}},onReconfigure:function(e,g){if(g){this.bindMenuStore(g)}},setStoreFilter:function(k){var i=this,h=i.value,j=i.filter;if(h){if(!Ext.isArray(h)){h=[h]}j.setValue(h)}if(i.active){i.preventFilterRemoval=true;i.addStoreFilter(j);i.preventFilterRemoval=false}},setValue:function(){var k=this,m=k.menu.items,i=[],l,p,n;k.preventDefault=true;for(l=0,p=m.length;l<p;l++){n=m.getAt(l);if(n.checked){i.push(n.value)}}k.filter.setValue(i);p=i.length;if(p&&k.active){k.updateStoreFilter()}else{k.setActive(!!p)}k.preventDefault=false},show:function(){var d=this.store;if(this.loadOnShow&&!this.loaded&&!d.hasPendingLoad()){d.load()}}},1,0,0,0,["grid.filter.list"],0,[Ext.grid.filters.filter,"List"],0));(Ext.cmd.derive("Ext.grid.filters.filter.Number",Ext.grid.filters.filter.TriFilter,{type:"number",config:{fields:{gt:{iconCls:"x-grid-filters-gt",margin:"0 0 3px 0"},lt:{iconCls:"x-grid-filters-lt",margin:"0 0 3px 0"},eq:{iconCls:"x-grid-filters-eq",margin:0}}},emptyText:"Enter Number...",itemDefaults:{xtype:"numberfield",enableKeyEvents:true,hideEmptyLabel:false,labelSeparator:"",labelWidth:29,selectOnFocus:false},menuDefaults:{bodyPadding:3,showSeparator:false},createMenu:function(){var t=this,s={scope:t,keyup:t.onValueChange,spin:{fn:t.onInputSpin,buffer:200},el:{click:t.stopFn}},y=t.getItemDefaults(),z=t.menuItems,w=t.getFields(),r,x,u,q,i,v;Ext.grid.filters.filter.TriFilter.prototype.createMenu.call(this);t.fields={};for(x=0,u=z.length;x<u;x++){q=z[x];if(q!=="-"){r=w[q];v={labelClsExtra:"x-grid-filters-icon "+r.iconCls};if(y){Ext.merge(v,y)}Ext.merge(v,r);v.emptyText=v.emptyText||t.emptyText;delete v.iconCls;t.fields[q]=i=t.menu.add(v);i.filter=t.filter[q];i.filterKey=q;i.on(s)}else{t.menu.add(q)}}},getValue:function(e){var g={};g[e.filterKey]=e.getValue();return g},onInputSpin:function(g,h){var i={};i[g.filterKey]=g.getValue();this.setValue(i)},stopFn:function(d){d.stopPropagation()}},0,0,0,0,["grid.filter.number","grid.filter.numeric"],0,[Ext.grid.filters.filter,"Number"],0));(Ext.cmd.derive("Ext.grid.filters.filter.String",Ext.grid.filters.filter.SingleFilter,{type:"string",operator:"like",emptyText:"Enter Filter Text...",itemDefaults:{xtype:"textfield",enableKeyEvents:true,hideEmptyLabel:false,iconCls:"x-grid-filters-find",labelSeparator:"",labelWidth:29,margin:0,selectOnFocus:true},menuDefaults:{bodyPadding:3,showSeparator:false},createMenu:function(){var e=this,g;Ext.grid.filters.filter.SingleFilter.prototype.createMenu.call(this);g=Ext.apply({},e.getItemDefaults());if(g.iconCls&&!("labelClsExtra" in g)){g.labelClsExtra="x-grid-filters-icon "+g.iconCls}delete g.iconCls;g.emptyText=g.emptyText||e.emptyText;e.inputItem=e.menu.add(g);e.inputItem.on({scope:e,keyup:e.onValueChange,el:{click:function(c){c.stopPropagation()}}})},setValue:function(e){var g=this;if(g.inputItem){g.inputItem.setValue(e)}g.filter.setValue(e);if(e&&g.active){g.value=e;g.updateStoreFilter()}else{g.setActive(!!e)}},activateMenu:function(){this.inputItem.setValue(this.filter.getValue())}},0,0,0,0,["grid.filter.string"],0,[Ext.grid.filters.filter,"String"],0));(Ext.cmd.derive("Ext.grid.filters.Filters",Ext.plugin.Abstract,{pluginId:"gridfilters",defaultFilterTypes:{"boolean":"boolean","int":"number",date:"date",number:"number"},filterCls:"x-grid-filters-filtered-column",menuFilterText:"Filters",showMenu:true,stateId:undefined,init:function(j){var i=this,k,h;i.grid=j;j.filters=i;if(i.grid.normalGrid){i.isLocked=true}j.clearFilters=i.clearFilters.bind(i);k=j.store;h=j.headerCt;h.on({scope:i,add:i.onAdd,menucreate:i.onMenuCreate});j.on({scope:i,destroy:i.onGridDestroy,reconfigure:i.onReconfigure});i.bindStore(k);if(j.stateful){k.statefulFilters=true}i.initColumns()},initColumns:function(){var p=this.grid,s=p.getStore(),q=p.columnManager.getColumns(),t=q.length,r,m,n,i;for(r=0;r<t;r++){m=q[r];n=m.filter;if(n&&!n.isGridFilter){if(!i){i=s.getFilters();i.beginUpdate()}this.createColumnFilter(m)}}if(i){i.endUpdate()}},createColumnFilter:function(m){var l=this,r=m.filter,n={column:m,grid:l.grid,owner:l},k,q,p;if(Ext.isString(r)){n.type=r}else{Ext.apply(n,r)}if(!n.type){q=l.store.getModel();k=q&&q.getField(m.dataIndex);p=k&&k.type;n.type=(p&&l.defaultFilterTypes[p])||m.defaultFilterType||"string"}m.filter=Ext.Factory.gridFilter(n)},onAdd:function(h,i,k){var j=i.filter;if(j&&!j.isGridFilter){this.createColumnFilter(i)}},onMenuCreate:function(e,g){g.on({beforeshow:this.onMenuBeforeShow,scope:this})},onMenuBeforeShow:function(j){var k=this,m,n,l,p;if(k.showMenu){if(!k.filterMenuItem){k.filterMenuItem={}}l=j.up("tablepanel");p=l.id;m=k.filterMenuItem[p];if(!m||m.destroyed){m=k.createMenuItem(j,p)}k.activeFilterMenuItem=m;n=k.getMenuFilter(l.headerCt);if(n){n.showMenu(m)}m.setVisible(!!n);k.sep.setVisible(!!n)}},createMenuItem:function(h,k){var i=this,j;i.sep=h.add("-");j=h.add({checked:false,itemId:"filters",text:i.menuFilterText,listeners:{scope:i,checkchange:i.onCheckChange}});return(i.filterMenuItem[k]=j)},onGridDestroy:function(){var g=this,i=g.filterMenuItem,h;g.bindStore(null);g.sep=Ext.destroy(g.sep);for(h in i){i[h].destroy()}g.grid=null},onUnbindStore:function(d){d.getFilters().un("remove",this.onFilterRemove,this)},onBindStore:function(i,h,g){this.local=!i.getRemoteFilter();i.getFilters().on("remove",this.onFilterRemove,this)},onFilterRemove:function(i,n){var s=n.items.length,t=this.grid.columnManager,r,p,m,q;for(r=0;r<s;r++){p=n.items[r];m=t.getHeaderByDataIndex(p.getProperty());if(m){q=m.filter;if(!q||!q.menu||p.getId().indexOf(q.getBaseIdPrefix())===-1){continue}if(!q.preventFilterRemoval){q.onFilterRemove(p.getOperator())}}}},getMenuFilter:function(d){return d.getMenu().activeHeader.filter},onCheckChange:function(i,h){var j=this.isLocked?i.up("tablepanel"):this.grid,k=this.getMenuFilter(j.headerCt);k.setActive(h)},getHeaders:function(){return this.grid.view.headerCt.columnManager.getColumns()},isStateful:function(){return this.grid.stateful},addFilter:function(z){var u=this,B=u.grid,s=u.store,y=false,r=true,t,x,w,v,A,i;if(!Ext.isArray(z)){z=[z]}for(w=0,v=z.length;w<v;w++){A=z[w];t=A.dataIndex;x=B.columnManager.getHeaderByDataIndex(t);if(x){y=true;if(A.value){r=false}i=x.filter;if(i&&i.isGridFilter){i.deactivate();i.destroy();if(u.activeFilterMenuItem){u.activeFilterMenuItem.menu=null}}x.filter=A}}if(y){s.suppressNextFilter=r;u.initColumns();s.suppressNextFilter=false}},addFilters:function(d){if(d){this.addFilter(d)}},clearFilters:function(){var p=this.grid,q=p.columnManager.getColumns(),s=p.store,m,n,r,t,i;for(r=0,t=q.length;r<t;r++){m=q[r];n=m.filter;if(n&&n.isGridFilter){if(!i){i=s.getFilters();i.beginUpdate()}n.setActive(false)}}if(i){i.endUpdate()}},onReconfigure:function(k,p,l,j){var m=this.filterMenuItem,n;for(n in m){m[n].setMenu(null)}if(p&&j!==p){this.bindStore(p)}}},0,0,0,0,["plugin.gridfilters"],[[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder]],[Ext.grid.filters,"Filters"],0));(Ext.cmd.derive("Ext.grid.locking.HeaderContainer",Ext.grid.header.Container,{headerCtRelayEvents:["blur","focus","move","resize","destroy","beforedestroy","boxready","afterrender","render","beforerender","removed","hide","beforehide","show","beforeshow","enable","disable","added","deactivate","beforedeactivate","activate","beforeactivate","remove","add","beforeremove","beforeadd","afterlayout","menucreate","sortchange","columnschanged","columnshow","columnhide","columnmove","headertriggerclick","headercontextmenu","headerclick","columnresize","statesave","beforestatesave","staterestore","beforestaterestore"],constructor:function(j){var k=this,h=j.lockedGrid,i=j.normalGrid;k.lockable=j;Ext.grid.header.Container.prototype.constructor.call(this);h.visibleColumnManager.rootColumns=i.visibleColumnManager.rootColumns=j.visibleColumnManager=k.visibleColumnManager=new Ext.grid.ColumnManager(true,h.headerCt,i.headerCt);h.columnManager.rootColumns=i.columnManager.rootColumns=j.columnManager=k.columnManager=new Ext.grid.ColumnManager(false,h.headerCt,i.headerCt);k.lockedEventRelayers=k.relayEvents(h.headerCt,k.headerCtRelayEvents);k.normalEventRelayers=k.relayEvents(i.headerCt,k.headerCtRelayEvents)},destroy:function(){var d=this;Ext.destroy(d.lockedEventRelayers,d.normalEventRelayers);d.lockedEventRelayers=d.normalEventRelayers=null;Ext.grid.header.Container.prototype.destroy.call(this)},getRefItems:function(){return this.lockable.lockedGrid.headerCt.getRefItems().concat(this.lockable.normalGrid.headerCt.getRefItems())},getGridColumns:function(){return this.lockable.lockedGrid.headerCt.getGridColumns().concat(this.lockable.normalGrid.headerCt.getGridColumns())},getColumnsState:function(){var h=this,i=h.lockable.lockedGrid.headerCt.getColumnsState(),g=h.lockable.normalGrid.headerCt.getColumnsState();return i.concat(g)},applyColumnsState:function(z,D){var I=this,B=I.lockable.lockedGrid,A=B.headerCt,i=I.lockable.normalGrid.headerCt,H=Ext.Array.toValueMap(A.items.items,"stateId"),y=Ext.Array.toValueMap(i.items.items,"stateId"),v=[],J=[],w=1,F=z.length,x,G,C,E;for(x=0;x<F;x++){E=z[x];C=H[E.id];G=C||y[E.id];if(G){if(G.applyColumnState){G.applyColumnState(E,D)}if(G.locked===undefined){G.locked=!!C}if(G.locked){v.push(G);if(!G.hidden&&typeof G.width==="number"){w+=G.width}}else{J.push(G)}}}if(v.length+J.length===A.items.getCount()+i.items.getCount()){A.removeAll(false);i.removeAll(false);A.add(v);i.add(J);B.setWidth(w)}},disable:function(){var d=this.lockable;d.lockedGrid.headerCt.disable();d.normalGrid.headerCt.disable()},enable:function(){var d=this.lockable;d.lockedGrid.headerCt.enable();d.normalGrid.headerCt.enable()}},1,0,["component","box","container","headercontainer"],{component:true,box:true,container:true,headercontainer:true},0,0,[Ext.grid.locking,"HeaderContainer"],0));(Ext.cmd.derive("Ext.grid.locking.View",Ext.Base,{alternateClassName:"Ext.grid.LockingView",isLockingView:true,loadMask:true,eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell|refresh)/,constructor:function(m){var k=Ext,i=this,j,l;i.ownerGrid=m.ownerGrid;i.ownerGrid.view=i;i.navigationModel=m.locked.xtype==="treepanel"?new k.tree.NavigationModel(i):new k.grid.NavigationModel(i);m.locked.viewConfig.bindStore=k.emptyFn;m.normal.viewConfig.bindStore=i.subViewBindStore;m.normal.viewConfig.isNormalView=m.locked.viewConfig.isLockedView=true;m.locked.viewConfig.beforeLayout=m.normal.viewConfig.beforeLayout=i.beforeLayout;m.locked.viewConfig.navigationModel=m.normal.viewConfig.navigationModel=i.navigationModel;i.lockedGrid=i.ownerGrid.lockedGrid=k.ComponentManager.create(m.locked);i.lockedView=j=i.lockedGrid.getView();i.selModel=m.normal.viewConfig.selModel=j.getSelectionModel();if(i.lockedGrid.isTree){i.lockedView.animate=false;m.normal.store=j.store;m.normal.viewConfig.stripeRows=i.lockedView.stripeRows;m.normal.rowLines=i.lockedGrid.rowLines}i.normalGrid=i.ownerGrid.normalGrid=k.ComponentManager.create(m.normal);j.lockingPartner=l=i.normalView=i.normalGrid.getView();l.lockingPartner=j;i.loadMask=(m.loadMask!==undefined)?m.loadMask:i.loadMask;i.mixins.observable.constructor.call(i);i.lockedViewEventRelayers=i.relayEvents(j,k.view.Table.events);i.normalViewEventRelayers=i.relayEvents(l,k.view.Table.events.concat(k.view.Table.normalSideEvents));l.on({scope:i,itemmouseleave:i.onItemMouseLeave,itemmouseenter:i.onItemMouseEnter});j.on({scope:i,itemmouseleave:i.onItemMouseLeave,itemmouseenter:i.onItemMouseEnter});i.ownerGrid.on({render:i.onPanelRender,scope:i});i.loadingText=l.loadingText;i.loadingCls=l.loadingCls;i.loadingUseMsg=l.loadingUseMsg;i.itemSelector=i.getItemSelector();i.all=l.all;i.bindStore(l.dataSource,true,"dataSource")},subViewBindStore:function(h){var g=this,i;if(g.destroying||g.destroyed){return}i=g.getSelectionModel();i.bindStore(h);i.bindComponent(g)},beforeLayout:function(){var g=this.ownerCt.ownerLockable.view,h=g.lockedGrid.view,i=g.normalGrid.view;if(!g.relayingOperation){if(g.lockedGrid.isVisible()){if(h.refreshNeeded){h.doFirstRefresh(h.dataSource)}}if(i.refreshNeeded){i.doFirstRefresh(i.dataSource)}}},onPanelRender:function(){var g=this,h=g.loadMask,i={target:g.ownerGrid,msg:g.loadingText,msgCls:g.loadingCls,useMsg:g.loadingUseMsg,store:g.ownerGrid.store};g.el=g.ownerGrid.getTargetEl();g.rendered=true;g.initFocusableEvents();g.fireEvent("render",g);if(h){if(Ext.isObject(h)){i=Ext.apply(i,h)}g.loadMask=new Ext.LoadMask(i)}},getRefOwner:function(){return this.ownerGrid},getVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},getGridColumns:function(){return this.getVisibleColumnManager().getColumns()},getEl:function(d){return this.getViewForColumn(d).getEl()},getCellSelector:function(){return this.normalView.getCellSelector()},getItemSelector:function(){return this.normalView.getItemSelector()},getViewForColumn:function(h){var i=this.lockedView,g;i.headerCt.cascade(function(c){if(c===h){g=true;return false}});return g?i:this.normalView},onItemMouseEnter:function(m,n){var j=this,l=j.lockedView,p=j.normalView,k;if(m.trackOver){if(m!==l){p=l}k=p.getNode(n);p.highlightItem(k)}},onItemMouseLeave:function(k,l){var i=this,j=i.lockedView,m=i.normalView;if(k.trackOver){if(k!==j){m=j}m.clearHighlight()}},relayFn:function(i,j){j=j||[];var h=this,k=h.lockedView;h.relayingOperation=true;k[i].apply(k,j);k=h.normalView;k[i].apply(k,j);h.relayingOperation=false},getSelectionModel:function(){return this.normalView.getSelectionModel()},getNavigationModel:function(){return this.navigationModel},getStore:function(){return this.ownerGrid.store},onBindStore:function(p,n,j){var k=this,l=k.lockedView,m=k.normalView;if(m.componentLayoutCounter&&!(l.blockRefresh&&m.blockRefresh)){Ext.suspendLayouts();l.doFirstRefresh(p);m.doFirstRefresh(p);Ext.resumeLayouts(true)}},getStoreListeners:function(){var d=this;return{priority:1000,refresh:d.onDataRefresh,replace:d.onReplace,add:d.onAdd,remove:d.onRemove,update:d.onUpdate,clear:d.onDataRefresh,beginupdate:d.onBeginUpdate,endupdate:d.onEndUpdate}},onBeginUpdate:function(){Ext.suspendLayouts();this.relayFn("onBeginUpdate",arguments);Ext.resumeLayouts(true)},onEndUpdate:function(){Ext.suspendLayouts();this.relayFn("onEndUpdate",arguments);Ext.resumeLayouts(true)},onDataRefresh:function(){Ext.suspendLayouts();this.relayFn("onDataRefresh",arguments);Ext.resumeLayouts(true)},onReplace:function(){Ext.suspendLayouts();this.relayFn("onReplace",arguments);Ext.resumeLayouts(true)},onAdd:function(){Ext.suspendLayouts();this.relayFn("onAdd",arguments);Ext.resumeLayouts(true)},onRemove:function(){Ext.suspendLayouts();this.relayFn("onRemove",arguments);Ext.resumeLayouts(true)},setActionableMode:function(h,j){var k,i;if(h){if(!j){j=this.getNavigationModel().getPosition()}if(j){j=j.clone();j.view=i=j.column.getView();k=i.setActionableMode(h,j);if(k!==false&&i.lockingPartner.grid.isVisible()){i.lockingPartner.setActionableMode(h,j);if(!i.lockingPartner.actionableMode){i.setActionableMode(false);k=false}}return k}else{return false}}else{this.relayFn("setActionableMode",[false])}},onUpdate:function(){Ext.suspendLayouts();this.relayFn("onUpdate",arguments);Ext.resumeLayouts(true)},refresh:function(){Ext.suspendLayouts();this.relayFn("refresh",arguments);Ext.resumeLayouts(true)},refreshView:function(){Ext.suspendLayouts();this.relayFn("refreshView",arguments);Ext.resumeLayouts(true)},getNode:function(d){return this.normalView.getNode(d)},getRow:function(d){return this.normalView.getRow(d)},getCell:function(j,i){var k=this.getViewForColumn(i),h=k.getRow(j);return Ext.fly(h).down(i.getCellSelector())},indexOf:function(e){var g=this.lockedView.indexOf(e);if(!g){g=this.normalView.indexOf(e)}return g},focus:function(){var d=this.ownerGrid.down(">tablepanel:not(hidden)>tableview");if(d){d.focus()}},focusRow:function(g){var i,h=this.getNavigationModel().lastFocused;i=h?h.view:this.normalView;i.focusRow(g)},focusCell:function(d){d.view.focusCell(d)},onRowFocus:function(){this.relayFn("onRowFocus",arguments)},isVisible:function(d){return this.ownerGrid.isVisible(d)},getFocusEl:function(){var g,e=this.getNavigationModel().lastFocused;g=e?e.view:this.normalView;return g.getFocusEl()},getCellInclusive:function(h,j){var k=h.column,i=this.lockedGrid.getColumnManager().getColumns().length;if(k>=i){h=Ext.apply({},h);h.column-=i;return this.normalView.getCellInclusive(h,j)}else{return this.lockedView.getCellInclusive(h,j)}},getHeaderByCell:function(d){if(d){return this.getVisibleColumnManager().getHeaderById(d.getAttribute("data-columnId"))}return false},onRowSelect:function(){this.relayFn("onRowSelect",arguments)},onRowDeselect:function(){this.relayFn("onRowDeselect",arguments)},onCellSelect:function(d){d.column.getView().onCellSelect({record:d.record,column:d.column})},onCellDeselect:function(d){d.column.getView().onCellDeselect({record:d.record,column:d.column})},getCellByPosition:function(i,k){var j=this,m=i.view,l=i.column;if(m===j){i=new Ext.grid.CellContext(l.getView()).setPosition(i.record,i.column)}return m.getCellByPosition(i,k)},getRecord:function(e){var g=this.lockedView.getRecord(e);if(!g){g=this.normalView.getRecord(e)}return g},scrollBy:function(){var d=this.normalView;d.scrollBy.apply(d,arguments)},ensureVisible:function(){var d=this.normalView;d.ensureVisible.apply(d,arguments)},disable:function(){this.relayFn("disable",arguments)},enable:function(){this.relayFn("enable",arguments)},addElListener:function(){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},addRowCls:function(){this.relayFn("addRowCls",arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)},destroy:function(){var d=this;d.rendered=false;d.bindStore(null,false,"dataSource");Ext.destroy(d.lockedViewEventRelayers,d.normalViewEventRelayers);d.lockedViewEventRelayers=d.normalViewEventRelayers=null;d.callParent();Ext.destroy(d.loadMask,d.navigationModel,d.selModel);d.lockedView.lockingPartner=d.normalView.lockingPartner=null;d.lockedGrid=d.lockedView=d.normalGrid=d.normalView=null;d.loadMask=d.navigationModel=d.selModel=d.headerCt=null;d.ownerGrid=d.storeListeners=null}},1,0,0,0,0,[[Ext.util.Observable.prototype.mixinId||Ext.util.Observable.$className,Ext.util.Observable],[Ext.util.StoreHolder.prototype.mixinId||Ext.util.StoreHolder.$className,Ext.util.StoreHolder],[Ext.util.Focusable.prototype.mixinId||Ext.util.Focusable.$className,Ext.util.Focusable]],[Ext.grid.locking,"View",Ext.grid,"LockingView"],function(){this.borrow(Ext.Component,["up"]);this.borrow(Ext.view.AbstractView,["doFirstRefresh","applyFirstRefresh"]);this.borrow(Ext.view.Table,["cellSelector","selectedCellCls","selectedItemCls"])}));(Ext.cmd.derive("Ext.grid.locking.Lockable",Ext.Base,{alternateClassName:"Ext.grid.Lockable",syncRowHeight:true,headerCounter:0,scrollDelta:40,lockedGridCls:"x-grid-inner-locked",normalGridCls:"x-grid-inner-normal",lockingBodyCls:"x-grid-locking-body",unlockText:"Unlock",lockText:"Lock",bothCfgCopy:["hideHeaders","enableColumnHide","enableColumnMove","enableColumnResize","sortableColumns","multiColumnSort","columnLines","rowLines","variableRowHeight","numFromEdge","trailingBufferZone","leadingBufferZone","scrollToLoadBuffer","syncRowHeight"],normalCfgCopy:["scroll"],lockedCfgCopy:[],determineXTypeToCreate:function(m){var p=this,k,n,q,l,r;if(p.subGridXType){k=p.subGridXType}else{if(!m){return"gridpanel"}n=this.getXTypes().split("/");q=n.length;l=n[q-1];r=n[q-2];if(r!=="tablepanel"){k=r}else{k=l}}return k},injectLockable:function(){this.focusable=false;this.lockable=true;this.hasView=true;var i=this,K=Ext.getScrollbarSize(),G=K.width,P=i.store=Ext.StoreManager.lookup(i.store),R=i.lockedViewConfig,A=i.normalViewConfig,I=Ext.Object,M,L,C,N,J,S,O,D,B=i.viewConfig,T=B&&B.loadMask,H=(T!==undefined)?T:i.loadMask,F=i.bufferedRenderer,E=G>0&&Ext.supports.touchScroll!==2,Q=i.getInherited().rtl;M=i.constructLockableFeatures();i.features=null;L=i.constructLockablePlugins();i.plugins=L.topPlugins;C={id:i.id+"-locked",$initParent:i,isLocked:true,bufferedRenderer:F,ownerGrid:i,ownerLockable:i,xtype:i.determineXTypeToCreate(true),store:P,reserveScrollbar:E,scrollable:{indicators:{x:true,y:false}},scrollerOwner:false,animate:false,border:false,cls:i.lockedGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||i.normalGrid.floatedFromCollapse},features:M.lockedFeatures,plugins:L.lockedPlugins};N={id:i.id+"-normal",$initParent:i,isLocked:false,bufferedRenderer:F,ownerGrid:i,ownerLockable:i,xtype:i.determineXTypeToCreate(),store:P,reserveScrollbar:i.reserveScrollbar,scrollerOwner:false,border:false,cls:i.normalGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||i.lockedGrid.floatedFromCollapse},features:M.normalFeatures,plugins:L.normalPlugins};i.addCls("x-grid-locked");Ext.copy(N,i,i.bothCfgCopy,true);Ext.copy(C,i,i.bothCfgCopy,true);Ext.copy(N,i,i.normalCfgCopy,true);Ext.copy(C,i,i.lockedCfgCopy,true);Ext.apply(N,i.normalGridConfig);Ext.apply(C,i.lockedGridConfig);for(J=0;J<i.normalCfgCopy.length;J++){delete i[i.normalCfgCopy[J]]}for(J=0;J<i.lockedCfgCopy.length;J++){delete i[i.lockedCfgCopy[J]]}i.addStateEvents(["lockcolumn","unlockcolumn"]);S=i.processColumns(i.columns||[],C);C.columns=S.locked;if(!C.columns.items.length){C.hidden=true}N.columns=S.normal;if(!N.columns.items.length){N.hidden=true}N.flex=1;C.viewConfig=R=(R?I.chain(R):{});N.viewConfig=A=(A?I.chain(A):{});R.loadingUseMsg=false;R.loadMask=false;if(E){if(Q){R.margin="0 0 0 -"+G+"px"}else{R.margin="0 -"+G+"px 0 0"}}A.loadMask=false;Ext.applyIf(R,B);Ext.applyIf(A,B);if(!i.initialConfig.layout){i.layout={type:"hbox",align:"stretch"}}i.getLayout();if(i.layout.type==="border"){if(i.split){C.split=true}if(!C.region){C.region="west"}if(!N.region){N.region="center"}i.addCls("x-grid-locked-split")}if(!(i.layout instanceof Ext.layout.container.Box)){i.split=false}i.view=new Ext.grid.locking.View({loadMask:H,locked:C,normal:N,ownerGrid:i});C=i.lockedGrid;N=i.normalGrid;N.getView().getScrollable().addPartner(C.getView().getScrollable(),"y");if(K.height&&Ext.supports.touchScroll!==2){C.on({afterlayout:i.afterLockedViewLayout,scope:i});C.getView().getOverflowStyle()}O=C.headerCt;D=N.headerCt;if(E&&!Q){O.reserveScrollbar=false}i.headerCt=i.view.headerCt=new Ext.grid.locking.HeaderContainer(i);O.lockedCt=true;O.lockableInjected=true;D.lockableInjected=true;O.on({add:i.delaySyncLockedWidth,remove:i.delaySyncLockedWidth,columnshow:i.delaySyncLockedWidth,columnhide:i.delaySyncLockedWidth,sortchange:i.onLockedHeaderSortChange,columnresize:i.delaySyncLockedWidth,scope:i});D.on({add:i.delaySyncLockedWidth,remove:i.delaySyncLockedWidth,columnshow:i.delaySyncLockedWidth,columnhide:i.delaySyncLockedWidth,sortchange:i.onNormalHeaderSortChange,scope:i});i.modifyHeaderCt();i.items=[C];if(i.split){i.addCls("x-grid-locked-split");i.items[1]={xtype:"splitter"}}i.items.push(N);i.relayHeaderCtEvents(O);i.relayHeaderCtEvents(D);i.storeRelayers=i.relayEvents(P,["filterchange","groupchange","beforeload","load"]);i.gridRelayers=i.relayEvents(N,["viewready"])},afterInjectLockable:function(){delete this.lockedGrid.$initParent;delete this.normalGrid.$initParent},getLockingViewConfig:function(){return{xclass:"Ext.grid.locking.View",locked:this.lockedGrid,normal:this.normalGrid,panel:this}},processColumns:function(y,A){var s=this,x,v,z,t=new Ext.grid.header.Container({"$initParent":s}),u=[],B=[],C={itemId:"lockedHeaderCt",stretchMaxPartner:"^^>>#normalHeaderCt",items:u},w={itemId:"normalHeaderCt",stretchMaxPartner:"^^>>#lockedHeaderCt",items:B},i={locked:C,normal:w},D;if(Ext.isObject(y)){Ext.applyIf(C,y);Ext.applyIf(w,y);D=Ext.apply({},y);delete D.items;Ext.apply(t,D);y=y.items}t.constructing=true;for(x=0,v=y.length;x<v;++x){z=y[x];if(!z.isComponent){z=t.applyDefaults(z);z.$initParent=t;z=t.lookupComponent(z);delete z.$initParent}z.processed=true;if(z.locked||z.autoLock){u.push(z)}else{B.push(z)}}s.fireEvent("processcolumns",s,u,B);t.destroy();return i},afterLockedViewLayout:function(){var s=this,v=s.lockedGrid,t=s.normalGrid,m=v.getView(),u=t.getView(),n=m.scrollFlags.x&&v.headerCt.tooNarrow,p=u.scrollFlags.x&&t.headerCt.tooNarrow,r=u.getScrollable(),q=m.getScrollable();if(n!==p){if(n){r.setX("scroll");q.setX(true)}else{q.setX("scroll");r.setX(true)}}else{q.setX(p?"scroll":true);r.setX(true)}},ensureLockedVisible:function(){this.lockedGrid.ensureVisible.apply(this.lockedGrid,arguments);this.normalGrid.ensureVisible.apply(this.normalGrid,arguments)},onLockedViewMouseWheel:function(e){var q=this,t=-q.scrollDelta*e.getWheelDeltas().y,r=q.lockedGrid.getView(),p=r.el.dom,m,s,n;if(!q.ignoreMousewheel){if(p){m=r.getScrollY();s=m!==p.scrollHeight-p.clientHeight;n=m!==0}if((t<0&&n)||(t>0&&s)){e.stopEvent();m+=t;r.setScrollY(m);q.normalGrid.getView().setScrollY(m);q.onNormalViewScroll()}}},onLockedViewScroll:function(){var l=this,m=l.lockedGrid.getView(),n=l.normalGrid.getView(),p=m.getScrollY(),k=n.getScrollY(),r,q;if(k!==p){n.setScrollY(p);if(n.bufferedRenderer){q=m.body.dom;r=n.body.dom;r.style.position="absolute";r.style.top=q.style.top}}},onNormalViewScroll:function(){var l=this,m=l.lockedGrid.getView(),n=l.normalGrid.getView(),p=m.getScrollY(),j=n.getScrollY(),k;if(j!==p){m.setScrollY(j);if(n.bufferedRenderer){k=m.body;if(k.dom){k.dom.style.position="absolute";k.translate(null,n.bufferedRenderer.bodyTop)}}}},syncRowHeights:function(){if(!this.destroyed){var l=this,n=l.normalGrid.getView(),m=l.lockedGrid.getView(),j=n.syncRowHeightBegin(),p=m.syncRowHeightBegin(),k;n.syncRowHeightMeasure(j);m.syncRowHeightMeasure(p);n.syncRowHeightFinish(j,p);m.syncRowHeightFinish(p,j);k=n.getScrollY();m.setScrollY(k)}},modifyHeaderCt:function(){var d=this;d.lockedGrid.headerCt.getMenuItems=d.getMenuItems(d.lockedGrid.headerCt.getMenuItems,true);d.normalGrid.headerCt.getMenuItems=d.getMenuItems(d.normalGrid.headerCt.getMenuItems,false);d.lockedGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(d.lockedGrid.headerCt.showMenuBy,d.showMenuBy);d.normalGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(d.normalGrid.headerCt.showMenuBy,d.showMenuBy)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},showMenuBy:function(r,p,k){var l=this.getMenu(),n=l.down("#unlockItem"),m=l.down("#lockItem"),q=n.prev();if(k.lockable===false){q.hide();n.hide();m.hide()}else{q.show();n.show();m.show();if(!n.initialConfig.disabled){n.setDisabled(k.lockable===false)}if(!m.initialConfig.disabled){m.setDisabled(!k.isLockable())}}},getMenuItems:function(q,t){var p=this,n=p.unlockText,v=p.lockText,m="x-hmenu-unlock",u="x-hmenu-lock",r=p.onUnlockMenuClick.bind(p),s=p.onLockMenuClick.bind(p);return function(){var c=q.call(this);c.push("-",{itemId:"unlockItem",iconCls:m,text:n,handler:r,disabled:!t});c.push({itemId:"lockItem",iconCls:u,text:v,handler:s,disabled:t});return c}},delaySyncLockedWidth:function(){var e=this,g=e.syncLockedWidthTask;if(!e.view.all.getCount()){return}if(!g){g=e.syncLockedWidthTask=new Ext.util.DelayedTask(e.syncLockedWidth,e)}g.delay(1)},syncLockedWidth:function(){var p=this,l=p.rendered,r=p.lockedGrid,q=r.view,m=p.normalGrid,n=r.getVisibleColumnManager().getColumns().length,t=m.getVisibleColumnManager().getColumns().length,s=p.syncLockedWidthTask;if(s){s.cancel()}Ext.suspendLayouts();if(t){m.show();if(n){if(l&&r.shrinkWrapColumns&&!r.headerCt.forceFit){delete r.flex;r.setWidth(r.headerCt.getTableWidth()+r.gridPanelBorderWidth)}r.addCls(p.lockedGridCls);r.show();if(r.split){p.child("splitter").show();p.addCls("x-grid-locked-split")}}else{if(l){r.getView().clearViewEl(true)}r.hide();if(r.split){p.child("splitter").hide();p.removeCls("x-grid-locked-split")}}if(Ext.supports.touchScroll!==2&&Ext.Component.pendingLayouts){q.getScrollable().setX(true)}if(l){p.ignoreMousewheel=q.scrollFlags.y}}else{m.hide();r.flex=1;delete r.width;r.removeCls(p.lockedGridCls);r.show();p.ignoreMousewheel=true}Ext.resumeLayouts(true);return[n,t]},onLockedHeaderSortChange:Ext.emptyFn,onNormalHeaderSortChange:Ext.emptyFn,lock:function(y,t,z){var w=this,x=w.normalGrid,B=w.lockedGrid,A=x.view,r=B.view,u=x.headerCt,v,D,C,s;y=y||u.getMenu().activeHeader;C=y.hasFocus;z=z||B.headerCt;D=y.ownerCt;if(!y.isLockable()){return}if(y.flex&&B.shrinkWrapColumns){y.width=y.getWidth();y.flex=null}Ext.suspendLayouts();if(B.hidden){if(!B.componentLayoutCounter){if(r.bufferedRenderer){r.bufferedRenderer.onViewResize(r,0,A.getHeight())}s=A.getScrollY()}B.show()}A.blockRefresh=r.blockRefresh=true;y.ownerCmp=y.ownerCt;D.remove(y,false);y.locked=true;if(Ext.isDefined(t)){z.insert(t,y)}else{z.add(y)}A.blockRefresh=r.blockRefresh=false;y.ownerCmp=null;v=w.syncLockedWidth();if(v[0]){B.getView().refreshView()}if(v[1]){x.getView().refreshView()}w.fireEvent("lockcolumn",w,y);Ext.resumeLayouts(true);if(s){r.setScrollY(s);A.setScrollY(s)}if(C){y.focus()}},unlock:function(v,q,w){var t=this,u=t.normalGrid,y=t.lockedGrid,x=u.view,p=y.view,r=y.headerCt,s,z;if(!Ext.isDefined(q)){q=0}v=v||r.getMenu().activeHeader;z=v.hasFocus;w=w||u.headerCt;Ext.suspendLayouts();x.blockRefresh=p.blockRefresh=true;v.ownerCmp=v.ownerCt;v.ownerCt.remove(v,false);v.locked=false;w.insert(q,v);x.blockRefresh=p.blockRefresh=false;v.ownerCmp=null;s=t.syncLockedWidth();if(s[0]){y.getView().refreshView()}if(s[1]){u.getView().refreshView()}t.fireEvent("unlockcolumn",t,v);Ext.resumeLayouts(true);if(z){v.focus()}},reconfigureLockable:function(s,r){var p=this,l=p.store,m=p.lockedGrid,n=p.normalGrid,t,q;if(s&&s!==l){s=Ext.data.StoreManager.lookup(s);p.store=s;m.view.blockRefresh=n.view.blockRefresh=true;m.bindStore(s);t=m.view;t.store=s;if(!t.dataSource.isFeatureStore){t.dataSource=s}if(t.bufferedRenderer){t.bufferedRenderer.bindStore(s)}n.bindStore(s);t=n.view;t.store=s;if(!t.dataSource.isFeatureStore){t.dataSource=s}if(t.bufferedRenderer){t.bufferedRenderer.bindStore(s)}p.view.store=s;q=p.view.loadMask;if(q&&q.isLoadMask){q.bindStore(s)}p.view.bindStore(n.view.dataSource,false,"dataSource");m.view.blockRefresh=n.view.blockRefresh=false}if(r){m.reconfiguring=n.reconfiguring=true;m.headerCt.removeAll();n.headerCt.removeAll();r=p.processColumns(r,m);m.headerCt.add(r.locked.items);n.headerCt.add(r.normal.items);m.reconfiguring=n.reconfiguring=false;p.syncLockedWidth()}p.refreshCounter=m.view.refreshCounter},afterReconfigureLockable:function(){var d=this.lockedGrid.getView();if(this.refreshCounter===d.refreshCounter){this.view.refresh()}},constructLockableFeatures:function(){var m=this.features,p,n,l,i,q=0,r;if(m){if(!Ext.isArray(m)){m=[m]}l=[];i=[];r=m.length;for(;q<r;q++){p=m[q];if(!p.isFeature){p=Ext.create("feature."+p.ftype,p)}switch(p.lockableScope){case"locked":l.push(p);break;case"normal":i.push(p);break;default:p.lockableScope="both";l.push(p);i.push(n=p.clone());n.lockingPartner=p;p.lockingPartner=n}}}return{normalFeatures:i,lockedFeatures:l}},constructLockablePlugins:function(){var x=this.plugins,t,y,z,r,q,v,u=0,s,i,w;if(x){if(!Ext.isArray(x)){x=[x]}r=[];q=[];v=[];s=x.length;for(;u<s;u++){t=x[u];if(t.init){i=t.lockableScope}else{w=t.ptype?Ext.ClassManager.getByAlias(("plugin."+t.ptype)):Ext.ClassManager.get(t.xclass);i=w.prototype.lockableScope}switch(i){case"both":q.push(z=t.clonePlugin());v.push(y=t.clonePlugin());z.lockingPartner=y;y.lockingPartner=z;Ext.destroy(t);break;case"locked":q.push(t);break;case"normal":v.push(t);break;default:r.push(t)}}}return{topPlugins:r,normalPlugins:v,lockedPlugins:q}},destroyLockable:function(){var e=this,g=e.syncLockedWidthTask;if(g){g.cancel();e.syncLockedWidthTask=null}if(e.lockedGrid&&e.lockedGrid.headerCt){e.lockedGrid.headerCt.showMenuBy=null}if(e.normalGrid&&e.normalGrid.headerCt){e.normalGrid.headerCt.showMenuBy=null}Ext.destroy(e.view,e.headerCt)}},0,0,0,0,0,0,[Ext.grid.locking,"Lockable",Ext.grid,"Lockable"],function(){this.borrow(Ext.Component,["constructPlugin"])}));(Ext.cmd.derive("Ext.grid.plugin.BufferedRenderer",Ext.AbstractPlugin,{isBufferedRenderer:true,lockableScope:"both",numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,synchronousRender:true,scrollToLoadBuffer:200,viewSize:100,rowHeight:21,position:0,lastScrollDirection:1,bodyTop:0,scrollHeight:0,loadId:0,init:function(k){var j=this,m=k.view,l={scroll:j.onViewScroll,scrollend:j.onViewScrollEnd,refresh:j.onViewRefresh,columnschanged:j.checkVariableRowHeight,boxready:j.onViewBoxReady,scope:j,destroyable:true},i=m.initialConfig;if(k.isTree||(k.ownerLockable&&k.ownerLockable.isTree)){m.blockRefresh=false;if(i&&i.loadMask===undefined){m.loadMask=true}}if(m.positionBody){l.refresh=j.onViewRefresh}if(Ext.isWebKit&&Ext.supports.touchScroll!==2){j.needsPointerEventsFix=true;l.scrollEnd=j.onViewScrollEnd}j.grid=k;j.view=m;j.isRTL=m.getInherited().rtl;m.bufferedRenderer=j;m.preserveScrollOnRefresh=true;m.animate=false;j.bindStore(m.dataSource);if(m.hasOwnProperty("rowHeight")){j.rowHeight=m.rowHeight}j.position=0;j.viewListeners=m.on(l)},checkVariableRowHeight:function(){this.variableRowHeight=this.view.hasVariableRowHeight()},bindStore:function(i){var h=this,k=h.store,j=h.view;if(k&&k.isFeatureStore){return}if(k){h.unbindStore()}h.storeListeners=i.on({scope:h,groupchange:h.onStoreGroupChange,clear:h.onStoreClear,beforeload:h.onBeforeStoreLoad,load:h.onStoreLoad,destroyable:true});h.store=i;if(h.view.componentLayout.layoutCount){delete h.viewSize;if(i.isBufferedStore){i.setViewSize(h.viewSize)}h.onViewResize(h.view,0,h.view.getHeight())}},unbindStore:function(){this.storeListeners.destroy();this.storeListeners=this.store=null},onBeforeStoreLoad:function(h){var g=this,i=g.view;if(i&&i.refreshCounter){if(h.isTreeStore||i.preserveScrollOnReload){g.nextRefreshStartIndex=i.all.startIndex}else{if(g.scrollTop!==0){g.setBodyTop(g.bodyTop=g.scrollTop=g.position=g.scrollHeight=g.nextRefreshStartIndex=0);i.setScrollY(0)}}g.lastScrollDirection=g.scrollOffset=null}g.disable()},onStoreLoad:function(){this.enable()},onStoreClear:function(){var e=this,g=e.view;if(g.rendered&&!e.store.destroyed){if(e.scrollTop!==0){e.bodyTop=e.scrollTop=e.position=e.scrollHeight=0;e.nextRefreshStartIndex=null;g.setScrollY(0)}g.refresh();e.lastScrollDirection=e.scrollOffset=null}},onStoreGroupChange:function(d){this.refreshSize()},onViewBoxReady:function(d){this.refreshScroller(d,this.scrollHeight)},onViewRefresh:function(l,k){var j=this,i=l.all,m;j.checkVariableRowHeight();if(!l.componentLayoutCounter&&(l.headerCt.down("{flex}")||j.variableRowHeight)){l.on({boxready:Ext.Function.pass(j.onViewRefresh,[l,k],j),single:true});j.skipNextRefreshSize=true;return}j.skipNextRefreshSize=false;if(j.refreshing){return}j.refreshSize();if(j.scrollTop!==l.getScrollY()){j.onViewScroll();j.onViewScrollEnd()}else{if(!j.hasOwnProperty("bodyTop")){j.bodyTop=i.startIndex*j.rowHeight;l.setScrollY(j.bodyTop)}j.setBodyTop(j.bodyTop);m=l.getHeight();if(i.getCount()&&m>0){j.onViewResize(l,null,m);if(k&&(i.getCount()!==k.length)){k.length=0;k.push.apply(k,j.store.getRange(i.startIndex,i.endIndex))}}}},beforeTableLayout:function(g){var e=this.view.body.dom;if(e){g.bodyHeight=e.offsetHeight;g.bodyWidth=e.offsetWidth}},afterTableLayout:function(h){var j=this,k=j.view,i;if(h.bodyHeight&&k.body.dom){delete j.rowHeight;j.refreshSize();i=k.body.dom.offsetHeight;if(i!==h.bodyHeight){j.onViewResize(k,null,k.el.lastBox.height);if(i<h.bodyHeight){if(j.viewSize>=j.store.getCount()){j.setBodyTop(0)}else{if(j.bodyTop>j.scrollTop||j.bodyTop+i<j.scrollTop+j.viewClientHeight){j.setBodyTop(j.scrollTop-j.trailingBufferZone*j.rowHeight)}}}if(k.all.endIndex===(k.dataSource.getCount())-1){j.stretchView(k,j.scrollHeight=j.bodyTop+i-1)}}}},refreshSize:function(){var j=this,k=j.view,i=j.skipNextRefreshSize,h=k.body.dom;j.skipNextRefreshSize=false;if(i||!h){return}j.bodyHeight=k.body.dom.offsetHeight;j.scrollHeight=j.getScrollHeight();j.stretchView(k,j.scrollHeight)},onViewResize:function(p,m,r,q,k){var l=this,n;if(!k||r!==k){n=Math.ceil(r/l.rowHeight)+l.trailingBufferZone+l.leadingBufferZone;l.viewSize=l.setViewSize(n);l.viewClientHeight=p.el.dom.clientHeight}},stretchView:function(h,i){var g=this;if(g.scrollTop>i){g.position=g.scrollTop=Math.max(i-g.bodyHeight,0);h.setScrollY(g.scrollTop)}if(g.bodyTop>i){h.body.translate(null,g.bodyTop=g.position)}if(h.getScrollable()){g.refreshScroller(h,i)}},refreshScroller:function(g,h){var i=g.getScrollable();if(i){if(i.setElementSize){i.setElementSize()}i.setSize({x:g.headerCt.getTableWidth(),y:h})}},setViewSize:function(w,E){var x=this,t=x.store,v=x.view,H=v.all,B=H.getCount(),F,C,z=x.view.lockingPartner&&x.view.lockingPartner.bufferedRenderer,u=B-w,D,G,A,y;if(z&&!E&&z.view.componentLayoutCounter){if(z.viewSize>w){w=z.viewSize}else{z.setViewSize(w,true)}}u=B-w;if(u){x.scrollTop=v.getScrollY();x.viewSize=w;if(t.isBufferedStore){t.setViewSize(w)}if(B){y=t.getCount();F=H.startIndex;C=Math.min(F+w-1,y-1);if(F===H.startIndex&&C===H.endIndex){if(u<0){x.handleViewScroll(-1)}}else{if(z){z.disable()}if(u<0){if(y>B){t.getRange(H.endIndex+1,C,{callback:function(d,c){A=v.doAdd(d,c);v.fireEvent("itemadd",d,c,A);x.setBodyTop(x.bodyTop)}})}else{x.refreshView(0)}}else{F=H.endIndex-(u-1);C=H.endIndex;G=H.slice(F,C+1);H.removeRange(F,C,true);if(v.hasListeners.itemremove){D=t.getRange(F,C);v.fireEvent("itemremove",D,F,G)}x.setBodyTop(x.bodyTop)}if(z){z.enable()}}}}return w},getViewRange:function(){var j=this,i=j.view.all,k=j.store,h=0;if(i.getCount()){h=i.startIndex}else{if(k.isBufferedStore){if(!k.currentPage){k.currentPage=1}h=i.startIndex=(k.currentPage-1)*(k.pageSize||1);k.currentPage=1}}if(k.data.getCount()){return k.getRange(h,h+(j.viewSize||k.defaultViewSize)-1)}else{return[]}},onReplace:function(t,s,x,w){var v=this,u=v.view,q=u.all,B,y=q.getCount(),z=s+x.length-1,r=w.length-x.length,A=r*v.rowHeight;if(s>=q.startIndex+v.viewSize){v.refreshSize();return}if(y&&z<q.startIndex&&q.getCount()>=v.viewSize){q.moveBlock(r);v.refreshSize();B=q.startIndex;if(r>0){v.doNotMirror=true;v.handleViewScroll(-1);v.doNotMirror=false}if(q.startIndex===B){if(q.startIndex){v.setBodyTop(v.bodyTop+=A);u.suspendEvent("scroll");u.scrollBy(0,A);u.resumeEvent("scroll");v.position=v.scrollTop=u.getScrollY()}}else{u.suspendEvent("scroll");u.scrollBy(0,(B-q.startIndex)*v.rowHeight);u.resumeEvent("scroll")}u.refreshSize(q.getCount()!==y);return}if(y&&s>q.endIndex){v.refreshSize();if(r>0){v.onRangeFetched(null,q.startIndex,Math.min(t.getCount(),q.startIndex+v.viewSize)-1,null,true)}u.refreshSize(q.getCount()!==y);return}if(s<q.startIndex&&z<=q.endIndex){v.refreshView(q.startIndex-x.length+w.length);return}if(s<q.startIndex&&z<=q.endIndex&&A){u.suspendEvent("scroll");u.setScrollY(v.position=v.scrollTop+=A);u.resumeEvent("scroll")}v.refreshView()},scrollTo:function(v,I){var B=arguments,z=this,x=z.view,C=x.lockingPartner&&x.lockingPartner.grid.isVisible()&&x.lockingPartner.bufferedRenderer,u=z.store,y=u.getCount(),A,G,H,J,F,E,D,w;if(I!==undefined&&!(I instanceof Object)){I={select:B[1],callback:B[2],scope:B[3]}}if((F=x.dataSource.groupingFeature)&&(F.collapsible)){if(v.isEntity){D=v}else{D=x.store.getAt(Math.min(Math.max(v,0),x.store.getCount()-1))}E=F.getMetaGroup(D);if(E&&E.isCollapsed){if(!F.isExpandingOrCollapsing){F.expand(F.getGroup(D).getGroupKey());y=u.getCount();v=F.indexOf(D)}else{D=E.placeholder;v=F.indexOfPlaceholder(D)}}else{v=F.indexOf(D)}}else{if(v.isEntity){D=v;v=u.indexOf(D);if(v===-1){return}}else{v=Math.min(Math.max(v,0),y-1);D=u.getAt(v)}}if(D&&(H=x.getNode(D))){x.grid.ensureVisible(D,I);z.onViewScroll();z.onViewScrollEnd();return}if(v<x.all.startIndex){w=-1;A=Math.max(Math.min(v-(Math.floor((z.leadingBufferZone+z.trailingBufferZone)/2)),y-z.viewSize+1),0);G=Math.min(A+z.viewSize-1,y-1)}else{w=1;G=Math.min(v+(Math.floor((z.leadingBufferZone+z.trailingBufferZone)/2)),y-1);A=Math.max(G-(z.viewSize-1),0)}J=Math.max(A*z.rowHeight,0);u.getRange(A,G,{callback:function(d,c,e){z.renderRange(c,e,true,true);D=u.data.getRange(v,v+1)[0];H=x.getNode(D);x.body.translate(null,z.bodyTop=J);if(w===1){z.refreshSize()}if(C){C.renderRange(c,e,true,true);z.syncRowHeights();C.view.body.translate(null,C.bodyTop=J);if(w===1){C.refreshSize()}}if(!H){return}x.grid.ensureVisible(D,I);z.scrollTop=z.position=z.view.getScrollY();if(C){C.position=C.scrollTop=z.scrollTop}}})},onViewScroll:function(){var l=this,n=l.store,p=(n.getCount()),m,j,k=l.scrollTop=l.view.getScrollY();if(l.needsPointerEventsFix){l.view.body.dom.style.pointerEvents="none"}if(!(l.disabled||p<l.viewSize)){m=k-l.position;j=m>0?1:-1;if(Math.abs(m)>=20||(j!==l.lastScrollDirection)){l.lastScrollDirection=j;l.handleViewScroll(l.lastScrollDirection)}}},onViewScrollEnd:function(){if(this.needsPointerEventsFix){this.view.body.dom.style.pointerEvents=""}},handleViewScroll:function(m){var p=this,n=p.view.all,t=p.store,l=p.viewSize,r=t.getCount()-1,q,s;if(m===-1){if(n.startIndex){if(p.topOfViewCloseToEdge()){q=Math.max(0,p.getLastVisibleRowIndex()+p.trailingBufferZone-l)}}}else{if(n.endIndex<r){if(p.bottomOfViewCloseToEdge()){q=Math.max(0,p.getFirstVisibleRowIndex()-p.trailingBufferZone)}}}if(q==null){p.position=p.scrollTop;p.loadId++}else{s=Math.min(q+l-1,r);if(p.variableRowHeight&&s===n.endIndex&&s<r){s++;p.viewSize=l++;if(t.isBufferedStore){t.setViewSize(p.viewSize)}}if(q!==n.startIndex||s!==n.endIndex){p.renderRange(q,s);return true}}},bottomOfViewCloseToEdge:function(){var d=this;if(d.variableRowHeight){return d.bodyTop+d.bodyHeight<d.scrollTop+d.view.lastBox.height+(d.numFromEdge*d.rowHeight)}else{return(d.view.all.endIndex-d.getLastVisibleRowIndex())<d.numFromEdge}},topOfViewCloseToEdge:function(){var d=this;if(d.variableRowHeight){return d.bodyTop>d.scrollTop-(d.numFromEdge*d.rowHeight)}else{return(d.getFirstVisibleRowIndex()-d.view.all.startIndex)<d.numFromEdge}},refreshView:function(n){var r=this,l=r.viewSize,p=r.view.all,t=r.store,m=t.getCount(),s=Math.max(0,m-1),q;if(!m){return r.doRefreshView([],0,0)}else{if(m<l){n=0;q=s}else{if(n==null){if(r.nextRefreshStartIndex!=null){n=r.nextRefreshStartIndex;r.nextRefreshStartIndex=null}else{n=p.startIndex}}n=Math.max(0,Math.min(n,s-(l-r.leadingBufferZone)+1));q=Math.min(n+l-1,s);if(q-n+1>l){n=q-l+1}}}if(n===0&&q===0&&m===0){r.doRefreshView([],0,0)}else{t.getRange(n,q,{callback:r.doRefreshView,scope:r})}},doRefreshView:function(C,L,D,J){var w=this,v=w.view,K=v.all,y=K.startIndex,A=K.endIndex,x,z,H=K.getCount(),E,I=L!==K.startIndex,F,G,B;if(v.refreshCounter){if(v.hasListeners.beforerefresh&&v.fireEvent("beforerefresh",v)===false){return}v.refreshing=w.refreshing=true;B=v.saveFocusState();v.clearViewEl(true);v.refreshCounter++;if(C.length){E=v.doAdd(C,L);if(I){x=K.item(y,true);z=K.item(A,true);if(x){G=-x.offsetTop}else{if(z){G=K.last(true).offsetTop-z.offsetTop}}if(G){w.bodyTop=Math.max(w.bodyTop+G,0);w.scrollTop=w.bodyTop?w.scrollTop+G:0}else{w.bodyTop=F=L*w.rowHeight;w.scrollTop=Math.max(F-w.rowHeight*(F<w.bodyTop?w.leadingBufferZone:w.trailingBufferZone,0))}}}else{if(w.scrollTop){w.bodyTop=w.scrollTop=0}v.addEmptyText()}if(I){w.setBodyTop(w.bodyTop);v.suspendEvent("scroll");v.setScrollY(w.position=w.scrollTop);v.resumeEvent("scroll")}w.refreshSize();v.refreshSize(K.getCount()!==H);v.fireEvent("refresh",v,C);B();v.headerCt.setSortState();v.refreshNeeded=v.refreshing=w.refreshing=false}else{v.refresh()}},renderRange:function(k,r,l,p){var n=this,m=n.view.all,q=n.store;if(!(k===m.startIndex&&r===m.endIndex)){if(q.rangeCached(k,r)){n.cancelLoad();if(n.synchronousRender||l){n.onRangeFetched(null,k,r,null,p)}else{if(!n.renderTask){n.renderTask=new Ext.util.DelayedTask(n.onRangeFetched,n,null,false)}n.renderTask.delay(1,null,null,[null,k,r,null,p])}}else{n.attemptLoad(k,r)}}},onRangeFetched:function(I,T,V,W,G){var K=this,J=K.view,Q=J.el,X,L=J.all,R,M=0,D,P,N=(J.lockingPartner&&!G&&!K.doNotMirror)&&J.lockingPartner.bufferedRenderer,i,Y,O,Z,E,F=K.variableRowHeight,U,H,S;if(J.destroyed){return}if(I){K.scrollTop=K.view.getScrollY()}else{I=K.store.getRange(T,V);if(!I){return}}U=Ext.Element.getActiveElement();H=Q.contains(U);D=T*K.rowHeight;if(T<L.startIndex&&V>L.endIndex){O=L.startIndex-T;J.clearViewEl(true);i=J.doAdd(I,T);J.fireEvent("itemadd",I,T,i);for(E=0;E<O;E++){M-=i[E].offsetHeight}P=K.bodyTop+M}else{if(K.teleported||T>L.endIndex||V<L.startIndex){P=D;if(F){Z=K.scrollTop<K.position?K.leadingBufferZone:K.trailingBufferZone;if(T>Z){P=K.scrollTop-K.rowHeight*Z}}J.clearViewEl(true);K.teleported=false}if(!L.getCount()){i=J.doAdd(I,T);J.fireEvent("itemadd",I,T,i)}else{if(V>L.endIndex){R=Math.max(T-L.startIndex,0);if(F){M=L.item(L.startIndex+R,true).offsetTop}i=L.scroll(Ext.Array.slice(I,L.endIndex+1-T),1,R);if(F){P=K.bodyTop+M}else{P=D}}else{R=Math.max(L.endIndex-V,0);X=L.startIndex;i=L.scroll(Ext.Array.slice(I,0,L.startIndex-T),-1,R);if(F){P=K.bodyTop-L.item(X,true).offsetTop;if(!L.startIndex){if(P){J.setScrollY(K.position=(K.scrollTop-=P));P=0}}else{if(P<0){M=L.startIndex*K.rowHeight;J.setScrollY(K.position=(K.scrollTop+=M));P=K.bodyTop+M}}}else{P=D}}}K.position=K.scrollTop}if(H&&!Q.contains(U)){S=J.actionableMode?J.actionPosition:J.lastFocused;if(S&&S.column){J.onFocusLeave({});S.column.focus()}}P=Math.max(Math.floor(P),0);if(J.positionBody){K.setBodyTop(P)}if(i&&N&&!N.disabled){N.scrollTop=N.position=K.scrollTop;if(N.view.ownerCt.isVisible()){Y=N.onRangeFetched(null,T,V,W,true);if(J.ownerGrid.syncRowHeight||(N.variableRowHeight!==F)){K.syncRowHeights(i,Y);K.bodyHeight=J.body.dom.offsetHeight}}if(N.bodyTop!==P){N.setBodyTop(P)}N.view.setScrollY(K.scrollTop)}return i},syncRowHeights:function(s,x){var q=this,r=0,i=1,p=[],w=[],u=Ext.grid.locking.RowSynchronizer,v,t;if(s&&x){r=s.length;i=x.length}if(r!==i){s=q.view.all.slice();x=q.view.lockingPartner.all.slice();r=i=s.length}for(v=0;v<r;v++){p[v]=t=new u(q.view,s[v]);t.measure()}for(v=0;v<i;v++){w[v]=t=new u(q.view.lockingPartner,x[v]);t.measure()}for(v=0;v<r;v++){p[v].finish(w[v]);w[v].finish(p[v])}q.syncRowHeightsFinish()},syncRowHeightsFinish:function(){var g=this,i=g.view,h=i.lockingPartner.bufferedRenderer;if(i.componentLayoutCounter){delete g.rowHeight;g.refreshSize();if(h.rowHeight!==g.rowHeight){delete h.rowHeight;h.refreshSize()}}},setBodyTop:function(l){var k=this,n=k.view,j=n.all,m=k.store,p=n.body;if(!p.dom){return}k.translateBody(p,l);if(k.variableRowHeight){k.bodyHeight=p.dom.offsetHeight;if(j.endIndex===m.getCount()-1){k.scrollHeight=l+k.bodyHeight-1}else{k.scrollHeight=k.getScrollHeight()}k.stretchView(n,k.scrollHeight)}else{k.bodyHeight=j.getCount()*k.rowHeight}},translateBody:function(g,e){g.translate(null,this.bodyTop=e)},getFirstVisibleRowIndex:function(s,z,A,w){var v=this,u=v.view,q=u.all,B=q.elements,y=v.viewClientHeight,x,r,t=v.bodyTop;if(q.getCount()&&v.variableRowHeight){if(!arguments.length){s=q.startIndex;z=q.endIndex;A=v.scrollTop;w=A+y;if(t>w||t+v.bodyHeight<A){v.teleported=true;return Math.floor(v.scrollTop/v.rowHeight)}x=s+Math.min(v.numFromEdge+((v.lastScrollDirection===-1)?v.leadingBufferZone:v.trailingBufferZone),Math.floor((z-s)/2))}else{x=s+Math.floor((z-s)/2)}r=t+B[x].offsetTop;if(r+B[x].offsetHeight<=A){return v.getFirstVisibleRowIndex(x+1,z,A,w)}if(r<=A){return x}else{if(x!==s){return v.getFirstVisibleRowIndex(s,x-1,A,w)}}}return Math.floor(v.scrollTop/v.rowHeight)},getLastVisibleRowIndex:function(t,B,C,y){var w=this,v=w.view,r=v.all,D=r.elements,A=w.viewClientHeight,z,s,x,u=w.bodyTop;if(r.getCount()&&w.variableRowHeight){if(!arguments.length){t=r.startIndex;B=r.endIndex;C=w.scrollTop;y=C+A;if(u>y||u+w.bodyHeight<C){w.teleported=true;return Math.floor(w.scrollTop/w.rowHeight)+Math.ceil(A/w.rowHeight)}z=B-Math.min(w.numFromEdge+((w.lastScrollDirection===1)?w.leadingBufferZone:w.trailingBufferZone),Math.floor((B-t)/2))}else{z=t+Math.floor((B-t)/2)}s=u+D[z].offsetTop;if(s>y){return w.getLastVisibleRowIndex(t,z-1,C,y)}x=s+D[z].offsetHeight;if(x>=y){return z}else{if(z!==B){return w.getLastVisibleRowIndex(z+1,B,C,y)}}}return w.getFirstVisibleRowIndex()+Math.ceil(A/w.rowHeight)},getScrollHeight:function(){var v=this,t=v.view,p=t.all,s=v.store,n=s.getCount(),u=p.getCount(),q,w,x,r;if(!n){return 0}if(!v.hasOwnProperty("rowHeight")){if(u){if(v.variableRowHeight){v.rowHeight=Math.floor(v.bodyHeight/u)}else{q=p.first();w=q.getHeight();if(Ext.isIE8){x=q.getBorderWidth("b");if(x>0){w-=x}}v.rowHeight=w}}else{delete v.rowHeight}}if(v.variableRowHeight){if(p.endIndex===n-1){r=v.bodyTop+v.bodyHeight-1}else{r=Math.floor((n-u)*v.rowHeight)+v.bodyHeight;r+=v.bodyTop-p.startIndex*v.rowHeight}}else{r=Math.floor(n*v.rowHeight)}return(v.scrollHeight=r)},attemptLoad:function(g,i){var h=this;if(h.scrollToLoadBuffer){if(!h.loadTask){h.loadTask=new Ext.util.DelayedTask(h.doAttemptLoad,h,[])}h.loadTask.delay(h.scrollToLoadBuffer,h.doAttemptLoad,h,[g,i])}else{h.doAttemptLoad(g,i)}},cancelLoad:function(){if(this.loadTask){this.loadTask.cancel()}},doAttemptLoad:function(g,i){var h=this;if(!h.destroyed){h.store.getRange(g,i,{loadId:++h.loadId,callback:function(e,c,k,d){if(d.loadId===h.loadId){h.onRangeFetched(e,c,k,d)}},fireEvent:false})}},destroy:function(){var e=this,g=e.view;e.cancelLoad();if(g&&g.el){g.un("scroll",e.onViewScroll,e)}if(e.store){e.unbindStore()}e.viewListeners=e.gridListeners=e.view=e.grid=Ext.destroy(e.viewListeners,e.stretcher,e.gridListeners);Ext.plugin.Abstract.prototype.destroy.call(this)}},0,0,0,0,["plugin.bufferedrenderer"],0,[Ext.grid.plugin,"BufferedRenderer"],function(d){if(Ext.supports.Touch){d.prototype.leadingBufferZone=d.prototype.trailingBufferZone=2;d.prototype.numFromEdge=1}}));(Ext.cmd.derive("Ext.grid.plugin.Editing",Ext.plugin.Abstract,{clicksToEdit:2,triggerEvent:undefined,relayedEvents:["beforeedit","edit","validateedit","canceledit"],defaultFieldUI:"default",defaultFieldXType:"textfield",editStyle:"",constructor:function(g){var e=this;Ext.plugin.Abstract.prototype.constructor.call(this,g);e.mixins.observable.constructor.call(e);e.on("edit",function(d,c){e.fireEvent("afteredit",d,c)})},init:function(i){var h=this,g=i.ownerLockable;h.grid=i;h.view=i.view;h.initEvents();if(i.rendered){h.setup()}else{h.mon(i,{beforereconfigure:h.onBeforeReconfigure,reconfigure:h.onReconfigure,scope:h,beforerender:{fn:h.onBeforeRender,single:true,scope:h}})}i.editorEventRelayers=i.relayEvents(h,h.relayedEvents);if(g){g.editorEventRelayers=g.relayEvents(h,h.relayedEvents)}i.isEditable=true;i.editingPlugin=i.view.editingPlugin=h},onBeforeReconfigure:function(){this.reconfiguring=true},onReconfigure:function(){this.setup();delete this.reconfiguring},onBeforeRender:function(){this.setup()},setup:function(){this.initFieldAccessors(this.grid.getTopLevelColumnManager().getColumns())},destroy:function(){var e=this,g=e.grid;Ext.destroy(e.keyNav);e.clearListeners();if(g){if(g.ownerLockable){Ext.destroy(g.ownerLockable.editorEventRelayers);g.ownerLockable.editorEventRelayers=null}Ext.destroy(g.editorEventRelayers);g.editorEventRelayers=null;g.editingPlugin=g.view.editingPlugin=e.grid=e.view=e.editor=e.keyNav=null}Ext.plugin.Abstract.prototype.destroy.call(this)},getEditStyle:function(){return this.editStyle},initFieldAccessors:function(r){if(r.isGroupHeader){r=r.getGridColumns()}else{if(!Ext.isArray(r)){r=[r]}}var n=this,c,m=r.length,s=function(e,d){return n.getColumnField(this,d)},t=function(){return n.hasColumnField(this)},p=function(d){n.setColumnField(this,d)},q;for(c=0;c<m;c++){q=r[c];if(!q.getEditor){q.getEditor=s}if(!q.hasEditor){q.hasEditor=t}if(!q.setEditor){q.setEditor=p}}},removeFieldAccessors:function(k){if(k.isGroupHeader){k=k.getGridColumns()}else{if(!Ext.isArray(k)){k=[k]}}var c,i=k.length,j;for(c=0;c<i;c++){j=k[c];j.getEditor=j.hasEditor=j.setEditor=j.field=j.editor=null}},getColumnField:function(i,k){var j=this,h=i.field;if(!(h&&h.isFormField)){h=i.field=j.createColumnField(i,k)}if(h&&h.ui==="default"&&!h.hasOwnProperty("ui")){h.ui=j.defaultFieldUI}return h},hasColumnField:function(d){return !!(d.field&&d.field.isComponent)},setColumnField:function(g,e){g.field=e;g.field=this.createColumnField(g)},createColumnField:function(i,k){var h=i.field,j;if(!h&&i.editor){h=i.editor;i.editor=null}if(!h&&k){h=k}if(h){j=i.dataIndex;if(h.isComponent){h.column=i}else{if(Ext.isString(h)){h={name:j,xtype:h,column:i}}else{h=Ext.apply({name:j,column:i},h)}h=Ext.ComponentManager.create(h,this.defaultFieldXType)}h.dataIndex=j;h.isEditorComponent=true;i.field=h}return h},initEvents:function(){var d=this;d.initEditTriggers();d.initCancelTriggers()},initCancelTriggers:Ext.emptyFn,initEditTriggers:function(){var e=this,g=e.view;if(e.triggerEvent==="cellfocus"){e.mon(g,"cellfocus",e.onCellFocus,e)}else{if(e.triggerEvent==="rowfocus"){e.mon(g,"rowfocus",e.onRowFocus,e)}else{if(g.getSelectionModel().isCellModel){g.onCellFocus=e.beforeViewCellFocus.bind(e)}e.mon(g,e.triggerEvent||("cell"+(e.clicksToEdit===1?"click":"dblclick")),e.onCellClick,e)}}e.initAddRemoveHeaderEvents();e.view.getNavigationModel().addKeyBindings({esc:e.onEscKey,scope:e})},beforeViewCellFocus:function(d){if(this.view.selModel.keyNavigation||!this.editing||!this.isCellEditable||!this.isCellEditable(d.row,d.columnHeader)){this.view.focusCell.apply(this.view,arguments)}},onRowFocus:function(i,g,h){this.startEdit(g,0)},onCellFocus:function(g,h,i){this.startEdit(i.row,i.column)},onCellClick:function(q,p,v,t,e,x,r){var u=q.expanderSelector,w=q.ownerCt.getColumnManager().getHeaderAtIndex(v),s=w.getEditor(t);if(this.shouldStartEdit(s)&&(!u||!r.getTarget(u))){q.ownerGrid.setActionableMode(true,r.position)}},initAddRemoveHeaderEvents:function(){var g=this,e=g.grid.headerCt;g.mon(e,{scope:g,add:g.onColumnAdd,columnmove:g.onColumnMove,beforedestroy:g.beforeGridHeaderDestroy})},onColumnAdd:function(g,e){this.initFieldAccessors(e)},onColumnMove:Ext.emptyFn,onEscKey:function(e){if(this.editing){var g=Ext.getCmp(e.getTarget().getAttribute("componentId"));if(!(g&&g.isPickerField&&g.isExpanded)){return this.cancelEdit()}}},beforeEdit:Ext.emptyFn,shouldStartEdit:function(d){return !!d},getEditingContext:function(v,x){var t=this,z=t.grid,u=z.visibleColumnManager,s,r,y,w,p,q=t.grid.lockable?t.grid:t.view;if(!q.componentLayoutCounter){q.on({boxready:Ext.Function.bind(t.startEdit,t,[v,x]),single:true});return}if(t.disabled||t.grid.collapsed||!t.grid.view.isVisible(true)){return}if(Ext.isNumber(x)){x=u.getHeaderAtIndex(x)}if(!x){return}if(x.hidden){x=x.next(":not([hidden])")||x.prev(":not([hidden])")}s=x.getView();z=s.ownerCt;z.ensureVisible(v,{column:x});r=s.getRow(v);if(!r){return}w=s.getVisibleColumnManager().indexOf(x);if(Ext.isNumber(v)){y=v;v=s.getRecord(r)}else{y=s.indexOf(r)}if(!v){return}p=new Ext.grid.CellContext(s).setAll(s,y,w,v,x);p.grid=z;p.store=s.dataSource;p.field=x.dataIndex;p.value=p.originalValue=v.get(x.dataIndex);p.row=r;p.node=s.getNode(v);p.cell=s.getCellByPosition(p,true);return p},cancelEdit:function(){var d=this;d.editing=false;d.fireEvent("canceledit",d,d.context)},completeEdit:function(){var d=this;if(d.editing&&d.validateEdit()){d.fireEvent("edit",d,d.context)}d.context=null;d.editing=false},validateEdit:function(g){var e=this;return e.fireEvent("validateedit",e,g)!==false&&!g.cancel}},1,0,0,0,["editing.editing"],[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable]],[Ext.grid.plugin,"Editing"],0));(Ext.cmd.derive("Ext.grid.plugin.CellEditing",Ext.grid.plugin.Editing,{init:function(g){var e=this;e.cacheDeactivatedEditors=Ext.Function.createAnimationFrame(e.cacheDeactivatedEditors);g.registerActionable(e);Ext.grid.plugin.Editing.prototype.init.apply(this,arguments);e.editors=new Ext.util.MixedCollection(false,function(c){return c.editorId})},beforeGridHeaderDestroy:function(i){var l=this,p=l.grid.getColumnManager().getColumns(),r=p.length,q,m,n;for(q=0;q<r;q++){m=p[q];n=l.editors.getByKey(m.getItemId());if(!n){n=m.editor||m.field}Ext.destroy(n);l.removeFieldAccessors(m)}},onReconfigure:function(g,i,h){if(h){this.editors.clear()}Ext.grid.plugin.Editing.prototype.onReconfigure.call(this)},destroy:function(){var d=this;if(d.editors){d.editors.each(Ext.destroy,Ext);d.editors.clear()}Ext.grid.plugin.Editing.prototype.destroy.call(this)},initCancelTriggers:function(){var e=this,g=e.grid;e.mon(g,{columnresize:e.cancelEdit,columnmove:e.cancelEdit,scope:e})},isCellEditable:function(k,h){var i=this,j=i.getEditingContext(k,h);if(j.view.isVisible(true)&&j){h=j.column;k=j.record;if(h&&i.getEditor(k,h)){return true}}},activateCell:function(q){var k=this,p=q.record,l=q.column,n,r,m;n=k.getEditingContext(p,l);if(!n){return}if(!k.preventBeforeCheck){if(!l.getEditor(p)||k.beforeEdit(n)===false||k.fireEvent("beforeedit",k,n)===false||n.cancel){return}}m=k.getEditor(p,l);if(m){r=Ext.get(n.cell);if(!m.rendered){m.hidden=true;m.render(r,0)}else{if(m.container!==r){m.container=r;r.dom.insertBefore(m.el.dom,r.dom.firstChild)}m.hide()}k.setEditingContext(n);m.startEdit(r,n.value,false);if(m.editing){k.setActiveEditor(m);k.setActiveRecord(p);k.setActiveColumn(l);k.editing=true;k.scroll=q.view.el.getScroll()}return m.editing}},activateRow:Ext.emptyFn,deactivate:function(){var h=this,i=h.editors.items,k=i.length,j;for(j=0;j<k;j++){i[j].hide()}h.cacheDeactivatedEditors()},cacheDeactivatedEditors:function(){var i=this,k=i.editors.items,p=k.length,m,l,n=Ext.getDetachedBody();for(m=0;m<p;m++){l=k[m];if(!l.isVisible()){n.dom.appendChild(l.el.dom);l.container=n}}},startEdit:function(g,e){this.startEditByPosition(new Ext.grid.CellContext(this.view).setPosition(g,e))},completeEdit:function(g){var e=this.getActiveEditor();if(e){e.completeEdit(g)}},setEditingContext:function(d){this.context=d},setActiveEditor:function(d){this.activeEditor=d},getActiveEditor:function(){return this.activeEditor},setActiveColumn:function(d){this.activeColumn=d},getActiveColumn:function(){return this.activeColumn},setActiveRecord:function(d){this.activeRecord=d},getActiveRecord:function(){return this.activeRecord},getEditor:function(p,l){var j=this,k=j.editors,m=l.getItemId(),n=k.getByKey(m);if(!n){n=l.getEditor(p);if(!n){return false}if(n instanceof Ext.grid.CellEditor){n.floating=true}else{n=new Ext.grid.CellEditor({floating:true,editorId:m,field:n})}n.field.excludeForm=true;if(n.column!==l){n.column=l;n.on({scope:j,complete:j.onEditComplete,canceledit:j.cancelEdit});l.on("removed",j.onColumnRemoved,j)}k.add(n)}n.ownerCmp=j.grid.ownerGrid;if(l.isTreeColumn){n.isForTree=l.isTreeColumn;n.addCls("x-tree-cell-editor")}n.setGrid(j.grid);n.editingPlugin=j;return n},onColumnRemoved:function(h){var g=this,i=g.context;if(i&&i.column===h){g.cancelEdit()}h.un("removed",g.onColumnRemoved,g)},setColumnField:function(h,g){var i=this.editors.getByKey(h.getItemId());Ext.destroy(i,h.field);this.editors.removeAtKey(h.getItemId());Ext.grid.plugin.Editing.prototype.setColumnField.apply(this,arguments)},getCell:function(g,e){return this.grid.getView().getCell(g,e)},onEditComplete:function(n,k,p){var l=this,m=n.context,q,r;q=m.view;r=m.record;m.value=k;if(!l.validateEdit(m)){l.editing=false;return}if(!r.isEqual(k,p)){r.set(m.column.dataIndex,k);m.rowIdx=q.indexOf(r)}l.fireEvent("edit",l,m);if(l.context===m){l.setActiveEditor(null);l.setActiveColumn(null);l.setActiveRecord(null);l.editing=false}},cancelEdit:function(g){var h=this,i=h.context;if(g&&g.isCellEditor){h.context.value=("editedValue" in g)?g.editedValue:g.getValue();Ext.grid.plugin.Editing.prototype.cancelEdit.apply(this,arguments);if(g.context===i){h.setActiveEditor(null);h.setActiveColumn(null);h.setActiveRecord(null)}else{h.editing=true}}else{g=h.getActiveEditor();if(g&&g.field){g.cancelEdit()}}},startEditByPosition:function(l){var i=this,m=i.grid.getColumnManager(),k,j=i.getActiveEditor();if(!l.isCellContext){l=new Ext.grid.CellContext(i.view).setPosition(l.row,i.grid.getColumnManager().getColumns()[l.column])}k=m.getHeaderIndex(l.column);l.column=m.getVisibleHeaderClosestToIndex(k);if(i.grid.actionableMode){if(i.editing&&l.isEqual(i.context)){return}if(j){j.completeEdit()}}if(i.grid.actionableMode){if(i.activateCell(l)){i.activateRow(i.view.all.item(l.rowIdx,true));j=i.getEditor(l.record,l.column);if(j){j.field.focus()}}}else{return i.grid.setActionableMode(true,l)}}},0,0,0,0,["plugin.cellediting"],0,[Ext.grid.plugin,"CellEditing"],0));(Ext.cmd.derive("Ext.plugin.AbstractClipboard",Ext.plugin.Abstract,{cachedConfig:{formats:{text:{get:"getTextData",put:"putTextData"}}},config:{memory:null,source:"system",system:"text"},destroy:function(){var i=this,g=i.keyMap,h=i.shared;if(g){i.keyMap=Ext.destroy(g);if(!--h.counter){h.textArea=Ext.destroy(h.textArea)}}else{i.renderListener=Ext.destroy(i.renderListener)}Ext.plugin.Abstract.prototype.destroy.call(this)},init:function(g){var e=this;if(g.rendered){this.finishInit(g)}else{e.renderListener=g.on({render:function(){e.renderListener=null;e.finishInit(g)},destroyable:true,single:true})}},getTarget:function(d){return d.el},privates:{shared:{counter:0,data:null,textArea:null},applyMemory:function(d){d=this.applySource(d);return d},applySource:function(d){if(d){if(Ext.isString(d)){d=[d]}else{if(d.length===0){d=null}}}return d||null},doCutCopy:function(p,s){var q=this,t=q.allFormats||q.syncFormats(),m=q.getData(s,t),l=q.getMemory(),r=q.getSystem(),n;q.shared.data=l&&m;if(r){n=m[r];if(t[r]<3){delete m[r]}q.setClipboardData(n)}},doPaste:function(g,h){var i=this.getFormats();this[i[g].put](h,g)},finishInit:function(g){var e=this;e.keyMap=new Ext.util.KeyMap({target:e.getTarget(g),binding:[{ctrl:true,key:"x",fn:e.onCut,scope:e},{ctrl:true,key:"c",fn:e.onCopy,scope:e},{ctrl:true,key:"v",fn:e.onPaste,scope:e}]});++e.shared.counter;g.on({destroy:"destroy",scope:e})},getData:function(q,i){var p=this,t=p.getFormats(),n,r,s,m;if(Ext.isString(i)){n=p[t[i].get](i,q)}else{n={};m=[];if(i){for(s in i){m.push(s)}}else{m=Ext.Object.getAllKeys(t)}for(r=m.length;r-->0;){n[s]=p[t[s].get](s,q&&!r)}}return n},getHiddenTextArea:function(){var e=this.shared,g;g=e.textArea;if(!g){g=e.textArea=Ext.getBody().createChild({tag:"textarea",tabIndex:-1,style:{position:"absolute",top:"-1000px",width:"1px",height:"1px"}});g.suspendFocusEvents()}return g},onCopy:function(e,g){this.doCutCopy(g,false)},onCut:function(e,g){this.doCutCopy(g,true)},onPaste:function(m,p){var q=this,t=q.shared.data,n=q.getSource(),s,i,r;if(n){for(s=0,i=n.length;s<i;++s){r=n[s];if(r==="system"){r=q.getSystem();q.pasteClipboardData(r);break}else{if(t&&(r in t)){q.doPaste(r,t[r]);break}}}}},pasteClipboardData:function(i){var j=this,m=window.clipboardData,k,l;if(m&&m.getData){j.doPaste(i,m.getData("text"))}else{l=Ext.Element.getActiveElement(true);k=j.getHiddenTextArea().dom;k.value="";if(l){l.suspendFocusEvents()}k.focus();Ext.defer(function(){if(l){l.focus();l.resumeFocusEvents()}j.doPaste(i,k.value);k.value=""},100,j)}},setClipboardData:function(i){var m=window.clipboardData;if(m&&m.setData){m.setData("text",i)}else{var j=this,k=j.getHiddenTextArea().dom,l=Ext.Element.getActiveElement(true);k.value=i;if(l){l.suspendFocusEvents()}k.focus();k.select();Ext.defer(function(){k.value="";if(l){l.focus();l.resumeFocusEvents()}},50)}},syncFormats:function(){var l=this,k={},i=l.getMemory(),m=l.getSystem(),p,n;if(m){k[m]=1}if(i){for(p=i.length;p-->0;){n=i[p];k[n]=k[n]?3:2}}return l.allFormats=k},updateMemory:function(){this.allFormats=null},updateSystem:function(){this.allFormats=null}}},0,0,0,0,0,0,[Ext.plugin,"AbstractClipboard"],0));(Ext.cmd.derive("Ext.grid.plugin.Clipboard",Ext.plugin.AbstractClipboard,{formats:{cell:{get:"getCells"},html:{get:"getCellData"},raw:{get:"getCellData"}},getCellData:function(v,G){var y=this.getCmp(),B=y.getSelectionModel(),A=[],w=v==="raw",C=v==="text",I,u,E,x,H,F,D,J,z;B.getSelected().eachCell(function(c){F=c.column,z=c.column.getView();D=c.record;if(F.ignoreExport){return}if(H!==D){H=D;A.push(J=[])}x=F.dataIndex;if(w){E=D.data[x]}else{I=z.all.item(c.rowIdx);if(!I){I=Ext.fly(z.createRowElement(D,c.rowIdx))}u=I.down(F.getCellInnerSelector());E=u.dom.innerHTML;if(C){E=Ext.util.Format.stripTags(E)}}J.push(E);if(G&&x){D.set(x,null)}});return Ext.util.TSV.encode(A)},getCells:function(n,u){var q=this.getCmp(),s=q.getSelectionModel(),r=[],p,v,t,m;s.getSelected().eachCell(function(c){t=c.record;if(v!==t){v=t;r.push(m={model:t.self,fields:[]})}p=c.column.dataIndex;m.fields.push({name:p,value:t.data[p]});if(u&&p){t.set(p,null)}});return r},getTextData:function(e,g){return this.getCellData(e,g)},putCellData:function(C,w){var u=Ext.util.TSV.decode(C),J,I=u.length,v=I?u[0].length:0,B,y,z=this.getCmp().getView(),H=z.dataSource.getCount()-1,D=z.getVisibleColumnManager().getColumns().length-1,F=z.getNavigationModel(),A=F.getPosition(),x,G,E={};if(!A){z.getSelectionModel().getSelected().eachCell(function(c){A=c;return false})}if(A){A=new Ext.grid.CellContext(z).setPosition(A.record,A.column)}else{A=new Ext.grid.CellContext(z).setPosition(0,0)}G=A.colIdx;for(B=0;B<I;B++){J=u[B];for(y=0;y<v;y++){x=A.column.dataIndex;if(x){switch(w){case"raw":E[x]=J[y];break;case"text":E[x]=J[y];break;case"html":break}}if(A.colIdx===D){break}A.setColumn(A.colIdx+1)}A.record.set(E);if(A.rowIdx===H){break}A.setPosition(A.rowIdx+1,G)}},putTextData:function(g,e){this.putCellData(g,e)},getTarget:function(d){return d.body}},0,0,0,0,["plugin.clipboard"],0,[Ext.grid.plugin,"Clipboard"],0));(Ext.cmd.derive("Ext.grid.plugin.DragDrop",Ext.plugin.Abstract,{dragText:"{0} selected row{1}",ddGroup:"GridDD",enableDrop:true,enableDrag:true,containerScroll:false,init:function(d){Ext.applyIf(d,{copy:this.copy,allowCopy:this.allowCopy});d.on("render",this.onViewRender,this,{single:true})},destroy:function(){var d=this;d.dragZone=d.dropZone=Ext.destroy(d.dragZone,d.dropZone);Ext.plugin.Abstract.prototype.destroy.call(this)},enable:function(){var d=this;if(d.dragZone){d.dragZone.unlock()}if(d.dropZone){d.dropZone.unlock()}(arguments.callee.$previous||Ext.plugin.Abstract.prototype.enable).call(this)},disable:function(){var d=this;if(d.dragZone){d.dragZone.lock()}if(d.dropZone){d.dropZone.lock()}(arguments.callee.$previous||Ext.plugin.Abstract.prototype.disable).call(this)},onViewRender:function(k){var j=this,i=k.ownerCt.ownerGrid||k.ownerCt,h;i.relayEvents(k,["beforedrop","drop"]);if(j.enableDrag){if(j.containerScroll){h=k.getEl()}j.dragZone=new Ext.view.DragZone(Ext.apply({view:k,ddGroup:j.dragGroup||j.ddGroup,dragText:j.dragText,containerScroll:j.containerScroll,scrollEl:h},j.dragZone))}if(j.enableDrop){j.dropZone=new Ext.grid.ViewDropZone(Ext.apply({view:k,ddGroup:j.dropGroup||j.ddGroup},j.dropZone))}}},0,0,0,0,["plugin.gridviewdragdrop"],0,[Ext.grid.plugin,"DragDrop"],0));(Ext.cmd.derive("Ext.grid.plugin.RowEditing",Ext.grid.plugin.Editing,{lockableScope:"top",editStyle:"row",autoCancel:true,errorSummary:true,constructor:function(){var d=this;Ext.grid.plugin.Editing.prototype.constructor.apply(this,arguments);if(!d.clicksToMoveEditor){d.clicksToMoveEditor=d.clicksToEdit}d.autoCancel=!!d.autoCancel},init:function(d){Ext.grid.plugin.Editing.prototype.init.call(this,d);if(d.lockedGrid){d.lockedGrid.registerActionable(this);d.normalGrid.registerActionable(this)}else{d.registerActionable(this)}},destroy:function(){Ext.destroy(this.editor);Ext.grid.plugin.Editing.prototype.destroy.call(this)},onBeforeReconfigure:function(){Ext.grid.plugin.Editing.prototype.onBeforeReconfigure.apply(this,arguments);this.cancelEdit()},onReconfigure:function(h,j,i){var k=this.editor;Ext.grid.plugin.Editing.prototype.onReconfigure.apply(this,arguments);if(i&&k&&k.rendered){k.needsSyncFieldWidths=true}},shouldStartEdit:function(d){return true},startEdit:function(m,i){var j=this,k=j.getEditor(),l;if(Ext.isEmpty(i)){i=j.grid.getTopLevelVisibleColumnManager().getHeaderAtIndex(0)}if(k.beforeEdit()!==false){l=j.getEditingContext(m,i);if(l&&j.beforeEdit(l)!==false&&j.fireEvent("beforeedit",j,l)!==false&&!l.cancel){j.context=l;if(j.lockingPartner){j.lockingPartner.cancelEdit()}k.startEdit(l.record,l.column,l);j.editing=true;return true}}return false},activateCell:function(d){if(!d.getCell().query('[tabIndex="-1"]').length){this.startEdit(d.record,d.column);return true}},onEnterKey:function(e){var i=this,h;if(!i.grid.ownerGrid.actionableMode&&i.editing){h=Ext.getCmp(e.getTarget().getAttribute("componentId"));if(!(h&&h.isPickerField&&h.isExpanded)){i.completeEdit()}}},cancelEdit:function(){var d=this;if(d.editing){d.getContextFieldValues();d.getEditor().cancelEdit();Ext.grid.plugin.Editing.prototype.cancelEdit.apply(this,arguments);return}return true},completeEdit:function(){var e=this,g=e.context;if(e.editing&&e.validateEdit(g)){e.editing=false;e.fireEvent("edit",e,g)}},validateEdit:function(){this.getContextFieldValues();return Ext.grid.plugin.Editing.prototype.validateEdit.apply(this,arguments)&&this.getEditor().completeEdit()},getEditor:function(){var d=this;if(!d.editor){d.editor=d.initEditor()}return d.editor},getContextFieldValues:function(){var s=this.editor,w=this.context,t=w.record,i={},v={},q=s.query(">[isFormField]"),r=q.length,u,x,p;for(u=0;u<r;u++){p=q[u];x=p.dataIndex;i[x]=p.getValue();v[x]=t.get(x)}Ext.apply(w,{newValues:i,originalValues:v})},initEditor:function(){return new Ext.grid.RowEditor(this.initEditorConfig())},initEditorConfig:function(){var q=this,u=q.grid,p=q.view,t=u.headerCt,s=["saveBtnText","cancelBtnText","errorsText","dirtyText"],n,v=s.length,r={autoCancel:q.autoCancel,errorSummary:q.errorSummary,fields:t.getGridColumns(),hidden:true,view:p,editingPlugin:q},m;for(n=0;n<v;n++){m=s[n];if(Ext.isDefined(q[m])){r[m]=q[m]}}return r},initEditTriggers:function(){var h=this,i=h.view,g=h.clicksToMoveEditor===1?"click":"dblclick";Ext.grid.plugin.Editing.prototype.initEditTriggers.apply(this,arguments);if(h.clicksToMoveEditor!==h.clicksToEdit){h.mon(i,"cell"+g,h.moveEditorByClick,h)}i.on({render:function(){h.mon(h.grid.headerCt,{scope:h,columnresize:h.onColumnResize,columnhide:h.onColumnHide,columnshow:h.onColumnShow})},single:true})},moveEditorByClick:function(){var d=this;if(d.editing){d.superclass.onCellClick.apply(d,arguments)}},onColumnAdd:function(k,i){if(i.isHeader){var h=this,j;h.initFieldAccessors(i);j=h.editor;if(j){j.onColumnAdd(i)}}},beforeGridHeaderDestroy:function(i){var m=this.grid.getColumnManager().getColumns(),p=m.length,n,l,k;for(n=0;n<p;n++){l=m[n];if(l.hasEditor){if(l.hasEditor()&&(k=l.getEditor())){k.destroy()}this.removeFieldAccessors(l)}}},onColumnResize:function(m,j,k){if(j.isHeader){var i=this,l=i.getEditor();if(l){l.onColumnResize(j,k)}}},onColumnHide:function(k,i){var h=this,j=h.getEditor();if(j){j.onColumnHide(i)}},onColumnShow:function(k,i){var h=this,j=h.getEditor();if(j){j.onColumnShow(i)}},onColumnMove:function(p,l,m,j){var k=this,n=k.getEditor();k.initFieldAccessors(l);if(n){n.onColumnMove(l,m,j)}},setColumnField:function(j,h){var i=this,k=i.getEditor();if(k){k.destroyColumnEditor(j)}Ext.grid.plugin.Editing.prototype.setColumnField.apply(this,arguments);if(k){k.insertColumnEditor(j)}},createColumnField:function(i,k){var j=this.editor,h;if(j){h=j.getDefaultFieldCfg()}return Ext.grid.plugin.Editing.prototype.createColumnField.call(this,i,k||h)}},1,0,0,0,["plugin.rowediting"],0,[Ext.grid.plugin,"RowEditing"],0));(Ext.cmd.derive("Ext.grid.plugin.RowExpander",Ext.plugin.Abstract,{lockableScope:"normal",columnWidth:24,rowBodyTpl:null,lockedTpl:null,expandOnDblClick:true,selectRowOnExpand:false,headerWidth:24,bodyBefore:false,rowBodyTrSelector:".x-grid-rowbody-tr",rowBodyHiddenCls:"x-grid-row-body-hidden",rowCollapsedCls:"x-grid-row-collapsed",addCollapsedCls:{fn:function(j,k,i){var h=this.rowExpander;if(!h.recordsExpanded[k.record.internalId]){k.itemClasses.push(h.rowCollapsedCls)}this.nextTpl.applyOut(k,j,i)},syncRowHeights:function(g,e){this.rowExpander.syncRowHeights(g,e)},priority:20000},setCmp:function(i){var g=this,h;Ext.plugin.Abstract.prototype.setCmp.apply(this,arguments);g.recordsExpanded={};g.rowBodyTpl=Ext.XTemplate.getTpl(g,"rowBodyTpl");h=g.getFeatureConfig(i);if(i.features){i.features=Ext.Array.push(h,i.features)}else{i.features=h}},getFeatureConfig:function(k){var i=this,j=[],h={ftype:"rowbody",rowExpander:i,bodyBefore:i.bodyBefore,recordsExpanded:i.recordsExpanded,rowBodyHiddenCls:i.rowBodyHiddenCls,rowCollapsedCls:i.rowCollapsedCls,setupRowData:i.getRowBodyFeatureData,setup:i.setup};j.push(Ext.apply({lockableScope:"normal",getRowBodyContents:i.getRowBodyContentsFn(i.rowBodyTpl)},h));if(k.enableLocking){j.push(Ext.apply({lockableScope:"locked",getRowBodyContents:i.lockedTpl?i.getRowBodyContentsFn(i.lockedTpl):function(){return""}},h))}return j},getRowBodyContentsFn:function(g){var e=this;return function(c){g.owner=e;return g.applyTemplate(c.record.getData())}},init:function(l){if(l.lockable){l=l.normalGrid}var j=this,i=l.ownerLockable,m,k;Ext.plugin.Abstract.prototype.init.apply(this,arguments);j.grid=l;m=j.view=l.getView();j.bindView(m);m.addRowTpl(j.addCollapsedCls).rowExpander=j;if(i){j.addExpander(i.lockedGrid.headerCt.items.getCount()?i.lockedGrid:l);k=i.lockedGrid.getView();j.bindView(k);k.addRowTpl(j.addCollapsedCls).rowExpander=j;i.mon(i,{processcolumns:j.onLockableProcessColumns,lockcolumn:j.onColumnLock,unlockcolumn:j.onColumnUnlock,scope:j});j.viewListeners=m.on({itemadd:j.onItemAdd,scope:j})}else{j.addExpander(l);l.on("beforereconfigure",j.beforeReconfigure,j)}},onItemAdd:function(n,i,r){var p=this,m=p.grid.ownerLockable,s=p.lockableSyncRowHeights||(p.lockableSyncRowHeights=Ext.Function.createAnimationFrame(m.syncRowHeights,m)),t=r.length,q;for(q=0;q<t;q++){if(!Ext.fly(r[q]).hasCls(p.rowCollapsedCls)){s();return}}},beforeReconfigure:function(l,p,m,j,n){var k=this;if(k.viewListeners){k.viewListeners.destroy()}if(m){k.expanderColumn=new Ext.grid.Column(k.getHeaderConfig());m.unshift(k.expanderColumn)}},onLockableProcessColumns:function(g,h,i){this.addExpander(h.length?g.lockedGrid:g.normalGrid)},addExpander:function(e){var g=this;g.grid=e;g.expanderColumn=e.headerCt.insert(0,g.getHeaderConfig());e.getSelectionModel().injectCheckbox=1},getRowBodyFeatureData:function(j,k,h){var i=this;i.self.prototype.setupRowData.apply(i,arguments);h.rowBody=i.getRowBodyContents(h);h.rowBodyCls=i.recordsExpanded[j.internalId]?"":i.rowBodyHiddenCls},setup:function(i,h){var j=this,k=j.grid.ownerLockable;j.self.prototype.setup.apply(j,arguments);if(k&&Ext.Array.indexOf(j.grid.columnManager.getColumns(),j.rowExpander.expanderColumn)!==-1){h.rowBodyColspan-=1}},bindView:function(d){d.on("itemkeydown",this.onKeyDown,this);if(this.expandOnDblClick){d.on("itemdblclick",this.onDblClick,this)}},onKeyDown:function(p,t,e,v,s){var r=this,n=s.getKey(),q=p.getNavigationModel().getPosition(),u;if(q){e=Ext.fly(e);u=e.hasCls(r.rowCollapsedCls);if(((n===107||(n===187&&s.shiftKey))&&u)||((n===109||n===189)&&!u)){r.toggleRow(v,t)}}},onDblClick:function(l,m,e,k,j){this.toggleRow(k,m)},toggleRow:function(G,C){var x=this,w=x.view,u=w.bufferedRenderer,B=w.getScrollable(),J=w,F=w.getNode(G),D=Ext.fly(F),E,A=D.down(x.rowBodyTrSelector,true),I=D.hasCls(x.rowCollapsedCls),v=I?"removeCls":"addCls",y=I?2:1,H=x.grid.ownerLockable,z;D[v](x.rowCollapsedCls);Ext.fly(A)[v](x.rowBodyHiddenCls);x.recordsExpanded[C.internalId]=I;if(x.grid.ownerLockable){J=H.getView();if(H.lockedGrid.isVisible()){w=H.view.lockedGrid.view;E=Ext.fly(w.getNode(G));if(E){E[v](x.rowCollapsedCls);A=E.down(x.rowBodyTrSelector,true);Ext.fly(A)[v](x.rowBodyHiddenCls)}}}if(x.expanderColumn){z=Ext.fly(w.getRow(G)).down(x.expanderColumn.getCellSelector(),true);if(z){z.rowSpan=y}}J.fireEvent(I?"expandbody":"collapsebody",F,C,A);if(w.getSizeModel().height.shrinkWrap||H){w.refreshSize(true)}if(B){if(u){u.refreshSize()}else{B.refresh(true)}}},syncRowHeights:function(r,k){var n=this,p=Ext.fly(r).down(n.rowBodyTrSelector),q=Ext.fly(k).down(n.rowBodyTrSelector),l,m;if(q.isVisible()){if((l=p.getHeight())!==(m=q.getHeight())){if(l>m){q.setHeight(l)}else{p.setHeight(m)}}}else{p.dom.style.height=q.dom.style.height=""}},onColumnUnlock:function(i,k){var j=this,h;i=j.grid.ownerLockable;h=i.lockedGrid.visibleColumnManager.getColumns();if(h.length===1){if(h[0]===j.expanderColumn){i.unlock(j.expanderColumn);j.grid=i.normalGrid}else{i.lock(j.expanderColumn,0)}}},onColumnLock:function(k,m){var l=this,i,j;k=l.grid.ownerLockable;i=k.lockedGrid.visibleColumnManager.getColumns();if(i.length===1){l.grid=j=k.lockedGrid;j.headerCt.insert(0,l.expanderColumn)}},getHeaderConfig:function(){var e=this,g=e.grid.ownerLockable;return{width:e.headerWidth,ignoreExport:true,lockable:false,autoLock:true,sortable:false,resizable:false,draggable:false,hideable:false,menuDisabled:true,tdCls:"x-grid-cell-special",innerCls:"x-grid-cell-inner-row-expander",renderer:function(){return'<div class="x-grid-row-expander" role="presentation" tabIndex="0"></div>'},processEvent:function(n,q,s,c,p,d,r){if((n==="click"&&d.getTarget(".x-grid-row-expander"))||(n==="keydown"&&d.getKey()===d.SPACE)){e.toggleRow(c,r);return e.selectRowOnExpand}},isLocked:function(){return g&&(g.lockedGrid.isVisible()||this.locked)},editRenderer:function(){return"&#160;"}}}},0,0,0,0,["plugin.rowexpander"],0,[Ext.grid.plugin,"RowExpander"],0));(Ext.cmd.derive("Ext.grid.property.Grid",Ext.grid.Panel,{alternateClassName:"Ext.grid.PropertyGrid",valueField:"value",nameField:"name",inferTypes:true,enableColumnMove:false,columnLines:true,stripeRows:false,trackMouseOver:false,clicksToEdit:1,enableHdMenu:false,gridCls:"x-property-grid",initComponent:function(){var d=this;d.source=d.source||{};d.addCls(d.gridCls);d.plugins=d.plugins||[];d.plugins.push(new Ext.grid.plugin.CellEditing({clicksToEdit:d.clicksToEdit,startEdit:function(g,c){return this.self.prototype.startEdit.call(this,g,d.valueColumn)}}));d.selModel={type:"cellmodel",onCellSelect:function(c){c.column=d.valueColumn;c.colIdx=d.valueColumn.getVisibleIndex();return this.self.prototype.onCellSelect.call(this,c)}};d.sourceConfig=Ext.apply({},d.sourceConfig);if(!d.store){d.propStore=d.store=new Ext.grid.property.Store(d,d.source)}d.configure(d.sourceConfig);if(d.sortableColumns){d.store.sort("name","ASC")}d.columns=new Ext.grid.property.HeaderContainer(d,d.store);Ext.grid.Panel.prototype.initComponent.call(this);d.getView().walkCells=this.walkCells;d.editors={date:new Ext.grid.CellEditor({field:new Ext.form.field.Date({selectOnFocus:true})}),string:new Ext.grid.CellEditor({field:new Ext.form.field.Text({selectOnFocus:true})}),number:new Ext.grid.CellEditor({field:new Ext.form.field.Number({selectOnFocus:true})}),"boolean":new Ext.grid.CellEditor({field:new Ext.form.field.ComboBox({editable:false,store:[[true,d.headerCt.trueText],[false,d.headerCt.falseText]]})})};d.store.on("update",d.onUpdate,d)},configure:function(y){var t=this,r=t.store,w=0,v=t.store.getCount(),q=t.nameField,i=t.valueField,z,s,x,u;t.configureLegacy(y);if(t.inferTypes){for(;w<v;++w){x=r.getAt(w);z=x.get(q);if(!t.getConfigProp(z,"type")){s=x.get(i);if(Ext.isDate(s)){u="date"}else{if(Ext.isNumber(s)){u="number"}else{if(Ext.isBoolean(s)){u="boolean"}else{u="string"}}}t.setConfigProp(z,"type",u)}}}},getConfigProp:function(i,j,m){var k=this.sourceConfig[i],l;if(k){l=k[j]}return l||m},setConfigProp:function(i,l,k){var m=this.sourceConfig,j=m[i];if(!j){j=m[i]={__copied:true}}else{if(!j.__copied){j=Ext.apply({__copied:true},j);m[i]=j}}j[l]=k;return k},configureLegacy:function(g){var e=this;e.copyLegacyObject(g,e.customRenderers,"renderer");e.copyLegacyObject(g,e.customEditors,"editor");e.copyLegacyObject(g,e.propertyNames,"displayName")},copyLegacyObject:function(k,h,i){var j;for(j in h){if(h.hasOwnProperty(j)){if(!k[j]){k[j]={}}k[j][i]=h[j]}}},onUpdate:function(l,p,m){var j=this,n,k;if(j.rendered&&m===Ext.data.Model.EDIT){n=p.get(j.valueField);k=p.modified.value;if(j.fireEvent("beforepropertychange",j.source,p.getId(),n,k)!==false){if(j.source){j.source[p.getId()]=n}p.commit();j.fireEvent("propertychange",j.source,p.getId(),n,k)}else{p.reject()}}},walkCells:function(e,m,n,p,t,r){var q=this,s=q.ownerCt.valueColumn;if(m==="left"){m="up"}else{if(m==="right"){m="down"}}e=Ext.view.Table.prototype.walkCells.call(q,e,m,n,p,t,r);e.column=s;e.colIdx=s.getVisibleIndex();return e},getCellEditor:function(s,u){var p=this,t=s.get(p.nameField),v=s.get(p.valueField),r=p.getConfigProp(t,"editor"),n=p.getConfigProp(t,"type"),q=p.editors,m;if(r){if(!(r instanceof Ext.grid.CellEditor)){if(!(r instanceof Ext.form.field.Base)){r=Ext.ComponentManager.create(r,"textfield")}r=p.setConfigProp(t,"editor",new Ext.grid.CellEditor({field:r}))}}else{if(n){switch(n){case"date":r=q.date;break;case"number":r=q.number;break;case"boolean":r=p.editors["boolean"];break;default:r=q.string}}else{if(Ext.isDate(v)){r=q.date}else{if(Ext.isNumber(v)){r=q.number}else{if(Ext.isBoolean(v)){r=q["boolean"]}else{r=q.string}}}}}m=r.field;if(m&&m.ui==="default"&&!m.hasOwnProperty("ui")){m.ui=p.editingPlugin.defaultFieldUI}r.editorId=t;r.field.column=p.valueColumn;return r},beforeDestroy:function(){var d=this;Ext.grid.Panel.prototype.beforeDestroy.call(this);d.destroyEditors(d.editors);d.destroyEditors(d.customEditors);delete d.source},destroyEditors:function(e){for(var g in e){if(e.hasOwnProperty(g)){Ext.destroy(e[g])}}},setSource:function(h,g){var i=this;i.source=h;if(g!==undefined){i.sourceConfig=Ext.apply({},g);i.configure(i.sourceConfig)}i.propStore.setSource(h)},getSource:function(){return this.propStore.getSource()},getProperty:function(d){return this.propStore.getProperty(d)},setProperty:function(g,h,i){this.propStore.setValue(g,h,i)},removeProperty:function(d){this.propStore.remove(d)}},0,["propertygrid"],["component","box","container","panel","tablepanel","gridpanel","grid","propertygrid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,propertygrid:true},["widget.propertygrid"],0,[Ext.grid.property,"Grid",Ext.grid,"PropertyGrid"],0));(Ext.cmd.derive("Ext.grid.property.HeaderContainer",Ext.grid.header.Container,{alternateClassName:"Ext.grid.PropertyColumnModel",nameWidth:115,nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",nameColumnCls:"x-grid-property-name",nameColumnInnerCls:"x-grid-cell-inner-property-name",constructor:function(h,i){var g=this;g.grid=h;g.store=i;Ext.grid.header.Container.prototype.constructor.call(this,{isRootHeader:true,enableColumnResize:Ext.isDefined(h.enableColumnResize)?h.enableColumnResize:g.enableColumnResize,enableColumnMove:Ext.isDefined(h.enableColumnMove)?h.enableColumnMove:g.enableColumnMove,items:[{header:g.nameText,width:h.nameColumnWidth||g.nameWidth,sortable:h.sortableColumns,dataIndex:h.nameField,scope:g,renderer:g.renderProp,itemId:h.nameField,menuDisabled:true,tdCls:g.nameColumnCls,innerCls:g.nameColumnInnerCls},{header:g.valueText,scope:g,renderer:g.renderCell,getEditor:g.getCellEditor.bind(g),sortable:h.sortableColumns,flex:1,fixed:true,dataIndex:h.valueField,itemId:h.valueField,menuDisabled:true}]});g.grid.valueColumn=g.items.getAt(1)},getCellEditor:function(d){return this.grid.getCellEditor(d,this)},renderProp:function(d){return this.getPropertyName(d)},renderCell:function(k,m,l){var p=this,q=p.grid,n=q.getConfigProp(l.get(q.nameField),"renderer"),r=k;if(n){return n.apply(p,arguments)}if(Ext.isDate(k)){r=p.renderDate(k)}else{if(Ext.isBoolean(k)){r=p.renderBool(k)}}return Ext.util.Format.htmlEncode(r)},renderDate:Ext.util.Format.date,renderBool:function(d){return this[d?"trueText":"falseText"]},getPropertyName:function(d){return this.grid.getConfigProp(d,"displayName",d)}},1,0,["component","box","container","headercontainer"],{component:true,box:true,container:true,headercontainer:true},0,0,[Ext.grid.property,"HeaderContainer",Ext.grid,"PropertyColumnModel"],0));(Ext.cmd.derive("Ext.grid.property.Property",Ext.data.Model,{alternateClassName:"Ext.PropGridProperty",fields:[{name:"name",type:"string"},{name:"value"}],idProperty:"name",constructor:function(e,g){if(!Ext.isObject(e)){e={name:e,value:g}}Ext.data.Model.prototype.constructor.call(this,e)}},1,0,0,0,0,0,[Ext.grid.property,"Property",Ext,"PropGridProperty"],0));(Ext.cmd.derive("Ext.grid.property.Reader",Ext.data.reader.Reader,{successProperty:null,totalProperty:null,messageProperty:null,read:function(d){return this.readRecords(d)},readRecords:function(l){var i=this.getModel(),m={records:[],success:true},j,k;for(k in l){if(l.hasOwnProperty(k)){j=l[k];if(this.isEditableValue(j)){m.records.push(new i({name:k,value:j}))}}}m.total=m.count=m.records.length;return new Ext.data.ResultSet(m)},isEditableValue:function(d){return Ext.isPrimitive(d)||Ext.isDate(d)||d===null}},0,0,0,0,0,0,[Ext.grid.property,"Reader"],0));(Ext.cmd.derive("Ext.grid.property.Store",Ext.data.Store,{alternateClassName:"Ext.grid.PropertyStore",remoteSort:true,constructor:function(i,g){var h=this;h.grid=i;h.source=g;Ext.data.Store.prototype.constructor.call(this,{data:g,model:Ext.grid.property.Property,proxy:h.getProxy()})},getProxy:function(){var d=this.proxy;if(!d){d=this.proxy=new Ext.data.proxy.Memory({model:Ext.grid.property.Property,reader:this.getReader()})}return d},getReader:function(){var d=this.reader;if(!d){d=this.reader=new Ext.grid.property.Reader({model:Ext.grid.property.Property})}return d},setSource:function(g){var e=this;e.source=g;e.suspendEvents();e.removeAll();e.getProxy().setData(g);e.load();e.resumeEvents();e.fireEvent("datachanged",e);e.fireEvent("refresh",e)},getProperty:function(g){var h=Ext.isNumber(g)?this.getAt(g):this.getById(g),i=null;if(h){i=h.get("value")}return i},setValue:function(i,k,m){var l=this,j=l.getRec(i);if(j){j.set("value",k);l.source[i]=k}else{if(m){l.source[i]=k;j=new Ext.grid.property.Property({name:i,value:k},i);l.add(j)}}},remove:function(e){var g=this.getRec(e);if(g){Ext.data.Store.prototype.remove.call(this,g);delete this.source[e]}},getRec:function(d){return this.getById(d)},getSource:function(){return this.source},onDestroy:function(){Ext.destroy(this.reader,this.proxy);Ext.data.Store.prototype.onDestroy.call(this)}},1,0,0,0,0,0,[Ext.grid.property,"Store",Ext.grid,"PropertyStore"],0));(Ext.cmd.derive("Ext.grid.selection.Selection",Ext.Base,{constructor:function(d){this.view=d.ownerGrid.view}},1,0,0,0,0,0,[Ext.grid.selection,"Selection"],0));(Ext.cmd.derive("Ext.grid.selection.Cells",Ext.grid.selection.Selection,{type:"cells",isCells:true,clone:function(){var e=this,g=new e.self(e.view);if(e.startCell){g.startCell=e.startCell.clone();g.endCell=e.endCell.clone()}return g},contains:function(g){var e;if(!g||!g.isCellContext){return false}if(this.startCell){e=this.getRowRange();if(g.rowIdx>=e[0]&&g.rowIdx<=e[1]){e=this.getColumnRange();return(g.colIdx>=e[0]&&g.colIdx<=e[1])}}return false},eachRow:function(m,n){var k=this,j=k.getRowRange(),p=new Ext.grid.CellContext(k.view),l;for(l=j[0];l<=j[1];l++){p.setRow(l);if(m.call(n||k,p.record)===false){return}}},eachColumn:function(l,m){var k=this,p=k.getColumnRange(),n=new Ext.grid.CellContext(k.view),j;for(j=p[0];j<=p[1];j++){n.setColumn(j);if(l.call(m||k,n.column,j)===false){return}}},eachCell:function(q,r){var n=this,m=n.getRowRange(),t=n.getColumnRange(),s=new Ext.grid.CellContext(n.view),p,l;for(p=m[0];p<=m[1];p++){s.setRow(p);for(l=t[0];l<=t[1];l++){s.setColumn(l);if(q.call(r||n,s,l,p)===false){return}}}},getFirstRowIndex:function(){return this.startCell?Math.min(this.startCell.rowIdx,this.endCell.rowIdx):0},getLastRowIndex:function(){return this.startCell?Math.max(this.startCell.rowIdx,this.endCell.rowIdx):-1},getFirstColumnIndex:function(){return this.startCell?Math.min(this.startCell.colIdx,this.endCell.colIdx):0},getLastColumnIndex:function(){return this.startCell?Math.max(this.startCell.colIdx,this.endCell.colIdx):-1},privates:{clear:function(){var e=this,g=e.view;e.eachCell(function(c){g.onCellDeselect(c)});e.startCell=e.endCell=null},setRangeStart:function(e,g){this.startCell=(this.endCell=e.clone()).clone();this.view.onCellSelect(e)},setRangeEnd:function(E){var w=this,y,z,D,x,A,t,F,B,v=w.view,s=v.all,u=new Ext.grid.CellContext(v),C=v.getVisibleColumnManager().getColumns().length-1;w.endCell=E.clone();y=w.getRange();z=w.lastRange||y;D=Math.max(Math.min(y[0][1],z[0][1]),s.startIndex);x=Math.min(Math.max(y[1][1],z[1][1]),s.endIndex);A=Math.min(y[0][0],z[0][0]);t=Math.min(Math.max(y[1][0],z[1][0]),C);for(F=D;F<=x;F++){for(B=A;B<=t;B++){u.setPosition(F,B);if(F<y[0][1]||F>y[1][1]||B<y[0][0]||B>y[1][0]){v.onCellDeselect(u)}else{v.onCellSelect(u)}}}w.lastRange=y},extendRange:function(h){var g=this,i;if(h[h.type]<0){i=g.endCell.clone().setPosition(g.getLastRowIndex(),g.getLastColumnIndex());g.startCell=h.start.clone();g.setRangeEnd(i);g.view.getNavigationModel().setPosition(h.start)}else{g.startCell=g.startCell.setPosition(g.getFirstRowIndex(),g.getFirstColumnIndex());g.setRangeEnd(h.end);g.view.getNavigationModel().setPosition(h.end)}},getRange:function(){return[[this.getFirstColumnIndex(),this.getFirstRowIndex()],[this.getLastColumnIndex(),this.getLastRowIndex()]]},getRangeSize:function(){return this.getCount()},getCount:function(){var d=this.getRange();return(d[1][0]-d[0][0]+1)*(d[1][1]-d[0][1]+1)},selectAll:function(){var e=this,g=e.view;e.clear();e.setRangeStart(new Ext.grid.CellContext(g).setPosition(0,0));e.setRangeEnd(new Ext.grid.CellContext(g).setPosition(g.dataSource.getCount()-1,g.getVisibleColumnManager().getColumns().length-1))},isAllSelected:function(){var e=this.rangeStart,g=this.rangeEnd;if(e){if(!e.colIdx&&!e.rowIdx){return g.colIdx===g.view.getVisibleColumnManager().getColumns().length-1&&g.rowIdx===g.view.dataSource.getCount-1}}return false},getColumnRange:function(){return[this.getFirstColumnIndex(),this.getLastColumnIndex()]},getRowRange:function(){return[this.getFirstRowIndex(),this.getLastRowIndex()]},onSelectionFinish:function(){var d=this;if(d.getCount()){d.view.getSelectionModel().onSelectionFinish(d,new Ext.grid.CellContext(d.view).setPosition(d.getFirstRowIndex(),d.getFirstColumnIndex()),new Ext.grid.CellContext(d.view).setPosition(d.getLastRowIndex(),d.getLastColumnIndex()))}else{d.view.getSelectionModel().onSelectionFinish(d)}}}},0,0,0,0,0,0,[Ext.grid.selection,"Cells"],0));(Ext.cmd.derive("Ext.grid.selection.Columns",Ext.grid.selection.Selection,{type:"columns",isColumns:true,clone:function(){var g=this,i=new g.self(g.view),h=g.selectedColumns;if(h){i.selectedColumns=Ext.Array.slice(h)}return i},eachRow:function(g,h){var i=this.selectedColumns;if(i&&i.length){this.view.dataSource.each(g,h||this)}},eachColumn:function(m,n){var i=this,s=i.view,p=i.selectedColumns,t,q,r=new Ext.grid.CellContext(s);if(p){t=p.length;for(q=0;q<t;q++){r.setColumn(p[q]);if(m.call(n||i,r.column,r.colIdx)===false){return false}}}},eachCell:function(m,n){var i=this,s=i.view,p=i.selectedColumns,t,q,r=new Ext.grid.CellContext(s);if(p){t=p.length;s.dataSource.each(function(c){r.setRow(c);for(q=0;q<t;q++){r.setColumn(p[q]);if(m.call(n||i,r,r.colIdx,r.rowIdx)===false){return false}}})}},contains:function(e){var g=this.selectedColumns;if(e&&e.isColumn&&g&&g.length){return Ext.Array.contains(g,e)}return false},getCount:function(){var d=this.selectedColumns;return d?d.length:0},getColumns:function(){return this.selectedColumns||[]},privates:{add:function(d){Ext.Array.include((this.selectedColumns||(this.selectedColumns=[])),d);this.refreshColumns(d)},clear:function(){var g=this,e=g.selectedColumns;if(e&&e.length){g.selectedColumns=[];g.refreshColumns.apply(g,e)}},isAllSelected:function(){var d=this.selectedColumns;return d&&d.length===this.view.ownerGrid.getVisibleColumnManager().getColumns().length},refreshColumns:function(w){var q=this,p=q.view,n=p.all,x,v=arguments,r=v.length,t,s=new Ext.grid.CellContext(p),u=[];if(p.rendered){for(t=0;t<r;t++){u[t]=q.contains(v[t])}for(x=n.startIndex;x<=n.endIndex;x++){s.setRow(x);for(t=0;t<r;t++){s.setColumn(v[t]);if(u[t]){p.onCellSelect(s)}else{p.onCellDeselect(s)}}}}},remove:function(d){if(this.selectedColumns){Ext.Array.remove(this.selectedColumns,d);if(d.getView()&&d.isVisible()){this.refreshColumns(d)}}},selectAll:function(){var d=this;d.clear();d.selectedColumns=d.view.getSelectionModel().lastContiguousColumnRange=d.view.getVisibleColumnManager().getColumns();d.refreshColumns.apply(d,d.selectedColumns)},extendRange:function(k){var h=this,i=h.view.getVisibleColumnManager().getColumns(),j;for(j=k.start.colIdx;j<=k.end.colIdx;j++){h.add(i[j])}},onSelectionFinish:function(){var e=this,g=e.getContiguousSelection();if(g){e.view.getSelectionModel().onSelectionFinish(e,new Ext.grid.CellContext(e.view).setPosition(0,g[0]),new Ext.grid.CellContext(e.view).setPosition(e.view.dataSource.getCount()-1,g[1]))}else{e.view.getSelectionModel().onSelectionFinish(e)}},getContiguousSelection:function(){var g=Ext.Array.sort(this.selectedColumns,function(c,d){return c.getView().ownerGrid.getVisibleColumnManager().indexOf(c)-d.getView().ownerGrid.getVisibleColumnManager().indexOf(d)}),i=g.length,h;if(i){for(h=1;h<i;h++){if(g[h].getVisibleIndex()!==g[h-1].getVisibleIndex()+1){return false}}return[g[0],g[i-1]]}}}},0,0,0,0,0,0,[Ext.grid.selection,"Columns"],0));(Ext.cmd.derive("Ext.grid.selection.Replicator",Ext.plugin.Abstract,{init:function(d){this.gridListeners=d.on({beforeselectionextend:this.onBeforeSelectionExtend,scope:this,destroyable:true})},onBeforeSelectionExtend:function(i,j,h){var k=this.columns=[];j.eachColumn(function(c){k.push(c)});return this.replicateSelection(i,j,h)},replicateSelection:function(U,y,O){if(O.columns||y.isColumns){return}var I=this,W=I.columns,H,N,S,V,R,G,M,K,Q,T,X,x,i=y.getFirstRowIndex(),j=y.getLastRowIndex(),P=j-i+1,F=[],J,L;H=W.length,Q=W[0].getView().dataSource;if(P===1){V=I.getColumnValues(y.view.dataSource.getAt(i))}else{V=new Array(H);if(O.rows<0){F=[Q.getAt(i+1),Q.getAt(i)]}else{F=[Q.getAt(j-1),Q.getAt(j)]}F[0]=I.getColumnValues(F[0]);F[1]=I.getColumnValues(F[1]);for(N=0;N<H;N++){J=F[1][N];L=F[0][N];if(!isNaN(J)&&!isNaN(L)){V[N]=Number(J)-Number(L)}}}if(O.rows<0){R=O.end.rowIdx;G=O.start.rowIdx-1;K=-1}else{R=O.start.rowIdx;G=O.end.rowIdx+1;K=1}if(P===1){for(M=R;M!==G;M+=K){T=Q.getAt(M);for(N=0;N<H;N++){S=W[N];if(S.dataIndex){T.set(S.dataIndex,V[N])}}}}else{for(M=R;M!==G;M+=K){T=Q.getAt(M);X=I.getColumnValues(Q.getAt(M-K));for(N=0;N<H;N++){S=W[N];if(S.dataIndex){x=X[N];if(!isNaN(x)){T.set(S.dataIndex,Ext.coerce(Number(x)+V[N],x))}}}}}},getColumnValues:function(m){var k=this.columns,n=k.length,l,i,p=new Array(k.length);for(l=0;l<n;l++){i=k[l];if(i.dataIndex){p[l]=m.get(i.dataIndex)}}return p},destroy:function(){this.gridListeners=Ext.destroy(this.gridListeners);Ext.plugin.Abstract.prototype.destroy.call(this)}},0,0,0,0,["plugin.selectionreplicator"],0,[Ext.grid.selection,"Replicator"],0));(Ext.cmd.derive("Ext.grid.selection.Rows",Ext.grid.selection.Selection,{type:"rows",isRows:true,clone:function(){var e=this,g=new e.self(e.view);if(e.selectedRecords){g.selectedRecords=e.selectedRecords.clone()}if(e.rangeStart){g.setRangeStart(e.rangeStart);g.setRangeEnd(e.rangeEnd)}return g},add:function(g){var e=this.selectedRecords||(this.selectedRecords=this.createRecordCollection());if(!e.byInternalId.get(g.internalId)){e.add(g);this.view.onRowSelect(g)}},remove:function(g){var e=this;if(e.selectedRecords&&e.selectedRecords.byInternalId.get(g.internalId)){e.selectedRecords.remove(g);e.view.onRowDeselect(g);e.allSelected=false;return true}},contains:function(m){if(!m||!m.isModel){return false}var k=this,n=false,j=k.selectedRecords,p,l;if(k.allSelected){k.add(m);return true}if(j){n=!!j.byInternalId.get(m.internalId)}if(!n&&k.rangeStart!=null){l=k.getRange();p=k.view.dataSource.indexOf(m);n=p>=l[0]&&p<=l[1]}return n},getCount:function(){var k=this,i=k.selectedRecords,p=i?i.getCount():0,m=k.getRange(),l,n=k.view.dataSource;for(l=m[0];l<=m[1];l++){if(!i||!i.byInternalId.get(n.getAt(l).internalId)){p++}}return p},getRecords:function(){var d=this.selectedRecords;return d?d.getRange():[]},selectAll:function(){var d=this;d.clear();d.setRangeStart(0);d.setRangeEnd(d.view.dataSource.getCount()-1);d.addRange();d.allSelected=true},getFirstRowIndex:function(){return this.getCount()?this.view.dataSource.indexOf(this.selectedRecords.first()):0},getLastRowIndex:function(){return this.getCount()?this.view.dataSource.indexOf(this.selectedRecords.first()):-1},eachRow:function(h,i){var g=this.selectedRecords;if(g){g.each(h,i||this)}},eachColumn:function(i,j){var k=this.view.getVisibleColumnManager().getColumns(),m=k.length,l;if(this.selectedRecords){for(l=0;l<m;l++){if(i.call(this||j,k[l],l)===false){return}}}},eachCell:function(v,i){var w=this,t=w.selectedRecords,u=w.view,B=u.ownerGrid.getVisibleColumnManager().getColumns(),j,y,A,C,x,D,z=false;if(B){j=B.length;C=new Ext.grid.CellContext(u);if(t){t.each(function(c){C.setRow(c);for(y=0;y<j;y++){C.setColumn(B[y]);if(v.call(i||w,C,C.colIdx,C.rowIdx)===false){z=true;return false}}})}if(!z&&w.rangeStart!=null){x=w.getRange();w.view.dataSource.getRange(x[0],x[1],{callback:function(c){D=c.length;for(y=0;!z&&y<D;y++){C.setRow(c[y]);for(A=0;!z&&A<j;A++){C.setColumn(B[A]);if(v.call(i||w,C,C.colIdx,C.rowIdx)===false){z=true}}}}})}}},beginUpdate:function(){var d=this.selectedRecords;if(d){d.beginUpdate()}},endUpdate:function(){var d=this.selectedRecords;if(d){d.endUpdate()}},destroy:function(){this.selectedRecords=Ext.destroy(this.selectedRecords);this.callParent()},privates:{clear:function(){var e=this,g=e.view;e.allSelected=false;if(e.selectedRecords){e.eachRow(function(c){g.onRowDeselect(c)});e.selectedRecords.clear()}},isAllSelected:function(){return !!this.allSelected},setRangeStart:function(d){this.allSelected=false;this.rangeStart=this.rangeEnd=d;this.view.onRowSelect(d)},setRangeEnd:function(x){var t=this,u,v,z,p,s=t.view,r=s.dataSource,q=s.all,w=t.selectedRecords,y;t.rangeEnd=x;u=t.getRange();v=t.lastRange||u;for(z=Math.max(Math.min(u[0],v[0]),q.startIndex),x=Math.min(Math.max(u[1],v[1]),q.endIndex);z<=x;z++){p=q.item(z);if(z<u[0]||z>u[1]){if(w&&(y=w.byInternalId.get(r.getAt(z).internalId))){w.remove(y)}s.onRowDeselect(z)}else{s.onRowSelect(z)}}t.lastRange=u},extendRange:function(j){var h=this,k=h.view.dataSource,i;for(i=j.start.rowIdx;i<=j.end.rowIdx;i++){h.add(k.getAt(i))}},getRange:function(){var e=this.rangeStart,g=this.rangeEnd;if(e==null){return[0,-1]}else{if(e<=g){return[e,g]}}return[g,e]},getRangeSize:function(){var d=this.getRange();return d[1]-d[0]+1},createRecordCollection:function(){var e=this.view.dataSource,g=new Ext.util.Collection({rootProperty:"data",extraKeys:{byInternalId:{rootProperty:false,property:"internalId"}},sorters:[function(c,d){return e.indexOf(c)-e.indexOf(d)}]});return g},addRange:function(){var g=this,i,h;if(g.rangeStart!=null){i=g.getRange();h=g.selectedRecords||(g.selectedRecords=g.createRecordCollection());g.view.dataSource.getRange(i[0],i[1],{callback:function(c){h.add.apply(h,c)}});g.setRangeStart(g.lastRange=null)}},onSelectionFinish:function(){var e=this,g=e.getContiguousSelection();if(g){e.view.getSelectionModel().onSelectionFinish(e,new Ext.grid.CellContext(e.view).setPosition(g[0],0),new Ext.grid.CellContext(e.view).setPosition(g[1],e.view.getVisibleColumnManager().getColumns().length-1))}else{e.view.getSelectionModel().onSelectionFinish(e)}},getContiguousSelection:function(){var j=this.view.dataSource,h,k,i;if(this.selectedRecords){h=Ext.Array.sort(this.selectedRecords.getRange(),function(c,d){return j.indexOf(c)-j.indexOf(d)});k=h.length;if(k){for(i=1;i<k;i++){if(j.indexOf(h[i])!==j.indexOf(h[i-1])+1){return false}}return[j.indexOf(h[0]),j.indexOf(h[k-1])]}}}}},0,0,0,0,0,0,[Ext.grid.selection,"Rows"],0));(Ext.cmd.derive("Ext.grid.selection.SelectionExtender",Ext.dd.DragTracker,{maskBox:{},constructor:function(g){var e=this;if(g.view.rendered){e.initSelectionExtender(g)}else{e.view=g.view;g.view.on({render:e.initSelectionExtender,args:[g],scope:e})}},initSelectionExtender:function(i){var h=this,g=Ext.dom.Element.DISPLAY;h.el=i.view.el;h.handle=i.view.ownerGrid.body.createChild({cls:"x-ssm-extender-drag-handle",style:"display:none"}).setVisibilityMode(g);h.handle.on({contextmenu:function(c){c.stopEvent()}});h.mask=h.el.createChild({cls:"x-ssm-extender-mask",style:"display:none"}).setVisibilityMode(g);h.superclass.constructor.call(h,i);h.mask.skipGarbageCollection=h.handle.skipGarbageCollection=true;h.viewListeners=h.view.on({scroll:h.onViewScroll,scope:h,destroyable:true});h.gridListeners=h.view.ownerGrid.on({columnResize:h.alignHandle,scope:h,destroyable:true});h.extendX=!!(h.axes&1);h.extendY=!!(h.axes&2)},setHandle:function(g,h){var i=this;if(!i.view.rendered){i.view.on({render:i.initSelectionExtender,args:[g,h],scope:i});return}i.firstPos=g;i.lastPos=h;if(g&&h){if(i.curPos){i.curPos.setPosition(h)}else{i.curPos=h.clone()}if(g&&h){i.alignHandle()}}else{i.disable()}},alignHandle:function(){var e=this,g=e.lastPos&&e.lastPos.getCell();if(g){e.enable();e.handle.alignTo(g,"c-br")}else{e.disable()}},enable:function(){this.handle.show();Ext.dd.DragTracker.prototype.enable.call(this)},disable:function(){this.handle.hide();this.mask.hide();Ext.dd.DragTracker.prototype.disable.call(this)},onDrag:function(e){if(e.target===this.mask.dom){this.mask.hide();e.target=document.elementFromPoint.apply(document,e.getXY());this.mask.show()}var m=this,r=m.view,s=r.el.getY(),p=r.el.getX(),n=e.getTarget(m.view.getCellSelector()),q=m.scrollTask||(m.scrollTask=Ext.util.TaskManager.newTask({run:m.doAutoScroll,scope:m,interval:10})),t=m.scrollBy||(m.scrollBy=[]);if(!m.el.contains(e.target)){t[0]=t[1]=0;return q.stop()}if(m.lastXY[1]>s+r.el.getHeight(true)-15){if(m.extendY){t[1]=3;q.start()}}else{if(m.lastXY[1]<s+10){if(m.extendY){t[1]=-3;q.start()}}else{if(m.lastXY[0]>p+r.el.getWidth(true)-15){if(m.extendX){t[0]=3;q.start()}}else{if(m.lastXY[0]<p+10){if(m.extendX){t[0]=-3;q.start()}}else{t[0]=t[1]=0;q.stop()}}}}if(n&&n!==m.lastOverCell){m.lastOverCell=n;m.syncMaskOnCell(n)}},doAutoScroll:function(){var h=this,i=h.view,g;i.scrollBy.apply(i,h.scrollBy);g=document.elementFromPoint.apply(document,h.lastXY);if(g){g=Ext.fly(g).up(i.cellSelector);if(g&&g!==h.lastOverCell){h.lastOverCell=g;h.syncMaskOnCell(g)}}},onEnd:function(e){var g=this;if(g.scrollTask){g.scrollTask.stop()}if(g.extensionDescriptor){g.disable();g.view.getSelectionModel().extendSelection(g.extensionDescriptor)}},onViewScroll:function(){var d=this;if(d.active&&d.lastOverCell){d.syncMaskOnCell(d.lastOverCell)}if(d.firstPos){d.alignHandle()}},syncMaskOnCell:function(v){var t=this,r=t.view,q=r.all,y=t.curPos,u=t.maskBox,p,z=t.firstPos.clone(),s=t.lastPos.clone(),w=t.firstPos.clone(),x=t.lastPos.clone();z.setRow(Math.min(Math.max(z.rowIdx,q.startIndex),q.endIndex));s.setRow(Math.min(Math.max(s.rowIdx,q.startIndex),q.endIndex));t.selectionRegion=p=z.getCell().getRegion().union(s.getCell().getRegion());y.setPosition(r.getRecord(v),r.getHeaderByCell(v));v=Ext.fly(v);t.mask.dom.style.borderTopWidth=t.mask.dom.style.borderRightWidth=t.mask.dom.style.borderBottomWidth=t.mask.dom.style.borderLeftWidth="";if(y.rowIdx<t.firstPos.rowIdx&&t.extendY){t.extensionDescriptor={type:"rows",start:w.setRow(y.rowIdx),end:x.setRow(t.firstPos.rowIdx-1),rows:y.rowIdx-t.firstPos.rowIdx,mousePosition:t.lastXY};t.mask.dom.style.borderBottomWidth="0";u.x=p.x;u.y=v.getY();u.width=p.right-p.left;u.height=p.top-v.getY()}else{if(y.rowIdx>t.lastPos.rowIdx&&t.extendY){t.extensionDescriptor={type:"rows",start:w.setRow(t.lastPos.rowIdx+1),end:x.setRow(y.rowIdx),rows:y.rowIdx-t.lastPos.rowIdx,mousePosition:t.lastXY};t.mask.dom.style.borderTopWidth="0";u.x=p.x;u.y=p.bottom;u.width=p.right-p.left;u.height=v.getRegion().bottom-p.bottom}else{if(y.colIdx<t.firstPos.colIdx&&t.extendX){t.extensionDescriptor={type:"columns",start:w.setColumn(y.colIdx),end:x.setColumn(t.firstPos.colIdx-1),columns:y.colIdx-t.firstPos.colIdx,mousePosition:t.lastXY};t.mask.dom.style.borderRightWidth="0";u.x=v.getX();u.y=p.top;u.width=p.left-v.getX();u.height=p.bottom-p.top}else{if(y.colIdx>t.lastPos.colIdx&&t.extendX){t.extensionDescriptor={type:"columns",start:w.setColumn(t.lastPos.colIdx+1),end:x.setColumn(y.colIdx),columns:y.colIdx-t.lastPos.colIdx,mousePosition:t.lastXY};t.mask.dom.style.borderLeftWidth="0";u.x=p.right;u.y=p.top;u.width=v.getRegion().right-p.right;u.height=p.bottom-p.top}else{t.extensionDescriptor=null}}}}if(r.ownerGrid.hasListeners.selectionextenderdrag){r.ownerGrid.fireEvent("selectionextenderdrag",r.ownerGrid,r.getSelectionModel().getSelected(),t.extensionDescriptor)}if(t.extensionDescriptor){t.mask.show();t.mask.setBox(u)}else{t.mask.hide()}},destroy:function(){var d=this;Ext.destroy(d.gridListeners,d.viewListeners,d.mask,d.handle);Ext.dd.DragTracker.prototype.destroy.call(this)}},1,0,0,0,0,0,[Ext.grid.selection,"SelectionExtender"],0));(Ext.cmd.derive("Ext.grid.selection.SpreadsheetModel",Ext.selection.Model,{isSpreadsheetModel:true,config:{columnSelect:{$value:false,lazy:true},cellSelect:{$value:true,lazy:true},rowSelect:{$value:true,lazy:true},dragSelect:{$value:true,lazy:true},selected:null,extensible:{$value:true,lazy:true}},checkboxSelect:false,checkboxColumnIndex:0,showHeaderCheckbox:true,checkboxHeaderWidth:24,rowNumbererHeaderWidth:46,columnSelectCls:"x-ssm-column-select",rowNumbererHeaderCls:"x-ssm-row-numberer-hd",checkerOnCls:"x-grid-hd-checker-on",tdCls:"x-grid-cell-special x-grid-cell-row-checker",bindComponent:function(k){var i=this,j,h;if(i.view!==k){if(i.view){i.navigationModel=null;Ext.destroy(i.viewListeners,i.navigationListeners)}i.view=k;if(k){i.getCellSelect();h=k.ownerGrid.lockedGrid;if(h){i.hasLockedHeader=true;i.onViewCreated(h,h.getView())}else{k.grid.on({viewcreated:i.onViewCreated,scope:i,single:true})}i.gridListeners=k.ownerGrid.on({columnschanged:i.onColumnsChanged,columnmove:i.onColumnMove,scope:i,destroyable:true});j=i.getViewListeners();j.scope=i;j.destroyable=true;i.viewListeners=k.on(j);i.navigationModel=k.getNavigationModel();i.navigationListeners=i.navigationModel.on({navigate:i.onNavigate,scope:i,destroyable:true});if(i.getColumnSelect()){k.ownerGrid.addCls(i.columnSelectCls)}}}},getCheckboxHeaderConfig:function(){var g=this,e=g.showHeaderCheckbox!==false;return{ignoreExport:true,isCheckerHd:e,text:"&#160;",clickTargetName:"el",width:g.checkboxHeaderWidth,sortable:false,draggable:false,resizable:false,hideable:false,menuDisabled:true,dataIndex:"",tdCls:g.tdCls,cls:e?"x-column-header-checkbox ":"",defaultRenderer:g.checkboxRenderer.bind(g),editRenderer:"&#160;",locked:g.hasLockedHeader}},checkboxRenderer:function(){return'<div class="x-grid-row-checker" role="presentation">&#160;</div>'},onHeaderClick:function(i,e,n){var q=this,p=q.selected,t,s,r;if(e===q.numbererColumn||e===q.checkColumn){n.stopEvent();if(!p||!p.isAllSelected()){q.selectAll()}else{q.deselectAll()}q.updateHeaderState();q.lastColumnSelected=null}else{if(q.columnSelect){if(n.shiftKey&&p&&p.lastColumnSelected){p.clear();t=this.view.ownerGrid.getVisibleColumnManager();s=Ext.Array.sort([t.indexOf(p.lastColumnSelected),t.indexOf(e)],Ext.Array.numericSortFn);for(r=s[0];r<=s[1];r++){q.selectColumn(t.getHeaderAtIndex(r),true)}}else{if(q.isColumnSelected(e)){q.deselectColumn(e);q.selected.lastColumnSelected=null}else{q.selectColumn(e,n.ctrlKey);q.selected.lastColumnSelected=e}}}}},updateHeaderState:function(){var p=this,r=p.view.dataSource,l=r.getCount(),s=p.views,n=p.selected,m=n&&n.isRows&&!r.isBufferedStore&&l>0&&(l===n.getCount()),q=p.checkColumn,t=p.checkerOnCls;if(s&&s.length){if(q){if(m){q.addCls(t)}else{q.removeCls(t)}}}},onBeforeReconfigure:function(l,p,m,j,n){var k=this;if(m){Ext.suspendLayouts();if(k.numbererColumn){k.numbererColumn.ownerCt.remove(k.numbererColumn,false);m.unshift(k.numbererColumn)}if(k.checkColumn){k.checkColumn.ownerCt.remove(k.checkColumn,false);m.unshift(k.checkColumn)}Ext.resumeLayouts()}},getCellContext:function(g,e){return new Ext.grid.CellContext(this.view.ownerGrid.getView()).setPosition(g,e)},select:function(y,i,q){var t=this,z=t.selected,s=t.view,r=s.dataSource,u,w,v,x=false;if(!z||!z.isRows||z.view!==s){t.resetSelection(true);z=t.selected=new Ext.grid.selection.Rows(s)}else{if(!i){z.clear()}}if(!Ext.isArray(y)){y=[y]}u=y.length;for(w=0;w<u;w++){v=y[w];if(typeof v==="number"){v=r.getAt(v)}if(!z.contains(v)){z.add(v);x=true}}if(x){t.updateHeaderState();if(q){t.fireSelectionChange()}}},deselect:function(u,i){var p=this,v=p.selected,n=p.view.dataSource,q,s,r,t=false;if(v&&v.isRows){if(!Ext.isArray(u)){u=[u]}q=u.length;for(s=0;s<q;s++){r=u[s];if(typeof r==="number"){r=n.getAt(r)}t=t||v.remove(r)}}if(t){p.updateHeaderState();if(!i){p.fireSelectionChange()}}},selectCells:function(j,k,n){var m=this,p=m.view.ownerGrid.view,l;j=j.isCellContext?j.clone():new Ext.grid.CellContext(p).setPosition(j);k=k.isCellContext?k.clone():new Ext.grid.CellContext(p).setPosition(k);m.resetSelection(true);m.selected=l=new Ext.grid.selection.Cells(j.view);l.setRangeStart(j);l.setRangeEnd(k);if(!n){m.fireSelectionChange()}},selectAll:function(k){var j=this,i=j.selected,m,l=j.view;if(j.rowSelect){if(!i||!i.isRows){j.resetSelection(true);j.selected=i=new Ext.grid.selection.Rows(l)}m=true}else{if(j.cellSelect){if(!i||!i.isCells){j.resetSelection(true);j.selected=i=new Ext.grid.selection.Cells(l)}m=true}else{if(j.columnSelect){if(!i||!i.isColumns){j.resetSelection(true);j.selected=i=new Ext.grid.selection.Columns(l)}m=true}}}if(m){i.selectAll();j.updateHeaderState();if(!k){j.fireSelectionChange()}}},deselectAll:function(g){var e=this.selected;if(e&&e.getCount()){e.clear();if(!g){this.fireSelectionChange()}}},selectRows:function(i,p,r){var n=this,m=n.selected,s=m&&m.isRows,t=i.length,q;if(!p||!s){n.resetSelection(true)}if(!s){n.selected=m=new Ext.grid.selection.Rows(n.view)}if(i.isEntity){m.add(i)}else{for(q=0;q<t;q++){m.add(i[q])}}if(!r){n.fireSelectionChange()}},isSelected:function(d){return this.isRowSelected(d)},selectColumn:function(l,m,n){var k=this,j=k.selected,p=l.getView();if(!j||!j.isColumns||j.view!==p.ownerGrid.view){k.resetSelection(true);k.selected=j=new Ext.grid.selection.Columns(p)}if(!j.contains(l)){if(!m){j.clear()}j.add(l);k.updateHeaderState();if(!n){k.fireSelectionChange()}}},deselectColumn:function(j,k){var i=this,h=i.getSelected();if(h&&h.isColumns&&h.contains(j)){h.remove(j);i.updateHeaderState();if(!k){i.fireSelectionChange()}}},getSelection:function(){var d=this.selected;if(d&&d.isRows){return d.getRecords()}return[]},destroy:function(){var e=this,g=e.scrollEls;Ext.destroy(e.gridListeners,e.viewListeners,e.selected,e.navigationListeners,e.extensible);if(g){Ext.dd.ScrollManager.unregister(g)}e.selected=e.gridListeners=e.viewListeners=e.selectionData=e.navigationListeners=e.scrollEls=null;Ext.selection.Model.prototype.destroy.call(this)},privates:{axesConfigs:{x:1,y:2,xy:3,both:3,"true":3},getViewListeners:function(){return{beforerefresh:this.onBeforeViewRefresh,refresh:this.onViewRefresh,keyup:{element:"el",fn:this.onViewKeyUp,scope:this}}},onViewKeyUp:function(e){var g=this.selected;if(e.keyCode===e.SHIFT&&g&&g.isRows&&g.getRangeSize()){g.addRange()}},onColumnsChanged:function(){var n=this.selected,m,p,l,q,t,s,r;if(n){t=n.view;if(n.isCells){s=new Ext.grid.CellContext(t);m=n.getRowRange();p=t.getVisibleColumnManager().getColumns().length;for(q=m[0];q<=m[1];q++){s.setRow(q);for(l=0;l<p;l++){s.setColumn(l);t.onCellDeselect(s)}}}else{if(n.isColumns){r=false;n.eachColumn(function(d,c){if(!d.isVisible()||!t.ownerGrid.isAncestor(d)){this.remove(d);r=true}})}}}Ext.on("idle",r?this.fireSelectionChange:this.updateSelectionExtender,this,{single:true})},onColumnMove:function(){this.updateSelectionExtender()},onBeforeViewRefresh:function(g){var e=this.selected;if(g.refreshCounter){if(e&&e.isCells){this.resetSelection()}}},onViewRefresh:function(m){var k=this,j=this.selected,l=k.view.store,i=false;if(j&&j.isRows&&l.isFiltered()){j.eachRow(function(c){if(!l.contains(c)){this.remove(c);i=true}})}this[i?"fireSelectionChange":"updateSelectionExtender"]()},resetSelection:function(g){var e=this.selected;if(e){e.clear();if(!g){this.fireSelectionChange()}}},onViewCreated:function(l,m){var k=this,j=m.ownerGrid,i=m.headerCt;if(!j.lockable||m.isLockedView){if(k.getRowSelect()){k.getNumbererColumn()}if(k.checkboxSelect){k.addCheckbox(m,true)}k.mon(m.ownerGrid,"beforereconfigure",k.onBeforeReconfigure,k)}i.sortOnClick=!k.getColumnSelect();if(k.getDragSelect()){m.on("render",k.onViewRender,k,{single:true})}},onViewRender:function(m){var i=this,k=m.getEl(),n=i.views,p=n.length,l;for(l=0;l<p;l++){n[l].headerCt.sortOnClick=!i.columnSelect}k.ddScrollConfig={vthresh:50,hthresh:50,frequency:300,increment:100};Ext.dd.ScrollManager.register(k);(i.scrollEls||(i.scrollEls=[])).push(k);m.on("cellmousedown",i.handleMouseDown,i);if(m.lockingPartner){m.lockingPartner.on("cellmousedown",i.handleMouseDown,i)}},handleMouseDown:function(r,z,s,w,u,B,v){var t=this,A=t.selected,x=v.position.column,y,e;if(v.button||v.shiftKey||v.altKey||v.pointerType==="touch"){return}if(x){y=x===t.checkColumn;if(x===t.numbererColumn||y||!t.cellSelect){if(t.rowSelect){if(A&&A.isRows){if(!v.ctrlKey&&!y){A.clear()}}else{if(A){A.clear()}A=t.selected=new Ext.grid.selection.Rows(r)}e=true}}else{if(A){A.clear()}if(!A||!A.isCells){A=t.selected=new Ext.grid.selection.Cells(r)}e=true}t.lastOverRecord=t.lastOverColumn=null;Ext.getBody().on("mouseup",t.onMouseUp,t,{single:true,view:A.view});if(e){A.view.el.on("mousemove",t.onMouseMove,t,{view:A.view})}}},onMouseMove:function(y,x,D){var u=this,s=D.view,z,C,e=y.getTarget(s.cellSelector),A=D.view.getHeaderByCell(e),v=u.selected,t,w,B;if(u.extensible){u.extensible.disable()}if(A){z=s.getRecord(e.parentNode);C=u.store.indexOf(z);w=z!==u.lastOverRecord;B=A!==u.lastOverColumn;if(w||B){t=u.getCellContext(z,A)}if(v.isRows){if(w){if(u.lastOverRecord){v.setRangeEnd(C)}else{v.setRangeStart(C)}}}else{if(w||B){if(u.lastOverRecord){v.setRangeEnd(t)}else{v.setRangeStart(t)}}}if(w||B){s.getNavigationModel().setPosition(new Ext.grid.CellContext(A.getView()).setPosition(z,A))}u.lastOverColumn=A;u.lastOverRecord=z}},onMouseUp:function(e,j,k){var l=this,m=k.view;if(m&&!m.destroyed){if(l.extensible){l.extensible.disable()}m.el.un("mousemove",l.onMouseMove,l);if(l.selected.isRows){l.selected.addRange()}l.fireSelectionChange()}},addCheckbox:function(m,l){var k=this,j=k.checkboxColumnIndex,i=m.headerCt;if(j!==false){if(j==="first"){j=0}else{if(j==="last"){j=i.getColumnCount()}}k.checkColumn=i.add(j,k.getCheckboxHeaderConfig())}if(l!==true){m.refresh()}},onNavigate:function(r){var q=this,n=r.view.ownerGrid.view,t=r.record,v=q.selected,p=new Ext.grid.CellContext(n).setPosition(t,r.column),s=r.keyEvent,m=s.getKey(),u;if(s.stopSelection){return}if(s.ctrlKey&&(m===s.UP||m===s.LEFT||m===s.RIGHT||m===s.DOWN)){return}if(v&&v.isCells&&v.getCount()>1&&s.type==="click"){return}if(!(q.cellSelect||q.columnSelect||q.rowSelect)||!r.record||s.type==="mousedown"){return}if(s.ctrlKey&&s.keyCode===s.A){if(!v||v.getCount()<2){q.selectAll()}else{q.deselectAll()}q.updateHeaderState();return}if(s.shiftKey){if(p.column===q.numbererColumn||p.column===q.checkColumn||!q.cellSelect||(v&&v.isRows)){if(q.rowSelect){if(!v||!v.isRows||v.view!==n){q.resetSelection(true);v=q.selected=new Ext.grid.selection.Rows(n)}if(!v.getRangeSize()){v.setRangeStart(r.previousRecordIndex||0)}v.setRangeEnd(r.recordIndex);v.addRange();u=true}}else{if(q.cellSelect){if(!v||!v.isCells||v.view!==n){q.resetSelection(true);v=q.selected=new Ext.grid.selection.Cells(n)}if(!v.getRangeSize()){v.setRangeStart(r.previousPosition||q.getCellContext(0,0))}v.setRangeEnd(p);u=true}}}else{if(p.column===q.numbererColumn||p.column===q.checkColumn||!q.cellSelect){if(q.rowSelect){if(!v||!v.isRows||v.view!==n){q.resetSelection(true);v=q.selected=new Ext.grid.selection.Rows(n)}if(s.ctrlKey||p.column===q.checkColumn){if(v.contains(t)){v.remove(t)}else{v.add(t)}}else{v.clear();v.add(t)}u=true}}else{if(q.cellSelect){if(!v||!v.isCells||v.view!==n){q.resetSelection(true);q.selected=v=new Ext.grid.selection.Cells(n)}else{v.clear()}v.setRangeStart(p);u=true}}}if(u){if(v.isRows){q.updateHeaderState()}q.fireSelectionChange()}},isRowSelected:function(i){var h=this,g=h.selected;if(g&&g.isRows){i=Ext.isNumber(i)?h.store.getAt(i):i;return g.contains(i)}else{return false}},isColumnSelected:function(i){var h=this,g=h.selected;if(g&&g.isColumns){return g.contains(i)}else{return false}},isCellSelected:function(p,j,m){var l=this,n,k=l.selected;p=p.ownerGrid.view;if(k){if(k.isColumns){if(typeof m==="number"){m=p.getVisibleColumnManager().getColumns()[m]}return k.contains(m)}if(k.isCells){n=new Ext.grid.CellContext(p).setPosition({row:j,column:m});return k.contains(n)}}return false},applySelected:function(d){return d},updateSelected:function(l,i){var p,m,q,n,r;if(i){i.clear()}if(l&&l.getCount()){p=l.view;if(l.isRows){l.eachRow(p.onRowSelect,p)}else{if(l.isColumns){m=l.getColumns();q=m.length;if(q){r=new Ext.grid.CelContext(p);p.store.each(function(c){r.setRow(c);for(n=0;n<q;n++){r.setColumn(m[n]);p.onCellSelect(r)}})}}else{if(l.isCells){l.eachCell(p.onCellSelect,p)}}}}},getNumbererColumn:function(i){var h=this,k=h.numbererColumn,j=h.view;if(!k){if(j.isNormalView){j=j.ownerGrid.lockedGrid}k=h.numbererColumn=j.headerCt.down("rownumberer")||j.headerCt.add(0,h.getNumbererColumnConfig())}return k},getNumbererColumnConfig:function(){var d=this;return{xtype:"rownumberer",width:d.rowNumbererHeaderWidth,editRenderer:"&#160;",tdCls:d.rowNumbererTdCls,cls:d.rowNumbererHeaderCls,locked:d.hasLockedHeader}},updateRowSelect:function(i){var j=this,h=j.selected,k=j.view;if(k&&k.rendered){if(k.isNormalView){k=k.lockingPartner}if(i){if(j.checkColumn){j.checkColumn.show()}j.getNumbererColumn().show()}else{if(j.checkColumn){j.checkColumn.hide()}if(j.numbererColumn){j.numbererColumn.hide()}}if(!i&&h&&h.isRows){h.clear();j.fireSelectionChange()}}},updateColumnSelect:function(i){var l=this,k=l.selected,n=l.views,p=n?n.length:0,m;for(m=0;m<p;m++){n[m].headerCt.sortOnClick=!i}if(!i&&k&&k.isColumns){k.clear();l.fireSelectionChange()}if(i){l.view.ownerGrid.addCls(l.columnSelectCls)}else{l.view.ownerGrid.removeCls(l.columnSelectCls)}},updateCellSelect:function(i){var h=this,g=h.selected;if(!i&&g&&g.isCells){g.clear();h.fireSelectionChange()}},fireSelectionChange:function(){var g=this.view.ownerGrid,e=this.selected;this.updateSelectionExtender();g.fireEvent("selectionchange",g,e)},updateSelectionExtender:function(){var d=this.selected;if(d){d.onSelectionFinish()}},onSelectionFinish:function(h,i,k){var j=this.getExtensible();if(j){j.setHandle(i,k)}},applyExtensible:function(g){var e=this;if(g===true||typeof g==="string"){g={axes:e.axesConfigs[g]}}else{g=Ext.Object.chain(g)}g.view=e.selected.view;return new Ext.grid.selection.SelectionExtender(g)},extendSelection:function(g){var i=this,h=i.selected;if(i.view.ownerGrid.fireEvent("beforeselectionextend",i.view.ownerGrid,h,g)!==false){h.extendRange(g);i.fireSelectionChange()}},onIdChanged:function(m,i,j,l){var k=this.selected;if(k&&k.isRows&&k.selectedRecords){k.selectedRecords.updateKey(i,j)}},onPageAdd:function(q,r,p){var i=this.selected,t=p.length,n,s,m=i&&i.selectedRecords;if(m&&i.isRows){for(n=0;n<t;n++){s=p[n];if(m.get(s.id)){m.replace(s)}}}},refresh:function(){var d=this.getSelected();if(d&&d.isRows){Ext.selection.Model.prototype.refresh.call(this)}},onStoreAdd:function(){var d=this.getSelected();if(d&&d.isRows){Ext.selection.Model.prototype.onStoreAdd.apply(this,arguments);this.updateHeaderState()}},onStoreClear:function(){this.resetSelection()},onStoreLoad:function(){var d=this.getSelected();if(d&&d.isRows){Ext.selection.Model.prototype.onStoreLoad.apply(this,arguments);this.updateHeaderState()}},onStoreRefresh:function(){var d=this.selected;if(d&&d.isRows&&d.selectedRecords){this.updateSelectedInstances(d.selectedRecords)}this.updateHeaderState()},onStoreRemove:function(){var d=this.getSelected();if(d&&d.isRows){Ext.selection.Model.prototype.onStoreRemove.apply(this,arguments)}}}},0,0,0,0,["selection.spreadsheet"],0,[Ext.grid.selection,"SpreadsheetModel"],function(e){var g=Ext.ClassManager.get("Ext.grid.column.RowNumberer");if(g){e.prototype.rowNumbererTdCls=Ext.grid.column.RowNumberer.prototype.tdCls+" x-ssm-row-numberer-cell"}}));(Ext.cmd.derive("Ext.util.Queue",Ext.Base,{constructor:function(){this.clear()},add:function(g){var h=this,i=h.getKey(g);if(!h.map[i]){++h.length;h.items.push(g);h.map[i]=g}return g},clear:function(){var e=this,g=e.items;e.items=[];e.map={};e.length=0;return g},contains:function(e){var g=this.getKey(e);return this.map.hasOwnProperty(g)},getCount:function(){return this.length},getKey:function(d){return d.id},remove:function(i){var j=this,k=j.getKey(i),m=j.items,l;if(j.map[k]){l=Ext.Array.indexOf(m,i);Ext.Array.erase(m,l,1);delete j.map[k];--j.length}return i}},1,0,0,0,0,0,[Ext.util,"Queue"],0));(Ext.cmd.derive("Ext.layout.ContextItem",Ext.Base,{heightModel:null,widthModel:null,sizeModel:null,optOut:false,ownerSizePolicy:null,boxChildren:null,boxParent:null,children:[],dirty:null,dirtyCount:0,hasRawContent:true,isContextItem:true,isTopLevel:false,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:false,constructor:function(z){var y=this,B=Ext.layout.SizeModel.sizeModels,G=B.configured,H=B.shrinkWrap,O,A,D,E,K,M,x,L,C,F,N,I,J,P;Ext.apply(y,z);x=y.target;O=y.el;y.id=x.id;y.flushedProps={};y.props=K={};y.styles={};if(!x.isComponent){A=O.lastBox}else{y.wrapsComponent=true;y.framing=x.frameSize||null;y.isComponentChild=x.ownerLayout&&x.ownerLayout.isComponentLayout;A=x.lastBox;D=x.ownerCt;if(D&&(E=D.el&&y.context.items[D.el.id])){y.ownerCtContext=E}y.sizeModel=M=x.getSizeModel(E&&E.widthModel.pairsByHeightOrdinal[E.heightModel.ordinal]);y.widthModel=I=M.width;y.heightModel=J=M.height;if(A&&A.invalid===false){F=(x.width===(L=A.width));N=(x.height===(C=A.height));if(I===H&&J===H){P=true}else{if(I===G&&F){P=J===H||(J===G&&N)}}if(P){y.optOut=true;K.width=L;K.height=C}}}y.lastBox=A},init:function(K,P){var B=this,R=B.props,O=B.dirty,I=B.ownerCtContext,F=B.target.ownerLayout,L=!B.state,A=K||L,N,G,H,E,Q,n,i=B.heightModel,M=B.widthModel,J,D,C=0;B.dirty=B.invalid=false;B.props={};B.remainingChildDimensions=0;if(B.boxChildren){B.boxChildren.length=0}if(!L){B.clearAllBlocks("blocks");B.clearAllBlocks("domBlocks")}if(!B.wrapsComponent){return A}n=B.target;B.state={};if(L){if(n.beforeLayout&&n.beforeLayout!==Ext.emptyFn){n.beforeLayout()}if(!I&&(E=n.ownerCt)){I=B.context.items[E.el.id]}if(I){B.ownerCtContext=I;B.isBoxParent=F&&F.isItemBoxParent(B)}else{B.isTopLevel=true}B.frameBodyContext=B.getEl("frameBody")}else{I=B.ownerCtContext;B.isTopLevel=!I;N=B.children;for(G=0,H=N.length;G<H;++G){N[G].init(true)}}B.hasRawContent=!(n.isContainer&&n.items.items.length>0);if(K){B.widthModel=B.heightModel=null;Q=n.getSizeModel(I&&I.widthModel.pairsByHeightOrdinal[I.heightModel.ordinal]);if(L){B.sizeModel=Q}B.widthModel=Q.width;B.heightModel=Q.height;if(I&&!B.isComponentChild){if(F.needsItemSize||!n.liquidLayout){I.remainingChildDimensions+=2}else{if(B.widthModel.calculated){++I.remainingChildDimensions}if(B.heightModel.calculated){++I.remainingChildDimensions}}}}else{if(R){B.recoverProp("x",R,O);B.recoverProp("y",R,O);if(B.widthModel.calculated){B.recoverProp("width",R,O)}else{if("width" in R){++C}}if(B.heightModel.calculated){B.recoverProp("height",R,O)}else{if("height" in R){++C}}if(I&&!B.isComponentChild){I.remainingChildDimensions+=C}}}if(R&&F&&F.manageMargins){B.recoverProp("margin-top",R,O);B.recoverProp("margin-right",R,O);B.recoverProp("margin-bottom",R,O);B.recoverProp("margin-left",R,O)}if(P){J=P.heightModel;D=P.widthModel;if(D&&J&&M&&i){if(M.shrinkWrap&&i.shrinkWrap){if(D.constrainedMax&&J.constrainedMin){J=null}}}if(D){B.widthModel=D}if(J){B.heightModel=J}if(P.state){Ext.apply(B.state,P.state)}}return A},initContinue:function(m){var k=this,n=k.ownerCtContext,r=k.target,p=k.widthModel,l=r.getInherited(),q;if(p.fixed){l.inShrinkWrapTable=false}else{delete l.inShrinkWrapTable}if(m){if(n&&p.shrinkWrap){q=n.isBoxParent?n:n.boxParent;if(q){q.addBoxChild(k)}}else{if(p.natural){k.boxParent=n}}}return m},initDone:function(h){var j=this,k=j.props,i=j.state;if(j.remainingChildDimensions===0){k.containerChildrenSizeDone=true}if(h){k.containerLayoutDone=true}if(j.boxChildren&&j.boxChildren.length&&j.widthModel.shrinkWrap){j.el.setWidth(10000);i.blocks=(i.blocks||0)+1}},initAnimation:function(){var h=this,g=h.target,i=h.ownerCtContext;if(i&&i.isTopLevel){h.animatePolicy=g.ownerLayout.getAnimatePolicy(h)}else{if(!i&&g.isCollapsingOrExpanding&&g.animCollapse){h.animatePolicy=g.componentLayout.getAnimatePolicy(h)}}if(h.animatePolicy){h.context.queueAnimation(h)}},addBlock:function(n,l,k){var m=this,j=m[n]||(m[n]={}),p=j[k]||(j[k]={});if(!p[l.id]){p[l.id]=l;++l.blockCount;++m.context.blockCount}},addBoxChild:function(h){var i=this,j,k=h.widthModel;h.boxParent=this;h.measuresBox=k.shrinkWrap?h.hasRawContent:k.natural;if(h.measuresBox){j=i.boxChildren;if(j){j.push(h)}else{i.boxChildren=[h]}}},addPositionStyles:function(j,l){var m=l.x,i=l.y,k=0;if(m!==undefined){j.left=m+"px";++k}if(i!==undefined){j.top=i+"px";++k}return k},addTrigger:function(n,m){var p=this,t=m?"domTriggers":"triggers",l=p[t]||(p[t]={}),s=p.context,q=s.currentLayout,r=l[n]||(l[n]={});if(!r[q.id]){r[q.id]=q;++q.triggerCount;r=s.triggers[m?"dom":"data"];(r[q.id]||(r[q.id]=[])).push({item:this,prop:n});if(p.props[n]!==undefined){if(!m||!(p.dirty&&(n in p.dirty))){++q.firedTriggers}}}},boxChildMeasured:function(){var h=this,g=h.state,i=(g.boxesMeasured=(g.boxesMeasured||0)+1);if(i===h.boxChildren.length){g.clearBoxWidth=1;++h.context.progressCount;h.markDirty()}},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(g){var e=g.getStyles(g.borderNames,g.trblNames);e.width=e.left+e.right;e.height=e.top+e.bottom;return e},marginInfo:function(g){var e=g.getStyles(g.marginNames,g.trblNames);e.width=e.left+e.right;e.height=e.top+e.bottom;return e},paddingInfo:function(h){var i=h.frameBodyContext||h,g=i.getStyles(h.paddingNames,h.trblNames);g.width=g.left+g.right;g.height=g.top+g.bottom;return g}},checkCache:function(d){return this.cacheMissHandlers[d](this)},clearAllBlocks:function(i){var g=this[i],h;if(g){for(h in g){this.clearBlocks(i,h)}}},clearBlocks:function(p,l){var k=this[p],q=k&&k[l],n,m,r;if(q){delete k[l];n=this.context;for(r in q){m=q[r];--n.blockCount;if(!--m.blockCount&&!m.pending&&!m.done){n.queueLayout(m)}}}},block:function(g,e){this.addBlock("blocks",g,e)},domBlock:function(g,e){this.addBlock("domBlocks",g,e)},fireTriggers:function(q,l){var k=this[q],n=k&&k[l],p=this.context,m,r;if(n){for(r in n){m=n[r];++m.firedTriggers;if(!m.done&&!m.blockCount&&!m.pending){p.queueLayout(m)}}}},flush:function(){var j=this,k=j.dirty,i=j.state,h=j.el;j.dirtyCount=0;if("attributes" in j){h.set(j.attributes);delete j.attributes}if("innerHTML" in j){h.innerHTML=j.innerHTML;delete j.innerHTML}if(i&&i.clearBoxWidth){i.clearBoxWidth=0;j.el.setStyle("width",null);if(!--i.blocks){j.context.queueItemLayouts(j)}}if(k){delete j.dirty;j.writeProps(k,true)}},flushAnimations:function(){var j=this,B=j.previousSize,u,s,z,x,y,A,w,t,v,D,C;if(B){u=j.target;s=u.getAnimationProps();z=s.duration;x=Ext.Object.getKeys(j.animatePolicy);y=Ext.apply({},{from:{},to:{},duration:z||Ext.fx.Anim.prototype.duration},s);for(A=0,w=0,t=x.length;w<t;w++){v=x[w];D=B[v];C=j.peek(v);if(D!==C){v=j.translateProps[v]||v;y.from[v]=D;y.to[v]=C;++A}}if(A){if(j.isCollapsingOrExpanding===1){u.componentLayout.undoLayout(j)}else{j.writeProps(y.from)}j.el.animate(y);y=Ext.fx.Manager.getFxQueue(j.el.id)[0];u.$layoutAnim=y;y.on({afteranimate:function(){delete u.$layoutAnim;if(u.destroying||u.destroyed){return}if(j.isCollapsingOrExpanding===1){u.componentLayout.redoLayout(j);u.afterCollapse(true)}else{if(j.isCollapsingOrExpanding===2){u.afterExpand(true)}}if(u.hasListeners.afterlayoutanimation){u.fireEvent("afterlayoutanimation",u)}}})}}},getBorderInfo:function(){var g=this,e=g.borderInfo;if(!e){g.borderInfo=e=g.checkCache("borderInfo")}return e},getEl:function(m,p){var k=this,j,l,n;if(m){if(m.dom){l=m}else{j=k.target;if(p){j=p}l=j[m];if(typeof l==="function"){l=l.call(j);if(l===k.el){return this}}}if(l){n=k.context.getEl(k,l)}}return n||null},getFrameInfo:function(){var i=this,h=i.frameInfo,j,k;if(!h){j=i.framing;k=i.getBorderInfo();i.frameInfo=h=j?{top:j.top+k.top,right:j.right+k.right,bottom:j.bottom+k.bottom,left:j.left+k.left,width:j.width+k.width,height:j.height+k.height}:k}return h},getMarginInfo:function(){var l=this,j=l.marginInfo,n,p,k,m;if(!j){if(!l.wrapsComponent){j=l.checkCache("marginInfo")}else{n=l.target;k=n.ownerLayout;m=k?k.id:null;p=k&&k.manageMargins;j=n.margin$;if(j&&j.ownerId!==m){j=null}if(!j){j=l.parseMargins(n,n.margin)||l.checkCache("marginInfo");if(p){l.setProp("margin-top",0);l.setProp("margin-right",0);l.setProp("margin-bottom",0);l.setProp("margin-left",0)}j.ownerId=m;n.margin$=j}j.width=j.left+j.right;j.height=j.top+j.bottom}l.marginInfo=j}return j},clearMarginCache:function(){delete this.marginInfo;delete this.target.margin$},getPaddingInfo:function(){var g=this,e=g.paddingInfo;if(!e){g.paddingInfo=e=g.checkCache("paddingInfo")}return e},getProp:function(g){var h=this,i=h.props[g];h.addTrigger(g);return i},getDomProp:function(g){var h=this,i=(h.dirty&&(g in h.dirty))?undefined:h.props[g];h.addTrigger(g,true);return i},getStyle:function(m){var k=this,l=k.styles,i,j;if(m in l){j=l[m]}else{i=k.styleInfo[m];j=k.el.getStyle(m);if(i&&i.parseInt){j=parseInt(j,10)||0}l[m]=j}return j},getStyles:function(H,D){var n=this,A=n.styles,G={},z=0,B=H.length,w,x,v,E,C,y,F,i;D=D||H;for(w=0;w<B;++w){E=H[w];if(E in A){G[D[w]]=A[E];++z;if(w&&z===1){x=H.slice(0,w);v=D.slice(0,w)}}else{if(z){(x||(x=[])).push(E);(v||(v=[])).push(D[w])}}}if(z<B){x=x||H;v=v||D;y=n.styleInfo;F=n.el.getStyle(x);for(w=x.length;w--;){E=x[w];C=y[E];i=F[E];if(C&&C.parseInt){i=parseInt(i,10)||0}G[v[w]]=i;A[E]=i}}return G},hasProp:function(d){return this.getProp(d)!=null},hasDomProp:function(d){return this.getDomProp(d)!=null},invalidate:function(d){this.context.queueInvalidate(this,d)},markDirty:function(){if(++this.dirtyCount===1){this.context.queueFlush(this)}},onBoxMeasured:function(){var g=this.boxParent,e=this.state;if(g&&g.widthModel.shrinkWrap&&!e.boxMeasured&&this.measuresBox){e.boxMeasured=1;g.boxChildMeasured()}},parseMargins:function(k,h){if(h===true){h=5}var i=typeof h,j;if(i==="string"||i==="number"){j=k.parseBox(h)}else{if(h){j={top:0,right:0,bottom:0,left:0};if(h){h=Ext.apply(j,k.parseBox(h))}}}return j},peek:function(d){return this.props[d]},recalculateSizeModel:function(){var k=this,j=k.target,m=j.componentLayout,n=k.ownerCtContext,p=m.ownerContext,l;m.ownerContext=null;k.sizeModel=l=j.getSizeModel(n&&n.widthModel.pairsByHeightOrdinal[n.heightModel.ordinal]);k.widthModel=l.width;k.heightModel=l.height;if(p){m.ownerContext=k}},recoverProp:function(j,n,p){var k=this,l=k.props,m;if(j in n){l[j]=n[j];if(p&&j in p){m=k.dirty||(k.dirty={});m[j]=p[j]}}},redo:function(l){var i=this,k,m,j;i.revertProps(i.props);if(l&&i.wrapsComponent){if(i.childItems){for(j=0,k=i.childItems,m=k.length;j<m;j++){k[j].redo(l)}}for(j=0,k=i.children,m=k.length;j<m;j++){k[j].redo()}}},removeEl:function(l,m){var j=this,i,k;if(l){if(l.dom){k=l}else{i=j.target;if(m){i=m}k=i[l];if(typeof k==="function"){k=k.call(i);if(k===j.el){return this}}}if(k){j.context.removeEl(k,j)}}},revertProps:function(h){var k,j=this.flushedProps,i={};for(k in h){if(j.hasOwnProperty(k)){i[k]=h[k]}}this.writeProps(i)},setAttribute:function(i,g){var h=this;if(!h.attributes){h.attributes={}}h.attributes[i]=g;h.markDirty()},setBox:function(e){var g=this;if("left" in e){g.setProp("x",e.left)}if("top" in e){g.setProp("y",e.top)}g.setSize(e.width,e.height)},setContentHeight:function(g,e){if(!e&&this.hasRawContent){return 1}return this.setProp("contentHeight",g)},setContentWidth:function(e,g){if(!g&&this.hasRawContent){return 1}return this.setProp("contentWidth",e)},setContentSize:function(g,i,h){return this.setContentWidth(g,h)+this.setContentHeight(i,h)===2},setProp:function(l,m,p){var n=this,j=typeof m,k;if(j==="undefined"||(j==="number"&&isNaN(m))){return 0}if(n.props[l]===m){return 1}n.props[l]=m;++n.context.progressCount;if(p===false){n.fireTriggers("domTriggers",l);n.clearBlocks("domBlocks",l)}else{k=n.styleInfo[l];if(k){if(!n.dirty){n.dirty={}}n.dirty[l]=m;n.markDirty()}}n.fireTriggers("triggers",l);n.clearBlocks("blocks",l);return 1},setHeight:function(n,x){var s=this,u=s.target,v=s.ownerCtContext,r,t,w,p,q;if(n<0){n=0}if(!s.wrapsComponent){if(!s.setProp("height",n,x)){return NaN}}else{w=s.collapsedVert?0:(u.minHeight||0);n=Ext.Number.constrain(n,w,u.maxHeight);p=s.props.height;if(!s.setProp("height",n,x)){return NaN}if(v&&!s.isComponentChild&&isNaN(p)){q=--v.remainingChildDimensions;if(!q){v.setProp("containerChildrenSizeDone",true)}}r=s.frameBodyContext;if(r){t=s.getFrameInfo();r[s.el.vertical?"setWidth":"setHeight"](n-t.height,x)}}return n},setWidth:function(w,x){var q=this,s=q.target,t=q.ownerCtContext,p,r,u,v,n;if(w<0){w=0}if(!q.wrapsComponent){if(!q.setProp("width",w,x)){return NaN}}else{u=q.collapsedHorz?0:(s.minWidth||0);w=Ext.Number.constrain(w,u,s.maxWidth);v=q.props.width;if(!q.setProp("width",w,x)){return NaN}if(t&&!q.isComponentChild&&isNaN(v)){n=--t.remainingChildDimensions;if(!n){t.setProp("containerChildrenSizeDone",true)}}p=q.frameBodyContext;if(p){r=q.getFrameInfo();p.setWidth(w-r.width,x)}}return w},setSize:function(g,i,h){this.setWidth(g,h);this.setHeight(i,h)},translateProps:{x:"left",y:"top"},undo:function(l){var i=this,k,m,j;i.revertProps(i.lastBox);if(l&&i.wrapsComponent){if(i.childItems){for(j=0,k=i.childItems,m=k.length;j<m;j++){k[j].undo(l)}}for(j=0,k=i.children,m=k.length;j<m;j++){k[j].undo()}}},unsetProp:function(e){var g=this.dirty;delete this.props[e];if(g){delete g[e]}},writeProps:function(L,M){if(!(L&&typeof L==="object")){return}var y=this,N=y.el,I={},K=0,O=y.styleInfo,z,H,E,C=L.width,G=L.height,x=y.target,J,P,D,B,A,F;if("displayed" in L){N.setDisplayed(L.displayed)}for(H in L){if(M){y.fireTriggers("domTriggers",H);y.clearBlocks("domBlocks",H);y.flushedProps[H]=1}z=O[H];if(z&&z.dom){if(z.suffix&&(E=parseInt(L[H],10))){I[H]=E+z.suffix}else{I[H]=L[H]}++K}}if("x" in L||"y" in L){if(x.isComponent){x.setPosition(L.x,L.y)}else{K+=y.addPositionStyles(I,L)}}if(y.wrapsComponent&&Ext.isIE9){if((J=C!==undefined&&y.hasOverflowY)||(P=G!==undefined&&y.hasOverflowX)){D=y.isAbsolute;if(D===undefined){D=false;F=y.target.getTargetEl();A=F.getStyle("position");y.isAbsolute=D=(A==="absolute")}if(D){B=Ext.getScrollbarSize();if(J){C=parseInt(C,10)+B.width;I.width=C+"px";++K}if(P){G=parseInt(G,10)+B.height;I.height=G+"px";++K}}}}if(K){N.setStyle(I)}}},1,0,0,0,0,0,[Ext.layout,"ContextItem"],function(){var g={dom:true,parseInt:true,suffix:"px"},h={dom:true},i={dom:false};this.prototype.styleInfo={containerChildrenSizeDone:i,containerLayoutDone:i,displayed:i,done:i,x:i,y:i,columnsChanged:i,rowHeights:i,viewOverflowY:i,left:g,top:g,right:g,bottom:g,width:g,height:g,"border-top-width":g,"border-right-width":g,"border-bottom-width":g,"border-left-width":g,"margin-top":g,"margin-right":g,"margin-bottom":g,"margin-left":g,"padding-top":g,"padding-right":g,"padding-bottom":g,"padding-left":g,"line-height":h,display:h,clear:h}}));(Ext.cmd.derive("Ext.layout.Context",Ext.Base,{remainingLayouts:0,state:0,cycleWatchDog:200,constructor:function(g){var e=this;Ext.apply(e,g);e.items={};e.layouts={};e.blockCount=0;e.cycleCount=0;e.flushCount=0;e.calcCount=0;e.animateQueue=e.newQueue();e.completionQueue=e.newQueue();e.finalizeQueue=e.newQueue();e.finishQueue=e.newQueue();e.flushQueue=e.newQueue();e.invalidateData={};e.layoutQueue=e.newQueue();e.invalidQueue=[];e.triggers={data:{},dom:{}}},callLayout:function(e,g){this.currentLayout=e;e[g](this.getCmp(e.owner))},cancelComponent:function(z,G,x){var L=this,A=z,y=!z.isComponent,F=y?A.length:1,D,E,i,k,B,I,K,J,H,C;for(D=0;D<F;++D){if(y){z=A[D]}if(x){if(z.ownerCt){C=this.items[z.ownerCt.el.id];if(C){Ext.Array.remove(C.childItems,L.getCmp(z))}}else{if(z.rendered){L.removeEl(z.el)}}}if(!G){K=L.invalidQueue;i=K.length;if(i){L.invalidQueue=I=[];for(E=0;E<i;++E){J=K[E];H=J.item.target;if(H!==z&&!H.up(z)){I.push(J)}}}}B=z.componentLayout;L.cancelLayout(B);if(B.getLayoutItems){k=B.getLayoutItems();if(k.length){L.cancelComponent(k,true)}}if(z.isContainer&&!z.collapsed){B=z.layout;L.cancelLayout(B);k=B.getVisibleItems();if(k.length){L.cancelComponent(k,true)}}}},cancelLayout:function(e){var g=this;g.completionQueue.remove(e);g.finalizeQueue.remove(e);g.finishQueue.remove(e);g.layoutQueue.remove(e);if(e.running){g.layoutDone(e)}e.ownerContext=null},clearTriggers:function(q,p){var v=q.id,r=this.triggers[p?"dom":"data"],n=r&&r[v],u=(n&&n.length)||0,s,i,t;for(s=0;s<u;++s){t=n[s];i=t.item;r=p?i.domTriggers:i.triggers;delete r[t.prop][v]}},flush:function(){var h=this,k=h.flushQueue.clear(),i=k.length,j;if(i){++h.flushCount;for(j=0;j<i;++j){k[j].flush()}}},flushAnimations:function(){var h=this,j=h.animateQueue.clear(),k=j.length,i;if(k){for(i=0;i<k;i++){if(j[i].target.animate!==false){j[i].flushAnimations()}}Ext.fx.Manager.runner()}},flushInvalidates:function(){var i=this,r=i.invalidQueue,l=r&&r.length,q,m,n,p;i.invalidQueue=[];if(l){m=[];for(p=0;p<l;++p){q=(n=r[p]).item.target;if(!q.container.isDetachedBody){m.push(q);if(n.options){i.invalidateData[q.id]=n.options}}}i.invalidate(m,null)}},flushLayouts:function(m,t,r){var n=this,i=r?n[m].items:n[m].clear(),p=i.length,s,q;if(p){for(s=0;s<p;++s){q=i[s];if(!q.running){n.callLayout(q,t)}}n.currentLayout=null}},getCmp:function(d){return this.getItem(d,d.el)},getEl:function(h,i){var g=this.getItem(i,i);if(!g.parent){g.parent=h;if(h.children.length){h.children.push(g)}else{h.children=[g]}}return g},getItem:function(j,l){var i=l.id,m=this.items,k=m[i]||(m[i]=new Ext.layout.ContextItem({context:this,target:j,el:l}));return k},handleFailure:function(){var g=this.layouts,h,i;Ext.failedLayouts=(Ext.failedLayouts||0)+1;for(i in g){h=g[i];if(g.hasOwnProperty(i)){h.running=false;h.ownerContext=null}}},invalidate:function(y,w){var L=this,x=!y.isComponent,F,K,H,C,z,J,i,G,B,A,D,E,I;for(C=0,G=x?y.length:1;C<G;++C){z=x?y[C]:y;if(z.rendered&&!z.hidden){K=z.ownerLayout;B=z.componentLayout;I=false;if((!K||!K.needsItemSize)&&z.liquidLayout){I=true}if(!I||(K&&K.setsItemSize)){J=L.getCmp(z);H=!J.state;A=(z.isContainer&&!z.collapsed)?z.layout:null;D=L.invalidateData[J.id];delete L.invalidateData[J.id];E=J.init(w,D)}if(I){continue}if(D){L.processInvalidate(D,J,"before")}if(B.beforeLayoutCycle){B.beforeLayoutCycle(J)}if(A&&A.beforeLayoutCycle){A.beforeLayoutCycle(J)}E=J.initContinue(E);F=true;if(B.getLayoutItems){B.renderChildren();i=B.getLayoutItems();if(i.length){L.invalidate(i,true)}}if(A){F=false;A.renderChildren();if(A.needsItemSize||A.activeItemCount){i=A.getVisibleItems();if(i.length){L.invalidate(i,true)}}}J.initDone(F);L.resetLayout(B,J,H);if(A){L.resetLayout(A,J,H)}J.initAnimation();if(D){L.processInvalidate(D,J,"after")}}}L.currentLayout=null},isDescendant:function(i,h){if(i.isContainer){for(var c=h.ownerCt;c;c=c.ownerCt){if(c===i){return true}}}return false},layoutDone:function(g){var e=g.ownerContext;g.running=false;if(g.isComponentLayout){if(e.measuresBox){e.onBoxMeasured()}e.setProp("done",true)}else{e.setProp("containerLayoutDone",true)}--this.remainingLayouts;++this.progressCount},newQueue:function(){return new Ext.util.Queue()},processInvalidate:function(l,i,m){if(l[m]){var j=this,k=j.currentLayout;j.currentLayout=l.layout||null;l[m](i,l);j.currentLayout=k}},queueAnimation:function(d){this.animateQueue.add(d)},queueCompletion:function(d){this.completionQueue.add(d)},queueFinalize:function(d){this.finalizeQueue.add(d)},queueFlush:function(d){this.flushQueue.add(d)},chainFns:function(t,l,n){var q=this,r=t.layout,p=l.layout,s=t[n],m=l[n];return function(d){var c=q.currentLayout;if(s){q.currentLayout=r;s.call(t.scope||t,d,t)}q.currentLayout=p;m.call(l.scope||l,d,l);q.currentLayout=c}},purgeInvalidates:function(){var t=this,q=[],s=t.invalidQueue,v=s.length,r,p,w,x,y,u,z;for(r=0;r<v;++r){y=s[r];u=y.item.target;z=true;for(p=q.length;p--;){w=q[p];x=w.item.target;if(u.isLayoutChild(x)){z=false;break}if(x.isLayoutChild(u)){Ext.Array.erase(q,p,1)}}if(z){q.push(y)}}t.invalidQueue=q},queueInvalidate:function(q,p){var t=this,r=[],s=t.invalidQueue,u=s.length,w,y,v,z,x;if(q.isComponent){w=q;q=t.items[w.el.id];if(q){q.recalculateSizeModel()}else{q=t.getCmp(w)}}else{w=q.target}q.invalid=true;while(u--){y=s[u];v=y.item.target;if(!w.isFloating&&w.up(v)){return}if(v===w){if(!(z=y.options)){y.options=p}else{if(p){if(p.widthModel){z.widthModel=p.widthModel}if(p.heightModel){z.heightModel=p.heightModel}if(!(x=z.state)){z.state=p.state}else{if(p.state){Ext.apply(x,p.state)}}if(p.before){z.before=t.chainFns(z,p,"before")}if(p.after){z.after=t.chainFns(z,p,"after")}}}return}if(!v.isLayoutChild(w)){r.push(y)}}r.push({item:q,options:p});t.invalidQueue=r},queueItemLayouts:function(g){var i=g.isComponent?g:g.target,h=i.componentLayout;if(!h.pending&&!h.invalid&&!h.done){this.queueLayout(h)}h=i.layout;if(h&&!h.pending&&!h.invalid&&!h.done&&!i.collapsed){this.queueLayout(h)}},queueLayout:function(d){this.layoutQueue.add(d);d.pending=true},removeEl:function(j,k){var i=j.id,l=k?k.children:null,m=this.items;if(l){Ext.Array.remove(l,m[i])}delete m[i]},resetLayout:function(j,i,h){var k=this;k.currentLayout=j;j.done=false;j.pending=true;j.firedTriggers=0;k.layoutQueue.add(j);if(h){k.layouts[j.id]=j;j.running=true;if(j.finishedLayout){k.finishQueue.add(j)}++k.remainingLayouts;++j.layoutCount;j.ownerContext=i;j.beginCount=0;j.blockCount=0;j.calcCount=0;j.triggerCount=0;if(!j.initialized){j.initLayout()}j.beginLayout(i)}else{++j.beginCount;if(!j.running){++k.remainingLayouts;j.running=true;j.ownerContext=i;if(j.isComponentLayout){i.unsetProp("done")}k.completionQueue.remove(j);k.finalizeQueue.remove(j)}}j.beginLayoutCycle(i,h)},run:function(){var g=this,h=false,i=g.cycleWatchDog;g.purgeInvalidates();g.flushInvalidates();g.state=1;g.totalCount=g.layoutQueue.getCount();g.flush();while((g.remainingLayouts||g.invalidQueue.length)&&i--){if(g.invalidQueue.length){g.flushInvalidates()}if(g.runCycle()){h=false}else{if(!h){g.flush();h=true;g.flushLayouts("completionQueue","completeLayout")}else{if(!g.invalidQueue.length){g.state=2;break}}}if(!(g.remainingLayouts||g.invalidQueue.length)){g.flush();g.flushLayouts("completionQueue","completeLayout");g.flushLayouts("finalizeQueue","finalizeLayout")}}return g.runComplete()},runComplete:function(){var d=this;d.state=2;if(d.remainingLayouts){d.handleFailure();return false}d.flush();d.flushLayouts("finishQueue","finishedLayout",true);d.flushLayouts("finishQueue","notifyOwner");d.flush();d.flushAnimations();return true},runCycle:function(){var i=this,h=i.layoutQueue.clear(),j=h.length,k;++i.cycleCount;i.progressCount=0;for(k=0;k<j;++k){i.runLayout(i.currentLayout=h[k])}i.currentLayout=null;return i.progressCount>0},runLayout:function(h){var i=this,g=i.getCmp(h.owner);h.pending=false;if(g.state.blocks){return}h.done=true;++h.calcCount;++i.calcCount;h.calculate(g);if(h.done){i.layoutDone(h);if(h.completeLayout){i.queueCompletion(h)}if(h.finalizeLayout){i.queueFinalize(h)}}else{if(!h.pending&&!h.invalid&&!(h.blockCount+h.triggerCount-h.firedTriggers)){i.queueLayout(h)}}},setItemSize:function(i,l,q){var n=i,r=1,p,m;if(i.isComposite){n=i.elements;r=n.length;i=n[0]}else{if(!i.dom&&!i.el){r=n.length;i=n[0]}}for(m=0;m<r;){p=this.get(i);p.setSize(l,q);i=n[++m]}}},1,0,0,0,0,0,[Ext.layout,"Context"],0));(Ext.cmd.derive("Ext.layout.component.Body",Ext.layout.component.Auto,{type:"body",beginLayout:function(d){Ext.layout.component.Auto.prototype.beginLayout.apply(this,arguments);d.bodyContext=d.getEl("body")},beginLayoutCycle:function(l,n){var m=this,j=m.lastWidthModel,k=m.lastHeightModel,p=m.owner.body;Ext.layout.component.Auto.prototype.beginLayoutCycle.apply(this,arguments);if(j&&j.fixed&&l.widthModel.shrinkWrap){p.setWidth(null)}if(k&&k.fixed&&l.heightModel.shrinkWrap){p.setHeight(null)}},calculateOwnerHeightFromContentHeight:function(g,h){var i=Ext.layout.component.Auto.prototype.calculateOwnerHeightFromContentHeight.apply(this,arguments);if(g.targetContext!==g){i+=g.getPaddingInfo().height}return i},calculateOwnerWidthFromContentWidth:function(g,i){var h=Ext.layout.component.Auto.prototype.calculateOwnerWidthFromContentWidth.apply(this,arguments);if(g.targetContext!==g){h+=g.getPaddingInfo().width}return h},measureContentWidth:function(d){return d.bodyContext.setWidth(d.bodyContext.el.dom.offsetWidth,false)},measureContentHeight:function(d){return d.bodyContext.setHeight(d.bodyContext.el.dom.offsetHeight,false)},publishInnerHeight:function(i,k){var h=k-i.getFrameInfo().height,j=i.targetContext;if(j!==i){h-=i.getPaddingInfo().height}return i.bodyContext.setHeight(h,!i.heightModel.natural)},publishInnerWidth:function(h,i){var k=i-h.getFrameInfo().width,j=h.targetContext;if(j!==h){k-=h.getPaddingInfo().width}h.bodyContext.setWidth(k,!h.widthModel.natural)}},0,0,0,0,["layout.body"],0,[Ext.layout.component,"Body"],0));(Ext.cmd.derive("Ext.layout.component.FieldSet",Ext.layout.component.Body,{type:"fieldset",defaultCollapsedWidth:100,beforeLayoutCycle:function(d){if(d.target.collapsed){d.heightModel=this.sizeModels.shrinkWrap}},beginLayout:function(e){var g=this.owner.legend;Ext.layout.component.Body.prototype.beginLayout.call(this,e);if(g){e.legendContext=e.context.getCmp(g)}},beginLayoutCycle:function(h){var g=h.target,i;Ext.layout.component.Body.prototype.beginLayoutCycle.apply(this,arguments);if(g.collapsed){h.setContentHeight(0);h.restoreMinHeight=g.minHeight;delete g.minHeight;if(h.widthModel.shrinkWrap){i=this.lastComponentSize;h.setContentWidth((i&&i.contentWidth)||this.defaultCollapsedWidth)}}},finishedLayout:function(g){var i=this.owner,h=g.restoreMinHeight;Ext.layout.component.Body.prototype.finishedLayout.apply(this,arguments);if(h){i.minHeight=h}},calculateOwnerWidthFromContentWidth:function(g,i){var h=g.legendContext;if(h){i=Math.max(i,h.getProp("width"))}return Ext.layout.component.Body.prototype.calculateOwnerWidthFromContentWidth.call(this,g,i)},calculateOwnerHeightFromContentHeight:function(h,i){var k=h.getBorderInfo(),j=h.legendContext;return h.getProp("contentHeight")+h.getPaddingInfo().height+(Ext.isIE8?h.bodyContext.getPaddingInfo().top:0)+(j?j.getProp("height"):k.top)+k.bottom},publishInnerHeight:function(h,k){var i=h.legendContext,j=0;if(i){j=i.getProp("height")}if(j===undefined){this.done=false}else{Ext.layout.component.Body.prototype.publishInnerHeight.call(this,h,k-j)}},getLayoutItems:function(){var d=this.owner.legend;return d?[d]:[]}},0,0,0,0,["layout.fieldset"],0,[Ext.layout.component,"FieldSet"],0));(Ext.cmd.derive("Ext.layout.container.Absolute",Ext.layout.container.Anchor,{alternateClassName:"Ext.layout.AbsoluteLayout",targetCls:"x-abs-layout-ct",itemCls:"x-abs-layout-item",ignoreOnContentChange:true,type:"absolute",adjustWidthAnchor:function(i,j){var h=this.targetPadding,k=j.getStyle("left");return i-k+h.left},adjustHeightAnchor:function(j,k){var i=this.targetPadding,h=k.getStyle("top");return j-h+i.top},isItemLayoutRoot:function(d){return this.ignoreOnContentChange||Ext.layout.container.Anchor.prototype.isItemLayoutRoot.apply(this,arguments)},isItemShrinkWrap:function(d){return true},beginLayout:function(h){var i=this,g=i.getTarget();Ext.layout.container.Anchor.prototype.beginLayout.apply(this,arguments);if(g.dom!==document.body){g.position()}i.targetPadding=h.targetContext.getPaddingInfo()},isItemBoxParent:function(d){return true},onContentChange:function(){if(this.ignoreOnContentChange){return false}return Ext.layout.container.Anchor.prototype.onContentChange.apply(this,arguments)},calculateContentSize:function(F,H){var i=this,M=(H||0)|((F.widthModel.shrinkWrap?1:0)|(F.heightModel.shrinkWrap?2:0)),N=(M&1)||undefined,J=(M&2)||undefined,O=F.childItems,K=O.length,A=0,C=0,G=0,L=F.props,y,I,E,D,z,P,B;if(N){if(isNaN(L.contentWidth)){++G}else{N=undefined}}if(J){if(isNaN(L.contentHeight)){++G}else{J=undefined}}if(G){for(z=0;z<K;++z){E=O[z];I=E.target;D=J&&E.getProp("height");B=N&&E.getProp("width");P=E.getMarginInfo();D+=P.bottom;B+=P.right;A=Math.max(A,(I.y||0)+D);C=Math.max(C,(I.x||0)+B);if(isNaN(A)&&isNaN(C)){i.done=false;return}}if(N||J){y=F.targetContext.getPaddingInfo()}if(N&&!F.setContentWidth(C+y.width)){i.done=false}if(J&&!F.setContentHeight(A+y.height)){i.done=false}}}},0,0,0,0,["layout.absolute"],0,[Ext.layout.container,"Absolute",Ext.layout,"AbsoluteLayout"],0));(Ext.cmd.derive("Ext.layout.container.Accordion",Ext.layout.container.VBox,{type:"accordion",alternateClassName:"Ext.layout.AccordionLayout",targetCls:"x-accordion-layout-ct",itemCls:["x-box-item","x-accordion-item"],align:"stretch",enableSplitters:false,fill:true,titleCollapse:true,hideCollapseTool:false,collapseFirst:undefined,animate:true,activeOnTop:false,multi:false,wrapOver:true,panelCollapseMode:"header",defaultAnimatePolicy:{y:true,height:true},constructor:function(){var d=this;Ext.layout.container.VBox.prototype.constructor.apply(this,arguments);if(d.animate){d.animatePolicy={};d.animatePolicy[d.names.x]=true;d.animatePolicy[d.names.width]=true}else{d.animatePolicy=null}},beforeRenderItems:function(r){var q=this,s=r.length,w=q.owner,p=q.collapseFirst,x=Ext.isDefined(p),i=q.getExpanded(true)[0],t=q.multi,u,v;for(v=0;v<s;v++){u=r[v];if(!u.rendered){u.isAccordionPanel=true;u.bodyAriaRole="tabpanel";u.accordionWrapOver=q.wrapOver;if(!t||u.collapsible!==false){u.collapsible=true}if(u.collapsible){if(x){u.collapseFirst=p}if(q.hideCollapseTool){u.hideCollapseTool=q.hideCollapseTool;u.titleCollapse=true}else{if(q.titleCollapse&&u.titleCollapse===undefined){u.titleCollapse=q.titleCollapse}}}u.hideHeader=u.width=null;u.title=u.title||"&#160;";u.addBodyCls("x-accordion-body");if(!t){if(i){u.collapsed=i!==u}else{if(u.hasOwnProperty("collapsed")&&u.collapsed===false){i=u}else{u.collapsed=true}}w.mon(u,"show",q.onComponentShow,q)}u.headerOverCls="x-accordion-hd-over"}}if(!q.processing&&!t){if(!i){if(s){r[0].collapsed=false}}else{if(q.activeOnTop){i.collapsed=false;q.configureItem(i);if(w.items.indexOf(i)>0){w.insert(0,i)}}}}},getItemsRenderTree:function(d){this.beforeRenderItems(d);return Ext.layout.container.VBox.prototype.getItemsRenderTree.apply(this,arguments)},renderItems:function(g,e){this.beforeRenderItems(g);Ext.layout.container.VBox.prototype.renderItems.apply(this,arguments)},configureItem:function(d){Ext.layout.container.VBox.prototype.configureItem.apply(this,arguments);d.ignoreHeaderBorderManagement=true;d.animCollapse=false;if(this.fill){d.flex=1}},beginLayout:function(d){Ext.layout.container.VBox.prototype.beginLayout.apply(this,arguments);this.innerCt.dom.setAttribute("role","tablist");this.innerCt.dom.setAttribute("aria-multiselectable",true);this.updatePanelClasses(d)},updatePanelClasses:function(m){var p=m.visibleItems,n=p.length,r=true,q,i,l;for(q=0;q<n;q++){i=p[q];l=i.header;l.addCls("x-accordion-hd");if(r){l.removeCls("x-accordion-hd-sibling-expanded")}else{l.addCls("x-accordion-hd-sibling-expanded")}if(q+1===n&&i.collapsed){l.addCls("x-accordion-hd-last-collapsed")}else{l.removeCls("x-accordion-hd-last-collapsed")}r=i.collapsed}},onBeforeComponentExpand:function(l){var q=this,t=q.owner,m=q.multi,n=!m&&!q.animate&&q.activeOnTop,r,s,p;if(!q.processing){q.processing=true;s=t.deferLayouts;t.deferLayouts=true;if(!m){r=q.getExpanded()[0];if(r&&r!==l){p=r.$layoutAnim;if(p){p.jumpToEnd()}r.collapse()}}if(n){Ext.suspendLayouts();t.insert(0,l);Ext.resumeLayouts()}t.deferLayouts=s;q.processing=false}},onBeforeComponentCollapse:function(l){var k=this,p=k.owner,j,m,n;if(k.owner.items.getCount()===1){return false}if(!k.processing){k.processing=true;n=p.deferLayouts;p.deferLayouts=true;j=l.next()||l.prev();if(k.multi){m=k.getExpanded();if(m.length===1){j.expand()}}else{if(j){j.expand()}}p.deferLayouts=n;k.processing=false}},onComponentShow:function(d){this.onBeforeComponentExpand(d)},onAdd:function(e){var g=this;Ext.layout.container.VBox.prototype.onAdd.apply(this,arguments);if(e.collapseMode==="placeholder"){e.collapseMode=g.panelCollapseMode}e.collapseDirection=e.headerPosition;if(g.layoutCount&&!g.multi&&g.owner.items.getCount()>1){g.processing=true;e.collapse();g.processing=false}},onRemove:function(k,h){var i=this,j;Ext.layout.container.VBox.prototype.onRemove.apply(this,arguments);if(!i.owner.destroying&&!i.multi&&!k.collapsed){j=i.owner.items.first();if(j){j.expand()}}},getExpanded:function(i){var q=this.owner.items.items,r=q.length,n=0,p=[],l,m;for(;n<r;++n){m=q[n];if(!m.hidden){if(i){l=m.hasOwnProperty("collapsed")&&m.collapsed===false}else{l=!m.collapsed}if(l){p.push(m)}}}return p},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn},1,0,0,0,["layout.accordion"],0,[Ext.layout.container,"Accordion",Ext.layout,"AccordionLayout"],0));(Ext.cmd.derive("Ext.resizer.BorderSplitter",Ext.resizer.Splitter,{collapseTarget:null,getTrackerConfig:function(){var d=Ext.resizer.Splitter.prototype.getTrackerConfig.call(this);d.xclass="Ext.resizer.BorderSplitterTracker";return d},onTargetCollapse:function(d){Ext.resizer.Splitter.prototype.onTargetCollapse.call(this,d);if(this.performCollapse!==false&&d.collapseMode=="mini"){d.addCls(d.baseCls+"-"+d.collapsedCls+"-mini")}},onTargetExpand:function(d){Ext.resizer.Splitter.prototype.onTargetExpand.call(this,d);if(this.performCollapse!==false&&d.collapseMode=="mini"){d.removeCls(d.baseCls+"-"+d.collapsedCls+"-mini")}}},0,["bordersplitter"],["component","box","splitter","bordersplitter"],{component:true,box:true,splitter:true,bordersplitter:true},["widget.bordersplitter"],0,[Ext.resizer,"BorderSplitter"],0));(Ext.cmd.derive("Ext.layout.container.Border",Ext.layout.container.Container,{alternateClassName:"Ext.layout.BorderLayout",targetCls:"x-border-layout-ct",itemCls:["x-border-item","x-box-item"],type:"border",isBorderLayout:true,padding:undefined,percentageRe:/(\d+)%/,horzPositionProp:"left",padOnContainerProp:"left",padNotOnContainerProp:"right",axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:true,posProp:"x",sizeProp:"width",sizePropCap:"Width"},vert:{borderBegin:"north",borderEnd:"south",horizontal:false,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,manageMargins:true,panelCollapseAnimate:true,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(J,S,i){var B=this,R=B.axisProps[i],E=!R.horizontal,K=R.sizeProp,G=0,T=J.childItems,O=T.length,C,F,H,N,D,P,L,I,Q,A,M;for(F=0;F<O;++F){H=T[F];D=H.target;H.layoutPos={};if(D.region){H.region=P=D.region;H.isCenter=D.isCenter;H.isHorz=D.isHorz;H.isVert=D.isVert;H.weight=D.weight||B.regionWeights[P]||0;D.weight=H.weight;S[D.id]=H;if(D.isCenter){C=H;N=D.flex;J.centerRegion=C;continue}if(E!==H.isVert){continue}H.reverseWeighting=(P===R.borderEnd);I=D[K];Q=typeof I;if(!D.collapsed){if(Q==="string"&&(L=B.percentageRe.exec(I))){H.percentage=parseInt(L[1],10)}else{if(D.flex){G+=H.flex=D.flex}}}}}if(C){A=C.target;if((M=A.placeholderFor)){if(!N&&E===M.collapsedVertical()){N=0;C.collapseAxis=i}}else{if(A.collapsed&&(E===A.collapsedVertical())){N=0;C.collapseAxis=i}}}if(N==null){N=1}G+=N;return Ext.apply({before:E?"top":"left",totalFlex:G},R)},beginLayout:function(C){var w=this,x=w.getLayoutItems(),B=w.padding,v=typeof B,H=false,G,i,E,z,A,F,D,y,u;if(B){if(v==="string"||v==="number"){B=Ext.util.Format.parseBox(B)}}else{B=C.getEl("getTargetEl").getPaddingInfo();H=true}C.outerPad=B;C.padOnContainer=H;for(z=0,E=x.length;z<E;++z){i=x[z];F=w.getSplitterTarget(i);if(F){D=undefined;y=!!i.hidden;if(!F.split){if(F.isCollapsingOrExpanding){D=!!F.collapsed}}else{if(y!==F.hidden){D=!F.hidden}}if(D){i.show()}else{if(D===false){i.hide()}}}}Ext.layout.container.Container.prototype.beginLayout.apply(this,arguments);x=C.childItems;E=x.length;A={};C.borderAxisHorz=w.beginAxis(C,A,"horz");C.borderAxisVert=w.beginAxis(C,A,"vert");for(z=0;z<E;++z){G=x[z];F=w.getSplitterTarget(G.target);if(F){u=A[F.id];if(!u){u=C.getEl(F.el,w);u.region=F.region}G.collapseTarget=F=u;G.weight=F.weight;G.reverseWeighting=F.reverseWeighting;F.splitter=G;G.isHorz=F.isHorz;G.isVert=F.isVert}}w.sortWeightedItems(x,"reverseWeighting");w.setupSplitterNeighbors(x)},calculate:function(C){var v=this,F=v.getContainerSize(C),y=C.childItems,D=y.length,E=C.borderAxisHorz,x=C.borderAxisVert,B=C.outerPad,i=C.padOnContainer,z,G,w,H,u,A;E.begin=B[v.padOnContainerProp];x.begin=B.top;u=E.end=E.flexSpace=F.width+(i?B[v.padOnContainerProp]:-B[v.padNotOnContainerProp]);A=x.end=x.flexSpace=F.height+(i?B.top:-B.bottom);for(z=0;z<D;++z){G=y[z];w=G.getMarginInfo();if(G.isHorz||G.isCenter){E.addUnflexed(w.width);u-=w.width}if(G.isVert||G.isCenter){x.addUnflexed(w.height);A-=w.height}if(!G.flex&&!G.percentage){if(G.isHorz||(G.isCenter&&G.collapseAxis==="horz")){H=G.getProp("width");E.addUnflexed(H);if(G.collapseTarget){u-=H}}else{if(G.isVert||(G.isCenter&&G.collapseAxis==="vert")){H=G.getProp("height");x.addUnflexed(H);if(G.collapseTarget){A-=H}}}}}for(z=0;z<D;++z){G=y[z];w=G.getMarginInfo();if(G.percentage){if(G.isHorz){H=Math.ceil(u*G.percentage/100);H=G.setWidth(H);E.addUnflexed(H)}else{if(G.isVert){H=Math.ceil(A*G.percentage/100);H=G.setHeight(H);x.addUnflexed(H)}}}}for(z=0;z<D;++z){G=y[z];if(!G.isCenter){v.calculateChildAxis(G,E);v.calculateChildAxis(G,x)}}if(v.finishAxis(C,x)+v.finishAxis(C,E)<2){v.done=false}else{v.finishPositions(y)}},calculateChildAxis:function(p,x){var z=p.collapseTarget,t="set"+x.sizePropCap,v=x.sizeProp,w=p.getMarginInfo()[v],r,y,u,s,q;if(z){r=z.region}else{r=p.region;u=p.flex}y=r===x.borderBegin;if(!y&&r!==x.borderEnd){p[t](x.end-x.begin-w);s=x.begin}else{if(u){q=Math.ceil(x.flexSpace*(u/x.totalFlex));q=p[t](q)}else{if(p.percentage){q=p.peek(v)}else{q=p.getProp(v)}}q+=w;if(y){s=x.begin;x.begin+=q}else{x.end=s=x.end-q}}p.layoutPos[x.posProp]=s},eachItem:function(i,n,p){var l=this,r=l.getLayoutItems(),q=0,m;if(Ext.isFunction(i)){n=i;p=n}for(q;q<r.length;q++){m=r[q];if(!i||m.region===i){if(n.call(p,m)===false){break}}}},finishAxis:function(h,i){var j=i.end-i.begin,k=h.centerRegion;if(k){k["set"+i.sizePropCap](j-k.getMarginInfo()[i.sizeProp]);k.layoutPos[i.posProp]=i.begin}return Ext.isNumber(j)?1:0},finishPositions:function(i){var k=i.length,l,m,j=this.horzPositionProp;for(l=0;l<k;++l){m=i[l];m.setProp("x",m.layoutPos.x+m.marginInfo[j]);m.setProp("y",m.layoutPos.y+m.marginInfo.top)}},getLayoutItems:function(){var r=this.owner,m=(r&&r.items&&r.items.items)||[],n=m.length,q=[],p=0,l,i;for(;p<n;p++){l=m[p];i=l.placeholderFor;if(l.hidden||((!l.floated||l.isCollapsingOrExpanding===2)&&!(i&&i.isCollapsingOrExpanding===2))){q.push(l)}}return q},getPlaceholder:function(d){return d.getPlaceholder&&d.getPlaceholder()},getMaxWeight:function(d){return this.getMinMaxWeight(d)},getMinWeight:function(d){return this.getMinMaxWeight(d,true)},getMinMaxWeight:function(h,k){var j=this,i=null;j.eachItem(h,function(c){if(c.hasOwnProperty("weight")){if(i===null){i=c.weight;return}if((k&&c.weight<i)||c.weight>i){i=c.weight}}},this);return i},getSplitterTarget:function(e){var g=e.collapseTarget;if(g&&g.collapsed){return g.placeholder||g}return g},isItemBoxParent:function(d){return true},isItemShrinkWrap:function(d){return true},insertSplitter:function(n,p,l,q){var k=n.region,m=Ext.apply({xtype:"bordersplitter",collapseTarget:n,id:n.id+"-splitter",hidden:l,canResize:n.splitterResize!==false,splitterFor:n,synthetic:true},q),r=p+((k==="south"||k==="east")?0:1);if(n.collapseMode==="mini"){m.collapsedCls=n.collapsedCls}n.splitter=this.owner.add(r,m)},getMoveAfterIndex:function(e){var g=Ext.layout.container.Container.prototype.getMoveAfterIndex.apply(this,arguments);if(e.splitter){g++}return g},moveItemBefore:function(i,g){var h;if(g&&g.splitter){h=g.region;if(h==="south"||h==="east"){g=g.splitter}}return Ext.layout.container.Container.prototype.moveItemBefore.call(this,i,g)},onAdd:function(m,s){var q=this,t=m.placeholderFor,n=m.region,r,p,v,u;Ext.layout.container.Container.prototype.onAdd.apply(this,arguments);if(n){Ext.apply(m,q.regionFlags[n]);if(q.owner.isViewport){m.isViewportBorderChild=true}if(m.initBorderRegion){m.initBorderRegion()}r=n==="center";if(r){q.centerRegion=m}else{p=m.split;v=!!m.hidden;if(typeof p==="object"){u=p;p=true}if((m.isHorz||m.isVert)&&(p||m.collapseMode==="mini")){q.insertSplitter(m,s,v||!p,u)}}if(!r&&!m.hasOwnProperty("collapseMode")){m.collapseMode=q.panelCollapseMode}if(!m.hasOwnProperty("animCollapse")){if(m.collapseMode!=="placeholder"){m.animCollapse=false}else{m.animCollapse=q.panelCollapseAnimate}}}else{if(t){Ext.apply(m,q.regionFlags[t.region]);m.region=t.region;m.weight=t.weight}}},onDestroy:function(){this.centerRegion=null;Ext.layout.container.Container.prototype.onDestroy.call(this)},onRemove:function(s,q){var p=this,l=s.region,n=s.splitter,t=p.owner,m=t.destroying,r;if(l){if(s.isCenter){p.centerRegion=null}delete s.isCenter;delete s.isHorz;delete s.isVert;if(n&&!t.destroying){t.doRemove(n,true)}delete s.splitter}Ext.layout.container.Container.prototype.onRemove.apply(this,arguments);if(!m&&!q&&s.rendered){r=s.getEl();if(r){r.setStyle("top","");r.setStyle(p.horzPositionProp,"")}}},regionMeta:{center:{splitterDelta:0},north:{splitterDelta:1},south:{splitterDelta:-1},west:{splitterDelta:1},east:{splitterDelta:-1}},regionFlags:{center:{isCenter:true,isHorz:false,isVert:false},north:{isCenter:false,isHorz:false,isVert:true,collapseDirection:"top"},south:{isCenter:false,isHorz:false,isVert:true,collapseDirection:"bottom"},west:{isCenter:false,isHorz:true,isVert:false,collapseDirection:"left"},east:{isCenter:false,isHorz:true,isVert:false,collapseDirection:"right"}},setupSplitterNeighbors:function(t){var D={},y=t.length,i=this.touchedRegions,w,x,C,u,z,v,j,B,A;for(w=0;w<y;++w){v=t[w].target;j=v.region;if(v.isCenter){C=v}else{if(j){A=i[j];for(x=0,u=A.length;x<u;++x){z=D[A[x]];if(z){z.neighbors.push(v)}}if(v.placeholderFor){B=v.placeholderFor.splitter}else{B=v.splitter}if(B){B.neighbors=[]}D[j]=B}}}if(C){A=i.center;for(x=0,u=A.length;x<u;++x){z=D[A[x]];if(z){z.neighbors.push(C)}}}},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south","east","west"],east:["east","north","south"],west:["west","north","south"]},sizePolicies:{vert:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},horz:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},flexAll:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(m){var n=this,r=this.sizePolicies,p,q,l,k;if(m.isCenter){k=m.placeholderFor;if(k){if(k.collapsedVertical()){return r.vert}return r.horz}if(m.collapsed){if(m.collapsedVertical()){return r.vert}return r.horz}return r.flexAll}p=m.collapseTarget;if(p){return p.isVert?r.vert:r.horz}if(m.region){if(m.isVert){q=m.height;l=r.vert}else{q=m.width;l=r.horz}if(m.flex||(typeof q==="string"&&n.percentageRe.test(q))){return r.flexAll}return l}return n.autoSizePolicy}},0,0,0,0,["layout.border"],0,[Ext.layout.container,"Border",Ext.layout,"BorderLayout"],function(){var g={addUnflexed:function(c){this.flexSpace=Math.max(this.flexSpace-c,0)}},e=this.prototype.axisProps;Ext.apply(e.horz,g);Ext.apply(e.vert,g)}));(Ext.cmd.derive("Ext.layout.container.Card",Ext.layout.container.Fit,{alternateClassName:"Ext.layout.CardLayout",type:"card",hideInactive:true,deferredRender:false,getRenderTree:function(){var g=this,e=g.getActiveItem();if(e){if(e.hasListeners.beforeactivate&&e.fireEvent("beforeactivate",e)===false){e=g.activeItem=g.owner.activeItem=null}else{if(e.hasListeners.activate){e.on({boxready:function(){e.fireEvent("activate",e)},single:true})}}if(g.deferredRender){if(e){return g.getItemsRenderTree([e])}}else{return Ext.layout.container.Fit.prototype.getRenderTree.apply(this,arguments)}}},renderChildren:function(){var g=this,e=g.getActiveItem();if(!g.deferredRender){Ext.layout.container.Fit.prototype.renderChildren.call(this)}else{if(e){g.renderItems([e],g.getRenderTarget())}}},isValidParent:function(i,h,k){var j=i.el?i.el.dom:Ext.getDom(i);return(j&&j.parentNode===(h.dom||h))||false},getActiveItem:function(){var g=this,h=g.activeItem===undefined?(g.owner&&g.owner.activeItem):g.activeItem,i=g.parseActiveItem(h);if(i&&g.owner.items.indexOf(i)!==-1){g.activeItem=i}return i==null?null:(g.activeItem||g.owner.activeItem)},parseActiveItem:function(g){var e;if(g&&g.isComponent){e=g}else{if(typeof g==="number"||g===undefined){e=this.getLayoutItems()[g||0]}else{if(g===null){e=null}else{e=this.owner.getComponent(g)}}}return e},configureItem:function(d){d.setHiddenState(d!==this.getActiveItem());Ext.layout.container.Fit.prototype.configureItem.apply(this,arguments)},onAdd:function(g,e){Ext.layout.container.Fit.prototype.onAdd.call(this,g,e);this.setItemHideMode(g)},onRemove:function(g){var e=this;Ext.layout.container.Fit.prototype.onRemove.call(this,g);e.resetItemHideMode(g);if(g===e.activeItem){e.activeItem=undefined}},getAnimation:function(h,i){var g=(h||{}).cardSwitchAnimation;if(g===false){return false}return g||i.cardSwitchAnimation},getNext:function(){var g=arguments[0],i=this.getLayoutItems(),h=Ext.Array.indexOf(i,this.activeItem);return i[h+1]||(g?i[0]:false)},next:function(){var e=arguments[0],g=arguments[1];return this.setActiveItem(this.getNext(g),e)},getPrev:function(){var g=arguments[0],i=this.getLayoutItems(),h=Ext.Array.indexOf(i,this.activeItem);return i[h-1]||(g?i[i.length-1]:false)},prev:function(){var e=arguments[0],g=arguments[1];return this.setActiveItem(this.getPrev(g),e)},setActiveItem:function(q){var m=this,r=m.owner,n=m.activeItem,k=r.rendered,p,l;q=m.parseActiveItem(q);p=r.items.indexOf(q);if(p===-1){p=r.items.items.length;Ext.suspendLayouts();q=r.add(q);Ext.resumeLayouts()}if(q&&n!==q){if(q.fireEvent("beforeactivate",q,n)===false){return false}if(n&&n.fireEvent("beforedeactivate",n,q)===false){return false}if(k){Ext.suspendLayouts();if(!q.rendered){m.renderItem(q,m.getRenderTarget(),r.items.length)}if(n){if(m.hideInactive){l=n.el.contains(Ext.Element.getActiveElement());n.hide();if(n.hidden){n.hiddenByLayout=true;n.fireEvent("deactivate",n,q)}else{return false}}}if(q.hidden){q.show()}if(q.hidden){m.activeItem=q=null}else{m.activeItem=q;if(l){if(!q.defaultFocus){q.defaultFocus=":focusable"}q.focus()}}Ext.resumeLayouts(true)}else{m.activeItem=q}q.fireEvent("activate",q,n);return m.activeItem}return false},resetItemHideMode:function(d){d.hideMode=d.originalHideMode;delete d.originalHideMode},setItemHideMode:function(d){d.originalHideMode=d.hideMode;d.hideMode="offsets"}},0,0,0,0,["layout.card"],0,[Ext.layout.container,"Card",Ext.layout,"CardLayout"],0));(Ext.cmd.derive("Ext.layout.container.Center",Ext.layout.container.Fit,{alternateClassName:"Ext.ux.layout.Center",type:"center",percentRe:/^\d+(?:\.\d+)?\%$/,itemCls:"x-center-layout-item",childEls:["targetEl"],renderTpl:['<div id="{ownerId}-targetEl" data-ref="targetEl" class="{targetElCls}" role="presentation">{%this.renderBody(out, values)%}</div>'],targetElCls:"x-center-target",beginLayout:function(w){var p=this,v=p.percentRe,s,q,u,x,i,r,t;Ext.layout.container.Fit.prototype.beginLayout.call(this,w);s=w.childItems;for(u=0,q=s.length;u<q;++u){x=s[u];i=x.target;r=x.widthModel;t=x.heightModel;if(v.test(i.width)){i.getEl().setStyle("width","")}if(v.test(i.height)){i.getEl().setStyle("height","")}}w.targetElContext=w.getEl("targetEl",p)},beginLayoutCycle:function(h,i){var g=this.targetEl;Ext.layout.container.Fit.prototype.beginLayoutCycle.call(this,h,i);g.setStyle("width","");g.setStyle("height","")},getRenderData:function(){var d=Ext.layout.container.Fit.prototype.getRenderData.call(this);d.targetElCls=this.targetElCls;return d},getRenderTarget:function(){return this.targetEl},getItemSizePolicy:function(m,k){var n=this,p=k||n.owner.getSizeModel(),l=n.percentRe,j=((p.width.shrinkWrap||!l.test(m.width))?0:1)|((p.height.shrinkWrap||!l.test(m.height))?0:2);return n.sizePolicies[j]},isItemBoxParent:function(d){return true},isItemShrinkWrap:function(d){return true},calculate:function(h){var i=h.targetElContext,g;Ext.layout.container.Fit.prototype.calculate.call(this,h);g=h.state.info;if(h.widthModel.shrinkWrap){i.setWidth(g.contentWidth)}if(h.heightModel.shrinkWrap){i.setHeight(g.contentHeight)}},getPos:function(m,k,l){var p=l+"Model",n=m.props[l],j=0;if(!m[p].calculated){n+=k.margins[l]}if(!k.ownerContext[p].shrinkWrap){j=Math.round((k.targetSize[l]-n)/2);if(isNaN(j)){this.done=false}}return Math.max(j,0)},positionItemX:function(i,g){var h=this.getPos(i,g,"width");i.setProp("x",h)},positionItemY:function(i,g){var h=this.getPos(i,g,"height");i.setProp("y",h)},setItemHeight:function(h,g){var i=parseFloat(h.target.height)/100;h.setHeight(Math.round((g.targetSize.height-g.margins.height)*i))},setItemWidth:function(h,g){var i=parseFloat(h.target.width)/100;h.setWidth(Math.round((g.targetSize.width-g.margins.width)*i))}},0,0,0,0,["layout.center","layout.ux.center"],0,[Ext.layout.container,"Center",Ext.ux.layout,"Center"],0));(Ext.cmd.derive("Ext.menu.DatePicker",Ext.menu.Menu,{ariaRole:"dialog",ariaLabel:"Date picker",hideOnClick:true,pickerId:null,enableFocusableContainer:false,initComponent:function(){var g=this,i,h;if(g.pickerCfg){h=Ext.apply({cls:"x-menu-date-item",margin:0,border:false,id:g.pickerId,xtype:"datepicker"},g.pickerCfg)}else{i=Ext.apply({},g.initialConfig);delete i.listeners;h=Ext.applyIf({cls:"x-menu-date-item",margin:0,border:false,id:g.pickerId,xtype:"datepicker"},i)}Ext.apply(g,{showSeparator:false,plain:true,bodyPadding:0,items:[h]});Ext.menu.Menu.prototype.initComponent.call(this);g.picker=g.down("datepicker");g.relayEvents(g.picker,["select"]);if(g.hideOnClick){g.on("select",g.hidePickerOnSelect,g)}},onEscapeKey:function(d){if(this.floating&&this.ownerCmp&&this.ownerCmp.focus){this.ownerCmp.focus()}},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}},0,["datemenu"],["component","box","container","panel","menu","datemenu"],{component:true,box:true,container:true,panel:true,menu:true,datemenu:true},["widget.datemenu"],0,[Ext.menu,"DatePicker"],0));(Ext.cmd.derive("Ext.plugin.Manager",Ext.Base,{alternateClassName:["Ext.PluginManager","Ext.PluginMgr"],singleton:true,typeName:"ptype",create:function(l,i,j){var m,k;if(l.init){m=l}else{if(j){l=Ext.apply({},l);l.cmp=j}else{j=l.cmp}if(l.xclass){m=Ext.create(l)}else{k="plugin."+(l.ptype||i);m=Ext.ClassManager.instantiateByAlias(k,l)}}if(m&&j&&m.setCmp&&!m.setCmpCalled){m.setCmp(j);m.setCmpCalled=true}return m}},0,0,0,0,0,0,[Ext.plugin,"Manager",Ext,"PluginManager",Ext,"PluginMgr"],0));(Ext.cmd.derive("Ext.resizer.BorderSplitterTracker",Ext.resizer.SplitterTracker,{getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var K=this,Z=K.splitter,L=Z.collapseTarget,W=Z.defaultSplitMin,T=Z.vertical?"Width":"Height",X="min"+T,D="max"+T,S="get"+T,E=Z.neighbors,V=E.length,N=L.el.getBox(),U=N.x,J=N.y,M=N.right,R=N.bottom,H=Z.vertical?(M-U):(R-J),P,Q,G,O,i,F,I,Y;O=(L[X]||Math.min(H,W))-H;i=L[D];if(!i){i=1000000000}else{i-=H}Y=H;for(P=0;P<V;++P){Q=E[P];H=Q[S]();G=Q[D];if(G===null){G=undefined}F=H-G;I=H-(Q[X]||Math.min(H,W));if(!isNaN(F)){if(O<F){O=F}}if(i>I){i=I}}if(i-O<2){return null}N=new Ext.util.Region(J,M,R,U);K.constraintAdjusters[K.getCollapseDirection()](N,O,i,Z);K.dragInfo={minRange:O,maxRange:i,targetSize:Y};return N},constraintAdjusters:{left:function(i,k,j,h){i[0]=i.x=i.left=i.right+k;i.right+=j+h.getWidth()},top:function(i,k,j,h){i[1]=i.y=i.top=i.bottom+k;i.bottom+=j+h.getHeight()},bottom:function(i,k,j,h){i.bottom=i.top-k;i.top-=j+h.getHeight()},right:function(i,k,j,h){i.right=i.left-k;i[0]=i.x=i.left=i.x-j+h.getWidth()}},onBeforeStart:function(e){var p=this,n=p.splitter,q=n.collapseTarget,s=n.neighbors,r=s.length,t,i;if(q.collapsed){return false}for(t=0;t<r;++t){i=s[t];if(i.collapsed&&i.isHorz===q.isHorz){return false}}if(!(p.constrainTo=p.calculateConstrainRegion())){return false}return true},performResize:function(q,r){var p=this,w=p.splitter,s=w.getCollapseDirection(),x=w.collapseTarget,t=p.splitAdjusters[w.vertical?"horz":"vert"],e=r[t.index],u=p.dragInfo,v;if(s==="right"||s==="bottom"){e=-e}e=Math.min(Math.max(u.minRange,e),u.maxRange);if(e){(v=w.ownerCt).suspendLayouts();t.adjustTarget(x,u.targetSize,e);v.resumeLayouts(true)}},splitAdjusters:{horz:{index:0,adjustTarget:function(h,i,g){h.flex=null;h.setSize(i+g)}},vert:{index:1,adjustTarget:function(h,i,g){h.flex=null;h.setSize(undefined,i+g)}}},getCollapseDirection:function(){return this.splitter.getCollapseDirection()}},0,0,0,0,0,0,[Ext.resizer,"BorderSplitterTracker"],0));(Ext.cmd.derive("Ext.resizer.ResizeTracker",Ext.dd.DragTracker,{dynamic:true,preserveRatio:false,constrainTo:null,proxyCls:"x-resizable-proxy",constructor:function(l){var j=this,k,m,i;if(!l.el){if(l.target.isComponent){j.el=l.target.getEl()}else{j.el=l.target}}Ext.dd.DragTracker.prototype.constructor.apply(this,arguments);if(j.preserveRatio&&j.minWidth&&j.minHeight){k=j.minWidth/j.el.getWidth();m=j.minHeight/j.el.getHeight();if(m>k){j.minWidth=j.el.getWidth()*m}else{j.minHeight=j.el.getHeight()*k}}if(j.throttle){i=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(j,arguments)},j.throttle);j.resize=function(d,c,e){if(e){Ext.resizer.ResizeTracker.prototype.resize.apply(j,arguments)}else{i.apply(null,arguments)}}}},onBeforeStart:function(d){this.startBox=this.target.getBox()},getProxy:function(){var d=this;if(!d.dynamic&&!d.proxy){d.proxy=d.createProxy(d.target||d.el);d.hideProxy=true}if(d.proxy){d.proxy.show();return d.proxy}},createProxy:function(g){var h,i=this.proxyCls;if(g.isComponent){h=g.getProxy().addCls(i)}else{h=g.createProxy({tag:"div",role:"presentation",cls:i,id:g.id+"-rzproxy"},Ext.getBody())}h.removeCls("x-proxy-el");return h},onStart:function(d){this.activeResizeHandle=Ext.get(this.getDragTarget().id);if(!this.dynamic){this.resize(this.startBox)}},onMouseDown:function(h,i){var e=Ext.fly(i.parentNode);Ext.dd.DragTracker.prototype.onMouseDown.apply(this,arguments);if(e&&e.shim){e.maskIframes()}},onMouseUp:function(g){var e=Ext.fly(this.dragTarget.parentNode);Ext.dd.DragTracker.prototype.onMouseUp.apply(this,arguments);if(e&&e.shim){e.unmaskIframes()}},onDrag:function(d){if(this.dynamic||this.proxy){this.updateDimensions(d)}},updateDimensions:function(B,F){var A=this,N=A.activeResizeHandle.region,L=A.getOffset(A.constrainTo?"dragTarget":null),H=A.startBox,K,D=0,z=0,I,C,P=0,e=0,y,J,O,M,E,G;N=A.convertRegionName(N);switch(N){case"south":z=L[1];O=2;break;case"north":z=-L[1];e=-z;O=2;break;case"east":D=L[0];O=1;break;case"west":D=-L[0];P=-D;O=1;break;case"northeast":z=-L[1];e=-z;D=L[0];J=[H.x,H.y+H.height];O=3;break;case"southeast":z=L[1];D=L[0];J=[H.x,H.y];O=3;break;case"southwest":D=-L[0];P=-D;z=L[1];J=[H.x+H.width,H.y];O=3;break;case"northwest":z=-L[1];e=-z;D=-L[0];P=-D;J=[H.x+H.width,H.y+H.height];O=3;break}M={width:H.width+D,height:H.height+z,x:H.x+P,y:H.y+e};I=Ext.Number.snap(M.width,A.widthIncrement);C=Ext.Number.snap(M.height,A.heightIncrement);if(I!==M.width||C!==M.height){switch(N){case"northeast":M.y-=C-M.height;break;case"north":M.y-=C-M.height;break;case"southwest":M.x-=I-M.width;break;case"west":M.x-=I-M.width;break;case"northwest":M.x-=I-M.width;M.y-=C-M.height}M.width=I;M.height=C}if(M.width<A.minWidth||M.width>A.maxWidth){M.width=Ext.Number.constrain(M.width,A.minWidth,A.maxWidth);if(P){M.x=H.x+(H.width-M.width)}}else{A.lastX=M.x}if(M.height<A.minHeight||M.height>A.maxHeight){M.height=Ext.Number.constrain(M.height,A.minHeight,A.maxHeight);if(e){M.y=H.y+(H.height-M.height)}}else{A.lastY=M.y}if(A.preserveRatio||B.shiftKey){K=A.startBox.width/A.startBox.height;E=Math.min(Math.max(A.minHeight,M.width/K),A.maxHeight);G=Math.min(Math.max(A.minWidth,M.height*K),A.maxWidth);if(O===1){M.height=E}else{if(O===2){M.width=G}else{y=Math.abs(J[0]-this.lastXY[0])/Math.abs(J[1]-this.lastXY[1]);if(y>K){M.height=E}else{M.width=G}if(N==="northeast"){M.y=H.y-(M.height-H.height)}else{if(N==="northwest"){M.y=H.y-(M.height-H.height);M.x=H.x-(M.width-H.width)}else{if(N==="southwest"){M.x=H.x-(M.width-H.width)}}}}}}A.setPosition=M.x!==A.startBox.x||M.y!==A.startBox.y;A.resize(M,F)},resize:function(j,m){var k=this,i,l=k.setPosition;if(k.dynamic||(!k.dynamic&&m)){if(l){k.target.setBox(j)}else{k.target.setSize(j.width,j.height)}}if(!m){i=k.getProxy();if(i&&i!==k.target){if(l||k.hideProxy){i.setBox(j)}else{i.setSize(j.width,j.height)}}}},onEnd:function(d){this.updateDimensions(d,true);if(this.proxy&&this.hideProxy){this.proxy.hide()}},convertRegionName:function(d){return d}},1,0,0,0,0,0,[Ext.resizer,"ResizeTracker"],0));(Ext.cmd.derive("Ext.resizer.Resizer",Ext.Base,{alternateClassName:"Ext.Resizable",handleCls:"x-resizable-handle",overCls:"x-resizable-handle-over",pinnedCls:"x-resizable-pinned",wrapCls:"x-resizable-wrap",wrappedCls:"x-resizable-wrapped",delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:true,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:10000,maxWidth:10000,pinned:false,preserveRatio:false,transparent:false,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},ariaRole:"presentation",constructor:function(G){var y=this,K=y.handles,z=Ext.dom.Element.unselectableCls,i=[],L,F,w,I,B,D,x,H,C,E,J,A;if(Ext.isString(G)||Ext.isElement(G)||G.dom){L=G;G=arguments[1]||{};G.target=L}y.mixins.observable.constructor.call(y,G);L=y.target;if(L){if(L.isComponent){L.addClsWithUI("resizable");if(L.minWidth){y.minWidth=L.minWidth}if(L.minHeight){y.minHeight=L.minHeight}if(L.maxWidth){y.maxWidth=L.maxWidth}if(L.maxHeight){y.maxHeight=L.maxHeight}if(L.floating){if(!y.hasOwnProperty("handles")){y.handles="n ne e se s sw w nw"}}y.el=L.getEl()}else{L=y.el=y.target=Ext.get(L)}}else{L=y.target=y.el=Ext.get(y.el)}y.el.addCls(Ext.Component.prototype.borderBoxCls);if(Ext.isNumber(y.width)){y.width=Ext.Number.constrain(y.width,y.minWidth,y.maxWidth)}if(Ext.isNumber(y.height)){y.height=Ext.Number.constrain(y.height,y.minHeight,y.maxHeight)}if(y.width!==null||y.height!==null){y.target.setSize(y.width,y.height)}I=y.el.dom.tagName.toUpperCase();if(I==="TEXTAREA"||I==="IMG"||I==="TABLE"){y.originalTarget=y.target;E=L.isComponent?L.getEl():L;y.el.addCls(y.wrappedCls);y.target=y.el=y.el.wrap({role:"presentation",cls:y.wrapCls,id:y.el.id+"-rzwrap",style:E.getStyle(["margin-top","margin-bottom"])});J=E.getPositioning();y.el.setPositioning(J);E.clearPositioning();C=E.getBox();if(J.position!=="absolute"){C.x=0;C.y=0}y.el.setBox(C);E.setStyle("position","absolute");y.isTargetWrapped=true}y.el.position();if(y.pinned){y.el.addCls(y.pinnedCls)}y.resizeTracker=new Ext.resizer.ResizeTracker({disabled:y.disabled,target:L,el:y.el,constrainTo:y.constrainTo,handleCls:y.handleCls,overCls:y.overCls,throttle:y.throttle,proxy:y.originalTarget?y.el:null,dynamic:y.originalTarget?true:y.dynamic,originalTarget:y.originalTarget,delegate:"."+y.handleCls,preserveRatio:y.preserveRatio,heightIncrement:y.heightIncrement,widthIncrement:y.widthIncrement,minHeight:y.minHeight,maxHeight:y.maxHeight,minWidth:y.minWidth,maxWidth:y.maxWidth});y.resizeTracker.on({mousedown:y.onBeforeResize,drag:y.onResize,dragend:y.onResizeEnd,scope:y});if(y.handles==="all"){y.handles="n s e w ne nw se sw"}K=y.handles=y.handles.split(y.delimiterRe);w=y.possiblePositions;B=K.length;F=y.handleCls+" "+y.handleCls+"-{0}";if(y.target.isComponent){A=y.target.baseCls;F+=" "+A+"-handle "+A+"-handle-{0}";if(Ext.supports.CSS3BorderRadius){F+=" "+A+"-handle-{0}-br"}}for(D=0;D<B;D++){if(K[D]&&w[K[D]]){x=w[K[D]];i.push('<div id="',y.el.id,"-",x,'-handle" class="',Ext.String.format(F,x)," ",z,'" unselectable="on" role="presentation"',"></div>")}}Ext.DomHelper.append(y.el,i.join(""));i.length=0;for(D=0;D<B;D++){if(K[D]&&w[K[D]]){x=w[K[D]];H=y[x]=y.el.getById(y.el.id+"-"+x+"-handle");i.push(H);H.region=x;if(y.transparent){H.setOpacity(0)}}}y.resizeTracker.handleEls=i},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(g,e){return this.fireResizeEvent("beforeresize",g,e)},onResize:function(g,e){return this.fireResizeEvent("resizedrag",g,e)},onResizeEnd:function(g,e){return this.fireResizeEvent("resize",g,e)},fireResizeEvent:function(m,j,e){var k=this,l;if(k.hasListeners[m]){l=k.el.getBox();return k.fireEvent(m,k,l.width,l.height,e)}},resizeTo:function(h,i){var g=this;g.target.setSize(h,i);g.fireEvent("resize",g,h,i,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var k=this,l,m=k.handles,p=m.length,n=k.possiblePositions,i;k.resizeTracker.destroy();if(k.isTargetWrapped){k.target.destroy()}for(l=0;l<p;l++){if((i=k[n[m[l]]])){i.destroy()}}k.callParent()}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.resizer,"Resizer",Ext,"Resizable"],0));(Ext.cmd.derive("Ext.selection.CellModel",Ext.selection.DataViewModel,{isCellModel:true,deselectOnContainerClick:false,enableKeyNav:true,preventWrap:false,bindComponent:function(i){var g=this,h;if(g.view&&g.gridListeners){g.gridListeners.destroy()}Ext.selection.DataViewModel.prototype.bindComponent.call(this,i);if(i){h=i.grid||i.ownerCt;if(h.optimizedColumnMove!==false){g.gridListeners=h.on({columnmove:g.onColumnMove,scope:g,destroyable:true})}}},getViewListeners:function(){var d=Ext.selection.DataViewModel.prototype.getViewListeners.call(this);d.refresh=this.onViewRefresh;return d},getHeaderCt:function(){var e=this.navigationModel.getPosition(),g=e?e.view:this.primaryView;return g.headerCt},onNavigate:function(d){if(!d.record||d.keyEvent.stopSelection){return}this.setPosition(d.position)},selectWithEvent:function(g,e){this.select(g)},select:function(k,m,q){var n=this,l,p=n.getPosition(),r=n.view.store;if(k||k===0){if(k.isModel){l=r.indexOf(k);if(l!==-1){k={row:l,column:p?p.column:0}}else{k=null}}else{if(typeof k==="number"){k={row:k,column:0}}}}if(k){n.selectByPosition(k,q)}else{n.deselect()}},getCurrentPosition:function(){var d=this.selecting?this.nextSelection:this.selection;return d?{view:d.view,record:d.record,row:d.rowIdx,columnHeader:d.column,column:d.view.getColumnManager().indexOf(d.column)}:d},getPosition:function(){return(this.selecting?this.nextSelection:this.selection)||null},setCurrentPosition:function(g,i,h){if(g&&!g.isCellContext){g=new Ext.grid.CellContext(this.view).setPosition({row:g.row,column:typeof g.column==="number"?this.view.getColumnManager().getColumns()[g.column]:g.column})}return this.setPosition(g,i,h)},setPosition:function(i,m,j){var k=this,l=k.selection;if(i){i=i.isCellContext?i.clone():new Ext.grid.CellContext(k.view).setPosition(i)}if(!j&&l){if(i&&(i.record===l.record&&i.column===l.column&&i.view===l.view)){i=null}else{k.onCellDeselect(k.selection,m)}}if(i){k.nextSelection=i;k.selecting=true;k.onCellSelect(k.nextSelection,m);k.selecting=false;return(k.selection=i)}},isCellSelected:function(p,k,m){var l=this,n,j=l.getPosition();if(j&&j.view===p){n=new Ext.grid.CellContext(p).setPosition({row:k,column:typeof m==="number"?p.getColumnManager().getColumns()[m]:m});return(n.record===j.record)&&(n.column===j.column)}},onStoreRemove:function(l,m,j){var k=this,i=k.getPosition();Ext.selection.DataViewModel.prototype.onStoreRemove.apply(this,arguments);if(i&&l.isMoving(i.record)){return}if(i&&l.getCount()&&l.indexOf(i.record)!==-1){i.setRow(i.record)}else{k.selection=null}},onStoreClear:function(){Ext.selection.DataViewModel.prototype.onStoreClear.apply(this,arguments);this.selection=null},onStoreAdd:function(){var g=this,e=g.getPosition();Ext.selection.DataViewModel.prototype.onStoreAdd.apply(this,arguments);if(e){e.setRow(e.record)}else{g.selection=null}},onCellClick:function(p,r,m,q,e,n,l){if(n!==-1){this.setPosition(l.position)}},onCellSelect:function(g,e){if(g&&g.rowIdx!==undefined&&g.rowIdx>-1){this.doSelect(g.record,false,e)}},onCellDeselect:function(g,e){if(g&&g.rowIdx!==undefined){this.doDeselect(g.record,e)}},onSelectChange:function(s,p,q,m){var n=this,l,r,t;if(p){l=n.nextSelection;r="select"}else{l=n.selection;r="deselect"}t=l.view||n.primaryView;if((q||n.fireEvent("before"+r,n,s,l.rowIdx,l.colIdx))!==false&&m()!==false){if(p){t.onCellSelect(l)}else{t.onCellDeselect(l);delete n.selection}if(!q){n.fireEvent(r,n,s,l.rowIdx,l.colIdx)}}},refresh:function(){var e=this.getPosition(),g;if(e&&(g=this.store.indexOf(this.selected.last()))!==-1){e.rowIdx=g}},onColumnMove:function(j,i,l,k){var m=j.up("tablepanel");if(m){this.onViewRefresh(m.view)}},onUpdate:function(i){var h=this,g;if(h.isSelected(i)){g=h.selecting?h.nextSelection:h.selection;h.view.onCellSelect(g)}},onViewRefresh:function(q){var m=this,k=m.getPosition(),p,l=q.headerCt,r,n;if(k&&k.view===q){r=k.record;n=k.column;if(!n.isDescendantOf(l)){n=l.queryById(n.id)||l.down('[text="'+n.text+'"]')||l.down('[dataIndex="'+n.dataIndex+'"]')}if(k.record){if(n&&(q.store.indexOfId(r.getId())!==-1)){p=new Ext.grid.CellContext(q).setPosition({row:r,column:n});m.setPosition(p)}}else{m.selection=null}}},selectByPosition:function(g,e){this.setPosition(g,e)}},0,0,0,0,["selection.cellmodel"],0,[Ext.selection,"CellModel"],0));(Ext.cmd.derive("Ext.selection.RowModel",Ext.selection.DataViewModel,{enableKeyNav:true,isRowModel:true,deselectOnContainerClick:false,onUpdate:function(j){var h=this,k=h.view,i;if(k&&h.isSelected(j)){i=k.indexOf(j);k.onRowSelect(i);if(j===h.lastFocused){k.onRowFocus(i,true)}}},onSelectChange:function(u,y,q,z){var s=this,i=s.views||[s.view],x=i.length,w=s.store.indexOf(u),t=y?"select":"deselect",v,r;if((q||s.fireEvent("before"+t,s,u,w))!==false&&z()!==false){for(v=0;v<x;v++){r=i[v];w=r.indexOf(u);if(r.indexOf(u)!==-1){if(y){r.onRowSelect(w,q)}else{r.onRowDeselect(w,q)}}}if(!q){s.fireEvent(t,s,u,w)}}},getCurrentPosition:function(){var d=this.selected.getAt(0);if(d){return new Ext.grid.CellContext(this.view).setPosition(this.store.indexOf(d),0)}},selectByPosition:function(g,e){if(!g.isCellContext){g=new Ext.grid.CellContext(this.view).setPosition(g.row,g.column)}this.select(g.record,e)},selectNext:function(m,r){var n=this,s=n.store,p=n.getSelection(),t=p[p.length-1],q=n.view.indexOf(t)+1,l;if(q===s.getCount()||q===0){l=false}else{n.doSelect(q,m,r);l=true}return l},selectPrevious:function(l,q){var m=this,n=m.getSelection(),r=n[0],p=m.view.indexOf(r)-1,k;if(p<0){k=false}else{m.doSelect(p,l,q);k=true}return k},isRowSelected:function(d){return this.isSelected(d)},isCellSelected:function(h,i,g){return this.isSelected(i)},vetoSelection:function(i){var j=this.view.getNavigationModel(),k=i.getKey(),e=k===i.RIGHT||k===i.LEFT;return(e&&j.previousRecord===j.record)||Ext.selection.DataViewModel.prototype.vetoSelection.call(this,i)}},0,0,0,0,["selection.rowmodel"],0,[Ext.selection,"RowModel"],0));(Ext.cmd.derive("Ext.selection.CheckboxModel",Ext.selection.RowModel,{mode:"MULTI",injectCheckbox:0,checkOnly:false,showHeaderCheckbox:undefined,checkSelector:".x-grid-row-checker",allowDeselect:true,headerWidth:24,checkerOnCls:"x-grid-hd-checker-on",tdCls:"x-grid-cell-special x-grid-cell-row-checker",constructor:function(){var d=this;Ext.selection.RowModel.prototype.constructor.apply(this,arguments);if(d.mode==="SINGLE"){d.showHeaderCheckbox=false}},beforeViewRender:function(h){var g=this,i;Ext.selection.RowModel.prototype.beforeViewRender.apply(this,arguments);if(!g.hasLockedHeader()||h.headerCt.lockedCt){g.addCheckbox(h,true);i=h.ownerCt;if(h.headerCt.lockedCt){i=i.ownerCt}g.mon(i,"reconfigure",g.onReconfigure,g)}},bindComponent:function(d){this.sortable=false;Ext.selection.RowModel.prototype.bindComponent.apply(this,arguments)},hasLockedHeader:function(){var i=this.views,g=i.length,h;for(h=0;h<g;h++){if(i[h].headerCt.lockedCt){return true}}return false},addCheckbox:function(m,l){var k=this,j=k.injectCheckbox,i=m.headerCt;if(j!==false){if(j==="first"){j=0}else{if(j==="last"){j=i.getColumnCount()}}Ext.suspendLayouts();if(m.getStore().isBufferedStore){k.showHeaderCheckbox=false}k.column=i.add(j,k.getHeaderConfig());Ext.resumeLayouts()}if(l!==true){m.refresh()}},onReconfigure:function(g,i,h){if(h){this.addCheckbox(this.views[0])}},toggleUiHeader:function(i){var l=this.views[0],j=l.headerCt,k=j.child("gridcolumn[isCheckerHd]"),m=this.checkerOnCls;if(k){if(i){k.addCls(m)}else{k.removeCls(m)}}},onHeaderClick:function(k,e,l){var m=this,j;if(e===m.column&&m.mode!=="SINGLE"){l.stopEvent();j=e.el.hasCls("x-grid-hd-checker-on");if(j){m.deselectAll()}else{m.selectAll()}}},getHeaderConfig:function(){var g=this,e=g.showHeaderCheckbox!==false;return{xtype:"gridcolumn",ignoreExport:true,isCheckerHd:e,text:"&#160;",clickTargetName:"el",width:g.headerWidth,sortable:false,draggable:false,resizable:false,hideable:false,menuDisabled:true,dataIndex:"",tdCls:g.tdCls,cls:e?"x-column-header-checkbox ":"",defaultRenderer:g.renderer.bind(g),editRenderer:g.editRenderer||g.renderEmpty,locked:g.hasLockedHeader(),processEvent:g.processColumnEvent}},processColumnEvent:function(r,p,n,u,q,s,t,e){var v=p.getNavigationModel();if(s.type==="keydown"&&p.actionableMode&&s.getKey()===s.SPACE){v.fireEvent("navigate",{view:p,navigationModel:v,keyEvent:s,position:s.position,recordIndex:u,record:t,item:s.item,cell:s.position.cellElement,columnIndex:s.position.colIdx,column:s.position.column})}},renderEmpty:function(){return"&#160;"},refresh:function(){Ext.selection.RowModel.prototype.refresh.apply(this,arguments);this.updateHeaderState()},renderer:function(l,p,q,k,m,n,r){return'<div class="x-grid-row-checker" role="button" tabIndex="0">&#160;</div>'},selectByPosition:function(g,e){if(!g.isCellContext){g=new Ext.grid.CellContext(this.view).setPosition(g.row,g.column)}if(!this.checkOnly||g.column===this.column){Ext.selection.RowModel.prototype.selectByPosition.call(this,g,e)}},onSelectChange:function(){Ext.selection.RowModel.prototype.onSelectChange.apply(this,arguments);if(!this.suspendChange){this.updateHeaderState()}},onStoreLoad:function(){Ext.selection.RowModel.prototype.onStoreLoad.apply(this,arguments);this.updateHeaderState()},onStoreAdd:function(){Ext.selection.RowModel.prototype.onStoreAdd.apply(this,arguments);this.updateHeaderState()},onStoreRemove:function(){Ext.selection.RowModel.prototype.onStoreRemove.apply(this,arguments);this.updateHeaderState()},onStoreRefresh:function(){Ext.selection.RowModel.prototype.onStoreRefresh.apply(this,arguments);this.updateHeaderState()},maybeFireSelectionChange:function(d){if(d&&!this.suspendChange){this.updateHeaderState()}Ext.selection.RowModel.prototype.maybeFireSelectionChange.apply(this,arguments)},resumeChanges:function(){Ext.selection.RowModel.prototype.resumeChanges.call(this);if(!this.suspendChange){this.updateHeaderState()}},updateHeaderState:function(){var q=this,p=q.store,r=p.getCount(),n=q.views,i=false,v=0,u,s,t;if(!p.isBufferedStore&&r>0){u=q.selected;i=true;for(t=0,s=u.getCount();t<s;++t){if(p.indexOfId(u.getAt(t).id)===-1){break}++v}i=r===v}if(n&&n.length){q.toggleUiHeader(i)}},vetoSelection:function(k){var m=this,n=m.column,p,l,e;if(m.checkOnly){l=k.type==="click"&&k.getTarget(m.checkSelector);e=k.getKey()===k.SPACE&&k.position.column===n;p=!(l||e)}return p||Ext.selection.RowModel.prototype.vetoSelection.call(this,k)},destroy:function(){this.column=null;Ext.selection.RowModel.prototype.destroy.call(this)},privates:{onBeforeNavigate:function(g){var e=g.keyEvent;if(this.selectionMode!=="SINGLE"){g.ctrlKey=g.ctrlKey||e.ctrlKey||(e.type==="click"&&!e.shiftKey)||e.getKey()===e.SPACE}},selectWithEventMulti:function(k,e,j){var i=this;if(!e.shiftKey&&!e.ctrlKey&&e.getTarget(i.checkSelector)){if(j){i.doDeselect(k)}else{i.doSelect(k,true)}}else{Ext.selection.RowModel.prototype.selectWithEventMulti.call(this,k,e,j)}}}},1,0,0,0,["selection.checkboxmodel"],0,[Ext.selection,"CheckboxModel"],0));(Ext.cmd.derive("Ext.selection.TreeModel",Ext.selection.RowModel,{selectOnExpanderClick:false,constructor:function(g){var e=this;Ext.selection.RowModel.prototype.constructor.call(this,g);if(e.pruneRemoved){e.pruneRemoved=false;e.pruneRemovedNodes=true}},getStoreListeners:function(){var e=this,g=Ext.selection.RowModel.prototype.getStoreListeners.call(this);g.noderemove=e.onNodeRemove;return g},onNodeRemove:function(i,h,k){if(!k){var j=[];this.gatherSelected(h,j);if(j.length){this.deselect(j)}}},pruneRemovedOnRefresh:function(){return this.pruneRemovedNodes},vetoSelection:function(e){var i=this.view,j=this.selectOnExpanderClick,k=!j&&e.type==="click"&&e.getTarget(i.expanderSelector||(i.lockingPartner&&i.lockingPartner.expanderSelector));return k||Ext.selection.RowModel.prototype.vetoSelection.call(this,e)},privates:{gatherSelected:function(l,m){var k=l.childNodes,n,p,i;if(this.selected.containsKey(l.id)){m.push(l)}if(k){for(n=0,p=k.length;n<p;++n){i=k[n];this.gatherSelected(i,m)}}}}},1,0,0,0,["selection.treemodel"],0,[Ext.selection,"TreeModel"],0));(Ext.cmd.derive("Ext.tab.Tab",Ext.button.Button,{isTab:true,baseCls:"x-tab",closeElOverCls:"x-tab-close-btn-over",closeElPressedCls:"x-tab-close-btn-pressed",config:{rotation:"default",tabPosition:"top"},closable:true,closeText:"Close Tab",active:false,childEls:["closeEl"],scale:false,ariaRole:"tab",tabIndex:-1,keyHandlers:{DELETE:"onDeleteKey"},_btnWrapCls:"x-tab-wrap",_btnCls:"x-tab-button",_baseIconCls:"x-tab-icon-el",_glyphCls:"x-tab-glyph",_innerCls:"x-tab-inner",_textCls:"x-tab-text",_noTextCls:"x-tab-no-text",_hasIconCls:"x-tab-icon",_activeCls:"x-tab-active",_closableCls:"x-tab-closable",overCls:"x-tab-over",_pressedCls:"x-tab-pressed",_disabledCls:"x-tab-disabled",_rotateClasses:{1:"x-tab-rotate-right",2:"x-tab-rotate-left"},_positions:{top:{"default":"top",0:"top",1:"left",2:"right"},right:{"default":"top",0:"right",1:"top",2:"bottom"},bottom:{"default":"bottom",0:"bottom",1:"right",2:"left"},left:{"default":"top",0:"left",1:"bottom",2:"top"}},_defaultRotations:{top:0,right:1,bottom:0,left:2},initComponent:function(){var d=this;if(d.card){d.setCard(d.card)}Ext.button.Button.prototype.initComponent.apply(this,arguments)},getActualRotation:function(){var d=this.getRotation();return(d!=="default")?d:this._defaultRotations[this.getTabPosition()]},updateRotation:function(){this.syncRotationAndPosition()},updateTabPosition:function(){this.syncRotationAndPosition()},syncRotationAndPosition:function(){var m=this,r=m._rotateClasses,s=m.getTabPosition(),n=m.getActualRotation(),p=m._rotateCls,l=m._rotateCls=r[n],q=m._positionCls,t=m._positionCls=m._positions[s][n];if(p!==l){if(p){m.removeCls(p)}if(l){m.addCls(l)}}if(q!==t){if(q){m.removeClsWithUI(q)}if(t){m.addClsWithUI(t)}if(m.rendered){m.updateFrame()}}if(m.rendered){m.setElOrientation()}},onAdded:function(h,g,i){Ext.button.Button.prototype.onAdded.call(this,h,g,i);this.syncRotationAndPosition()},getTemplateArgs:function(){var e=this,g=Ext.button.Button.prototype.getTemplateArgs.call(this);g.closable=e.closable;g.closeText=e.closeText;return g},beforeRender:function(){var h=this,i=h.up("tabbar"),g=h.up("tabpanel");Ext.button.Button.prototype.beforeRender.call(this);h.ariaRenderAttributes=h.ariaRenderAttributes||{};if(h.active){h.ariaRenderAttributes["aria-selected"]=true;h.addCls(h._activeCls)}else{h.ariaRenderAttributes["aria-selected"]=false}h.syncClosableCls();if(!h.minWidth){h.minWidth=(i)?i.minTabWidth:h.minWidth;if(!h.minWidth&&g){h.minWidth=g.minTabWidth}if(h.minWidth&&h.iconCls){h.minWidth+=25}}if(!h.maxWidth){h.maxWidth=(i)?i.maxTabWidth:h.maxWidth;if(!h.maxWidth&&g){h.maxWidth=g.maxTabWidth}}},onRender:function(){var d=this;d.setElOrientation();Ext.button.Button.prototype.onRender.apply(this,arguments);if(d.closable){d.closeEl.addClsOnOver(d.closeElOverCls);d.closeEl.addClsOnClick(d.closeElPressedCls)}},setElOrientation:function(){var g=this,i=g.getActualRotation(),h=g.el;if(i){h.setVertical(i===1?90:270)}else{h.setHorizontal()}},enable:function(g){var e=this;Ext.button.Button.prototype.enable.apply(this,arguments);e.removeCls(e._disabledCls);return e},disable:function(g){var e=this;Ext.button.Button.prototype.disable.apply(this,arguments);e.addCls(e._disabledCls);return e},setClosable:function(g){var e=this;g=(!arguments.length||!!g);if(e.closable!==g){e.closable=g;if(e.card){e.card.closable=g}e.syncClosableCls();if(e.rendered){e.syncClosableElements();e.updateLayout()}}},syncClosableElements:function(){var g=this,e=g.closeEl;if(g.closable){if(!e){e=g.closeEl=g.btnWrap.insertSibling({tag:"span",id:g.id+"-closeEl",cls:g.baseCls+"-close-btn",html:g.closeText},"after")}e.addClsOnOver(g.closeElOverCls);e.addClsOnClick(g.closeElPressedCls)}else{if(e){e.destroy();delete g.closeEl}}},syncClosableCls:function(){var e=this,g=e._closableCls;if(e.closable){e.addCls(g)}else{e.removeCls(g)}},setCard:function(g){var e=this;e.card=g;if(g.iconAlign){e.setIconAlign(g.iconAlign)}if(g.textAlign){e.setTextAlign(g.textAlign)}e.setText(e.title||g.title);e.setIconCls(e.iconCls||g.iconCls);e.setIcon(e.icon||g.icon);e.setGlyph(e.glyph||g.glyph)},onCloseClick:function(){var d=this;if(d.fireEvent("beforeclose",d)!==false){if(d.tabBar){if(d.tabBar.closeTab(d)===false){return}}else{d.fireClose()}}},fireClose:function(){this.fireEvent("close",this)},onEnterKey:function(e){var g=this;if(g.tabBar){g.tabBar.onClick(e,g.el);e.stopEvent();return false}},onDeleteKey:function(d){if(this.closable){this.onCloseClick();d.stopEvent();return false}},beforeClick:function(d){if(!d){this.focus()}},activate:function(h){var i=this,j=i.card,k=i.ariaEl.dom;i.active=true;i.addCls(i._activeCls);if(k){k.setAttribute("aria-selected",true)}else{i.ariaRenderAttributes=i.ariaRenderAttributes||{};i.ariaRenderAttributes["aria-selected"]=true}if(j){if(j.ariaEl.dom){j.ariaEl.dom.setAttribute("aria-expanded",true)}else{j.ariaRenderAttributes=j.ariaRenderAttributes||{};j.ariaRenderAttributes["aria-expanded"]=true}}if(h!==true){i.fireEvent("activate",i)}},deactivate:function(h){var i=this,j=i.card,k=i.ariaEl.dom;i.active=false;i.removeCls(i._activeCls);if(k){k.setAttribute("aria-selected",false)}else{i.ariaRenderAttributes=i.ariaRenderAttributes||{};i.ariaRenderAttributes["aria-selected"]=false}if(j){if(j.ariaEl.dom){j.ariaEl.dom.setAttribute("aria-expanded",false)}else{j.ariaRenderAttributes=j.ariaRenderAttributes||{};j.ariaRenderAttributes["aria-expanded"]=false}}if(h!==true){i.fireEvent("deactivate",i)}},privates:{getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this._positionCls},wrapPrimaryEl:function(d){Ext.Button.superclass.wrapPrimaryEl.call(this,d)}}},0,["tab"],["component","box","button","tab"],{component:true,box:true,button:true,tab:true},["widget.tab"],0,[Ext.tab,"Tab"],0));(Ext.cmd.derive("Ext.tab.Bar",Ext.panel.Bar,{baseCls:"x-tab-bar",componentLayout:"body",isTabBar:true,config:{tabRotation:"default",tabStretchMax:true,activateOnFocus:true},defaultType:"tab",plain:false,ensureActiveVisibleOnChange:true,ariaRole:"tablist",childEls:["body","strip"],_stripCls:"x-tab-bar-strip",_baseBodyCls:"x-tab-bar-body",renderTpl:'<div id="{id}-body" data-ref="body" role="presentation" class="{baseBodyCls} {baseBodyCls}-{ui} {bodyCls} {bodyTargetCls}{childElCls}"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>{%this.renderContainer(out,values)%}</div><div id="{id}-strip" data-ref="strip" role="presentation" class="{stripCls} {stripCls}-{ui}{childElCls}"></div>',_reverseDockNames:{left:"right",right:"left"},_layoutAlign:{top:"end",right:"begin",bottom:"begin",left:"end"},initComponent:function(){var h=this,k=h.initialConfig.layout,i=k&&k.align,j=k&&k.overflowHandler;if(h.plain){h.addCls(h.baseCls+"-plain")}Ext.panel.Bar.prototype.initComponent.call(this);h.setLayout({align:i||(h.getTabStretchMax()?"stretchmax":h._layoutAlign[h.dock]),overflowHandler:j||"scroller"});h.on({click:h.onClick,element:"el",scope:h})},ensureTabVisible:function(j){var i=this,h=i.tabPanel,k=i.layout.overflowHandler;if(i.rendered&&k&&i.tooNarrow&&k.scrollToItem){if(j||j===0){if(!j.isTab){if(Ext.isNumber(j)){j=this.items.getAt(j)}else{if(j.isComponent&&h&&h.items.contains(j)){j=j.tab}}}}if(!j){j=i.activeTab}if(j){k.scrollToItem(j)}}},initRenderData:function(){var d=this;return Ext.apply(Ext.panel.Bar.prototype.initRenderData.call(this),{bodyCls:d.bodyCls,baseBodyCls:d._baseBodyCls,bodyTargetCls:d.bodyTargetCls,stripCls:d._stripCls,dock:d.dock})},setDock:function(i){var l=this,r=l.items,p=l.ownerCt,m,q,n;r=r&&r.items;if(r){for(q=0,n=r.length;q<n;q++){m=r[q];if(m.isTab){m.setTabPosition(i)}}}if(l.rendered){l.resetItemMargins();if(p&&p.isHeader){p.resetItemMargins()}l.needsScroll=true}Ext.panel.Bar.prototype.setDock.call(this,i)},updateTabRotation:function(i){var k=this,p=k.items,n,l,m;p=p&&p.items;if(p){for(n=0,l=p.length;n<l;n++){m=p[n];if(m.isTab){m.setRotation(i)}}}if(k.rendered){k.resetItemMargins();k.needsScroll=true;k.updateLayout()}},onRender:function(){var d=this;Ext.panel.Bar.prototype.onRender.call(this);if(Ext.isIE8&&d.vertical){d.el.on({mousemove:d.onMouseMove,scope:d})}},afterLayout:function(){this.adjustTabPositions();Ext.panel.Bar.prototype.afterLayout.apply(this,arguments)},onAdd:function(h,g){var i=this.onTabContentChange;if(this.ensureActiveVisibleOnChange){h.barListeners=h.on({scope:this,destroyable:true,glyphchange:i,iconchange:i,textchange:i})}Ext.panel.Bar.prototype.onAdd.call(this,h,g)},onAdded:function(h,g,i){if(h.isHeader){this.addCls(h.baseCls+"-"+h.ui+"-tab-bar")}Ext.panel.Bar.prototype.onAdded.call(this,h,g,i)},onRemove:function(i,g){var h=this;if(h.ensureActiveVisibleOnChange){if(!g){i.barListeners.destroy()}i.barListeners=null}if(i===h.previousTab){h.previousTab=null}Ext.panel.Bar.prototype.onRemove.call(this,i,g)},onRemoved:function(e){var g=this.ownerCt;if(g.isHeader){this.removeCls(g.baseCls+"-"+g.ui+"-tab-bar")}Ext.panel.Bar.prototype.onRemoved.call(this,e)},onTabContentChange:function(d){if(d===this.activeTab){this.ensureTabVisible(d)}},afterComponentLayout:function(i){var h=this,j=h.needsScroll,k=h.layout.overflowHandler;Ext.panel.Bar.prototype.afterComponentLayout.apply(this,arguments);if(k&&j&&h.tooNarrow&&k.scrollToItem){k.scrollToItem(h.activeTab)}delete h.needsScroll},onMouseMove:function(e){var j=this,l=j._overTab,m,k;if(e.getTarget(".x-box-scroller")){return}m=j.getTabInfoFromPoint(e.getXY());k=m.tab;if(k!==l){if(l&&l.rendered){l.onMouseLeave(e);j._overTab=null}if(k){k.onMouseEnter(e);j._overTab=k;if(!k.disabled){j.el.setStyle("cursor","pointer")}}else{j.el.setStyle("cursor","default")}}},onMouseLeave:function(e){var g=this._overTab;if(g&&g.rendered){g.onMouseLeave(e)}},getTabInfoFromPoint:function(W){var L=this,i=L.items.items,X=i.length,N=L.layout.innerCt,F=N.getXY(),G=new Ext.util.Point(W[0],W[1]),E=0,R,aa,ab,K,P,U,V,Y,I,S,T,O,Q,H,J,M,Z;for(;E<X;E++){Z=i[E];R=Z.lastBox;if(!R||!Z.isTab){continue}S=F[0]+R.x;T=F[1]-N.dom.scrollTop+R.y;O=R.width;Q=R.height;aa=new Ext.util.Region(T,S+O,T+Q,S);if(aa.contains(G)){ab=Z.closeEl;if(ab){if(L._isTabReversed===undefined){L._isTabReversed=J=(Z.btnWrap.dom.currentStyle.filter.indexOf("rotation=2")!==-1)}M=J?this._reverseDockNames[L.dock]:L.dock;Y=ab.getWidth();I=ab.getHeight();P=L.getCloseXY(ab,S,T,O,Q,Y,I,M);U=P[0];V=P[1];H=new Ext.util.Region(V,U+Y,V+I,U);K=H.contains(G)}break}}return{tab:Z,close:K}},getCloseXY:function(x,q,s,u,p,r,w,t){var v=x.getXY(),y,z;if(t==="right"){y=q+u-((v[1]-s)+w);z=s+(v[0]-q)}else{y=q+(v[1]-s);z=s+q+p-v[0]-r}return[y,z]},closeTab:function(k){var j=this,l=k.card,i=j.tabPanel,m;if(l&&l.fireEvent("beforeclose",l)===false){return false}m=j.findNextActivatable(k);Ext.suspendLayouts();if(i&&l){delete k.ownerCt;l.fireEvent("close",l);i.remove(l);if(!i.getComponent(l)){k.fireClose();j.remove(k)}else{k.ownerCt=j;Ext.resumeLayouts(true);return false}}if(m){if(i){i.setActiveTab(m.card)}else{j.setActiveTab(m)}m.focus()}Ext.resumeLayouts(true)},findNextActivatable:function(j){var i=this,h=i.previousTab,k;if(j.active&&i.items.getCount()>1){if(h&&h!==j&&!h.disabled){k=h}else{k=j.next("tab[disabled=false]")||j.prev("tab[disabled=false]")}}return k||i.activeTab},setActiveTab:function(h,i){var g=this;if(!h.disabled&&h!==g.activeTab){if(g.activeTab){if(g.activeTab.destroyed){g.previousTab=null}else{g.previousTab=g.activeTab;g.activeTab.deactivate();g.deactivateFocusable(g.activeTab)}}h.activate();g.activateFocusable(h);g.activeTab=h;g.needsScroll=true;if(!i){g.fireEvent("change",g,h,h.card);g.updateLayout()}}},privates:{adjustTabPositions:function(){var m=this,t=m.items.items,q=t.length,n,s,p,r,i;if(!Ext.isIE8){i=m._getTabAdjustProp();while(q--){n=t[q];p=n.el;s=n.lastBox;r=n.isTab?n.getActualRotation():0;if(r===1&&n.isVisible()){p.setStyle(i,(s.x+s.width)+"px")}else{if(r===2&&n.isVisible()){p.setStyle(i,(s.x-s.height)+"px")}}}}},applyTargetCls:function(d){this.bodyTargetCls=d},_getTabAdjustProp:function(){return"left"},getTargetEl:function(){return this.body||this.frameBody||this.el},onClick:function(l,m){var n=this,e,p,q,r;if(l.getTarget(".x-box-scroller")){return}if(Ext.isIE8&&n.vertical){r=n.getTabInfoFromPoint(l.getXY());p=r.tab;q=r.close}else{e=l.getTarget("."+Ext.tab.Tab.prototype.baseCls);p=e&&Ext.getCmp(e.id);q=p&&p.closeEl&&(m===p.closeEl.dom)}if(q){l.preventDefault()}if(p&&p.isDisabled&&!p.isDisabled()){p.beforeClick(q);if(p.closable&&q){p.onCloseClick()}else{n.doActivateTab(p)}}},doActivateTab:function(g){var e=this.tabPanel;if(e){if(!g.disabled){e.setActiveTab(g.card)}}else{this.setActiveTab(g)}},onFocusableContainerFocus:function(i){var j=this,k=j.mixins.focusablecontainer,e;e=k.onFocusableContainerFocus.call(j,i);if(e&&e.isTab){j.doActivateTab(e)}},onFocusableContainerFocusEnter:function(i){var j=this,k=j.mixins.focusablecontainer,e;e=k.onFocusableContainerFocusEnter.call(j,i);if(e&&e.isTab){j.doActivateTab(e)}},focusChild:function(i,l){var k=this,m=k.mixins.focusablecontainer,j;j=m.focusChild.call(k,i,l);if(k.activateOnFocus&&j&&j.isTab){k.doActivateTab(j)}}}},0,["tabbar"],["component","box","container","tabbar"],{component:true,box:true,container:true,tabbar:true},["widget.tabbar"],[[Ext.util.FocusableContainer.prototype.mixinId||Ext.util.FocusableContainer.$className,Ext.util.FocusableContainer]],[Ext.tab,"Bar"],0));(Ext.cmd.derive("Ext.tab.Panel",Ext.panel.Panel,{alternateClassName:["Ext.TabPanel"],config:{tabBar:undefined,tabPosition:"top",tabRotation:"default",tabStretchMax:true},removePanelHeader:true,plain:false,itemCls:"x-tabpanel-child",minTabWidth:undefined,maxTabWidth:undefined,deferredRender:true,_defaultTabRotation:{top:0,right:1,bottom:0,left:2},initComponent:function(){var l=this,p=l.activeTab!==null?(l.activeTab||0):null,m=l.dockedItems,k=l.header,n=l.tabBarHeaderPosition,q=l.getTabBar(),r;l.layout=new Ext.layout.container.Card(Ext.apply({owner:l,deferredRender:l.deferredRender,itemCls:l.itemCls,activeItem:p},l.layout));if(n!=null){k=l.header=Ext.apply({},k);r=k.items=(k.items?k.items.slice():[]);k.itemPosition=n;r.push(q);k.hasTabBar=true}else{m=[].concat(l.dockedItems||[]);m.push(q);l.dockedItems=m}Ext.panel.Panel.prototype.initComponent.apply(this,arguments);p=l.activeTab=l.getComponent(p);if(p){q.setActiveTab(p.tab,true)}},onRender:function(){var h=this.items.items,i=h.length,g;Ext.panel.Panel.prototype.onRender.apply(this,arguments);for(g=0;g<i;++g){h[g].getBind()}},setActiveTab:function(i){var g=this,h;if(!Ext.isObject(i)||i.isComponent){i=g.getComponent(i)}h=g.getActiveTab();if(i){Ext.suspendLayouts();if(!i.isComponent){i=g.add(i)}if(h===i||g.fireEvent("beforetabchange",g,i,h)===false){Ext.resumeLayouts(true);return h}g.activeTab=i;g.layout.setActiveItem(i);i=g.activeTab=g.layout.getActiveItem();if(i&&i!==h){g.tabBar.setActiveTab(i.tab);Ext.resumeLayouts(true);if(h!==i){g.fireEvent("tabchange",g,i,h)}}else{Ext.resumeLayouts(true)}return i}return h},setActiveItem:function(d){return this.setActiveTab(d)},getActiveTab:function(){var e=this,g=e.getComponent(e.activeTab);if(g&&e.items.indexOf(g)!==-1){e.activeTab=g}else{e.activeTab=undefined}return e.activeTab},applyTabBar:function(i){var g=this,h=(g.tabBarHeaderPosition!=null)?g.getHeaderPosition():g.getTabPosition();return new Ext.tab.Bar(Ext.apply({ui:g.ui,dock:h,tabRotation:g.getTabRotation(),vertical:(h==="left"||h==="right"),plain:g.plain,tabStretchMax:g.getTabStretchMax(),tabPanel:g},i))},updateHeaderPosition:function(g,h){var i=this.getTabBar();if(i&&(this.tabBarHeaderPosition!=null)){i.setDock(g)}Ext.panel.Panel.prototype.updateHeaderPosition.call(this,g,h)},updateTabPosition:function(e){var g=this.getTabBar();if(g&&(this.tabBarHeaderPosition==null)){g.setDock(e)}},updateTabRotation:function(e){var g=this.getTabBar();if(g){g.setTabRotation(e)}},onAdd:function(k,m){var l=this,n=Ext.apply({},k.tabConfig),p=l.getTabBar(),q,r={xtype:"tab",title:k.title,icon:k.icon,iconCls:k.iconCls,glyph:k.glyph,ui:p.ui,card:k,disabled:k.disabled,closable:k.closable,hidden:k.hidden&&!k.hiddenByLayout,tooltip:k.tooltip,tabBar:p,tabPosition:p.dock,rotation:p.getTabRotation()};if(k.closeText!==undefined){r.closeText=k.closeText}n=Ext.applyIf(n,r);k.tab=l.tabBar.insert(m,n);k.ariaRole="tabpanel";q=k.ariaEl.dom;if(q){q.setAttribute("aria-labelledby",k.tab.id)}else{k.ariaRenderAttributes=k.ariaRenderAttributes||{};k.ariaRenderAttributes["aria-labelledby"]=k.tab.id}k.on({scope:l,enable:l.onItemEnable,disable:l.onItemDisable,beforeshow:l.onItemBeforeShow,iconchange:l.onItemIconChange,iconclschange:l.onItemIconClsChange,glyphchange:l.onItemGlyphChange,titlechange:l.onItemTitleChange});if(k.isPanel){if(l.removePanelHeader){if(k.rendered){if(k.header){k.header.hide()}}else{k.header=false}}if(k.isPanel&&l.border){k.setBorder(false)}}if(l.rendered){k.getBind()}if(l.rendered&&l.loader&&l.activeTab===undefined&&l.layout.activeItem!==null){l.setActiveTab(0)}},onMove:function(i,j,h){var k=this.getTabBar();Ext.panel.Panel.prototype.onMove.call(this,i,j,h);if(k.items.indexOf(i.tab)!==h){k.move(i.tab,h)}},onItemEnable:function(d){d.tab.enable()},onItemDisable:function(d){d.tab.disable()},onItemBeforeShow:function(d){if(d!==this.activeTab){this.setActiveTab(d);return false}},onItemGlyphChange:function(g,e){g.tab.setGlyph(e)},onItemIconChange:function(e,g){e.tab.setIcon(g)},onItemIconClsChange:function(e,g){e.tab.setIconCls(g)},onItemTitleChange:function(g,e){g.tab.setText(e)},onRemove:function(h,g){var i=this;h.un({scope:i,enable:i.onItemEnable,disable:i.onItemDisable,beforeshow:i.onItemBeforeShow,iconchange:i.onItemIconChange,iconclschange:i.onItemIconClsChange,glyphchange:i.onItemGlyphChange,titlechange:i.onItemTitleChange});if(h.tab&&!i.destroying&&h.tab.ownerCt===i.tabBar){i.tabBar.remove(h.tab)}},privates:{doRemove:function(h,j){var i=this,k;if(i.removingAll||i.destroying||i.items.getCount()===1){i.activeTab=null}else{if(h.tab&&(k=i.tabBar.items.indexOf(i.tabBar.findNextActivatable(h.tab)))!==-1){i.setActiveTab(k)}}Ext.panel.Panel.prototype.doRemove.apply(this,arguments);if(h.tab){delete h.tab.card;delete h.tab}}}},0,["tabpanel"],["component","box","container","panel","tabpanel"],{component:true,box:true,container:true,panel:true,tabpanel:true},["widget.tabpanel"],0,[Ext.tab,"Panel",Ext,"TabPanel"],0));(Ext.cmd.derive("Ext.toolbar.Fill",Ext.Component,{alternateClassName:"Ext.Toolbar.Fill",ariaRole:"presentation",isFill:true,flex:1},0,["tbfill"],["component","box","tbfill"],{component:true,box:true,tbfill:true},["widget.tbfill"],0,[Ext.toolbar,"Fill",Ext.Toolbar,"Fill"],0));(Ext.cmd.derive("Ext.tree.Column",Ext.grid.column.Column,{tdCls:"x-grid-cell-treecolumn",autoLock:true,lockable:false,draggable:false,hideable:false,iconCls:"x-tree-icon",checkboxCls:"x-tree-checkbox",elbowCls:"x-tree-elbow",expanderCls:"x-tree-expander",textCls:"x-tree-node-text",innerCls:"x-grid-cell-inner-treecolumn",customIconCls:"x-tree-icon-custom",isTreeColumn:true,cellTpl:['<tpl for="lines">','<div class="{parent.childCls} {parent.elbowCls}-img ','{parent.elbowCls}-<tpl if=".">line<tpl else>empty</tpl>" role="presentation"></div>',"</tpl>",'<div class="{childCls} {elbowCls}-img {elbowCls}','<tpl if="isLast">-end</tpl><tpl if="expandable">-plus {expanderCls}</tpl>" role="presentation"></div>','<tpl if="checked !== null">','<div role="button" {ariaCellCheckboxAttr}',' class="{childCls} {checkboxCls}<tpl if="checked"> {checkboxCls}-checked</tpl>"></div>',"</tpl>",'<tpl if="icon"><img src="{blankUrl}"<tpl else><div</tpl>',' role="presentation" class="{childCls} {baseIconCls} {customIconCls} ','{baseIconCls}-<tpl if="leaf">leaf<tpl else><tpl if="expanded">parent-expanded<tpl else>parent</tpl></tpl> {iconCls}" ','<tpl if="icon">style="background-image:url({icon})"/><tpl else>></div></tpl>','<tpl if="href">','<a href="{href}" role="link" target="{hrefTarget}" class="{textCls} {childCls}">{value}</a>',"<tpl else>",'<span class="{textCls} {childCls}">{value}</span>',"</tpl>"],uiFields:{checked:1,icon:1,iconCls:1},rowFields:{expanded:1,loaded:1,expandable:1,leaf:1,loading:1,qtip:1,qtitle:1,cls:1},initComponent:function(){var d=this;d.rendererScope=d.scope;d.setupRenderer();d.innerRenderer=d.renderer;d.renderer=d.treeRenderer;Ext.grid.column.Column.prototype.initComponent.call(this);d.scope=d;d.hasCustomRenderer=d.innerRenderer&&d.innerRenderer.length>1},treeRenderer:function(q,x,t,w,v,p,r){var s=this,n=t.get("cls"),u;if(x&&n){x.tdCls+=" "+n}u=s.initTemplateRendererData(q,x,t,w,v,p,r);return s.getTpl("cellTpl").apply(u)},initTemplateRendererData:function(v,F,A,E,B,u,x){var y=this,D=y.innerRenderer,C=A.data,w=A.parentNode,t=x.rootVisible,s=[],z;while(w&&(t||w.data.depth>0)){z=w.data;s[t?z.depth:z.depth-1]=z.isLast?0:1;w=w.parentNode}return{record:A,baseIconCls:y.iconCls,customIconCls:(C.icon||C.iconCls)?y.customIconCls:"",iconCls:C.iconCls,icon:C.icon,checkboxCls:y.checkboxCls,checked:C.checked,elbowCls:y.elbowCls,expanderCls:y.expanderCls,textCls:y.textCls,leaf:C.leaf,expandable:A.isExpandable(),expanded:C.expanded,isLast:A.isLastVisible(),blankUrl:Ext.BLANK_IMAGE_URL,href:C.href,hrefTarget:C.hrefTarget,lines:s,metaData:F,childCls:y.getChildCls?y.getChildCls()+" ":"",value:D?D.apply(y.rendererScope,arguments):v}},shouldUpdateCell:function(n,l){var k=this,m=0,p,i;if(l){p=l.length;for(;m<p;++m){i=l[m];if(k.rowFields[i]){return 1}if(k.uiFields[i]){return 2}}}return Ext.grid.column.Column.prototype.shouldUpdateCell.call(this,n,l)}},0,["treecolumn"],["component","box","container","headercontainer","gridcolumn","treecolumn"],{component:true,box:true,container:true,headercontainer:true,gridcolumn:true,treecolumn:true},["widget.treecolumn"],0,[Ext.tree,"Column"],0));(Ext.cmd.derive("Ext.tree.NavigationModel",Ext.grid.NavigationModel,{initKeyNav:function(l){var i=this,j=i.view.ownerGrid.columns,m,k;i.isTreeGrid=j&&j.length>1;Ext.grid.NavigationModel.prototype.initKeyNav.call(this,l);for(k=0,m=i.keyNav.length;k<m;k++){i.keyNav[k].map.addBinding([{key:"8",shift:true,handler:i.onAsterisk,scope:i},{key:Ext.event.Event.NUM_MULTIPLY,handler:i.onAsterisk,scope:i}])}i.view.grid.on({columnschanged:i.onColumnsChanged,scope:i})},onColumnsChanged:function(){this.isTreeGrid=this.view.ownerGrid.getVisibleColumnManager().getColumns().length>1},onCellClick:function(n,q,l,p,k,m,r){Ext.grid.NavigationModel.prototype.onCellClick.call(this,n,q,l,p,k,m,r);return !r.nodeToggled},onKeyLeft:function(h){var i=this,j=h.view,k=i.record;if(i.isTreeGrid&&!h.ctrlKey){return Ext.grid.NavigationModel.prototype.onKeyLeft.call(this,h)}if(h.position.column.isTreeColumn&&k.isExpanded()){j.collapse(k)}else{k=k.parentNode;if(k&&!(k.isRoot()&&!j.rootVisible)){i.setPosition(k,null,h)}}},onKeyRight:function(g){var h=this,i=h.record;if(h.isTreeGrid&&!g.ctrlKey){return Ext.grid.NavigationModel.prototype.onKeyRight.call(this,g)}if(!i.isLeaf()){if(g.position.column.isTreeColumn&&!i.isExpanded()){g.view.expand(i)}else{if(i.isExpanded()){i=i.childNodes[0];if(i){h.setPosition(i)}}}}},onKeyEnter:function(d){if(this.record.data.checked!=null){this.toggleCheck(d)}else{Ext.grid.NavigationModel.prototype.onKeyEnter.call(this,d)}},onKeySpace:function(d){if(this.record.data.checked!=null){this.toggleCheck(d)}else{Ext.grid.NavigationModel.prototype.onKeySpace.call(this,d)}},toggleCheck:function(d){this.view.onCheckChange(d)},onAsterisk:function(d){this.view.ownerCt.expandAll()}},0,0,0,0,["view.navigation.tree"],0,[Ext.tree,"NavigationModel"],0));(Ext.cmd.derive("Ext.tree.View",Ext.view.Table,{config:{selectionModel:{type:"treemodel"}},isTreeView:true,loadingCls:"x-grid-tree-loading",expandedCls:"x-grid-tree-node-expanded",leafCls:"x-grid-tree-node-leaf",expanderSelector:".x-tree-expander",checkboxSelector:".x-tree-checkbox",expanderIconOverCls:"x-tree-expander-over",nodeAnimWrapCls:"x-tree-animator-wrap",ariaRole:"tree",loadMask:false,rootVisible:true,expandDuration:250,collapseDuration:250,toggleOnDblClick:true,stripeRows:false,treeRowTpl:["{%","this.processRowValues(values);","this.nextTpl.applyOut(values, out, parent);","%}",{priority:10,processRowValues:function(g){var h=g.record,i=g.view;g.rowAttr["data-qtip"]=h.get("qtip")||"";g.rowAttr["data-qtitle"]=h.get("qtitle")||"";if(h.isExpanded()){g.rowClasses.push(i.expandedCls)}if(h.isLeaf()){g.rowClasses.push(i.leafCls)}if(h.isLoading()){g.rowClasses.push(i.loadingCls)}}}],initComponent:function(){var d=this;if(d.bufferedRenderer){d.animate=false}else{if(d.initialConfig.animate===undefined){d.animate=Ext.enableFx}}d.store=d.panel.getStore();d.onRootChange(d.store.getRoot());d.animQueue={};d.animWraps={};Ext.view.Table.prototype.initComponent.call(this);d.store.setRootVisible(d.rootVisible);d.addRowTpl(Ext.XTemplate.getTpl(d,"treeRowTpl"))},onFillComplete:function(k,l,n){var m=this,p=m.store,j=p.indexOf(n[0]);l.triggerUIUpdate();if(!n.length||j===-1){return}m.onAdd(m.store,n,j);m.refreshPartner()},refreshPartner:function(){var d=this.lockingPartner;if(d){d.refresh()}},afterComponentLayout:function(k,l,j,i){var m=this.getScrollable();Ext.view.Table.prototype.afterComponentLayout.call(this,k,l,j,i);if(m&&!this.bufferedRenderer){m.refresh()}},processUIEvent:function(d){if(d.getTarget("."+this.nodeAnimWrapCls,this.el)){return false}return Ext.view.Table.prototype.processUIEvent.call(this,d)},setRootNode:function(d){this.node=d},getChecked:function(){var d=[];this.node.cascadeBy(function(c){if(c.get("checked")){d.push(c)}});return d},isItemChecked:function(d){return d.get("checked")},createAnimWrap:function(m,l){var i=this,j=i.getNode(m),k;k=Ext.fly(j).insertSibling({role:"presentation",tag:"div",cls:i.nodeAnimWrapCls},"after");return{record:m,node:j,el:k,expanding:false,collapsing:false,animateEl:k,targetEl:k}},getAnimWrap:function(h,k){if(!this.animate){return null}var j=this.animWraps,i=j[h.internalId];if(k!==false){while(!i&&h){h=h.parentNode;if(h){i=j[h.internalId]}}}return i},doAdd:function(C,y){var x=this,A=C[0],w=A.parentNode,v=x.all,r,B=x.getAnimWrap(w),t,u,z,s,D;if(!B||!B.expanding){return Ext.view.Table.prototype.doAdd.call(this,C,y)}s=x.bufferRender(C,y,true);D=s.children;w=B.record;t=B.targetEl;u=t.dom.childNodes;z=u.length;r=y-x.indexInStore(w)-1;if(!z||r>=z){t.appendChild(s.fragment,true)}else{Ext.fly(u[r]).insertSibling(D,"before",true)}v.insert(y,D);return D},onRemove:function(n,t,s){var q=this,p,r,i=q.hasListeners.remove,m;if(q.viewReady){p=q.store.getCount()===0;if(q.bufferedRenderer){return Ext.view.Table.prototype.onRemove.call(this,n,t,s)}if(i){m=this.all.slice(s,s+t.length)}if(p){q.refresh()}else{for(r=t.length-1,s+=r;r>=0;--r,--s){q.doRemove(t[r],s)}q.refreshSizePending=true}if(i){q.fireEvent("itemremove",t,s,m,q)}}},doRemove:function(r,p){var k=this,n=k.all,q=k.getAnimWrap(r),l=n.item(p),m=l?l.dom:null;if(!m||!q||!q.collapsing){return Ext.view.Table.prototype.doRemove.call(this,r,p)}q.targetEl.dom.insertBefore(m,q.targetEl.dom.firstChild);n.removeElement(p)},onBeforeExpand:function(j,l,k){var i=this,m;if(i.rendered&&i.all.getCount()&&i.animate){if(i.getNode(j)){m=i.getAnimWrap(j,false);if(!m){m=i.animWraps[j.internalId]=i.createAnimWrap(j);m.animateEl.setHeight(0)}else{if(m.collapsing){m.targetEl.select(i.itemSelector).destroy()}}m.expanding=true;m.collapsing=false}}},onExpand:function(n){var p=this,r=p.animQueue,v=n.getId(),t=p.getNode(n),q=t?p.indexOf(t):-1,s,u,m;if(p.singleExpand){p.ensureSingleExpand(n)}if(q===-1){return}s=p.getAnimWrap(n,false);if(!s){n.isExpandingOrCollapsing=false;p.fireEvent("afteritemexpand",n,q,t);return}u=s.animateEl;m=s.targetEl;u.stopAnimation();r[v]=true;Ext.on("idle",function(){u.dom.style.height="0px"},null,{single:true});u.animate({from:{height:0},to:{height:m.dom.scrollHeight},duration:p.expandDuration,listeners:{afteranimate:function(){var c=m.dom.childNodes,d=Ext.Element.getActiveElement();if(c.length){if(!m.contains(d)){d=null}s.el.insertSibling(c,"before",true);if(d){Ext.fly(d).focus()}}s.el.destroy();p.animWraps[s.record.internalId]=r[v]=null}},callback:function(){n.isExpandingOrCollapsing=false;if(!p.destroyed){p.refreshSize(true)}p.fireEvent("afteritemexpand",n,q,t)}})},onBeforeCollapse:function(m,q,p,k,n){var l=this,r;if(l.rendered&&l.all.getCount()){if(l.animate){if(m.isVisible()){r=l.getAnimWrap(m);if(!r){r=l.animWraps[m.internalId]=l.createAnimWrap(m,p)}else{if(r.expanding){r.targetEl.select(this.itemSelector).destroy()}}r.expanding=false;r.collapsing=true;r.callback=k;r.scope=n}}else{l.onCollapseCallback=k;l.onCollapseScope=n}}},onCollapse:function(q){var n=this,t=n.animQueue,l=q.getId(),p=n.getNode(q),r=p?n.indexOf(p):-1,s=n.getAnimWrap(q),m;if(!n.all.getCount()||!q.isVisible()){return}if(!s){q.isExpandingOrCollapsing=false;n.fireEvent("afteritemcollapse",q,r,p);Ext.callback(n.onCollapseCallback,n.onCollapseScope);n.onCollapseCallback=n.onCollapseScope=null;return}m=s.animateEl;t[l]=true;m.stopAnimation();m.animate({to:{height:0},duration:n.collapseDuration,listeners:{afteranimate:function(){s.el.destroy();n.animWraps[s.record.internalId]=t[l]=null}},callback:function(){q.isExpandingOrCollapsing=false;if(!n.destroyed){n.refreshSize(true)}n.fireEvent("afteritemcollapse",q,r,p);Ext.callback(s.callback,s.scope);s.callback=s.scope=null}})},isAnimating:function(d){return !!this.animQueue[d.getId()]},expand:function(n,p,k,m){var l=this,q=!!l.animate,r;if(!q||!n.isExpandingOrCollapsing){if(!n.isLeaf()){n.isExpandingOrCollapsing=q}Ext.suspendLayouts();r=n.expand(p,k,m);Ext.resumeLayouts(true);return r}},collapse:function(m,n,j,l){var k=this,p=!!k.animate;if(!p||!m.isExpandingOrCollapsing){if(!m.isLeaf()){m.isExpandingOrCollapsing=p}return m.collapse(n,j,l)}},toggle:function(j,k,h,i){if(j.isExpanded()){this.collapse(j,k,h,i)}else{this.expand(j,k,h,i)}},onItemDblClick:function(p,k,m,e){var l=this,n=l.editingPlugin;Ext.view.Table.prototype.onItemDblClick.call(this,p,k,m,e);if(l.toggleOnDblClick&&p.isExpandable()&&!(n&&n.clicksToEdit===2)){l.toggle(p)}},onCellClick:function(p,r,u,e,q,t){var s=this,v=t.position.column,n;if(v.isTreeColumn){if(t.getTarget(s.checkboxSelector,p)&&Ext.isBoolean(n=u.get("checked"))&&s.fireEvent("beforecheckchange",u,n,t)!==false){s.onCheckChange(t);if(v.stopSelection){t.stopSelection=true}}else{if(t.getTarget(s.expanderSelector,p)&&u.isExpandable()){s.getNavigationModel().setPosition(t.position);s.toggle(u,t.ctrlKey);t.nodeToggled=true}}return Ext.view.Table.prototype.onCellClick.call(this,p,r,u,e,q,t)}},onCheckChange:function(e){var i=e.record,h=!i.get("checked");i.set("checked",h);this.fireEvent("checkchange",i,h,e)},onItemMouseOver:function(k,i,j,e){if(e.getTarget(this.expanderSelector,i)){e.getTarget(this.cellSelector,null,true).addCls(this.expanderIconOverCls)}},onItemMouseOut:function(k,i,j,e){if(e.getTarget(this.expanderSelector,i)){e.getTarget(this.cellSelector,null,true).removeCls(this.expanderIconOverCls)}},getStoreListeners:function(){return Ext.apply(Ext.view.Table.prototype.getStoreListeners.call(this),{rootchange:this.onRootChange,fillcomplete:this.onFillComplete})},onBindStore:function(p,m,l,k){var n=k&&k.getRootNode(),j=p&&p.getRootNode();Ext.view.Table.prototype.onBindStore.call(this,p,m,l,k);if(j!==n){this.onRootChange(j,n)}},onRootChange:function(h,k){var i=this,j=i.grid;if(k){i.rootListeners.destroy();i.rootListeners=null}if(h){i.rootListeners=h.on({beforeexpand:i.onBeforeExpand,expand:i.onExpand,beforecollapse:i.onBeforeCollapse,collapse:i.onCollapse,destroyable:true,scope:i});j.addRelayers(h)}},ensureSingleExpand:function(e){var g=e.parentNode;if(g){g.eachChild(function(c){if(c!==e&&c.isExpanded()){c.collapse()}})}}},0,["treeview"],["component","box","dataview","tableview","gridview","treeview"],{component:true,box:true,dataview:true,tableview:true,gridview:true,treeview:true},["widget.treeview"],0,[Ext.tree,"View"],0));(Ext.cmd.derive("Ext.tree.Panel",Ext.panel.Table,{alternateClassName:["Ext.tree.TreePanel","Ext.TreePanel"],viewType:"treeview",treeCls:"x-tree-panel",rowLines:false,lines:true,useArrows:false,singleExpand:false,ddConfig:{enableDrag:true,enableDrop:true},rootVisible:true,displayField:"text",root:null,normalCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible","scroll"],lockedCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible"],isTree:true,arrowCls:"x-tree-arrows",linesCls:"x-tree-lines",noLinesCls:"x-tree-no-lines",autoWidthCls:"x-autowidth-table",constructor:function(d){d=d||{};if(d.animate===undefined){d.animate=Ext.isBoolean(this.animate)?this.animate:Ext.enableFx}this.enableAnimations=d.animate;delete d.animate;Ext.panel.Table.prototype.constructor.call(this,d)},initComponent:function(){var h=this,j=[h.treeCls],i,k;if(h.useArrows){j.push(h.arrowCls);h.lines=false}if(h.lines){j.push(h.linesCls)}else{if(!h.useArrows){j.push(h.noLinesCls)}}i=h.applyStore(h.store);if(!i.getRoot()){i.setRoot({})}i.setRootVisible(h.rootVisible);h.viewConfig=Ext.apply({rootVisible:h.rootVisible,animate:h.enableAnimations,singleExpand:h.singleExpand,node:i.getRoot(),hideHeaders:h.hideHeaders,navigationModel:"tree"},h.viewConfig);if(!h.columns){if(h.initialConfig.hideHeaders===undefined){h.hideHeaders=true}h.addCls(h.autoWidthCls);h.columns=[{xtype:"treecolumn",text:"Name",flex:1,dataIndex:h.displayField}]}if(h.cls){j.push(h.cls)}h.cls=j.join(" ");Ext.panel.Table.prototype.initComponent.call(this);k=h.getView();h.relayEvents(k,["beforecheckchange","checkchange","afteritemexpand","afteritemcollapse"])},applyStore:function(g){var e=this;if(Ext.isString(g)){g=e.store=Ext.StoreMgr.lookup(g)}else{if(!g||!g.isStore){g=Ext.apply({type:"tree",proxy:"memory"},g);if(e.root){g.root=e.root}if(e.fields){g.fields=e.fields}else{if(e.model){g.model=e.model}}if(e.folderSort){g.folderSort=e.folderSort}g=e.store=Ext.StoreMgr.lookup(g)}else{if(e.root){g=e.store=Ext.data.StoreManager.lookup(g);g.setRoot(e.root);if(e.folderSort!==undefined){g.folderSort=e.folderSort;g.sort()}}}}return g},setStore:function(g){var e=this;g=e.applyStore(g);if(!g.getRoot()){g.setRoot({})}g.setRootVisible(e.rootVisible);if(e.view){e.view.setRootNode(g.getRootNode())}e.bindStore(g)},bindStore:function(l,k){var j=this,m=l.getRoot(),i=j.bufferedRenderer;Ext.panel.Table.prototype.bindStore.apply(this,arguments);if(i){if(i.store){i.bindStore(l)}}l.singleExpand=j.singleExpand;j.storeListeners=j.mon(l,{destroyable:true,rootchange:j.onRootChange,scope:j});j.storeRelayers=j.relayEvents(l,["beforeload","load"]);if(!j.rootVisible&&!l.autoLoad&&!(m.isExpanded()||m.isLoading())){if(m.isLoaded()){m.data.expanded=true;l.onNodeExpand(m,m.childNodes)}else{if(l.autoLoad!==false){m.data.expanded=false;m.expand()}}}l.ownerTree=j;if(!k){j.view.setRootNode(m)}},addRelayers:function(e){var g=this;if(g.rootRelayers){g.rootRelayers.destroy();g.rootRelayers=null}g.rootRelayers=g.mon(e,{destroyable:true,append:g.createRelayer("itemappend"),remove:g.createRelayer("itemremove"),move:g.createRelayer("itemmove",[0,4]),insert:g.createRelayer("iteminsert"),beforeappend:g.createRelayer("beforeitemappend"),beforeremove:g.createRelayer("beforeitemremove"),beforemove:g.createRelayer("beforeitemmove"),beforeinsert:g.createRelayer("beforeiteminsert"),expand:g.createRelayer("itemexpand",[0,1]),collapse:g.createRelayer("itemcollapse",[0,1]),beforeexpand:g.createRelayer("beforeitemexpand",[0,1]),beforecollapse:g.createRelayer("beforeitemcollapse",[0,1]),scope:g})},unbindStore:function(){var e=this,g=e.store;if(g){Ext.panel.Table.prototype.unbindStore.call(this);Ext.destroy(e.storeListeners,e.storeRelayers,e.rootRelayers);delete g.ownerTree;g.singleExpand=null}},setRootNode:function(){return this.store.setRoot.apply(this.store,arguments)},getRootNode:function(){return this.store.getRoot()},onRootChange:function(d){this.view.setRootNode(d)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(d){return d.get("checked")},expandNode:function(j,k,h,i){return this.getView().expand(j,k,h,i||this)},collapseNode:function(j,k,h,i){return this.getView().collapse(j,k,h,i||this)},expandAll:function(h,j){var i=this,k=i.getRootNode();if(k){Ext.suspendLayouts();k.expand(true,h,j||i);Ext.resumeLayouts(true)}},collapseAll:function(i,k){var j=this,l=j.getRootNode(),m=j.getView();if(l){Ext.suspendLayouts();k=k||j;if(m.rootVisible){l.collapse(true,i,k)}else{l.collapseChildren(true,i,k)}Ext.resumeLayouts(true)}},expandPath:function(u,I){var D=arguments,C=this,B=C.view,A=(I&&I.field)||C.store.model.idProperty,z,J,G=(I&&I.separator)||"/",y,v,E,F,w,H,x;if(I&&typeof I==="object"){A=I.field||C.store.model.idProperty;G=I.separator||"/";y=I.callback;v=I.scope;z=I.select;J=I.focus}else{A=D[1]||C.store.model.idProperty;G=D[2]||"/";y=D[3];v=D[4]}if(Ext.isEmpty(u)){return Ext.callback(y,v||C,[false,null])}w=u.split(G);H=!w[0];if(H){E=C.getRootNode();F=1}else{E=C.store.findNode(A,w[0]);F=0}if(!E||(H&&E.get(A)!==w[1])){return Ext.callback(y,v||C,[false,E])}x=function(h){var d=this,g,e,c;if(++F===w.length){if(z){B.getSelectionModel().select(d)}if(J){B.getNavigationModel().setPosition(d,0)}return Ext.callback(y,v||C,[true,d,B.getNode(d)])}for(e=0,g=h?h.length:0;e<g;e++){d=h[e];c=d.get(A);if(c||c===0){c=c.toString()}if(c===w[F]){return d.expand(false,x)}}d=this;Ext.callback(y,v||C,[false,d,B.getNode(d)])};E.expand(false,x)},ensureVisible:function(s,r){if(s.isEntity||typeof s==="number"){return Ext.panel.Table.prototype.ensureVisible.call(this,s,r)}var y=this,x=(r&&r.field)||y.store.model.idProperty,z=(r&&r.separator)||"/",v,t,u,D,w,C,A,B=function(c,e,g,d){if(!d&&c&&e){d=e.findChild(x,w)}if(d){y.doEnsureVisible(d,r)}else{Ext.callback(v,t||y,[false,e])}};if(r){v=r.callback;t=r.scope}u=s.split(z);D=!u[0];w=u.pop();if(u.length&&!(D&&u.length===1)){y.expandPath(u.join(z),x,z,B)}else{C=y.store.findNode(x,w);if(C){A=C.parentNode;if(A&&!A.isExpanded()){A.expand()}B(true,null,null,C)}else{Ext.callback(v,t||y,[false,null])}}},selectPath:function(j,k,l,i,m){this.ensureVisible(j,{field:k,separator:l,select:true,callback:i,scope:m})}},1,["treepanel"],["component","box","container","panel","tablepanel","treepanel"],{component:true,box:true,container:true,panel:true,tablepanel:true,treepanel:true},["widget.treepanel"],0,[Ext.tree,"Panel",Ext.tree,"TreePanel",Ext,"TreePanel"],0));(Ext.cmd.derive("Ext.view.DragZone",Ext.dd.DragZone,{containerScroll:false,constructor:function(l){var i=this,m,j,k;Ext.apply(i,l);if(!i.ddGroup){i.ddGroup="view-dd-zone-"+i.view.id}m=i.view;j=m.ownerCt;if(j){k=j.getTargetEl().dom}else{k=m.el.dom.parentNode}Ext.dd.DragZone.prototype.constructor.call(this,k);i.ddel=document.createElement("div");i.ddel.className="x-grid-dd-wrap"},init:function(i,m,k){var j=this,l={itemmousedown:j.onItemMouseDown,scope:j};if(Ext.supports.touchScroll){l.itemlongpress=j.onItemMouseDown}j.initTarget(i,m,k);j.view.mon(j.view,l)},onValidDrop:function(h,i,e){Ext.dd.DragZone.prototype.onValidDrop.call(this,h,i,e);h.el.focus()},onItemMouseDown:function(n,p,k,m,e){var l;if((e.pointerType==="touch"&&e.type!=="longpress")||(e.position&&e.position.isEqual(e.view.actionPosition))){return}if(!this.isPreventDrag(e,p,k,m)){l=n.getNavigationModel();if(e.position){l.setPosition(e.position)}else{l.setPosition(m)}this.handleMouseDown(e)}},isPreventDrag:function(e,k,i,j){return false},getDragData:function(e){var i=this.view,h=e.getTarget(i.getItemSelector());if(h){return{copy:i.copy||(i.allowCopy&&e.ctrlKey),event:e,view:i,ddel:this.ddel,item:h,records:i.getSelectionModel().getSelection(),fromPosition:Ext.fly(h).getXY()}}},onInitDrag:function(q,k){var m=this,l=m.dragData,n=l.view,r=n.getSelectionModel(),p=n.getRecord(l.item);if(!r.isSelected(p)){r.selectWithEvent(p,m.DDMInstance.mousedownEvent)}l.records=r.getSelection();Ext.fly(m.ddel).setHtml(m.getDragText());m.proxy.update(m.ddel);m.onStartDrag(q,k);return true},getDragText:function(){var d=this.dragData.records.length;return Ext.String.format(this.dragText,d,d===1?"":"s")},getRepairXY:function(e,g){return g?g.fromPosition:false}},1,0,0,0,0,0,[Ext.view,"DragZone"],0));(Ext.cmd.derive("Ext.tree.ViewDragZone",Ext.view.DragZone,{isPreventDrag:function(e,g){return(g.get("allowDrag")===false)||!!e.getTarget(this.view.expanderSelector)},getDragText:function(){var p=this.dragData.records,m=p.length,k=p[0].get(this.displayField),l="s",n=/\{\d+\}/,j=this.dragText;if(n.test(j)&&m===1&&k){return k}else{if(!k){l=""}}return Ext.String.format(j,m,l)},afterRepair:function(){var m=this,t=m.view,l=t.selectedItemCls,s=m.dragData.records,n,p=s.length,r=Ext.fly,q;if(Ext.enableFx&&m.repairHighlight){for(n=0;n<p;n++){q=t.getNode(s[n]);r(q.firstChild).highlight(m.repairHighlightColor,{listeners:{beforeanimate:function(){if(t.isSelected(q)){r(q).removeCls(l)}},afteranimate:function(){if(t.isSelected(q)){r(q).addCls(l)}}}})}}m.dragging=false}},0,0,0,0,0,0,[Ext.tree,"ViewDragZone"],0));(Ext.cmd.derive("Ext.tree.ViewDropZone",Ext.view.DropZone,{allowParentInserts:false,allowContainerDrops:false,appendOnly:false,expandDelay:500,indicatorCls:"x-tree-ddindicator",expandNode:function(e){var g=this.view;this.expandProcId=false;if(!e.isLeaf()&&!e.isExpanded()){g.expand(e);this.expandProcId=false}},queueExpand:function(d){this.expandProcId=Ext.Function.defer(this.expandNode,this.expandDelay,this,[d])},cancelExpand:function(){if(this.expandProcId){clearTimeout(this.expandProcId);this.expandProcId=false}},getPosition:function(r,u){var n=this.view,t=n.getRecord(u),q=r.getY(),e=t.isLeaf(),v=false,p=Ext.fly(u).getRegion(),s;if(t.isRoot()){return"append"}if(this.appendOnly){return e?false:"append"}if(!this.allowParentInserts){v=t.hasChildNodes()&&t.isExpanded()}s=(p.bottom-p.top)/(e?2:3);if(q>=p.top&&q<(p.top+s)){return"before"}else{if(!v&&(e||(q>=(p.bottom-s)&&q<=p.bottom))){return"after"}else{return"append"}}},isValidDropPoint:function(A,v,i,u,x){if(!A||!x.item){return false}var e=this.view,t=e.getRecord(A),y=x.records,B=y.length,s=y.length,z,w;if(!(t&&v&&B)){return false}for(z=0;z<s;z++){w=y[z];if(w.isNode&&w.contains(t)){return false}}if(v==="append"&&t.get("allowDrop")===false){return false}else{if(v!=="append"&&t.parentNode.get("allowDrop")===false){return false}}if(Ext.Array.contains(y,t)){return false}return e.fireEvent("nodedragover",t,v,x,u)!==false},onNodeOver:function(x,r,t,v){var u=this.getPosition(t,x),w=this.dropNotAllowed,q=this.view,s=q.getRecord(x),p=this.getIndicator(),e=0;this.cancelExpand();if(u==="append"&&!this.expandProcId&&!Ext.Array.contains(v.records,s)&&!s.isLeaf()&&!s.isExpanded()){this.queueExpand(s)}if(this.isValidDropPoint(x,u,r,t,v)){this.valid=true;this.currentPosition=u;this.overRecord=s;p.setWidth(Ext.fly(x).getWidth());e=Ext.fly(x).getY()-Ext.fly(q.el).getY()-1;if(q.touchScroll===2){e+=q.getScrollY()}if(u==="before"){w=s.isFirst()?"x-tree-drop-ok-above":"x-tree-drop-ok-between";p.showAt(0,e);r.proxy.show()}else{if(u==="after"){w=s.isLast()?"x-tree-drop-ok-below":"x-tree-drop-ok-between";e+=Ext.fly(x).getHeight();p.showAt(0,e);r.proxy.show()}else{w="x-tree-drop-ok-append";p.hide()}}}else{this.valid=false}this.currentCls=w;return w},onNodeOut:function(e,k,i,j){this.valid=false;this.getIndicator().hide()},onContainerOver:function(i,e,h){return this.allowContainerDrops?this.dropAllowed:e.getTarget("."+this.indicatorCls)?this.currentCls:this.dropNotAllowed},onContainerDrop:function(i,e,h){if(this.allowContainerDrops){this.valid=true;this.currentPosition="append";this.overRecord=this.view.store.getRoot();this.onNodeDrop(this.overRecord,i,e,h)}},notifyOut:function(){Ext.view.DropZone.prototype.notifyOut.apply(this,arguments);this.cancelExpand()},handleNodeDrop:function(A,u,y){var H=this,F=H.view,x=u?u.parentNode:F.panel.getRootNode(),E=F.store.getModel(),D,B,v,z,C,w,i,G;if(A.copy){D=A.records;A.records=[];for(B=0,v=D.length;B<v;B++){z=D[B];if(z.isNode){A.records.push(z.copy())}else{A.records.push(new E(Ext.apply({},z.data)))}}}H.cancelExpand();if(y==="before"){C=x.insertBefore;w=[null,u];u=x}else{if(y==="after"){if(u.nextSibling){C=x.insertBefore;w=[null,u.nextSibling]}else{C=x.appendChild;w=[null]}u=x}else{if(!(u.isExpanded()||u.isLoading())){i=true}C=u.appendChild;w=[null]}}G=function(){var d,c;Ext.suspendLayouts();for(B=0,v=A.records.length;B<v;B++){z=A.records[B];if(!z.isNode){if(z.isModel){z=new E(z.data,z.getId())}else{z=new E(z)}A.records[B]=z}w[0]=z;C.apply(u,w)}if(H.sortOnDrop){u.sort(u.getOwnerTree().store.getSorters().sortFn)}Ext.resumeLayouts(true);z=A.records[0];F.ownerGrid.ensureVisible(z);F.getNavigationModel().setPosition(z);if(Ext.enableFx&&H.dropHighlight){d=H.dropHighlightColor;for(B=0;B<v;B++){c=F.getNode(A.records[B]);if(c){Ext.fly(c).highlight(d)}}}};if(i){u.expand(false,G)}else{if(u.isLoading()){u.on({expand:G,delay:1,single:true})}else{G()}}}},0,0,0,0,0,0,[Ext.tree,"ViewDropZone"],0));(Ext.cmd.derive("Ext.tree.plugin.TreeViewDragDrop",Ext.plugin.Abstract,{dragText:"{0} selected node{1}",allowParentInserts:false,allowContainerDrops:false,appendOnly:false,ddGroup:"TreeDD",containerScroll:false,expandDelay:1000,enableDrop:true,enableDrag:true,nodeHighlightColor:"c3daf9",nodeHighlightOnDrop:Ext.enableFx,displayField:"text",init:function(d){Ext.applyIf(d,{copy:this.copy,allowCopy:this.allowCopy});d.on("render",this.onViewRender,this,{single:true})},destroy:function(){var d=this;d.dragZone=d.dropZone=Ext.destroy(d.dragZone,d.dropZone);Ext.plugin.Abstract.prototype.destroy.call(this)},onViewRender:function(k){var j=this,i=k.ownerCt.ownerGrid||k.ownerCt,h;i.relayEvents(k,["beforedrop","drop"]);if(j.enableDrag){if(j.containerScroll){h=k.getEl()}j.dragZone=new Ext.tree.ViewDragZone(Ext.apply({view:k,ddGroup:j.dragGroup||j.ddGroup,dragText:j.dragText,displayField:j.displayField,repairHighlightColor:j.nodeHighlightColor,repairHighlight:j.nodeHighlightOnRepair,scrollEl:h},j.dragZone))}if(j.enableDrop){j.dropZone=new Ext.tree.ViewDropZone(Ext.apply({view:k,ddGroup:j.dropGroup||j.ddGroup,allowContainerDrops:j.allowContainerDrops,appendOnly:j.appendOnly,allowParentInserts:j.allowParentInserts,expandDelay:j.expandDelay,dropHighlightColor:j.nodeHighlightColor,dropHighlight:j.nodeHighlightOnDrop,sortOnDrop:j.sortOnDrop,containerScroll:j.containerScroll},j.dropZone))}}},0,0,0,0,["plugin.treeviewdragdrop"],0,[Ext.tree.plugin,"TreeViewDragDrop"],function(){var d=this.prototype;d.nodeHighlightOnDrop=d.nodeHighlightOnRepair=Ext.enableFx}));(Ext.cmd.derive("Ext.window.Toast",Ext.window.Window,{isToast:true,cls:"x-toast",bodyPadding:10,autoClose:true,plain:false,draggable:false,resizable:false,shadow:false,focus:Ext.emptyFn,anchor:null,useXAxis:false,align:"br",animate:true,spacing:6,paddingX:30,paddingY:10,slideInAnimation:"easeIn",slideBackAnimation:"bounceOut",slideInDuration:500,slideBackDuration:500,hideDuration:500,autoCloseDelay:3000,stickOnClick:true,stickWhileHover:true,closeOnMouseDown:false,closable:false,isHiding:false,isFading:false,destroyAfterHide:false,closeOnMouseOut:false,xPos:0,yPos:0,initComponent:function(){var d=this;if(d.autoClose&&!d.hasOwnProperty("closable")){d.closable=false}d.updateAlignment(d.align);d.setAnchor(d.anchor);Ext.window.Window.prototype.initComponent.call(this)},onRender:function(){var d=this;Ext.window.Window.prototype.onRender.apply(this,arguments);d.el.hover(d.onMouseEnter,d.onMouseLeave,d);if(d.closeOnMouseDown){Ext.getDoc().on("mousedown",d.onDocumentMousedown,d)}},alignmentProps:{br:{paddingFactorX:-1,paddingFactorY:-1,siblingAlignment:"br-br",anchorAlign:"tr-br"},bl:{paddingFactorX:1,paddingFactorY:-1,siblingAlignment:"bl-bl",anchorAlign:"tl-bl"},tr:{paddingFactorX:-1,paddingFactorY:1,siblingAlignment:"tr-tr",anchorAlign:"br-tr"},tl:{paddingFactorX:1,paddingFactorY:1,siblingAlignment:"tl-tl",anchorAlign:"bl-tl"},b:{paddingFactorX:0,paddingFactorY:-1,siblingAlignment:"b-b",useXAxis:0,anchorAlign:"t-b"},t:{paddingFactorX:0,paddingFactorY:1,siblingAlignment:"t-t",useXAxis:0,anchorAlign:"b-t"},l:{paddingFactorX:1,paddingFactorY:0,siblingAlignment:"l-l",useXAxis:1,anchorAlign:"r-l"},r:{paddingFactorX:-1,paddingFactorY:0,siblingAlignment:"r-r",useXAxis:1,anchorAlign:"l-r"},x:{br:{anchorAlign:"bl-br"},bl:{anchorAlign:"br-bl"},tr:{anchorAlign:"tl-tr"},tl:{anchorAlign:"tr-tl"}}},updateAlignment:function(i){var k=this,m=k.alignmentProps,l=m[i],j=m.x[i];if(j&&k.useXAxis){Ext.applyIf(k,j)}Ext.applyIf(k,l)},getXposAlignedToAnchor:function(){var m=this,j=m.align,p=m.anchor,l=p&&p.el,n=m.el,k=0;if(l&&l.dom){if(!m.useXAxis){k=n.getLeft()}else{if(j==="br"||j==="tr"||j==="r"){k+=l.getAnchorXY("r")[0];k-=(n.getWidth()+m.paddingX)}else{k+=l.getAnchorXY("l")[0];k+=m.paddingX}}}return k},getYposAlignedToAnchor:function(){var l=this,j=l.align,p=l.anchor,k=p&&p.el,n=l.el,m=0;if(k&&k.dom){if(l.useXAxis){m=n.getTop()}else{if(j==="br"||j==="bl"||j==="b"){m+=k.getAnchorXY("b")[1];m-=(n.getHeight()+l.paddingY)}else{m+=k.getAnchorXY("t")[1];m+=l.paddingY}}}return m},getXposAlignedToSibling:function(l){var k=this,i=k.align,m=k.el,j;if(!k.useXAxis){j=m.getLeft()}else{if(i==="tl"||i==="bl"||i==="l"){j=(l.xPos+l.el.getWidth()+l.spacing)}else{j=(l.xPos-m.getWidth()-k.spacing)}}return j},getYposAlignedToSibling:function(l){var j=this,i=j.align,m=j.el,k;if(j.useXAxis){k=m.getTop()}else{if(i==="tr"||i==="tl"||i==="t"){k=(l.yPos+l.el.getHeight()+l.spacing)}else{k=(l.yPos-m.getHeight()-l.spacing)}}return k},getToasts:function(){var i=this.anchor,g=this.anchorAlign,h=i.activeToasts||(i.activeToasts={});return h[g]||(h[g]=[])},setAnchor:function(i){var g=this,h;g.anchor=i=((typeof i==="string")?Ext.getCmp(i):i);if(!i){h=Ext.window.Toast;g.anchor=h.bodyAnchor||(h.bodyAnchor={el:Ext.getBody()})}},beforeShow:function(){var d=this;if(d.stickOnClick){d.body.on("click",function(){d.cancelAutoClose()})}if(d.autoClose){if(!d.closeTask){d.closeTask=new Ext.util.DelayedTask(d.doAutoClose,d)}}d.el.setX(-10000);d.el.setOpacity(1)},afterShow:function(){var k=this,n=k.el,l,p,m,j;Ext.window.Window.prototype.afterShow.apply(this,arguments);l=k.getToasts();m=l.length;p=m&&l[m-1];if(p){n.alignTo(p.el,k.siblingAlignment,[0,0]);k.xPos=k.getXposAlignedToSibling(p);k.yPos=k.getYposAlignedToSibling(p)}else{n.alignTo(k.anchor.el,k.anchorAlign,[(k.paddingX*k.paddingFactorX),(k.paddingY*k.paddingFactorY)],false);k.xPos=k.getXposAlignedToAnchor();k.yPos=k.getYposAlignedToAnchor()}Ext.Array.include(l,k);if(k.animate){j=n.getXY();n.animate({from:{x:j[0],y:j[1]},to:{x:k.xPos,y:k.yPos,opacity:1},easing:k.slideInAnimation,duration:k.slideInDuration,dynamic:true,callback:k.afterPositioned,scope:k})}else{k.setLocalXY(k.xPos,k.yPos);k.afterPositioned()}},afterPositioned:function(){if(this.autoClose){this.closeTask.delay(this.autoCloseDelay)}},onDocumentMousedown:function(d){if(this.isVisible()&&!this.owns(d.getTarget())){this.hide()}},slideBack:function(){var k=this,n=k.anchor,j=n&&n.el,m=k.el,l=k.getToasts(),p=Ext.Array.indexOf(l,k);if(!k.isHiding&&m&&m.dom&&j&&j.isVisible()){if(p){k.xPos=k.getXposAlignedToSibling(l[p-1]);k.yPos=k.getYposAlignedToSibling(l[p-1])}else{k.xPos=k.getXposAlignedToAnchor();k.yPos=k.getYposAlignedToAnchor()}k.stopAnimation();if(k.animate){m.animate({to:{x:k.xPos,y:k.yPos},easing:k.slideBackAnimation,duration:k.slideBackDuration,dynamic:true})}}},update:function(){var d=this;if(d.isVisible()){d.isHiding=true;d.hide()}Ext.window.Window.prototype.update.apply(this,arguments);d.show()},cancelAutoClose:function(){var d=this.closeTask;if(d){d.cancel()}},doAutoClose:function(){var d=this;if(!(d.stickWhileHover&&d.mouseIsOver)){d.close()}else{d.closeOnMouseOut=true}},onMouseEnter:function(){this.mouseIsOver=true},onMouseLeave:function(){var d=this;d.mouseIsOver=false;if(d.closeOnMouseOut){d.closeOnMouseOut=false;d.close()}},removeFromAnchor:function(){var g=this,h,i;if(g.anchor){h=g.getToasts();i=Ext.Array.indexOf(h,g);if(i!==-1){Ext.Array.erase(h,i,1);for(;i<h.length;i++){h[i].slideBack()}}}},getFocusEl:Ext.emptyFn,hide:function(){var e=this,g=e.el;e.cancelAutoClose();if(e.isHiding){if(!e.isFading){Ext.window.Window.prototype.hide.apply(this,arguments);e.removeFromAnchor();e.isHiding=false}}else{e.isHiding=true;e.isFading=true;e.cancelAutoClose();if(g){if(e.animate){g.fadeOut({opacity:0,easing:"easeIn",duration:e.hideDuration,listeners:{afteranimate:function(){e.isFading=false;e.hide(e.animateTarget,e.doClose,e)}}})}else{e.isFading=false;e.hide(e.animateTarget,e.doClose,e)}}}return e}},0,["toast"],["component","box","container","panel","window","toast"],{component:true,box:true,container:true,panel:true,window:true,toast:true},["widget.toast"],0,[Ext.window,"Toast"],function(d){Ext.toast=function(l,k,c,m){var n=l,p;if(Ext.isString(l)){n={title:k,html:l,iconCls:m};if(c){n.align=c}}p=new d(n);p.show();return p}}));(Ext.cmd.derive("Ext.data.amf.Encoder",Ext.Base,{config:{format:3},bytes:[],constructor:function(d){this.initConfig(d);this.clear()},clear:function(){this.bytes=[]},applyFormat:function(e){var g={0:{writeUndefined:this.write0Undefined,writeNull:this.write0Null,writeBoolean:this.write0Boolean,writeNumber:this.write0Number,writeString:this.write0String,writeXml:this.write0Xml,writeDate:this.write0Date,writeArray:this.write0Array,writeGenericObject:this.write0GenericObject},3:{writeUndefined:this.write3Undefined,writeNull:this.write3Null,writeBoolean:this.write3Boolean,writeNumber:this.write3Number,writeString:this.write3String,writeXml:this.write3Xml,writeDate:this.write3Date,writeArray:this.write3Array,writeGenericObject:this.write3GenericObject}}[e];if(g){Ext.apply(this,g);return e}else{return}},writeObject:function(e){var g=typeof(e);if(g==="undefined"){this.writeUndefined()}else{if(e===null){this.writeNull()}else{if(Ext.isBoolean(e)){this.writeBoolean(e)}else{if(Ext.isString(e)){this.writeString(e)}else{if(g==="number"||e instanceof Number){this.writeNumber(e)}else{if(g==="object"){if(e instanceof Date){this.writeDate(e)}else{if(Ext.isArray(e)){this.writeArray(e)}else{if(this.isXmlDocument(e)){this.writeXml(e)}else{this.writeGenericObject(e)}}}}else{}}}}}}},write3Undefined:function(){this.writeByte(0)},write0Undefined:function(){this.writeByte(6)},write3Null:function(){this.writeByte(1)},write0Null:function(){this.writeByte(5)},write3Boolean:function(d){if(d){this.writeByte(3)}else{this.writeByte(2)}},write0Boolean:function(d){this.writeByte(1);if(d){this.writeByte(1)}else{this.writeByte(0)}},encode29Int:function(j){var i=[],m=j,k,l;if(m==0){return[0]}if(m>2097151){k=m&255;i.unshift(k);m=m>>8}while(m>0){k=m&127;i.unshift(k);m=m>>7}for(l=0;l<i.length-1;l++){i[l]=i[l]|128}return i},write3Number:function(i){var h;var k=536870911,j=-268435455;if(i instanceof Number){i=i.valueOf()}if(i%1===0&&i>=j&&i<=k){i=i&k;h=this.encode29Int(i);h.unshift(4);this.writeBytes(h)}else{h=this.encodeDouble(i);h.unshift(5);this.writeBytes(h)}},write0Number:function(g){var e;if(g instanceof Number){g=g.valueOf()}e=this.encodeDouble(g);e.unshift(0);this.writeBytes(e)},encodeUtf8Char:function(c){var l=[],i,p,m,n;if(c<=127){l.push(c)}else{if(c<=2047){p=2}else{if(c<=65535){p=3}else{p=4}}n=128;for(m=1;m<p;m++){i=(c&63)|128;l.unshift(i);c=c>>6;n=(n>>1)|128}i=c|n;l.unshift(i)}return l},encodeUtf8String:function(h){var k,i=[];for(k=0;k<h.length;k++){var j=this.encodeUtf8Char(h.charCodeAt(k));Ext.Array.push(i,j)}return i},encode3Utf8StringLen:function(g){var i=g.length,h=[];if(i<=268435455){i=i<<1;i=i|1;h=this.encode29Int(i)}else{}return h},write3String:function(h){if(h==""){this.writeByte(6);this.writeByte(1)}else{var g=this.encodeUtf8String(h);var i=this.encode3Utf8StringLen(g);this.writeByte(6);this.writeBytes(i);this.writeBytes(g)}},encodeXInt:function(i,h){var j=[],k;for(k=0;k<h;k++){j.unshift(i&255);i=i>>8}return j},write0String:function(i){if(i==""){this.writeByte(2);this.writeBytes([0,0])}else{var h=this.encodeUtf8String(i);var j;var k;if(h.length<=65535){j=2;k=this.encodeXInt(h.length,2)}else{j=12;k=this.encodeXInt(h.length,4)}this.writeByte(j);this.writeBytes(k);this.writeBytes(h)}},write3XmlWithType:function(k,m){var i=this.convertXmlToString(k);if(i==""){this.writeByte(m);this.writeByte(1)}else{var j=this.encodeUtf8String(i);var l=this.encode3Utf8StringLen(j);this.writeByte(m);this.writeBytes(l);this.writeBytes(j)}},write3XmlDocument:function(d){this.write3XmlWithType(d,7)},write3Xml:function(d){this.write3XmlWithType(d,11)},write0Xml:function(j){var h=this.convertXmlToString(j);this.writeByte(15);var i=this.encodeUtf8String(h);var k=this.encodeXInt(i.length,4);this.writeBytes(k);this.writeBytes(i)},write3Date:function(d){this.writeByte(8);this.writeBytes(this.encode29Int(1));this.writeBytes(this.encodeDouble(new Number(d)))},write0Date:function(d){this.writeByte(11);this.writeBytes(this.encodeDouble(new Number(d)));this.writeBytes([0,0])},write3Array:function(e){this.writeByte(9);var g=e.length;g=g<<1;g=g|1;this.writeBytes(this.encode29Int(g));this.writeByte(1);Ext.each(e,function(c){this.writeObject(c)},this)},write0ObjectProperty:function(j,h){if(!(j instanceof String)&&(typeof(j)!=="string")){j=j+""}var i=this.encodeUtf8String(j);var k;k=this.encodeXInt(i.length,2);this.writeBytes(k);this.writeBytes(i);this.writeObject(h)},write0Array:function(i){var h;this.writeByte(8);var g=0;for(h in i){g++}this.writeBytes(this.encodeXInt(g,4));for(h in i){Ext.Array.push(this.write0ObjectProperty(h,i[h]))}this.writeBytes([0,0,9])},write0StrictArray:function(e){this.writeByte(10);var g=e.length;this.writeBytes(this.encodeXInt(g,4));Ext.each(e,function(c){this.writeObject(c)},this)},write3ByteArray:function(e){this.writeByte(12);var g=e.length;g=g<<1;g=g|1;this.writeBytes(this.encode29Int(g));this.writeBytes(e)},write3GenericObject:function(j){var l;this.writeByte(10);var k=11;this.writeByte(k);this.writeByte(1);for(l in j){var m=new String(l).valueOf();if(m==""){}var i=(this.encodeUtf8String(l));this.writeBytes(this.encode3Utf8StringLen(l));this.writeBytes(i);this.writeObject(j[l])}this.writeByte(1)},write0GenericObject:function(h){var i,k,j;i=!!h.$flexType;k=i?16:3;this.writeByte(k);if(i){this.write0ShortUtf8String(h.$flexType)}for(j in h){if(j!="$flexType"){Ext.Array.push(this.write0ObjectProperty(j,h[j]))}}this.writeBytes([0,0,9])},writeByte:function(d){Ext.Array.push(this.bytes,d)},writeBytes:function(g){var e;Ext.Array.push(this.bytes,g)},convertXmlToString:function(g){var e;if(window.XMLSerializer){e=new window.XMLSerializer().serializeToString(g)}else{e=g.xml}return e},isXmlDocument:function(d){if(window.DOMParser){if(Ext.isDefined(d.doctype)){return true}}if(Ext.isString(d.xml)){return true}return false},encodeDouble:function(e){var D=11,E=52;var A=(1<<(D-1))-1,F,x,z,s,B,G,i,C=[];var y=[127,240,0,0,0,0,0,0],H=[255,240,0,0,0,0,0,0],v=[255,248,0,0,0,0,0,0];if(isNaN(e)){C=v}else{if(e===Infinity){C=y}else{if(e==-Infinity){C=H}else{if(e===0){x=0;z=0;F=(1/e===-Infinity)?1:0}else{F=e<0;e=Math.abs(e);if(e>=Math.pow(2,1-A)){s=Math.min(Math.floor(Math.log(e)/Math.LN2),A);x=s+A;z=Math.round(e*Math.pow(2,E-s)-Math.pow(2,E))}else{x=0;z=Math.round(e/Math.pow(2,1-A-E))}}G=[];for(B=E;B;B-=1){G.push(z%2?1:0);z=Math.floor(z/2)}for(B=D;B;B-=1){G.push(x%2?1:0);x=Math.floor(x/2)}G.push(F?1:0);G.reverse();i=G.join("");C=[];while(i.length){C.push(parseInt(i.substring(0,8),2));i=i.substring(8)}}}}return C},write0ShortUtf8String:function(g){var h=this.encodeUtf8String(g),i;i=this.encodeXInt(h.length,2);this.writeBytes(i);this.writeBytes(h)},writeAmfPacket:function(g,h){var i;this.writeBytes([0,0]);this.writeBytes(this.encodeXInt(g.length,2));for(i in g){this.writeAmfHeader(g[i].name,g[i].mustUnderstand,g[i].value)}this.writeBytes(this.encodeXInt(h.length,2));for(i in h){this.writeAmfMessage(h[i].targetUri,h[i].responseUri,h[i].body)}},writeAmfHeader:function(h,j,i){this.write0ShortUtf8String(h);var k=j?1:0;this.writeByte(k);this.writeBytes(this.encodeXInt(-1,4));this.writeObject(i)},writeAmfMessage:function(g,h,i){this.write0ShortUtf8String(g);this.write0ShortUtf8String(h);this.writeBytes(this.encodeXInt(-1,4));this.write0StrictArray(i)}},1,0,0,0,["data.amf.Encoder"],0,[Ext.data.amf,"Encoder"],0));(Ext.cmd.derive("Ext.data.amf.Packet",Ext.Base,function(){var l=Math.pow(2,-52),q=Math.pow(2,8),k=0,p,r,n,m;return{typeMap:{0:{0:"readDouble",1:"readBoolean",2:"readAmf0String",3:"readAmf0Object",5:"readNull",6:"readUndefined",7:"readReference",8:"readEcmaArray",10:"readStrictArray",11:"readAmf0Date",12:"readLongString",13:"readUnsupported",15:"readAmf0Xml",16:"readTypedObject"},3:{0:"readUndefined",1:"readNull",2:"readFalse",3:"readTrue",4:"readUInt29",5:"readDouble",6:"readAmf3String",7:"readAmf3Xml",8:"readAmf3Date",9:"readAmf3Array",10:"readAmf3Object",11:"readAmf3Xml",12:"readByteArray"}},decode:function(d){var h=this,g=h.headers=[],i=h.messages=[],c,e;k=0;p=h.bytes=d;r=h.strings=[];n=h.objects=[];m=h.traits=[];h.version=h.readUInt(2);for(c=h.readUInt(2);c--;){g.push({name:h.readAmf0String(),mustUnderstand:h.readBoolean(),byteLength:h.readUInt(4),value:h.readValue()});r=h.strings=[];n=h.objects=[];m=h.traits=[]}for(e=h.readUInt(2);e--;){i.push({targetURI:h.readAmf0String(),responseURI:h.readAmf0String(),byteLength:h.readUInt(4),body:h.readValue()});r=h.strings=[];n=h.objects=[];m=h.traits=[]}k=0;p=r=n=m=h.bytes=h.strings=h.objects=h.traits=null;return h},decodeValue:function(d){var c=this;p=c.bytes=d;k=0;c.version=3;r=c.strings=[];n=c.objects=[];m=c.traits=[];return c.readValue()},parseXml:function(d){var c;if(window.DOMParser){c=(new DOMParser()).parseFromString(d,"text/xml")}else{c=new ActiveXObject("Microsoft.XMLDOM");c.loadXML(d)}return c},readAmf0Date:function(){var c=new Date(this.readDouble());k+=2;return c},readAmf0Object:function(c){var d=this,e;c=c||{};n.push(c);while((e=d.readAmf0String())||p[k]!==9){c[e]=d.readValue()}k++;return c},readAmf0String:function(){return this.readUtf8(this.readUInt(2))},readAmf0Xml:function(){return this.parseXml(this.readLongString())},readAmf3Array:function(){var i=this,g=i.readUInt29(),c,d,h,e;if(g&1){c=(g>>1);d=i.readAmf3String();if(d){h={};n.push(h);do{h[d]=i.readValue()}while((d=i.readAmf3String()));for(e=0;e<c;e++){h[e]=i.readValue()}}else{h=[];n.push(h);for(e=0;e<c;e++){h.push(i.readValue())}}}else{h=n[g>>1]}return h},readAmf3Date:function(){var d=this,c=d.readUInt29(),e;if(c&1){e=new Date(d.readDouble());n.push(e)}else{e=n[c>>1]}return e},readAmf3Object:function(){var z=this,d=z.readUInt29(),h=[],x,B,A,i,j,e,y,c,g;if(d&1){x=(d&7);if(x===3){A=z.readAmf3String();i=!!(d&8);B=(d>>4);for(g=0;g<B;g++){h.push(z.readAmf3String())}j={className:A,dynamic:i,members:h};m.push(j)}else{if((d&3)===1){j=m[d>>2];A=j.className;i=j.dynamic;h=j.members;B=h.length}else{if(x===7){}}}if(A){c=Ext.ClassManager.getByAlias("amf."+A);e=c?new c():{$className:A}}else{e={}}n.push(e);for(g=0;g<B;g++){e[h[g]]=z.readValue()}if(i){while((y=z.readAmf3String())){e[y]=z.readValue()}}if((!c)&&this.converters[A]){e=this.converters[A](e)}}else{e=n[d>>1]}return e},readAmf3String:function(){var e=this,c=e.readUInt29(),d;if(c&1){d=e.readUtf8(c>>1);if(d){r.push(d)}return d}else{return r[c>>1]}},readAmf3Xml:function(){var e=this,c=e.readUInt29(),d;if(c&1){d=e.parseXml(e.readUtf8(c>>1));n.push(d)}else{d=n[c>>1]}return d},readBoolean:function(){return !!p[k++]},readByteArray:function(){var c=this.readUInt29(),d,e;if(c&1){e=k+(c>>1);d=Array.prototype.slice.call(p,k,e);n.push(d);k=e}else{d=n[c>>1]}return d},readDouble:function(){var j=p[k++],e=p[k++],c=(j>>7)?-1:1,g=(((j&127)<<4)|(e>>4)),d=(e&15),i=g?1:0,h=6;while(h--){d=(d*q)+p[k++]}if(!g){if(!d){return 0}g=1}if(g===2047){return d?NaN:(Infinity*c)}return c*Math.pow(2,g-1023)*(i+l*d)},readEcmaArray:function(){k+=4;return this.readAmf0Object()},readFalse:function(){return false},readLongString:function(){return this.readUtf8(this.readUInt(4))},readNull:function(){return null},readReference:function(){return n[this.readUInt(2)]},readStrictArray:function(){var c=this,d=c.readUInt(4),e=[];n.push(e);while(d--){e.push(c.readValue())}return e},readTrue:Ext.returnTrue,readTypedObject:function(){var g=this,h=g.readAmf0String(),d,e,c;d=Ext.ClassManager.getByAlias("amf."+h);e=d?new d():{$className:h};c=g.readAmf0Object(e);if((!d)&&this.converters[h]){c=this.converters[h](e)}return c},readUInt:function(c){var d=1,e;e=p[k++];for(;d<c;++d){e=(e<<8)|p[k++]}return e},readUInt29:function(){var c=p[k++],d;if(c&128){d=p[k++];c=((c&127)<<7)|(d&127);if(d&128){d=p[k++];c=(c<<7)|(d&127);if(d&128){d=p[k++];c=(c<<8)|d}}}return c},readUndefined:Ext.emptyFn,readUnsupported:Ext.emptyFn,readUtf8:function(x){var g=k+x,c=[],i=0,z=65535,h=1,w=[],d=0,e,j,y;e=[c];while(k<g){y=p[k++];if(y>127){if(y>239){j=4;y=(y&7)}else{if(y>223){j=3;y=(y&15)}else{j=2;y=(y&31)}}while(--j){y=((y<<6)|(p[k++]&63))}}c.push(y);if(++i===z){e.push(c=[]);i=0;h++}}for(;d<h;d++){w.push(String.fromCharCode.apply(String,e[d]))}return w.join("")},readValue:function(){var c=this,d=p[k++];if(d===17){c.version=3;d=p[k++]}return c[c.typeMap[c.version][d]]()},converters:{"flex.messaging.io.ArrayCollection":function(c){return c.source||[]}}}},0,0,0,0,0,0,[Ext.data.amf,"Packet"],0));(Ext.cmd.derive("Ext.data.amf.Reader",Ext.data.reader.Json,{messageIndex:0,read:function(n){var k=this,p=n.responseBytes,j,l,m;if(!p){throw"AMF Reader cannot process the response because it does not contain binary data. Make sure the Proxy's 'binary' config is true."}j=new Ext.data.amf.Packet();j.decode(p);l=j.messages;if(l.length){m=k.readRecords(l[k.messageIndex].body)}else{m=k.nullResultSet;if(j.invalid){m.success=false}}return m}},0,0,0,0,["reader.amf"],0,[Ext.data.amf,"Reader"],0));(Ext.cmd.derive("Ext.data.amf.Proxy",Ext.data.proxy.Ajax,{binary:true,reader:"amf"},0,0,0,0,["proxy.amf"],0,[Ext.data.amf,"Proxy"],0));(Ext.cmd.derive("Ext.data.amf.RemotingMessage",Ext.Base,{config:{$flexType:"flex.messaging.messages.RemotingMessage",body:[],clientId:"",destination:"",headers:[],messageId:"",operation:"",source:"",timestamp:[],timeToLive:[]},constructor:function(d){this.initConfig(d)},encodeMessage:function(){var g=Ext.create("Ext.data.amf.XmlEncoder"),e;e=Ext.copyTo({},this,"$flexType,body,clientId,destination,headers,messageId,operation,source,timestamp,timeToLive",true);g.writeObject(e);return g.body}},1,0,0,0,["data.amf.remotingmessage"],0,[Ext.data.amf,"RemotingMessage"],0));(Ext.cmd.derive("Ext.data.amf.XmlDecoder",Ext.Base,{statics:{readXml:function(g){var e;if(window.DOMParser){e=(new DOMParser()).parseFromString(g,"text/xml")}else{e=new ActiveXObject("Microsoft.XMLDOM");e.loadXML(g)}return e},readByteArray:function(k){var m=[],c,l,i;i=k.firstChild.nodeValue;for(l=0;l<i.length;l=l+2){c=i.substr(l,2);m.push(parseInt(c,16))}return m},readAMF3Value:function(g){var e;e=Ext.create("Ext.data.amf.Packet");return e.decodeValue(g)},decodeTidFromFlexUID:function(g){var e;e=g.substr(0,8);return parseInt(e,16)}},constructor:function(d){this.initConfig(d);this.clear()},clear:function(){this.objectReferences=[];this.traitsReferences=[];this.stringReferences=[]},readAmfxMessage:function(n){var k,l,p,m,i={};this.clear();k=Ext.data.amf.XmlDecoder.readXml(n);l=k.getElementsByTagName("amfx")[0];p=l.getElementsByTagName("body")[0];i.targetURI=p.getAttribute("targetURI");i.responseURI=p.getAttribute("responseURI");for(m=0;m<p.childNodes.length;m++){if(p.childNodes.item(m).nodeType!=1){continue}i.message=this.readValue(p.childNodes.item(m));break}return i},readValue:function(g){var e;if(typeof g.normalize==="function"){g.normalize()}if(g.tagName=="null"){return null}else{if(g.tagName=="true"){return true}else{if(g.tagName=="false"){return false}else{if(g.tagName=="string"){return this.readString(g)}else{if(g.tagName=="int"){return parseInt(g.firstChild.nodeValue)}else{if(g.tagName=="double"){return parseFloat(g.firstChild.nodeValue)}else{if(g.tagName=="date"){e=new Date(parseFloat(g.firstChild.nodeValue));this.objectReferences.push(e);return e}else{if(g.tagName=="dictionary"){return this.readDictionary(g)}else{if(g.tagName=="array"){return this.readArray(g)}else{if(g.tagName=="ref"){return this.readObjectRef(g)}else{if(g.tagName=="object"){return this.readObject(g)}else{if(g.tagName=="xml"){return Ext.data.amf.XmlDecoder.readXml(g.firstChild.nodeValue)}else{if(g.tagName=="bytearray"){return Ext.data.amf.XmlDecoder.readAMF3Value(Ext.data.amf.XmlDecoder.readByteArray(g))}}}}}}}}}}}}}return null},readString:function(g){var e;if(g.getAttributeNode("id")){return this.stringReferences[parseInt(g.getAttribute("id"))]}e=(g.firstChild?g.firstChild.nodeValue:"")||"";this.stringReferences.push(e);return e},readTraits:function(j){var i=[],k,h;if(j===null){return null}if(j.getAttribute("externalizable")=="true"){return null}if(j.getAttributeNode("id")){return this.traitsReferences[parseInt(j.getAttributeNode("id").value)]}h=j.childNodes;for(k=0;k<h.length;k++){if(h.item(k).nodeType!=1){continue}i.push(this.readValue(h.item(k)))}this.traitsReferences.push(i);return i},readObjectRef:function(g){var e;e=parseInt(g.getAttribute("id"));return this.objectReferences[e]},readObject:function(x){var v,j=[],n,u,w,y,i,z,t=null,s;s=x.getAttribute("type");if(s){t=Ext.ClassManager.getByAlias("amfx."+s)}v=t?new t():(s?{$className:s}:{});if((!t)&&this.converters[s]){v=this.converters[s](this,x);return v}n=x.getElementsByTagName("traits")[0];j=this.readTraits(n);this.objectReferences.push(v);w=0;for(u=0;u<x.childNodes.length;u++){y=x.childNodes.item(u);if(y.nodeType!=1){continue}if(y.tagName=="traits"){continue}i=j[w];z=this.readValue(y);w=w+1;v[i]=z}return v},readArray:function(u){var j=[],w,l,n,t,y,v,i,x,z;this.objectReferences.push(j);i=parseInt(u.getAttributeNode("length").value);l=0;for(t=0;t<u.childNodes.length;t++){w=u.childNodes.item(t);if(w.nodeType!=1){continue}if(w.tagName=="item"){y=w.getAttributeNode("name").value;x=w.childNodes;for(n=0;n<x.length;n++){z=x.item(n);if(z.nodeType!=1){continue}v=this.readValue(z);break}j[y]=v}else{j[l]=this.readValue(w);l++}}return j},readDictionary:function(p){var i={},q,n,r,s,j,t;t=parseInt(p.getAttribute("length"));this.objectReferences.push(i);q=null;n=null;s=0;for(r=0;r<p.childNodes.length;r++){j=p.childNodes.item(r);if(j.nodeType!=1){continue}if(!q){q=this.readValue(j);continue}n=this.readValue(j);s=s+1;i[q]=n;q=null;n=null}return i},convertObjectWithSourceField:function(j){var k,h,i;for(k=0;k<j.childNodes.length;k++){h=j.childNodes.item(k);if(h.tagName=="bytearray"){i=this.readValue(h);this.objectReferences.push(i);return i}}return null},converters:{"flex.messaging.io.ArrayCollection":function(e,g){return e.convertObjectWithSourceField(g)},"mx.collections.ArrayList":function(e,g){return e.convertObjectWithSourceField(g)},"mx.collections.ArrayCollection":function(e,g){return e.convertObjectWithSourceField(g)}}},1,0,0,0,["data.amf.xmldecoder"],0,[Ext.data.amf,"XmlDecoder"],0));(Ext.cmd.derive("Ext.data.amf.XmlEncoder",Ext.Base,{body:"",statics:{generateFlexUID:function(i){var j="",k,m,l;if(i===undefined){i=Ext.Number.randomInt(0,4294967295)}l=(i+4294967296).toString(16).toUpperCase();j=l.substr(l.length-8,8);for(m=0;m<3;m++){j+="-";for(k=0;k<4;k++){j+=Ext.Number.randomInt(0,15).toString(16).toUpperCase()}}j+="-";l=new Number(new Date()).valueOf().toString(16).toUpperCase();m=0;if(l.length<8){for(k=0;k<l.length-8;k++){m++;j+="0"}}j+=l.substr(-(8-m));for(k=0;k<4;k++){j+=Ext.Number.randomInt(0,15).toString(16).toUpperCase()}return j}},constructor:function(d){this.initConfig(d);this.clear()},clear:function(){this.body=""},encodeUndefined:function(){return this.encodeNull()},writeUndefined:function(){this.write(this.encodeUndefined())},encodeNull:function(){return"<null />"},writeNull:function(){this.write(this.encodeNull())},encodeBoolean:function(e){var g;if(e){g="<true />"}else{g="<false />"}return g},writeBoolean:function(d){this.write(this.encodeBoolean(d))},encodeString:function(e){var g;if(e===""){g="<string />"}else{g="<string>"+e+"</string>"}return g},writeString:function(d){this.write(this.encodeString(d))},encodeInt:function(d){return"<int>"+d.toString()+"</int>"},writeInt:function(d){this.write(this.encodeInt(d))},encodeDouble:function(d){return"<double>"+d.toString()+"</double>"},writeDouble:function(d){this.write(this.encodeDouble(d))},encodeNumber:function(h){var i=536870911,g=-268435455;if(h instanceof Number){h=h.valueOf()}if(h%1===0&&h>=g&&h<=i){return this.encodeInt(h)}else{return this.encodeDouble(h)}},writeNumber:function(d){this.write(this.encodeNumber(d))},encodeDate:function(d){return"<date>"+(new Number(d)).toString()+"</date>"},writeDate:function(d){this.write(this.encodeDate(d))},encodeEcmaElement:function(i,h){var g='<item name="'+i.toString()+'">'+this.encodeObject(h)+"</item>";return g},encodeArray:function(i){var m=[],r,n=[],p=i.length,q,l;for(q in i){if(Ext.isNumeric(q)&&(q%1==0)){m[q]=this.encodeObject(i[q])}else{n.push(this.encodeEcmaElement(q,i[q]))}}r=m.length;for(q=0;q<m.length;q++){if(m[q]===undefined){r=q;break}}if(r<m.length){for(q=firstNonOrdinals;q<m.length;q++){if(m[q]!==undefined){n.push(this.encodeEcmaElement(q,m[q]))}}m=m.slice(0,r)}l='<array length="'+m.length+'"';if(n.length>0){l+=' ecma="true"'}l+=">";for(q=0;q<m.length;q++){l+=m[q]}for(q in n){l+=n[q]}l+="</array>";return l},writeArray:function(d){this.write(this.encodeArray(d))},encodeXml:function(g){var e=this.convertXmlToString(g);return"<xml><![CDATA["+e+"]]></xml>"},writeXml:function(d){this.write(this.encodeXml(d))},encodeGenericObject:function(l){var m=[],p=[],i=null,n,k;for(n in l){if(n=="$flexType"){i=l[n]}else{m.push(this.encodeString(new String(n)));p.push(this.encodeObject(l[n]))}}if(i){k='<object type="'+i+'">'}else{k="<object>"}if(m.length>0){k+="<traits>";k+=m.join("");k+="</traits>"}else{k+="<traits />"}k+=p.join("");k+="</object>";return k},writeGenericObject:function(d){this.write(this.encodeGenericObject(d))},encodeByteArray:function(h){var i,k,j;if(h.length>0){i="<bytearray>";for(k=0;k<h.length;k++){j=h[k].toString(16).toUpperCase();if(h[k]<16){j="0"+j}i+=j}i+="</bytearray>"}else{i="<bytearray />"}return i},writeByteArray:function(d){this.write(this.encodeByteArray(d))},encodeObject:function(e){var g=typeof(e);if(g==="undefined"){return this.encodeUndefined()}else{if(e===null){return this.encodeNull()}else{if(Ext.isBoolean(e)){return this.encodeBoolean(e)}else{if(Ext.isString(e)){return this.encodeString(e)}else{if(g==="number"||e instanceof Number){return this.encodeNumber(e)}else{if(g==="object"){if(e instanceof Date){return this.encodeDate(e)}else{if(Ext.isArray(e)){return this.encodeArray(e)}else{if(this.isXmlDocument(e)){return this.encodeXml(e)}else{return this.encodeGenericObject(e)}}}}else{}}}}}}return null},writeObject:function(d){this.write(this.encodeObject(d))},encodeAmfxRemotingPacket:function(i){var g,h;h='<amfx ver="3" xmlns="http://www.macromedia.com/2005/amfx"><body>';h+=i.encodeMessage();h+="</body></amfx>";return h},writeAmfxRemotingPacket:function(d){this.write(this.encodeAmfxRemotingPacket(d))},convertXmlToString:function(g){var e;if(window.XMLSerializer){e=new window.XMLSerializer().serializeToString(g)}else{e=g.xml}return e},isXmlDocument:function(d){if(window.DOMParser){if(Ext.isDefined(d.doctype)){return true}}if(Ext.isString(d.xml)){return true}return false},write:function(d){this.body+=d}},1,0,0,0,["data.amf.xmlencoder"],0,[Ext.data.amf,"XmlEncoder"],0));(Ext.cmd.derive("Ext.draw.ContainerBase",Ext.panel.Panel,{previewTitleText:"Chart Preview",previewAltText:"Chart preview",layout:"container",addElementListener:function(){var e=this,g=arguments;if(e.rendered){e.el.on.apply(e.el,g)}else{e.on("render",function(){e.el.on.apply(e.el,g)})}},removeElementListener:function(){var e=this,g=arguments;if(e.rendered){e.el.un.apply(e.el,g)}},afterRender:function(){Ext.panel.Panel.prototype.afterRender.apply(this,arguments);this.initAnimator()},getItems:function(){var e=this,g=e.items;if(!g||!g.isMixedCollection){e.initItems()}return e.items},onRender:function(){Ext.panel.Panel.prototype.onRender.apply(this,arguments);this.element=this.el;this.innerElement=this.body},setItems:function(d){this.items=d;return d},setSurfaceSize:function(e,g){this.resizeHandler({width:e,height:g});this.renderFrame()},onResize:function(k,m,l,i){var j=this;Ext.panel.Panel.prototype.onResize.call(this,k,m,l,i);j.setBodySize({width:k,height:m})},preview:function(){var d=this.getImage();new Ext.window.Window({title:this.previewTitleText,closeable:true,renderTo:Ext.getBody(),autoShow:true,maximizeable:true,maximized:true,border:true,layout:{type:"hbox",pack:"center",align:"middle"},items:{xtype:"container",items:{xtype:"image",mode:"img",cls:"x-chart-image",alt:this.previewAltText,src:d.data,listeners:{afterrender:function(){var c=this,k=c.imgEl.dom,i=d.type==="svg"?1:(window.devicePixelRatio||1),j;if(!k.naturalWidth||!k.naturalHeight){k.onload=function(){var e=k.naturalWidth,g=k.naturalHeight;c.setWidth(Math.floor(e/i));c.setHeight(Math.floor(g/i))}}else{j=c.getSize();c.setWidth(Math.floor(j.width/i));c.setHeight(Math.floor(j.height/i))}}}}}})},privates:{getTargetEl:function(){return this.innerElement},reattachToBody:function(){var d=this;if(d.pendingDetachSize){d.onBodyResize()}d.pendingDetachSize=false;Ext.panel.Panel.prototype.reattachToBody.call(this)}}},0,0,["component","box","container","panel"],{component:true,box:true,container:true,panel:true},0,0,[Ext.draw,"ContainerBase"],0));(Ext.cmd.derive("Ext.draw.SurfaceBase",Ext.Widget,{getOwnerBody:function(){return this.ownerCt.body},destroy:function(){var d=this;if(d.hasListeners.destroy){d.fireEvent("destroy",d)}Ext.Widget.prototype.destroy.call(this)}},0,0,["widget"],{widget:true},0,0,[Ext.draw,"SurfaceBase"],0));(Ext.cmd.derive("Ext.draw.Color",Ext.Base,{statics:{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbToHexRe:/\s*rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbaToHexRe:/\s*rgba\((\d+),\s*(\d+),\s*(\d+),\s*([\.\d]+)\)/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,NONE:"none",RGBA_NONE:"rgba(0, 0, 0, 0)"},isColor:true,lightnessFactor:0.2,constructor:function(h,j,k,i){this.setRGB(h,j,k,i)},setRGB:function(i,k,m,j){var l=this;l.r=Math.min(255,Math.max(0,i));l.g=Math.min(255,Math.max(0,k));l.b=Math.min(255,Math.max(0,m));if(j===undefined){l.a=1}else{l.a=Math.min(1,Math.max(0,j))}},getGrayscale:function(){return this.r*0.3+this.g*0.59+this.b*0.11},getHSL:function(){var s=this,x=s.r/255,t=s.g/255,r=s.b/255,l=Math.max(x,t,r),v=Math.min(x,t,r),h=l-v,u,g=0,w=0.5*(l+v);if(v!==l){g=(w<=0.5)?h/(l+v):h/(2-l-v);if(x===l){u=60*(t-r)/h}else{if(t===l){u=120+60*(r-x)/h}else{u=240+60*(x-t)/h}}if(u<0){u+=360}if(u>=360){u-=360}}return[u,g,w]},getHSV:function(){var s=this,x=s.r/255,t=s.g/255,r=s.b/255,q=Math.max(x,t,r),v=Math.min(x,t,r),w=q-v,u,g=0,h=q;if(v!=q){g=h?w/h:0;if(x===q){u=60*(t-r)/w}else{if(t===q){u=60*(r-x)/w+120}else{u=60*(x-t)/w+240}}if(u<0){u+=360}if(u>=360){u-=360}}return[u,g,h]},setHSL:function(c,h,l){var t=this,m=Math.abs,r,q,s;c=(c%360+360)%360;h=h>1?1:h<0?0:h;l=l>1?1:l<0?0:l;if(h===0||c===null){l*=255;t.setRGB(l,l,l)}else{c/=60;r=h*(1-m(2*l-1));q=r*(1-m(c%2-1));s=l-r/2;s*=255;r*=255;q*=255;switch(Math.floor(c)){case 0:t.setRGB(r+s,q+s,s);break;case 1:t.setRGB(q+s,r+s,s);break;case 2:t.setRGB(s,r+s,q+s);break;case 3:t.setRGB(s,q+s,r+s);break;case 4:t.setRGB(q+s,s,r+s);break;case 5:t.setRGB(r+s,s,q+s);break}}return t},setHSV:function(m,n,p){var h=this,c,q,r;m=(m%360+360)%360;n=n>1?1:n<0?0:n;p=p>1?1:p<0?0:p;if(n===0||m===null){p*=255;h.setRGB(p,p,p)}else{m/=60;c=p*n;q=c*(1-Math.abs(m%2-1));r=p-c;r*=255;c*=255;q*=255;switch(Math.floor(m)){case 0:h.setRGB(c+r,q+r,r);break;case 1:h.setRGB(q+r,c+r,r);break;case 2:h.setRGB(r,c+r,q+r);break;case 3:h.setRGB(r,q+r,c+r);break;case 4:h.setRGB(q+r,r,c+r);break;case 5:h.setRGB(c+r,r,q+r);break}}return h},createLighter:function(e){if(!e&&e!==0){e=this.lightnessFactor}var g=this.getHSL();g[2]=Ext.Number.constrain(g[2]+e,0,1);return Ext.draw.Color.fromHSL(g[0],g[1],g[2])},createDarker:function(d){if(!d&&d!==0){d=this.lightnessFactor}return this.createLighter(-d)},toString:function(){var g=this,l=Math.round;if(g.a===1){var j=l(g.r).toString(16),k=l(g.g).toString(16),m=l(g.b).toString(16);j=(j.length===1)?"0"+j:j;k=(k.length===1)?"0"+k:k;m=(m.length===1)?"0"+m:m;return["#",j,k,m].join("")}else{return"rgba("+[l(g.r),l(g.g),l(g.b),g.a===0?0:g.a.toFixed(15)].join(", ")+")"}},toHex:function(n){if(Ext.isArray(n)){n=n[0]}if(!Ext.isString(n)){return""}if(n.substr(0,1)==="#"){return n}var k=Ext.draw.Color.colorToHexRe.exec(n);if(Ext.isArray(k)){var j=parseInt(k[2],10),l=parseInt(k[3],10),p=parseInt(k[4],10),m=p|(l<<8)|(j<<16);return k[1]+"#"+("000000"+m.toString(16)).slice(-6)}else{return""}},setFromString:function(g){var p,m,n,r,q=1,l=parseInt;if(g===Ext.draw.Color.NONE){this.r=this.g=this.b=this.a=0;return this}if((g.length===4||g.length===7)&&g.substr(0,1)==="#"){p=g.match(Ext.draw.Color.hexRe);if(p){m=l(p[1],16)>>0;n=l(p[2],16)>>0;r=l(p[3],16)>>0;if(g.length===4){m+=(m*16);n+=(n*16);r+=(r*16)}}}else{if((p=g.match(Ext.draw.Color.rgbToHexRe))){m=+p[1];n=+p[2];r=+p[3]}else{if((p=g.match(Ext.draw.Color.rgbaToHexRe))){m=+p[1];n=+p[2];r=+p[3];q=+p[4]}else{if(Ext.draw.Color.ColorList.hasOwnProperty(g.toLowerCase())){return this.setFromString(Ext.draw.Color.ColorList[g.toLowerCase()])}}}}if(typeof m==="undefined"){return this}this.r=m;this.g=n;this.b=r;this.a=q;return this}},3,0,0,0,0,0,[Ext.draw,"Color"],function(){var d=new this();this.addStatics({fly:function(c,g,k,j){switch(arguments.length){case 1:d.setFromString(c);break;case 3:case 4:d.setRGB(c,g,k,j);break;default:return null}return d},ColorList:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},fromHSL:function(c,h,i){return(new this(0,0,0,0)).setHSL(c,h,i)},fromHSV:function(c,h,i){return(new this(0,0,0,0)).setHSL(c,h,i)},fromString:function(c){return(new this(0,0,0,0)).setFromString(c)},create:function(c){if(c instanceof this){return c}else{if(Ext.isArray(c)){return new Ext.draw.Color(c[0],c[1],c[2],c[3])}else{if(Ext.isString(c)){return Ext.draw.Color.fromString(c)}else{if(arguments.length>2){return new Ext.draw.Color(arguments[0],arguments[1],arguments[2],arguments[3])}else{return new Ext.draw.Color(0,0,0,0)}}}}}})}));(Ext.cmd.derive("Ext.draw.sprite.AnimationParser",Ext.Base,function(){function d(c,h,i){return c+(h-c)*i}return{singleton:true,attributeRe:/^url\(#([a-zA-Z\-]+)\)$/,color:{parseInitial:function(c,g){if(Ext.isString(c)){c=Ext.draw.Color.create(c)}if(Ext.isString(g)){g=Ext.draw.Color.create(g)}if((c instanceof Ext.draw.Color)&&(g instanceof Ext.draw.Color)){return[[c.r,c.g,c.b,c.a],[g.r,g.g,g.b,g.a]]}else{return[c||g,g||c]}},compute:function(c,h,i){if(!Ext.isArray(c)||!Ext.isArray(h)){return h||c}else{return[d(c[0],h[0],i),d(c[1],h[1],i),d(c[2],h[2],i),d(c[3],h[3],i)]}},serve:function(c){var g=Ext.draw.Color.fly(c[0],c[1],c[2],c[3]);return g.toString()}},number:{parse:function(c){return c===null?null:+c},compute:function(c,h,i){if(!Ext.isNumber(c)||!Ext.isNumber(h)){return h||c}else{return d(c,h,i)}}},angle:{parseInitial:function(c,g){if(g-c>Math.PI){g-=Math.PI*2}else{if(g-c<-Math.PI){g+=Math.PI*2}}return[c,g]},compute:function(c,h,i){if(!Ext.isNumber(c)||!Ext.isNumber(h)){return h||c}else{return d(c,h,i)}}},path:{parseInitial:function(i,c){var A=i.toStripes(),D=c.toStripes(),y,z,u=A.length,C=D.length,v,x,B,w=D[C-1],j=[w[w.length-2],w[w.length-1]];for(y=u;y<C;y++){A.push(A[u-1].slice(0))}for(y=C;y<u;y++){D.push(j.slice(0))}B=A.length;D.path=c;D.temp=new Ext.draw.Path();for(y=0;y<B;y++){v=A[y];x=D[y];u=v.length;C=x.length;D.temp.commands.push("M");for(z=C;z<u;z+=6){x.push(j[0],j[1],j[0],j[1],j[0],j[1])}w=D[D.length-1];j=[w[w.length-2],w[w.length-1]];for(z=u;z<C;z+=6){v.push(j[0],j[1],j[0],j[1],j[0],j[1])}for(y=0;y<x.length;y++){x[y]-=v[y]}for(y=2;y<x.length;y+=6){D.temp.commands.push("C")}}return[A,D]},compute:function(y,j,i){if(i>=1){return j.path}var w=0,v=y.length,x=0,z,s,t,c=j.temp.params,u=0;for(;w<v;w++){s=y[w];t=j[w];z=s.length;for(x=0;x<z;x++){c[u++]=t[x]*i+s[x]}}return j.temp}},data:{compute:function(s,r,q,t){var c=s.length-1,x=r.length-1,u=Math.max(c,x),v,i,w;if(!t||t===s){t=[]}t.length=u+1;for(w=0;w<=u;w++){v=s[Math.min(w,c)];i=r[Math.min(w,x)];if(Ext.isNumber(v)){if(!Ext.isNumber(i)){i=0}t[w]=(i-v)*q+v}else{t[w]=i}}return t}},text:{compute:function(c,h,i){return c.substr(0,Math.round(c.length*(1-i)))+h.substr(Math.round(h.length*(1-i)))}},limited:"number",limited01:"number"}},0,0,0,0,0,0,[Ext.draw.sprite,"AnimationParser"],0));(function(){if(!Ext.global.Float32Array){var d=function(c){if(typeof c==="number"){this.length=c}else{if("length" in c){this.length=c.length;for(var h=0,i=c.length;h<i;h++){this[h]=+c[h]}}}};d.prototype=[];Ext.global.Float32Array=d}})();(Ext.cmd.derive("Ext.draw.Draw",Ext.Base,{singleton:true,radian:Math.PI/180,pi2:Math.PI*2,reflectFn:function(d){return d},rad:function(d){return(d%360)*this.radian},degrees:function(d){return(d/this.radian)%360},isBBoxIntersect:function(h,i,g){g=g||0;return(Math.max(h.x,i.x)-g>Math.min(h.x+h.width,i.x+i.width))||(Math.max(h.y,i.y)-g>Math.min(h.y+h.height,i.y+i.height))},isPointInBBox:function(i,g,h){return !!h&&i>=h.x&&i<=(h.x+h.width)&&g>=h.y&&g<=(h.y+h.height)},spline:function(d){var v,w,j=d.length,x,r,i,u,y=0,t=new Float32Array(d.length),z=new Float32Array(d.length*3-2);t[0]=0;t[j-1]=0;for(v=1;v<j-1;v++){t[v]=(d[v+1]+d[v-1]-2*d[v])-t[v-1];y=1/(4-y);t[v]*=y}for(v=j-2;v>0;v--){y=3.732050807568877+48.248711305964385/(-13.928203230275537+Math.pow(0.07179676972449123,v));t[v]-=t[v+1]*y}u=d[0];x=u-t[0];for(v=0,w=0;v<j-1;w+=3){i=u;r=x;v++;u=d[v];x=u-t[v];z[w]=i;z[w+1]=(x+2*r)/3;z[w+2]=(x*2+r)/3}z[w]=u;return z},getAnchors:function(R,S,N,O,C,D,H){H=H||4;var I=Math.PI,G=I/2,L=Math.abs,V=Math.sin,U=Math.cos,Q=Math.atan,E,F,P,M,J,K,A,B,T;E=(N-R)/H;F=(C-N)/H;if((O>=S&&O>=D)||(O<=S&&O<=D)){P=M=G}else{P=Q((N-R)/L(O-S));if(S<O){P=I-P}M=Q((C-N)/L(O-D));if(D<O){M=I-M}}T=G-((P+M)%(I*2))/2;if(T>G){T-=I}P+=T;M+=T;J=N-E*V(P);K=O+E*U(P);A=N+F*V(M);B=O+F*U(M);if((O>S&&K<S)||(O<S&&K>S)){J+=L(S-K)*(J-N)/(K-O);K=S}if((O>D&&B<D)||(O<D&&B>D)){A-=L(D-B)*(A-N)/(B-O);B=D}return{x1:J,y1:K,x2:A,y2:B}},smooth:function(w,y,J){var x=w.length,z,A,E,F,H,I,i,v,B=[],C=[],D,G;for(D=0;D<x-1;D++){z=w[D];A=y[D];if(D===0){i=z;v=A;B.push(i);C.push(v);if(x===1){break}}E=w[D+1];F=y[D+1];H=w[D+2];I=y[D+2];if(!Ext.isNumber(H+I)){B.push(i,E,E);C.push(v,F,F);break}G=this.getAnchors(z,A,E,F,H,I,J);B.push(i,G.x1,E);C.push(v,G.y1,F);i=G.x2;v=G.y2}return{smoothX:B,smoothY:C}},beginUpdateIOS:Ext.os.is.iOS?function(){this.iosUpdateEl=Ext.getBody().createChild({style:"position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; background: rgba(0,0,0,0.001); z-index: 100000"})}:Ext.emptyFn,endUpdateIOS:function(){this.iosUpdateEl=Ext.destroy(this.iosUpdateEl)}},0,0,0,0,0,0,[Ext.draw,"Draw"],0));(Ext.cmd.derive("Ext.draw.gradient.Gradient",Ext.Base,{isGradient:true,config:{stops:[]},applyStops:function(i){var k=[],l=i.length,m,n,p;for(m=0;m<l;m++){n=i[m];p=n.color;if(!(p&&p.isColor)){p=Ext.draw.Color.fly(p||Ext.draw.Color.NONE)}k.push({offset:Math.min(1,Math.max(0,"offset" in n?n.offset:n.position||0)),color:p.toString()})}k.sort(function(c,d){return c.offset-d.offset});return k},onClassExtended:function(g,e){if(!e.alias&&e.type){e.alias="gradient."+e.type}},constructor:function(d){this.initConfig(d)},generateGradient:Ext.emptyFn},1,0,0,0,0,0,[Ext.draw.gradient,"Gradient"],0));(Ext.cmd.derive("Ext.draw.gradient.GradientDefinition",Ext.Base,{singleton:true,urlStringRe:/^url\(#([\w\-]+)\)$/,gradients:{},add:function(m){var l=this.gradients,k,i,j;for(k=0,i=m.length;k<i;k++){j=m[k];if(Ext.isString(j.id)){l[j.id]=j}}},get:function(h){var k=this.gradients,j=h.match(this.urlStringRe),i;if(j&&j[1]&&(i=k[j[1]])){return i||h}return h}},0,0,0,0,0,0,[Ext.draw.gradient,"GradientDefinition"],0));(Ext.cmd.derive("Ext.draw.sprite.AttributeParser",Ext.Base,{singleton:true,attributeRe:/^url\(#([a-zA-Z\-]+)\)$/,"default":Ext.identityFn,string:function(d){return String(d)},number:function(d){if(Ext.isNumber(+d)){return d}},angle:function(d){if(Ext.isNumber(d)){d%=Math.PI*2;if(d<-Math.PI){d+=Math.PI*2}else{if(d>=Math.PI){d-=Math.PI*2}}return d}},data:function(d){if(Ext.isArray(d)){return d.slice()}else{if(d instanceof Float32Array){return new Float32Array(d)}}},bool:function(d){return !!d},color:function(d){if(d instanceof Ext.draw.Color){return d.toString()}else{if(d instanceof Ext.draw.gradient.Gradient){return d}else{if(!d){return Ext.draw.Color.NONE}else{if(Ext.isString(d)){if(d.substr(0,3)==="url"){d=Ext.draw.gradient.GradientDefinition.get(d);if(Ext.isString(d)){return d}}else{return Ext.draw.Color.fly(d).toString()}}}}}if(d.type==="linear"){return Ext.create("Ext.draw.gradient.Linear",d)}else{if(d.type==="radial"){return Ext.create("Ext.draw.gradient.Radial",d)}else{if(d.type==="pattern"){return Ext.create("Ext.draw.gradient.Pattern",d)}else{return Ext.draw.Color.NONE}}}},limited:function(g,e){return function(c){c=+c;return Ext.isNumber(c)?Math.min(Math.max(c,g),e):undefined}},limited01:function(d){d=+d;return Ext.isNumber(d)?Math.min(Math.max(d,0),1):undefined},enums:function(){var h={},k=Array.prototype.slice.call(arguments,0),j,i;for(j=0,i=k.length;j<i;j++){h[k[j]]=true}return function(c){return c in h?c:undefined}}},0,0,0,0,0,0,[Ext.draw.sprite,"AttributeParser"],0));(Ext.cmd.derive("Ext.draw.sprite.AttributeDefinition",Ext.Base,{config:{defaults:{$value:{},lazy:true},aliases:{},animationProcessors:{},processors:{$value:{},lazy:true},dirtyTriggers:{},triggers:{},updaters:{}},inheritableStatics:{processorFactoryRe:/^(\w+)\(([\w\-,]*)\)$/},spriteClass:null,constructor:function(g){var e=this;e.initConfig(g)},applyDefaults:function(e,g){g=Ext.apply(g||{},this.normalize(e));return g},applyAliases:function(e,g){return Ext.apply(g||{},e)},applyProcessors:function(t,p){this.getAnimationProcessors();var n=p||{},q=Ext.draw.sprite.AttributeParser,x=this.self.processorFactoryRe,r={},u,w,v,s;for(w in t){s=t[w];if(typeof s==="string"){v=s.match(x);if(v){s=q[v[1]].apply(q,v[2].split(","))}else{if(q[s]){r[w]=s;u=true;s=q[s]}}}n[w]=s}if(u){this.setAnimationProcessors(r)}return n},applyAnimationProcessors:function(k,m){var i=Ext.draw.sprite.AnimationParser,l,j;if(!m){m={}}for(l in k){j=k[l];if(j==="none"){m[l]=null}else{if(Ext.isString(j)&&!(l in m)){if(j in i){while(Ext.isString(i[j])){j=i[j]}m[l]=i[j]}}else{if(Ext.isObject(j)){m[l]=j}}}}return m},updateDirtyTriggers:function(d){this.setTriggers(d)},applyTriggers:function(h,g){if(!g){g={}}for(var i in h){g[i]=h[i].split(",")}return g},applyUpdaters:function(e,g){return Ext.apply(g||{},e)},batchedNormalize:function(A,i){if(!A){return{}}var x=this.getProcessors(),C=this.getAliases(),F=A.translation||A.translate,H={},z,y,E,B,G,D,u,v,w;if("rotation" in A){G=A.rotation}else{G=("rotate" in A)?A.rotate:undefined}if("scaling" in A){D=A.scaling}else{D=("scale" in A)?A.scale:undefined}if(typeof D!=="undefined"){if(Ext.isNumber(D)){H.scalingX=D;H.scalingY=D}else{if("x" in D){H.scalingX=D.x}if("y" in D){H.scalingY=D.y}if("centerX" in D){H.scalingCenterX=D.centerX}if("centerY" in D){H.scalingCenterY=D.centerY}}}if(typeof G!=="undefined"){if(Ext.isNumber(G)){G=Ext.draw.Draw.rad(G);H.rotationRads=G}else{if("rads" in G){H.rotationRads=G.rads}else{if("degrees" in G){if(Ext.isArray(G.degrees)){H.rotationRads=Ext.Array.map(G.degrees,function(c){return Ext.draw.Draw.rad(c)})}else{H.rotationRads=Ext.draw.Draw.rad(G.degrees)}}}if("centerX" in G){H.rotationCenterX=G.centerX}if("centerY" in G){H.rotationCenterY=G.centerY}}}if(typeof F!=="undefined"){if("x" in F){H.translationX=F.x}if("y" in F){H.translationY=F.y}}if("matrix" in A){u=Ext.draw.Matrix.create(A.matrix);w=u.split();H.matrix=u;H.rotationRads=w.rotation;H.rotationCenterX=0;H.rotationCenterY=0;H.scalingX=w.scaleX;H.scalingY=w.scaleY;H.scalingCenterX=0;H.scalingCenterY=0;H.translationX=w.translateX;H.translationY=w.translateY}for(E in A){B=A[E];if(typeof B==="undefined"){continue}else{if(Ext.isArray(B)){if(E in C){E=C[E]}if(E in x){H[E]=[];for(z=0,y=B.length;z<y;z++){v=x[E].call(this,B[z]);if(typeof v!=="undefined"){H[E][z]=v}}}else{if(i){H[E]=B}}}else{if(E in C){E=C[E]}if(E in x){B=x[E].call(this,B);if(typeof B!=="undefined"){H[E]=B}}else{if(i){H[E]=B}}}}}return H},normalize:function(t,s){if(!t){return{}}var w=this.getProcessors(),y=this.getAliases(),B=t.translation||t.translate,r={},A,x,q,z,u,v;if("rotation" in t){q=t.rotation}else{q=("rotate" in t)?t.rotate:undefined}if("scaling" in t){z=t.scaling}else{z=("scale" in t)?t.scale:undefined}if(B){if("x" in B){r.translationX=B.x}if("y" in B){r.translationY=B.y}}if(typeof z!=="undefined"){if(Ext.isNumber(z)){r.scalingX=z;r.scalingY=z}else{if("x" in z){r.scalingX=z.x}if("y" in z){r.scalingY=z.y}if("centerX" in z){r.scalingCenterX=z.centerX}if("centerY" in z){r.scalingCenterY=z.centerY}}}if(typeof q!=="undefined"){if(Ext.isNumber(q)){q=Ext.draw.Draw.rad(q);r.rotationRads=q}else{if("rads" in q){r.rotationRads=q.rads}else{if("degrees" in q){r.rotationRads=Ext.draw.Draw.rad(q.degrees)}}if("centerX" in q){r.rotationCenterX=q.centerX}if("centerY" in q){r.rotationCenterY=q.centerY}}}if("matrix" in t){u=Ext.draw.Matrix.create(t.matrix);v=u.split();r.matrix=u;r.rotationRads=v.rotation;r.rotationCenterX=0;r.rotationCenterY=0;r.scalingX=v.scaleX;r.scalingY=v.scaleY;r.scalingCenterX=0;r.scalingCenterY=0;r.translationX=v.translateX;r.translationY=v.translateY}for(A in t){x=t[A];if(typeof x==="undefined"){continue}if(A in y){A=y[A]}if(A in w){x=w[A].call(this,x);if(typeof x!=="undefined"){r[A]=x}}else{if(s){r[A]=x}}}return r},setBypassingNormalization:function(i,g,h){return g.pushDown(i,h)},set:function(i,g,h){h=this.normalize(h);return this.setBypassingNormalization(i,g,h)}},1,0,0,0,0,0,[Ext.draw.sprite,"AttributeDefinition"],0));(Ext.cmd.derive("Ext.draw.Matrix",Ext.Base,{isMatrix:true,statics:{createAffineMatrixFromTwoPair:function(D,J,E,K,A,r,C,B){var H=E-D,I=K-J,F=C-A,L=B-r,G=1/(H*H+I*I),c=H*F+I*L,x=F*I-H*L,y=-c*D-x*J,z=x*D-c*J;return new this(c*G,-x*G,x*G,c*G,y*G+A,z*G+r)},createPanZoomFromTwoPair:function(z,L,A,N,I,y,C,J){if(arguments.length===2){return this.createPanZoomFromTwoPair.apply(this,z.concat(L))}var F=A-z,G=N-L,M=(z+A)*0.5,O=(L+N)*0.5,B=C-I,P=J-y,K=(I+C)*0.5,E=(y+J)*0.5,D=F*F+G*G,H=B*B+P*P,r=Math.sqrt(H/D);return new this(r,0,0,r,K-r*M,E-r*O)},fly:(function(){var g=null,e=function(c){g.elements=c;return g};return function(c){if(!g){g=new Ext.draw.Matrix()}g.elements=c;Ext.draw.Matrix.fly=e;return g}})(),create:function(d){if(d instanceof this){return d}return new this(d)}},constructor:function(k,l,p,j,m,n){if(k&&k.length===6){this.elements=k.slice()}else{if(k!==undefined){this.elements=[k,l,p,j,m,n]}else{this.elements=[1,0,0,1,0,0]}}},prepend:function(D,s,w,x,r,t){var C=this.elements,A=C[0],u=C[1],z=C[2],B=C[3],v=C[4],y=C[5];C[0]=D*A+w*u;C[1]=s*A+x*u;C[2]=D*z+w*B;C[3]=s*z+x*B;C[4]=D*v+w*y+r;C[5]=s*v+x*y+t;return this},prependMatrix:function(d){return this.prepend.apply(this,d.elements)},append:function(D,s,w,x,r,t){var C=this.elements,A=C[0],u=C[1],z=C[2],B=C[3],v=C[4],y=C[5];C[0]=D*A+s*z;C[1]=D*u+s*B;C[2]=w*A+x*z;C[3]=w*u+x*B;C[4]=r*A+t*z+v;C[5]=r*u+t*B+y;return this},appendMatrix:function(d){return this.append.apply(this,d.elements)},set:function(l,m,r,k,p,q){var n=this.elements;n[0]=l;n[1]=m;n[2]=r;n[3]=k;n[4]=p;n[5]=q;return this},inverse:function(t){var v=this.elements,c=v[0],e=v[1],q=v[2],r=v[3],s=v[4],u=v[5],d=1/(c*r-e*q);c*=d;e*=d;q*=d;r*=d;if(t){t.set(r,-e,-q,c,q*u-r*s,e*s-c*u);return t}else{return new Ext.draw.Matrix(r,-e,-q,c,q*u-r*s,e*s-c*u)}},translate:function(i,g,h){if(h){return this.prepend(1,0,0,1,i,g)}else{return this.append(1,0,0,1,i,g)}},scale:function(j,k,m,p,n){var l=this;if(k==null){k=j}if(m===undefined){m=0}if(p===undefined){p=0}if(n){return l.prepend(j,0,0,k,m-m*j,p-p*k)}else{return l.append(j,0,0,k,m-m*j,p-p*k)}},rotate:function(k,m,p,q){var n=this,l=Math.cos(k),r=Math.sin(k);m=m||0;p=p||0;if(q){return n.prepend(l,r,-r,l,m-l*m+p*r,p-l*p-m*r)}else{return n.append(l,r,-r,l,m-l*m+p*r,p-l*p-m*r)}},rotateFromVector:function(r,d,p){var n=this,l=Math.sqrt(r*r+d*d),m=r/l,q=d/l;if(p){return n.prepend(m,q,-q,m,0,0)}else{return n.append(m,q,-q,m,0,0)}},clone:function(){return new Ext.draw.Matrix(this.elements)},flipX:function(){return this.append(-1,0,0,1,0,0)},flipY:function(){return this.append(1,0,0,-1,0,0)},skewX:function(d){return this.append(1,0,Math.tan(d),1,0,0)},skewY:function(d){return this.append(1,Math.tan(d),0,1,0,0)},shearX:function(d){return this.append(1,0,d,1,0,0)},shearY:function(d){return this.append(1,d,0,1,0,0)},reset:function(){return this.set(1,0,0,1,0,0)},precisionCompensate:function(n,r){var v=this.elements,s=v[0],t=v[1],p=v[2],q=v[3],u=v[4],w=v[5],x=t*p-s*q;r.b=n*t/s;r.c=n*p/q;r.d=n;r.xx=s/n;r.yy=q/n;r.dx=(w*s*p-u*s*q)/x/n;r.dy=(u*t*q-w*s*q)/x/n},precisionCompensateRect:function(n,r){var w=this.elements,s=w[0],t=w[1],p=w[2],q=w[3],v=w[4],x=w[5],u=p/s;r.b=n*t/s;r.c=n*u;r.d=n*q/s;r.xx=s/n;r.yy=s/n;r.dx=(x*p-v*q)/(t*u-q)/n;r.dy=-(x*s-v*t)/(t*u-q)/n},x:function(i,g){var h=this.elements;return i*h[0]+g*h[2]+h[4]},y:function(i,g){var h=this.elements;return i*h[1]+g*h[3]+h[5]},get:function(e,g){return +this.elements[e+g*2].toFixed(4)},transformPoint:function(j){var i=this.elements,k,h;if(j.isPoint){k=j.x;h=j.y}else{k=j[0];h=j[1]}return[k*i[0]+h*i[2]+i[4],k*i[1]+h*i[3]+i[5]]},transformBBox:function(J,z,w){var F=this.elements,D=J.x,I=J.y,A=J.width*0.5,L=J.height*0.5,G=F[0],H=F[1],h=F[2],t=F[3],C=D+A,E=I+L,K,B,l;if(z){A-=z;L-=z;l=[Math.sqrt(F[0]*F[0]+F[2]*F[2]),Math.sqrt(F[1]*F[1]+F[3]*F[3])];K=Math.abs(A*G)+Math.abs(L*h)+Math.abs(l[0]*z);B=Math.abs(A*H)+Math.abs(L*t)+Math.abs(l[1]*z)}else{K=Math.abs(A*G)+Math.abs(L*h);B=Math.abs(A*H)+Math.abs(L*t)}if(!w){w={}}w.x=C*G+E*h+F[4]-K;w.y=C*H+E*t+F[5]-B;w.width=K+K;w.height=B+B;return w},transformList:function(v){var y=this.elements,z=y[0],s=y[2],i=y[4],p=y[1],t=y[3],r=y[5],u=v.length,x,w;for(w=0;w<u;w++){x=v[w];v[w]=[x[0]*z+x[1]*s+i,x[0]*p+x[1]*t+r]}return v},isIdentity:function(){var d=this.elements;return d[0]===1&&d[1]===0&&d[2]===0&&d[3]===1&&d[4]===0&&d[5]===0},isEqual:function(i){var g=i&&i.isMatrix?i.elements:i,h=this.elements;return h[0]===g[0]&&h[1]===g[1]&&h[2]===g[2]&&h[3]===g[3]&&h[4]===g[4]&&h[5]===g[5]},equals:function(d){return this.isEqual(d)},toArray:function(){var d=this.elements;return[d[0],d[2],d[4],d[1],d[3],d[5]]},toVerticalArray:function(){return this.elements.slice()},toString:function(){var d=this;return[d.get(0,0),d.get(0,1),d.get(1,0),d.get(1,1),d.get(2,0),d.get(2,1)].join(",")},toContext:function(d){d.transform.apply(d,this.elements);return this},toSvg:function(){var d=this.elements;return"matrix("+d[0].toFixed(9)+","+d[1].toFixed(9)+","+d[2].toFixed(9)+","+d[3].toFixed(9)+","+d[4].toFixed(9)+","+d[5].toFixed(9)+")"},getScaleX:function(){var d=this.elements;return Math.sqrt(d[0]*d[0]+d[2]*d[2])},getScaleY:function(){var d=this.elements;return Math.sqrt(d[1]*d[1]+d[3]*d[3])},getXX:function(){return this.elements[0]},getXY:function(){return this.elements[1]},getYX:function(){return this.elements[2]},getYY:function(){return this.elements[3]},getDX:function(){return this.elements[4]},getDY:function(){return this.elements[5]},split:function(){var l=this.elements,j=l[0],k=l[1],i=l[3],m={translateX:l[4],translateY:l[5]};m.rotate=m.rotation=Math.atan2(k,j);m.scaleX=j/Math.cos(m.rotate);m.scaleY=i/j*m.scaleX;return m}},3,0,0,0,0,0,[Ext.draw,"Matrix"],function(){function e(c,i,d){c[i]={get:function(){return this.elements[d]},set:function(h){this.elements[d]=h}}}if(Object.defineProperties){var g={};e(g,"a",0);e(g,"b",1);e(g,"c",2);e(g,"d",3);e(g,"e",4);e(g,"f",5);Object.defineProperties(this.prototype,g)}this.prototype.multiply=this.prototype.appendMatrix}));(Ext.cmd.derive("Ext.draw.modifier.Modifier",Ext.Base,{config:{previous:null,next:null,sprite:null},constructor:function(d){this.mixins.observable.constructor.call(this,d)},updateNext:function(d){if(d){d.setPrevious(this)}},updatePrevious:function(d){if(d){d.setNext(this)}},prepareAttributes:function(d){if(this._previous){this._previous.prepareAttributes(d)}},popUp:function(g,e){if(this._next){this._next.popUp(g,e)}else{Ext.apply(g,e)}},pushDown:function(i,g){if(this._previous){return this._previous.pushDown(i,g)}else{for(var h in g){if(g[h]===i[h]){delete g[h]}}return g}}},1,0,0,0,0,[["observable",Ext.mixin.Observable]],[Ext.draw.modifier,"Modifier"],0));(Ext.cmd.derive("Ext.draw.modifier.Target",Ext.draw.modifier.Modifier,{statics:{uniqueId:0},prepareAttributes:function(g){var e=this.getPrevious();if(e){e.prepareAttributes(g)}g.attributeId="attribute-"+Ext.draw.modifier.Target.uniqueId++;if(!g.hasOwnProperty("canvasAttributes")){g.bbox={plain:{dirty:true},transform:{dirty:true}};g.dirty=true;g.pendingUpdaters={};g.canvasAttributes={};g.matrix=new Ext.draw.Matrix();g.inverseMatrix=new Ext.draw.Matrix()}},applyChanges:function(y,v){Ext.apply(y,v);var u=this.getSprite(),F=y.pendingUpdaters,w=u.self.def.getTriggers(),E,D,j,C,z,i,A,B,x;for(C in v){z=true;if((E=w[C])){u.scheduleUpdaters(y,E,[C])}if(y.template&&v.removeFromInstance&&v.removeFromInstance[C]){delete y[C]}}if(!z){return}if(F.canvas){i=F.canvas;delete F.canvas;for(A=0,x=i.length;A<x;A++){C=i[A];y.canvasAttributes[C]=y[C]}}if(y.hasOwnProperty("children")){D=y.children;for(A=0,x=D.length;A<x;A++){j=D[A];Ext.apply(j.pendingUpdaters,F);if(i){for(B=0;B<i.length;B++){C=i[B];j.canvasAttributes[C]=j[C]}}u.callUpdaters(j)}}u.setDirty(true);u.callUpdaters(y)},popUp:function(g,e){this.applyChanges(g,e)},pushDown:function(i,h){var g=this.getPrevious();if(g){h=g.pushDown(i,h)}this.applyChanges(i,h);return h}},0,0,0,0,["modifier.target"],0,[Ext.draw.modifier,"Target"],0));(Ext.cmd.derive("Ext.draw.TimingFunctions",Ext.Base,function(){var x=Math.pow,v=Math.sin,s=Math.cos,t=Math.sqrt,z=Math.PI,C=["quad","cube","quart","quint"],B={pow:function(d,c){return x(d,c||6)},expo:function(c){return x(2,8*(c-1))},circ:function(c){return 1-t(1-c*c)},sine:function(c){return 1-v((1-c)*z/2)},back:function(c,d){d=d||1.616;return c*c*((d+1)*c-d)},bounce:function(d){for(var e=0,c=1;1;e+=c,c/=2){if(d>=(7-4*e)/11){return c*c-x((11-6*e-11*d)/4,2)}}},elastic:function(d,c){return x(2,10*--d)*s(20*d*z*(c||1)/3)}},u={},D,y,A;function w(c){return function(d){return x(d,c)}}function i(c,d){u[c+"In"]=function(e){return d(e)};u[c+"Out"]=function(e){return 1-d(1-e)};u[c+"InOut"]=function(e){return(e<=0.5)?d(2*e)/2:(2-d(2*(1-e)))/2}}for(A=0,y=C.length;A<y;++A){B[C[A]]=w(A+2)}for(D in B){i(D,B[D])}u.linear=Ext.identityFn;u.easeIn=u.quadIn;u.easeOut=u.quadOut;u.easeInOut=u.quadInOut;return{singleton:true,easingMap:u}},0,0,0,0,0,0,[Ext.draw,"TimingFunctions"],function(d){Ext.apply(d,d.easingMap)}));(Ext.cmd.derive("Ext.draw.Animator",Ext.Base,{singleton:true,frameCallbacks:{},frameCallbackId:0,scheduled:0,frameStartTimeOffset:Ext.now(),animations:[],running:false,animationTime:function(){return Ext.AnimationQueue.frameStartTime-this.frameStartTimeOffset},add:function(e){var g=this;if(!g.contains(e)){g.animations.push(e);g.ignite();if("fireEvent" in e){e.fireEvent("animationstart",e)}}},remove:function(j){var k=this,i=k.animations,l=0,m=i.length;for(;l<m;++l){if(i[l]===j){i.splice(l,1);if("fireEvent" in j){j.fireEvent("animationend",j)}return}}},contains:function(d){return Ext.Array.indexOf(this.animations,d)>-1},empty:function(){return this.animations.length===0},step:function(l){var m=this,i=m.animations,k,p=0,n=i.length;for(;p<n;p++){k=i[p];k.step(l);if(!k.animating){i.splice(p,1);p--;n--;if(k.fireEvent){k.fireEvent("animationend",k)}}}},schedule:function(g,i){i=i||this;var h="frameCallback"+(this.frameCallbackId++);if(Ext.isString(g)){g=i[g]}Ext.draw.Animator.frameCallbacks[h]={fn:g,scope:i,once:true};this.scheduled++;Ext.draw.Animator.ignite();return h},scheduleIf:function(i,l){l=l||this;var k=Ext.draw.Animator.frameCallbacks,m,j;if(Ext.isString(i)){i=l[i]}for(j in k){m=k[j];if(m.once&&m.fn===i&&m.scope===l){return null}}return this.schedule(i,l)},cancel:function(d){if(Ext.draw.Animator.frameCallbacks[d]&&Ext.draw.Animator.frameCallbacks[d].once){this.scheduled--;delete Ext.draw.Animator.frameCallbacks[d]}},addFrameCallback:function(g,i){i=i||this;if(Ext.isString(g)){g=i[g]}var h="frameCallback"+(this.frameCallbackId++);Ext.draw.Animator.frameCallbacks[h]={fn:g,scope:i};return h},removeFrameCallback:function(d){delete Ext.draw.Animator.frameCallbacks[d]},fireFrameCallbacks:function(){var i=this.frameCallbacks,h,j,k;for(h in i){k=i[h];j=k.fn;if(Ext.isString(j)){j=k.scope[j]}j.call(k.scope);if(i[h]&&k.once){this.scheduled--;delete i[h]}}},handleFrame:function(){this.step(this.animationTime());this.fireFrameCallbacks();if(!this.scheduled&&this.empty()){Ext.AnimationQueue.stop(this.handleFrame,this);this.running=false;Ext.draw.Draw.endUpdateIOS()}},ignite:function(){if(!this.running){this.running=true;Ext.AnimationQueue.start(this.handleFrame,this);Ext.draw.Draw.beginUpdateIOS()}}},0,0,0,0,0,0,[Ext.draw,"Animator"],0));(Ext.cmd.derive("Ext.draw.modifier.Animation",Ext.draw.modifier.Modifier,{config:{easing:Ext.identityFn,duration:0,customEasings:{},customDurations:{},customDuration:null},constructor:function(g){var e=this;e.anyAnimation=e.anySpecialAnimations=false;e.animating=0;e.animatingPool=[];Ext.draw.modifier.Modifier.prototype.constructor.call(this,g)},prepareAttributes:function(d){if(!d.hasOwnProperty("timers")){d.animating=false;d.timers={};d.animationOriginal=Ext.Object.chain(d);d.animationOriginal.prototype=d}if(this._previous){this._previous.prepareAttributes(d.animationOriginal)}},updateSprite:function(d){this.setConfig(d.config.fx)},updateDuration:function(d){this.anyAnimation=d>0},applyEasing:function(d){if(typeof d==="string"){d=Ext.draw.TimingFunctions.easingMap[d]}return d},applyCustomEasings:function(t,p){p=p||{};var m,q,s,i,r,n;for(q in t){m=true;i=t[q];s=q.split(",");if(typeof i==="string"){i=Ext.draw.TimingFunctions.easingMap[i]}for(r=0,n=s.length;r<n;r++){p[s[r]]=i}}if(m){this.anySpecialAnimations=m}return p},setEasingOn:function(m,i){m=Ext.Array.from(m).slice();var k={},j=m.length,l=0;for(;l<j;l++){k[m[l]]=i}this.setCustomEasings(k)},clearEasingOn:function(i){i=Ext.Array.from(i,true);var h=0,g=i.length;for(;h<g;h++){delete this._customEasings[i[h]]}},applyCustomDurations:function(m,i){i=i||{};var p,r,n,t,s,q;for(r in m){p=true;n=m[r];t=r.split(",");for(s=0,q=t.length;s<q;s++){i[t[s]]=n}}if(p){this.anySpecialAnimations=p}return i},applyCustomDuration:function(g,e){if(g){this.getCustomDurations();this.setCustomDurations(g)}},setDurationOn:function(l,i){l=Ext.Array.from(l).slice();var m={},k=0,j=l.length;for(;k<j;k++){m[l[k]]=i}this.setCustomDurations(m)},clearDurationOn:function(i){i=Ext.Array.from(i,true);var h=0,g=i.length;for(;h<g;h++){delete this._customDurations[i[h]]}},setAnimating:function(m,l){var i=this,j=i.animatingPool;if(m.animating!==l){m.animating=l;if(l){j.push(m);if(i.animating===0){Ext.draw.Animator.add(i)}i.animating++}else{for(var k=j.length;k--;){if(j[k]===m){j.splice(k,1)}}i.animating=j.length}}},setAttrs:function(C,A){var B=this,H=C.timers,M=B._sprite.self.def._animationProcessors,O=B._easing,P=B._duration,K=B._customDurations,L=B._customEasings,N=B.anySpecialAnimations,G=B.anyAnimation||N,F=C.animationOriginal,Q=false,J,z,I,E,R,D,T;if(!G){for(z in A){if(C[z]===A[z]){delete A[z]}else{C[z]=A[z]}delete F[z];delete H[z]}return A}else{for(z in A){I=A[z];E=C[z];if(I!==E&&E!==undefined&&E!==null&&(R=M[z])){D=O;T=P;if(N){if(z in L){D=L[z]}if(z in K){T=K[z]}}if(E&&E.isGradient||I&&I.isGradient){T=0}if(T){if(!H[z]){H[z]={}}J=H[z];J.start=0;J.easing=D;J.duration=T;J.compute=R.compute;J.serve=R.serve||Ext.identityFn;J.remove=A.removeFromInstance&&A.removeFromInstance[z];if(R.parseInitial){var S=R.parseInitial(E,I);J.source=S[0];J.target=S[1]}else{if(R.parse){J.source=R.parse(E);J.target=R.parse(I)}else{J.source=E;J.target=I}}F[z]=I;delete A[z];Q=true;continue}else{delete F[z]}}else{delete F[z]}delete H[z]}}if(Q&&!C.animating){B.setAnimating(C,true)}return A},updateAttributes:function(p){if(!p.animating){return{}}var n={},r=false,s=p.timers,q=p.animationOriginal,t=Ext.draw.Animator.animationTime(),v,u,m;if(p.lastUpdate===t){return null}for(v in s){u=s[v];if(!u.start){u.start=t;m=0}else{m=(t-u.start)/u.duration}if(m>=1){n[v]=q[v];delete q[v];if(s[v].remove){n.removeFromInstance=n.removeFromInstance||{};n.removeFromInstance[v]=true}delete s[v]}else{n[v]=u.serve(u.compute(u.source,u.target,u.easing(m),p[v]));r=true}}p.lastUpdate=t;this.setAnimating(p,r);return n},pushDown:function(g,e){e=Ext.draw.modifier.Modifier.prototype.pushDown.call(this,g.animationOriginal,e);return this.setAttrs(g,e)},popUp:function(g,e){g=g.prototype;e=this.setAttrs(g,e);if(this._next){return this._next.popUp(g,e)}else{return Ext.apply(g,e)}},step:function(i){var l=this,p=l.animatingPool.slice(),m=p.length,q=0,r,n;for(;q<m;q++){r=p[q];n=l.updateAttributes(r);if(n&&l._next){l._next.popUp(r,n)}}},stop:function(){this.step();var h=this,j=h.animatingPool,k,i;for(k=0,i=j.length;k<i;k++){j[k].animating=false}h.animatingPool.length=0;h.animating=0;Ext.draw.Animator.remove(h)},destroy:function(){this.animatingPool.length=0;this.animating=0;Ext.draw.modifier.Modifier.prototype.destroy.call(this)}},1,0,0,0,["modifier.animation"],0,[Ext.draw.modifier,"Animation"],0));(Ext.cmd.derive("Ext.draw.modifier.Highlight",Ext.draw.modifier.Modifier,{config:{enabled:false,highlightStyle:null},preFx:true,applyHighlightStyle:function(e,g){g=g||{};if(this.getSprite()){Ext.apply(g,this.getSprite().self.def.normalize(e))}else{Ext.apply(g,e)}return g},prepareAttributes:function(d){if(!d.hasOwnProperty("highlightOriginal")){d.highlighted=false;d.highlightOriginal=Ext.Object.chain(d);d.highlightOriginal.prototype=d;d.highlightOriginal.removeFromInstance={}}if(this._previous){this._previous.prepareAttributes(d.highlightOriginal)}},updateSprite:function(e,g){if(e){if(this.getHighlightStyle()){this._highlightStyle=e.self.def.normalize(this.getHighlightStyle())}this.setHighlightStyle(e.config.highlight)}e.self.def.setConfig({defaults:{highlighted:false},processors:{highlighted:"bool"}});this.setSprite(e)},filterChanges:function(p,l){var k=this,j=p.highlightOriginal,m=k.getHighlightStyle(),n;if(p.highlighted){for(n in l){if(m.hasOwnProperty(n)){j[n]=l[n];delete l[n]}}}for(n in l){if(n!=="highlighted"&&j[n]===l[n]){delete l[n]}}return l},pushDown:function(r,p){var q=this.getHighlightStyle(),t=r.highlightOriginal,m=t.removeFromInstance,s,v,n,u;if(p.hasOwnProperty("highlighted")){s=p.highlighted;delete p.highlighted;if(this._previous){p=this._previous.pushDown(t,p)}p=this.filterChanges(r,p);if(s!==r.highlighted){if(s){for(v in q){if(v in p){t[v]=p[v]}else{n=r.template&&r.template.ownAttr;if(n&&!r.prototype.hasOwnProperty(v)){m[v]=true;t[v]=n.animationOriginal[v]}else{u=t.timers[v];if(u&&u.remove){m[v]=true}t[v]=r[v]}}if(t[v]!==q[v]){p[v]=q[v]}}}else{for(v in q){if(!(v in p)){p[v]=t[v]}delete t[v]}p.removeFromInstance=p.removeFromInstance||{};Ext.apply(p.removeFromInstance,m);t.removeFromInstance={}}p.highlighted=s}}else{if(this._previous){p=this._previous.pushDown(t,p)}p=this.filterChanges(r,p)}return p},popUp:function(g,e){e=this.filterChanges(g,e);Ext.draw.modifier.Modifier.prototype.popUp.call(this,g,e)}},0,0,0,0,["modifier.highlight"],0,[Ext.draw.modifier,"Highlight"],0));(Ext.cmd.derive("Ext.draw.sprite.Sprite",Ext.Base,{isSprite:true,statics:{defaultHitTestOptions:{fill:true,stroke:true}},inheritableStatics:{def:{processors:{strokeStyle:"color",fillStyle:"color",strokeOpacity:"limited01",fillOpacity:"limited01",lineWidth:"number",lineCap:"enums(butt,round,square)",lineJoin:"enums(round,bevel,miter)",lineDash:"data",lineDashOffset:"number",miterLimit:"number",shadowColor:"color",shadowOffsetX:"number",shadowOffsetY:"number",shadowBlur:"number",globalAlpha:"limited01",globalCompositeOperation:"enums(source-over,destination-over,source-in,destination-in,source-out,destination-out,source-atop,destination-atop,lighter,xor,copy)",hidden:"bool",transformFillStroke:"bool",zIndex:"number",translationX:"number",translationY:"number",rotationRads:"number",rotationCenterX:"number",rotationCenterY:"number",scalingX:"number",scalingY:"number",scalingCenterX:"number",scalingCenterY:"number",constrainGradients:"bool"},aliases:{stroke:"strokeStyle",fill:"fillStyle",color:"fillStyle","stroke-width":"lineWidth","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","text-anchor":"textAlign",opacity:"globalAlpha",translateX:"translationX",translateY:"translationY",rotateRads:"rotationRads",rotateCenterX:"rotationCenterX",rotateCenterY:"rotationCenterY",scaleX:"scalingX",scaleY:"scalingY",scaleCenterX:"scalingCenterX",scaleCenterY:"scalingCenterY"},defaults:{hidden:false,zIndex:0,strokeStyle:"none",fillStyle:"none",lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:"butt",lineJoin:"miter",miterLimit:10,shadowColor:"none",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,globalAlpha:1,strokeOpacity:1,fillOpacity:1,transformFillStroke:false,translationX:0,translationY:0,rotationRads:0,rotationCenterX:null,rotationCenterY:null,scalingX:1,scalingY:1,scalingCenterX:null,scalingCenterY:null,constrainGradients:false},triggers:{zIndex:"zIndex",globalAlpha:"canvas",globalCompositeOperation:"canvas",transformFillStroke:"canvas",strokeStyle:"canvas",fillStyle:"canvas",strokeOpacity:"canvas",fillOpacity:"canvas",lineWidth:"canvas",lineCap:"canvas",lineJoin:"canvas",lineDash:"canvas",lineDashOffset:"canvas",miterLimit:"canvas",shadowColor:"canvas",shadowOffsetX:"canvas",shadowOffsetY:"canvas",shadowBlur:"canvas",translationX:"transform",translationY:"transform",rotationRads:"transform",rotationCenterX:"transform",rotationCenterY:"transform",scalingX:"transform",scalingY:"transform",scalingCenterX:"transform",scalingCenterY:"transform",constrainGradients:"canvas"},updaters:{bbox:"bboxUpdater",zIndex:function(d){d.dirtyZIndex=true},transform:function(d){d.dirtyTransform=true;d.bbox.transform.dirty=true}}}},config:{parent:null,surface:null},onClassExtended:function(j,k){var l=j.superclass.self.def.initialConfig,i=k.inheritableStatics&&k.inheritableStatics.def,m;if(i){m=Ext.Object.merge({},l,i);j.def=new Ext.draw.sprite.AttributeDefinition(m);delete k.inheritableStatics.def}else{j.def=new Ext.draw.sprite.AttributeDefinition(l)}j.def.spriteClass=j},constructor:function(l){var j=this,k=j.self.def,i=k.getDefaults(),m;l=Ext.isObject(l)?l:{};j.id=l.id||Ext.id(null,"ext-sprite-");j.attr={};j.mixins.observable.constructor.apply(j,arguments);m=Ext.Array.from(l.modifiers,true);j.prepareModifiers(m);j.initializeAttributes();j.setAttributes(i,true);j.setAttributes(l)},getDirty:function(){return this.attr.dirty},setDirty:function(e){this.attr.dirty=e;if(e){var g=this.getParent();if(g){g.setDirty(true)}}},addModifier:function(i,h){var g=this;if(!(i instanceof Ext.draw.modifier.Modifier)){i=Ext.factory(i,null,null,"modifier")}i.setSprite(g);if(i.preFx||i.config&&i.config.preFx){if(g.fx.getPrevious()){g.fx.getPrevious().setNext(i)}i.setNext(g.fx)}else{g.topModifier.getPrevious().setNext(i);i.setNext(g.topModifier)}if(h){g.initializeAttributes()}return i},prepareModifiers:function(h){var i=this,k,j;i.topModifier=new Ext.draw.modifier.Target({sprite:i});i.fx=new Ext.draw.modifier.Animation({sprite:i});i.fx.setNext(i.topModifier);for(k=0,j=h.length;k<j;k++){i.addModifier(h[k],false)}},getAnimation:function(){return this.fx},setAnimation:function(d){this.fx.setConfig(d)},initializeAttributes:function(){this.topModifier.prepareAttributes(this.attr)},callUpdaters:function(s){var r=this,n=s.pendingUpdaters,m=r.self.def.getUpdaters(),t=false,v=false,u,p,q;r.callUpdaters=Ext.emptyFn;do{t=false;for(p in n){t=true;u=n[p];delete n[p];q=m[p];if(typeof q==="string"){q=r[q]}if(q){q.call(r,s,u)}}v=v||t}while(t);delete r.callUpdaters;if(v){r.setDirty(true)}},scheduleUpdaters:function(p,k,m){var i;if(m){for(var n=0,l=k.length;n<l;n++){i=k[n];this.scheduleUpdater(p,i,m)}}else{for(i in k){m=k[i];this.scheduleUpdater(p,i,m)}}},scheduleUpdater:function(k,i,j){j=j||[];var h=k.pendingUpdaters;if(i in h){if(j.length){h[i]=Ext.Array.merge(h[i],j)}}else{h[i]=j}},setAttributes:function(n,k,p){var r=this.attr,q,m,l;if(k){if(p){this.topModifier.pushDown(r,n)}else{l={};for(q in n){m=n[q];if(m!==r[q]){l[q]=m}}this.topModifier.pushDown(r,l)}}else{this.topModifier.pushDown(r,this.self.def.normalize(n))}},setAttributesBypassingNormalization:function(e,g){return this.setAttributes(e,true,g)},bboxUpdater:function(l){var k=l.rotationRads!==0,m=l.scalingX!==1||l.scalingY!==1,j=l.rotationCenterX===null||l.rotationCenterY===null,i=l.scalingCenterX===null||l.scalingCenterY===null;l.bbox.plain.dirty=true;l.bbox.transform.dirty=true;if(k&&j||m&&i){this.scheduleUpdater(l,"transform")}},getBBox:function(l){var k=this,p=k.attr,j=p.bbox,m=j.plain,n=j.transform;if(m.dirty){k.updatePlainBBox(m);m.dirty=false}if(!l){k.applyTransformations();if(n.dirty){k.updateTransformedBBox(n,m);n.dirty=false}return n}return m},updatePlainBBox:Ext.emptyFn,updateTransformedBBox:function(g,e){this.attr.matrix.transformBBox(e,0,g)},getBBoxCenter:function(g){var e=this.getBBox(g);if(e){return[e.x+e.width*0.5,e.y+e.height*0.5]}else{return[0,0]}},hide:function(){this.attr.hidden=true;this.setDirty(true);return this},show:function(){this.attr.hidden=false;this.setDirty(true);return this},useAttributes:function(m,q){this.applyTransformations();var s=this.attr,n=s.canvasAttributes,r=n.strokeStyle,p=n.fillStyle,u=n.lineDash,t=n.lineDashOffset,v;if(r){if(r.isGradient){m.strokeStyle="black";m.strokeGradient=r}else{m.strokeGradient=false}}if(p){if(p.isGradient){m.fillStyle="black";m.fillGradient=p}else{m.fillGradient=false}}if(u){m.setLineDash(u)}if(Ext.isNumber(t+m.lineDashOffset)){m.lineDashOffset=t}for(v in n){if(n[v]!==undefined&&n[v]!==m[v]){m[v]=n[v]}}this.setGradientBBox(m,q)},setGradientBBox:function(h,g){var i=this.attr;if(i.constrainGradients){h.setGradientBBox({x:g[0],y:g[1],width:g[2],height:g[3]})}else{h.setGradientBBox(this.getBBox(i.transformFillStroke))}},applyTransformations:function(O){if(!O&&!this.attr.dirtyTransform){return}var y=this,F=y.attr,A=y.getBBoxCenter(true),J=A[0],K=A[1],z=F.translationX,B=F.translationY,G=F.scalingX,H=F.scalingY===null?F.scalingX:F.scalingY,D=F.scalingCenterX===null?J:F.scalingCenterX,E=F.scalingCenterY===null?K:F.scalingCenterY,x=F.rotationRads,L=F.rotationCenterX===null?J:F.rotationCenterX,M=F.rotationCenterY===null?K:F.rotationCenterY,N=Math.cos(x),P=Math.sin(x),C,I;if(G===1&&H===1){D=0;E=0}if(x===0){L=0;M=0}C=D*(1-G)-L;I=E*(1-H)-M;F.matrix.elements=[N*G,P*G,-P*H,N*H,N*C-P*I+L+z,P*C+N*I+M+B];F.matrix.inverse(F.inverseMatrix);F.dirtyTransform=false;F.bbox.transform.dirty=true},transform:function(l,k){var m=this.attr,i=m.matrix,j;if(l&&l.isMatrix){j=l.elements}else{j=l}i.prepend.apply(i,j.slice());i.inverse(m.inverseMatrix);if(k){this.updateTransformAttributes()}m.dirtyTransform=false;m.bbox.transform.dirty=true;this.setDirty(true);return this},updateTransformAttributes:function(){var g=this.attr,e=g.matrix.split();g.rotationRads=e.rotate;g.rotationCenterX=0;g.rotationCenterY=0;g.scalingX=e.scaleX;g.scalingY=e.scaleY;g.scalingCenterX=0;g.scalingCenterY=0;g.translationX=e.translateX;g.translationY=e.translateY},resetTransform:function(e){var g=this.attr;g.matrix.reset();g.inverseMatrix.reset();if(!e){this.updateTransformAttributes()}g.dirtyTransform=false;g.bbox.transform.dirty=true;this.setDirty(true);return this},setTransform:function(g,e){this.resetTransform(true);this.transform.call(this,g,e);return this},preRender:Ext.emptyFn,render:Ext.emptyFn,hitTest:function(n,m){if(this.isVisible()){var p=n[0],j=n[1],k=this.getBBox(),l=k&&p>=k.x&&p<=(k.x+k.width)&&j>=k.y&&j<=(k.y+k.height);if(l){return{sprite:this}}}return null},isVisible:function(){var r=this.attr,q=this.getParent(),p=q&&(q.isSurface||q.isVisible()),s=p&&!r.hidden&&r.globalAlpha,u=Ext.draw.Color.NONE,v=Ext.draw.Color.RGBA_NONE,t=r.fillOpacity&&r.fillStyle!==u&&r.fillStyle!==v,m=r.strokeOpacity&&r.strokeStyle!==u&&r.strokeStyle!==v,n=s&&(t||m);return !!n},repaint:function(){var d=this.getSurface();if(d){d.renderFrame()}},remove:function(){var d=this.getSurface();if(d&&d.isSurface){return d.remove(this)}return null},destroy:function(){var h=this,i=h.topModifier,g;while(i){g=i;i=i.getPrevious();g.destroy()}delete h.attr;h.remove();if(h.fireEvent("beforedestroy",h)!==false){h.fireEvent("destroy",h)}h.callParent()}},1,0,0,0,["sprite.sprite"],[["observable",Ext.mixin.Observable]],[Ext.draw.sprite,"Sprite"],function(){this.def=new Ext.draw.sprite.AttributeDefinition(this.def);this.def.spriteClass=this}));(Ext.cmd.derive("Ext.draw.Path",Ext.Base,{statics:{pathRe:/,?([achlmqrstvxz]),?/gi,pathRe2:/-/gi,pathSplitRe:/\s|,/g},svgString:"",constructor:function(g){var e=this;e.commands=[];e.params=[];e.cursor=null;e.startX=0;e.startY=0;if(g){e.fromSvgString(g)}},clear:function(){var d=this;d.params.length=0;d.commands.length=0;d.cursor=null;d.startX=0;d.startY=0;d.dirt()},dirt:function(){this.svgString=""},moveTo:function(i,g){var h=this;if(!h.cursor){h.cursor=[i,g]}h.params.push(i,g);h.commands.push("M");h.startX=i;h.startY=g;h.cursor[0]=i;h.cursor[1]=g;h.dirt()},lineTo:function(i,g){var h=this;if(!h.cursor){h.cursor=[i,g];h.params.push(i,g);h.commands.push("M")}else{h.params.push(i,g);h.commands.push("L")}h.cursor[0]=i;h.cursor[1]=g;h.dirt()},bezierCurveTo:function(p,m,q,n,r,k){var l=this;if(!l.cursor){l.moveTo(p,m)}l.params.push(p,m,q,n,r,k);l.commands.push("C");l.cursor[0]=r;l.cursor[1]=k;l.dirt()},quadraticCurveTo:function(l,i,m,j){var k=this;if(!k.cursor){k.moveTo(l,i)}k.bezierCurveTo((2*l+k.cursor[0])/3,(2*i+k.cursor[1])/3,(2*l+m)/3,(2*i+j)/3,m,j)},closePath:function(){var d=this;if(d.cursor){d.cursor=null;d.commands.push("Z");d.dirt()}},arcTo:function(U,ai,W,ak,ae,af,J){var M=this;if(af===undefined){af=ae}if(J===undefined){J=0}if(!M.cursor){M.moveTo(U,ai);return}if(ae===0||af===0){M.lineTo(U,ai);return}W-=U;ak-=ai;var R=M.cursor[0]-U,ah=M.cursor[1]-ai,P=W*ah-ak*R,am,an,ac,Q,ad,S,aa=Math.sqrt(R*R+ah*ah),K=Math.sqrt(W*W+ak*ak),L,aj,al;if(P===0){M.lineTo(U,ai);return}if(af!==ae){am=Math.cos(J);an=Math.sin(J);ac=am/ae;Q=an/af;ad=-an/ae;S=am/af;var O=ac*R+Q*ah;ah=ad*R+S*ah;R=O;O=ac*W+Q*ak;ak=ad*W+S*ak;W=O}else{R/=ae;ah/=af;W/=ae;ak/=af}aj=R*K+W*aa;al=ah*K+ak*aa;L=1/(Math.sin(Math.asin(Math.abs(P)/(aa*K))*0.5)*Math.sqrt(aj*aj+al*al));aj*=L;al*=L;var V=(aj*R+al*ah)/(R*R+ah*ah),Z=(aj*W+al*ak)/(W*W+ak*ak);var Y=R*V-aj,T=ah*V-al,ag=W*Z-aj,X=ak*Z-al,ab=Math.atan2(T,Y),N=Math.atan2(X,ag);if(P>0){if(N<ab){N+=Math.PI*2}}else{if(ab<N){ab+=Math.PI*2}}if(af!==ae){aj=am*aj*ae-an*al*af+U;al=an*al*af+am*al*af+ai;M.lineTo(am*ae*Y-an*af*T+aj,an*ae*Y+am*af*T+al);M.ellipse(aj,al,ae,af,J,ab,N,P<0)}else{aj=aj*ae+U;al=al*af+ai;M.lineTo(ae*Y+aj,af*T+al);M.ellipse(aj,al,ae,af,J,ab,N,P<0)}},ellipse:function(x,z,C,E,F,i,B,A){var H=this,y=H.params,D=y.length,j,v,w;if(B-i>=Math.PI*2){H.ellipse(x,z,C,E,F,i,i+Math.PI,A);H.ellipse(x,z,C,E,F,i+Math.PI,B,A);return}if(!A){if(B<i){B+=Math.PI*2}j=H.approximateArc(y,x,z,C,E,F,i,B)}else{if(i<B){i+=Math.PI*2}j=H.approximateArc(y,x,z,C,E,F,B,i);for(v=D,w=y.length-2;v<w;v+=2,w-=2){var G=y[v];y[v]=y[w];y[w]=G;G=y[v+1];y[v+1]=y[w+1];y[w+1]=G}}if(!H.cursor){H.cursor=[y[y.length-2],y[y.length-1]];H.commands.push("M")}else{H.cursor[0]=y[y.length-2];H.cursor[1]=y[y.length-1];H.commands.push("L")}for(v=2;v<j;v+=6){H.commands.push("C")}H.dirt()},arc:function(n,j,p,l,m,k){this.ellipse(n,j,p,p,0,l,m,k)},rect:function(l,i,k,m){if(k==0||m==0){return}var j=this;j.moveTo(l,i);j.lineTo(l+k,i);j.lineTo(l+k,i+m);j.lineTo(l,i+m);j.closePath()},approximateArc:function(K,ab,ae,R,U,ag,V,H){var af=Math.cos(ag),S=Math.sin(ag),Z=Math.cos(V),Y=Math.sin(V),O=af*Z*R-S*Y*U,T=-af*Y*R-S*Z*U,Q=S*Z*R+af*Y*U,X=-S*Y*R+af*Z*U,W=Math.PI/2,M=2,aa=O,I=T,ac=Q,J=X,ai=0.547443256150549,L,ad,P,aj,N,ah;H-=V;if(H<0){H+=Math.PI*2}K.push(O+ab,Q+ae);while(H>=W){K.push(aa+I*ai+ab,ac+J*ai+ae,aa*ai+I+ab,ac*ai+J+ae,I+ab,J+ae);M+=6;H-=W;L=aa;aa=I;I=-L;L=ac;ac=J;J=-L}if(H){ad=(0.3294738052815987+0.012120855841304373*H)*H;P=Math.cos(H);aj=Math.sin(H);N=P+ad*aj;ah=aj-ad*P;K.push(aa+I*ad+ab,ac+J*ad+ae,aa*N+I*ah+ab,ac*N+J*ah+ae,aa*P+I*aj+ab,ac*P+J*aj+ae);M+=6}return M},arcSvg:function(S,U,H,O,Q,F,Z){if(S<0){S=-S}if(U<0){U=-U}var N=this,E=N.cursor[0],W=N.cursor[1],ab=(E-F)/2,M=(W-Z)/2,Y=Math.cos(H),G=Math.sin(H),K=ab*Y+M*G,D=-ab*G+M*Y,T=K/S,V=D/U,J=T*T+V*V,X=(E+F)*0.5,aa=(W+Z)*0.5,P=0,R=0;if(J>=1){J=Math.sqrt(J);S*=J;U*=J}else{J=Math.sqrt(1/J-1);if(O===Q){J=-J}P=J*S*V;R=-J*U*T;X+=Y*P-G*R;aa+=G*P+Y*R}var I=Math.atan2((D-R)/U,(K-P)/S),L=Math.atan2((-D-R)/U,(-K-P)/S)-I;if(Q){if(L<=0){L+=Math.PI*2}}else{if(L>=0){L-=Math.PI*2}}N.ellipse(X,aa,S,U,H,I,I+L,1-Q)},fromSvgString:function(z){if(!z){return}var s=this,w,t={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0,A:7,C:6,H:1,L:2,M:2,Q:4,S:4,T:2,V:1,Z:0},u="",x,y,B=0,C=0,A=false,v,i,D;if(Ext.isString(z)){w=z.replace(Ext.draw.Path.pathRe," $1 ").replace(Ext.draw.Path.pathRe2," -").split(Ext.draw.Path.pathSplitRe)}else{if(Ext.isArray(z)){w=z.join(",").split(Ext.draw.Path.pathSplitRe)}}for(v=0,i=0;v<w.length;v++){if(w[v]!==""){w[i++]=w[v]}}w.length=i;s.clear();for(v=0;v<w.length;){u=A;A=w[v];D=(A.toUpperCase()!==A);v++;switch(A){case"M":s.moveTo(B=+w[v],C=+w[v+1]);v+=2;while(v<i&&!t.hasOwnProperty(w[v])){s.lineTo(B=+w[v],C=+w[v+1]);v+=2}break;case"L":s.lineTo(B=+w[v],C=+w[v+1]);v+=2;while(v<i&&!t.hasOwnProperty(w[v])){s.lineTo(B=+w[v],C=+w[v+1]);v+=2}break;case"A":while(v<i&&!t.hasOwnProperty(w[v])){s.arcSvg(+w[v],+w[v+1],+w[v+2]*Math.PI/180,+w[v+3],+w[v+4],B=+w[v+5],C=+w[v+6]);v+=7}break;case"C":while(v<i&&!t.hasOwnProperty(w[v])){s.bezierCurveTo(+w[v],+w[v+1],x=+w[v+2],y=+w[v+3],B=+w[v+4],C=+w[v+5]);v+=6}break;case"Z":s.closePath();break;case"m":s.moveTo(B+=+w[v],C+=+w[v+1]);v+=2;while(v<i&&!t.hasOwnProperty(w[v])){s.lineTo(B+=+w[v],C+=+w[v+1]);v+=2}break;case"l":s.lineTo(B+=+w[v],C+=+w[v+1]);v+=2;while(v<i&&!t.hasOwnProperty(w[v])){s.lineTo(B+=+w[v],C+=+w[v+1]);v+=2}break;case"a":while(v<i&&!t.hasOwnProperty(w[v])){s.arcSvg(+w[v],+w[v+1],+w[v+2]*Math.PI/180,+w[v+3],+w[v+4],B+=+w[v+5],C+=+w[v+6]);v+=7}break;case"c":while(v<i&&!t.hasOwnProperty(w[v])){s.bezierCurveTo(B+(+w[v]),C+(+w[v+1]),x=B+(+w[v+2]),y=C+(+w[v+3]),B+=+w[v+4],C+=+w[v+5]);v+=6}break;case"z":s.closePath();break;case"s":if(!(u==="c"||u==="C"||u==="s"||u==="S")){x=B;y=C}while(v<i&&!t.hasOwnProperty(w[v])){s.bezierCurveTo(B+B-x,C+C-y,x=B+(+w[v]),y=C+(+w[v+1]),B+=+w[v+2],C+=+w[v+3]);v+=4}break;case"S":if(!(u==="c"||u==="C"||u==="s"||u==="S")){x=B;y=C}while(v<i&&!t.hasOwnProperty(w[v])){s.bezierCurveTo(B+B-x,C+C-y,x=+w[v],y=+w[v+1],B=(+w[v+2]),C=(+w[v+3]));v+=4}break;case"q":while(v<i&&!t.hasOwnProperty(w[v])){s.quadraticCurveTo(x=B+(+w[v]),y=C+(+w[v+1]),B+=+w[v+2],C+=+w[v+3]);v+=4}break;case"Q":while(v<i&&!t.hasOwnProperty(w[v])){s.quadraticCurveTo(x=+w[v],y=+w[v+1],B=+w[v+2],C=+w[v+3]);v+=4}break;case"t":if(!(u==="q"||u==="Q"||u==="t"||u==="T")){x=B;y=C}while(v<i&&!t.hasOwnProperty(w[v])){s.quadraticCurveTo(x=B+B-x,y=C+C-y,B+=+w[v+1],C+=+w[v+2]);v+=2}break;case"T":if(!(u==="q"||u==="Q"||u==="t"||u==="T")){x=B;y=C}while(v<i&&!t.hasOwnProperty(w[v])){s.quadraticCurveTo(x=B+B-x,y=C+C-y,B=(+w[v+1]),C=(+w[v+2]));v+=2}break;case"h":while(v<i&&!t.hasOwnProperty(w[v])){s.lineTo(B+=+w[v],C);v++}break;case"H":while(v<i&&!t.hasOwnProperty(w[v])){s.lineTo(B=+w[v],C);v++}break;case"v":while(v<i&&!t.hasOwnProperty(w[v])){s.lineTo(B,C+=+w[v]);v++}break;case"V":while(v<i&&!t.hasOwnProperty(w[v])){s.lineTo(B,C=+w[v]);v++}break}}},clone:function(){var g=this,e=new Ext.draw.Path();e.params=g.params.slice(0);e.commands=g.commands.slice(0);e.cursor=g.cursor?g.cursor.slice(0):null;e.startX=g.startX;e.startY=g.startY;e.svgString=g.svgString;return e},transform:function(t){if(t.isIdentity()){return}var B=t.getXX(),w=t.getYX(),i=t.getDX(),r=t.getXY(),x=t.getYY(),s=t.getDY(),A=this.params,z=0,y=A.length,u,v;for(;z<y;z+=2){u=A[z];v=A[z+1];A[z]=u*B+v*w+i;A[z+1]=u*r+v*x+s}this.dirt()},getDimension:function(n){if(!n){n={}}if(!this.commands||!this.commands.length){n.x=0;n.y=0;n.width=0;n.height=0;return n}n.left=Infinity;n.top=Infinity;n.right=-Infinity;n.bottom=-Infinity;var q=0,r=0,s=this.commands,j=this.params,p=s.length,t,i;for(;q<p;q++){switch(s[q]){case"M":case"L":t=j[r];i=j[r+1];n.left=Math.min(t,n.left);n.top=Math.min(i,n.top);n.right=Math.max(t,n.right);n.bottom=Math.max(i,n.bottom);r+=2;break;case"C":this.expandDimension(n,t,i,j[r],j[r+1],j[r+2],j[r+3],t=j[r+4],i=j[r+5]);r+=6;break}}n.x=n.left;n.y=n.top;n.width=n.right-n.left;n.height=n.bottom-n.top;return n},getDimensionWithTransform:function(i,z){if(!this.commands||!this.commands.length){if(!z){z={}}z.x=0;z.y=0;z.width=0;z.height=0;return z}z.left=Infinity;z.top=Infinity;z.right=-Infinity;z.bottom=-Infinity;var E=i.getXX(),w=i.getYX(),F=i.getDX(),G=i.getXY(),x=i.getYY(),H=i.getDY(),A=0,B=0,D=this.commands,C=this.params,y=D.length,j,v;for(;A<y;A++){switch(D[A]){case"M":case"L":j=C[B]*E+C[B+1]*w+F;v=C[B]*G+C[B+1]*x+H;z.left=Math.min(j,z.left);z.top=Math.min(v,z.top);z.right=Math.max(j,z.right);z.bottom=Math.max(v,z.bottom);B+=2;break;case"C":this.expandDimension(z,j,v,C[B]*E+C[B+1]*w+F,C[B]*G+C[B+1]*x+H,C[B+2]*E+C[B+3]*w+F,C[B+2]*G+C[B+3]*x+H,j=C[B+4]*E+C[B+5]*w+F,v=C[B+4]*G+C[B+5]*x+H);B+=6;break}}if(!z){z={}}z.x=z.left;z.y=z.top;z.width=z.right-z.left;z.height=z.bottom-z.top;return z},expandDimension:function(x,C,G,t,z,w,B,D,H){var r=this,A=x.left,E=x.right,F=x.top,l=x.bottom,y=r.dim||(r.dim=[]);r.curveDimension(C,t,w,D,y);A=Math.min(A,y[0]);E=Math.max(E,y[1]);r.curveDimension(G,z,B,H,y);F=Math.min(F,y[0]);l=Math.max(l,y[1]);x.left=A;x.right=E;x.top=F;x.bottom=l},curveDimension:function(c,t,w,x,z){var y=3*(-c+3*(t-w)+x),A=6*(c-2*t+w),B=-3*(c-t),d,u,C=Math.min(c,x),v=Math.max(c,x),D;if(y===0){if(A===0){z[0]=C;z[1]=v;return}else{d=-B/A;if(0<d&&d<1){u=this.interpolate(c,t,w,x,d);C=Math.min(C,u);v=Math.max(v,u)}}}else{D=A*A-4*y*B;if(D>=0){D=Math.sqrt(D);d=(D-A)/2/y;if(0<d&&d<1){u=this.interpolate(c,t,w,x,d);C=Math.min(C,u);v=Math.max(v,u)}if(D>0){d-=D/y;if(0<d&&d<1){u=this.interpolate(c,t,w,x,d);C=Math.min(C,u);v=Math.max(v,u)}}}}z[0]=C;z[1]=v},interpolate:function(n,p,c,d,m){if(m===0){return n}if(m===1){return d}var l=(1-m)/m;return m*m*m*(d+l*(3*c+l*(3*p+l*n)))},fromStripes:function(i){var m=this,p=0,n=i.length,q,r,j;m.clear();for(;p<n;p++){j=i[p];m.params.push.apply(m.params,j);m.commands.push("M");for(q=2,r=j.length;q<r;q+=6){m.commands.push("C")}}if(!m.cursor){m.cursor=[]}m.cursor[0]=m.params[m.params.length-2];m.cursor[1]=m.params[m.params.length-1];m.dirt()},toStripes:function(v){var F=v||[],E,i,j,C,D,w,x,y,z,B=this.commands,A=this.params,u=B.length;for(y=0,z=0;y<u;y++){switch(B[y]){case"M":E=[w=C=A[z++],x=D=A[z++]];F.push(E);break;case"L":i=A[z++];j=A[z++];E.push((C+C+i)/3,(D+D+j)/3,(C+i+i)/3,(D+j+j)/3,C=i,D=j);break;case"C":E.push(A[z++],A[z++],A[z++],A[z++],C=A[z++],D=A[z++]);break;case"Z":i=w;j=x;E.push((C+C+i)/3,(D+D+j)/3,(C+i+i)/3,(D+j+j)/3,C=i,D=j);break}}return F},updateSvgString:function(){var n=[],p=this.commands,i=this.params,j=p.length,l=0,m=0;for(;l<j;l++){switch(p[l]){case"M":n.push("M"+i[m]+","+i[m+1]);m+=2;break;case"L":n.push("L"+i[m]+","+i[m+1]);m+=2;break;case"C":n.push("C"+i[m]+","+i[m+1]+" "+i[m+2]+","+i[m+3]+" "+i[m+4]+","+i[m+5]);m+=6;break;case"Z":n.push("Z");break}}this.svgString=n.join("")},toString:function(){if(!this.svgString){this.updateSvgString()}return this.svgString}},3,0,0,0,0,0,[Ext.draw,"Path"],0));Ext.define("Ext.draw.overrides.Path",{override:"Ext.draw.Path",rayOrigin:{x:-10000,y:-10000},isPointInPath:function(H,i){var j=this,C=j.commands,F=Ext.draw.PathUtil,G=j.rayOrigin,z=j.params,v=C.length,A=null,B=null,D=0,E=0,w=0,x,y;for(x=0,y=0;x<v;x++){switch(C[x]){case"M":if(A!==null){if(F.linesIntersection(A,B,D,E,G.x,G.y,H,i)){w+=1}}A=D=z[y];B=E=z[y+1];y+=2;break;case"L":if(F.linesIntersection(D,E,z[y],z[y+1],G.x,G.y,H,i)){w+=1}D=z[y];E=z[y+1];y+=2;break;case"C":w+=F.cubicLineIntersections(D,z[y],z[y+2],z[y+4],E,z[y+1],z[y+3],z[y+5],G.x,G.y,H,i).length;D=z[y+4];E=z[y+5];y+=6;break;case"Z":if(A!==null){if(F.linesIntersection(A,B,D,E,G.x,G.y,H,i)){w+=1}}break}}return w%2===1},isPointOnPath:function(i,j){var t=this,A=t.commands,D=Ext.draw.PathUtil,x=t.params,u=A.length,y=null,z=null,B=0,C=0,v,w;for(v=0,w=0;v<u;v++){switch(A[v]){case"M":if(y!==null){if(D.pointOnLine(y,z,B,C,i,j)){return true}}y=B=x[w];z=C=x[w+1];w+=2;break;case"L":if(D.pointOnLine(B,C,x[w],x[w+1],i,j)){return true}B=x[w];C=x[w+1];w+=2;break;case"C":if(D.pointOnCubic(B,x[w],x[w+2],x[w+4],C,x[w+1],x[w+3],x[w+5],i,j)){return true}B=x[w+4];C=x[w+5];w+=6;break;case"Z":if(y!==null){if(D.pointOnLine(y,z,B,C,i,j)){return true}}break}}return false},getSegmentIntersections:function(C,S,D,T,E,U,H,V){var L=this,P=arguments.length,i=Ext.draw.PathUtil,Q=L.commands,j=L.params,N=Q.length,K=null,M=null,O=0,R=0,J=[],F,I,G;for(F=0,I=0;F<N;F++){switch(Q[F]){case"M":if(K!==null){switch(P){case 4:G=i.linesIntersection(K,M,O,R,C,S,D,T);if(G){J.push(G)}break;case 8:G=i.cubicLineIntersections(C,D,E,H,S,T,U,V,K,M,O,R);J.push.apply(J,G);break}}K=O=j[I];M=R=j[I+1];I+=2;break;case"L":switch(P){case 4:G=i.linesIntersection(O,R,j[I],j[I+1],C,S,D,T);if(G){J.push(G)}break;case 8:G=i.cubicLineIntersections(C,D,E,H,S,T,U,V,O,R,j[I],j[I+1]);J.push.apply(J,G);break}O=j[I];R=j[I+1];I+=2;break;case"C":switch(P){case 4:G=i.cubicLineIntersections(O,j[I],j[I+2],j[I+4],R,j[I+1],j[I+3],j[I+5],C,S,D,T);J.push.apply(J,G);break;case 8:G=i.cubicsIntersections(O,j[I],j[I+2],j[I+4],R,j[I+1],j[I+3],j[I+5],C,D,E,H,S,T,U,V);J.push.apply(J,G);break}O=j[I+4];R=j[I+5];I+=6;break;case"Z":if(K!==null){switch(P){case 4:G=i.linesIntersection(K,M,O,R,C,S,D,T);if(G){J.push(G)}break;case 8:G=i.cubicLineIntersections(C,D,E,H,S,T,U,V,K,M,O,R);J.push.apply(J,G);break}}break}}return J},getIntersections:function(D){var j=this,A=j.commands,w=j.params,t=A.length,x=null,y=null,B=0,C=0,z=[],u,v,i;for(u=0,v=0;u<t;u++){switch(A[u]){case"M":if(x!==null){i=D.getSegmentIntersections.call(D,x,y,B,C);z.push.apply(z,i)}x=B=w[v];y=C=w[v+1];v+=2;break;case"L":i=D.getSegmentIntersections.call(D,B,C,w[v],w[v+1]);z.push.apply(z,i);B=w[v];C=w[v+1];v+=2;break;case"C":i=D.getSegmentIntersections.call(D,B,C,w[v],w[v+1],w[v+2],w[v+3],w[v+4],w[v+5]);z.push.apply(z,i);B=w[v+4];C=w[v+5];v+=6;break;case"Z":if(x!==null){i=D.getSegmentIntersections.call(D,x,y,B,C);z.push.apply(z,i)}break}}return z}});(Ext.cmd.derive("Ext.draw.sprite.Path",Ext.draw.sprite.Sprite,{type:"path",isPath:true,inheritableStatics:{def:{processors:{path:function(e,g){if(!(e instanceof Ext.draw.Path)){e=new Ext.draw.Path(e)}return e}},aliases:{d:"path"},triggers:{path:"bbox"},updaters:{path:function(g){var e=g.path;if(!e||e.bindAttr!==g){e=new Ext.draw.Path();e.bindAttr=g;g.path=e}e.clear();this.updatePath(e,g);this.scheduleUpdater(g,"bbox",["path"])}}}},updatePlainBBox:function(d){if(this.attr.path){this.attr.path.getDimension(d)}},updateTransformedBBox:function(d){if(this.attr.path){this.attr.path.getDimensionWithTransform(this.attr.matrix,d)}},render:function(j,i){var h=this.attr.matrix,k=this.attr;if(!k.path||k.path.params.length===0){return}h.toContext(i);i.appendPath(k.path);i.fillStroke(k)},updatePath:function(e,g){}},0,0,0,0,["Ext.draw.Sprite","sprite.path"],0,[Ext.draw.sprite,"Path"],0));Ext.define("Ext.draw.overrides.sprite.Path",{override:"Ext.draw.sprite.Path",isPointInPath:function(p,k){var q=this.attr;if(q.fillStyle===Ext.draw.Color.RGBA_NONE){return this.isPointOnPath(p,k)}var m=q.path,n=q.matrix,l,r;if(!n.isIdentity()){l=m.params.slice(0);m.transform(q.matrix)}r=m.isPointInPath(p,k);if(l){m.params=l}return r},isPointOnPath:function(p,k){var q=this.attr,m=q.path,n=q.matrix,l,r;if(!n.isIdentity()){l=m.params.slice(0);m.transform(q.matrix)}r=m.isPointOnPath(p,k);if(l){m.params=l}return r},hitTest:function(t,q){var x=this,z=x.attr,r=z.path,v=z.matrix,u=t[0],w=t[1],y=(arguments.callee.$previous||Ext.draw.sprite.Sprite.prototype.hitTest).call(this,t,q),s=null,B,A;if(!y){return s}q=q||Ext.draw.sprite.Sprite.defaultHitTestOptions;if(!v.isIdentity()){B=r.params.slice(0);r.transform(z.matrix)}if(q.fill&&q.stroke){A=z.fillStyle!==Ext.draw.Color.NONE&&z.fillStyle!==Ext.draw.Color.RGBA_NONE;if(A){if(r.isPointInPath(u,w)){s={sprite:x}}}else{if(r.isPointInPath(u,w)||r.isPointOnPath(u,w)){s={sprite:x}}}}else{if(q.stroke&&!q.fill){if(r.isPointOnPath(u,w)){s={sprite:x}}}else{if(q.fill&&!q.stroke){if(r.isPointInPath(u,w)){s={sprite:x}}}}}if(B){r.params=B}return s},getIntersections:function(n){if(!(n.isSprite&&n.isPath)){return[]}var t=this.attr,u=n.attr,p=t.path,q=u.path,r=t.matrix,x=u.matrix,v,s,w;if(!r.isIdentity()){v=p.params.slice(0);p.transform(t.matrix)}if(!x.isIdentity()){s=q.params.slice(0);q.transform(u.matrix)}w=p.getIntersections(q);if(v){p.params=v}if(s){q.params=s}return w}});(Ext.cmd.derive("Ext.draw.sprite.Circle",Ext.draw.sprite.Path,{type:"circle",inheritableStatics:{def:{processors:{cx:"number",cy:"number",r:"number"},aliases:{radius:"r",x:"cx",y:"cy",centerX:"cx",centerY:"cy"},defaults:{cx:0,cy:0,r:4},triggers:{cx:"path",cy:"path",r:"path"}}},updatePlainBBox:function(k){var l=this.attr,m=l.cx,i=l.cy,j=l.r;k.x=m-j;k.y=i-j;k.width=j+j;k.height=j+j},updateTransformedBBox:function(u){var r=this.attr,s=r.cx,t=r.cy,x=r.r,q=r.matrix,n=q.getScaleX(),p=q.getScaleY(),v,w;v=n*x;w=p*x;u.x=q.x(s,t)-v;u.y=q.y(s,t)-w;u.width=v+v;u.height=w+w},updatePath:function(e,g){e.arc(g.cx,g.cy,g.r,0,Math.PI*2,false)}},0,0,0,0,["sprite.circle"],0,[Ext.draw.sprite,"Circle"],0));(Ext.cmd.derive("Ext.draw.sprite.Arc",Ext.draw.sprite.Circle,{type:"arc",inheritableStatics:{def:{processors:{startAngle:"number",endAngle:"number",anticlockwise:"bool"},aliases:{from:"startAngle",to:"endAngle",start:"startAngle",end:"endAngle"},defaults:{startAngle:0,endAngle:Math.PI*2,anticlockwise:false},triggers:{startAngle:"path",endAngle:"path",anticlockwise:"path"}}},updatePath:function(e,g){e.arc(g.cx,g.cy,g.r,g.startAngle,g.endAngle,g.anticlockwise)}},0,0,0,0,["sprite.arc"],0,[Ext.draw.sprite,"Arc"],0));(Ext.cmd.derive("Ext.draw.sprite.Arrow",Ext.draw.sprite.Path,{inheritableStatics:{def:{processors:{x:"number",y:"number",size:"number"},defaults:{x:0,y:0,size:4},triggers:{x:"path",y:"path",size:"path"}}},updatePath:function(j,l){var k=l.size*1.5,m=l.x-l.lineWidth/2,i=l.y;j.fromSvgString("M".concat(m-k*0.7,",",i-k*0.4,"l",[k*0.6,0,0,-k*0.4,k,k*0.8,-k,k*0.8,0,-k*0.4,-k*0.6,0],"z"))}},0,0,0,0,["sprite.arrow"],0,[Ext.draw.sprite,"Arrow"],0));(Ext.cmd.derive("Ext.draw.sprite.Composite",Ext.draw.sprite.Sprite,{type:"composite",isComposite:true,config:{sprites:[]},constructor:function(){this.sprites=[];this.sprites.map={};Ext.draw.sprite.Sprite.prototype.constructor.apply(this,arguments)},add:function(i){if(!i){return null}if(!i.isSprite){i=Ext.create("sprite."+i.type,i);i.setParent(this);i.setSurface(this.getSurface())}var h=this,k=h.attr,j=i.applyTransformations;i.applyTransformations=function(){if(i.attr.dirtyTransform){k.dirtyTransform=true;k.bbox.plain.dirty=true;k.bbox.transform.dirty=true}j.call(i)};h.sprites.push(i);h.sprites.map[i.id]=i.getId();k.bbox.plain.dirty=true;k.bbox.transform.dirty=true;return i},updateSurface:function(i){for(var h=0,g=this.sprites.length;h<g;h++){this.sprites[h].setSurface(i)}},addAll:function(e){if(e.isSprite||e.type){this.add(e)}else{if(Ext.isArray(e)){var g=0;while(g<e.length){this.add(e[g++])}}}},updatePlainBBox:function(r){var t=this,w=Infinity,q=-Infinity,s=Infinity,x=-Infinity,p,i,v,u;for(v=0,u=t.sprites.length;v<u;v++){p=t.sprites[v];p.applyTransformations();i=p.getBBox();if(w>i.x){w=i.x}if(q<i.x+i.width){q=i.x+i.width}if(s>i.y){s=i.y}if(x<i.y+i.height){x=i.y+i.height}}r.x=w;r.y=s;r.width=q-w;r.height=x-s},render:function(p,n,i){var l=this.attr.matrix,m,k;l.toContext(n);for(m=0,k=this.sprites.length;m<k;m++){p.renderSprite(this.sprites[m],i)}},destroy:function(){var i=this,h=i.sprites,j=h.length,k;Ext.draw.sprite.Sprite.prototype.destroy.call(this);for(k=0;k<j;k++){h[k].destroy()}h.length=0}},1,0,0,0,["sprite.composite"],0,[Ext.draw.sprite,"Composite"],0));(Ext.cmd.derive("Ext.draw.sprite.Cross",Ext.draw.sprite.Path,{inheritableStatics:{def:{processors:{x:"number",y:"number",size:"number"},defaults:{x:0,y:0,size:4},triggers:{x:"path",y:"path",size:"path"}}},updatePath:function(j,l){var k=l.size/1.7,m=l.x-l.lineWidth/2,i=l.y;j.fromSvgString("M".concat(m-k,",",i,"l",[-k,-k,k,-k,k,k,k,-k,k,k,-k,k,k,k,-k,k,-k,-k,-k,k,-k,-k,"z"]))}},0,0,0,0,["sprite.cross"],0,[Ext.draw.sprite,"Cross"],0));(Ext.cmd.derive("Ext.draw.sprite.Diamond",Ext.draw.sprite.Path,{inheritableStatics:{def:{processors:{x:"number",y:"number",size:"number"},defaults:{x:0,y:0,size:4},triggers:{x:"path",y:"path",size:"path"}}},updatePath:function(j,l){var k=l.size*1.25,m=l.x-l.lineWidth/2,i=l.y;j.fromSvgString(["M",m,i-k,"l",k,k,-k,k,-k,-k,k,-k,"z"])}},0,0,0,0,["sprite.diamond"],0,[Ext.draw.sprite,"Diamond"],0));(Ext.cmd.derive("Ext.draw.sprite.Ellipse",Ext.draw.sprite.Path,{type:"ellipse",inheritableStatics:{def:{processors:{cx:"number",cy:"number",rx:"number",ry:"number",axisRotation:"number"},aliases:{radius:"r",x:"cx",y:"cy",centerX:"cx",centerY:"cy",radiusX:"rx",radiusY:"ry"},defaults:{cx:0,cy:0,rx:1,ry:1,axisRotation:0},triggers:{cx:"path",cy:"path",rx:"path",ry:"path",axisRotation:"path"}}},updatePlainBBox:function(m){var n=this.attr,p=n.cx,j=n.cy,k=n.rx,l=n.ry;m.x=p-k;m.y=j-l;m.width=k+k;m.height=l+l},updateTransformedBBox:function(D){var z=this.attr,B=z.cx,C=z.cy,E=z.rx,F=z.ry,w=F/E,v=z.matrix.clone(),G,H,x,y,I,J,h,A;v.append(1,0,0,w,0,C*(1-w));G=v.getXX();x=v.getYX();I=v.getDX();H=v.getXY();y=v.getYY();J=v.getDY();h=Math.sqrt(G*G+x*x)*E;A=Math.sqrt(H*H+y*y)*E;D.x=B*G+C*x+I-h;D.y=B*H+C*y+J-A;D.width=h+h;D.height=A+A},updatePath:function(e,g){e.ellipse(g.cx,g.cy,g.rx,g.ry,g.axisRotation,0,Math.PI*2,false)}},0,0,0,0,["sprite.ellipse"],0,[Ext.draw.sprite,"Ellipse"],0));(Ext.cmd.derive("Ext.draw.sprite.EllipticalArc",Ext.draw.sprite.Ellipse,{type:"ellipticalArc",inheritableStatics:{def:{processors:{startAngle:"number",endAngle:"number",anticlockwise:"bool"},aliases:{from:"startAngle",to:"endAngle",start:"startAngle",end:"endAngle"},defaults:{startAngle:0,endAngle:Math.PI*2,anticlockwise:false},triggers:{startAngle:"path",endAngle:"path",anticlockwise:"path"}}},updatePath:function(e,g){e.ellipse(g.cx,g.cy,g.rx,g.ry,g.axisRotation,g.startAngle,g.endAngle,g.anticlockwise)}},0,0,0,0,["sprite.ellipticalArc"],0,[Ext.draw.sprite,"EllipticalArc"],0));(Ext.cmd.derive("Ext.draw.sprite.Rect",Ext.draw.sprite.Path,{type:"rect",inheritableStatics:{def:{processors:{x:"number",y:"number",width:"number",height:"number",radius:"number"},aliases:{},triggers:{x:"path",y:"path",width:"path",height:"path",radius:"path"},defaults:{x:0,y:0,width:8,height:8,radius:0}}},updatePlainBBox:function(e){var g=this.attr;e.x=g.x;e.y=g.y;e.width=g.width;e.height=g.height},updateTransformedBBox:function(g,e){this.attr.matrix.transformBBox(e,this.attr.radius,g)},updatePath:function(l,n){var p=n.x,k=n.y,m=n.width,q=n.height,r=Math.min(n.radius,Math.abs(n.height)*0.5,Math.abs(n.width)*0.5);if(r===0){l.rect(p,k,m,q)}else{l.moveTo(p+r,k);l.arcTo(p+m,k,p+m,k+q,r);l.arcTo(p+m,k+q,p,k+q,r);l.arcTo(p,k+q,p,k,r);l.arcTo(p,k,p+r,k,r)}}},0,0,0,0,["sprite.rect"],0,[Ext.draw.sprite,"Rect"],0));(Ext.cmd.derive("Ext.draw.sprite.Image",Ext.draw.sprite.Rect,{type:"image",statics:{imageLoaders:{}},inheritableStatics:{def:{processors:{src:"string"},defaults:{src:"",width:null,height:null}}},render:function(C,F){var w=this,x=w.attr,i=x.matrix,E=x.src,u=x.x,v=x.y,D=x.width,t=x.height,y=Ext.draw.sprite.Image.imageLoaders[E],z,B,A;if(y&&y.done){i.toContext(F);B=y.image;F.drawImage(B,u,v,D||(B.naturalWidth||B.width)/C.devicePixelRatio,t||(B.naturalHeight||B.height)/C.devicePixelRatio)}else{if(!y){z=new Image();y=Ext.draw.sprite.Image.imageLoaders[E]={image:z,done:false,pendingSprites:[w],pendingSurfaces:[C]};z.width=D;z.height=t;z.onload=function(){if(!y.done){y.done=true;for(A=0;A<y.pendingSprites.length;A++){y.pendingSprites[A].setDirty(true)}for(A in y.pendingSurfaces){y.pendingSurfaces[A].renderFrame()}}};z.src=E}else{Ext.Array.include(y.pendingSprites,w);Ext.Array.include(y.pendingSurfaces,C)}}}},0,0,0,0,["sprite.image"],0,[Ext.draw.sprite,"Image"],0));(Ext.cmd.derive("Ext.draw.sprite.Instancing",Ext.draw.sprite.Sprite,{type:"instancing",isInstancing:true,config:{template:null},instances:null,applyTemplate:function(d){if(!d.isSprite){if(!d.xclass&&!d.type){d.type="circle"}d=Ext.create(d.xclass||"sprite."+d.type,d)}d.setParent(this);return d},updateTemplate:function(g,e){if(e){delete e.ownAttr}g.setSurface(this.getSurface());g.ownAttr=g.attr;this.clearAll()},updateSurface:function(g){var e=this.getTemplate();if(e){e.setSurface(g)}},get:function(d){return this.instances[d]},getCount:function(){return this.instances.length},clearAll:function(){var d=this.getTemplate();d.attr.children=this.instances=[];this.position=0},createInstance:function(l,j,m){var k=this.getTemplate(),n=k.attr,p=Ext.Object.chain(n);k.topModifier.prepareAttributes(p);k.attr=p;k.setAttributes(l,j,m);p.template=k;this.instances.push(p);k.attr=n;this.position++;return p},getBBox:function(){return null},getBBoxFor:function(l,j){var k=this.getTemplate(),m=k.attr,i;k.attr=this.instances[l];i=k.getBBox(j);k.attr=m;return i},isVisible:function(){var h=this.attr,g=this.getParent(),i;i=g&&g.isSurface&&!h.hidden&&h.globalAlpha;return !!i},isInstanceVisible:function(m){var k=this,l=k.getTemplate(),n=l.attr,j=k.instances,p=false;if(!Ext.isNumber(m)||m<0||m>=j.length||!k.isVisible()){return p}l.attr=j[m];p=l.isVisible(point,options);l.attr=n;return p},render:function(y,i,w,s){var t=this,r=t.getTemplate(),q=t.attr.matrix,x=r.attr,z=t.instances,v,u=t.position;q.toContext(i);r.preRender(y,i,w,s);r.useAttributes(i,s);for(v=0;v<u;v++){if(z[v].dirtyZIndex){break}}for(v=0;v<u;v++){if(z[v].hidden){continue}i.save();r.attr=z[v];r.useAttributes(i,s);r.render(y,i,w,s);i.restore()}r.attr=x},setAttributesFor:function(m,k,j){var l=this.getTemplate(),n=l.attr,p=this.instances[m];if(!p){return}l.attr=p;if(j){k=Ext.apply({},k)}else{k=l.self.def.normalize(k)}l.topModifier.pushDown(p,k);l.attr=n},destroy:function(){var e=this,g=e.getTemplate();e.instances=null;if(g){g.destroy()}Ext.draw.sprite.Sprite.prototype.destroy.call(this)}},0,0,0,0,["sprite.instancing"],0,[Ext.draw.sprite,"Instancing"],0));Ext.define("Ext.draw.overrides.sprite.Instancing",{override:"Ext.draw.sprite.Instancing",hitTest:function(q,i){var r=this,p=r.getTemplate(),u=p.attr,v=r.instances,s=v.length,t=0,n=null;if(!r.isVisible()){return n}for(;t<s;t++){p.attr=v[t];n=p.hitTest(q,i);if(n){n.isInstance=true;n.template=n.sprite;n.sprite=this;n.instance=v[t];n.index=t;return n}}p.attr=u;return n}});(Ext.cmd.derive("Ext.draw.sprite.Line",Ext.draw.sprite.Sprite,{type:"line",inheritableStatics:{def:{processors:{fromX:"number",fromY:"number",toX:"number",toY:"number"},defaults:{fromX:0,fromY:0,toX:1,toY:1,strokeStyle:"black"},aliases:{x1:"fromX",y1:"fromY",x2:"toX",y2:"toY"}}},updateLineBBox:function(O,H,y,J,z,K){var B=this.attr,A=B.matrix,I=B.lineWidth/2,D,E,M,N,F,G,C;if(H){C=A.transformPoint([y,J]);y=C[0];J=C[1];C=A.transformPoint([z,K]);z=C[0];K=C[1]}D=Math.min(y,z);M=Math.max(y,z);E=Math.min(J,K);N=Math.max(J,K);var p=Math.atan2(M-D,N-E),P=Math.sin(p),L=Math.cos(p),F=I*L,G=I*P;D-=F;E-=G;M+=F;N+=G;O.x=D;O.y=E;O.width=M-D;O.height=N-E},updatePlainBBox:function(e){var g=this.attr;this.updateLineBBox(e,false,g.fromX,g.fromY,g.toX,g.toY)},updateTransformedBBox:function(h,g){var i=this.attr;this.updateLineBBox(h,true,i.fromX,i.fromY,i.toX,i.toY)},render:function(j,i){var k=this.attr,h=this.attr.matrix;h.toContext(i);i.beginPath();i.moveTo(k.fromX,k.fromY);i.lineTo(k.toX,k.toY);i.stroke()}},0,0,0,0,["sprite.line"],0,[Ext.draw.sprite,"Line"],0));(Ext.cmd.derive("Ext.draw.sprite.Plus",Ext.draw.sprite.Path,{inheritableStatics:{def:{processors:{x:"number",y:"number",size:"number"},defaults:{x:0,y:0,size:4},triggers:{x:"path",y:"path",size:"path"}}},updatePath:function(j,l){var k=l.size/1.3,m=l.x-l.lineWidth/2,i=l.y;j.fromSvgString("M".concat(m-k/2,",",i-k/2,"l",[0,-k,k,0,0,k,k,0,0,k,-k,0,0,k,-k,0,0,-k,-k,0,0,-k,"z"]))}},0,0,0,0,["sprite.plus"],0,[Ext.draw.sprite,"Plus"],0));(Ext.cmd.derive("Ext.draw.sprite.Sector",Ext.draw.sprite.Path,{type:"sector",inheritableStatics:{def:{processors:{centerX:"number",centerY:"number",startAngle:"number",endAngle:"number",startRho:"number",endRho:"number",margin:"number"},aliases:{rho:"endRho"},triggers:{centerX:"path,bbox",centerY:"path,bbox",startAngle:"path,bbox",endAngle:"path,bbox",startRho:"path,bbox",endRho:"path,bbox",margin:"path,bbox"},defaults:{centerX:0,centerY:0,startAngle:0,endAngle:0,startRho:0,endRho:150,margin:0,path:"M 0,0"}}},getMidAngle:function(){return this.midAngle||0},updatePath:function(n,q){var r=Math.min(q.startAngle,q.endAngle),v=Math.max(q.startAngle,q.endAngle),w=this.midAngle=(r+v)*0.5,u=q.margin,s=q.centerX,t=q.centerY,p=Math.min(q.startRho,q.endRho),x=Math.max(q.startRho,q.endRho);if(u){s+=u*Math.cos(w);t+=u*Math.sin(w)}n.moveTo(s+p*Math.cos(r),t+p*Math.sin(r));n.lineTo(s+x*Math.cos(r),t+x*Math.sin(r));n.arc(s,t,x,r,v,false);n.lineTo(s+p*Math.cos(v),t+p*Math.sin(v));n.arc(s,t,p,v,r,true)}},0,0,0,0,["sprite.sector"],0,[Ext.draw.sprite,"Sector"],0));(Ext.cmd.derive("Ext.draw.sprite.Square",Ext.draw.sprite.Rect,{inheritableStatics:{def:{processors:{size:"number"},defaults:{size:4},triggers:{size:"size"},updaters:{size:function(i){var g=i.size,h=i.lineWidth/2;this.setAttributes({x:i.x-g-h,y:i.y-g,height:2*g,width:2*g})}}}}},0,0,0,0,["sprite.square"],0,[Ext.draw.sprite,"Square"],0));(Ext.cmd.derive("Ext.draw.TextMeasurer",Ext.Base,{singleton:true,measureDiv:null,measureCache:{},precise:Ext.isIE8,measureDivTpl:{tag:"div",style:{overflow:"hidden",position:"relative","float":"left",width:0,height:0},children:{tag:"div",style:{display:"block",position:"absolute",x:-100000,y:-100000,padding:0,margin:0,"z-index":-100000,"white-space":"nowrap"}}},actualMeasureText:function(k,q){var m=Ext.draw.TextMeasurer,l=m.measureDiv,r=100000,p;if(!l){var n=Ext.Element.create({style:{overflow:"hidden",position:"relative","float":"left",width:0,height:0}});m.measureDiv=l=Ext.Element.create({style:{position:"absolute",x:r,y:r,"z-index":-r,"white-space":"nowrap",display:"block",padding:0,margin:0}});Ext.getBody().appendChild(n);n.appendChild(l)}if(q){l.setStyle({font:q,lineHeight:"normal"})}l.setText("("+k+")");p=l.getSize();l.setText("()");p.width-=l.getSize().width;return p},measureTextSingleLine:function(s,w){if(this.precise){return this.preciseMeasureTextSingleLine(s,w)}s=s.toString();var z=this.measureCache,t=s.split(""),x=0,r=0,i,y,v,u,q;if(!z[w]){z[w]={}}z=z[w];if(z[s]){return z[s]}for(v=0,u=t.length;v<u;v++){y=t[v];if(!(i=z[y])){q=this.actualMeasureText(y,w);i=z[y]=q}x+=i.width;r=Math.max(r,i.height)}return z[s]={width:x,height:r}},preciseMeasureTextSingleLine:function(g,i){g=g.toString();var h=this.measureDiv||(this.measureDiv=Ext.getBody().createChild(this.measureDivTpl).down("div"));h.setStyle({font:i||""});return Ext.util.TextMetrics.measure(h,g)},measureText:function(r,u){var n=r.split("\n"),s=n.length,q=0,v=0,i,t,p;if(s===1){return this.measureTextSingleLine(r,u)}p=[];for(t=0;t<s;t++){i=this.measureTextSingleLine(n[t],u);p.push(i);q+=i.height;v=Math.max(v,i.width)}return{width:v,height:q,sizes:p}}},0,0,0,0,0,0,[Ext.draw,"TextMeasurer"],0));(Ext.cmd.derive("Ext.draw.sprite.Text",Ext.draw.sprite.Sprite,function(){var h={"xx-small":true,"x-small":true,small:true,medium:true,large:true,"x-large":true,"xx-large":true};var j={normal:true,bold:true,bolder:true,lighter:true,100:true,200:true,300:true,400:true,500:true,600:true,700:true,800:true,900:true};var k={start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"};var i={top:"top",hanging:"hanging",middle:"middle",center:"middle",alphabetic:"alphabetic",ideographic:"ideographic",bottom:"bottom"};return{type:"text",lineBreakRe:/\r?\n/g,inheritableStatics:{def:{animationProcessors:{text:"text"},processors:{x:"number",y:"number",text:"string",fontSize:function(c){if(Ext.isNumber(+c)){return c+"px"}else{if(c.match(Ext.dom.Element.unitRe)){return c}else{if(c in h){return c}}}},fontStyle:"enums(,italic,oblique)",fontVariant:"enums(,small-caps)",fontWeight:function(c){if(c in j){return String(c)}else{return""}},fontFamily:"string",textAlign:function(c){return k[c]||"center"},textBaseline:function(c){return i[c]||"alphabetic"},font:"string"},aliases:{"font-size":"fontSize","font-family":"fontFamily","font-weight":"fontWeight","font-variant":"fontVariant","text-anchor":"textAlign"},defaults:{fontStyle:"",fontVariant:"",fontWeight:"",fontSize:"10px",fontFamily:"sans-serif",font:"10px sans-serif",textBaseline:"alphabetic",textAlign:"start",strokeStyle:"rgba(0, 0, 0, 0)",fillStyle:"#000",x:0,y:0,text:""},triggers:{fontStyle:"fontX,bbox",fontVariant:"fontX,bbox",fontWeight:"fontX,bbox",fontSize:"fontX,bbox",fontFamily:"fontX,bbox",font:"font,bbox,canvas",textBaseline:"bbox",textAlign:"bbox",x:"bbox",y:"bbox",text:"bbox"},updaters:{fontX:"makeFontShorthand",font:"parseFontShorthand"}}},constructor:function(d){if(d&&d.font){d=Ext.clone(d);for(var c in d){if(c!=="font"&&c.indexOf("font")===0){delete d[c]}}}Ext.draw.sprite.Sprite.prototype.constructor.call(this,d)},fontValuesMap:{italic:"fontStyle",oblique:"fontStyle","small-caps":"fontVariant",bold:"fontWeight",bolder:"fontWeight",lighter:"fontWeight","100":"fontWeight","200":"fontWeight","300":"fontWeight","400":"fontWeight","500":"fontWeight","600":"fontWeight","700":"fontWeight","800":"fontWeight","900":"fontWeight","xx-small":"fontSize","x-small":"fontSize",small:"fontSize",medium:"fontSize",large:"fontSize","x-large":"fontSize","xx-large":"fontSize"},makeFontShorthand:function(d){var c=[];if(d.fontStyle){c.push(d.fontStyle)}if(d.fontVariant){c.push(d.fontVariant)}if(d.fontWeight){c.push(d.fontWeight)}if(d.fontSize){c.push(d.fontSize)}if(d.fontFamily){c.push(d.fontFamily)}this.setAttributes({font:c.join(" ")},true)},parseFontShorthand:function(s){var d=s.font,g=d.length,e={},c=this.fontValuesMap,x=0,t,v,w,u;while(x<g&&t!==-1){t=d.indexOf(" ",x);if(t<0){w=d.substr(x)}else{if(t>x){w=d.substr(x,t-x)}else{continue}}v=w.indexOf("/");if(v>0){w=w.substr(0,v)}else{if(v===0){continue}}if(w!=="normal"&&w!=="inherit"){u=c[w];if(u){e[u]=w}else{if(w.match(Ext.dom.Element.unitRe)){e.fontSize=w}else{e.fontFamily=d.substr(x);break}}}x=t+1}if(!e.fontStyle){e.fontStyle=""}if(!e.fontVariant){e.fontVariant=""}if(!e.fontWeight){e.fontWeight=""}this.setAttributes(e,true)},fontProperties:{fontStyle:true,fontVariant:true,fontWeight:true,fontSize:true,fontFamily:true},setAttributes:function(e,c,m){var g,d;if(e&&e.font){d={};for(g in e){if(!(g in this.fontProperties)){d[g]=e[g]}}e=d}Ext.draw.sprite.Sprite.prototype.setAttributes.call(this,e,c,m)},getBBox:function(d){var c=this,e=c.attr.bbox.plain,g=c.getSurface();if(e.dirty){c.updatePlainBBox(e);e.dirty=false}if(g.getInherited().rtl&&g.getFlipRtlText()){c.updatePlainBBox(e,true)}return Ext.draw.sprite.Sprite.prototype.getBBox.call(this,d)},rtlAlignments:{start:"end",center:"center",end:"start"},updatePlainBBox:function(R,x){var e=this,L=e.attr,J=L.x,M=L.y,y=[],c=L.font,g=L.text,d=L.textBaseline,Q=L.textAlign,P=(x&&e.oldSize)?e.oldSize:(e.oldSize=Ext.draw.TextMeasurer.measureText(g,c)),K=e.getSurface(),I=K.getInherited().rtl,O=I&&K.getFlipRtlText(),T=K.getRect(),V=P.sizes,U=P.height,S=P.width,N=V?V.length:0,W,H=0;switch(d){case"hanging":case"top":break;case"ideographic":case"bottom":M-=U;break;case"alphabetic":M-=U*0.8;break;case"middle":M-=U*0.5;break}if(O){J=T[2]-T[0]-J;Q=e.rtlAlignments[Q]}switch(Q){case"start":if(I){for(;H<N;H++){W=V[H].width;y.push(-(S-W))}}break;case"end":J-=S;if(I){break}for(;H<N;H++){W=V[H].width;y.push(S-W)}break;case"center":J-=S*0.5;for(;H<N;H++){W=V[H].width;y.push((I?-1:1)*(S-W)*0.5)}break}L.textAlignOffsets=y;R.x=J;R.y=M;R.width=S;R.height=U},setText:function(c){this.setAttributes({text:c},true)},render:function(B,E,g){var y=this,z=y.attr,F=Ext.draw.Matrix.fly(z.matrix.elements.slice(0)),G=y.getBBox(true),C=z.textAlignOffsets,d=Ext.draw.Color.RGBA_NONE,e,x,A,D,c;if(z.text.length===0){return}D=z.text.split(y.lineBreakRe);c=G.height/D.length;e=z.bbox.plain.x;x=z.bbox.plain.y+c*0.78;F.toContext(E);if(B.getInherited().rtl){e+=z.bbox.plain.width}for(A=0;A<D.length;A++){if(E.fillStyle!==d){E.fillText(D[A],e+(C[A]||0),x+c*A)}if(E.strokeStyle!==d){E.strokeText(D[A],e+(C[A]||0),x+c*A)}}}}},1,0,0,0,["sprite.text"],0,[Ext.draw.sprite,"Text"],0));(Ext.cmd.derive("Ext.draw.sprite.Tick",Ext.draw.sprite.Line,{inheritableStatics:{def:{processors:{x:"number",y:"number",size:"number"},defaults:{x:0,y:0,size:4},triggers:{x:"tick",y:"tick",size:"tick"},updaters:{tick:function(l){var j=l.size*1.5,k=l.lineWidth/2,m=l.x,i=l.y;this.setAttributes({fromX:m-k,fromY:i-j,toX:m-k,toY:i+j})}}}}},0,0,0,0,["sprite.tick"],0,[Ext.draw.sprite,"Tick"],0));(Ext.cmd.derive("Ext.draw.sprite.Triangle",Ext.draw.sprite.Path,{inheritableStatics:{def:{processors:{x:"number",y:"number",size:"number"},defaults:{x:0,y:0,size:4},triggers:{x:"path",y:"path",size:"path"}}},updatePath:function(j,l){var k=l.size*2.2,m=l.x,i=l.y;j.fromSvgString("M".concat(m,",",i,"m0-",k*0.58,"l",k*0.5,",",k*0.87,"-",k,",0z"))}},0,0,0,0,["sprite.triangle"],0,[Ext.draw.sprite,"Triangle"],0));(Ext.cmd.derive("Ext.draw.gradient.Linear",Ext.draw.gradient.Gradient,{type:"linear",config:{degrees:0,radians:0},applyRadians:function(e,g){if(Ext.isNumber(e)){return e}return g},applyDegrees:function(e,g){if(Ext.isNumber(e)){return e}return g},updateRadians:function(d){this.setDegrees(Ext.draw.Draw.degrees(d))},updateDegrees:function(d){this.setRadians(Ext.draw.Draw.rad(d))},generateGradient:function(D,F){var A=this.getRadians(),E=Math.cos(A),v=Math.sin(A),i=F.width,x=F.height,z=F.x+i*0.5,B=F.y+x*0.5,h=this.getStops(),w=h.length,l,C,y;if(Ext.isNumber(z+B)&&x>0&&i>0){C=(Math.sqrt(x*x+i*i)*Math.abs(Math.cos(A-Math.atan(x/i))))/2;l=D.createLinearGradient(z+E*C,B+v*C,z-E*C,B-v*C);for(y=0;y<w;y++){l.addColorStop(h[y].offset,h[y].color)}return l}return Ext.draw.Color.NONE}},0,0,0,0,0,0,[Ext.draw.gradient,"Linear"],0));(Ext.cmd.derive("Ext.draw.gradient.Radial",Ext.draw.gradient.Gradient,{type:"radial",config:{start:{x:0,y:0,r:0},end:{x:0,y:0,r:1}},applyStart:function(i,h){if(!h){return i}var g={x:h.x,y:h.y,r:h.r};if("x" in i){g.x=i.x}else{if("centerX" in i){g.x=i.centerX}}if("y" in i){g.y=i.y}else{if("centerY" in i){g.y=i.centerY}}if("r" in i){g.r=i.r}else{if("radius" in i){g.r=i.radius}}return g},applyEnd:function(h,i){if(!i){return h}var g={x:i.x,y:i.y,r:i.r};if("x" in h){g.x=h.x}else{if("centerX" in h){g.x=h.centerX}}if("y" in h){g.y=h.y}else{if("centerY" in h){g.y=h.centerY}}if("r" in h){g.r=h.r}else{if("radius" in h){g.r=h.radius}}return g},generateGradient:function(h,i){var B=this.getStart(),A=this.getEnd(),t=i.width*0.5,y=i.height*0.5,u=i.x+t,w=i.y+y,v=h.createRadialGradient(u+B.x*t,w+B.y*y,B.r*Math.max(t,y),u+A.x*t,w+A.y*y,A.r*Math.max(t,y)),s=this.getStops(),x=s.length,z;for(z=0;z<x;z++){v.addColorStop(s[z].offset,s[z].color)}return v}},0,0,0,0,0,0,[Ext.draw.gradient,"Radial"],0));(Ext.cmd.derive("Ext.draw.Surface",Ext.draw.SurfaceBase,{devicePixelRatio:window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI,deprecated:{"5.1.0":{statics:{methods:{stableSort:function(d){return Ext.Array.sort(d,function(c,g){return c.attr.zIndex-g.attr.zIndex})}}}}},config:{cls:"x-surface",rect:null,background:null,items:[],dirty:false,flipRtlText:false},isSurface:true,isPendingRenderFrame:false,dirtyPredecessorCount:0,constructor:function(g){var e=this;e.predecessors=[];e.successors=[];e.map={};Ext.draw.SurfaceBase.prototype.constructor.call(this,g);e.matrix=new Ext.draw.Matrix();e.inverseMatrix=e.matrix.inverse()},roundPixel:function(d){return Math.round(this.devicePixelRatio*d)/this.devicePixelRatio},waitFor:function(i){var h=this,g=h.predecessors;if(!Ext.Array.contains(g,i)){g.push(i);i.successors.push(h);if(i.getDirty()){h.dirtyPredecessorCount++}}},updateDirty:function(j){var k=this.successors,i=k.length,l=0,m;for(;l<i;l++){m=k[l];if(j){m.dirtyPredecessorCount++;m.setDirty(true)}else{m.dirtyPredecessorCount--;if(m.dirtyPredecessorCount===0&&m.isPendingRenderFrame){m.renderFrame()}}}},applyBackground:function(g,e){this.setDirty(true);if(Ext.isString(g)){g={fillStyle:g}}return Ext.factory(g,Ext.draw.sprite.Rect,e)},applyRect:function(g,e){if(e&&g[0]===e[0]&&g[1]===e[1]&&g[2]===e[2]&&g[3]===e[3]){return}if(Ext.isArray(g)){return[g[0],g[1],g[2],g[3]]}else{if(Ext.isObject(g)){return[g.x||g.left,g.y||g.top,g.width||(g.right-g.left),g.height||(g.bottom-g.top)]}}},updateRect:function(l){var m=this,s=l[0],p=l[1],n=s+l[2],t=p+l[3],q=m.getBackground(),r=m.element;r.setLocalXY(Math.floor(s),Math.floor(p));r.setSize(Math.ceil(n-Math.floor(s)),Math.ceil(t-Math.floor(p)));if(q){q.setAttributes({x:0,y:0,width:Math.ceil(n-Math.floor(s)),height:Math.ceil(t-Math.floor(p))})}m.setDirty(true)},resetTransform:function(){this.matrix.set(1,0,0,1,0,0);this.inverseMatrix.set(1,0,0,1,0,0);this.setDirty(true)},get:function(d){return this.map[d]||this.getItems()[d]},add:function(){var r=this,t=Array.prototype.slice.call(arguments),p=Ext.isArray(t[0]),x=r.map,v=[],s,i,q,w,u;s=Ext.Array.clean(p?t[0]:t);if(!s.length){return v}for(w=0,u=s.length;w<u;w++){i=s[w];q=null;if(i.isSprite&&!x[i.getId()]){q=i}else{if(!x[i.id]){q=this.createItem(i)}}if(q){x[q.getId()]=q;v.push(q);q.setParent(r);q.setSurface(r);r.onAdd(q)}}s=r.getItems();if(s){s.push.apply(s,v)}r.dirtyZIndex=true;r.setDirty(true);if(!p&&v.length===1){return v[0]}else{return v}},onAdd:Ext.emptyFn,remove:function(m,k){var l=this,i,j;if(m){if(m.charAt){m=l.map[m]}if(!m||!m.isSprite){return null}if(m.isDestroyed||m.isDestroying){return m}i=m.getId();j=l.map[i];delete l.map[i];if(k){m.destroy()}if(!j){return m}m.setParent(null);m.setSurface(null);Ext.Array.remove(l.getItems(),m);l.dirtyZIndex=true;l.setDirty(true)}return m||null},removeAll:function(h){var k=this.getItems(),j=k.length-1,i;if(h){for(;j>=0;j--){k[j].destroy()}}else{for(;j>=0;j--){i=k[j];i.setParent(null);i.setSurface(null)}}k.length=0;this.map={};this.dirtyZIndex=true},applyItems:function(d){if(this.getItems()){this.removeAll(true)}return Ext.Array.from(this.add(d))},createItem:function(d){return Ext.create(d.xclass||"sprite."+d.type,d)},getBBox:function(s,w){var s=Ext.Array.from(s),v=Infinity,q=-Infinity,r=Infinity,x=-Infinity,p,i,u,t;for(u=0,t=s.length;u<t;u++){p=s[u];i=p.getBBox(w);if(v>i.x){v=i.x}if(q<i.x+i.width){q=i.x+i.width}if(r>i.y){r=i.y}if(x<i.y+i.height){x=i.y+i.height}}return{x:v,y:r,width:q-v,height:x-r}},emptyRect:[0,0,0,0],getEventXY:function(s){var q=this,r=q.getInherited().rtl,t=s.getXY(),v=q.getOwnerBody(),n=v.getXY(),p=q.getRect()||q.emptyRect,e=[],u;if(r){u=v.getWidth();e[0]=n[0]-t[0]-p[0]+u}else{e[0]=t[0]-n[0]-p[0]}e[1]=t[1]-n[1]-p[1];return e},clear:Ext.emptyFn,orderByZIndex:function(){var j=this,m=j.getItems(),i=false,l,k;if(j.getDirty()){for(l=0,k=m.length;l<k;l++){if(m[l].attr.dirtyZIndex){i=true;break}}if(i){Ext.Array.sort(m,function(c,d){return c.attr.zIndex-d.attr.zIndex});this.setDirty(true)}for(l=0,k=m.length;l<k;l++){m[l].attr.dirtyZIndex=false}}},repaint:function(){var d=this;d.repaint=Ext.emptyFn;Ext.defer(function(){delete d.repaint;d.element.repaint()},1)},renderFrame:function(){var i=this;if(!i.element){return}if(i.dirtyPredecessorCount>0){i.isPendingRenderFrame=true;return}var l=i.getRect(),p=i.getBackground(),r=i.getItems(),m,q,n;if(!l){return}i.orderByZIndex();if(i.getDirty()){i.clear();i.clearTransform();if(p){i.renderSprite(p)}for(q=0,n=r.length;q<n;q++){m=r[q];if(i.renderSprite(m)===false){return}m.attr.textPositionCount=i.textPosition}i.setDirty(false)}},renderSprite:Ext.emptyFn,clearTransform:Ext.emptyFn,destroy:function(){var d=this;d.removeAll(true);d.predecessors=null;d.successors=null;Ext.draw.SurfaceBase.prototype.destroy.call(this)}},1,["surface"],["widget","surface"],{widget:true,surface:true},["widget.surface"],0,[Ext.draw,"Surface"],0));Ext.define("Ext.draw.overrides.Surface",{override:"Ext.draw.Surface",hitTest:function(q,p){var l=this,i=l.getItems(),m,n,r;p=p||Ext.draw.sprite.Sprite.defaultHitTestOptions;for(m=i.length-1;m>=0;m--){n=i[m];if(n.hitTest){r=n.hitTest(q,p);if(r){return r}}}return null},hitTestEvent:function(h,i){var g=this.getEventXY(h);return this.hitTest(g,i)}});(Ext.cmd.derive("Ext.draw.engine.SvgContext",Ext.Base,{toSave:["strokeOpacity","strokeStyle","fillOpacity","fillStyle","globalAlpha","lineWidth","lineCap","lineJoin","lineDash","lineDashOffset","miterLimit","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","globalCompositeOperation","position","fillGradient","strokeGradient"],strokeOpacity:1,strokeStyle:"none",fillOpacity:1,fillStyle:"none",lineDash:[],lineDashOffset:0,globalAlpha:1,lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10,shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:"none",globalCompositeOperation:"src",urlStringRe:/^url\(#([\w\-]+)\)$/,constructor:function(d){this.surface=d;this.state=[];this.matrix=new Ext.draw.Matrix();this.path=null;this.clear()},clear:function(){this.group=this.surface.mainGroup;this.position=0;this.path=null},getElement:function(d){return this.surface.getSvgElement(this.group,d,this.position++)},removeElement:function(q){var q=Ext.fly(q),l,m,s,n,t,p,r;if(!q){return}if(q.dom.tagName==="g"){t=q.dom.gradients;for(r in t){t[r].destroy()}}else{l=q.getAttribute("fill");m=q.getAttribute("stroke");s=l&&l.match(this.urlStringRe);n=m&&m.match(this.urlStringRe);if(s&&s[1]){p=Ext.fly(s[1]);if(p){p.destroy()}}if(n&&n[1]){p=Ext.fly(n[1]);if(p){p.destroy()}}}q.destroy()},save:function(){var k=this.toSave,i={},j=this.getElement("g"),l,m;for(m=0;m<k.length;m++){l=k[m];if(l in this){i[l]=this[l]}}this.position=0;i.matrix=this.matrix.clone();this.state.push(i);this.group=j;return j},restore:function(){var j=this.toSave,i=this.state.pop(),k=this.group.dom.childNodes,l,m;while(k.length>this.position){this.removeElement(k[k.length-1])}for(m=0;m<j.length;m++){l=j[m];if(l in i){this[l]=i[l]}else{delete this[l]}}this.setTransform.apply(this,i.matrix.elements);this.group=this.group.getParent()},transform:function(l,q,m,k,n,p){if(this.path){var r=Ext.draw.Matrix.fly([l,q,m,k,n,p]).inverse();this.path.transform(r)}this.matrix.append(l,q,m,k,n,p)},setTransform:function(k,p,l,j,m,n){if(this.path){this.path.transform(this.matrix)}this.matrix.reset();this.transform(k,p,l,j,m,n)},scale:function(g,e){this.transform(g,0,0,e,0,0)},rotate:function(j){var k=Math.cos(j),m=Math.sin(j),l=-Math.sin(j),i=Math.cos(j);this.transform(k,m,l,i,0,0)},translate:function(g,e){this.transform(1,0,0,1,g,e)},setGradientBBox:function(d){this.bbox=d},beginPath:function(){this.path=new Ext.draw.Path()},moveTo:function(g,e){if(!this.path){this.beginPath()}this.path.moveTo(g,e);this.path.element=null},lineTo:function(g,e){if(!this.path){this.beginPath()}this.path.lineTo(g,e);this.path.element=null},rect:function(j,h,i,k){this.moveTo(j,h);this.lineTo(j+i,h);this.lineTo(j+i,h+k);this.lineTo(j,h+k);this.closePath()},strokeRect:function(j,h,i,k){this.beginPath();this.rect(j,h,i,k);this.stroke()},fillRect:function(j,h,i,k){this.beginPath();this.rect(j,h,i,k);this.fill()},closePath:function(){if(!this.path){this.beginPath()}this.path.closePath();this.path.element=null},arcSvg:function(n,r,l,k,p,q,m){if(!this.path){this.beginPath()}this.path.arcSvg(n,r,l,k,p,q,m);this.path.element=null},arc:function(n,j,p,l,m,k){if(!this.path){this.beginPath()}this.path.arc(n,j,p,l,m,k);this.path.element=null},ellipse:function(t,l,m,n,q,r,s,p){if(!this.path){this.beginPath()}this.path.ellipse(t,l,m,n,q,r,s,p);this.path.element=null},arcTo:function(q,m,r,n,k,l,p){if(!this.path){this.beginPath()}this.path.arcTo(q,m,r,n,k,l,p);this.path.element=null},bezierCurveTo:function(l,j,n,k,p,m){if(!this.path){this.beginPath()}this.path.bezierCurveTo(l,j,n,k,p,m);this.path.element=null},strokeText:function(j,m,i){j=String(j);if(this.strokeStyle){var l=this.getElement("text"),k=this.surface.getSvgElement(l,"tspan",0);this.surface.setElementAttributes(l,{x:m,y:i,transform:this.matrix.toSvg(),stroke:this.strokeStyle,fill:"none",opacity:this.globalAlpha,"stroke-opacity":this.strokeOpacity,style:"font: "+this.font,"stroke-dasharray":this.lineDash.join(","),"stroke-dashoffset":this.lineDashOffset});if(this.lineDash.length){this.surface.setElementAttributes(l,{"stroke-dasharray":this.lineDash.join(","),"stroke-dashoffset":this.lineDashOffset})}if(k.dom.firstChild){k.dom.removeChild(k.dom.firstChild)}this.surface.setElementAttributes(k,{"alignment-baseline":"alphabetic"});k.dom.appendChild(document.createTextNode(Ext.String.htmlDecode(j)))}},fillText:function(j,m,i){j=String(j);if(this.fillStyle){var l=this.getElement("text"),k=this.surface.getSvgElement(l,"tspan",0);this.surface.setElementAttributes(l,{x:m,y:i,transform:this.matrix.toSvg(),fill:this.fillStyle,opacity:this.globalAlpha,"fill-opacity":this.fillOpacity,style:"font: "+this.font});if(k.dom.firstChild){k.dom.removeChild(k.dom.firstChild)}this.surface.setElementAttributes(k,{"alignment-baseline":"alphabetic"});k.dom.appendChild(document.createTextNode(Ext.String.htmlDecode(j)))}},drawImage:function(F,x,z,w,D,I,u,H,B){var C=this,E=C.getElement("image"),y=x,A=z,G=typeof w==="undefined"?F.width:w,v=typeof D==="undefined"?F.height:D,J=null;if(typeof B!=="undefined"){J=x+" "+z+" "+w+" "+D;y=I;A=u;G=H;v=B}E.dom.setAttributeNS("http://www.w3.org/1999/xlink","href",F.src);C.surface.setElementAttributes(E,{viewBox:J,x:y,y:A,width:G,height:v,opacity:C.globalAlpha,transform:C.matrix.toSvg()})},fill:function(){if(!this.path){return}if(this.fillStyle){var i,k=this.fillGradient,h=this.bbox,j=this.path.element;if(!j){i=this.path.toString();j=this.path.element=this.getElement("path");this.surface.setElementAttributes(j,{d:i,transform:this.matrix.toSvg()})}this.surface.setElementAttributes(j,{fill:k&&h?k.generateGradient(this,h):this.fillStyle,"fill-opacity":this.fillOpacity*this.globalAlpha})}},stroke:function(){if(!this.path){return}if(this.strokeStyle){var i,j=this.strokeGradient,h=this.bbox,k=this.path.element;if(!k||!this.path.svgString){i=this.path.toString();if(!i){return}k=this.path.element=this.getElement("path");this.surface.setElementAttributes(k,{fill:"none",d:i,transform:this.matrix.toSvg()})}this.surface.setElementAttributes(k,{stroke:j&&h?j.generateGradient(this,h):this.strokeStyle,"stroke-linecap":this.lineCap,"stroke-linejoin":this.lineJoin,"stroke-width":this.lineWidth,"stroke-opacity":this.strokeOpacity*this.globalAlpha,"stroke-dasharray":this.lineDash.join(","),"stroke-dashoffset":this.lineDashOffset});if(this.lineDash.length){this.surface.setElementAttributes(k,{"stroke-dasharray":this.lineDash.join(","),"stroke-dashoffset":this.lineDashOffset})}}},fillStroke:function(r,m){var q=this,n=q.fillStyle,k=q.strokeStyle,p=q.fillOpacity,l=q.strokeOpacity;if(m===undefined){m=r.transformFillStroke}if(!m){r.inverseMatrix.toContext(q)}if(n&&p!==0){q.fill()}if(k&&l!==0){q.stroke()}},appendPath:function(d){this.path=d.clone()},setLineDash:function(d){this.lineDash=d},getLineDash:function(){return this.lineDash},createLinearGradient:function(q,m,s,p){var n=this,r=n.surface.getNextDef("linearGradient"),t=n.group.dom.gradients||(n.group.dom.gradients={}),l;n.surface.setElementAttributes(r,{x1:q,y1:m,x2:s,y2:p,gradientUnits:"userSpaceOnUse"});l=new Ext.draw.engine.SvgContext.Gradient(n,n.surface,r);t[r.dom.id]=l;return l},createRadialGradient:function(w,n,u,x,p,v){var r=this,t=r.surface.getNextDef("radialGradient"),s=r.group.dom.gradients||(r.group.dom.gradients={}),q;r.surface.setElementAttributes(t,{fx:w,fy:n,cx:x,cy:p,r:v,gradientUnits:"userSpaceOnUse"});q=new Ext.draw.engine.SvgContext.Gradient(r,r.surface,t,u/v);s[t.dom.id]=q;return q}},1,0,0,0,0,0,[Ext.draw.engine,"SvgContext"],0));(Ext.cmd.derive("Ext.draw.engine.SvgContext.Gradient",Ext.Base,{statics:{map:{}},constructor:function(m,p,l,n){var j=this.statics().map,k;k=j[l.dom.id];if(k){k.element=null}j[l.dom.id]=this;this.ctx=m;this.surface=p;this.element=l;this.position=0;this.compression=n||0},addColorStop:function(h,j){var i=this.surface.getSvgElement(this.element,"stop",this.position++),k=this.compression;this.surface.setElementAttributes(i,{offset:(((1-k)*h+k)*100).toFixed(2)+"%","stop-color":j,"stop-opacity":Ext.draw.Color.fly(j).a.toFixed(15)})},toString:function(){var d=this.element.dom.childNodes;while(d.length>this.position){Ext.fly(d[d.length-1]).destroy()}return"url(#"+this.element.getId()+")"},destroy:function(){var e=this.statics().map,g=this.element;if(g&&g.dom){delete e[g.dom.id];g.destroy()}this.callParent()}},3,0,0,0,0,0,[Ext.draw.engine.SvgContext,"Gradient"],0));(Ext.cmd.derive("Ext.draw.engine.Svg",Ext.draw.Surface,{statics:{BBoxTextCache:{}},config:{highPrecision:false},getElementConfig:function(){return{reference:"element",style:{position:"absolute"},children:[{reference:"innerElement",style:{width:"100%",height:"100%",position:"relative"},children:[{tag:"svg",reference:"svgElement",namespace:"http://www.w3.org/2000/svg",width:"100%",height:"100%",version:1.1}]}]}},constructor:function(g){var e=this;Ext.draw.Surface.prototype.constructor.call(this,g);e.mainGroup=e.createSvgNode("g");e.defElement=e.createSvgNode("defs");e.svgElement.appendChild(e.mainGroup);e.svgElement.appendChild(e.defElement);e.ctx=new Ext.draw.engine.SvgContext(e)},createSvgNode:function(g){var e=document.createElementNS("http://www.w3.org/2000/svg",g);return Ext.get(e)},getSvgElement:function(h,j,k){var i;if(h.dom.childNodes.length>k){i=h.dom.childNodes[k];if(i.tagName===j){return Ext.get(i)}else{Ext.destroy(i)}}i=Ext.get(this.createSvgNode(j));if(k===0){h.insertFirst(i)}else{i.insertAfter(Ext.fly(h.dom.childNodes[k-1]))}i.cache={};return i},setElementAttributes:function(l,n){var j=l.dom,p=l.cache,m,k;for(m in n){k=n[m];if(p[m]!==k){p[m]=k;j.setAttribute(m,k)}}},getNextDef:function(d){return this.getSvgElement(this.defElement,d,this.defPosition++)},clearTransform:function(){var d=this;d.mainGroup.set({transform:d.matrix.toSvg()})},clear:function(){this.ctx.clear();this.defPosition=0},renderSprite:function(j){var h=this,i=h.getRect(),k=h.ctx;if(j.attr.hidden||j.attr.globalAlpha===0){k.save();k.restore();return}j.element=k.save();j.preRender(this);j.useAttributes(k,i);if(false===j.render(this,k,[0,0,i[2],i[3]])){return false}j.setDirty(false);k.restore()},flatten:function(m,q){var p='<?xml version="1.0" standalone="yes"?>',l=Ext.getClassName(this),r,i,n;p+='<svg version="1.1" baseProfile="full" xmlns="http://www.w3.org/2000/svg" width="'+m.width+'" height="'+m.height+'">';for(n=0;n<q.length;n++){r=q[n];if(Ext.getClassName(r)!==l){continue}i=r.getRect();p+='<g transform="translate('+i[0]+","+i[1]+')">';p+=this.serializeNode(r.svgElement.dom);p+="</g>"}p+="</svg>";return{data:"data:image/svg+xml;utf8,"+encodeURIComponent(p),type:"svg"}},serializeNode:function(l){var n="",m,i,p,k;if(l.nodeType===document.TEXT_NODE){return l.nodeValue}n+="<"+l.nodeName;if(l.attributes.length){for(m=0,i=l.attributes.length;m<i;m++){p=l.attributes[m];n+=" "+p.name+'="'+p.value+'"'}}n+=">";if(l.childNodes&&l.childNodes.length){for(m=0,i=l.childNodes.length;m<i;m++){k=l.childNodes[m];n+=this.serializeNode(k)}}n+="</"+l.nodeName+">";return n},destroy:function(){var d=this;d.ctx.destroy();d.mainGroup.destroy();delete d.mainGroup;delete d.ctx;Ext.draw.Surface.prototype.destroy.call(this)},remove:function(g,e){if(g&&g.element){if(this.ctx){this.ctx.removeElement(g.element)}else{g.element.destroy()}g.element=null}Ext.draw.Surface.prototype.remove.apply(this,arguments)}},1,0,["widget","surface"],{widget:true,surface:true},0,0,[Ext.draw.engine,"Svg"],0));Ext.draw||(Ext.draw={});Ext.draw.engine||(Ext.draw.engine={});Ext.draw.engine.excanvas=true;if(!document.createElement("canvas").getContext){(function(){var aE=Math;var aW=aE.round;var aX=aE.sin;var aF=aE.cos;var at=aE.abs;var am=aE.sqrt;var a3=10;var a1=a3/2;var aH=+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1];function aJ(){return this.context_||(this.context_=new ay(this))}var aR=Array.prototype.slice;function a0(d,c,g){var e=aR.call(arguments,2);return function(){return d.apply(c,e.concat(aR.call(arguments)))}}function aw(c){return String(c).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function aI(c,d,e){Ext.onReady(function(){if(!c.namespaces[d]){c.namespaces.add(d,e,"#default#VML")}})}function p(c){aI(c,"g_vml_","urn:schemas-microsoft-com:vml");aI(c,"g_o_","urn:schemas-microsoft-com:office:office");if(!c.styleSheets.ex_canvas_){var d=c.createStyleSheet();d.owningElement.id="ex_canvas_";d.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}p(document);var a2={init:function(d){var c=d||document;c.createElement("canvas");c.attachEvent("onreadystatechange",a0(this.init_,this,c))},init_:function(e){var c=e.getElementsByTagName("canvas");for(var d=0;d<c.length;d++){this.initElement(c[d])}},initElement:function(c){if(!c.getContext){c.getContext=aJ;p(c.ownerDocument);c.innerHTML="";c.attachEvent("onpropertychange",aL);c.attachEvent("onresize",aN);var d=c.attributes;if(d.width&&d.width.specified){c.style.width=d.width.nodeValue+"px"}else{c.width=c.clientWidth}if(d.height&&d.height.specified){c.style.height=d.height.nodeValue+"px"}else{c.height=c.clientHeight}}return c}};function aL(c){var d=c.srcElement;switch(c.propertyName){case"width":d.getContext().clearRect();d.style.width=d.attributes.width.nodeValue+"px";d.firstChild.style.width=d.clientWidth+"px";break;case"height":d.getContext().clearRect();d.style.height=d.attributes.height.nodeValue+"px";d.firstChild.style.height=d.clientHeight+"px";break}}function aN(c){var d=c.srcElement;if(d.firstChild){d.firstChild.style.width=d.clientWidth+"px";d.firstChild.style.height=d.clientHeight+"px"}}a2.init();var aY=[];for(var az=0;az<16;az++){for(var aA=0;aA<16;aA++){aY[az*16+aA]=az.toString(16)+aA.toString(16)}}function aD(){return[[1,0,0],[0,1,0],[0,0,1]]}function aq(k,c){var d=aD();for(var e=0;e<3;e++){for(var h=0;h<3;h++){var g=0;for(var l=0;l<3;l++){g+=k[e][l]*c[l][h]}d[e][h]=g}}return d}function aP(c,d){d.fillStyle=c.fillStyle;d.lineCap=c.lineCap;d.lineJoin=c.lineJoin;d.lineDash=c.lineDash;d.lineWidth=c.lineWidth;d.miterLimit=c.miterLimit;d.shadowBlur=c.shadowBlur;d.shadowColor=c.shadowColor;d.shadowOffsetX=c.shadowOffsetX;d.shadowOffsetY=c.shadowOffsetY;d.strokeStyle=c.strokeStyle;d.globalAlpha=c.globalAlpha;d.font=c.font;d.textAlign=c.textAlign;d.textBaseline=c.textBaseline;d.arcScaleX_=c.arcScaleX_;d.arcScaleY_=c.arcScaleY_;d.lineScale_=c.lineScale_}var a5={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"};function an(d){var g=d.indexOf("(",3);var e=d.indexOf(")",g+1);var c=d.substring(g+1,e).split(",");if(c.length!=4||d.charAt(3)!="a"){c[3]=1}return c}function a4(c){return parseFloat(c)/100}function aT(d,c,e){return Math.min(e,Math.max(c,d))}function ar(q){var h,l,k,n,g,c;n=parseFloat(q[0])/360%360;if(n<0){n++}g=aT(a4(q[1]),0,1);c=aT(a4(q[2]),0,1);if(g==0){h=l=k=c}else{var e=c<0.5?c*(1+g):c+g-c*g;var d=2*c-e;h=a6(d,e,n+1/3);l=a6(d,e,n);k=a6(d,e,n-1/3)}return"#"+aY[Math.floor(h*255)]+aY[Math.floor(l*255)]+aY[Math.floor(k*255)]}function a6(d,e,c){if(c<0){c++}if(c>1){c--}if(6*c<1){return d+(e-d)*6*c}else{if(2*c<1){return e}else{if(3*c<2){return d+(e-d)*(2/3-c)*6}else{return d}}}}var aB={};function av(d){if(d in aB){return aB[d]}var k,h=1;d=String(d);if(d.charAt(0)=="#"){k=d}else{if(/^rgb/.test(d)){var g=an(d);var k="#",e;for(var c=0;c<3;c++){if(g[c].indexOf("%")!=-1){e=Math.floor(a4(g[c])*255)}else{e=+g[c]}k+=aY[aT(e,0,255)]}h=+g[3]}else{if(/^hsl/.test(d)){var g=an(d);k=ar(g);h=g[3]}else{k=a5[d]||d}}}return aB[d]={color:k,alpha:h}}var aV={style:"normal",variant:"normal",weight:"normal",size:10,family:"sans-serif"};var ao={};function ax(e){if(ao[e]){return ao[e]}var g=document.createElement("div");var c=g.style;try{c.font=e}catch(d){}return ao[e]={style:c.fontStyle||aV.style,variant:c.fontVariant||aV.variant,weight:c.fontWeight||aV.weight,size:c.fontSize||aV.size,family:c.fontFamily||aV.family}}function aQ(c,d){var e={};for(var h in c){e[h]=c[h]}var k=parseFloat(d.currentStyle.fontSize),g=parseFloat(c.size);if(typeof c.size=="number"){e.size=c.size}else{if(c.size.indexOf("px")!=-1){e.size=g}else{if(c.size.indexOf("em")!=-1){e.size=k*g}else{if(c.size.indexOf("%")!=-1){e.size=(k/100)*g}else{if(c.size.indexOf("pt")!=-1){e.size=g/0.75}else{e.size=k}}}}}e.size*=0.981;return e}function aC(c){return c.style+" "+c.variant+" "+c.weight+" "+c.size+"px "+c.family}var aS={butt:"flat",round:"round"};function m(c){return aS[c]||"square"}function ay(e){this.m_=aD();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.strokeStyle="#000";this.fillStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineDash=[];this.lineCap="butt";this.miterLimit=a3*1;this.globalAlpha=1;this.font="10px sans-serif";this.textAlign="left";this.textBaseline="alphabetic";this.canvas=e;var c="width:"+e.clientWidth+"px;height:"+e.clientHeight+"px;overflow:hidden;position:absolute";var d=e.ownerDocument.createElement("div");d.style.cssText=c;e.appendChild(d);var g=d.cloneNode(false);g.style.backgroundColor="red";g.style.filter="alpha(opacity=0)";e.appendChild(g);this.element_=d;this.arcScaleX_=1;this.arcScaleY_=1;this.lineScale_=1}var aU=ay.prototype;aU.clearRect=function(){if(this.textMeasureEl_){this.textMeasureEl_.removeNode(true);this.textMeasureEl_=null}this.element_.innerHTML=""};aU.beginPath=function(){this.currentPath_=[]};aU.moveTo=function(d,e){var c=aO(this,d,e);this.currentPath_.push({type:"moveTo",x:c.x,y:c.y});this.currentX_=c.x;this.currentY_=c.y};aU.lineTo=function(d,e){var c=aO(this,d,e);this.currentPath_.push({type:"lineTo",x:c.x,y:c.y});this.currentX_=c.x;this.currentY_=c.y};aU.bezierCurveTo=function(d,e,g,k,l,q){var h=aO(this,l,q);var n=aO(this,d,e);var c=aO(this,g,k);ap(this,n,c,h)};function ap(e,g,c,d){e.currentPath_.push({type:"bezierCurveTo",cp1x:g.x,cp1y:g.y,cp2x:c.x,cp2y:c.y,x:d.x,y:d.y});e.currentX_=d.x;e.currentY_=d.y}aU.quadraticCurveTo=function(h,c,d,e){var l=aO(this,h,c);var n=aO(this,d,e);var g={x:this.currentX_+2/3*(l.x-this.currentX_),y:this.currentY_+2/3*(l.y-this.currentY_)};var k={x:g.x+(n.x-this.currentX_)/3,y:g.y+(n.y-this.currentY_)/3};ap(this,g,k,n)};aU.arc=function(l,s,r,v,n,g){r*=a3;var d=g?"at":"wa";var k=l+aF(v)*r-a1;var e=s+aX(v)*r-a1;var q=l+aF(n)*r-a1;var h=s+aX(n)*r-a1;if(k==q&&!g){k+=0.125}var c=aO(this,l,s);var t=aO(this,k,e);var u=aO(this,q,h);this.currentPath_.push({type:d,x:c.x,y:c.y,radius:r,xStart:t.x,yStart:t.y,xEnd:u.x,yEnd:u.y})};aU.rect=function(c,d,e,g){this.moveTo(c,d);this.lineTo(c+e,d);this.lineTo(c+e,d+g);this.lineTo(c,d+g);this.closePath()};aU.strokeRect=function(c,d,e,h){var g=this.currentPath_;this.beginPath();this.moveTo(c,d);this.lineTo(c+e,d);this.lineTo(c+e,d+h);this.lineTo(c,d+h);this.closePath();this.stroke();this.currentPath_=g};aU.fillRect=function(c,d,e,h){var g=this.currentPath_;this.beginPath();this.moveTo(c,d);this.lineTo(c+e,d);this.lineTo(c+e,d+h);this.lineTo(c,d+h);this.closePath();this.fill();this.currentPath_=g};aU.createLinearGradient=function(d,h,e,c){var g=new i("gradient");g.x0_=d;g.y0_=h;g.x1_=e;g.y1_=c;return g};aU.createRadialGradient=function(k,l,c,d,h,e){var g=new i("gradientradial");g.x0_=k;g.y0_=l;g.r0_=c;g.x1_=d;g.y1_=h;g.r1_=e;return g};aU.drawImage=function(q,z){var x,c,v,h,t,u,n,d;var w=q.runtimeStyle.width;var s=q.runtimeStyle.height;q.runtimeStyle.width="auto";q.runtimeStyle.height="auto";var y=q.width;var k=q.height;q.runtimeStyle.width=w;q.runtimeStyle.height=s;if(arguments.length==3){x=arguments[1];c=arguments[2];t=u=0;n=v=y;d=h=k}else{if(arguments.length==5){x=arguments[1];c=arguments[2];v=arguments[3];h=arguments[4];t=u=0;n=y;d=k}else{if(arguments.length==9){t=arguments[1];u=arguments[2];n=arguments[3];d=arguments[4];x=arguments[5];c=arguments[6];v=arguments[7];h=arguments[8]}else{throw Error("Invalid number of arguments")}}}var e=aO(this,x,c);var g=[];var A=10;var r=10;var l=this.m_;g.push(" <g_vml_:group",' coordsize="',a3*A,",",a3*r,'"',' coordorigin="0,0"',' style="width:',aW(A*l[0][0]),"px;height:",aW(r*l[1][1]),"px;position:absolute;","top:",aW(e.y/a3),"px;left:",aW(e.x/a3),"px; rotation:",aW(Math.atan(l[0][1]/l[1][1])*180/Math.PI),";");g.push('" >','<g_vml_:image src="',q.src,'"',' style="width:',a3*v,"px;"," height:",a3*h,'px"',' cropleft="',t/y,'"',' croptop="',u/k,'"',' cropright="',(y-t-n)/y,'"',' cropbottom="',(k-u-d)/k,'"'," />","</g_vml_:group>");this.element_.insertAdjacentHTML("BeforeEnd",g.join(""))};aU.setLineDash=function(c){if(c.length===1){c=c.slice();c[1]=c[0]}this.lineDash=c};aU.getLineDash=function(){return this.lineDash};aU.stroke=function(h){var l=[];var d=10;var e=10;l.push("<g_vml_:shape",' filled="',!!h,'"',' style="position:absolute;width:',d,"px;height:",e,'px;left:0px;top:0px;"',' coordorigin="0,0"',' coordsize="',a3*d,",",a3*e,'"',' stroked="',!h,'"',' path="');var c={x:null,y:null};var k={x:null,y:null};for(var q=0;q<this.currentPath_.length;q++){var g=this.currentPath_[q];var n;switch(g.type){case"moveTo":n=g;l.push(" m ",aW(g.x),",",aW(g.y));break;case"lineTo":l.push(" l ",aW(g.x),",",aW(g.y));break;case"close":l.push(" x ");g=null;break;case"bezierCurveTo":l.push(" c ",aW(g.cp1x),",",aW(g.cp1y),",",aW(g.cp2x),",",aW(g.cp2y),",",aW(g.x),",",aW(g.y));break;case"at":case"wa":l.push(" ",g.type," ",aW(g.x-this.arcScaleX_*g.radius),",",aW(g.y-this.arcScaleY_*g.radius)," ",aW(g.x+this.arcScaleX_*g.radius),",",aW(g.y+this.arcScaleY_*g.radius)," ",aW(g.xStart),",",aW(g.yStart)," ",aW(g.xEnd),",",aW(g.yEnd));break}if(g){if(c.x==null||g.x<c.x){c.x=g.x}if(k.x==null||g.x>k.x){k.x=g.x}if(c.y==null||g.y<c.y){c.y=g.y}if(k.y==null||g.y>k.y){k.y=g.y}}}l.push(' ">');if(!h){aM(this,l)}else{au(this,l,c,k)}l.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",l.join(""))};function aM(c,k){var d=av(c.strokeStyle);var h=d.color;var g=d.alpha*c.globalAlpha;var e=c.lineScale_*c.lineWidth;if(e<1){g*=e}k.push("<g_vml_:stroke",' opacity="',g,'"',' joinstyle="',c.lineJoin,'"',' dashstyle="',c.lineDash.join(" "),'"',' miterlimit="',c.miterLimit,'"',' endcap="',m(c.lineCap),'"',' weight="',e,'px"',' color="',h,'" />')}function au(k,v,A,h){var u=k.fillStyle;var J=k.arcScaleX_;var K=k.arcScaleY_;var R=h.x-A.x;var P=h.y-A.y;if(u instanceof i){var q=0;var F={x:0,y:0};var N=0;var r=1;if(u.type_=="gradient"){var s=u.x0_/J;var Q=u.y0_/K;var t=u.x1_/J;var y=u.y1_/K;var B=aO(k,s,Q);var C=aO(k,t,y);var x=C.x-B.x;var c=C.y-B.y;q=Math.atan2(x,c)*180/Math.PI;if(q<0){q+=360}if(q<0.000001){q=0}}else{var B=aO(k,u.x0_,u.y0_);F={x:(B.x-A.x)/R,y:(B.y-A.y)/P};R/=J*a3;P/=K*a3;var H=aE.max(R,P);N=2*u.r0_/H;r=2*u.r1_/H-N}var d=u.colors_;d.sort(function(S,T){return S.offset-T.offset});var l=d.length;var e=d[0].color;var g=d[l-1].color;var L=d[0].alpha*k.globalAlpha;var M=d[l-1].alpha*k.globalAlpha;var G=[];for(var D=0;D<l;D++){var n=d[D];G.push(n.offset*r+N+" "+n.color)}v.push('<g_vml_:fill type="',u.type_,'"',' method="none" focus="100%"',' color="',e,'"',' color2="',g,'"',' colors="',G.join(","),'"',' opacity="',M,'"',' g_o_:opacity2="',L,'"',' angle="',q,'"',' focusposition="',F.x,",",F.y,'" />')}else{if(u instanceof j){if(R&&P){var w=-A.x;var I=-A.y;v.push("<g_vml_:fill",' position="',w/R*J*J,",",I/P*K*K,'"',' type="tile"',' src="',u.src_,'" />')}}else{var z=av(k.fillStyle);var O=z.color;var E=z.alpha*k.globalAlpha;v.push('<g_vml_:fill color="',O,'" opacity="',E,'" />')}}}aU.fill=function(){this.$stroke(true)};aU.closePath=function(){this.currentPath_.push({type:"close"})};function aO(c,g,e){var d=c.m_;return{x:a3*(g*d[0][0]+e*d[1][0]+d[2][0])-a1,y:a3*(g*d[0][1]+e*d[1][1]+d[2][1])-a1}}aU.save=function(){var c={};aP(this,c);this.aStack_.push(c);this.mStack_.push(this.m_);this.m_=aq(aD(),this.m_)};aU.restore=function(){if(this.aStack_.length){aP(this.aStack_.pop(),this);this.m_=this.mStack_.pop()}};function aZ(c){return isFinite(c[0][0])&&isFinite(c[0][1])&&isFinite(c[1][0])&&isFinite(c[1][1])&&isFinite(c[2][0])&&isFinite(c[2][1])}function aG(c,d,g){if(!aZ(d)){return}c.m_=d;if(g){var e=d[0][0]*d[1][1]-d[0][1]*d[1][0];c.lineScale_=am(at(e))}}aU.translate=function(c,d){var e=[[1,0,0],[0,1,0],[c,d,1]];aG(this,aq(e,this.m_),false)};aU.rotate=function(d){var g=aF(d);var c=aX(d);var e=[[g,c,0],[-c,g,0],[0,0,1]];aG(this,aq(e,this.m_),false)};aU.scale=function(c,d){this.arcScaleX_*=c;this.arcScaleY_*=d;var e=[[c,0,0],[0,d,0],[0,0,1]];aG(this,aq(e,this.m_),true)};aU.transform=function(k,h,g,l,d,e){var c=[[k,h,0],[g,l,0],[d,e,1]];aG(this,aq(c,this.m_),true)};aU.setTransform=function(l,k,e,h,g,c){var d=[[l,k,0],[e,h,0],[g,c,1]];aG(this,d,true)};aU.drawText_=function(q,t,u,k,v){var l=this.m_,e=1000,y=0,g=e,w={x:0,y:0},x=[];var z=aQ(ax(this.font),this.element_);var r=aC(z);var d=this.element_.currentStyle;var c=this.textAlign.toLowerCase();switch(c){case"left":case"center":case"right":break;case"end":c=d.direction=="ltr"?"right":"left";break;case"start":c=d.direction=="rtl"?"right":"left";break;default:c="left"}switch(this.textBaseline){case"hanging":case"top":w.y=z.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":w.y=-z.size/3;break}switch(c){case"right":y=e;g=0.05;break;case"center":y=g=e/2;break}var h=aO(this,t+w.x,u+w.y);x.push('<g_vml_:line from="',-y,' 0" to="',g,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!v,'" stroked="',!!v,'" style="position:absolute;width:1px;height:1px;left:0px;top:0px;">');if(v){aM(this,x)}else{au(this,x,{x:-y,y:0},{x:g,y:z.size})}var n=l[0][0].toFixed(3)+","+l[1][0].toFixed(3)+","+l[0][1].toFixed(3)+","+l[1][1].toFixed(3)+",0,0";var s=aW(h.x/a3)+","+aW(h.y/a3);x.push('<g_vml_:skew on="t" matrix="',n,'" ',' offset="',s,'" origin="',y,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',aw(q),'" style="v-text-align:',c,";font:",aw(r),'" /></g_vml_:line>');this.element_.insertAdjacentHTML("beforeEnd",x.join(""))};aU.fillText=function(c,e,g,d){this.drawText_(c,e,g,d,false)};aU.strokeText=function(c,e,g,d){this.drawText_(c,e,g,d,true)};aU.measureText=function(c){if(!this.textMeasureEl_){var e='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';this.element_.insertAdjacentHTML("beforeEnd",e);this.textMeasureEl_=this.element_.lastChild}var d=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";this.textMeasureEl_.style.font=this.font;this.textMeasureEl_.appendChild(d.createTextNode(c));return{width:this.textMeasureEl_.offsetWidth}};aU.clip=function(){};aU.arcTo=function(){};aU.createPattern=function(c,d){return new j(c,d)};function i(c){this.type_=c;this.x0_=0;this.y0_=0;this.r0_=0;this.x1_=0;this.y1_=0;this.r1_=0;this.colors_=[]}i.prototype.addColorStop=function(c,d){d=av(d);this.colors_.push({offset:c,color:d.color,alpha:d.alpha})};function j(c,d){Z(c);switch(d){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=d;break;default:al("SYNTAX_ERR")}this.src_=c.src;this.width_=c.width;this.height_=c.height}function al(c){throw new ak(c)}function Z(c){if(!c||c.nodeType!=1||c.tagName!="IMG"){al("TYPE_MISMATCH_ERR")}if(c.readyState!="complete"){al("INVALID_STATE_ERR")}}function ak(c){this.code=this[c];this.message=c+": DOM Exception "+this.code}var aK=ak.prototype=new Error();aK.INDEX_SIZE_ERR=1;aK.DOMSTRING_SIZE_ERR=2;aK.HIERARCHY_REQUEST_ERR=3;aK.WRONG_DOCUMENT_ERR=4;aK.INVALID_CHARACTER_ERR=5;aK.NO_DATA_ALLOWED_ERR=6;aK.NO_MODIFICATION_ALLOWED_ERR=7;aK.NOT_FOUND_ERR=8;aK.NOT_SUPPORTED_ERR=9;aK.INUSE_ATTRIBUTE_ERR=10;aK.INVALID_STATE_ERR=11;aK.SYNTAX_ERR=12;aK.INVALID_MODIFICATION_ERR=13;aK.NAMESPACE_ERR=14;aK.INVALID_ACCESS_ERR=15;aK.VALIDATION_ERR=16;aK.TYPE_MISMATCH_ERR=17;G_vmlCanvasManager=a2;CanvasRenderingContext2D=ay;CanvasGradient=i;CanvasPattern=j;DOMException=ak})()}(Ext.cmd.derive("Ext.draw.engine.Canvas",Ext.draw.Surface,{config:{highPrecision:false},statics:{contextOverrides:{setGradientBBox:function(d){this.bbox=d},fill:function(){var k=this.fillStyle,m=this.fillGradient,l=this.fillOpacity,j=this.globalAlpha,i=this.bbox;if(k!==Ext.draw.Color.RGBA_NONE&&l!==0){if(m&&i){this.fillStyle=m.generateGradient(this,i)}if(l!==1){this.globalAlpha=j*l}this.$fill();if(l!==1){this.globalAlpha=j}if(m&&i){this.fillStyle=k}}},stroke:function(){var i=this.strokeStyle,k=this.strokeGradient,m=this.strokeOpacity,l=this.globalAlpha,j=this.bbox;if(i!==Ext.draw.Color.RGBA_NONE&&m!==0){if(k&&j){this.strokeStyle=k.generateGradient(this,j)}if(m!==1){this.globalAlpha=l*m}this.$stroke();if(m!==1){this.globalAlpha=l}if(k&&j){this.strokeStyle=i}}},fillStroke:function(u,t){var n=this,p=this.fillStyle,q=this.fillOpacity,s=this.strokeStyle,v=this.strokeOpacity,w=n.shadowColor,x=n.shadowBlur,r=Ext.draw.Color.RGBA_NONE;if(t===undefined){t=u.transformFillStroke}if(!t){u.inverseMatrix.toContext(n)}if(p!==r&&q!==0){n.fill();n.shadowColor=r;n.shadowBlur=0}if(s!==r&&v!==0){n.stroke()}n.shadowColor=w;n.shadowBlur=x},setLineDash:function(d){if(this.$setLineDash){this.$setLineDash(d)}},getLineDash:function(){if(this.$getLineDash){return this.$getLineDash()}},ellipse:function(r,t,v,x,n,w,s,u){var p=Math.cos(n),q=Math.sin(n);this.transform(p*v,q*v,-q*x,p*x,r,t);this.arc(0,0,1,w,s,u);this.transform(p/v,-q/x,q/v,p/x,-(p*r+q*t)/v,(q*r-p*t)/x)},appendPath:function(j){var m=this,p=0,q=0,r=j.commands,i=j.params,n=r.length;m.beginPath();for(;p<n;p++){switch(r[p]){case"M":m.moveTo(i[q],i[q+1]);q+=2;break;case"L":m.lineTo(i[q],i[q+1]);q+=2;break;case"C":m.bezierCurveTo(i[q],i[q+1],i[q+2],i[q+3],i[q+4],i[q+5]);q+=6;break;case"Z":m.closePath();break}}},save:function(){var k=this.toSave,j=k.length,i=j&&{},l=0,m;for(;l<j;l++){m=k[l];if(m in this){i[m]=this[m]}}this.state.push(i);this.$save()},restore:function(){var e=this.state.pop(),g;if(e){for(g in e){this[g]=e[g]}}this.$restore()}}},splitThreshold:3000,toSave:["fillGradient","strokeGradient"],element:{reference:"element",style:{position:"absolute"},children:[{reference:"innerElement",style:{width:"100%",height:"100%",position:"relative"}}]},createCanvas:function(){var i=Ext.Element.create({tag:"canvas",cls:"x-surface-canvas"});window.G_vmlCanvasManager&&G_vmlCanvasManager.initElement(i.dom);var h=Ext.draw.engine.Canvas.contextOverrides,k=i.dom.getContext("2d"),j;if(k.ellipse){delete h.ellipse}k.state=[];k.toSave=this.toSave;for(j in h){k["$"+j]=k[j]}Ext.apply(k,h);if(this.getHighPrecision()){this.enablePrecisionCompensation(k)}else{this.disablePrecisionCompensation(k)}this.innerElement.appendChild(i);this.canvases.push(i);this.contexts.push(k)},updateHighPrecision:function(j){var i=this.contexts,k=i.length,l,m;for(l=0;l<k;l++){m=i[l];if(j){this.enablePrecisionCompensation(m)}else{this.disablePrecisionCompensation(m)}}},precisionNames:["rect","fillRect","strokeRect","clearRect","moveTo","lineTo","arc","arcTo","save","restore","updatePrecisionCompensate","setTransform","transform","scale","translate","rotate","quadraticCurveTo","bezierCurveTo","createLinearGradient","createRadialGradient","fillText","strokeText","drawImage"],disablePrecisionCompensation:function(n){var p=Ext.draw.engine.Canvas.contextOverrides,i=this.precisionNames,k=i.length,l,m;for(l=0;l<k;l++){m=i[l];if(!(m in p)){delete n[m]}}this.setDirty(true)},enablePrecisionCompensation:function(s){var z=this,B=1,v=1,q=0,r=0,t=new Ext.draw.Matrix(),A=[],x={},y=Ext.draw.engine.Canvas.contextOverrides,u=s.constructor.prototype;var w={toSave:z.toSave,rect:function(g,c,e,d){return u.rect.call(this,g*B+q,c*v+r,e*B,d*v)},fillRect:function(g,c,e,d){this.updatePrecisionCompensateRect();u.fillRect.call(this,g*B+q,c*v+r,e*B,d*v);this.updatePrecisionCompensate()},strokeRect:function(g,c,e,d){this.updatePrecisionCompensateRect();u.strokeRect.call(this,g*B+q,c*v+r,e*B,d*v);this.updatePrecisionCompensate()},clearRect:function(g,c,e,d){return u.clearRect.call(this,g*B+q,c*v+r,e*B,d*v)},moveTo:function(d,c){return u.moveTo.call(this,d*B+q,c*v+r)},lineTo:function(d,c){return u.lineTo.call(this,d*B+q,c*v+r)},arc:function(h,c,i,e,g,d){this.updatePrecisionCompensateRect();u.arc.call(this,h*B+q,c*B+r,i*B,e,g,d);this.updatePrecisionCompensate()},arcTo:function(e,c,g,d,h){this.updatePrecisionCompensateRect();u.arcTo.call(this,e*B+q,c*v+r,g*B+q,d*v+r,h*B);this.updatePrecisionCompensate()},save:function(){A.push(t);t=t.clone();y.save.call(this);u.save.call(this)},restore:function(){t=A.pop();y.restore.call(this);u.restore.call(this);this.updatePrecisionCompensate()},updatePrecisionCompensate:function(){t.precisionCompensate(z.devicePixelRatio,x);B=x.xx;v=x.yy;q=x.dx;r=x.dy;u.setTransform.call(this,z.devicePixelRatio,x.b,x.c,x.d,0,0)},updatePrecisionCompensateRect:function(){t.precisionCompensateRect(z.devicePixelRatio,x);B=x.xx;v=x.yy;q=x.dx;r=x.dy;u.setTransform.call(this,z.devicePixelRatio,x.b,x.c,x.d,0,0)},setTransform:function(d,g,h,i,c,e){t.set(d,g,h,i,c,e);this.updatePrecisionCompensate()},transform:function(d,g,h,i,c,e){t.append(d,g,h,i,c,e);this.updatePrecisionCompensate()},scale:function(c,d){this.transform(c,0,0,d,0,0)},translate:function(c,d){this.transform(1,0,0,1,c,d)},rotate:function(c){var d=Math.cos(c),e=Math.sin(c);this.transform(d,e,-e,d,0,0)},quadraticCurveTo:function(e,c,g,d){u.quadraticCurveTo.call(this,e*B+q,c*v+r,g*B+q,d*v+r)},bezierCurveTo:function(c,e,g,h,i,d){u.bezierCurveTo.call(this,c*B+q,e*v+r,g*B+q,h*v+r,i*B+q,d*v+r)},createLinearGradient:function(g,d,h,e){this.updatePrecisionCompensateRect();var c=u.createLinearGradient.call(this,g*B+q,d*v+r,h*B+q,e*v+r);this.updatePrecisionCompensate();return c},createRadialGradient:function(g,d,h,i,e,j){this.updatePrecisionCompensateRect();var c=u.createLinearGradient.call(this,g*B+q,d*B+r,h*B,i*B+q,e*B+r,j*B);this.updatePrecisionCompensate();return c},fillText:function(d,g,c,e){u.setTransform.apply(this,t.elements);if(typeof e==="undefined"){u.fillText.call(this,d,g,c)}else{u.fillText.call(this,d,g,c,e)}this.updatePrecisionCompensate()},strokeText:function(d,g,c,e){u.setTransform.apply(this,t.elements);if(typeof e==="undefined"){u.strokeText.call(this,d,g,c)}else{u.strokeText.call(this,d,g,c,e)}this.updatePrecisionCompensate()},fill:function(){var d=this.fillGradient,c=this.bbox;this.updatePrecisionCompensateRect();if(d&&c){this.fillStyle=d.generateGradient(this,c)}u.fill.call(this);this.updatePrecisionCompensate()},stroke:function(){var d=this.strokeGradient,c=this.bbox;this.updatePrecisionCompensateRect();if(d&&c){this.strokeStyle=d.generateGradient(this,c)}u.stroke.call(this);this.updatePrecisionCompensate()},drawImage:function(e,h,i,j,k,l,c,d,g){switch(arguments.length){case 3:return u.drawImage.call(this,e,h*B+q,i*v+r);case 5:return u.drawImage.call(this,e,h*B+q,i*v+r,j*B,k*v);case 9:return u.drawImage.call(this,e,h,i,j,k,l*B+q,c*v*r,d*B,g*v)}}};Ext.apply(s,w);this.setDirty(true)},updateRect:function(T){Ext.draw.Surface.prototype.updateRect.call(this,T);var r=this,t=Math.floor(T[0]),Q=Math.floor(T[1]),O=Math.ceil(T[0]+T[2]),w=Math.ceil(T[1]+T[3]),i=r.devicePixelRatio,k=r.canvases,R=O-t,K=w-Q,L=Math.round(r.splitThreshold/i),S=r.xSplits=Math.ceil(R/L),P=r.ySplits=Math.ceil(K/L),h,j,l,I,J,N,H,M;for(j=0,J=0;j<P;j++,J+=L){for(h=0,I=0;h<S;h++,I+=L){l=j*S+h;if(l>=k.length){r.createCanvas()}N=k[l].dom;N.style.left=I+"px";N.style.top=J+"px";M=Math.min(L,K-J);if(M*i!==N.height){N.height=M*i;N.style.height=M+"px"}H=Math.min(L,R-I);if(H*i!==N.width){N.width=H*i;N.style.width=H+"px"}r.applyDefaults(r.contexts[l])}}for(l+=1;l<k.length;l++){k[l].destroy()}r.activeCanvases=S*P;k.length=r.activeCanvases;r.clear()},clearTransform:function(){var s=this,x=s.xSplits,r=s.ySplits,u=s.contexts,k=s.splitThreshold,j=s.devicePixelRatio,t,v,w,i;for(t=0;t<x;t++){for(v=0;v<r;v++){w=v*x+t;i=u[w];i.translate(-k*t,-k*v);i.scale(j,j);s.matrix.toContext(i)}}},renderSprite:function(I){var k=this,Y=k.getRect(),V=k.matrix,T=I.getParent(),S=Ext.draw.Matrix.fly([1,0,0,1,0,0]),K=k.splitThreshold/k.devicePixelRatio,X=k.xSplits,Q=k.ySplits,J,M,j,Z,w,L,W=0,H,O=0,U,R=Y[2],N=Y[3],P,h,i;while(T&&(T!==k)){S.prependMatrix(T.matrix||T.attr&&T.attr.matrix);T=T.getParent()}S.prependMatrix(V);Z=I.getBBox();if(Z){Z=S.transformBBox(Z)}I.preRender(k);if(I.attr.hidden||I.attr.globalAlpha===0){I.setDirty(false);return}for(h=0,M=0;h<Q;h++,M+=K){for(P=0,J=0;P<X;P++,J+=K){i=h*X+P;j=k.contexts[i];w=Math.min(K,R-J);L=Math.min(K,N-M);W=J;H=W+w;O=M;U=O+L;if(Z){if(Z.x>H||Z.x+Z.width<W||Z.y>U||Z.y+Z.height<O){continue}}j.save();I.useAttributes(j,Y);if(false===I.render(k,j,[W,O,w,L],Y)){return false}j.restore()}}I.setDirty(false)},flatten:function(i,B){var t=document.createElement("canvas"),w=Ext.getClassName(this),v=this.devicePixelRatio,s=t.getContext("2d"),A,z,u,x,y,j;t.width=Math.ceil(i.width*v);t.height=Math.ceil(i.height*v);for(x=0;x<B.length;x++){A=B[x];if(Ext.getClassName(A)!==w){continue}u=A.getRect();for(y=0;y<A.canvases.length;y++){z=A.canvases[y];j=z.getOffsetsTo(z.getParent());s.drawImage(z.dom,(u[0]+j[0])*v,(u[1]+j[1])*v)}}return{data:t.toDataURL(),type:"png"}},applyDefaults:function(g){var e=Ext.draw.Color.RGBA_NONE;g.strokeStyle=e;g.fillStyle=e;g.textAlign="start";g.textBaseline="alphabetic";g.miterLimit=1},clear:function(){var j=this,i=j.activeCanvases,k,l,m;for(k=0;k<i;k++){l=j.canvases[k].dom;m=j.contexts[k];m.setTransform(1,0,0,1,0,0);m.clearRect(0,0,l.width,l.height)}j.setDirty(true)},destroy:function(){var g=this,i,h=g.canvases.length;for(i=0;i<h;i++){g.contexts[i]=null;g.canvases[i].destroy();g.canvases[i]=null}delete g.contexts;delete g.canvases;Ext.draw.Surface.prototype.destroy.call(this)},privates:{initElement:function(){var d=this;Ext.draw.Surface.prototype.initElement.call(this);d.canvases=[];d.contexts=[];d.activeCanvases=(d.xSplits=0)*(d.ySplits=0)}}},0,0,["widget","surface"],{widget:true,surface:true},0,0,[Ext.draw.engine,"Canvas"],function(){var g=this,h=g.prototype,i=10000000000;if(Ext.os.is.Android4&&Ext.browser.is.Chrome){i=3000}else{if(Ext.is.iOS){i=2200}}h.splitThreshold=i}));(Ext.cmd.derive("Ext.draw.Container",Ext.draw.ContainerBase,{alternateClassName:"Ext.draw.Component",defaultType:"surface",isDrawContainer:true,engine:"Ext.draw.engine.Canvas",config:{cls:"x-draw-container",resizeHandler:null,sprites:null,gradients:[]},defaultDownloadServerUrl:"http://svg.sencha.io",supportedFormats:["png","pdf","jpeg","gif"],supportedOptions:{version:Ext.isNumber,data:Ext.isString,format:function(d){return Ext.Array.indexOf(this.supportedFormats,d)>=0},filename:Ext.isString,width:Ext.isNumber,height:Ext.isNumber,scale:Ext.isNumber,pdf:Ext.isObject,jpeg:Ext.isObject},initAnimator:function(){this.frameCallbackId=Ext.draw.Animator.addFrameCallback("renderFrame",this)},applyGradients:function(n){var p=[],m,i,l,k;if(!Ext.isArray(n)){return p}for(m=0,i=n.length;m<i;m++){l=n[m];if(!Ext.isObject(l)){continue}if(typeof l.type!=="string"){l.type="linear"}if(l.angle){l.degrees=l.angle;delete l.angle}if(Ext.isObject(l.stops)){l.stops=(function(c){var e=[],d;for(k in c){d=c[k];d.offset=k/100;e.push(d)}return e})(l.stops)}p.push(l)}Ext.draw.gradient.GradientDefinition.add(p);return p},applySprites:function(i){if(!i){return}i=Ext.Array.from(i);var k=i.length,n=[],l,p,m;for(l=0;l<k;l++){m=i[l];p=m.surface;if(!(p&&p.isSurface)){if(Ext.isString(p)){p=this.getSurface(p)}else{p=this.getSurface("main")}}m=p.add(m);n.push(m)}return n},onBodyResize:function(){var e=this.element,g;if(!e){return}g=e.getSize();if(g.width&&g.height){this.setBodySize(g)}},setBodySize:function(i){var h=this,j=h.getResizeHandler()||h.defaultResizeHandler,k;h.fireEvent("bodyresize",h,i);k=j.call(h,i);if(k!==false){h.renderFrame()}},defaultResizeHandler:function(d){this.getItems().each(function(c){c.setRect([0,0,d.width,d.height])})},getSurface:function(h){h=this.getId()+"-"+(h||"main");var i=this,j=i.getItems(),k=j.get(h);if(!k){k=i.add({xclass:i.engine,id:h});i.onBodyResize()}return k},renderFrame:function(){var i=this,m=i.getItems(),l,j,k;for(l=0,j=m.length;l<j;l++){k=m.items[l];if(k.isSurface){k.renderFrame()}}},getImage:function(j){var i=this.innerElement.getSize(),x=Array.prototype.slice.call(this.items.items),u,r,v=this.surfaceZIndexes,s,t,w,q;for(t=1;t<x.length;t++){w=x[t];q=v[w.type];s=t-1;while(s>=0&&v[x[s].type]>q){x[s+1]=x[s];s--}x[s+1]=w}u=x[0].flatten(i,x);if(j==="image"){r=new Image();r.src=u.data;u.data=r;return u}if(j==="stream"){u.data=u.data.replace(/^data:image\/[^;]+/,"data:application/octet-stream");return u}return u},download:function(l){var k=this,p=[],n,m,j;l=Ext.apply({version:2,data:k.getImage().data},l);for(m in l){if(l.hasOwnProperty(m)){j=l[m];if(m in k.supportedOptions){if(k.supportedOptions[m].call(k,j)){p.push({tag:"input",type:"hidden",name:m,value:Ext.String.htmlEncode(Ext.isObject(j)?Ext.JSON.encode(j):j)})}}}}n=Ext.dom.Helper.markup({tag:"html",children:[{tag:"head"},{tag:"body",children:[{tag:"form",method:"POST",action:l.url||k.defaultDownloadServerUrl,children:p},{tag:"script",type:"text/javascript",children:'document.getElementsByTagName("form")[0].submit();'}]}]});window.open("","ImageDownload_"+Date.now()).document.write(n)},destroy:function(){var d=this.frameCallbackId;if(d){Ext.draw.Animator.removeFrameCallback(d)}Ext.draw.ContainerBase.prototype.destroy.call(this)}},0,["draw"],["component","box","container","panel","draw"],{component:true,box:true,container:true,panel:true,draw:true},["widget.draw"],0,[Ext.draw,"Container",Ext.draw,"Component"],function(){if(location.search.match("svg")){Ext.draw.Container.prototype.engine="Ext.draw.engine.Svg"}else{if((Ext.os.is.BlackBerry&&Ext.os.version.getMajor()===10)||(Ext.browser.is.AndroidStock4&&(Ext.os.version.getMinor()===1||Ext.os.version.getMinor()===2||Ext.os.version.getMinor()===3))){Ext.draw.Container.prototype.engine="Ext.draw.engine.Svg"}}}));(Ext.cmd.derive("Ext.chart.theme.Base",Ext.Base,{factoryConfig:{type:"chart.theme"},isTheme:true,config:{baseColor:null,colors:undefined,gradients:null,chart:{defaults:{background:"white"}},axis:{defaults:{label:{x:0,y:0,textBaseline:"middle",textAlign:"center",fontSize:"default",fontFamily:"default",fontWeight:"default",fillStyle:"black"},title:{fillStyle:"black",fontSize:"default*1.23",fontFamily:"default",fontWeight:"default"},style:{strokeStyle:"black"},grid:{strokeStyle:"rgb(221, 221, 221)"}},top:{style:{textPadding:5}},bottom:{style:{textPadding:5}}},series:{defaults:{label:{fillStyle:"black",strokeStyle:"none",fontFamily:"default",fontWeight:"default",fontSize:"default*1.077",textBaseline:"middle",textAlign:"center"},labelOverflowPadding:5}},sprites:{text:{fontSize:"default",fontWeight:"default",fontFamily:"default",fillStyle:"black"}},seriesThemes:undefined,markerThemes:{type:["circle","cross","plus","square","triangle","diamond"]},useGradients:false,background:null},colorDefaults:["#94ae0a","#115fa6","#a61120","#ff8809","#ffd13e","#a61187","#24ad9a","#7c7474","#a66111"],constructor:function(d){this.initConfig(d);this.resolveDefaults()},defaultRegEx:/^default([+\-/\*]\d+(?:\.\d+)?)?$/,defaultOperators:{"*":function(e,g){return e*g},"+":function(e,g){return e+g},"-":function(e,g){return e-g}},resolveDefaults:function(){var d=this;Ext.onReady(function(){var k=Ext.clone(d.getSprites()),l=Ext.clone(d.getAxis()),m=Ext.clone(d.getSeries()),c,n,p;if(!d.superclass.defaults){c=Ext.getBody().createChild({tag:"div",cls:"x-component"});d.superclass.defaults={fontFamily:c.getStyle("fontFamily"),fontWeight:c.getStyle("fontWeight"),fontSize:parseFloat(c.getStyle("fontSize")),fontVariant:c.getStyle("fontVariant"),fontStyle:c.getStyle("fontStyle")};c.destroy()}d.replaceDefaults(k.text);d.setSprites(k);for(n in l){p=l[n];d.replaceDefaults(p.label);d.replaceDefaults(p.title)}d.setAxis(l);for(n in m){p=m[n];d.replaceDefaults(p.label)}d.setSeries(m)})},replaceDefaults:function(l){var p=this,m=p.superclass.defaults,t=p.defaultRegEx,q,n,r,s;if(Ext.isObject(l)){for(q in m){r=t.exec(l[q]);if(r){n=m[q];r=r[1];if(r){s=p.defaultOperators[r.charAt(0)];n=Math.round(s(n,parseFloat(r.substr(1))))}l[q]=n}}}},applyBaseColor:function(g){var i,h;if(g){i=g.isColor?g:Ext.draw.Color.fromString(g);h=i.getHSL()[2];if(h<0.15){i=i.createLighter(0.3)}else{if(h<0.3){i=i.createLighter(0.15)}else{if(h>0.85){i=i.createDarker(0.3)}else{if(h>0.7){i=i.createDarker(0.15)}}}}this.setColors([i.createDarker(0.3).toString(),i.createDarker(0.15).toString(),i.toString(),i.createLighter(0.12).toString(),i.createLighter(0.24).toString(),i.createLighter(0.31).toString()])}return g},applyColors:function(d){return d||this.colorDefaults},updateUseGradients:function(d){if(d){this.updateGradients({type:"linear",degrees:90})}},updateBackground:function(g){if(g){var e=this.getChart();e.defaults.background=g;this.setChart(e)}},updateGradients:function(t){var r=this.getColors(),p=[],i,s,q,n,m;if(Ext.isObject(t)){for(n=0,m=r&&r.length||0;n<m;n++){s=Ext.draw.Color.fromString(r[n]);if(s){q=s.createLighter(0.15).toString();i=Ext.apply(Ext.Object.chain(t),{stops:[{offset:1,color:s.toString()},{offset:0,color:q.toString()}]});p.push(i)}}this.setColors(p)}},applySeriesThemes:function(g){this.getBaseColor();this.getUseGradients();this.getGradients();var e=this.getColors();if(!g){g={fillStyle:Ext.Array.clone(e),strokeStyle:Ext.Array.map(e,function(c){var d=Ext.draw.Color.fromString(c.stops?c.stops[0].color:c);return d.createDarker(0.15).toString()})}}return g}},1,0,0,0,0,[["factoryable",Ext.mixin.Factoryable]],[Ext.chart.theme,"Base"],0));(Ext.cmd.derive("Ext.chart.theme.Default",Ext.chart.theme.Base,{singleton:true},0,0,0,0,["chart.theme.Base","chart.theme.default"],0,[Ext.chart.theme,"Default"],0));(Ext.cmd.derive("Ext.chart.Markers",Ext.draw.sprite.Instancing,{isMarkers:true,defaultCategory:"default",constructor:function(){Ext.draw.sprite.Instancing.prototype.constructor.apply(this,arguments);this.categories={};this.revisions={}},destroy:function(){this.categories=null;this.revisions=null;Ext.draw.sprite.Instancing.prototype.destroy.call(this)},getMarkerFor:function(h,i){if(h in this.categories){var g=this.categories[h];if(i in g){return this.get(g[i])}}},clear:function(d){d=d||this.defaultCategory;if(!(d in this.revisions)){this.revisions[d]=1}else{this.revisions[d]++}},putMarkerFor:function(p,s,r,l,n){p=p||this.defaultCategory;var q=this,m=q.categories[p]||(q.categories[p]={}),t;if(r in m){q.setAttributesFor(m[r],s,l)}else{m[r]=q.getCount();q.createInstance(s,l)}t=q.get(m[r]);if(t){t.category=p;if(!n){t.revision=q.revisions[p]||(q.revisions[p]=1)}}},getMarkerBBoxFor:function(i,k,j){if(i in this.categories){var h=this.categories[i];if(k in h){return this.getBBoxFor(h[k],j)}}},getBBox:function(){return null},render:function(z,i,y){var u=this,q=u.revisions,r=u.attr.matrix,s=u.getTemplate(),w=s.attr,t,x,v;r.toContext(i);s.preRender(z,i,y);s.useAttributes(i,y);for(x=0,v=u.instances.length;x<v;x++){t=u.get(x);if(t.hidden||t.revision!==q[t.category]){continue}i.save();s.attr=t;s.useAttributes(i,y);s.render(z,i,y);i.restore()}s.attr=w}},1,0,0,0,0,0,[Ext.chart,"Markers"],0));(Ext.cmd.derive("Ext.chart.label.Callout",Ext.draw.modifier.Modifier,{prepareAttributes:function(d){if(!d.hasOwnProperty("calloutOriginal")){d.calloutOriginal=Ext.Object.chain(d);d.calloutOriginal.prototype=d}if(this._previous){this._previous.prepareAttributes(d.calloutOriginal)}},setAttrs:function(D,A){var E=D.callout,z=D.calloutOriginal,w=D.bbox.plain,F=(w.width||0)+D.labelOverflowPadding,v=(w.height||0)+D.labelOverflowPadding,I,J;if("callout" in A){E=A.callout}if("callout" in A||"calloutPlaceX" in A||"calloutPlaceY" in A||"x" in A||"y" in A){var u="rotationRads" in A?z.rotationRads=A.rotationRads:z.rotationRads,B="x" in A?(z.x=A.x):z.x,C="y" in A?(z.y=A.y):z.y,G="calloutPlaceX" in A?A.calloutPlaceX:D.calloutPlaceX,H="calloutPlaceY" in A?A.calloutPlaceY:D.calloutPlaceY,x="calloutVertical" in A?A.calloutVertical:D.calloutVertical,y;u%=Math.PI*2;if(Math.cos(u)<0){u=(u+Math.PI)%(Math.PI*2)}if(u>Math.PI){u-=Math.PI*2}if(x){u=u*(1-E)-Math.PI/2*E;y=F;F=v;v=y}else{u=u*(1-E)}A.rotationRads=u;A.x=B*(1-E)+G*E;A.y=C*(1-E)+H*E;I=G-B;J=H-C;if(Math.abs(J*F)>Math.abs(I*v)){if(J>0){A.calloutEndX=A.x-(v/2)*(I/J)*E;A.calloutEndY=A.y-(v/2)*E}else{A.calloutEndX=A.x+(v/2)*(I/J)*E;A.calloutEndY=A.y+(v/2)*E}}else{if(I>0){A.calloutEndX=A.x-F/2;A.calloutEndY=A.y-(F/2)*(J/I)*E}else{A.calloutEndX=A.x+F/2;A.calloutEndY=A.y+(F/2)*(J/I)*E}}if(A.calloutStartX&&A.calloutStartY){A.calloutHasLine=(I>0&&A.calloutStartX<A.calloutEndX)||(I<=0&&A.calloutStartX>A.calloutEndX)||(J>0&&A.calloutStartY<A.calloutEndY)||(J<=0&&A.calloutStartY>A.calloutEndY)}else{A.calloutHasLine=true}}return A},pushDown:function(g,e){e=Ext.draw.modifier.Modifier.prototype.pushDown.call(this,g.calloutOriginal,e);return this.setAttrs(g,e)},popUp:function(g,e){g=g.prototype;e=this.setAttrs(g,e);if(this._next){return this._next.popUp(g,e)}else{return Ext.apply(g,e)}}},0,0,0,0,0,0,[Ext.chart.label,"Callout"],0));(Ext.cmd.derive("Ext.chart.label.Label",Ext.draw.sprite.Text,{inheritableStatics:{def:{processors:{callout:"limited01",calloutHasLine:"bool",calloutPlaceX:"number",calloutPlaceY:"number",calloutStartX:"number",calloutStartY:"number",calloutEndX:"number",calloutEndY:"number",calloutColor:"color",calloutWidth:"number",calloutVertical:"bool",labelOverflowPadding:"number",display:"enums(none,under,over,rotate,insideStart,insideEnd,inside,outside)",orientation:"enums(horizontal,vertical)",renderer:"default"},defaults:{callout:0,calloutHasLine:true,calloutPlaceX:0,calloutPlaceY:0,calloutStartX:0,calloutStartY:0,calloutEndX:0,calloutEndY:0,calloutWidth:1,calloutVertical:false,calloutColor:"black",labelOverflowPadding:5,display:"none",orientation:"",renderer:null},triggers:{callout:"transform",calloutPlaceX:"transform",calloutPlaceY:"transform",labelOverflowPadding:"transform",calloutRotation:"transform",display:"hidden"},updaters:{hidden:function(d){d.hidden=d.display==="none"}}}},config:{fx:{customDurations:{callout:200}},field:null,calloutLine:true},applyCalloutLine:function(d){if(d){return Ext.apply({},d)}},prepareModifiers:function(){Ext.draw.sprite.Text.prototype.prepareModifiers.apply(this,arguments);this.calloutModifier=new Ext.chart.label.Callout({sprite:this});this.fx.setNext(this.calloutModifier);this.calloutModifier.setNext(this.topModifier)},render:function(l,k){var i=this,m=i.attr,j=m.calloutColor;k.save();k.globalAlpha*=m.callout;if(k.globalAlpha>0&&m.calloutHasLine){if(j&&j.isGradient){j=j.getStops()[0].color}k.strokeStyle=j;k.fillStyle=j;k.lineWidth=m.calloutWidth;k.beginPath();k.moveTo(i.attr.calloutStartX,i.attr.calloutStartY);k.lineTo(i.attr.calloutEndX,i.attr.calloutEndY);k.stroke();k.beginPath();k.arc(i.attr.calloutStartX,i.attr.calloutStartY,1*m.calloutWidth,0,2*Math.PI,true);k.fill();k.beginPath();k.arc(i.attr.calloutEndX,i.attr.calloutEndY,1*m.calloutWidth,0,2*Math.PI,true);k.fill()}k.restore();Ext.draw.sprite.Text.prototype.render.apply(i,arguments)}},0,0,0,0,0,0,[Ext.chart.label,"Label"],0));(Ext.cmd.derive("Ext.chart.series.Series",Ext.Base,{isSeries:true,defaultBindProperty:"store",type:null,seriesType:"sprite",identifiablePrefix:"ext-line-",observableType:"series",darkerStrokeRatio:0.15,config:{chart:null,title:null,renderer:null,showInLegend:true,triggerAfterDraw:false,style:{},subStyle:{},themeStyle:{},colors:null,useDarkerStrokeColor:true,store:null,label:{},labelOverflowPadding:null,showMarkers:true,marker:null,markerSubStyle:null,itemInstancing:null,background:null,highlightItem:null,surface:null,overlaySurface:null,hidden:false,highlight:false,highlightCfg:{merge:function(d){return d},$value:{fillStyle:"yellow",strokeStyle:"red"}},animation:null,tooltip:null},directions:[],sprites:null,themeColorCount:function(){return 1},isStoreDependantColorCount:false,themeMarkerCount:function(){return 0},getFields:function(i){var k=this,p=[],m,n,l;for(n=0,l=i.length;n<l;n++){m=k["get"+i[n]+"Field"]();if(Ext.isArray(m)){p.push.apply(p,m)}else{p.push(m)}}return p},applyAnimation:function(g,e){if(!g){g={duration:0}}else{if(g===true){g={easing:"easeInOut",duration:500}}}return e?Ext.apply({},g,e):g},getAnimation:function(){var d=this.getChart();if(d&&d.animationSuspendCount){return{duration:0}}else{return(arguments.callee.$previous||Ext.Base.prototype.getAnimation).call(this)}},updateTitle:function(z){var r=this,t=r.getChart();if(!t||t.isInitializing){return}z=Ext.Array.from(z);var x=t.getSeries(),y=Ext.Array.indexOf(x,r),v=t.getLegendStore(),s=r.getYField(),w,i,q,u;if(v.getCount()&&y!==-1){u=s?Math.min(z.length,s.length):z.length;for(w=0;w<u;w++){q=z[w];i=v.getAt(y+w);if(q&&i){i.set("name",q)}}}},applyHighlight:function(g,e){if(Ext.isObject(g)){g=Ext.merge({},this.config.highlightCfg,g)}else{if(g===true){g=this.config.highlightCfg}}return Ext.apply(e||{},g)},updateHighlight:function(d){this.getStyle();if(!Ext.Object.isEmpty(d)){this.addItemHighlight()}},updateHighlightCfg:function(d){if(!Ext.Object.equals(d,this.defaultConfig.highlightCfg)){this.addItemHighlight()}},applyItemInstancing:function(g,e){return Ext.merge(e||{},g)},setAttributesForItem:function(i,h){var j=i&&i.sprite,k;if(j){if(j.itemsMarker&&i.category==="items"){j.putMarker(i.category,h,i.index,false,true)}if(j.isMarkerHolder&&i.category==="markers"){j.putMarker(i.category,h,i.index,false,true)}else{if(j.isInstancing){j.setAttributesFor(i.index,h)}else{if(Ext.isArray(j)){for(k=0;k<j.length;k++){j[k].setAttributes(h)}}else{j.setAttributes(h)}}}}},getBBoxForItem:function(d){if(d&&d.sprite){if(d.sprite.itemsMarker&&d.category==="items"){return d.sprite.getMarkerBBox(d.category,d.index)}else{if(d.sprite instanceof Ext.draw.sprite.Instancing){return d.sprite.getBBoxFor(d.index)}else{return d.sprite.getBBox()}}}return null},applyHighlightItem:function(h,k){if(h===k){return}if(Ext.isObject(h)&&Ext.isObject(k)){var i=h.sprite===k.sprite,j=h.index===k.index;if(i&&j){return}}return h},updateHighlightItem:function(e,g){this.setAttributesForItem(g,{highlighted:false});this.setAttributesForItem(e,{highlighted:true})},constructor:function(i){var h=this,g;i=i||{};if(i.tips){i=Ext.apply({tooltip:i.tips},i)}if(i.highlightCfg){i=Ext.apply({highlight:i.highlightCfg},i)}if("id" in i){g=i.id}else{if("id" in h.config){g=h.config.id}else{g=h.getId()}}h.setId(g);h.sprites=[];h.dataRange=[];h.mixins.observable.constructor.call(h,i);h.initBindable()},lookupViewModel:function(g){var e=this.getChart();return e?e.lookupViewModel(g):null},applyTooltip:function(g,h){var i=Ext.apply({xtype:"tooltip",renderer:Ext.emptyFn,constrainPosition:true,shrinkWrapDock:true,autoHide:true,offsetX:10,offsetY:10},g);return Ext.create(i)},updateTooltip:function(){this.addItemHighlight()},addItemHighlight:function(){var j=this.getChart();if(!j){return}var i=j.getInteractions(),k,m,l;for(k=0;k<i.length;k++){m=i[k];if(m.isItemHighlight||m.isItemEdit){l=true;break}}if(!l){i.push("itemhighlight");j.setInteractions(i)}},showTooltip:function(u,t){var C=this,s=C.getTooltip(),w,F,x,A,y,v,z,B,E,D;if(!s){return}clearTimeout(C.tooltipTimeout);E=s.config;if(s.trackMouse){t[0]+=E.offsetX;t[1]+=E.offsetY}else{w=u.sprite;F=w.getSurface();x=Ext.get(F.getId());if(x){v=u.series.getBBoxForItem(u);z=v.x+v.width/2;B=v.y+v.height/2;y=F.matrix.transformPoint([z,B]);A=x.getXY();D=F.getInherited().rtl;z=D?A[0]+x.getWidth()-y[0]:A[0]+y[0];B=A[1]+y[1];t=[z,B]}}Ext.callback(s.renderer,s.scope,[s,u.record,u],0,C);s.show(t)},hideTooltip:function(h){var i=this,g=i.getTooltip();if(!g){return}clearTimeout(i.tooltipTimeout);i.tooltipTimeout=Ext.defer(function(){g.hide()},1)},applyStore:function(d){return d&&Ext.StoreManager.lookup(d)},getStore:function(){return this._store||this.getChart()&&this.getChart().getStore()},updateStore:function(u,v){var n=this,p=n.getChart(),t=p&&p.getStore(),q,i,r,s;v=v||t;if(v&&v!==u){v.un({datachanged:"onDataChanged",update:"onDataChanged",scope:n})}if(u){u.on({datachanged:"onDataChanged",update:"onDataChanged",scope:n});q=n.getSprites();for(s=0,r=q.length;s<r;s++){i=q[s];if(i.setStore){i.setStore(u)}}n.onDataChanged()}n.fireEvent("storechange",n,u,v)},onStoreChange:function(h,i,g){if(!this._store){this.updateStore(i,g)}},coordinate:function(J,v,C){var w=this,I=w.getStore(),z=w.getHidden(),x=I.getData().items,F=w["get"+J+"Axis"](),B={min:Infinity,max:-Infinity},H=w["fieldCategory"+J]||[J],A=w.getFields(H),D,i,E,G={},y=w.getSprites();if(y.length>0){if(!Ext.isBoolean(z)||!z){for(D=0;D<H.length;D++){i=A[D];E=w.coordinateData(x,i,F);w.getRangeOfData(E,B);G["data"+H[D]]=E}}w.dataRange[v]=B.min;w.dataRange[v+C]=B.max;G["dataMin"+J]=B.min;G["dataMax"+J]=B.max;if(F){F.range=null;G["range"+J]=F.getRange()}for(D=0;D<y.length;D++){y[D].setAttributes(G)}}},coordinateData:function(s,i,q){var m=[],n=s.length,p=q&&q.getLayout(),r,t;for(r=0;r<n;r++){t=s[r].data[i];if(!Ext.isEmpty(t,true)){if(p){m[r]=p.getCoordFor(t,i,r,s)}else{m[r]=+t}}else{m[r]=t}}return m},getRangeOfData:function(i,q){var m=i.length,n=q.min,r=q.max,p,l;for(p=0;p<m;p++){l=i[p];if(l<n){n=l}if(l>r){r=l}}q.min=n;q.max=r},updateLabelData:function(){var u=this,s=u.getStore(),v=s.getData().items,w=u.getSprites(),B=u.getLabel().getTemplate(),i=Ext.Array.from(B.getField()),z,A,x,y,j,t;if(!w.length||!i.length){return}for(z=0;z<w.length;z++){y=[];j=w[z];t=j.getField();if(Ext.Array.indexOf(i,t)<0){t=i[z]}for(A=0,x=v.length;A<x;A++){y.push(v[A].get(t))}j.setAttributes({labels:y})}},processData:function(){if(!this.getStore()){return}var l=this,i=this.directions,p,m=i.length,k,n;for(p=0;p<m;p++){k=i[p];n=l["get"+k+"Axis"]();if(n){n.processData(l);continue}if(l["coordinate"+k]){l["coordinate"+k]()}}l.updateLabelData()},applyBackground:function(d){if(this.getChart()){this.getSurface().setBackground(d);return this.getSurface().getBackground()}else{return d}},updateChart:function(h,k){var i=this,j=i._store;if(k){k.un("axeschange","onAxesChange",i);i.clearSprites();i.setSurface(null);i.setOverlaySurface(null);k.unregister(i);i.onChartDetached(k);if(!j){i.updateStore(null)}}if(h){i.setSurface(h.getSurface("series"));i.setOverlaySurface(h.getSurface("overlay"));h.on("axeschange","onAxesChange",i);if(h.getAxes()){i.onAxesChange(h)}i.onChartAttached(h);h.register(i);if(!j){i.updateStore(h.getStore())}}},onAxesChange:function(s){var q=this,t=s.getAxes(),x,z={},y={},v=false,r=this.directions,i,w,u;for(w=0,u=r.length;w<u;w++){i=r[w];y[i]=q.getFields(q["fieldCategory"+i])}for(w=0,u=t.length;w<u;w++){x=t[w];if(!z[x.getDirection()]){z[x.getDirection()]=[x]}else{z[x.getDirection()].push(x)}}for(w=0,u=r.length;w<u;w++){i=r[w];if(q["get"+i+"Axis"]()){continue}if(z[i]){x=q.findMatchingAxis(z[i],y[i]);if(x){q["set"+i+"Axis"](x);if(x.getNeedHighPrecision()){v=true}}}}this.getSurface().setHighPrecision(v)},findMatchingAxis:function(i,j){var l,m,n,p;for(n=0;n<i.length;n++){l=i[n];m=l.getFields();if(!m.length){return l}else{if(j){for(p=0;p<j.length;p++){if(Ext.Array.indexOf(m,j[p])>=0){return l}}}}}},onChartDetached:function(g){var e=this;e.fireEvent("chartdetached",g,e);g.un("storechange","onStoreChange",e)},onChartAttached:function(g){var e=this;e.setBackground(e.getBackground());e.fireEvent("chartattached",g,e);g.on("storechange","onStoreChange",e);e.processData()},updateOverlaySurface:function(g){var e=this;if(g){if(e.getLabel()){e.getOverlaySurface().add(e.getLabel())}}},applyLabel:function(g,e){if(!e){e=new Ext.chart.Markers({zIndex:10});e.setTemplate(new Ext.chart.label.Label(g))}else{e.getTemplate().setAttributes(g)}return e},createItemInstancingSprite:function(m,n){var k=this,j=new Ext.chart.Markers(),p,l;j.setAttributes({zIndex:Number.MAX_VALUE});p=Ext.apply({},n);if(k.getHighlight()){p.highlight=k.getHighlight();p.modifiers=["highlight"]}j.setTemplate(p);l=j.getTemplate();l.setAttributes(k.getStyle());l.fx.on("animationstart","onSpriteAnimationStart",this);l.fx.on("animationend","onSpriteAnimationEnd",this);m.bindMarker("items",j);k.getSurface().add(j);return j},getDefaultSpriteConfig:function(){return{type:this.seriesType,renderer:this.getRenderer()}},updateRenderer:function(i){var j=this,k=j.getChart(),h;if(k&&k.isInitializing){return}h=j.getSprites();if(h.length){h[0].setAttributes({renderer:i||null});if(k&&!k.isInitializing){k.redraw()}}},updateShowMarkers:function(k){var h=this.getSprites(),j=h&&h[0],i=j&&j.getMarker("markers");if(i){i.getTemplate().setAttributes({hidden:!k})}},createSprite:function(){var l=this,r=l.getSurface(),m=l.getItemInstancing(),n=r.add(l.getDefaultSpriteConfig()),q=l.getMarker(),k,p;n.setAttributes(l.getStyle());n.setSeries(l);if(m){n.itemsMarker=l.createItemInstancingSprite(n,m)}if(n.bindMarker){if(q){k=new Ext.chart.Markers();p=Ext.Object.merge({},q);if(l.getHighlight()){p.highlight=l.getHighlight();p.modifiers=["highlight"]}k.setTemplate(p);k.getTemplate().fx.setCustomDurations({translationX:0,translationY:0});n.dataMarker=k;n.bindMarker("markers",k);l.getOverlaySurface().add(k)}if(l.getLabel().getTemplate().getField()){n.bindMarker("labels",l.getLabel())}}if(n.setStore){n.setStore(l.getStore())}n.fx.on("animationstart","onSpriteAnimationStart",l);n.fx.on("animationend","onSpriteAnimationEnd",l);l.sprites.push(n);return n},getSprites:Ext.emptyFn,onDataChanged:function(){var h=this,i=h.getChart(),j=i&&i.getStore(),k=h.getStore();if(k!==j){h.processData()}},isXType:function(d){return d==="series"},getItemId:function(){return this.getId()},applyThemeStyle:function(i,m){var l=this,j,k;j=i&&i.subStyle&&i.subStyle.fillStyle;k=j&&i.subStyle.strokeStyle;if(j&&!k){i.subStyle.strokeStyle=l.getStrokeColorsFromFillColors(j)}j=i&&i.markerSubStyle&&i.markerSubStyle.fillStyle;k=j&&i.markerSubStyle.strokeStyle;if(j&&!k){i.markerSubStyle.strokeStyle=l.getStrokeColorsFromFillColors(j)}return Ext.apply(m||{},i)},applyStyle:function(g,h){var i=Ext.ClassManager.get(Ext.ClassManager.getNameByAlias("sprite."+this.seriesType));if(i&&i.def){g=i.def.normalize(g)}return Ext.apply({},g,h)},applySubStyle:function(h,g){var i=Ext.ClassManager.get(Ext.ClassManager.getNameByAlias("sprite."+this.seriesType));if(i&&i.def){h=i.def.batchedNormalize(h,true)}return Ext.merge({},g,h)},applyMarker:function(i,k){var h=(i&&i.type)||(k&&k.type)||"circle",j=Ext.ClassManager.get(Ext.ClassManager.getNameByAlias("sprite."+h));if(j&&j.def){i=j.def.normalize(Ext.isObject(i)?i:{},true);i.type=h}return Ext.merge(k||{},i)},applyMarkerSubStyle:function(i,k){var h=(i&&i.type)||(k&&k.type)||"circle",j=Ext.ClassManager.get(Ext.ClassManager.getNameByAlias("sprite."+h));if(j&&j.def){i=j.def.batchedNormalize(i,true)}return Ext.merge(k||{},i)},updateHidden:function(e){var g=this;g.getColors();g.getSubStyle();g.setSubStyle({hidden:e});g.processData();g.doUpdateStyles();if(!Ext.isArray(e)){g.updateLegendStore(e)}},updateLegendStore:function(l,q){var m=this,n=m.getChart(),p=n.getLegendStore(),k=m.getId(),r;if(p){if(arguments.length>1){r=p.findBy(function(c){return c.get("series")===k&&c.get("index")===q});if(r!==-1){r=p.getAt(r)}}else{r=p.findRecord("series",k)}if(r&&r.get("disabled")!==l){r.set("disabled",l)}}},setHiddenByIndex:function(i,g){var h=this;if(Ext.isArray(h.getHidden())){h.getHidden()[i]=g;h.updateHidden(h.getHidden());h.updateLegendStore(g,i)}else{h.setHidden(g)}},getStrokeColorsFromFillColors:function(m){var k=this,i=k.getUseDarkerStrokeColor(),l=(Ext.isNumber(i)?i:k.darkerStrokeRatio),j;if(i){j=Ext.Array.map(m,function(c){c=Ext.isString(c)?c:c.stops[0].color;c=Ext.draw.Color.fromString(c);return c.createDarker(l).toString()})}else{j=Ext.Array.clone(m)}return j},updateThemeColors:function(n){var m=this,l=m.getThemeStyle(),p=Ext.Array.clone(n),j=m.getStrokeColorsFromFillColors(n),k={fillStyle:p,strokeStyle:j};l.subStyle=Ext.apply(l.subStyle||{},k);l.markerSubStyle=Ext.apply(l.markerSubStyle||{},k);m.doUpdateStyles()},themeOnlyIfConfigured:{},updateTheme:function(D){var z=this,G=D.getSeries(),t=z.getInitialConfig(),E=z.defaultConfig,B=z.getConfigurator().configs,x=G.defaults,w=G[z.type],A=z.themeOnlyIfConfigured,v,y,H,F,u,C;G=Ext.merge({},x,w);for(v in G){y=G[v];C=B[v];if(y!==null&&y!==undefined&&C){u=t[v];H=Ext.isObject(y);F=u===E[v];if(H){if(F&&A[v]){continue}y=Ext.merge({},y,u)}if(F||H){z[C.names.set](y)}}}},updateChartColors:function(g){var e=this;if(!e.getColors()){e.updateThemeColors(g)}},updateColors:function(d){this.updateThemeColors(d)},updateStyle:function(){this.doUpdateStyles()},updateSubStyle:function(){this.doUpdateStyles()},updateThemeStyle:function(){this.doUpdateStyles()},doUpdateStyles:function(){var m=this,i=m.sprites,q=m.getItemInstancing(),r=0,n=i&&i.length,t=m.getConfig("showMarkers",true),s=m.getMarker(),p;for(;r<n;r++){p=m.getStyleByIndex(r);if(q){i[r].itemsMarker.getTemplate().setAttributes(p)}i[r].setAttributes(p);if(s&&i[r].dataMarker){i[r].dataMarker.getTemplate().setAttributes(m.getMarkerStyleByIndex(r))}}},getStyleWithTheme:function(){var j=this,i=j.getThemeStyle(),h=(i&&i.style)||{},k=Ext.applyIf(Ext.apply({},j.getStyle()),h);return k},getSubStyleWithTheme:function(){var i=this,h=i.getThemeStyle(),k=(h&&h.subStyle)||{},j=Ext.applyIf(Ext.apply({},i.getSubStyle()),k);return j},getStyleByIndex:function(s){var p=this,i=p.getThemeStyle(),q,m,r,n,t={};q=p.getStyle();m=(i&&i.style)||{};r=p.styleDataForIndex(p.getSubStyle(),s);n=p.styleDataForIndex((i&&i.subStyle),s);Ext.apply(t,m);Ext.apply(t,n);Ext.apply(t,q);Ext.apply(t,r);return t},getMarkerStyleByIndex:function(y){var v=this,z=v.getThemeStyle(),B,x,s,t,A,r,u,w,i={};B=v.getStyle();x=(z&&z.style)||{};s=v.styleDataForIndex(v.getSubStyle(),y);if(s.hasOwnProperty("hidden")){s.hidden=s.hidden||!this.getConfig("showMarkers",true)}t=v.styleDataForIndex((z&&z.subStyle),y);A=v.getMarker();r=(z&&z.marker)||{};u=v.getMarkerSubStyle();w=v.styleDataForIndex((z&&z.markerSubStyle),y);Ext.apply(i,x);Ext.apply(i,t);Ext.apply(i,r);Ext.apply(i,w);Ext.apply(i,B);Ext.apply(i,s);Ext.apply(i,A);Ext.apply(i,u);return i},styleDataForIndex:function(j,k){var i,l,m={};if(j){for(l in j){i=j[l];if(Ext.isArray(i)){m[l]=i[k%i.length]}else{m[l]=i}}}return m},getItemForPoint:Ext.emptyFn,getItemByIndex:function(p,k){var l=this,j=l.getSprites(),n=j&&j[0],m;if(!n){return}if(k===undefined&&n.isMarkerHolder){k=l.getItemInstancing()?"items":"markers"}else{if(!k||k===""||k==="sprites"){n=j[p]}}if(n){m={series:l,category:k,index:p,record:l.getStore().getData().items[p],field:l.getYField(),sprite:n};return m}},onSpriteAnimationStart:function(d){this.fireEvent("animationstart",this,d)},onSpriteAnimationEnd:function(d){this.fireEvent("animationend",this,d)},resolveListenerScope:function(i){var j=this,m=Ext._namedScopes[i],k=j.getChart(),l;if(!m){l=k?k.resolveListenerScope(i,false):(i||j)}else{if(m.isThis){l=j}else{if(m.isController){l=k?k.resolveListenerScope(i,false):j}else{if(m.isSelf){l=k?k.resolveListenerScope(i,false):j;if(l===k&&!k.getInheritedConfig("defaultListenerScope")){l=j}}}}}return l},provideLegendInfo:function(d){d.push({name:this.getTitle()||this.getId(),mark:"black",disabled:this.getHidden(),series:this.getId(),index:0})},clearSprites:function(){var h=this.sprites,j,k,i;for(k=0,i=h.length;k<i;k++){j=h[k];if(j&&j.isSprite){j.destroy()}}this.sprites=[]},destroy:function(){var h=this,i=h._store,g=h.getConfig("tooltip",true);if(i&&i.getAutoDestroy()){Ext.destroy(i)}h.setChart(null);h.clearListeners();if(g){Ext.destroy(g);clearTimeout(h.tooltipTimeout)}h.callParent()}},1,0,0,0,0,[[Ext.mixin.Observable.prototype.mixinId||Ext.mixin.Observable.$className,Ext.mixin.Observable],[Ext.mixin.Bindable.prototype.mixinId||Ext.mixin.Bindable.$className,Ext.mixin.Bindable]],[Ext.chart.series,"Series"],0));(Ext.cmd.derive("Ext.chart.interactions.Abstract",Ext.Base,{config:{gestures:{tap:"onGesture"},chart:null,enabled:true},throttleGap:0,stopAnimationBeforeSync:false,constructor:function(i){var h=this,g;i=i||{};if("id" in i){g=i.id}else{if("id" in h.config){g=h.config.id}else{g=h.getId()}}h.setId(g);h.mixins.observable.constructor.call(h,i)},initialize:Ext.emptyFn,updateChart:function(g,i){var h=this;if(i===g){return}if(i){i.unregister(h);h.removeChartListener(i)}if(g){g.register(h);h.addChartListener()}},updateEnabled:function(i){var g=this,h=g.getChart();if(h){if(i){g.addChartListener()}else{g.removeChartListener(h)}}},onGesture:Ext.emptyFn,getItemForEvent:function(e){var j=this,k=j.getChart(),i=k.getEventXY(e);return k.getItemForPoint(i[0],i[1])},getItemsForEvent:function(e){var j=this,k=j.getChart(),i=k.getEventXY(e);return k.getItemsForPoint(i[0],i[1])},addChartListener:function(){var k=this,l=k.getChart(),i=k.getGestures(),m;if(!k.getEnabled()){return}function j(d,c){l.addElementListener(d,k.listeners[d]=function(e){var g=k.getLocks(),h;if(k.getEnabled()&&(!(d in g)||g[d]===k)){h=(Ext.isFunction(c)?c:k[c]).apply(this,arguments);if(h===false&&e&&e.stopPropagation){e.stopPropagation()}return h}},k)}k.listeners=k.listeners||{};for(m in i){j(m,i[m])}},removeChartListener:function(k){var j=this,i=j.getGestures(),l;function m(d){var c=j.listeners[d];if(c){k.removeElementListener(d,c);delete j.listeners[d]}}if(j.listeners){for(l in i){m(l)}}},lockEvents:function(){var h=this,i=h.getLocks(),k=Array.prototype.slice.call(arguments),j=k.length;while(j--){i[k[j]]=h}},unlockEvents:function(){var g=this.getLocks(),i=Array.prototype.slice.call(arguments),h=i.length;while(h--){delete g[i[h]]}},getLocks:function(){var d=this.getChart();return d.lockedEvents||(d.lockedEvents={})},isMultiTouch:function(){if(Ext.browser.is.IE10){return true}return !Ext.os.is.Desktop},initializeDefaults:Ext.emptyFn,doSync:function(){var e=this,g=e.getChart();if(e.syncTimer){clearTimeout(e.syncTimer);e.syncTimer=null}if(e.stopAnimationBeforeSync){g.animationSuspendCount++}g.redraw();if(e.stopAnimationBeforeSync){g.animationSuspendCount--}e.syncThrottle=Date.now()+e.throttleGap},sync:function(){var d=this;if(d.throttleGap&&Ext.frameStartTime<d.syncThrottle){if(d.syncTimer){return}d.syncTimer=Ext.defer(function(){d.doSync()},d.throttleGap)}else{d.doSync()}},getItemId:function(){return this.getId()},isXType:function(d){return d==="interaction"},destroy:function(){var d=this;d.setChart(null);delete d.listeners;d.callParent()}},1,["interaction"],["interaction"],{interaction:true},["widget.interaction"],[["observable",Ext.mixin.Observable]],[Ext.chart.interactions,"Abstract"],function(){if(Ext.os.is.Android4){this.prototype.throttleGap=40}}));(Ext.cmd.derive("Ext.chart.MarkerHolder",Ext.Mixin,{mixinConfig:{id:"markerHolder",after:{constructor:"constructor",preRender:"preRender"},before:{destroy:"destroy"}},isMarkerHolder:true,surfaceMatrix:null,inverseSurfaceMatrix:null,deprecated:{6:{methods:{getBoundMarker:{message:"Please use the 'getMarker' method instead.",fn:function(e){var g=this.boundMarkers[e];return g?[g]:g}}}}},constructor:function(){this.boundMarkers={};this.cleanRedraw=false},bindMarker:function(j,k){var i=this,h=i.boundMarkers;if(k&&k.isMarkers){i.releaseMarker(j);h[j]=k;k.on("destroy",i.onMarkerDestroy,i)}},onMarkerDestroy:function(d){this.releaseMarker(d)},releaseMarker:function(i){var g=this.boundMarkers,h;if(i&&i.isMarkers){for(h in g){if(g[h]===i){delete g[h];break}}}else{h=i;i=g[h];delete g[h]}return i||null},getMarker:function(d){return this.boundMarkers[d]||null},preRender:function(){var l=this,k=l.getId(),n=l.boundMarkers,m=l.getParent(),p,r,q;if(l.surfaceMatrix){q=l.surfaceMatrix.set(1,0,0,1,0,0)}else{q=l.surfaceMatrix=new Ext.draw.Matrix()}l.cleanRedraw=!l.attr.dirty;if(!l.cleanRedraw){for(p in n){r=n[p];if(r){r.clear(k)}}}while(m&&m.attr&&m.attr.matrix){q.prependMatrix(m.attr.matrix);m=m.getParent()}q.prependMatrix(m.matrix);l.surfaceMatrix=q;l.inverseSurfaceMatrix=q.inverse(l.inverseSurfaceMatrix)},putMarker:function(n,r,p,k,m){var q=this.boundMarkers[n],l=this.getId();if(q){q.putMarkerFor(l,r,p,k,m)}},getMarkerBBox:function(k,l,j){var m=this.boundMarkers[k],i=this.getId();if(m){return m.getMarkerBBoxFor(i,l,j)}},destroy:function(){var g=this.boundMarkers,h,i;for(h in g){i=g[h];i.destroy()}}},1,0,0,0,0,0,[Ext.chart,"MarkerHolder"],0));(Ext.cmd.derive("Ext.chart.axis.sprite.Axis",Ext.draw.sprite.Sprite,{type:"axis",inheritableStatics:{def:{processors:{grid:"bool",axisLine:"bool",minorTicks:"bool",minorTickSize:"number",majorTicks:"bool",majorTickSize:"number",length:"number",startGap:"number",endGap:"number",dataMin:"number",dataMax:"number",visibleMin:"number",visibleMax:"number",position:"enums(left,right,top,bottom,angular,radial,gauge)",minStepSize:"number",estStepSize:"number",titleOffset:"number",textPadding:"number",min:"number",max:"number",centerX:"number",centerY:"number",radius:"number",totalAngle:"number",baseRotation:"number",data:"default",enlargeEstStepSizeByText:"bool"},defaults:{grid:false,axisLine:true,minorTicks:false,minorTickSize:3,majorTicks:true,majorTickSize:5,length:0,startGap:0,endGap:0,visibleMin:0,visibleMax:1,dataMin:0,dataMax:1,position:"",minStepSize:0,estStepSize:20,min:0,max:1,centerX:0,centerY:0,radius:1,baseRotation:0,data:null,titleOffset:0,textPadding:0,scalingCenterY:0,scalingCenterX:0,strokeStyle:"black",enlargeEstStepSizeByText:false},triggers:{minorTickSize:"bbox",majorTickSize:"bbox",position:"bbox,layout",axisLine:"bbox,layout",min:"layout",max:"layout",length:"layout",minStepSize:"layout",estStepSize:"layout",data:"layout",dataMin:"layout",dataMax:"layout",visibleMin:"layout",visibleMax:"layout",enlargeEstStepSizeByText:"layout"},updaters:{layout:"layoutUpdater"}}},config:{label:null,layout:null,segmenter:null,renderer:null,layoutContext:null,axis:null},thickness:0,stepSize:0,getBBox:function(){return null},defaultRenderer:function(d){return this.segmenter.renderer(d,this)},layoutUpdater:function(){var n=this,q=n.getAxis().getChart();if(q.isInitializing){return}var r=n.attr,s=n.getLayout(),p=q.getInherited().rtl,u=r.dataMin+(r.dataMax-r.dataMin)*r.visibleMin,m=r.dataMin+(r.dataMax-r.dataMin)*r.visibleMax,t=r.position,v={attr:r,segmenter:n.getSegmenter(),renderer:n.defaultRenderer};if(t==="left"||t==="right"){r.translationX=0;r.translationY=m*r.length/(m-u);r.scalingX=1;r.scalingY=-r.length/(m-u);r.scalingCenterY=0;r.scalingCenterX=0;n.applyTransformations(true)}else{if(t==="top"||t==="bottom"){if(p){r.translationX=r.length+u*r.length/(m-u)+1}else{r.translationX=-u*r.length/(m-u)}r.translationY=0;r.scalingX=(p?-1:1)*r.length/(m-u);r.scalingY=1;r.scalingCenterY=0;r.scalingCenterX=0;n.applyTransformations(true)}}if(s){s.calculateLayout(v);n.setLayoutContext(v)}},iterate:function(x,t){var z,v,B,A,u,y,s=Ext.Array.some,i=Math.abs,w;if(x.getLabel){if(x.min<x.from){t.call(this,x.min,x.getLabel(x.min),-1,x)}for(z=0;z<=x.steps;z++){t.call(this,x.get(z),x.getLabel(z),z,x)}if(x.max>x.to){t.call(this,x.max,x.getLabel(x.max),x.steps+1,x)}}else{A=this.getAxis();u=A.floatingAxes;y=[];w=(x.to-x.from)/(x.steps+1);if(A.getFloating()){for(B in u){y.push(u[B])}}function r(c){return !y.length||s(y,function(d){return i(d-c)>w})}if(x.min<x.from&&r(x.min)){t.call(this,x.min,x.min,-1,x)}for(z=0;z<=x.steps;z++){v=x.get(z);if(r(v)){t.call(this,v,v,z,x)}}if(x.max>x.to&&r(x.max)){t.call(this,x.max,x.max,x.steps+1,x)}}},renderTicks:function(K,J,D,G){var A=this,L=A.attr,B=L.position,I=L.matrix,R=0.5*L.lineWidth,Q=I.getXX(),N=I.getDX(),M=I.getYY(),O=I.getDY(),H=D.majorTicks,S=L.majorTickSize,V=D.minorTicks,E=L.minorTickSize;if(H){switch(B){case"right":function F(c){return function(g,d,e){g=K.roundPixel(g*M+O)+R;J.moveTo(0,g);J.lineTo(c,g)}}A.iterate(H,F(S));V&&A.iterate(V,F(E));break;case"left":function C(c){return function(g,d,e){g=K.roundPixel(g*M+O)+R;J.moveTo(G[2]-c,g);J.lineTo(G[2],g)}}A.iterate(H,C(S));V&&A.iterate(V,C(E));break;case"bottom":function T(c){return function(g,d,e){g=K.roundPixel(g*Q+N)-R;J.moveTo(g,0);J.lineTo(g,c)}}A.iterate(H,T(S));V&&A.iterate(V,T(E));break;case"top":function U(c){return function(g,d,e){g=K.roundPixel(g*Q+N)-R;J.moveTo(g,G[3]);J.lineTo(g,G[3]-c)}}A.iterate(H,U(S));V&&A.iterate(V,U(E));break;case"angular":A.iterate(H,function(c,d,e){c=c/(L.max+1)*Math.PI*2+L.baseRotation;J.moveTo(L.centerX+(L.length)*Math.cos(c),L.centerY+(L.length)*Math.sin(c));J.lineTo(L.centerX+(L.length+S)*Math.cos(c),L.centerY+(L.length+S)*Math.sin(c))});break;case"gauge":var P=A.getGaugeAngles();A.iterate(H,function(c,d,e){c=(c-L.min)/(L.max-L.min+1)*L.totalAngle-L.totalAngle+P.start;J.moveTo(L.centerX+(L.length)*Math.cos(c),L.centerY+(L.length)*Math.sin(c));J.lineTo(L.centerX+(L.length+S)*Math.cos(c),L.centerY+(L.length+S)*Math.sin(c))});break}}},renderLabels:function(V,aj,W,P){var al=this,ap=al.attr,ar=0.5*ap.lineWidth,af=ap.position,ab=ap.matrix,Z=ap.textPadding,ac=ab.getXX(),ax=ab.getDX(),au=ab.getYY(),ay=ab.getDY(),am=0,R=W.majorTicks,T=Math.max(ap.majorTickSize,ap.minorTickSize)+ap.lineWidth,av=Ext.draw.Draw.isBBoxIntersect,U=al.getLabel(),Q,ah,ai=null,ad=0,az=0,an=W.segmenter,Y=al.getRenderer(),ag=al.getAxis(),aa=ag.getTitle(),aA=aa&&aa.attr.text!==""&&aa.getBBox(),ao,at=null,ak,X,ae,aw,S;if(R&&U&&!U.attr.hidden){Q=U.attr.font;if(aj.font!==Q){aj.font=Q}U.setAttributes({translationX:0,translationY:0},true);U.applyTransformations();ao=U.attr.inverseMatrix.elements.slice(0);switch(af){case"left":aw=aA?aA.x+aA.width:0;switch(U.attr.textAlign){case"start":S=V.roundPixel(aw+ax)-ar;break;case"end":S=V.roundPixel(P[2]-T+ax)-ar;break;default:S=V.roundPixel(aw+(P[2]-aw-T)/2+ax)-ar}U.setAttributes({translationX:S},true);break;case"right":aw=aA?P[2]-aA.x:0;switch(U.attr.textAlign){case"start":S=V.roundPixel(T+ax)+ar;break;case"end":S=V.roundPixel(P[2]-aw+ax)+ar;break;default:S=V.roundPixel(T+(P[2]-T-aw)/2+ax)+ar}U.setAttributes({translationX:S},true);break;case"top":aw=aA?aA.y+aA.height:0;U.setAttributes({translationY:V.roundPixel(aw+(P[3]-aw-T)/2)-ar},true);break;case"bottom":aw=aA?P[3]-aA.y:0;U.setAttributes({translationY:V.roundPixel(T+(P[3]-T-aw)/2)+ar},true);break;case"radial":U.setAttributes({translationX:ap.centerX},true);break;case"angular":U.setAttributes({translationY:ap.centerY},true);break;case"gauge":U.setAttributes({translationY:ap.centerY},true);break}if(af==="left"||af==="right"){al.iterate(R,function(e,c,d){if(c===undefined){return}if(Y){ae=Ext.callback(Y,null,[ag,c,W,ai],0,ag)}else{ae=an.renderer(c,W,ai)}ai=c;U.setAttributes({text:String(ae),translationY:V.roundPixel(e*au+ay)},true);U.applyTransformations();am=Math.max(am,U.getBBox().width+T);if(am<=al.thickness){X=Ext.draw.Matrix.fly(U.attr.matrix.elements.slice(0));ak=X.prepend.apply(X,ao).transformBBox(U.getBBox(true));if(at&&!av(ak,at,Z)){return}V.renderSprite(U);at=ak;ad+=ak.height;az++}})}else{if(af==="top"||af==="bottom"){al.iterate(R,function(e,c,d){if(c===undefined){return}if(Y){ae=Ext.callback(Y,null,[ag,c,W,ai],0,ag)}else{ae=an.renderer(c,W,ai)}ai=c;U.setAttributes({text:String(ae),translationX:V.roundPixel(e*ac+ax)},true);U.applyTransformations();am=Math.max(am,U.getBBox().height+T);if(am<=al.thickness){X=Ext.draw.Matrix.fly(U.attr.matrix.elements.slice(0));ak=X.prepend.apply(X,ao).transformBBox(U.getBBox(true));if(at&&!av(ak,at,Z)){return}V.renderSprite(U);at=ak;ad+=ak.width;az++}})}else{if(af==="radial"){al.iterate(R,function(e,c,d){if(c===undefined){return}if(Y){ae=Ext.callback(Y,null,[ag,c,W,ai],0,ag)}else{ae=an.renderer(c,W,ai)}ai=c;if(typeof ae!=="undefined"){U.setAttributes({text:String(ae),translationX:ap.centerX-V.roundPixel(e)/ap.max*ap.length*Math.cos(ap.baseRotation+Math.PI/2),translationY:ap.centerY-V.roundPixel(e)/ap.max*ap.length*Math.sin(ap.baseRotation+Math.PI/2)},true);U.applyTransformations();ak=U.attr.matrix.transformBBox(U.getBBox(true));if(at&&!av(ak,at)){return}V.renderSprite(U);at=ak;ad+=ak.width;az++}})}else{if(af==="angular"){ah=ap.majorTickSize+ap.lineWidth*0.5+(parseInt(U.attr.fontSize,10)||10)/2;al.iterate(R,function(g,d,e){if(d===undefined){return}if(Y){ae=Ext.callback(Y,null,[ag,d,W,ai],0,ag)}else{ae=an.renderer(d,W,ai)}ai=d;am=Math.max(am,Math.max(ap.majorTickSize,ap.minorTickSize)+(ap.lineCap!=="butt"?ap.lineWidth*0.5:0));if(typeof ae!=="undefined"){var c=g/(ap.max+1)*Math.PI*2+ap.baseRotation;U.setAttributes({text:String(ae),translationX:ap.centerX+(ap.length+ah)*Math.cos(c),translationY:ap.centerY+(ap.length+ah)*Math.sin(c)},true);U.applyTransformations();ak=U.attr.matrix.transformBBox(U.getBBox(true));if(at&&!av(ak,at)){return}V.renderSprite(U);at=ak;ad+=ak.width;az++}})}else{if(af==="gauge"){var aq=al.getGaugeAngles();al.iterate(R,function(g,d,e){if(d===undefined){return}if(Y){ae=Ext.callback(Y,null,[ag,d,W,ai],0,ag)}else{ae=an.renderer(d,W,ai)}ai=d;if(typeof ae!=="undefined"){var c=(g-ap.min)/(ap.max-ap.min+1)*ap.totalAngle-ap.totalAngle+aq.start;U.setAttributes({text:String(ae),translationX:ap.centerX+(ap.length+10)*Math.cos(c),translationY:ap.centerY+(ap.length+10)*Math.sin(c)},true);U.applyTransformations();ak=U.attr.matrix.transformBBox(U.getBBox(true));if(at&&!av(ak,at)){return}V.renderSprite(U);at=ak;ad+=ak.width;az++}})}}}}}if(ap.enlargeEstStepSizeByText&&az){ad/=az;ad+=T;ad*=2;if(ap.estStepSize<ad){ap.estStepSize=ad}}if(Math.abs(al.thickness-(am))>1){al.thickness=am;ap.bbox.plain.dirty=true;ap.bbox.transform.dirty=true;al.doThicknessChanged();return false}}},renderAxisLine:function(x,p,t,v){var q=this,r=q.attr,w=r.lineWidth*0.5,n=r.position,u,s;if(r.axisLine&&r.length){switch(n){case"left":u=x.roundPixel(v[2])-w;p.moveTo(u,-r.endGap);p.lineTo(u,r.length+r.startGap+1);break;case"right":p.moveTo(w,-r.endGap);p.lineTo(w,r.length+r.startGap+1);break;case"bottom":p.moveTo(-r.startGap,w);p.lineTo(r.length+r.endGap,w);break;case"top":u=x.roundPixel(v[3])-w;p.moveTo(-r.startGap,u);p.lineTo(r.length+r.endGap,u);break;case"angular":p.moveTo(r.centerX+r.length,r.centerY);p.arc(r.centerX,r.centerY,r.length,0,Math.PI*2,true);break;case"gauge":s=q.getGaugeAngles();p.moveTo(r.centerX+Math.cos(s.start)*r.length,r.centerY+Math.sin(s.start)*r.length);p.arc(r.centerX,r.centerY,r.length,s.start,s.end,true);break}}},getGaugeAngles:function(){var i=this,g=i.attr.totalAngle,h;if(g<=Math.PI){h=(Math.PI-g)*0.5}else{h=-(Math.PI*2-g)*0.5}h=Math.PI*2-h;return{start:h,end:h-g}},renderGridLines:function(G,F,A,B){var z=this,Q=z.getAxis(),H=z.attr,D=H.matrix,O=H.startGap,R=H.endGap,P=D.getXX(),I=D.getYY(),K=D.getDX(),L=D.getDY(),j=H.position,M=Q.getGridAlignment(),C=A.majorTicks,N,E,J;if(H.grid){if(C){if(j==="left"||j==="right"){J=H.min*I+L+R+O;z.iterate(C,function(d,c,e){N=d*I+L+R;z.putMarker(M+"-"+(e%2?"odd":"even"),{y:N,height:J-N},E=e,true);J=N});E++;N=0;z.putMarker(M+"-"+(E%2?"odd":"even"),{y:N,height:J-N},E,true)}else{if(j==="top"||j==="bottom"){J=H.min*P+K+O;if(O){z.putMarker(M+"-even",{x:0,width:J},-1,true)}z.iterate(C,function(d,c,e){N=d*P+K+O;z.putMarker(M+"-"+(e%2?"odd":"even"),{x:N,width:J-N},E=e,true);J=N});E++;N=H.length+H.startGap+H.endGap;z.putMarker(M+"-"+(E%2?"odd":"even"),{x:N,width:J-N},E,true)}else{if(j==="radial"){z.iterate(C,function(d,c,e){if(!d){return}N=d/H.max*H.length;z.putMarker(M+"-"+(e%2?"odd":"even"),{scalingX:N,scalingY:N},e,true);J=N})}else{if(j==="angular"){z.iterate(C,function(d,c,e){if(!H.length){return}N=d/(H.max+1)*Math.PI*2+H.baseRotation;z.putMarker(M+"-"+(e%2?"odd":"even"),{rotationRads:N,rotationCenterX:0,rotationCenterY:0,scalingX:H.length,scalingY:H.length},e,true);J=N})}}}}}}},renderLimits:function(E){var i=this,T=i.getAxis(),M=T.getChart(),D=M.getInnerPadding(),Q=Ext.Array.from(T.getLimits());if(!Q.length){return}var y=T.limits.surface.getRect(),H=i.attr,F=H.matrix,I=H.position,K=Ext.Object.chain,G=T.limits.titles,R,L,S,x,J,C,O,N,P;G.instances=[];G.position=0;if(I==="left"||I==="right"){for(C=0,O=Q.length;C<O;C++){x=K(Q[C]);!x.line&&(x.line={});J=Ext.isString(x.value)?T.getCoordFor(x.value):x.value;J=J*F.getYY()+F.getDY();x.line.y=J+D.top;x.line.strokeStyle=x.line.strokeStyle||H.strokeStyle;i.putMarker("horizontal-limit-lines",x.line,C,true);if(x.line.title){G.createInstance(x.line.title);R=G.getBBoxFor(G.position-1);L=x.line.title.position||(I==="left"?"start":"end");switch(L){case"start":N=10;break;case"end":N=y[2]-10;break;case"middle":N=y[2]/2;break}G.setAttributesFor(G.position-1,{x:N,y:x.line.y-R.height/2,textAlign:L,fillStyle:x.line.title.fillStyle||x.line.strokeStyle})}}}else{if(I==="top"||I==="bottom"){for(C=0,O=Q.length;C<O;C++){x=K(Q[C]);!x.line&&(x.line={});J=Ext.isString(x.value)?T.getCoordFor(x.value):x.value;J=J*F.getXX()+F.getDX();x.line.x=J+D.left;x.line.strokeStyle=x.line.strokeStyle||H.strokeStyle;i.putMarker("vertical-limit-lines",x.line,C,true);if(x.line.title){G.createInstance(x.line.title);R=G.getBBoxFor(G.position-1);L=x.line.title.position||(I==="top"?"end":"start");switch(L){case"start":P=y[3]-R.width/2-10;break;case"end":P=R.width/2+10;break;case"middle":P=y[3]/2;break}G.setAttributesFor(G.position-1,{x:x.line.x+R.height/2,y:P,fillStyle:x.line.title.fillStyle||x.line.strokeStyle,rotationRads:Math.PI/2})}}}else{if(I==="radial"){for(C=0,O=Q.length;C<O;C++){x=K(Q[C]);!x.line&&(x.line={});J=Ext.isString(x.value)?T.getCoordFor(x.value):x.value;if(J>H.max){continue}J=J/H.max*H.length;x.line.cx=H.centerX;x.line.cy=H.centerY;x.line.scalingX=J;x.line.scalingY=J;x.line.strokeStyle=x.line.strokeStyle||H.strokeStyle;i.putMarker("circular-limit-lines",x.line,C,true);if(x.line.title){G.createInstance(x.line.title);R=G.getBBoxFor(G.position-1);G.setAttributesFor(G.position-1,{x:H.centerX,y:H.centerY-J-R.height/2,fillStyle:x.line.title.fillStyle||x.line.strokeStyle})}}}else{if(I==="angular"){for(C=0,O=Q.length;C<O;C++){x=K(Q[C]);!x.line&&(x.line={});J=Ext.isString(x.value)?T.getCoordFor(x.value):x.value;J=J/(H.max+1)*Math.PI*2+H.baseRotation;x.line.translationX=H.centerX;x.line.translationY=H.centerY;x.line.rotationRads=J;x.line.rotationCenterX=0;x.line.rotationCenterY=0;x.line.scalingX=H.length;x.line.scalingY=H.length;x.line.strokeStyle=x.line.strokeStyle||H.strokeStyle;i.putMarker("radial-limit-lines",x.line,C,true);if(x.line.title){G.createInstance(x.line.title);R=G.getBBoxFor(G.position-1);S=((J>-0.5*Math.PI&&J<0.5*Math.PI)||(J>1.5*Math.PI&&J<2*Math.PI))?1:-1;G.setAttributesFor(G.position-1,{x:H.centerX+0.5*H.length*Math.cos(J)+S*R.height/2*Math.sin(J),y:H.centerY+0.5*H.length*Math.sin(J)-S*R.height/2*Math.cos(J),rotationRads:S===1?J:J-Math.PI,fillStyle:x.line.title.fillStyle||x.line.strokeStyle})}}}else{if(I==="gauge"){}}}}}},doThicknessChanged:function(){var d=this.getAxis();if(d){d.onThicknessChanged()}},render:function(m,k,j){var i=this,l=i.getLayoutContext();if(l){if(false===i.renderLabels(m,k,l,j)){return false}k.beginPath();i.renderTicks(m,k,l,j);i.renderAxisLine(m,k,l,j);i.renderGridLines(m,k,l,j);i.renderLimits(j);k.stroke()}}},0,0,0,0,["sprite.axis"],[["markerHolder",Ext.chart.MarkerHolder]],[Ext.chart.axis.sprite,"Axis"],0));(Ext.cmd.derive("Ext.chart.axis.segmenter.Segmenter",Ext.Base,{config:{axis:null},constructor:function(d){this.initConfig(d)},renderer:function(e,g){return String(e)},from:function(d){return d},diff:Ext.emptyFn,align:Ext.emptyFn,add:Ext.emptyFn,preferredStep:Ext.emptyFn},1,0,0,0,0,0,[Ext.chart.axis.segmenter,"Segmenter"],0));(Ext.cmd.derive("Ext.chart.axis.segmenter.Names",Ext.chart.axis.segmenter.Segmenter,{renderer:function(e,g){return e},diff:function(h,i,g){return Math.floor(i-h)},align:function(g,h,i){return Math.floor(g)},add:function(g,h,i){return g+h},preferredStep:function(i,k,j,h){return{unit:1,step:1}}},0,0,0,0,["segmenter.names"],0,[Ext.chart.axis.segmenter,"Names"],0));(Ext.cmd.derive("Ext.chart.axis.segmenter.Numeric",Ext.chart.axis.segmenter.Segmenter,{isNumeric:true,renderer:function(e,g){return e.toFixed(Math.max(0,g.majorTicks.unit.fixes))},diff:function(h,i,g){return Math.floor((i-h)/g.scale)},align:function(g,h,i){return Math.floor(g/(i.scale*h))*i.scale*h},add:function(g,h,i){return g+h*i.scale},preferredStep:function(i,j){var k=Math.floor(Math.log(j)*Math.LOG10E),h=Math.pow(10,k);j/=h;if(j<2){j=2}else{if(j<5){j=5}else{if(j<10){j=10;k++}}}return{unit:{fixes:-k,scale:h},step:j}},exactStep:function(i,j){var k=Math.floor(Math.log(j)*Math.LOG10E),h=Math.pow(10,k);return{unit:{fixes:-k+(j%h===0?0:1),scale:1},step:j}},adjustByMajorUnit:function(m,k,p){var n=p[0],q=p[1],r=m*k,l=n%r;if(l!==0){p[0]=n-l+(n<0?-r:0)}l=q%r;if(l!==0){p[1]=q-l+(q>0?r:0)}}},0,0,0,0,["segmenter.numeric"],0,[Ext.chart.axis.segmenter,"Numeric"],0));(Ext.cmd.derive("Ext.chart.axis.segmenter.Time",Ext.chart.axis.segmenter.Segmenter,{config:{step:null},renderer:function(g,h){var i=Ext.Date;switch(h.majorTicks.unit){case"y":return i.format(g,"Y");case"mo":return i.format(g,"Y-m");case"d":return i.format(g,"Y-m-d")}return i.format(g,"Y-m-d\nH:i:s")},from:function(d){return new Date(d)},diff:function(h,i,g){if(isFinite(h)){h=new Date(h)}if(isFinite(i)){i=new Date(i)}return Ext.Date.diff(h,i,g)},align:function(i,g,h){if(h==="d"&&g>=7){i=Ext.Date.align(i,"d",g);i.setDate(i.getDate()-i.getDay()+1);return i}else{return Ext.Date.align(i,h,g)}},add:function(g,h,i){return Ext.Date.add(new Date(g),i,h)},stepUnits:[[Ext.Date.YEAR,1,2,5,10,20,50,100,200,500],[Ext.Date.MONTH,1,3,6],[Ext.Date.DAY,1,7,14],[Ext.Date.HOUR,1,6,12],[Ext.Date.MINUTE,1,5,15,30],[Ext.Date.SECOND,1,5,15,30],[Ext.Date.MILLI,1,2,5,10,20,50,100,200,500]],preferredStep:function(w,t){if(this.getStep()){return this.getStep()}var s=new Date(+w),r=new Date(+w+Math.ceil(t)),u=this.stepUnits,i,j,q,v,x;for(v=0;v<u.length;v++){j=u[v][0];q=this.diff(s,r,j);if(q>0){for(x=1;x<u[v].length;x++){if(q<=u[v][x]){i={unit:j,step:u[v][x]};break}}if(!i){v--;i={unit:u[v][0],step:1}}break}}if(!i){i={unit:Ext.Date.DAY,step:1}}return i}},0,0,0,0,["segmenter.time"],0,[Ext.chart.axis.segmenter,"Time"],0));(Ext.cmd.derive("Ext.chart.axis.layout.Layout",Ext.Base,{config:{axis:null},constructor:function(d){this.mixins.observable.constructor.call(this,d)},processData:function(q){var m=this,p=m.getAxis(),l=p.getDirection(),i=p.boundSeries,r,n;if(q){q["coordinate"+l]()}else{for(r=0,n=i.length;r<n;r++){i[r]["coordinate"+l]()}}},calculateMajorTicks:function(v){var q=this,r=v.attr,s=r.max-r.min,m=s/Math.max(1,r.length)*(r.visibleMax-r.visibleMin),n=r.min+s*r.visibleMin,u=r.min+s*r.visibleMax,p=r.estStepSize*m,t=q.snapEnds(v,r.min,r.max,p);if(t){q.trimByRange(v,t,n,u);v.majorTicks=t}},calculateMinorTicks:function(d){if(this.snapMinorEnds){d.minorTicks=this.snapMinorEnds(d)}},calculateLayout:function(h){var g=this,i=h.attr;if(i.length===0){return null}if(i.majorTicks){g.calculateMajorTicks(h);if(i.minorTicks){g.calculateMinorTicks(h)}}},snapEnds:Ext.emptyFn,trimByRange:function(w,s,p,x){var r=w.segmenter,n=s.unit,q=r.diff(s.from,p,n),u=r.diff(s.from,x,n),v=Math.max(0,Math.ceil(q/s.step)),t=Math.min(s.steps,Math.floor(u/s.step));if(t<s.steps){s.to=r.add(s.from,t*s.step,n)}if(s.max>x){s.max=s.to}if(s.from<p){s.from=r.add(s.from,v*s.step,n);while(s.from<p){v++;s.from=r.add(s.from,s.step,n)}}if(s.min<p){s.min=s.from}s.steps=t-v}},1,0,0,0,0,[["observable",Ext.mixin.Observable]],[Ext.chart.axis.layout,"Layout"],0));(Ext.cmd.derive("Ext.chart.axis.layout.Discrete",Ext.chart.axis.layout.Layout,{isDiscrete:true,processData:function(){var l=this,n=l.getAxis(),p=n.boundSeries,i=n.getDirection(),q,m,r;l.labels=[];l.labelMap={};for(q=0,m=p.length;q<m;q++){r=p[q];if(r["get"+i+"Axis"]()===n){r["coordinate"+i]()}}n.getSprites()[0].setAttributes({data:l.labels});l.fireEvent("datachange",l.labels)},calculateLayout:function(d){d.data=this.labels;Ext.chart.axis.layout.Layout.prototype.calculateLayout.call(this,d)},calculateMajorTicks:function(x){var r=this,s=x.attr,u=x.data,t=s.max-s.min,n=t/Math.max(1,s.length)*(s.visibleMax-s.visibleMin),p=s.min+t*s.visibleMin,w=s.min+t*s.visibleMax,q=s.estStepSize*n;var v=r.snapEnds(x,Math.max(0,s.min),Math.min(s.max,u.length-1),q);if(v){r.trimByRange(x,v,p,w);x.majorTicks=v}},snapEnds:function(k,l,p,n){n=Math.ceil(n);var m=Math.floor((p-l)/n),j=k.data;return{min:l,max:p,from:l,to:m*n+l,step:n,steps:m,unit:1,getLabel:function(c){return j[this.from+this.step*c]},get:function(c){return this.from+this.step*c}}},trimByRange:function(u,q,n,v){var m=q.unit,p=Math.ceil((n-q.from)/m)*m,s=Math.floor((v-q.from)/m)*m,t=Math.max(0,Math.ceil(p/q.step)),r=Math.min(q.steps,Math.floor(s/q.step));if(r<q.steps){q.to=r}if(q.max>v){q.max=q.to}if(q.from<n&&q.step>0){q.from=q.from+t*q.step*m;while(q.from<n){t++;q.from+=q.step*m}}if(q.min<n){q.min=q.from}q.steps=r-t},getCoordFor:function(i,h,k,j){this.labels.push(i);return this.labels.length-1}},0,0,0,0,["axisLayout.discrete"],0,[Ext.chart.axis.layout,"Discrete"],0));(Ext.cmd.derive("Ext.chart.axis.layout.CombineDuplicate",Ext.chart.axis.layout.Discrete,{getCoordFor:function(j,i,l,k){if(!(j in this.labelMap)){var m=this.labelMap[j]=this.labels.length;this.labels.push(j);return m}return this.labelMap[j]}},0,0,0,0,["axisLayout.combineDuplicate"],0,[Ext.chart.axis.layout,"CombineDuplicate"],0));(Ext.cmd.derive("Ext.chart.axis.layout.Continuous",Ext.chart.axis.layout.Layout,{isContinuous:true,config:{adjustMinimumByMajorUnit:false,adjustMaximumByMajorUnit:false},getCoordFor:function(i,h,k,j){return +i},snapEnds:function(B,y,t,u){var w=B.segmenter,z=this.getAxis(),q=z.getMajorTickSteps(),x=q&&w.exactStep?w.exactStep(y,(t-y)/q):w.preferredStep(y,u),r=x.unit,A=x.step,s=w.align(y,A,r),v=(q||w.diff(y,t,r))+1;return{min:w.from(y),max:w.from(t),from:s,to:w.add(s,v*A,r),step:A,steps:v,unit:r,get:function(c){return w.add(this.from,this.step*c,r)}}},snapMinorEnds:function(F){var B=F.majorTicks,t=this.getAxis().getMinorTickSteps(),A=F.segmenter,C=B.min,x=B.max,v=B.from,u=B.unit,E=B.step/t,s=E*u.scale,w=v-C,D=Math.floor(w/s),y=D+Math.floor((x-B.to)/s)+1,z=B.steps*t+y;return{min:C,max:x,from:C+w%s,to:A.add(v,z*E,u),step:E,steps:z,unit:u,get:function(c){return(c%t+D+1!==0)?A.add(this.from,this.step*c,u):null}}}},0,0,0,0,["axisLayout.continuous"],0,[Ext.chart.axis.layout,"Continuous"],0));(Ext.cmd.derive("Ext.chart.axis.Axis",Ext.Base,{isAxis:true,config:{position:"bottom",fields:[],label:undefined,grid:false,limits:null,renderer:null,chart:null,style:null,margin:0,titleMargin:4,background:null,minimum:NaN,maximum:NaN,reconcileRange:false,minZoom:1,maxZoom:10000,layout:"continuous",segmenter:"numeric",hidden:false,majorTickSteps:0,minorTickSteps:0,adjustByMajorUnit:true,title:null,increment:0.5,length:0,center:null,radius:null,totalAngle:Math.PI,rotation:null,labelInSpan:null,visibleRange:[0,1],needHighPrecision:false,linkedTo:null,floating:null},titleOffset:0,spriteAnimationCount:0,prevMin:0,prevMax:1,boundSeries:[],sprites:null,surface:null,range:null,xValues:[],yValues:[],masterAxis:null,applyRotation:function(e){var g=Math.PI*2;return(e%g+Math.PI)%g-Math.PI},updateRotation:function(h){var g=this.getSprites(),i=this.getPosition();if(!this.getHidden()&&i==="angular"&&g[0]){g[0].setAttributes({baseRotation:h})}},applyTitle:function(g,h){var i;if(Ext.isString(g)){g={text:g}}if(!h){h=Ext.create("sprite.text",g);if((i=this.getSurface())){i.add(h)}}else{h.setAttributes(g)}return h},applyFloating:function(e,g){if(e===null){e={value:null,alongAxis:null}}else{if(Ext.isNumber(e)){e={value:e,alongAxis:null}}}if(Ext.isObject(e)){if(g&&g.alongAxis){delete this.getChart().getAxis(g.alongAxis).floatingAxes[this.getId()]}return e}return g},constructor:function(i){var h=this,g;h.sprites=[];h.labels=[];h.floatingAxes={};i=i||{};if(i.position==="angular"){i.style=i.style||{};i.style.estStepSize=1}if("id" in i){g=i.id}else{if("id" in h.config){g=h.config.id}else{g=h.getId()}}h.setId(g);h.mixins.observable.constructor.apply(h,arguments)},getAlignment:function(){switch(this.getPosition()){case"left":case"right":return"vertical";case"top":case"bottom":return"horizontal";case"radial":return"radial";case"angular":return"angular"}},getGridAlignment:function(){switch(this.getPosition()){case"left":case"right":return"horizontal";case"top":case"bottom":return"vertical";case"radial":return"circular";case"angular":return"radial"}},getSurface:function(){var k=this,l=k.getChart();if(l&&!k.surface){var n=k.surface=l.getSurface(k.getId(),"axis"),m=k.gridSurface=l.getSurface("main"),p=k.getSprites()[0],j=k.getGridAlignment();m.waitFor(n);k.getGrid();if(k.getLimits()&&j){j=j.replace("3d","");k.limits={surface:l.getSurface("overlay"),lines:new Ext.chart.Markers(),titles:new Ext.draw.sprite.Instancing()};k.limits.lines.setTemplate({xclass:"grid."+j});k.limits.lines.getTemplate().setAttributes({strokeStyle:"black"},true);k.limits.surface.add(k.limits.lines);p.bindMarker(j+"-limit-lines",k.limits.lines);k.limitTitleTpl=new Ext.draw.sprite.Text();k.limits.titles.setTemplate(k.limitTitleTpl);k.limits.surface.add(k.limits.titles);l.on("redraw",k.renderLimits,k)}}return k.surface},applyGrid:function(d){if(d===true){return{}}return d},updateGrid:function(q){var m=this,n=m.getChart();if(!n){m.on({chartattached:Ext.bind(m.updateGrid,m,[q]),single:true});return}var p=m.gridSurface,r=m.getSprites()[0],l=m.getGridAlignment(),k;if(q){k=m.gridSpriteEven;if(!k){k=m.gridSpriteEven=new Ext.chart.Markers();k.setTemplate({xclass:"grid."+l});p.add(k);r.bindMarker(l+"-even",k)}if(Ext.isObject(q)){k.getTemplate().setAttributes(q);if(Ext.isObject(q.even)){k.getTemplate().setAttributes(q.even)}}k=m.gridSpriteOdd;if(!k){k=m.gridSpriteOdd=new Ext.chart.Markers();k.setTemplate({xclass:"grid."+l});p.add(k);r.bindMarker(l+"-odd",k)}if(Ext.isObject(q)){k.getTemplate().setAttributes(q);if(Ext.isObject(q.odd)){k.getTemplate().setAttributes(q.odd)}}}},renderLimits:function(){this.getSprites()[0].renderLimits()},getCoordFor:function(i,h,k,j){return this.getLayout().getCoordFor(i,h,k,j)},applyPosition:function(d){return d.toLowerCase()},applyLength:function(e,g){return e>0?e:g},applyLabel:function(e,g){if(!g){g=new Ext.draw.sprite.Text({})}if(this.limitTitleTpl){this.limitTitleTpl.setAttributes(e)}g.setAttributes(e);return g},applyLayout:function(e,g){e=Ext.factory(e,null,g,"axisLayout");e.setAxis(this);return e},applySegmenter:function(g,e){g=Ext.factory(g,null,e,"segmenter");g.setAxis(this);return g},updateMinimum:function(){this.range=null},updateMaximum:function(){this.range=null},hideLabels:function(){this.getSprites()[0].setDirty(true);this.setLabel({hidden:true})},showLabels:function(){this.getSprites()[0].setDirty(true);this.setLabel({hidden:false})},renderFrame:function(){this.getSurface().renderFrame()},updateChart:function(h,j){var i=this,k;if(j){j.unregister(i);j.un("serieschange",i.onSeriesChange,i);j.un("redraw",i.renderLimits,i);i.linkAxis();i.fireEvent("chartdetached",j,i)}if(h){h.on("serieschange",i.onSeriesChange,i);i.surface=null;k=i.getSurface();i.getLabel().setSurface(k);k.add(i.getSprites());k.add(i.getTitle());h.register(i);i.fireEvent("chartattached",h,i)}},applyBackground:function(g){var e=Ext.ClassManager.getByAlias("sprite.rect");return e.def.normalize(g)},processData:function(){this.getLayout().processData();this.range=null},getDirection:function(){return this.getChart().getDirectionForAxis(this.getPosition())},isSide:function(){var d=this.getPosition();return d==="left"||d==="right"},applyFields:function(d){return Ext.Array.from(d)},applyVisibleRange:function(i,g){this.getChart();if(i[0]>i[1]){var h=i[0];i[0]=i[1];i[0]=h}if(i[1]===i[0]){i[1]+=1/this.getMaxZoom()}if(i[1]>i[0]+1){i[0]=0;i[1]=1}else{if(i[0]<0){i[1]-=i[0];i[0]=0}else{if(i[1]>1){i[0]-=i[1]-1;i[1]=1}}}if(g&&i[0]===g[0]&&i[1]===g[1]){return undefined}return i},updateVisibleRange:function(d){this.fireEvent("visiblerangechange",this,d)},onSeriesChange:function(r){var q=this,u=r.getSeries(),i="get"+q.getDirection()+"Axis",p=[],t,s=u.length,v,n;for(t=0;t<s;t++){if(this===u[t][i]()){p.push(u[t])}}q.boundSeries=p;v=q.getLinkedTo();n=!Ext.isEmpty(v)&&r.getAxis(v);if(n){q.linkAxis(n)}else{q.getLayout().processData()}},linkAxis:function(i){var g=this;function h(c,e,d){d.getLayout()[c]("datachange","onDataChange",e);d[c]("rangechange","onMasterAxisRangeChange",e)}if(g.masterAxis){h("un",g,g.masterAxis);g.masterAxis=null}if(i){if(i.type!==this.type){Ext.Error.raise("Linked axes must be of the same type.")}h("on",g,i);g.onDataChange(i.getLayout().labels);g.onMasterAxisRangeChange(i,i.range);g.setStyle(Ext.apply({},g.config.style,i.config.style));g.setTitle(Ext.apply({},g.config.title,i.config.title));g.setLabel(Ext.apply({},g.config.label,i.config.label));g.masterAxis=i}},onDataChange:function(d){this.getLayout().labels=d},onMasterAxisRangeChange:function(e,g){this.range=g},applyRange:function(d){if(!d){return this.dataRange.slice(0)}else{return[d[0]===null?this.dataRange[0]:d[0],d[1]===null?this.dataRange[1]:d[1]]}},getRange:function(){var u=this;if(u.range){return u.range}else{if(u.masterAxis){return u.masterAxis.range}}if(Ext.isNumber(u.getMinimum()+u.getMaximum())){return u.range=[u.getMinimum(),u.getMaximum()]}var C=Infinity,i=-Infinity,H=u.boundSeries,y=u.getLayout(),v=u.getSegmenter(),G=u.getVisibleRange(),E="get"+u.getDirection()+"Range",F,x,z,A,B,w;for(B=0,w=H.length;B<w;B++){A=H[B];var D=A[E]();if(D){if(D[0]<C){C=D[0]}if(D[1]>i){i=D[1]}}}if(!isFinite(i)){i=u.prevMax}if(!isFinite(C)){C=u.prevMin}if(u.getLabelInSpan()||C===i){i+=u.getIncrement();C-=u.getIncrement()}if(Ext.isNumber(u.getMinimum())){C=u.getMinimum()}else{u.prevMin=C}if(Ext.isNumber(u.getMaximum())){i=u.getMaximum()}else{u.prevMax=i}u.range=[Ext.Number.correctFloat(C),Ext.Number.correctFloat(i)];if(u.getReconcileRange()){u.reconcileRange()}if(u.getAdjustByMajorUnit()&&v.adjustByMajorUnit&&!u.getMajorTickSteps()){x=Ext.Object.chain(u.getSprites()[0].attr);x.min=u.range[0];x.max=u.range[1];x.visibleMin=G[0];x.visibleMax=G[1];F={attr:x,segmenter:v};y.calculateLayout(F);z=F.majorTicks;if(z){v.adjustByMajorUnit(z.step,z.unit.scale,u.range);x.min=u.range[0];x.max=u.range[1];delete F.majorTicks;y.calculateLayout(F);z=F.majorTicks;v.adjustByMajorUnit(z.step,z.unit.scale,u.range)}else{if(!u.hasClearRangePending){u.hasClearRangePending=true;u.getChart().on("layout","clearRange",u)}}}if(!Ext.Array.equals(u.range,u.oldRange||[])){u.fireEvent("rangechange",u,u.range);u.oldRange=u.range}return u.range},clearRange:function(){delete this.hasClearRangePending;this.range=null},reconcileRange:function(){var m=this,i=m.getChart().getAxes(),l=m.getDirection(),q,n,p,r;if(!i){return}for(q=0,n=i.length;q<n;q++){p=i[q];r=p.getRange();if(p===m||p.getDirection()!==l||!r||!p.getReconcileRange()){continue}if(r[0]<m.range[0]){m.range[0]=r[0]}if(r[1]>m.range[1]){m.range[1]=r[1]}}},applyStyle:function(g,h){var i=Ext.ClassManager.getByAlias("sprite."+this.seriesType);if(i&&i.def){g=i.def.normalize(g)}h=Ext.apply(h||{},g);return h},themeOnlyIfConfigured:{grid:true},updateTheme:function(E){var z=this,x=E.getAxis(),D=z.getPosition(),J=z.getInitialConfig(),F=z.defaultConfig,B=z.getConfigurator().configs,H=x.defaults,u=x[D],A=z.themeOnlyIfConfigured,w,y,I,G,v,C;x=Ext.merge({},H,u);for(w in x){y=x[w];C=B[w];if(y!==null&&y!==undefined&&C){v=J[w];I=Ext.isObject(y);G=v===F[w];if(I){if(G&&A[w]){continue}y=Ext.merge({},y,v)}if(G||I){z[C.names.set](y)}}}},updateCenter:function(l){var i=this.getSprites(),m=i[0],j=l[0],k=l[1];if(m){m.setAttributes({centerX:j,centerY:k})}if(this.gridSpriteEven){this.gridSpriteEven.getTemplate().setAttributes({translationX:j,translationY:k,rotationCenterX:j,rotationCenterY:k})}if(this.gridSpriteOdd){this.gridSpriteOdd.getTemplate().setAttributes({translationX:j,translationY:k,rotationCenterX:j,rotationCenterY:k})}},getSprites:function(){if(!this.getChart()){return}var m=this,r=m.getRange(),q=m.getPosition(),p=m.getChart(),t=p.getAnimation(),s,v,u=m.getLength(),n=m.superclass;if(t===false){t={duration:0}}if(r){v=Ext.applyIf({position:q,axis:m,min:r[0],max:r[1],length:u,grid:m.getGrid(),hidden:m.getHidden(),titleOffset:m.titleOffset,layout:m.getLayout(),segmenter:m.getSegmenter(),totalAngle:m.getTotalAngle(),label:m.getLabel()},m.getStyle());if(!m.sprites.length){while(!n.xtype){n=n.superclass}s=Ext.create("sprite."+n.xtype,v);s.fx.setCustomDurations({baseRotation:0});s.fx.on("animationstart","onAnimationStart",m);s.fx.on("animationend","onAnimationEnd",m);s.setLayout(m.getLayout());s.setSegmenter(m.getSegmenter());s.setLabel(m.getLabel());m.sprites.push(s);m.updateTitleSprite()}else{s=m.sprites[0];s.setAnimation(t);s.setAttributes(v)}if(m.getRenderer()){s.setRenderer(m.getRenderer())}}return m.sprites},updateTitleSprite:function(){var q=this,u=q.getLength();if(!q.sprites[0]||!Ext.isNumber(u)){return}var n=this.sprites[0].thickness,v=q.getSurface(),p=q.getTitle(),r=q.getPosition(),t=q.getMargin(),m=q.getTitleMargin(),s=v.roundPixel(u/2);if(p){switch(r){case"top":p.setAttributes({x:s,y:t+m/2,textBaseline:"top",textAlign:"center"},true);p.applyTransformations();q.titleOffset=p.getBBox().height+m;break;case"bottom":p.setAttributes({x:s,y:n+m/2,textBaseline:"top",textAlign:"center"},true);p.applyTransformations();q.titleOffset=p.getBBox().height+m;break;case"left":p.setAttributes({x:t+m/2,y:s,textBaseline:"top",textAlign:"center",rotationCenterX:t+m/2,rotationCenterY:s,rotationRads:-Math.PI/2},true);p.applyTransformations();q.titleOffset=p.getBBox().width+m;break;case"right":p.setAttributes({x:n-t+m/2,y:s,textBaseline:"bottom",textAlign:"center",rotationCenterX:n+m/2,rotationCenterY:s,rotationRads:Math.PI/2},true);p.applyTransformations();q.titleOffset=p.getBBox().width+m;break}}},onThicknessChanged:function(){this.getChart().onThicknessChanged()},getThickness:function(){if(this.getHidden()){return 0}return(this.sprites[0]&&this.sprites[0].thickness||1)+this.titleOffset+this.getMargin()},onAnimationStart:function(){this.spriteAnimationCount++;if(this.spriteAnimationCount===1){this.fireEvent("animationstart",this)}},onAnimationEnd:function(){this.spriteAnimationCount--;if(this.spriteAnimationCount===0){this.fireEvent("animationend",this)}},getItemId:function(){return this.getId()},getAncestorIds:function(){return[this.getChart().getId()]},isXType:function(d){return d==="axis"},resolveListenerScope:function(i){var j=this,m=Ext._namedScopes[i],k=j.getChart(),l;if(!m){l=k?k.resolveListenerScope(i,false):(i||j)}else{if(m.isThis){l=j}else{if(m.isController){l=k?k.resolveListenerScope(i,false):j}else{if(m.isSelf){l=k?k.resolveListenerScope(i,false):j;if(l===k&&!k.getInheritedConfig("defaultListenerScope")){l=j}}}}}return l},destroy:function(){var d=this;d.setChart(null);d.surface.destroy();d.surface=null;d.callParent()}},1,["axis"],["axis"],{axis:true},["widget.axis"],[["observable",Ext.mixin.Observable]],[Ext.chart.axis,"Axis"],0));(Ext.cmd.derive("Ext.chart.LegendBase",Ext.view.View,{config:{tpl:['<div class="',"x-",'legend-container">','<tpl for=".">','<div class="',"x-",'legend-item">',"<span ",'class="',"x-","legend-item-marker {[ values.disabled ? Ext.baseCSSPrefix + 'legend-inactive' : '' ]}\" ",'style="background:{mark};">',"</span>{name}","</div>","</tpl>","</div>"],nodeContainerSelector:"div.x-legend-container",itemSelector:"div.x-legend-item",docked:"bottom"},setDocked:function(h){var i=this,k=i.ownerCt,j;i.docked=h;switch(h){case"top":case"bottom":i.addCls("x-horizontal");j="hbox";break;case"left":case"right":i.removeCls("x-horizontal");j="vbox";break}if(k){k.setDocked(h)}},setStore:function(d){this.bindStore(d)},clearViewEl:function(){Ext.view.View.prototype.clearViewEl.apply(this,arguments);Ext.removeNode(this.getNodeContainer())},onItemClick:function(k,i,j,e){Ext.view.View.prototype.onItemClick.apply(this,arguments);this.toggleItem(j)}},0,0,["component","box","dataview"],{component:true,box:true,dataview:true},0,0,[Ext.chart,"LegendBase"],0));(Ext.cmd.derive("Ext.chart.Legend",Ext.chart.LegendBase,{config:{baseCls:"x-legend",padding:5,rect:null,disableSelection:true,toggleable:true},toggleItem:function(r){if(!this.getToggleable()){return}var s=this.getStore(),i=0,p,m=true,q,n,t;if(s){n=s.getCount();for(q=0;q<n;q++){t=s.getAt(q);if(t.get("disabled")){i++}}m=n-i>1;t=s.getAt(r);if(t){p=t.get("disabled");if(p||m){t.set("disabled",!p)}}}}},0,["legend"],["component","box","dataview","legend"],{component:true,box:true,dataview:true,legend:true},["widget.legend"],0,[Ext.chart,"Legend"],0));(Ext.cmd.derive("Ext.chart.AbstractChart",Ext.draw.Container,{isChart:true,defaultBindProperty:"store",config:{store:"ext-empty-store",theme:"default",style:null,animation:!Ext.isIE8,series:[],axes:[],legend:null,colors:null,insetPadding:{top:10,left:10,right:10,bottom:10},background:null,interactions:[],mainRect:null,resizeHandler:null,highlightItem:null},animationSuspendCount:0,chartLayoutSuspendCount:0,axisThicknessSuspendCount:0,isThicknessChanged:false,surfaceZIndexes:{background:0,main:1,grid:2,series:3,axis:4,chart:5,overlay:6,events:7},constructor:function(g){var e=this;e.itemListeners={};e.surfaceMap={};e.chartComponents={};e.isInitializing=true;e.suspendChartLayout();e.animationSuspendCount++;Ext.draw.Container.prototype.constructor.apply(this,arguments);delete e.isInitializing;e.getSurface("main");e.getSurface("chart").setFlipRtlText(e.getInherited().rtl);e.getSurface("overlay").waitFor(e.getSurface("series"));e.animationSuspendCount--;e.resumeChartLayout()},applyAnimation:function(g,e){if(!g){g={duration:0}}else{if(g===true){g={easing:"easeInOut",duration:500}}}return e?Ext.apply({},g,e):g},getAnimation:function(){if(this.animationSuspendCount){return{duration:0}}else{return(arguments.callee.$previous||Ext.draw.Container.prototype.getAnimation).call(this)}},applyInsetPadding:function(e,g){if(!Ext.isObject(e)){return Ext.util.Format.parseBox(e)}else{if(!g){return e}else{return Ext.apply(g,e)}}},suspendAnimation:function(){var j=this,k=j.getSeries(),i=k.length,l=-1,m;j.animationSuspendCount++;if(j.animationSuspendCount===1){while(++l<i){m=k[l];m.setAnimation(m.getAnimation())}}},resumeAnimation:function(){var l=this,m=l.getSeries(),i=m.length,n=-1,p,k;l.animationSuspendCount--;if(l.animationSuspendCount===0){while(++n<i){p=m[n];k=p.getAnimation();p.setAnimation(k.duration&&k||l.getAnimation())}}},suspendChartLayout:function(){this.chartLayoutSuspendCount++;if(this.chartLayoutSuspendCount===1){if(this.scheduledLayoutId){this.layoutInSuspension=true;this.cancelChartLayout()}else{this.layoutInSuspension=false}}},resumeChartLayout:function(){this.chartLayoutSuspendCount--;if(this.chartLayoutSuspendCount===0){if(this.layoutInSuspension){this.scheduleLayout()}}},cancelChartLayout:function(){if(this.scheduledLayoutId){Ext.draw.Animator.cancel(this.scheduledLayoutId);this.scheduledLayoutId=null}},scheduleLayout:function(){var d=this;if(d.allowSchedule()&&!d.scheduledLayoutId){d.scheduledLayoutId=Ext.draw.Animator.schedule("doScheduleLayout",d)}},allowSchedule:function(){return true},doScheduleLayout:function(){if(this.chartLayoutSuspendCount){this.layoutInSuspension=true}else{this.performLayout()}},suspendThicknessChanged:function(){this.axisThicknessSuspendCount++},resumeThicknessChanged:function(){if(this.axisThicknessSuspendCount>0){this.axisThicknessSuspendCount--;if(this.axisThicknessSuspendCount===0&&this.isThicknessChanged){this.onThicknessChanged()}}},onThicknessChanged:function(){if(this.axisThicknessSuspendCount===0){this.isThicknessChanged=false;this.performLayout()}else{this.isThicknessChanged=true}},applySprites:function(e){var g=this.getSurface("chart");e=Ext.Array.from(e);g.removeAll(true);g.add(e);return e},initItems:function(){var k=this.items,j,h,i;if(k&&!k.isMixedCollection){this.items=[];k=Ext.Array.from(k);for(j=0,h=k.length;j<h;j++){i=k[j];if(i.type){Ext.raise("To add custom sprites to the chart use the 'sprites' config.")}else{this.items.push(i)}}}this.callParent()},applyBackground:function(m,k){var n=this.getSurface("background"),l,p,j;if(m){if(k){l=k.attr.width;p=k.attr.height;j=k.type===(m.type||"rect")}if(m.isSprite){k=m}else{if(m.type==="image"&&Ext.isString(m.src)){if(j){k.setAttributes({src:m.src})}else{n.remove(k,true);k=n.add(m)}}else{if(j){k.setAttributes({fillStyle:m})}else{n.remove(k,true);k=n.add({type:"rect",fillStyle:m,fx:{customDurations:{x:0,y:0,width:0,height:0}}})}}}}if(l&&p){k.setAttributes({width:l,height:p})}k.setAnimation(this.getAnimation());return k},getLegendStore:function(){return this.legendStore},refreshLegendStore:function(){if(this.getLegendStore()){var j,i,k=this.getSeries(),l,m=[];if(k){for(j=0,i=k.length;j<i;j++){l=k[j];if(l.getShowInLegend()){l.provideLegendInfo(m)}}}this.getLegendStore().setData(m)}},resetLegendStore:function(){var k=this.getLegendStore(),i,j,m,l;if(k){i=this.getLegendStore().getData().items;for(j=0,m=i.length;j<m;j++){l=i[j];l.beginEdit();l.set("disabled",false);l.commit()}}},onUpdateLegendStore:function(j,k){var h=this.getSeries(),i;if(k&&h){i=h.map[k.get("series")];if(i){i.setHiddenByIndex(k.get("index"),k.get("disabled"));this.redraw()}}},defaultResizeHandler:function(d){this.scheduleLayout();return false},applyMainRect:function(g,e){if(!e){return g}this.getSeries();this.getAxes();if(g[0]===e[0]&&g[1]===e[1]&&g[2]===e[2]&&g[3]===e[3]){return e}else{return g}},register:function(i){var h=this.chartComponents,g=i.getId();h[g]=i},unregister:function(i){var h=this.chartComponents,g=i.getId();delete h[g]},get:function(d){return this.chartComponents[d]},getAxis:function(d){if(d instanceof Ext.chart.axis.Axis){return d}else{if(Ext.isNumber(d)){return this.getAxes()[d]}else{if(Ext.isString(d)){return this.get(d)}}}},getSurface:function(n,m){n=n||"main";m=m||n;var l=this,p=Ext.draw.Container.prototype.getSurface.call(this,n),j=l.surfaceZIndexes,k=l.surfaceMap;if(m in j){p.element.setStyle("zIndex",j[m])}if(!k[m]){k[m]=[]}if(Ext.Array.indexOf(k[m],p)<0){p.type=m;k[m].push(p);p.on("destroy",l.forgetSurface,l)}return p},forgetSurface:function(k){var h=this.surfaceMap;if(!h||this.isDestroying){return}var i=h[k.type],j=i?Ext.Array.indexOf(i,k):-1;if(j>=0){i.splice(j,1)}},applyAxes:function(A,s){var r=this,v={left:"right",right:"left"},i=[],z,y,x,B,w,u,t;r.animationSuspendCount++;r.getStore();if(!s){s=[];s.map={}}t=s.map;i.map={};A=Ext.Array.from(A,true);for(w=0,u=A.length;w<u;w++){z=A[w];if(!z){continue}if(z instanceof Ext.chart.axis.Axis){y=t[z.getId()];z.setChart(r)}else{z=Ext.Object.chain(z);x=z.linkedTo;B=z.id;if(Ext.isNumber(x)){z=Ext.merge({},A[x],z)}else{if(Ext.isString(x)){Ext.Array.each(A,function(c){if(c.id===z.linkedTo){z=Ext.merge({},c,z);return false}})}}z.id=B;z.chart=r;if(r.getInherited().rtl){z.position=v[z.position]||z.position}B=z.getId&&z.getId()||z.id;z=Ext.factory(z,null,y=t[B],"axis")}if(z){i.push(z);i.map[z.getId()]=z;if(!y){z.on("animationstart","onAnimationStart",r);z.on("animationend","onAnimationEnd",r)}}}for(w in t){if(!i.map[w]){t[w].destroy()}}r.animationSuspendCount--;return i},updateAxes:function(){if(!this.isDestroying){this.scheduleLayout()}},circularCopyArray:function(k,i,l){var m=[],n,p=k&&k.length;if(p){for(n=0;n<l;n++){m.push(k[(i+n)%p])}}return m},circularCopyObject:function(l,k,n){var p=this,q,m,r={};if(n){for(q in l){if(l.hasOwnProperty(q)){m=l[q];if(Ext.isArray(m)){r[q]=p.circularCopyArray(m,k,n)}else{r[q]=m}}}}return r},getColors:function(){var h=this,i=h.config.colors,g=h.getTheme();if(Ext.isArray(i)&&i.length>0){i=h.applyColors(i)}return i||(g&&g.getColors())},applyColors:function(d){d=Ext.Array.map(d,function(c){if(Ext.isString(c)){return c}else{return c.toString()}});return d},updateColors:function(x){var q=this,v=q.getTheme(),z=x||(v&&v.getColors()),i=0,u=q.getSeries(),w=u&&u.length,t,r,y,s;if(z.length){for(t=0;t<w;t++){r=u[t];s=r.themeColorCount();y=q.circularCopyArray(z,i,s);i+=s;r.updateChartColors(y)}}q.refreshLegendStore()},applyTheme:function(d){if(d&&d.isTheme){return d}return Ext.Factory.chartTheme(d)},updateTheme:function(i){var m=this,l=m.getAxes(),n=m.getSeries(),r=m.getColors(),p,q;m.updateChartTheme(i);for(q=0;q<l.length;q++){l[q].updateTheme(i)}for(q=0;q<n.length;q++){p=n[q];p.updateTheme(i)}m.updateSpriteTheme(i);m.updateColors(r);m.redraw()},themeOnlyIfConfigured:{},updateChartTheme:function(E){var y=this,w=E.getChart(),t=y.getInitialConfig(),F=y.defaultConfig,C=y.getConfigurator().configs,B=w.defaults,A=w[y.xtype],z=y.themeOnlyIfConfigured,v,x,H,G,u,D;w=Ext.merge({},B,A);for(v in w){x=w[v];D=C[v];if(x!==null&&x!==undefined&&D){u=t[v];H=Ext.isObject(x);G=u===F[v];if(H){if(G&&z[v]){continue}x=Ext.merge({},x,u)}if(G||H){y[D.names.set](x)}}}},updateSpriteTheme:function(z){this.getSprites();var t=this,x=t.getSurface("chart"),u=x.getItems(),i=z.getSprites(),s,B,r,w,y,A,v;for(A=0,v=u.length;A<v;A++){s=u[A];B=i[s.type];if(B){w={};y=s.type==="text";for(r in B){if(!(r in s.config)){if(!(y&&r.indexOf("font")===0&&s.config.font)){w[r]=B[r]}}}s.setAttributes(w)}}},addSeries:function(e){var g=this.getSeries();Ext.Array.push(g,e);this.setSeries(g)},removeSeries:function(n){n=Ext.Array.from(n);var q=this.getSeries(),l=[],r=n.length,i={},p,m;for(p=0;p<r;p++){m=n[p];if(typeof m!=="string"){m=m.getId()}i[m]=true}for(p=0,r=q.length;p<r;p++){if(!i[q[p].getId()]){l.push(q[p])}}this.setSeries(l)},applySeries:function(r,s){var p=this,i=[],n,v,t,q,u;p.animationSuspendCount++;p.getAxes();if(s){n=s.map}else{s=[];n=s.map={}}i.map={};r=Ext.Array.from(r,true);for(t=0,q=r.length;t<q;t++){u=r[t];if(!u){continue}v=n[u.getId&&u.getId()||u.id];if(u instanceof Ext.chart.series.Series){if(v&&v!==u){v.destroy()}u.setChart(p)}else{if(Ext.isObject(u)){if(v){v.setConfig(u);u=v}else{if(Ext.isString(u)){u={type:u}}u.chart=p;u=Ext.create(u.xclass||("series."+u.type),u);u.on("animationstart","onAnimationStart",p);u.on("animationend","onAnimationEnd",p)}}}i.push(u);i.map[u.getId()]=u}for(t in n){if(!i.map[n[t].getId()]){n[t].destroy()}}p.animationSuspendCount--;return i},applyLegend:function(e,g){return Ext.factory(e,Ext.chart.Legend,g)},updateLegend:function(e,g){if(g){g.destroy()}if(e){this.getItems();this.legendStore=new Ext.data.Store({autoDestroy:true,fields:["id","name","mark","disabled","series","index"]});e.setStore(this.legendStore);this.refreshLegendStore();this.legendStore.on("update","onUpdateLegendStore",this)}},updateSeries:function(h,i){var g=this;if(g.isDestroying){return}g.animationSuspendCount++;g.fireEvent("serieschange",g,h,i);g.refreshLegendStore();if(!Ext.isEmpty(h)){g.updateTheme(g.getTheme())}g.scheduleLayout();g.animationSuspendCount--},applyInteractions:function(i,q){if(!q){q=[];q.map={}}var m=this,t=[],r=q.map,p,n,s;t.map={};i=Ext.Array.from(i,true);for(p=0,n=i.length;p<n;p++){s=i[p];if(!s){continue}s=Ext.factory(s,null,r[s.getId&&s.getId()||s.id],"interaction");if(s){s.setChart(m);t.push(s);t.map[s.getId()]=s}}for(p in r){if(!t.map[p]){r[p].destroy()}}return t},getInteraction:function(k){var i=this.getInteractions(),p=i&&i.length,m=null,n,l;if(p){for(l=0;l<p;++l){n=i[l];if(n.type===k){m=n;break}}}return m},applyStore:function(d){return d&&Ext.StoreManager.lookup(d)},updateStore:function(i,g){var h=this;if(g){g.un({datachanged:"onDataChanged",update:"onDataChanged",scope:h,order:"after"});if(g.autoDestroy){g.destroy()}}if(i){i.on({datachanged:"onDataChanged",update:"onDataChanged",scope:h,order:"after"})}h.fireEvent("storechange",h,i,g);h.onDataChanged()},redraw:function(){this.fireEvent("redraw",this)},performLayout:function(){var h=this,j=h.getChartSize(true),i=[0,0,j.width,j.height],k=h.getBackground();h.hasFirstLayout=true;h.fireEvent("layout",h);h.cancelChartLayout();h.getSurface("background").setRect(i);h.getSurface("chart").setRect(i);k.setAttributes({width:j.width,height:j.height})},getChartSize:function(e){var g=this;if(e){g.chartSize=null}return g.chartSize||(g.chartSize=g.innerElement.getSize())},getEventXY:function(d){return this.getSurface().getEventXY(d)},getItemForPoint:function(n,p){var q=this,v=q.getSeries(),r=q.getMainRect(),s=v.length,u=q.hasFirstLayout?s-1:-1,t,i;if(!(r&&n>=0&&n<=r[2]&&p>=0&&p<=r[3])){return null}for(;u>=0;u--){t=v[u];i=t.getItemForPoint(n,p);if(i){return i}}return null},getItemsForPoint:function(n,p){var q=this,v=q.getSeries(),s=v.length,u=q.hasFirstLayout?s-1:-1,r=[],t,i;for(;u>=0;u--){t=v[u];i=t.getItemForPoint(n,p);if(i){r.push(i)}}return r},onAnimationStart:function(){this.fireEvent("animationstart",this)},onAnimationEnd:function(){this.fireEvent("animationend",this)},onDataChanged:function(){var j=this;if(j.isInitializing){return}var k=j.getMainRect(),m=j.getStore(),l=j.getSeries(),i=j.getAxes();if(!m||!i||!l){return}if(!k){j.on({redraw:j.onDataChanged,scope:j,single:true});return}j.processData();j.redraw()},recordCount:0,processData:function(){var i=this,m=i.getStore().getCount(),p=i.getSeries(),l=p.length,n=false,q=0,r;for(;q<l;q++){r=p[q];r.processData();if(!n&&r.isStoreDependantColorCount){n=true}}if(n&&m>i.recordCount){i.updateColors(i.getColors());i.recordCount=m}},bindStore:function(d){this.setStore(d)},applyHighlightItem:function(j,p){if(j===p){return}if(Ext.isObject(j)&&Ext.isObject(p)){var k=j,l=p,m=k.sprite&&(k.sprite[0]||k.sprite),n=l.sprite&&(l.sprite[0]||l.sprite);if(m===n&&k.index===l.index){return}}return j},updateHighlightItem:function(e,g){if(g){g.series.setAttributesForItem(g,{highlighted:false})}if(e){e.series.setAttributesForItem(e,{highlighted:true});this.fireEvent("itemhighlight",this,e,g)}this.fireEvent("itemhighlightchange",this,e,g)},destroyChart:function(){var n=this,q=n.getLegend(),m=n.getAxes(),r=n.getSeries(),i=n.getInteractions(),s=[],t,p;n.surfaceMap=null;for(t=0,p=i.length;t<p;t++){i[t].destroy()}for(t=0,p=m.length;t<p;t++){m[t].destroy()}for(t=0,p=r.length;t<p;t++){r[t].destroy()}n.setInteractions(s);n.setAxes(s);n.setSeries(s);if(q){q.destroy();n.setLegend(null)}n.legendStore=null;n.setStore(null);n.cancelChartLayout()},getRefItems:function(s){var m=this,p=m.getSeries(),i=m.getAxes(),t=m.getInteractions(),r=[],q,n;for(q=0,n=p.length;q<n;q++){r.push(p[q]);if(p[q].getRefItems){r.push.apply(r,p[q].getRefItems(s))}}for(q=0,n=i.length;q<n;q++){r.push(i[q]);if(i[q].getRefItems){r.push.apply(r,i[q].getRefItems(s))}}for(q=0,n=t.length;q<n;q++){r.push(t[q]);if(t[q].getRefItems){r.push.apply(r,t[q].getRefItems(s))}}return r}},1,0,["component","box","container","panel","draw"],{component:true,box:true,container:true,panel:true,draw:true},0,0,[Ext.chart,"AbstractChart"],0));Ext.define("Ext.chart.overrides.AbstractChart",{override:"Ext.chart.AbstractChart",updateLegend:function(h,i){var g;arguments.callee.$previous.call(this,h,i);if(h){g=h.docked;this.addDocked({dock:g,xtype:"panel",shrinkWrap:true,scrollable:true,layout:{type:g==="top"||g==="bottom"?"hbox":"vbox",pack:"center"},items:h,cls:"x-legend-panel"})}},performLayout:function(){if(this.isVisible(true)){return arguments.callee.$previous.call(this)}this.cancelChartLayout();return false},afterComponentLayout:function(i,k,j,h){(arguments.callee.$previous||Ext.draw.Container.prototype.afterComponentLayout).call(this,i,k,j,h);this.scheduleLayout()},allowSchedule:function(){return this.rendered},onDestroy:function(){this.destroyChart();(arguments.callee.$previous||Ext.draw.Container.prototype.onDestroy).apply(this,arguments)}});(Ext.cmd.derive("Ext.chart.grid.HorizontalGrid",Ext.draw.sprite.Sprite,{inheritableStatics:{def:{processors:{x:"number",y:"number",width:"number",height:"number"},defaults:{x:0,y:0,width:1,height:1,strokeStyle:"#DDD"}}},render:function(n,m,k){var p=this.attr,j=n.roundPixel(p.y),l=m.lineWidth*0.5;m.beginPath();m.rect(k[0]-n.matrix.getDX(),j+l,+k[2],p.height);m.fill();m.beginPath();m.moveTo(k[0]-n.matrix.getDX(),j+l);m.lineTo(k[0]+k[2]-n.matrix.getDX(),j+l);m.stroke()}},0,0,0,0,["grid.horizontal"],0,[Ext.chart.grid,"HorizontalGrid"],0));(Ext.cmd.derive("Ext.chart.grid.VerticalGrid",Ext.draw.sprite.Sprite,{inheritableStatics:{def:{processors:{x:"number",y:"number",width:"number",height:"number"},defaults:{x:0,y:0,width:1,height:1,strokeStyle:"#DDD"}}},render:function(m,l,j){var n=this.attr,p=m.roundPixel(n.x),k=l.lineWidth*0.5;l.beginPath();l.rect(p-k,j[1]-m.matrix.getDY(),n.width,j[3]);l.fill();l.beginPath();l.moveTo(p-k,j[1]-m.matrix.getDY());l.lineTo(p-k,j[1]+j[3]-m.matrix.getDY());l.stroke()}},0,0,0,0,["grid.vertical"],0,[Ext.chart.grid,"VerticalGrid"],0));(Ext.cmd.derive("Ext.chart.CartesianChart",Ext.chart.AbstractChart,{alternateClassName:"Ext.chart.Chart",isCartesian:true,config:{flipXY:false,innerRect:[0,0,1,1],innerPadding:{top:0,left:0,right:0,bottom:0}},applyInnerPadding:function(e,g){if(!Ext.isObject(e)){return Ext.util.Format.parseBox(e)}else{if(!g){return e}else{return Ext.apply(g,e)}}},getDirectionForAxis:function(g){var e=this.getFlipXY();if(g==="left"||g==="right"){if(e){return"X"}else{return"Y"}}else{if(e){return"Y"}else{return"X"}}},performLayout:function(){var K=this;K.animationSuspendCount++;if(Ext.chart.AbstractChart.prototype.performLayout.call(this)===false){--K.animationSuspendCount;return}K.suspendThicknessChanged();var aa=K.getSurface("chart").getRect(),M=aa[2],P=aa[3],N=K.getAxes(),ac,J=K.getSeries(),W,T,ad,Y=K.getInsetPadding(),i=K.getInnerPadding(),I,ab,Z=Ext.apply({},Y),F,L,H,U,R,O,G,Q,X,V=K.getInherited().rtl,S=K.getFlipXY();if(M<=0||P<=0){return}for(Q=0;Q<N.length;Q++){ac=N[Q];T=ac.getSurface();R=ac.getFloating();O=R?R.value:null;ad=ac.getThickness();switch(ac.getPosition()){case"top":T.setRect([0,Z.top+1,M,ad]);break;case"bottom":T.setRect([0,P-(Z.bottom+ad),M,ad]);break;case"left":T.setRect([Z.left,0,ad,P]);break;case"right":T.setRect([M-(Z.right+ad),0,ad,P]);break}if(O===null){Z[ac.getPosition()]+=ad}}M-=Z.left+Z.right;P-=Z.top+Z.bottom;F=[Z.left,Z.top,M,P];Z.left+=i.left;Z.top+=i.top;Z.right+=i.right;Z.bottom+=i.bottom;L=M-i.left-i.right;H=P-i.top-i.bottom;K.setInnerRect([Z.left,Z.top,L,H]);if(L<=0||H<=0){return}K.setMainRect(F);K.getSurface().setRect(F);for(Q=0,X=K.surfaceMap.grid&&K.surfaceMap.grid.length;Q<X;Q++){ab=K.surfaceMap.grid[Q];ab.setRect(F);ab.matrix.set(1,0,0,1,i.left,i.top);ab.matrix.inverse(ab.inverseMatrix)}for(Q=0;Q<N.length;Q++){ac=N[Q];T=ac.getSurface();G=T.matrix;U=G.elements;switch(ac.getPosition()){case"top":case"bottom":U[4]=Z.left;ac.setLength(L);break;case"left":case"right":U[5]=Z.top;ac.setLength(H);break}ac.updateTitleSprite();G.inverse(T.inverseMatrix)}for(Q=0,X=J.length;Q<X;Q++){W=J[Q];I=W.getSurface();I.setRect(F);if(S){if(V){I.matrix.set(0,-1,-1,0,i.left+L,i.top+H)}else{I.matrix.set(0,-1,1,0,i.left,i.top+H)}}else{I.matrix.set(1,0,0,-1,i.left,i.top+H)}I.matrix.inverse(I.inverseMatrix);W.getOverlaySurface().setRect(F)}K.redraw();K.animationSuspendCount--;K.resumeThicknessChanged()},refloatAxes:function(){var A=this,B=A.getAxes(),L=(B&&B.length)||0,F,E,i,C,x,G,y,I=A.getChartSize(),J=A.getInsetPadding(),K=A.getInnerPadding(),H=I.width-J.left-J.right,w=I.height-J.top-J.bottom,z,D;for(D=0;D<L;D++){F=B[D];C=F.getFloating();x=C?C.value:null;if(x===null){delete F.floatingAtCoord;continue}E=F.getSurface();i=E.getRect();if(!i){continue}i=i.slice();G=A.getAxis(C.alongAxis);if(G){z=G.getAlignment()==="horizontal";if(Ext.isString(x)){x=G.getCoordFor(x)}G.floatingAxes[F.getId()]=x;y=G.getSprites()[0].attr.matrix;if(z){x=x*y.getXX()+y.getDX();F.floatingAtCoord=x+K.left+K.right}else{x=x*y.getYY()+y.getDY();F.floatingAtCoord=x+K.top+K.bottom}}else{z=F.getAlignment()==="horizontal";if(z){F.floatingAtCoord=x+K.top+K.bottom}else{F.floatingAtCoord=x+K.left+K.right}x=E.roundPixel(0.01*x*(z?w:H))}switch(F.getPosition()){case"top":i[1]=J.top+K.top+x-i[3]+1;break;case"bottom":i[1]=J.top+K.top+(G?x:w-x);break;case"left":i[0]=J.left+K.left+x-i[2];break;case"right":i[0]=J.left+K.left+(G?x:H-x)-1;break}E.setRect(i)}},redraw:function(){var J=this,K=J.getSeries(),Q=J.getAxes(),ae=J.getMainRect(),O,H,V=J.getInnerPadding(),aa,W,I,ab,M,N,i,Z,ac,ad,af,X,S,R=J.getFlipXY(),U=1000,T,j,Y,P,L;if(!ae){return}O=ae[2]-V.left-V.right;H=ae[3]-V.top-V.bottom;for(N=0;N<K.length;N++){Y=K[N];if((ad=Y.getXAxis())){S=ad.getVisibleRange();W=ad.getRange();W=[W[0]+(W[1]-W[0])*S[0],W[0]+(W[1]-W[0])*S[1]]}else{W=Y.getXRange()}if((af=Y.getYAxis())){S=af.getVisibleRange();I=af.getRange();I=[I[0]+(I[1]-I[0])*S[0],I[0]+(I[1]-I[0])*S[1]]}else{I=Y.getYRange()}M={visibleMinX:W[0],visibleMaxX:W[1],visibleMinY:I[0],visibleMaxY:I[1],innerWidth:O,innerHeight:H,flipXY:R};aa=Y.getSprites();for(i=0,Z=aa.length;i<Z;i++){P=aa[i];T=P.attr.zIndex;if(T<U){T+=(N+1)*100+U;P.attr.zIndex=T;L=P.getMarker("items");if(L){j=L.attr.zIndex;if(j===Number.MAX_VALUE){L.attr.zIndex=T}else{if(j<U){L.attr.zIndex=T+j}}}}P.setAttributes(M,true)}}for(N=0;N<Q.length;N++){ac=Q[N];ab=ac.isSide();aa=ac.getSprites();X=ac.getRange();S=ac.getVisibleRange();M={dataMin:X[0],dataMax:X[1],visibleMin:S[0],visibleMax:S[1]};if(ab){M.length=H;M.startGap=V.bottom;M.endGap=V.top}else{M.length=O;M.startGap=V.left;M.endGap=V.right}for(i=0,Z=aa.length;i<Z;i++){aa[i].setAttributes(M,true)}}J.renderFrame();Ext.chart.AbstractChart.prototype.redraw.apply(this,arguments)},renderFrame:function(){this.refloatAxes();Ext.chart.AbstractChart.prototype.renderFrame.call(this)}},0,["chart","cartesian"],["component","box","container","panel","draw","cartesian","chart"],{component:true,box:true,container:true,panel:true,draw:true,cartesian:true,chart:true},["widget.cartesian","widget.chart"],0,[Ext.chart,"CartesianChart",Ext.chart,"Chart"],0));(Ext.cmd.derive("Ext.chart.grid.CircularGrid",Ext.draw.sprite.Circle,{inheritableStatics:{def:{defaults:{r:1,strokeStyle:"#DDD"}}}},0,0,0,0,["grid.circular"],0,[Ext.chart.grid,"CircularGrid"],0));(Ext.cmd.derive("Ext.chart.grid.RadialGrid",Ext.draw.sprite.Path,{inheritableStatics:{def:{processors:{startRadius:"number",endRadius:"number"},defaults:{startRadius:0,endRadius:1,scalingCenterX:0,scalingCenterY:0,strokeStyle:"#DDD"},triggers:{startRadius:"path,bbox",endRadius:"path,bbox"}}},render:function(){Ext.draw.sprite.Path.prototype.render.apply(this,arguments)},updatePath:function(h,k){var j=k.startRadius,i=k.endRadius;h.moveTo(j,0);h.lineTo(i,0)}},0,0,0,0,["grid.radial"],0,[Ext.chart.grid,"RadialGrid"],0));(Ext.cmd.derive("Ext.chart.PolarChart",Ext.chart.AbstractChart,{isPolar:true,config:{center:[0,0],radius:0,innerPadding:0},getDirectionForAxis:function(d){return d==="radial"?"Y":"X"},applyCenter:function(g,e){if(e&&g[0]===e[0]&&g[1]===e[1]){return}return[+g[0],+g[1]]},updateCenter:function(t){var m=this,i=m.getAxes(),q=m.getSeries(),r,n,p,s;for(r=0,n=i.length;r<n;r++){p=i[r];p.setCenter(t)}for(r=0,n=q.length;r<n;r++){s=q[r];s.setCenter(t)}},applyInnerPadding:function(e,g){return Ext.isNumber(e)?e:g},doSetSurfaceRect:function(h,g){var i=this.getMainRect();h.setRect(g);h.matrix.set(1,0,0,1,i[0]-g[0],i[1]-g[1]);h.inverseMatrix.set(1,0,0,1,g[0]-i[0],g[1]-i[1])},applyAxes:function(n,i){var p=this,m=Ext.Array.from(p.config.series)[0],s,q,r,t;if(m.type==="radar"&&n&&n.length){for(s=0,q=n.length;s<q;s++){r=n[s];if(r.position==="angular"){t=true;break}}if(!t){n.push({type:"category",position:"angular",fields:m.xField||m.angleField,style:{estStepSize:1},grid:true})}}return Ext.chart.AbstractChart.prototype.applyAxes.apply(this,arguments)},performLayout:function(){var L=this,ai=true;try{L.animationSuspendCount++;if(Ext.chart.AbstractChart.prototype.performLayout.call(this)===false){ai=false;return}L.suspendThicknessChanged();var ah=L.getSurface("chart").getRect(),i=L.getInsetPadding(),e=L.getInnerPadding(),ae=Ext.apply({},i),ak,Q=ah[2]-i.left-i.right,S=ah[3]-i.top-i.bottom,ac=[i.left,i.top,Q,S],M=L.getSeries(),W,O=Q-e*2,ad=S-e*2,P=[O*0.5+e,ad*0.5+e],ag=Math.min(O,ad)*0.5,V=L.getAxes(),aj,an,af,ab=[],Y=[],N=ag-e,X,aa,am,U,Z,al,R;L.setMainRect(ac);L.doSetSurfaceRect(L.getSurface(),ac);for(X=0,aa=L.surfaceMap.grid&&L.surfaceMap.grid.length;X<aa;X++){L.doSetSurfaceRect(L.surfaceMap.grid[X],ah)}for(X=0,aa=V.length;X<aa;X++){aj=V[X];switch(aj.getPosition()){case"angular":ab.push(aj);break;case"radial":Y.push(aj);break}}for(X=0,aa=ab.length;X<aa;X++){aj=ab[X];U=aj.getFloating();Z=U?U.value:null;L.doSetSurfaceRect(aj.getSurface(),ah);an=aj.getThickness();for(ak in ae){ae[ak]+=an}Q=ah[2]-ae.left-ae.right;S=ah[3]-ae.top-ae.bottom;am=Math.min(Q,S)*0.5;if(X===0){N=am-e}aj.setMinimum(0);aj.setLength(am);aj.getSprites();af=aj.sprites[0].attr.lineWidth*0.5;for(ak in ae){ae[ak]+=af}}for(X=0,aa=Y.length;X<aa;X++){aj=Y[X];L.doSetSurfaceRect(aj.getSurface(),ah);aj.setMinimum(0);aj.setLength(N);aj.getSprites()}for(X=0,aa=M.length;X<aa;X++){W=M[X];if(W.type==="gauge"&&!al){al=W}else{W.setRadius(N)}L.doSetSurfaceRect(W.getSurface(),ac)}L.doSetSurfaceRect(L.getSurface("overlay"),ah);if(al){al.setRect(ac);R=al.getRadius()-e;L.setRadius(R);L.setCenter(al.getCenter());al.setRadius(R);if(V.length&&V[0].getPosition()==="gauge"){aj=V[0];L.doSetSurfaceRect(aj.getSurface(),ah);aj.setTotalAngle(al.getTotalAngle());aj.setLength(R)}}else{L.setRadius(ag);L.setCenter(P)}L.redraw()}catch(T){throw T}finally{L.animationSuspendCount--;if(ai){L.resumeThicknessChanged()}}},refloatAxes:function(){var n=this,r=n.getAxes(),q=n.getMainRect(),s,i,w,u,x,v,t;if(!q){return}t=0.5*Math.min(q[2],q[3]);for(u=0,x=r.length;u<x;u++){v=r[u];s=v.getFloating();i=s?s.value:null;if(i!==null){w=n.getAxis(s.alongAxis);if(v.getPosition()==="angular"){if(w){i=w.getLength()*i/w.getRange()[1]}else{i=0.01*i*t}v.sprites[0].setAttributes({length:i},true)}else{if(w){if(Ext.isString(i)){i=w.getCoordFor(i)}i=i/(w.getRange()[1]+1)*Math.PI*2-Math.PI*1.5+v.getRotation()}else{i=Ext.draw.Draw.rad(i)}v.sprites[0].setAttributes({baseRotation:i},true)}}}},redraw:function(){var l=this,i=l.getAxes(),n,p=l.getSeries(),q,r,m;for(r=0,m=i.length;r<m;r++){n=i[r];n.getSprites()}for(r=0,m=p.length;r<m;r++){q=p[r];q.getSprites()}l.renderFrame();Ext.chart.AbstractChart.prototype.redraw.apply(this,arguments)},renderFrame:function(){this.refloatAxes();Ext.chart.AbstractChart.prototype.renderFrame.call(this)}},0,["polar"],["component","box","container","panel","draw","polar"],{component:true,box:true,container:true,panel:true,draw:true,polar:true},["widget.polar"],0,[Ext.chart,"PolarChart"],0));(Ext.cmd.derive("Ext.chart.SpaceFillingChart",Ext.chart.AbstractChart,{config:{},performLayout:function(){var s=this;try{s.animationSuspendCount++;if(Ext.chart.AbstractChart.prototype.performLayout.call(this)===false){return}var r=s.getSurface("chart").getRect(),i=s.getInsetPadding(),z=r[2]-i.left-i.right,e=r[3]-i.top-i.bottom,t=[i.left,i.top,z,e],y=s.getSeries(),w,x,u;s.getSurface().setRect(t);s.setMainRect(t);for(x=0,u=y.length;x<u;x++){w=y[x];w.getSurface().setRect(t);if(w.setRect){w.setRect(t)}w.getOverlaySurface().setRect(r)}s.redraw()}catch(v){throw v}finally{s.animationSuspendCount--}},redraw:function(){var i=this,k=i.getSeries(),l,m,j;for(m=0,j=k.length;m<j;m++){l=k[m];l.getSprites()}i.renderFrame();Ext.chart.AbstractChart.prototype.redraw.apply(this,arguments)}},0,["spacefilling"],["component","box","container","panel","draw","spacefilling"],{component:true,box:true,container:true,panel:true,draw:true,spacefilling:true},["widget.spacefilling"],0,[Ext.chart,"SpaceFillingChart"],0));(Ext.cmd.derive("Ext.chart.axis.sprite.Axis3D",Ext.chart.axis.sprite.Axis,{type:"axis3d",inheritableStatics:{def:{processors:{depth:"number"},defaults:{depth:0},triggers:{depth:"layout"}}},config:{fx:{customDurations:{depth:0}}},layoutUpdater:function(){var n=this,q=n.getAxis().getChart();if(q.isInitializing){return}var r=n.attr,s=n.getLayout(),t=s.isDiscrete?0:r.depth,p=q.getInherited().rtl,u=r.dataMin+(r.dataMax-r.dataMin)*r.visibleMin,m=r.dataMin+(r.dataMax-r.dataMin)*r.visibleMax,v={attr:r,segmenter:n.getSegmenter(),renderer:n.defaultRenderer};if(r.position==="left"||r.position==="right"){r.translationX=0;r.translationY=m*(r.length-t)/(m-u)+t;r.scalingX=1;r.scalingY=(-r.length+t)/(m-u);r.scalingCenterY=0;r.scalingCenterX=0;n.applyTransformations(true)}else{if(r.position==="top"||r.position==="bottom"){if(p){r.translationX=r.length+u*r.length/(m-u)+1}else{r.translationX=-u*r.length/(m-u)}r.translationY=0;r.scalingX=(p?-1:1)*(r.length-t)/(m-u);r.scalingY=1;r.scalingCenterY=0;r.scalingCenterX=0;n.applyTransformations(true)}}if(s){s.calculateLayout(v);n.setLayoutContext(v)}},renderAxisLine:function(z,q,u,x){var r=this,s=r.attr,y=s.lineWidth*0.5,u=r.getLayout(),w=u.isDiscrete?0:s.depth,p=s.position,v,t;if(s.axisLine&&s.length){switch(p){case"left":v=z.roundPixel(x[2])-y;q.moveTo(v,-s.endGap+w);q.lineTo(v,s.length+s.startGap);break;case"right":q.moveTo(y,-s.endGap);q.lineTo(y,s.length+s.startGap);break;case"bottom":q.moveTo(-s.startGap,y);q.lineTo(s.length-w+s.endGap,y);break;case"top":v=z.roundPixel(x[3])-y;q.moveTo(-s.startGap,v);q.lineTo(s.length+s.endGap,v);break;case"angular":q.moveTo(s.centerX+s.length,s.centerY);q.arc(s.centerX,s.centerY,s.length,0,Math.PI*2,true);break;case"gauge":t=r.getGaugeAngles();q.moveTo(s.centerX+Math.cos(t.start)*s.length,s.centerY+Math.sin(t.start)*s.length);q.arc(s.centerX,s.centerY,s.length,t.start,t.end,true);break}}}},0,0,0,0,["sprite.axis3d"],0,[Ext.chart.axis.sprite,"Axis3D"],0));(Ext.cmd.derive("Ext.chart.axis.Axis3D",Ext.chart.axis.Axis,{config:{depth:0},onSeriesChange:function(m){var i=this,q="depthchange",l="onSeriesDepthChange",n,p;function r(d){var c=i.boundSeries;for(n=0;n<c.length;n++){p=c[n];p[d](q,l,i)}}r("un");Ext.chart.axis.Axis.prototype.onSeriesChange.apply(this,arguments);r("on")},onSeriesDepthChange:function(q,l){var n=this,i=l,m=n.boundSeries,r,p;if(l>n.getDepth()){i=l}else{for(r=0;r<m.length;r++){p=m[r];if(p!==q&&p.getDepth){l=p.getDepth();if(l>i){i=l}}}}n.setDepth(i)},updateDepth:function(h){var j=this,i=j.getSprites(),k={depth:h};if(i&&i.length){i[0].setAttributes(k)}if(j.gridSpriteEven&&j.gridSpriteOdd){j.gridSpriteEven.getTemplate().setAttributes(k);j.gridSpriteOdd.getTemplate().setAttributes(k)}},getGridAlignment:function(){switch(this.getPosition()){case"left":case"right":return"horizontal3d";case"top":case"bottom":return"vertical3d"}}},0,["axis3d"],["axis","axis3d"],{axis:true,axis3d:true},["widget.axis3d"],0,[Ext.chart.axis,"Axis3D"],0));(Ext.cmd.derive("Ext.chart.axis.Category",Ext.chart.axis.Axis,{type:"category",config:{layout:"combineDuplicate",segmenter:"names"}},0,0,["axis"],{axis:true},["axis.category"],0,[Ext.chart.axis,"Category"],0));(Ext.cmd.derive("Ext.chart.axis.Category3D",Ext.chart.axis.Axis3D,{type:"category3d",config:{layout:"combineDuplicate",segmenter:"names"}},0,0,["axis","axis3d"],{axis:true,axis3d:true},["axis.category3d"],0,[Ext.chart.axis,"Category3D"],0));(Ext.cmd.derive("Ext.chart.axis.Numeric",Ext.chart.axis.Axis,{type:"numeric",config:{layout:"continuous",segmenter:"numeric",aggregator:"double"}},0,0,["axis"],{axis:true},["axis.numeric","axis.radial"],0,[Ext.chart.axis,"Numeric"],0));(Ext.cmd.derive("Ext.chart.axis.Numeric3D",Ext.chart.axis.Axis3D,{type:"numeric3d",config:{layout:"continuous",segmenter:"numeric",aggregator:"double"}},0,0,["axis","axis3d"],{axis:true,axis3d:true},["axis.numeric3d"],0,[Ext.chart.axis,"Numeric3D"],0));(Ext.cmd.derive("Ext.chart.axis.Time",Ext.chart.axis.Numeric,{type:"time",config:{calculateByLabelSize:true,dateFormat:null,fromDate:null,toDate:null,step:[Ext.Date.DAY,1],layout:"continuous",segmenter:"time",aggregator:"time"},updateDateFormat:function(d){this.setRenderer(function(c,g){return Ext.Date.format(new Date(g),d)})},updateFromDate:function(d){this.setMinimum(+d)},updateToDate:function(d){this.setMaximum(+d)},getCoordFor:function(d){if(Ext.isString(d)){d=new Date(d)}return +d}},0,0,["axis"],{axis:true},["axis.time"],0,[Ext.chart.axis,"Time"],0));(Ext.cmd.derive("Ext.chart.axis.Time3D",Ext.chart.axis.Numeric3D,{type:"time3d",config:{calculateByLabelSize:true,dateFormat:null,fromDate:null,toDate:null,step:[Ext.Date.DAY,1],layout:"continuous",segmenter:"time",aggregator:"time"},updateDateFormat:function(d){this.setRenderer(function(c,g){return Ext.Date.format(new Date(g),d)})},updateFromDate:function(d){this.setMinimum(+d)},updateToDate:function(d){this.setMaximum(+d)},getCoordFor:function(d){if(Ext.isString(d)){d=new Date(d)}return +d}},0,0,["axis","axis3d"],{axis:true,axis3d:true},["axis.time3d"],0,[Ext.chart.axis,"Time3D"],0));(Ext.cmd.derive("Ext.chart.grid.HorizontalGrid3D",Ext.chart.grid.HorizontalGrid,{inheritableStatics:{def:{processors:{depth:"number"},defaults:{depth:0}}},render:function(B,r,y){var w=this.attr,t=B.roundPixel(w.x),u=B.roundPixel(w.y),q=B.matrix.getDX(),z=r.lineWidth*0.5,s=w.height,x=w.depth,A,v;if(u<=y[1]){return}A=y[0]+x-q;v=u+z-x;r.beginPath();r.rect(A,v,y[2],s);r.fill();r.beginPath();r.moveTo(A,v);r.lineTo(A+y[2],v);r.stroke();A=y[0]+t-q;v=u+z;r.beginPath();r.moveTo(A,v);r.lineTo(A+x,v-x);r.lineTo(A+x,v-x+s);r.lineTo(A,v+s);r.closePath();r.fill();r.beginPath();r.moveTo(A,v);r.lineTo(A+x,v-x);r.stroke()}},0,0,0,0,["grid.horizontal3d"],0,[Ext.chart.grid,"HorizontalGrid3D"],0));(Ext.cmd.derive("Ext.chart.grid.VerticalGrid3D",Ext.chart.grid.VerticalGrid,{inheritableStatics:{def:{processors:{depth:"number"},defaults:{depth:0}}},render_:function(m,l,j){var n=this.attr,p=m.roundPixel(n.x),k=l.lineWidth*0.5;l.beginPath();l.rect(p-k,j[1]-m.matrix.getDY(),n.width,j[3]);l.fill();l.beginPath();l.moveTo(p-k,j[1]-m.matrix.getDY());l.lineTo(p-k,j[1]+j[3]-m.matrix.getDY());l.stroke()},render:function(y,q,v){var t=this.attr,r=y.roundPixel(t.x),p=y.matrix.getDY(),w=q.lineWidth*0.5,z=t.width,u=t.depth,x,s;if(r>=v[2]){return}x=r-w+u;s=v[1]-u-p;q.beginPath();q.rect(x,s,z,v[3]);q.fill();q.beginPath();q.moveTo(x,s);q.lineTo(x,s+v[3]);q.stroke();x=r-w;s=v[3];q.beginPath();q.moveTo(x,s);q.lineTo(x+u,s-u);q.lineTo(x+u+z,s-u);q.lineTo(x+z,s);q.closePath();q.fill();x=r-w;s=v[3];q.beginPath();q.moveTo(x,s);q.lineTo(x+u,s-u);q.stroke()}},0,0,0,0,["grid.vertical3d"],0,[Ext.chart.grid,"VerticalGrid3D"],0));(Ext.cmd.derive("Ext.chart.interactions.CrossZoom",Ext.chart.interactions.Abstract,{type:"crosszoom",isCrossZoom:true,config:{axes:true,gestures:{dragstart:"onGestureStart",drag:"onGesture",dragend:"onGestureEnd",dblclick:"onDoubleTap"},undoButton:{}},stopAnimationBeforeSync:false,zoomAnimationInProgress:false,constructor:function(){Ext.chart.interactions.Abstract.prototype.constructor.apply(this,arguments);this.zoomHistory=[]},applyAxes:function(e){var g={};if(e===true){return{top:{},right:{},bottom:{},left:{}}}else{if(Ext.isArray(e)){g={};Ext.each(e,function(c){g[c]={}})}else{if(Ext.isObject(e)){Ext.iterate(e,function(d,c){if(c===true){g[d]={}}else{if(c!==false){g[d]=c}}})}}}return g},applyUndoButton:function(h,i){var g=this;if(i){i.destroy()}if(h){return Ext.create("Ext.Button",Ext.apply({cls:[],text:"Undo Zoom",disabled:true,handler:function(){g.undoZoom()}},h))}},getSurface:function(){return this.getChart()&&this.getChart().getSurface("main")},setSeriesOpacity:function(e){var g=this.getChart()&&this.getChart().getSurface("series");if(g){g.element.setStyle("opacity",e)}},onGestureStart:function(x){var v=this,w=v.getChart(),A=v.getSurface(),t=w.getInnerRect(),B=w.getInnerPadding(),y=B.left,C=y+t[2],z=B.top,D=z+t[3],e=w.getEventXY(x),s=e[0],u=e[1];if(v.zoomAnimationInProgress){return}if(s>y&&s<C&&u>z&&u<D){v.gestureEvent="drag";v.lockEvents(v.gestureEvent);v.startX=s;v.startY=u;v.selectionRect=A.add({type:"rect",globalAlpha:0.5,fillStyle:"rgba(80,80,140,0.5)",strokeStyle:"rgba(80,80,140,1)",lineWidth:2,x:s,y:u,width:0,height:0,zIndex:10000});v.setSeriesOpacity(0.8);return false}},onGesture:function(x){var v=this;if(v.zoomAnimationInProgress){return}if(v.getLocks()[v.gestureEvent]===v){var w=v.getChart(),A=v.getSurface(),t=w.getInnerRect(),B=w.getInnerPadding(),y=B.left,C=y+t[2],z=B.top,D=z+t[3],e=w.getEventXY(x),s=e[0],u=e[1];if(s<y){s=y}else{if(s>C){s=C}}if(u<z){u=z}else{if(u>D){u=D}}v.selectionRect.setAttributes({width:s-v.startX,height:u-v.startY});if(Math.abs(v.startX-s)<11||Math.abs(v.startY-u)<11){v.selectionRect.setAttributes({globalAlpha:0.5})}else{v.selectionRect.setAttributes({globalAlpha:1})}A.renderFrame();return false}},onGestureEnd:function(y){var v=this;if(v.zoomAnimationInProgress){return}if(v.getLocks()[v.gestureEvent]===v){var w=v.getChart(),C=v.getSurface(),e=w.getInnerRect(),D=w.getInnerPadding(),A=D.left,E=A+e[2],B=D.top,F=B+e[3],z=e[2],x=e[3],G=w.getEventXY(y),H=G[0],u=G[1];if(H<A){H=A}else{if(H>E){H=E}}if(u<B){u=B}else{if(u>F){u=F}}if(Math.abs(v.startX-H)<11||Math.abs(v.startY-u)<11){C.remove(v.selectionRect)}else{v.zoomBy([Math.min(v.startX,H)/z,1-Math.max(v.startY,u)/x,Math.max(v.startX,H)/z,1-Math.min(v.startY,u)/x]);v.selectionRect.setAttributes({x:Math.min(v.startX,H),y:Math.min(v.startY,u),width:Math.abs(v.startX-H),height:Math.abs(v.startY-u)});v.selectionRect.setAnimation(w.getAnimation()||{duration:0});v.selectionRect.setAttributes({globalAlpha:0,x:0,y:0,width:z,height:x});v.zoomAnimationInProgress=true;w.suspendThicknessChanged();v.selectionRect.fx.on("animationend",function(){w.resumeThicknessChanged();C.remove(v.selectionRect);v.selectionRect=null;v.zoomAnimationInProgress=false})}C.renderFrame();v.sync();v.unlockEvents(v.gestureEvent);v.setSeriesOpacity(1);if(!v.zoomAnimationInProgress){C.remove(v.selectionRect);v.selectionRect=null}}},zoomBy:function(F){var i=this,E=i.getAxes(),v=i.getChart(),w=v.getAxes(),u=v.getInherited().rtl,z,B={},C,D;if(u){F=F.slice();C=1-F[0];D=1-F[2];F[0]=Math.min(C,D);F[2]=Math.max(C,D)}for(var x=0;x<w.length;x++){var y=w[x];z=E[y.getPosition()];if(z&&z.allowZoom!==false){var A=y.isSide(),t=y.getVisibleRange();B[y.getId()]=t.slice(0);if(!A){y.setVisibleRange([(t[1]-t[0])*F[0]+t[0],(t[1]-t[0])*F[2]+t[0]])}else{y.setVisibleRange([(t[1]-t[0])*F[1]+t[0],(t[1]-t[0])*F[3]+t[0]])}}}i.zoomHistory.push(B);i.getUndoButton().setDisabled(false)},undoZoom:function(){var i=this.zoomHistory.pop(),h=this.getChart().getAxes();if(i){for(var k=0;k<h.length;k++){var j=h[k];if(i[j.getId()]){j.setVisibleRange(i[j.getId()])}}}this.getUndoButton().setDisabled(this.zoomHistory.length===0);this.sync()},onDoubleTap:function(d){this.undoZoom()},destroy:function(){this.setUndoButton(null);Ext.chart.interactions.Abstract.prototype.destroy.apply(this,arguments)}},1,0,["interaction"],{interaction:true},["interaction.crosszoom"],0,[Ext.chart.interactions,"CrossZoom"],0));(Ext.cmd.derive("Ext.chart.interactions.Crosshair",Ext.chart.interactions.Abstract,{type:"crosshair",config:{axes:{top:{label:{},rect:{}},right:{label:{},rect:{}},bottom:{label:{},rect:{}},left:{label:{},rect:{}}},lines:{horizontal:{strokeStyle:"black",lineDash:[5,5]},vertical:{strokeStyle:"black",lineDash:[5,5]}},gesture:"drag"},applyAxes:function(e,g){return Ext.merge(g||{},e)},applyLines:function(g,e){return Ext.merge(e||{},g)},updateChart:function(d){if(d&&!d.isCartesian){Ext.raise("Crosshair interaction can only be used on cartesian charts.")}Ext.chart.interactions.Abstract.prototype.updateChart.apply(this,arguments)},getGestures:function(){var g=this,e={};e[g.getGesture()]="onGesture";e[g.getGesture()+"start"]="onGestureStart";e[g.getGesture()+"end"]="onGestureEnd";return e},onGestureStart:function(i){var ap=this,e=ap.getChart(),ac=e.getTheme().getAxis(),ad,Y=e.getSurface("overlay"),aj=e.getInnerRect(),ao=aj[2],x=aj[3],ak=e.getEventXY(i),aa=ak[0],ab=ak[1],Z=e.getAxes(),ah=ap.getAxes(),au=ap.getLines(),al,ag,az,ax,ar,ae,X,y,U,an,V,af,aq,aw,am,at,ai,aA,av,W,ay,T;if(aa>0&&aa<ao&&ab>0&&ab<x){ap.lockEvents(ap.getGesture());W=Ext.apply({xclass:"Ext.chart.grid.HorizontalGrid",x:0,y:ab,width:ao},au.horizontal);ay=Ext.apply({xclass:"Ext.chart.grid.VerticalGrid",x:aa,y:0,height:x},au.vertical);ap.axesLabels=ap.axesLabels||{};for(T=0;T<Z.length;T++){al=Z[T];ag=al.getSurface();az=ag.getRect();af=al.getSprites()[0];ax=az[2];ar=az[3];ae=al.getPosition();X=al.getAlignment();ai=al.getTitle();aA=ai&&ai.attr.text!==""&&ai.getBBox();aq=af.attr;aw=af.thickness;am=aq.axisLine?aq.lineWidth:0;at=am/2;V=Math.max(aq.majorTickSize,aq.minorTickSize)+am;y=ap.axesLabels[ae]=ag.add({type:"composite"});y.labelRect=y.add(Ext.apply({type:"rect",fillStyle:"white",x:ae==="right"?am:0,y:ae==="bottom"?am:0,width:ax-am-(X==="vertical"&&aA?aA.width:0),height:ar-am-(X==="horizontal"&&aA?aA.height:0),translationX:ae==="left"&&aA?aA.width:0,translationY:ae==="top"&&aA?aA.height:0},ah.rect||ah[ae].rect));if(X==="vertical"&&!ay.strokeStyle){ay.strokeStyle=aq.strokeStyle}if(X==="horizontal"&&!W.strokeStyle){W.strokeStyle=aq.strokeStyle}ad=Ext.merge({},ac.defaults,ac[ae]);U=Ext.apply({},al.config.label,ad.label);an=ah.label||ah[ae].label;y.labelText=y.add(Ext.apply(U,an,{type:"text",x:(function(){switch(ae){case"left":av=aA?aA.x+aA.width:0;return av+(ax-av-V)/2-at;case"right":av=aA?ax-aA.x:0;return V+(ax-V-av)/2+at;default:return 0}})(),y:(function(){switch(ae){case"top":av=aA?aA.y+aA.height:0;return av+(ar-av-V)/2-at;case"bottom":av=aA?ar-aA.y:0;return V+(ar-V-av)/2+at;default:return 0}})()}))}ap.horizontalLine=Y.add(W);ap.verticalLine=Y.add(ay);return false}},onGesture:function(P){var e=this;if(e.getLocks()[e.getGesture()]!==e){return}var ai=e.getChart(),ac=ai.getSurface("overlay"),ar=Ext.Array.slice(ai.getInnerRect()),W=ai.getInnerPadding(),Q=W.left,Y=W.top,S=ar[2],an=ar[3],ao=ai.getEventXY(P),aj=ao[0],ak=ao[1],U=ai.getAxes(),ap,al,ag,aa,i,ae,x,y,T,aq,V,am,af,ad,ah,Z,R,ab,X;if(aj<0){aj=0}else{if(aj>S){aj=S}}if(ak<0){ak=0}else{if(ak>an){ak=an}}aj+=Q;ak+=Y;for(X=0;X<U.length;X++){ap=U[X];al=ap.getPosition();ag=ap.getAlignment();aa=ap.getSurface();i=ap.getSprites()[0];ae=i.attr.matrix;V=i.attr.textPadding*2;T=e.axesLabels[al];x=i.getLayoutContext();y=ap.getSegmenter();if(T){if(ag==="vertical"){af=ae.getYY();ah=ae.getDY();R=(ak-ah-Y)/af;if(ap.getLayout() instanceof Ext.chart.axis.layout.Discrete){ak=Math.round(R)*af+ah+Y;R=y.from(Math.round(R));R=i.attr.data[R]}else{R=y.from(R)}ab=y.renderer(R,x);T.setAttributes({translationY:ak-Y});T.labelText.setAttributes({text:ab});aq=T.labelText.getBBox();T.labelRect.setAttributes({height:aq.height+V,y:-(aq.height+V)/2});aa.renderFrame()}else{am=ae.getXX();ad=ae.getDX();Z=(aj-ad-Q)/am;if(ap.getLayout() instanceof Ext.chart.axis.layout.Discrete){aj=Math.round(Z)*am+ad+Q;Z=y.from(Math.round(Z));Z=i.attr.data[Z]}else{Z=y.from(Z)}ab=y.renderer(Z,x);T.setAttributes({translationX:aj-Q});T.labelText.setAttributes({text:ab});aq=T.labelText.getBBox();T.labelRect.setAttributes({width:aq.width+V,x:-(aq.width+V)/2});aa.renderFrame()}}}e.horizontalLine.setAttributes({y:ak,strokeStyle:i.attr.strokeStyle});e.verticalLine.setAttributes({x:aj,strokeStyle:i.attr.strokeStyle});ac.renderFrame();return false},onGestureEnd:function(r){var e=this,i=e.getChart(),x=i.getSurface("overlay"),q=i.getAxes(),v,s,u,w,t;x.remove(e.verticalLine);x.remove(e.horizontalLine);for(t=0;t<q.length;t++){v=q[t];s=v.getPosition();u=v.getSurface();w=e.axesLabels[s];if(w){delete e.axesLabels[s];u.remove(w)}u.renderFrame()}x.renderFrame();e.unlockEvents(e.getGesture())}},0,0,["interaction"],{interaction:true},["interaction.crosshair"],0,[Ext.chart.interactions,"Crosshair"],0));(Ext.cmd.derive("Ext.chart.interactions.ItemHighlight",Ext.chart.interactions.Abstract,{type:"itemhighlight",isItemHighlight:true,config:{gestures:{tap:"onTapGesture",mousemove:"onMouseMoveGesture",mousedown:"onMouseDownGesture",mouseup:"onMouseUpGesture",mouseleave:"onMouseUpGesture"},sticky:false},stickyHighlightItem:null,onMouseMoveGesture:function(l){var n=this,e=n.tipItem,r=l.pointerType==="mouse",p,m,q;if(n.getSticky()){return true}if(n.isDragging){if(e&&r){e.series.hideTooltip(e);n.tipItem=null}}else{if(!n.stickyHighlightItem){p=n.getItemForEvent(l);q=n.getChart();if(p!==q.getHighlightItem()){n.highlight(p);n.sync()}if(r){if(e&&(!p||e.field!==p.field||e.record!==p.record)){e.series.hideTooltip(e);n.tipItem=e=null}if(p&&(m=p.series.getTooltip())){if(m.trackMouse||!e){p.series.showTooltip(p,l.getXY())}n.tipItem=p}}return false}}},highlight:function(d){this.getChart().setHighlightItem(d)},showTooltip:function(e,g){g.series.showTooltip(g,e.getXY());this.tipItem=g},onMouseDownGesture:function(){this.isDragging=true},onMouseUpGesture:function(){this.isDragging=false},onTapGesture:function(e){var h=this;if(e.pointerType==="mouse"&&!h.getSticky()){return}var i=h.getItemForEvent(e);if(h.stickyHighlightItem&&i&&(h.stickyHighlightItem.index===i.index)){i=null}h.stickyHighlightItem=i;h.highlight(i)}},0,0,["interaction"],{interaction:true},["interaction.itemhighlight"],0,[Ext.chart.interactions,"ItemHighlight"],0));(Ext.cmd.derive("Ext.chart.interactions.ItemEdit",Ext.chart.interactions.ItemHighlight,{type:"itemedit",isItemEdit:true,config:{style:null,renderer:null,tooltip:true,gestures:{dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd"},cursors:{ewResize:"ew-resize",nsResize:"ns-resize",move:"move"}},item:null,applyTooltip:function(e){if(e){var g=Ext.apply({},e,{renderer:this.defaultTooltipRenderer,constrainPosition:true,shrinkWrapDock:true,autoHide:true,offsetX:10,offsetY:10});e=new Ext.tip.ToolTip(g)}return e},defaultTooltipRenderer:function(l,m,e,j){var k=[];if(e.xField){k.push(e.xField+": "+e.xValue)}if(e.yField){k.push(e.yField+": "+e.yValue)}l.setHtml(k.join("<br>"))},onDragStart:function(e){var i=this,k=i.getChart(),j=k.getHighlightItem();if(j){k.fireEvent("beginitemedit",k,i,i.item=j);return false}},onDrag:function(e){var j=this,l=j.getChart(),k=l.getHighlightItem(),m=k&&k.sprite.type;if(k){switch(m){case"barSeries":return j.onDragBar(e);break;case"scatterSeries":return j.onDragScatter(e);break}}},highlight:function(l){var m=this,n=m.getChart(),r=n.getFlipXY(),k=m.getCursors(),p=l&&l.sprite.type,q=n.el.dom.style;Ext.chart.interactions.ItemHighlight.prototype.highlight.call(this,l);if(l){switch(p){case"barSeries":if(r){q.cursor=k.ewResize}else{q.cursor=k.nsResize}break;case"scatterSeries":q.cursor=k.move;break}}else{n.el.dom.style.cursor="default"}},onDragBar:function(A){var w=this,y=w.getChart(),x=y.getInherited().rtl,D=y.isCartesian&&y.getFlipXY(),J=y.getHighlightItem(),C=J.sprite.getMarker("items"),K=C.getMarkerFor(J.sprite.getId(),J.index),G=J.sprite.getSurface(),F=G.getRect(),I=G.getEventXY(A),L=J.sprite.attr.matrix,z=w.getRenderer(),H,e,E,B;if(D){B=x?F[2]-I[0]:I[0]}else{B=F[3]-I[1]}H={x:K.x,y:B,width:K.width,height:K.height+(K.y-B),radius:K.radius,fillStyle:"none",lineDash:[4,4],zIndex:100};Ext.apply(H,w.getStyle());if(Ext.isArray(J.series.getYField())){B=B-K.y-K.height}w.target={index:J.index,yField:J.field,yValue:(B-L.getDY())/L.getYY()};E=[y,{target:w.target,style:H,item:J}];e=Ext.callback(z,null,E,0,y);if(e){Ext.apply(H,e)}J.sprite.putMarker("items",H,"itemedit");w.showTooltip(A,w.target,J);G.renderFrame()},onDragScatter:function(F){var z=this,M=z.getChart(),O=M.getInherited().rtl,H=M.isCartesian&&M.getFlipXY(),E=M.getHighlightItem(),Q=E.sprite.getMarker("items"),D=Q.getMarkerFor(E.sprite.getId(),E.index),J=E.sprite.getSurface(),L=J.getRect(),R=J.getEventXY(F),I=E.sprite.attr.matrix,P=E.series.getXAxis(),N=P&&P.getLayout().isContinuous,K=z.getRenderer(),G,e,C,A,B;if(H){B=O?L[2]-R[0]:R[0]}else{B=L[3]-R[1]}if(N){if(H){A=L[3]-R[1]}else{A=R[0]}}else{A=D.translationX}G={translationX:A,translationY:B,scalingX:D.scalingX,scalingY:D.scalingY,r:D.r,fillStyle:"none",lineDash:[4,4],zIndex:100};Ext.apply(G,z.getStyle());z.target={index:E.index,yField:E.field,yValue:(B-I.getDY())/I.getYY()};if(N){Ext.apply(z.target,{xField:E.series.getXField(),xValue:(A-I.getDX())/I.getXX()})}C=[M,{target:z.target,style:G,item:E}];e=Ext.callback(K,null,C,0,M);if(e){Ext.apply(G,e)}E.sprite.putMarker("items",G,"itemedit");z.showTooltip(F,z.target,E);J.renderFrame()},showTooltip:function(e,k,m){var l=this.getTooltip(),p,n;if(l&&Ext.toolkit!=="modern"){p=l.config;n=this.getChart();Ext.callback(p.renderer,null,[l,m,k,e],0,n);l.show([e.x+p.offsetX,e.y+p.offsetY])}},hideTooltip:function(){var d=this.getTooltip();if(d&&Ext.toolkit!=="modern"){d.hide()}},onDragEnd:function(e){var l=this,k=l.target,m=l.getChart(),n=m.getStore(),p;if(k){p=n.getAt(k.index);if(k.yField){p.set(k.yField,k.yValue,{convert:false})}if(k.xField){p.set(k.xField,k.xValue,{convert:false})}if(k.yField||k.xField){l.getChart().onDataChanged()}l.target=null}l.hideTooltip();if(l.item){m.fireEvent("enditemedit",m,l,l.item,k)}l.highlight(l.item=null)},destroy:function(){var d=this.getConfig("tooltip",true);Ext.destroy(d);Ext.chart.interactions.ItemHighlight.prototype.destroy.call(this)}},0,0,["interaction"],{interaction:true},["interaction.itemedit"],0,[Ext.chart.interactions,"ItemEdit"],0));(Ext.cmd.derive("Ext.chart.interactions.PanZoom",Ext.chart.interactions.Abstract,{type:"panzoom",config:{axes:{top:{},right:{},bottom:{},left:{}},minZoom:null,maxZoom:null,showOverflowArrows:true,panGesture:"drag",zoomGesture:"pinch",zoomOnPanGesture:false,modeToggleButton:{xtype:"segmentedbutton",width:200,defaults:{ui:"default-toolbar"},cls:"x-panzoom-toggle",items:[{text:"Pan"},{text:"Zoom"}]},hideLabelInGesture:false},stopAnimationBeforeSync:true,applyAxes:function(e,g){return Ext.merge(g||{},e)},applyZoomOnPanGesture:function(d){this.getChart();if(this.isMultiTouch()){return false}return d},updateZoomOnPanGesture:function(e){var g=this.getModeToggleButton();if(!this.isMultiTouch()){g.show();g.setValue(e?1:0)}else{g.hide()}},toggleMode:function(){var d=this;if(!d.isMultiTouch()){d.setZoomOnPanGesture(!d.getZoomOnPanGesture())}},applyModeToggleButton:function(i,j){var h=this,k=Ext.factory(i,"Ext.button.Segmented",j);if(!k&&j){j.destroy()}if(k&&!j){k.addListener("toggle",function(c){h.setZoomOnPanGesture(c.getValue()===1)})}return k},getGestures:function(){var k=this,i={},j=k.getPanGesture(),l=k.getZoomGesture(),m=Ext.supports.Touch;i[l]="onZoomGestureMove";i[l+"start"]="onZoomGestureStart";i[l+"end"]="onZoomGestureEnd";i[j]="onPanGestureMove";i[j+"start"]="onPanGestureStart";i[j+"end"]="onPanGestureEnd";i.doubletap="onDoubleTap";return i},onDoubleTap:function(e){var m=this,p=m.getChart(),i=p.getAxes(),q,r,n;for(r=0,n=i.length;r<n;r++){q=i[r];q.setVisibleRange([0,1])}p.redraw()},onPanGestureStart:function(e){if(!e||!e.touches||e.touches.length<2){var j=this,k=j.getChart().getInnerRect(),i=j.getChart().element.getXY();j.startX=e.getX()-i[0]-k[0];j.startY=e.getY()-i[1]-k[1];j.oldVisibleRanges=null;j.hideLabels();j.getChart().suspendThicknessChanged();j.lockEvents(j.getPanGesture());return false}},onPanGestureMove:function(e){var j=this;if(j.getLocks()[j.getPanGesture()]===j){var k=j.getChart().getInnerRect(),i=j.getChart().element.getXY();if(j.getZoomOnPanGesture()){j.transformAxesBy(j.getZoomableAxes(e),0,0,(e.getX()-i[0]-k[0])/j.startX,j.startY/(e.getY()-i[1]-k[1]))}else{j.transformAxesBy(j.getPannableAxes(e),e.getX()-i[0]-k[0]-j.startX,e.getY()-i[1]-k[1]-j.startY,1,1)}j.sync();return false}},onPanGestureEnd:function(h){var i=this,e=i.getPanGesture();if(i.getLocks()[e]===i){i.getChart().resumeThicknessChanged();i.showLabels();i.sync();i.unlockEvents(e);return false}},onZoomGestureStart:function(u){if(u.touches&&u.touches.length===2){var t=this,n=t.getChart().element.getXY(),r=t.getChart().getInnerRect(),p=n[0]+r[0],s=n[1]+r[1],e=[u.touches[0].point.x-p,u.touches[0].point.y-s,u.touches[1].point.x-p,u.touches[1].point.y-s],q=Math.max(44,Math.abs(e[2]-e[0])),v=Math.max(44,Math.abs(e[3]-e[1]));t.getChart().suspendThicknessChanged();t.lastZoomDistances=[q,v];t.lastPoints=e;t.oldVisibleRanges=null;t.hideLabels();t.lockEvents(t.getZoomGesture());return false}},onZoomGestureMove:function(B){var A=this;if(A.getLocks()[A.getZoomGesture()]===A){var x=A.getChart().getInnerRect(),e=A.getChart().element.getXY(),v=e[0]+x[0],y=e[1]+x[1],F=Math.abs,C=A.lastPoints,t=[B.touches[0].point.x-v,B.touches[0].point.y-y,B.touches[1].point.x-v,B.touches[1].point.y-y],z=Math.max(44,F(t[2]-t[0])),D=Math.max(44,F(t[3]-t[1])),E=this.lastZoomDistances||[z,D],u=z/E[0],w=D/E[1];A.transformAxesBy(A.getZoomableAxes(B),x[2]*(u-1)/2+t[2]-C[2]*u,x[3]*(w-1)/2+t[3]-C[3]*w,u,w);A.sync();return false}},onZoomGestureEnd:function(e){var h=this,i=h.getZoomGesture();if(h.getLocks()[i]===h){h.getChart().resumeThicknessChanged();h.showLabels();h.sync();h.unlockEvents(i);return false}},hideLabels:function(){if(this.getHideLabelInGesture()){this.eachInteractiveAxes(function(d){d.hideLabels()})}},showLabels:function(){if(this.getHideLabelInGesture()){this.eachInteractiveAxes(function(d){d.showLabels()})}},isEventOnAxis:function(e,i){var h=i.getSurface().getRect();return h[0]<=e.getX()&&e.getX()<=h[0]+h[2]&&h[1]<=e.getY()&&e.getY()<=h[1]+h[3]},getPannableAxes:function(s){var p=this,v=p.getAxes(),r=p.getChart().getAxes(),t,q=r.length,e=[],i=false,u;if(s){for(t=0;t<q;t++){if(this.isEventOnAxis(s,r[t])){i=true;break}}}for(t=0;t<q;t++){u=v[r[t].getPosition()];if(u&&u.allowPan!==false&&(!i||this.isEventOnAxis(s,r[t]))){e.push(r[t])}}return e},getZoomableAxes:function(t){var q=this,x=q.getAxes(),s=q.getChart().getAxes(),e=[],u,r=s.length,v,i=false,w;if(t){for(u=0;u<r;u++){if(this.isEventOnAxis(t,s[u])){i=true;break}}}for(u=0;u<r;u++){v=s[u];w=x[v.getPosition()];if(w&&w.allowZoom!==false&&(!i||this.isEventOnAxis(t,v))){e.push(v)}}return e},eachInteractiveAxes:function(k){var j=this,l=j.getAxes(),i=j.getChart().getAxes();for(var m=0;m<i.length;m++){if(l[i[m].getPosition()]){if(false===k.call(this,i[m])){return}}}},transformAxesBy:function(w,r,t,s,v){var u=this.getChart().getInnerRect(),z=this.getAxes(),q,y=this.oldVisibleRanges,i=false;if(!y){this.oldVisibleRanges=y={};this.eachInteractiveAxes(function(c){y[c.getId()]=c.getVisibleRange()})}if(!u){return}for(var x=0;x<w.length;x++){q=z[w[x].getPosition()];i=this.transformAxisBy(w[x],y[w[x].getId()],r,t,s,v,this.minZoom||q.minZoom,this.maxZoom||q.maxZoom)||i}return i},transformAxisBy:function(N,B,y,z,F,H,I,D){var x=this,O=B[1]-B[0],E=N.getVisibleRange(),J=I||x.getMinZoom()||N.config.minZoom,G=D||x.getMaxZoom()||N.config.maxZoom,P=x.getChart().getInnerRect(),K,A;if(!P){return}var M=N.isSide(),L=M?P[3]:P[2],C=M?-z:y;O/=M?H:F;if(O<0){O=-O}if(O*J>1){O=1}if(O*G<1){O=1/G}K=B[0];A=B[1];E=E[1]-E[0];if(O===E&&E===1){return}N.setVisibleRange([(B[0]+B[1]-O)*0.5-C/L*O,(B[0]+B[1]+O)*0.5-C/L*O]);return(Math.abs(K-N.getVisibleRange()[0])>1e-10||Math.abs(A-N.getVisibleRange()[1])>1e-10)},destroy:function(){this.setModeToggleButton(null);Ext.chart.interactions.Abstract.prototype.destroy.call(this)}},0,0,["interaction"],{interaction:true},["interaction.panzoom"],0,[Ext.chart.interactions,"PanZoom"],0));(Ext.cmd.derive("Ext.chart.interactions.Rotate",Ext.chart.interactions.Abstract,{type:"rotate",config:{gesture:"rotate",gestures:{rotate:"onRotate",rotateend:"onRotate",dragstart:"onGestureStart",drag:"onGesture",dragend:"onGestureEnd"},rotation:0},oldRotations:null,getAngle:function(e){var k=this,l=k.getChart(),j=l.getEventXY(e),m=l.getCenter();return Math.atan2(j[1]-m[1],j[0]-m[0])},getRadius:function(d){return this.getChart().getRadius()},getEventRadius:function(e){var m=this,n=m.getChart(),l=n.getEventXY(e),r=n.getCenter(),p=l[0]-r[0],q=l[1]-r[1];return Math.sqrt(p*p+q*q)},onGestureStart:function(e){var i=this,j=i.getRadius(e),k=i.getEventRadius(e);if(j>=k){i.lockEvents("drag");i.angle=i.getAngle(e);i.oldRotations={};return false}},onGesture:function(h){var i=this,e=i.getAngle(h)-i.angle;if(i.getLocks().drag===i){i.doRotateTo(e,true);return false}},doRotateTo:function(A,D,C){var i=this,t=i.getChart(),u=t.getAxes(),y=t.getSeries(),s=i.oldRotations,B,v,x,z,w;if(!C){t.suspendAnimation()}for(z=0,w=u.length;z<w;z++){B=u[z];x=s[B.getId()]||(s[B.getId()]=B.getRotation());B.setRotation(A+(D?x:0))}for(z=0,w=y.length;z<w;z++){v=y[z];x=s[v.getId()]||(s[v.getId()]=v.getRotation());v.setRotation(A+(D?x:0))}i.setRotation(A+(D?x:0));i.fireEvent("rotate",i,i.getRotation());i.sync();if(!C){t.resumeAnimation()}},rotateTo:function(g,h,i){this.doRotateTo(g,h,i);this.oldRotations={}},onGestureEnd:function(e){var g=this;if(g.getLocks().drag===g){g.onGesture(e);g.unlockEvents("drag");g.fireEvent("rotationEnd",g,g.getRotation());return false}},onRotate:function(d){}},0,0,["interaction"],{interaction:true},["interaction.rotate"],0,[Ext.chart.interactions,"Rotate"],0));(Ext.cmd.derive("Ext.chart.interactions.RotatePie3D",Ext.chart.interactions.Rotate,{type:"rotatePie3d",getAngle:function(l){var r=this.getChart(),m=r.getInherited().rtl,n=m?-1:1,e=l.getXY(),p=r.element.getXY(),q=r.getMainRect();return n*Math.atan2(e[1]-p[1]-q[3]*0.5,e[0]-p[0]-q[2]*0.5)},getRadius:function(e){var p=this.getChart(),t=p.getRadius(),q=p.getSeries(),i=q.length,r=0,s,n;for(;r<i;r++){s=q[r];if(s.isPie3D){n=s.getRadius();if(n>t){t=n}}}return t}},0,0,["interaction"],{interaction:true},["interaction.rotatePie3d"],0,[Ext.chart.interactions,"RotatePie3D"],0));(Ext.cmd.derive("Ext.chart.plugin.ItemEvents",Ext.plugin.Abstract,{moveEvents:false,mouseMoveEvents:{mousemove:true,mouseover:true,mouseout:true},itemMouseMoveEvents:{itemmousemove:true,itemmouseover:true,itemmouseout:true},init:function(e){var g="handleEvent";this.chart=e;e.addElementListener({click:g,dblclick:g,mousedown:g,mousemove:g,mouseup:g,mouseover:g,mouseout:g,priority:1001,scope:this})},hasItemMouseMoveListeners:function(){var e=this.chart.hasListeners,g;for(g in this.itemMouseMoveEvents){if(g in e){return true}}return false},handleEvent:function(l){var n=this,r=n.chart,e=l.type in n.mouseMoveEvents,p=n.lastItem,m,q;if(e&&!n.hasItemMouseMoveListeners()&&!n.moveEvents){return}m=r.getEventXY(l);q=r.getItemForPoint(m[0],m[1]);if(e&&!Ext.Object.equals(q,p)){if(p){r.fireEvent("itemmouseout",r,p,l);p.series.fireEvent("itemmouseout",p.series,p,l)}if(q){r.fireEvent("itemmouseover",r,q,l);q.series.fireEvent("itemmouseover",q.series,q,l)}}if(q){r.fireEvent("item"+l.type,r,q,l);q.series.fireEvent("item"+l.type,q.series,q,l)}n.lastItem=q}},0,0,0,0,["plugin.chartitemevents"],0,[Ext.chart.plugin,"ItemEvents"],0));(Ext.cmd.derive("Ext.chart.series.Cartesian",Ext.chart.series.Series,{config:{xField:null,yField:null,xAxis:null,yAxis:null},directions:["X","Y"],fieldCategoryX:["X"],fieldCategoryY:["Y"],applyXAxis:function(g,e){return this.getChart().getAxis(g)||e},applyYAxis:function(g,e){return this.getChart().getAxis(g)||e},updateXAxis:function(d){d.processData(this)},updateYAxis:function(d){d.processData(this)},coordinateX:function(){return this.coordinate("X",0,2)},coordinateY:function(){return this.coordinate("Y",1,2)},getItemForPoint:function(r,k){if(this.getSprites()){var l=this,n=l.getSprites()[0],q=l.getStore(),m,p;if(l.getHidden()){return null}if(n){p=n.getIndexNearPoint(r,k);if(p!==-1){m={series:l,category:l.getItemInstancing()?"items":"markers",index:p,record:q.getData().items[p],field:l.getYField(),sprite:n};return m}}}},createSprite:function(){var i=this,k=Ext.chart.series.Series.prototype.createSprite.call(this),j=i.getChart(),h=i.getXAxis();k.setAttributes({flipXY:j.getFlipXY(),xAxis:h});if(k.setAggregator&&h&&h.getAggregator){if(h.getAggregator){k.setAggregator({strategy:h.getAggregator()})}else{k.setAggregator({})}}return k},getSprites:function(){var l=this,m=this.getChart(),k=l.getAnimation()||m&&m.getAnimation(),n=l.getItemInstancing(),j=l.sprites,p;if(!m){return[]}if(!j.length){p=l.createSprite()}else{p=j[0]}if(k){if(n){p.itemsMarker.getTemplate().setAnimation(k)}p.setAnimation(k)}return j},provideLegendInfo:function(h){var j=this,k=j.getSubStyleWithTheme(),i=k.fillStyle;if(Ext.isArray(i)){i=i[0]}h.push({name:j.getTitle()||j.getYField()||j.getId(),mark:(Ext.isObject(i)?i.stops&&i.stops[0].color:i)||k.strokeStyle||"black",disabled:j.getHidden(),series:j.getId(),index:0})},getXRange:function(){return[this.dataRange[0],this.dataRange[2]]},getYRange:function(){return[this.dataRange[1],this.dataRange[3]]}},0,0,0,0,0,0,[Ext.chart.series,"Cartesian"],0));(Ext.cmd.derive("Ext.chart.series.StackedCartesian",Ext.chart.series.Cartesian,{config:{stacked:true,splitStacks:true,fullStack:false,fullStackTotal:100,hidden:[]},spriteAnimationCount:0,themeColorCount:function(){var e=this,g=e.getYField();return Ext.isArray(g)?g.length:1},updateStacked:function(){this.processData()},updateSplitStacks:function(){this.processData()},coordinateY:function(){return this.coordinateStacked("Y",1,2)},coordinateStacked:function(R,aj,ad){var N=this,ai=N.getStore(),T=ai.getData().items,V=T.length,al=N["get"+R+"Axis"](),ac=N.getHidden(),an=N.getSplitStacks(),Z=N.getFullStack(),af=N.getFullStackTotal(),X={min:0,max:0},ab=N["fieldCategory"+R],S=[],Y=[],P=[],ag,W=N.getStacked(),ah=N.getSprites(),U=[],ae,k,M,Q,i,aa,am,ak,j,O;if(!ah.length){return}for(ae=0;ae<ab.length;ae++){ak=ab[ae];Q=N.getFields([ak]);i=Q.length;for(k=0;k<V;k++){S[k]=0;Y[k]=0;P[k]=0}for(k=0;k<i;k++){if(!ac[k]){U[k]=N.coordinateData(T,Q[k],al)}}if(W&&Z){aa=[];if(an){am=[]}for(k=0;k<V;k++){aa[k]=0;if(an){am[k]=0}for(M=0;M<i;M++){j=U[M];if(!j){continue}j=j[k];if(j>=0||!an){aa[k]+=j}else{if(j<0){am[k]+=j}}}}}for(k=0;k<i;k++){O={};if(ac[k]){O["dataStart"+ak]=S;O["data"+ak]=S;ah[k].setAttributes(O);continue}j=U[k];if(W){ag=[];for(M=0;M<V;M++){if(!j[M]){j[M]=0}if(j[M]>=0||!an){if(Z&&aa[M]){j[M]*=af/aa[M]}S[M]=Y[M];Y[M]+=j[M];ag[M]=Y[M]}else{if(Z&&am[M]){j[M]*=af/am[M]}S[M]=P[M];P[M]+=j[M];ag[M]=P[M]}}O["dataStart"+ak]=S;O["data"+ak]=ag;N.getRangeOfData(S,X);N.getRangeOfData(ag,X)}else{O["dataStart"+ak]=S;O["data"+ak]=j;N.getRangeOfData(j,X)}ah[k].setAttributes(O)}}N.dataRange[aj]=X.min;N.dataRange[aj+ad]=X.max;O={};O["dataMin"+R]=X.min;O["dataMax"+R]=X.max;for(ae=0;ae<ah.length;ae++){ah[ae].setAttributes(O)}},getFields:function(i){var k=this,p=[],m,n,l;for(n=0,l=i.length;n<l;n++){m=k["get"+i[n]+"Field"]();if(Ext.isArray(m)){p.push.apply(p,m)}else{p.push(m)}}return p},updateLabelOverflowPadding:function(d){this.getLabel().setAttributes({labelOverflowPadding:d})},getSprites:function(){var q=this,r=q.getChart(),x=q.getAnimation()||r&&r.getAnimation(),u=q.getFields(q.fieldCategoryY),y=q.getItemInstancing(),s=q.sprites,i,v=q.getHidden(),t=false,w,z=u.length;if(!r){return[]}for(w=0;w<z;w++){i=s[w];if(!i){i=q.createSprite();i.setAttributes({zIndex:-w});i.setField(u[w]);t=true;v.push(false);if(y){i.itemsMarker.getTemplate().setAttributes(q.getStyleByIndex(w))}else{i.setAttributes(q.getStyleByIndex(w))}}if(x){if(y){i.itemsMarker.getTemplate().setAnimation(x)}i.setAnimation(x)}}if(t){q.updateHidden(v)}return s},getItemForPoint:function(u,v){if(this.getSprites()){var w=this,C,x,s,D=w.getItemInstancing(),y=w.getSprites(),t=w.getStore(),B=w.getHidden(),i,A,z;for(C=0,x=y.length;C<x;C++){if(!B[C]){s=y[C];A=s.getIndexNearPoint(u,v);if(A!==-1){z=w.getYField();i={series:w,index:A,category:D?"items":"markers",record:t.getData().items[A],field:typeof z==="string"?z:z[C],sprite:s};return i}}}return null}},provideLegendInfo:function(v){var t=this,u=t.getSprites(),s=t.getTitle(),r=t.getYField(),w=t.getHidden(),q=u.length===1,y,i,x,z;for(x=0;x<u.length;x++){y=t.getStyleByIndex(x);i=y.fillStyle;if(s){if(Ext.isArray(s)){z=s[x]}else{if(q){z=s}}}else{if(Ext.isArray(r)){z=r[x]}else{z=t.getId()}}v.push({name:z,mark:(Ext.isObject(i)?i.stops&&i.stops[0].color:i)||y.strokeStyle||"black",disabled:w[x],series:t.getId(),index:x})}},onSpriteAnimationStart:function(d){this.spriteAnimationCount++;if(this.spriteAnimationCount===1){this.fireEvent("animationstart")}},onSpriteAnimationEnd:function(d){this.spriteAnimationCount--;if(this.spriteAnimationCount===0){this.fireEvent("animationend")}}},0,0,0,0,0,0,[Ext.chart.series,"StackedCartesian"],0));(Ext.cmd.derive("Ext.chart.series.sprite.Series",Ext.draw.sprite.Sprite,{inheritableStatics:{def:{processors:{dataMinX:"number",dataMaxX:"number",dataMinY:"number",dataMaxY:"number",rangeX:"data",rangeY:"data",dataX:"data",dataY:"data"},defaults:{dataMinX:0,dataMaxX:1,dataMinY:0,dataMaxY:1,rangeX:null,rangeY:null,dataX:null,dataY:null},triggers:{dataX:"bbox",dataY:"bbox",dataMinX:"bbox",dataMaxX:"bbox",dataMinY:"bbox",dataMaxY:"bbox"}}},config:{store:null,series:null,field:null}},0,0,0,0,0,[["markerHolder",Ext.chart.MarkerHolder]],[Ext.chart.series.sprite,"Series"],0));(Ext.cmd.derive("Ext.chart.series.sprite.Cartesian",Ext.chart.series.sprite.Series,{inheritableStatics:{def:{processors:{labels:"default",labelOverflowPadding:"number",selectionTolerance:"number",flipXY:"bool",renderer:"default",visibleMinX:"number",visibleMinY:"number",visibleMaxX:"number",visibleMaxY:"number",innerWidth:"number",innerHeight:"number"},defaults:{labels:null,labelOverflowPadding:10,selectionTolerance:20,flipXY:false,renderer:null,transformFillStroke:false,visibleMinX:0,visibleMinY:0,visibleMaxX:1,visibleMaxY:1,innerWidth:1,innerHeight:1},triggers:{dataX:"dataX,bbox",dataY:"dataY,bbox",visibleMinX:"panzoom",visibleMinY:"panzoom",visibleMaxX:"panzoom",visibleMaxY:"panzoom",innerWidth:"panzoom",innerHeight:"panzoom"},updaters:{dataX:function(d){this.processDataX();this.scheduleUpdater(d,"dataY",["dataY"])},dataY:function(){this.processDataY()},panzoom:function(p){var m=p.visibleMaxX-p.visibleMinX,n=p.visibleMaxY-p.visibleMinY,q=p.flipXY?p.innerHeight:p.innerWidth,k=!p.flipXY?p.innerHeight:p.innerWidth,r=this.getSurface(),l=r?r.getInherited().rtl:false;if(l&&!p.flipXY){p.translationX=q+p.visibleMinX*q/m}else{p.translationX=-p.visibleMinX*q/m}p.translationY=-p.visibleMinY*k/n;p.scalingX=(l&&!p.flipXY?-1:1)*q/m;p.scalingY=k/n;p.scalingCenterX=0;p.scalingCenterY=0;this.applyTransformations(true)}}}},processDataY:Ext.emptyFn,processDataX:Ext.emptyFn,updatePlainBBox:function(e){var g=this.attr;e.x=g.dataMinX;e.y=g.dataMinY;e.width=g.dataMaxX-g.dataMinX;e.height=g.dataMaxY-g.dataMinY},binarySearch:function(l){var n=this.attr.dataX,j=0,p=n.length;if(l<=n[0]){return j}if(l>=n[p-1]){return p-1}while(j+1<p){var m=(j+p)>>1,k=n[m];if(k===l){return m}else{if(k<l){j=m}else{p=m}}}return j},render:function(q,p,k){var l=this,r=l.attr,m=r.inverseMatrix.clone();m.appendMatrix(q.inverseMatrix);if(r.dataX===null||r.dataX===undefined){return}if(r.dataY===null||r.dataY===undefined){return}if(m.getXX()*m.getYX()||m.getXY()*m.getYY()){console.log("Cartesian Series sprite does not support rotation/sheering");return}var n=m.transformList([[k[0]-1,k[3]+1],[k[0]+k[2]+1,-1]]);n=n[0].concat(n[1]);l.renderClipped(q,p,n,k)},renderClipped:Ext.emptyFn,getIndexNearPoint:function(Q,R){var G=this,D=G.attr.matrix,O=G.attr.dataX,P=G.attr.dataY,M=G.attr.selectionTolerance,i,y,T=-1,N=D.clone().prependMatrix(G.surfaceMatrix).inverse(),K=N.transformPoint([Q,R]),U=N.transformPoint([Q-M,R-M]),H=N.transformPoint([Q+M,R+M]),V=Math.min(U[0],H[0]),x=Math.max(U[0],H[0]),L=Math.min(U[1],H[1]),S=Math.max(U[1],H[1]),J,I,F,E;for(F=0,E=O.length;F<E;F++){J=O[F];I=P[F];if(J>V&&J<x&&I>L&&I<S){if(T===-1||(Math.abs(J-K[0])<i)&&(Math.abs(I-K[1])<y)){i=Math.abs(J-K[0]);y=Math.abs(I-K[1]);T=F}}}return T}},0,0,0,0,0,0,[Ext.chart.series.sprite,"Cartesian"],0));(Ext.cmd.derive("Ext.chart.series.sprite.StackedCartesian",Ext.chart.series.sprite.Cartesian,{inheritableStatics:{def:{processors:{groupCount:"number",groupOffset:"number",dataStartY:"data"},defaults:{selectionTolerance:20,groupCount:1,groupOffset:0,dataStartY:null},triggers:{dataStartY:"dataY,bbox"}}},getIndexNearPoint:function(N,O){var D=this,B=D.attr.matrix,K=D.attr.dataX,M=D.attr.dataY,G=D.attr.dataStartY,H=D.attr.selectionTolerance,x=0.5,y=Infinity,Q=-1,I=B.clone().prependMatrix(this.surfaceMatrix).inverse(),i=I.transformPoint([N,O]),R=I.transformPoint([N-H,O-H]),E=I.transformPoint([N+H,O+H]),F=Math.min(R[1],E[1]),P=Math.max(R[1],E[1]),J,L;for(var C=0;C<K.length;C++){if(Math.min(G[C],M[C])<=P&&F<=Math.max(G[C],M[C])){J=Math.abs(K[C]-i[0]);L=Math.max(-Math.min(M[C]-i[1],i[1]-G[C]),0);if(J<x&&L<=y){x=J;y=L;Q=C}}}return Q}},0,0,0,0,0,0,[Ext.chart.series.sprite,"StackedCartesian"],0));(Ext.cmd.derive("Ext.chart.series.sprite.Area",Ext.chart.series.sprite.StackedCartesian,{inheritableStatics:{def:{processors:{step:"bool"},defaults:{step:false}}},renderClipped:function(J,x,K){var I=this,L=I.attr,T=L.dataX,V=L.dataY,H=L.dataStartY,i=L.matrix,W,X,R,Y,aa,N,P,Z=i.elements[0],Q=i.elements[4],M=i.elements[3],U=i.elements[5],ab=I.surfaceMatrix,O={},y=Math.min(K[0],K[2]),S=Math.max(K[0],K[2]),ac=Math.max(0,this.binarySearch(y)),ad=Math.min(T.length-1,this.binarySearch(S)+1);x.beginPath();N=T[ac]*Z+Q;P=V[ac]*M+U;x.moveTo(N,P);if(L.step){aa=P;for(R=ac;R<=ad;R++){W=T[R]*Z+Q;X=V[R]*M+U;x.lineTo(W,aa);x.lineTo(W,aa=X)}}else{for(R=ac;R<=ad;R++){W=T[R]*Z+Q;X=V[R]*M+U;x.lineTo(W,X)}}if(H){if(L.step){Y=T[ad]*Z+Q;for(R=ad;R>=ac;R--){W=T[R]*Z+Q;X=H[R]*M+U;x.lineTo(Y,X);x.lineTo(Y=W,X)}}else{for(R=ad;R>=ac;R--){W=T[R]*Z+Q;X=H[R]*M+U;x.lineTo(W,X)}}}else{x.lineTo(T[ad]*Z+Q,X);x.lineTo(T[ad]*Z+Q,U);x.lineTo(N,U);x.lineTo(N,V[R]*M+U)}if(L.transformFillStroke){L.matrix.toContext(x)}x.fill();if(L.transformFillStroke){L.inverseMatrix.toContext(x)}x.beginPath();x.moveTo(N,P);if(L.step){for(R=ac;R<=ad;R++){W=T[R]*Z+Q;X=V[R]*M+U;x.lineTo(W,aa);x.lineTo(W,aa=X);O.translationX=ab.x(W,X);O.translationY=ab.y(W,X);I.putMarker("markers",O,R,!L.renderer)}}else{for(R=ac;R<=ad;R++){W=T[R]*Z+Q;X=V[R]*M+U;x.lineTo(W,X);O.translationX=ab.x(W,X);O.translationY=ab.y(W,X);I.putMarker("markers",O,R,!L.renderer)}}if(L.transformFillStroke){L.matrix.toContext(x)}x.stroke()}},0,0,0,0,["sprite.areaSeries"],0,[Ext.chart.series.sprite,"Area"],0));(Ext.cmd.derive("Ext.chart.series.Area",Ext.chart.series.StackedCartesian,{type:"area",seriesType:"areaSeries",config:{splitStacks:false}},0,0,0,0,["series.area"],0,[Ext.chart.series,"Area"],0));(Ext.cmd.derive("Ext.chart.series.sprite.Bar",Ext.chart.series.sprite.StackedCartesian,{inheritableStatics:{def:{processors:{minBarWidth:"number",maxBarWidth:"number",minGapWidth:"number",radius:"number",inGroupGapWidth:"number"},defaults:{minBarWidth:2,maxBarWidth:100,minGapWidth:5,inGroupGapWidth:3,radius:0}}},drawLabel:function(H,J,z,K,D){var B=this,E=B.attr,M=B.getMarker("labels"),O=M.getTemplate(),G=B.labelCfg||(B.labelCfg={}),P=B.surfaceMatrix,I=E.labelOverflowPadding,Q=O.attr.display,F=O.attr.orientation,L,N,R,A,y,C;G.x=P.x(J,K);G.y=P.y(J,K);if(!E.flipXY){G.rotationRads=-Math.PI*0.5}else{G.rotationRads=0}G.calloutVertical=!E.flipXY;switch(F){case"horizontal":G.rotationRads=0;G.calloutVertical=false;break;case"vertical":G.rotationRads=-Math.PI*0.5;G.calloutVertical=true;break}G.text=H;if(O.attr.renderer){C=[H,M,G,{store:B.getStore()},D];A=Ext.callback(O.attr.renderer,null,C,0,B.getSeries());if(typeof A==="string"){G.text=A}else{if(typeof A==="object"){if("text" in A){G.text=A.text}y=true}}}R=B.getMarkerBBox("labels",D,true);if(!R){B.putMarker("labels",G,D);R=B.getMarkerBBox("labels",D,true)}N=(R.width/2+I);if(z>K){N=-N}if((F==="horizontal"&&E.flipXY)||(F==="vertical"&&!E.flipXY)||!F){L=(Q==="insideStart")?z+N:K-N}else{L=(Q==="insideStart")?z+I*2:K-I*2}G.x=P.x(J,L);G.y=P.y(J,L);L=(Q==="insideStart")?z-N:K+N;G.calloutPlaceX=P.x(J,L);G.calloutPlaceY=P.y(J,L);L=(Q==="insideStart")?z:K;G.calloutStartX=P.x(J,L);G.calloutStartY=P.y(J,L);if(z>K){N=-N}if(Math.abs(K-z)<=N*2||Q==="outside"){G.callout=1}else{G.callout=0}if(y){Ext.apply(G,A)}B.putMarker("labels",G,D)},drawBar:function(q,A,y,z,u,r,B,x){var v=this,s={},w=v.attr.renderer,t;s.x=z;s.y=u;s.width=r-z;s.height=B-u;s.radius=v.attr.radius;if(w){t=Ext.callback(w,null,[v,s,{store:v.getStore()},x],0,v.getSeries());Ext.apply(s,t)}v.putMarker("items",s,x,!w)},renderClipped:function(U,ag,V,Y){if(this.cleanRedraw){return}var ak=this,am=ak.attr,ae=am.dataX,af=am.dataY,T=am.labels,an=am.dataStartY,ao=am.groupCount,W=am.groupOffset-(ao-1)*0.5,ab=am.inGroupGapWidth,ah=ag.lineWidth,X=am.matrix,Z=X.elements[0],ar=X.elements[3],aw=X.elements[4],ax=U.roundPixel(X.elements[5])-1,R=(Z<0?-1:1)*Z-am.minGapWidth,aq=(Math.min(R,am.maxBarWidth)-ab*(ao-1))/ao,aa=U.roundPixel(Math.max(am.minBarWidth,aq)),ay=ak.surfaceMatrix,au,S,az,at,Q,aA,ap=0.5*am.lineWidth,i=Math.min(V[0],V[2]),ad=Math.max(V[0],V[2]),ac=Math.max(0,Math.floor(i)),al=Math.min(ae.length-1,Math.ceil(ad)),av=T&&ak.getMarker("labels"),ai,aj;for(Q=ac;Q<=al;Q++){ai=an?an[Q]:0;aj=af[Q];aA=ae[Q]*Z+aw+W*(aa+ab);au=U.roundPixel(aA-aa/2)+ap;at=U.roundPixel(aj*ar+ax+ah);S=U.roundPixel(aA+aa/2)-ap;az=U.roundPixel(ai*ar+ax+ah);ak.drawBar(ag,U,V,au,at-ap,S,az-ap,Q);if(av&&T[Q]!=null){ak.drawLabel(T[Q],aA,az,at,Q)}ak.putMarker("markers",{translationX:ay.x(aA,at),translationY:ay.y(aA,at)},Q,true)}},getIndexNearPoint:function(t,u){var s=this,x=s.attr,w=x.dataX,D=s.getSurface(),C=D.getRect()||[0,0,0,0],v=C[3],z,A,B,i,y=-1;if(x.flipXY){z=v-u;if(D.getInherited().rtl){A=C[2]-t}else{A=t}}else{z=t;A=v-u}for(B=0;B<w.length;B++){i=s.getMarkerBBox("items",B);if(Ext.draw.Draw.isPointInBBox(z,A,i)){y=B;break}}return y}},0,0,0,0,["sprite.barSeries"],0,[Ext.chart.series.sprite,"Bar"],0));(Ext.cmd.derive("Ext.chart.series.Bar",Ext.chart.series.StackedCartesian,{type:"bar",seriesType:"barSeries",config:{itemInstancing:{type:"rect",fx:{customDurations:{x:0,y:0,width:0,height:0,radius:0}}}},getItemForPoint:function(p,j){if(this.getSprites()){var l=this,m=l.getChart(),k=m.getInnerPadding(),n=m.getInherited().rtl;arguments[0]=p+(n?k.right:-k.left);arguments[1]=j+k.bottom;return Ext.chart.series.StackedCartesian.prototype.getItemForPoint.apply(this,arguments)}},updateXAxis:function(d){d.setLabelInSpan(true);Ext.chart.series.StackedCartesian.prototype.updateXAxis.apply(this,arguments)},updateHidden:function(d){Ext.chart.series.StackedCartesian.prototype.updateHidden.apply(this,arguments);this.updateStacked()},updateStacked:function(p){var m=this,i=m.getSprites(),n=i.length,l=[],r={},q;for(q=0;q<n;q++){if(!i[q].attr.hidden){l.push(i[q])}}n=l.length;if(m.getStacked()){r.groupCount=1;r.groupOffset=0;for(q=0;q<n;q++){l[q].setAttributes(r)}}else{r.groupCount=l.length;for(q=0;q<n;q++){r.groupOffset=q;l[q].setAttributes(r)}}Ext.chart.series.StackedCartesian.prototype.updateStacked.apply(this,arguments)}},0,0,0,0,["series.bar"],0,[Ext.chart.series,"Bar"],0));(Ext.cmd.derive("Ext.chart.series.sprite.Bar3D",Ext.chart.series.sprite.Bar,{inheritableStatics:{def:{processors:{depthWidthRatio:"number",saturationFactor:"number",brightnessFactor:"number",colorSpread:"number"},defaults:{depthWidthRatio:1/3,saturationFactor:1,brightnessFactor:1,colorSpread:1,transformFillStroke:true},triggers:{groupCount:"panzoom"},updaters:{panzoom:function(r){var m=this,p=r.visibleMaxX-r.visibleMinX,q=r.visibleMaxY-r.visibleMinY,s=r.flipXY?r.innerHeight:r.innerWidth,l=!r.flipXY?r.innerHeight:r.innerWidth,t=m.getSurface(),n=t?t.getInherited().rtl:false;if(n&&!r.flipXY){r.translationX=s+r.visibleMinX*s/p}else{r.translationX=-r.visibleMinX*s/p}r.translationY=-r.visibleMinY*(l-m.depth)/q;r.scalingX=(n&&!r.flipXY?-1:1)*s/p;r.scalingY=(l-m.depth)/q;r.scalingCenterX=0;r.scalingCenterY=0;m.applyTransformations(true)}}}},config:{showStroke:false},depth:0,drawBar:function(I,G,E,F,w,J,H,A){var x=this,z=x.attr,u={},y=z.renderer,v,B,C,D;u.x=(F+J)*0.5;u.y=w;u.width=(J-F)*0.75;u.height=H-w;u.depth=B=u.width*z.depthWidthRatio;u.orientation=z.flipXY?"horizontal":"vertical";u.saturationFactor=z.saturationFactor;u.brightnessFactor=z.brightnessFactor;u.colorSpread=z.colorSpread;if(B!==x.depth){x.depth=B;C=x.getSeries();C.fireEvent("depthchange",C,B)}if(y){D=[x,u,{store:x.getStore()},A];v=Ext.callback(y,null,D,0,x.getSeries());Ext.apply(u,v)}x.putMarker("items",u,A,!y)}},0,0,0,0,["sprite.bar3dSeries"],0,[Ext.chart.series.sprite,"Bar3D"],0));(Ext.cmd.derive("Ext.chart.series.sprite.Box",Ext.draw.sprite.Sprite,{type:"box",inheritableStatics:{def:{processors:{x:"number",y:"number",width:"number",height:"number",depth:"number",orientation:"enums(vertical,horizontal)",showStroke:"bool",saturationFactor:"number",brightnessFactor:"number",colorSpread:"number"},triggers:{x:"bbox",y:"bbox",width:"bbox",height:"bbox",depth:"bbox",orientation:"bbox"},defaults:{x:0,y:0,width:8,height:8,depth:8,orientation:"vertical",showStroke:false,saturationFactor:1,brightnessFactor:1,colorSpread:1,lineJoin:"bevel"}}},constructor:function(d){Ext.draw.sprite.Sprite.prototype.constructor.call(this,d);this.topGradient=new Ext.draw.gradient.Linear({});this.rightGradient=new Ext.draw.gradient.Linear({});this.frontGradient=new Ext.draw.gradient.Linear({})},updatePlainBBox:function(n){var p=this.attr,q=p.x,k=p.y,m=p.width,r=p.height,l=p.depth;n.x=q-m*0.5;n.width=m+l;if(r>0){n.y=k;n.height=r+l}else{n.y=k+l;n.height=r-l}},render:function(K,J){var B=this,L=B.attr,E=L.x,M=L.y,Q=M+L.height,N=M<Q,R=L.width*0.5,A=L.depth,S=L.orientation==="horizontal",P=L.globalAlpha<1,T=L.fillStyle,I=Ext.draw.Color.create(T.isGradient?T.getStops()[0].color:T),O=L.saturationFactor,H=L.brightnessFactor,C=L.colorSpread,U=I.getHSV(),V={},D,F,G;if(!L.showStroke){J.strokeStyle=Ext.draw.Color.RGBA_NONE}if(N){G=M;M=Q;Q=G}B.topGradient.setDegrees(S?0:80);B.topGradient.setStops([{offset:0,color:Ext.draw.Color.fromHSV(U[0],Ext.Number.constrain(U[1]*O,0,1),Ext.Number.constrain((0.5+C*0.1)*H,0,1))},{offset:1,color:Ext.draw.Color.fromHSV(U[0],Ext.Number.constrain(U[1]*O,0,1),Ext.Number.constrain((0.5-C*0.11)*H,0,1))}]);B.rightGradient.setDegrees(S?45:90);B.rightGradient.setStops([{offset:0,color:Ext.draw.Color.fromHSV(U[0],Ext.Number.constrain(U[1]*O,0,1),Ext.Number.constrain((0.5-C*0.14)*H,0,1))},{offset:1,color:Ext.draw.Color.fromHSV(U[0],Ext.Number.constrain(U[1]*(1+C*0.4)*O,0,1),Ext.Number.constrain((0.5-C*0.32)*H,0,1))}]);if(S){B.frontGradient.setDegrees(0)}else{B.frontGradient.setRadians(Math.atan2(M-Q,R*2))}B.frontGradient.setStops([{offset:0,color:Ext.draw.Color.fromHSV(U[0],Ext.Number.constrain(U[1]*(1-C*0.1)*O,0,1),Ext.Number.constrain((0.5+C*0.1)*H,0,1))},{offset:1,color:Ext.draw.Color.fromHSV(U[0],Ext.Number.constrain(U[1]*(1+C*0.1)*O,0,1),Ext.Number.constrain((0.5-C*0.23)*H,0,1))}]);if(P||N){J.beginPath();J.moveTo(E-R,Q);J.lineTo(E-R+A,Q+A);J.lineTo(E+R+A,Q+A);J.lineTo(E+R,Q);J.closePath();V.x=E-R;V.y=M;V.width=R+A;V.height=A;J.fillStyle=(S?B.rightGradient:B.topGradient).generateGradient(J,V);J.fillStroke(L)}if(P){J.beginPath();J.moveTo(E-R,M);J.lineTo(E-R+A,M+A);J.lineTo(E-R+A,Q+A);J.lineTo(E-R,Q);J.closePath();V.x=E+R;V.y=Q;V.width=A;V.height=M+A-Q;J.fillStyle=(S?B.topGradient:B.rightGradient).generateGradient(J,V);J.fillStroke(L)}F=K.roundPixel(M);J.beginPath();J.moveTo(E-R,F);J.lineTo(E-R+A,M+A);J.lineTo(E+R+A,M+A);J.lineTo(E+R,F);J.closePath();V.x=E-R;V.y=M;V.width=R+A;V.height=A;J.fillStyle=(S?B.rightGradient:B.topGradient).generateGradient(J,V);J.fillStroke(L);D=K.roundPixel(E+R);J.beginPath();J.moveTo(D,K.roundPixel(M));J.lineTo(E+R+A,M+A);J.lineTo(E+R+A,Q+A);J.lineTo(D,Q);J.closePath();V.x=E+R;V.y=Q;V.width=A;V.height=M+A-Q;J.fillStyle=(S?B.topGradient:B.rightGradient).generateGradient(J,V);J.fillStroke(L);D=K.roundPixel(E+R);F=K.roundPixel(M);J.beginPath();J.moveTo(E-R,Q);J.lineTo(E-R,F);J.lineTo(D,F);J.lineTo(D,Q);J.closePath();V.x=E-R;V.y=Q;V.width=R*2;V.height=M-Q;J.fillStyle=B.frontGradient.generateGradient(J,V);J.fillStroke(L)}},1,0,0,0,["sprite.box"],0,[Ext.chart.series.sprite,"Box"],0));(Ext.cmd.derive("Ext.chart.series.Bar3D",Ext.chart.series.Bar,{type:"bar3d",seriesType:"bar3dSeries",config:{itemInstancing:{type:"box",fx:{customDurations:{x:0,y:0,width:0,height:0,depth:0}}},highlightCfg:{opacity:0.8}},getSprites:function(){var i=Ext.chart.series.Bar.prototype.getSprites.apply(this,arguments),j,h,k;for(k=0;k<i.length;k++){j=i[k];h=j.attr.zIndex;if(h<0){j.setAttributes({zIndex:-h})}if(j.setSeries){j.setSeries(this)}}return i},getDepth:function(){var d=this.getSprites()[0];return d?(d.depth||0):0},getItemForPoint:function(u,w){if(this.getSprites()){var x=this,E,H,F=x.getItemInstancing(),y=x.getSprites(),i=x.getStore(),D=x.getHidden(),z=x.getChart(),v=z.getInnerPadding(),A=z.getInherited().rtl,G,C,B;u=u+(A?v.right:-v.left);w=w+v.bottom;for(E=y.length-1;E>=0;E--){if(!D[E]){H=y[E];C=H.getIndexNearPoint(u,w);if(C!==-1){B=x.getYField();G={series:x,index:C,category:F?"items":"markers",record:i.getData().items[C],field:typeof B==="string"?B:B[E],sprite:H};return G}}}return null}}},0,0,0,0,["series.bar3d"],0,[Ext.chart.series,"Bar3D"],0));(Ext.cmd.derive("Ext.draw.LimitedCache",Ext.Base,{config:{limit:40,feeder:function(){return 0},scope:null},cache:null,constructor:function(d){this.cache={};this.cache.list=[];this.cache.tail=0;this.initConfig(d)},get:function(i){var k=this.cache,l=this.getLimit(),m=this.getFeeder(),j=this.getScope()||this;if(k[i]){return k[i].value}if(k.list[k.tail]){delete k[k.list[k.tail].cacheId]}k[i]=k.list[k.tail]={value:m.apply(j,Array.prototype.slice.call(arguments,1)),cacheId:i};k.tail++;if(k.tail===l){k.tail=0}return k[i].value},clear:function(){this.cache={};this.cache.list=[];this.cache.tail=0}},1,0,0,0,0,0,[Ext.draw,"LimitedCache"],0));(Ext.cmd.derive("Ext.draw.SegmentTree",Ext.Base,{config:{strategy:"double"},time:function(ab,ad,Z,al,N,ak,aj){var ai=0,W,V,P=new Date(Z[ab.startIdx[0]]),aa=new Date(Z[ab.endIdx[ad-1]]),O=Ext.Date,L=[[O.MILLI,1,"ms1",null],[O.MILLI,2,"ms2","ms1"],[O.MILLI,5,"ms5","ms1"],[O.MILLI,10,"ms10","ms5"],[O.MILLI,50,"ms50","ms10"],[O.MILLI,100,"ms100","ms50"],[O.MILLI,500,"ms500","ms100"],[O.SECOND,1,"s1","ms500"],[O.SECOND,10,"s10","s1"],[O.SECOND,30,"s30","s10"],[O.MINUTE,1,"mi1","s10"],[O.MINUTE,5,"mi5","mi1"],[O.MINUTE,10,"mi10","mi5"],[O.MINUTE,30,"mi30","mi10"],[O.HOUR,1,"h1","mi30"],[O.HOUR,6,"h6","h1"],[O.HOUR,12,"h12","h6"],[O.DAY,1,"d1","h12"],[O.DAY,7,"d7","d1"],[O.MONTH,1,"mo1","d1"],[O.MONTH,3,"mo3","mo1"],[O.MONTH,6,"mo6","mo3"],[O.YEAR,1,"y1","mo3"],[O.YEAR,5,"y5","y1"],[O.YEAR,10,"y10","y5"],[O.YEAR,100,"y100","y10"]],X,am,ae=ai,K=ad,af=false,R=ab.startIdx,ag=ab.endIdx,ac=ab.minIdx,Q=ab.maxIdx,an=ab.open,Y=ab.close,ah=ab.minX,T=ab.minY,U=ab.maxX,S=ab.maxY,i,M;for(X=0;ad>ai+1&&X<L.length;X++){P=new Date(Z[R[0]]);am=L[X];P=O.align(P,am[0],am[1]);if(O.diff(P,aa,am[0])>Z.length*2*am[1]){continue}if(am[3]&&ab.map["time_"+am[3]]){W=ab.map["time_"+am[3]][0];V=ab.map["time_"+am[3]][1]}else{W=ae;V=K}ai=ad;M=P;af=true;R[ad]=R[W];ag[ad]=ag[W];ac[ad]=ac[W];Q[ad]=Q[W];an[ad]=an[W];Y[ad]=Y[W];ah[ad]=ah[W];T[ad]=T[W];U[ad]=U[W];S[ad]=S[W];M=Ext.Date.add(M,am[0],am[1]);for(i=W+1;i<V;i++){if(Z[ag[i]]<+M){ag[ad]=ag[i];Y[ad]=Y[i];if(S[i]>S[ad]){S[ad]=S[i];U[ad]=U[i];Q[ad]=Q[i]}if(T[i]<T[ad]){T[ad]=T[i];ah[ad]=ah[i];ac[ad]=ac[i]}}else{ad++;R[ad]=R[i];ag[ad]=ag[i];ac[ad]=ac[i];Q[ad]=Q[i];an[ad]=an[i];Y[ad]=Y[i];ah[ad]=ah[i];T[ad]=T[i];U[ad]=U[i];S[ad]=S[i];M=Ext.Date.add(M,am[0],am[1])}}if(ad>ai){ab.map["time_"+am[2]]=[ai,ad]}}},"double":function(M,A,L,T,B,S,R){var P=0,K,O=1,H,Q,i,N,C,J,I,D,E,F,G;while(A>P+1){K=P;P=A;O+=O;for(H=K;H<P;H+=2){if(H===P-1){Q=M.startIdx[H];i=M.endIdx[H];N=M.minIdx[H];C=M.maxIdx[H];J=M.open[H];I=M.close[H];D=M.minX[H];E=M.minY[H];F=M.maxX[H];G=M.maxY[H]}else{Q=M.startIdx[H];i=M.endIdx[H+1];J=M.open[H];I=M.close[H];if(M.minY[H]<=M.minY[H+1]){N=M.minIdx[H];D=M.minX[H];E=M.minY[H]}else{N=M.minIdx[H+1];D=M.minX[H+1];E=M.minY[H+1]}if(M.maxY[H]>=M.maxY[H+1]){C=M.maxIdx[H];F=M.maxX[H];G=M.maxY[H]}else{C=M.maxIdx[H+1];F=M.maxX[H+1];G=M.maxY[H+1]}}M.startIdx[A]=Q;M.endIdx[A]=i;M.minIdx[A]=N;M.maxIdx[A]=C;M.open[A]=J;M.close[A]=I;M.minX[A]=D;M.minY[A]=E;M.maxX[A]=F;M.maxY[A]=G;A++}M.map["double_"+O]=[P,A]}},none:Ext.emptyFn,aggregateData:function(G,N,x,L,K){var M=G.length,J=[],i=[],I=[],y=[],F=[],z=[],B=[],A=[],C=[],E=[],H={startIdx:J,endIdx:i,minIdx:I,maxIdx:y,open:F,minX:z,minY:B,maxX:A,maxY:C,close:E},D;for(D=0;D<M;D++){J[D]=D;i[D]=D;I[D]=D;y[D]=D;F[D]=N[D];z[D]=G[D];B[D]=L[D];A[D]=G[D];C[D]=x[D];E[D]=K[D]}H.map={original:[0,M]};if(M){this[this.getStrategy()](H,M,G,N,x,L,K)}return H},binarySearchMin:function(p,k,r,m){var q=this.dataX;if(m<=q[p.startIdx[0]]){return k}if(m>=q[p.startIdx[r-1]]){return r-1}while(k+1<r){var n=(k+r)>>1,l=q[p.startIdx[n]];if(l===m){return n}else{if(l<m){k=n}else{r=n}}}return k},binarySearchMax:function(p,k,r,m){var q=this.dataX;if(m<=q[p.endIdx[0]]){return k}if(m>=q[p.endIdx[r-1]]){return r-1}while(k+1<r){var n=(k+r)>>1,l=q[p.endIdx[n]];if(l===m){return n}else{if(l<m){k=n}else{r=n}}}return r},constructor:function(d){this.initConfig(d)},setData:function(j,m,l,k,i){if(!l){i=k=l=m}this.dataX=j;this.dataOpen=m;this.dataHigh=l;this.dataLow=k;this.dataClose=i;if(j.length===l.length&&j.length===k.length){this.cache=this.aggregateData(j,m,l,k,i)}},getAggregation:function(A,t,v){if(!this.cache){return null}var B=Infinity,x=this.dataX[this.dataX.length-1]-this.dataX[0],s=this.cache.map,r=s.original,D,z,u,C,y,w;for(D in s){z=s[D];u=z[1]-z[0]-1;C=x/u;if(v<=C&&C<B){r=z;B=C}}y=Math.max(this.binarySearchMin(this.cache,r[0],r[1],A),r[0]);w=Math.min(this.binarySearchMax(this.cache,r[0],r[1],t)+1,r[1]);return{data:this.cache,start:y,end:w}}},1,0,0,0,0,0,[Ext.draw,"SegmentTree"],0));(Ext.cmd.derive("Ext.chart.series.sprite.Aggregative",Ext.chart.series.sprite.Cartesian,{inheritableStatics:{def:{processors:{dataHigh:"data",dataLow:"data",dataClose:"data"},aliases:{dataOpen:"dataY"},defaults:{dataHigh:null,dataLow:null,dataClose:null}}},config:{aggregator:{}},applyAggregator:function(e,g){return Ext.factory(e,Ext.draw.SegmentTree,g)},constructor:function(){Ext.chart.series.sprite.Cartesian.prototype.constructor.apply(this,arguments)},processDataY:function(){var l=this,n=l.attr,k=n.dataHigh,p=n.dataLow,j=n.dataClose,m=n.dataY;Ext.chart.series.sprite.Cartesian.prototype.processDataY.apply(this,arguments);if(n.dataX&&m&&m.length>0){if(k){l.getAggregator().setData(n.dataX,n.dataY,k,p,j)}else{l.getAggregator().setData(n.dataX,n.dataY)}}},getGapWidth:function(){return 1},renderClipped:function(s,r,m,n){var p=this,q=Math.min(m[0],m[2]),t=Math.max(m[0],m[2]),l=p.getAggregator()&&p.getAggregator().getAggregation(q,t,(t-q)/n[2]*p.getGapWidth());if(l){p.dataStart=l.data.startIdx[l.start];p.dataEnd=l.data.endIdx[l.end-1];p.renderAggregates(l.data,l.start,l.end,s,r,m,n)}}},1,0,0,0,0,0,[Ext.chart.series.sprite,"Aggregative"],0));(Ext.cmd.derive("Ext.chart.series.sprite.CandleStick",Ext.chart.series.sprite.Aggregative,{inheritableStatics:{def:{processors:{raiseStyle:function(e,g){return Ext.merge({},g||{},e)},dropStyle:function(e,g){return Ext.merge({},g||{},e)},barWidth:"number",padding:"number",ohlcType:"enums(candlestick,ohlc)"},defaults:{raiseStyle:{strokeStyle:"green",fillStyle:"green"},dropStyle:{strokeStyle:"red",fillStyle:"red"},planar:false,barWidth:15,padding:3,lineJoin:"miter",miterLimit:5,ohlcType:"candlestick"},triggers:{raiseStyle:"raiseStyle",dropStyle:"dropStyle"},updaters:{raiseStyle:function(){this.raiseTemplate&&this.raiseTemplate.setAttributes(this.attr.raiseStyle)},dropStyle:function(){this.dropTemplate&&this.dropTemplate.setAttributes(this.attr.dropStyle)}}}},candlestick:function(m,t,v,r,n,q,u){var s=Math.min(t,n),p=Math.max(t,n);m.moveTo(q,r);m.lineTo(q,p);m.moveTo(q+u,p);m.lineTo(q+u,s);m.lineTo(q-u,s);m.lineTo(q-u,p);m.closePath();m.moveTo(q,v);m.lineTo(q,s)},ohlc:function(q,n,m,r,l,p,k){q.moveTo(p,m);q.lineTo(p,r);q.moveTo(p,n);q.lineTo(p-k,n);q.moveTo(p,l);q.lineTo(p+k,l)},constructor:function(){Ext.chart.series.sprite.Aggregative.prototype.constructor.apply(this,arguments);this.raiseTemplate=new Ext.draw.sprite.Rect({parent:this});this.dropTemplate=new Ext.draw.sprite.Rect({parent:this})},getGapWidth:function(){var i=this.attr,h=i.barWidth,g=i.padding;return h+g},renderAggregates:function(ai,aj,ak,L,J,V){var M=this,N=this.attr,ad=N.dataX,i=N.matrix,ah=i.getXX(),P=i.getYY(),ab=i.getDX(),ae=i.getDY(),U=N.barWidth/ah,O,ac=N.ohlcType,ag=Math.round(U*0.5*ah),al=ai.open,X=ai.close,R=ai.maxY,T=ai.minY,Q=ai.startIdx,Z,af,K,W,S,Y,aa=N.lineWidth*L.devicePixelRatio/2;aa-=Math.floor(aa);J.save();O=this.raiseTemplate;O.useAttributes(J,V);J.beginPath();for(Y=aj;Y<ak;Y++){if(al[Y]<=X[Y]){Z=Math.round(al[Y]*P+ae)+aa;af=Math.round(R[Y]*P+ae)+aa;K=Math.round(T[Y]*P+ae)+aa;W=Math.round(X[Y]*P+ae)+aa;S=Math.round(ad[Q[Y]]*ah+ab)+aa;M[ac](J,Z,af,K,W,S,ag)}}J.fillStroke(O.attr);J.restore();J.save();O=this.dropTemplate;O.useAttributes(J,V);J.beginPath();for(Y=aj;Y<ak;Y++){if(al[Y]>X[Y]){Z=Math.round(al[Y]*P+ae)+aa;af=Math.round(R[Y]*P+ae)+aa;K=Math.round(T[Y]*P+ae)+aa;W=Math.round(X[Y]*P+ae)+aa;S=Math.round(ad[Q[Y]]*ah+ab)+aa;M[ac](J,Z,af,K,W,S,ag)}}J.fillStroke(O.attr);J.restore()}},1,0,0,0,["sprite.candlestickSeries"],0,[Ext.chart.series.sprite,"CandleStick"],0));(Ext.cmd.derive("Ext.chart.series.CandleStick",Ext.chart.series.Cartesian,{type:"candlestick",seriesType:"candlestickSeries",config:{openField:null,highField:null,lowField:null,closeField:null},fieldCategoryY:["Open","High","Low","Close"],themeColorCount:function(){return 2}},0,0,0,0,["series.candlestick"],0,[Ext.chart.series,"CandleStick"],0));(Ext.cmd.derive("Ext.chart.series.Polar",Ext.chart.series.Series,{config:{rotation:0,radius:null,center:[0,0],offsetX:0,offsetY:0,showInLegend:true,xField:null,yField:null,angleField:null,radiusField:null,xAxis:null,yAxis:null},directions:["X","Y"],fieldCategoryX:["X"],fieldCategoryY:["Y"],deprecatedConfigs:{field:"angleField",lengthField:"radiusField"},constructor:function(l){var k=this,m=k.getConfigurator(),i=m.configs,j;if(l){for(j in k.deprecatedConfigs){if(j in l&&!(l in i)){Ext.raise("'"+j+"' config has been deprecated. Please use the '"+k.deprecatedConfigs[j]+"' config instead.")}}}Ext.chart.series.Series.prototype.constructor.call(this,l)},getXField:function(){return this.getAngleField()},updateXField:function(d){this.setAngleField(d)},getYField:function(){return this.getRadiusField()},updateYField:function(d){this.setRadiusField(d)},applyXAxis:function(g,e){return this.getChart().getAxis(g)||e},applyYAxis:function(g,e){return this.getChart().getAxis(g)||e},getXRange:function(){return[this.dataRange[0],this.dataRange[2]]},getYRange:function(){return[this.dataRange[1],this.dataRange[3]]},themeColorCount:function(){var g=this,i=g.getStore(),h=i&&i.getCount()||0;return h},isStoreDependantColorCount:true,getDefaultSpriteConfig:function(){return{type:this.seriesType,renderer:this.getRenderer(),centerX:0,centerY:0,rotationCenterX:0,rotationCenterY:0}},applyRotation:function(d){return Ext.draw.sprite.AttributeParser.angle(d)},updateRotation:function(g){var e=this.getSprites();if(e&&e[0]){e[0].setAttributes({baseRotation:g})}}},1,0,0,0,0,0,[Ext.chart.series,"Polar"],0));(Ext.cmd.derive("Ext.chart.series.Gauge",Ext.chart.series.Polar,{type:"gauge",seriesType:"pieslice",config:{needle:false,needleLength:90,needleWidth:4,donut:30,showInLegend:false,value:null,colors:null,sectors:null,minimum:0,maximum:100,rotation:0,totalAngle:Math.PI/2,rect:[0,0,1,1],center:[0.5,0.75],radius:0.5,wholeDisk:false},coordinateX:function(){return this.coordinate("X",0,2)},coordinateY:function(){return this.coordinate("Y",1,2)},updateNeedle:function(j){var k=this,h=k.getSprites(),i=k.valueToAngle(k.getValue());if(h&&h.length){h[0].setAttributes({startAngle:(j?i:0),endAngle:i,strokeOpacity:(j?1:0),lineWidth:(j?k.getNeedleWidth():0)});k.doUpdateStyles()}},themeColorCount:function(){var g=this,i=g.getStore(),h=i&&i.getCount()||0;return h+(g.getNeedle()?0:1)},updateColors:function(v,u){var q=this,n=q.getSectors(),i=n&&n.length,r=q.getSprites(),t=Ext.Array.clone(v),p=v&&v.length,s;if(!p||!v[0]){return}for(s=0;s<i;s++){t[s+1]=n[s].color||t[s+1]||v[s%p]}if(r.length){r[0].setAttributes({strokeStyle:t[0]})}this.setSubStyle({fillStyle:t,strokeStyle:t});this.doUpdateStyles()},updateRect:function(l){var n=this.getWholeDisk(),p=n?Math.PI:this.getTotalAngle()/2,k=this.getDonut()/100,m,q,r;if(p<=Math.PI/2){m=2*Math.sin(p);q=1-k*Math.cos(p)}else{m=2;q=1-Math.cos(p)}r=Math.min(l[2]/m,l[3]/q);this.setRadius(r);this.setCenter([l[2]/2,r+(l[3]-q*r)/2])},updateCenter:function(d){this.setStyle({centerX:d[0],centerY:d[1],rotationCenterX:d[0],rotationCenterY:d[1]});this.doUpdateStyles()},updateRotation:function(d){this.setStyle({rotationRads:d-(this.getTotalAngle()+Math.PI)/2});this.doUpdateStyles()},doUpdateShape:function(n,j){var p,l=this.getSectors(),m=(l&&l.length)||0,k=this.getNeedleLength()/100;p=[n*k,n];while(m--){p.push(n)}this.setSubStyle({endRho:p,startRho:n/100*j});this.doUpdateStyles()},updateRadius:function(g){var e=this.getDonut();this.doUpdateShape(g,e)},updateDonut:function(e){var g=this.getRadius();this.doUpdateShape(g,e)},valueToAngle:function(d){d=this.applyValue(d);return this.getTotalAngle()*(d-this.getMinimum())/(this.getMaximum()-this.getMinimum())},applyValue:function(d){return Math.min(this.getMaximum(),Math.max(d,this.getMinimum()))},updateValue:function(l){var m=this,k=m.getNeedle(),i=m.valueToAngle(l),j=m.getSprites();j[0].rendererData.value=l;j[0].setAttributes({startAngle:(k?i:0),endAngle:i});m.doUpdateStyles()},processData:function(){var s=this,n=s.getStore(),x,u,q,w,r,t=n&&n.first(),v,p;if(t){v=s.getXField();if(v){p=t.get(v)}}if(x=s.getXAxis()){u=x.getMinimum();q=x.getMaximum();w=x.getSprites()[0].fx;r=w.getDuration();w.setDuration(0);if(Ext.isNumber(u)){s.setMinimum(u)}else{x.setMinimum(s.getMinimum())}if(Ext.isNumber(q)){s.setMaximum(q)}else{x.setMaximum(s.getMaximum())}w.setDuration(r)}if(!Ext.isNumber(p)){p=s.getMinimum()}s.setValue(p)},getDefaultSpriteConfig:function(){return{type:this.seriesType,renderer:this.getRenderer(),fx:{customDurations:{translationX:0,translationY:0,rotationCenterX:0,rotationCenterY:0,centerX:0,centerY:0,startRho:0,endRho:0,baseRotation:0}}}},normalizeSectors:function(l){var n=this,p=(l&&l.length)||0,q,m,i,r;if(p){for(q=0;q<p;q++){m=l[q];if(typeof m==="number"){l[q]={start:(q>0?l[q-1].end:n.getMinimum()),end:Math.min(m,n.getMaximum())};if(q==(p-1)&&l[q].end<n.getMaximum()){l[q+1]={start:l[q].end,end:n.getMaximum()}}}else{if(typeof m.start==="number"){i=Math.max(m.start,n.getMinimum())}else{i=(q>0?l[q-1].end:n.getMinimum())}if(typeof m.end==="number"){r=Math.min(m.end,n.getMaximum())}else{r=n.getMaximum()}l[q].start=i;l[q].end=r}}}else{l=[{start:n.getMinimum(),end:n.getMaximum()}]}return l},getSprites:function(){var w=this,t=w.getStore(),u=w.getValue(),C,y;if(!t&&!Ext.isNumber(u)){return[]}var x=w.getChart(),D=w.getAnimation()||x&&x.getAnimation(),z=w.sprites,v=0,F,i,A,B,E=[];if(z&&z.length){z[0].setAnimation(D);return z}B={store:t,field:w.getXField(),angleField:w.getXField(),value:u,series:w};F=w.createSprite();F.setAttributes({zIndex:10},true);F.rendererData=B;F.rendererIndex=v++;E.push(w.getNeedleWidth());w.getLabel().getTemplate().setField(true);i=w.normalizeSectors(w.getSectors());for(C=0,y=i.length;C<y;C++){A={startAngle:w.valueToAngle(i[C].start),endAngle:w.valueToAngle(i[C].end),label:i[C].label,fillStyle:i[C].color,strokeOpacity:0,doCallout:false,labelOverflowPadding:-1};Ext.apply(A,i[C].style);F=w.createSprite();F.rendererData=B;F.rendererIndex=v++;F.setAttributes(A,true);E.push(A.lineWidth)}w.setSubStyle({lineWidth:E});w.doUpdateStyles();return z}},0,0,0,0,["series.gauge"],0,[Ext.chart.series,"Gauge"],0));(Ext.cmd.derive("Ext.chart.series.sprite.Line",Ext.chart.series.sprite.Aggregative,{inheritableStatics:{def:{processors:{smooth:"bool",fillArea:"bool",step:"bool",preciseStroke:"bool",xAxis:"default",yCap:"default"},defaults:{smooth:false,fillArea:false,step:false,preciseStroke:true,xAxis:null,yCap:Math.pow(2,20),yJump:50},triggers:{dataX:"dataX,bbox,smooth",dataY:"dataY,bbox,smooth",smooth:"smooth"},updaters:{smooth:function(i){var g=i.dataX,h=i.dataY;if(i.smooth&&g&&h&&g.length>2&&h.length>2){this.smoothX=Ext.draw.Draw.spline(g);this.smoothY=Ext.draw.Draw.spline(h)}else{delete this.smoothX;delete this.smoothY}}}}},list:null,updatePlainBBox:function(h){var j=this.attr,i=Math.min(0,j.dataMinY),k=Math.max(0,j.dataMaxY);h.x=j.dataMinX;h.y=i;h.width=j.dataMaxX-j.dataMinX;h.height=k-i},drawStrip:function(k,i){k.moveTo(i[0],i[1]);for(var j=2,h=i.length;j<h;j+=2){k.lineTo(i[j],i[j+1])}},drawStraightStroke:function(F,E,T,U,M,Q){var I=this,G=I.attr,J=G.renderer,R=G.step,X=true,N={type:"line",smooth:false,step:R},L=[],N,H,K,S,O,P,i,V,x,W,y;for(y=3;y<M.length;y+=3){i=M[y-3];V=M[y-2];O=M[y];P=M[y+1];x=M[y+3];W=M[y+4];if(J){N.x=O;N.y=P;N.x0=i;N.y0=V;K=[I,N,I.rendererData,T+y/3];H=Ext.callback(J,null,K,0,I.getSeries())}if(Ext.isNumber(O+P+i+V)){if(X){E.beginPath();E.moveTo(i,V);L.push(i,V);S=i;X=false}}else{continue}if(R){E.lineTo(O,V);L.push(O,V)}E.lineTo(O,P);L.push(O,P);if(H||!(Ext.isNumber(x+W))){E.save();Ext.apply(E,H);if(G.fillArea){E.lineTo(O,Q);E.lineTo(S,Q);E.closePath();E.fill()}E.beginPath();I.drawStrip(E,L);L=[];E.stroke();E.restore();E.beginPath();X=true}}},calculateScale:function(i,k){var j=0,h=i;while(h<k&&i>0){j++;h+=i>>j}return Math.pow(2,j>0?j-1:j)},drawSmoothStroke:function(ae,ab,al,am,R,ai){var x=this,y=x.attr,ak=y.step,Y=y.matrix,Q=y.renderer,aj=Y.getXX(),W=Y.getYY(),ac=Y.getDX(),af=Y.getDY(),S=x.smoothX,U=x.smoothY,i=x.calculateScale(y.dataX.length,am),X,N,aa,O,ag,ah,T,an,V,Z,j,P,ad={type:"line",smooth:true,step:ak};ab.beginPath();ab.moveTo(S[al*3]*aj+ac,U[al*3]*W+af);for(V=0,Z=al*3+1;V<R.length-3;V+=3,Z+=3*i){X=S[Z]*aj+ac;N=U[Z]*W+af;aa=S[Z+1]*aj+ac;O=U[Z+1]*W+af;ag=ae.roundPixel(R[V+3]);ah=R[V+4];T=ae.roundPixel(R[V]);an=R[V+1];if(Q){ad.x0=T;ad.y0=an;ad.cx1=X;ad.cy1=N;ad.cx2=aa;ad.cy2=O;ad.x=ag;ad.y=ah;P=[x,ad,x.rendererData,al+V/3+1];j=Ext.callback(Q,null,P,0,x.getSeries());ab.save();Ext.apply(ab,j)}if(y.fillArea){ab.moveTo(T,an);ab.bezierCurveTo(X,N,aa,O,ag,ah);ab.lineTo(ag,ai);ab.lineTo(T,ai);ab.lineTo(T,an);ab.closePath();ab.fill();ab.beginPath()}ab.moveTo(T,an);ab.bezierCurveTo(X,N,aa,O,ag,ah);ab.stroke();ab.moveTo(T,an);ab.closePath();if(Q){ab.restore()}ab.beginPath();ab.moveTo(ag,ah)}ab.beginPath()},drawLabel:function(F,H,I,B,P){var z=this,C=z.attr,L=z.getMarker("labels"),M=L.getTemplate(),D=z.labelCfg||(z.labelCfg={}),N=z.surfaceMatrix,J,K,G=C.labelOverflowPadding,E,O,y,A,x;D.x=N.x(H,I);D.y=N.y(H,I);if(C.flipXY){D.rotationRads=Math.PI*0.5}else{D.rotationRads=0}D.text=F;if(M.attr.renderer){A=[F,L,D,z.rendererData,B];y=Ext.callback(M.attr.renderer,null,A,0,z.getSeries());if(typeof y==="string"){D.text=y}else{if(typeof y==="object"){if("text" in y){D.text=y.text}x=true}}}O=z.getMarkerBBox("labels",B,true);if(!O){z.putMarker("labels",D,B);O=z.getMarkerBBox("labels",B,true)}E=O.height/2;J=H;switch(M.attr.display){case"under":K=I-E-G;break;case"rotate":J+=G;K=I-G;D.rotationRads=-Math.PI/4;break;default:K=I+E+G}D.x=N.x(J,K);D.y=N.y(J,K);if(x){Ext.apply(D,y)}z.putMarker("labels",D,B)},drawMarker:function(n,q,u){var r=this,t=r.attr,s=t.renderer,v=r.surfaceMatrix,w={},p,x;if(s&&r.getMarker("markers")){w.type="marker";w.x=n;w.y=q;x=[r,w,r.rendererData,u];p=Ext.callback(s,null,x,0,r.getSeries());if(p){Ext.apply(w,p)}}w.translationX=v.x(n,q);w.translationY=v.y(n,q);delete w.x;delete w.y;r.putMarker("markers",w,u,!s)},drawStroke:function(t,r,l,s,n,p){var q=this,m=q.attr.smooth&&q.smoothX&&q.smoothY;if(m){q.drawSmoothStroke(t,r,l,s,n,p)}else{q.drawStraightStroke(t,r,l,s,n,p)}},renderAggregates:function(ap,at,aE,ad,aB,ai,an){var aD=this,aF=aD.attr,ax=aF.dataX,ay=aF.dataY,aH=aF.labels,au=aF.xAxis,aO=aF.yCap,aI=aF.smooth&&aD.smoothX&&aD.smoothY,aL=aH&&aD.getMarker("labels"),aw=aD.getMarker("markers"),am=aF.matrix,av=ad.devicePixelRatio,ao=am.getXX(),aJ=am.getYY(),aM=am.getDX(),aN=am.getDY(),az=aD.list||(aD.list=[]),al=ap.minX,aK=ap.maxX,aG=ap.minY,ab=ap.maxY,i=ap.startIdx,y=true,aa,x,af,ag,Z,ak;aD.rendererData={store:aD.getStore()};az.length=0;for(Z=at;Z<aE;Z++){var ac=al[Z],aA=aK[Z],ae=aG[Z],aC=ab[Z];if(ac<aA){az.push(ac*ao+aM,ae*aJ+aN,i[Z]);az.push(aA*ao+aM,aC*aJ+aN,i[Z])}else{if(ac>aA){az.push(aA*ao+aM,aC*aJ+aN,i[Z]);az.push(ac*ao+aM,ae*aJ+aN,i[Z])}else{az.push(aA*ao+aM,aC*aJ+aN,i[Z])}}}if(az.length){for(Z=0;Z<az.length;Z+=3){af=az[Z];ag=az[Z+1];if(Ext.isNumber(af+ag)){if(ag>aO){ag=aO}else{if(ag<-aO){ag=-aO}}az[Z+1]=ag}else{y=false;continue}ak=az[Z+2];if(aw){aD.drawMarker(af,ag,ak)}if(aL&&aH[ak]){aD.drawLabel(aH[ak],af,ag,ak,an)}}aD.isContinuousLine=y;if(aI&&!y){Ext.raise("Line smoothing in only supported for gapless data, where all data points are finite numbers.")}if(au){x=au.getAlignment()==="vertical";if(Ext.isNumber(au.floatingAtCoord)){aa=(x?an[2]:an[3])-au.floatingAtCoord}else{aa=x?an[0]:an[1]}}else{aa=aF.flipXY?an[0]:an[1]}if(aF.preciseStroke){if(aF.fillArea){aB.fill()}if(aF.transformFillStroke){aF.inverseMatrix.toContext(aB)}aD.drawStroke(ad,aB,at,aE,az,aa);if(aF.transformFillStroke){aF.matrix.toContext(aB)}aB.stroke()}else{aD.drawStroke(ad,aB,at,aE,az,aa);if(y&&aI&&aF.fillArea&&!aF.renderer){var aq=ax[ax.length-1]*ao+aM+av,ar=ay[ay.length-1]*aJ+aN,ah=ax[0]*ao+aM-av,aj=ay[0]*aJ+aN;aB.lineTo(aq,ar);aB.lineTo(aq,aa-aF.lineWidth);aB.lineTo(ah,aa-aF.lineWidth);aB.lineTo(ah,aj)}if(aF.transformFillStroke){aF.matrix.toContext(aB)}if(aF.fillArea){aB.fillStroke(aF,true)}else{aB.stroke(true)}}}}},0,0,0,0,["sprite.lineSeries"],0,[Ext.chart.series.sprite,"Line"],0));(Ext.cmd.derive("Ext.chart.series.Line",Ext.chart.series.Cartesian,{type:"line",seriesType:"lineSeries",config:{selectionTolerance:20,smooth:false,step:false,fill:undefined,aggregator:{strategy:"double"}},defaultSmoothness:3,overflowBuffer:1,themeMarkerCount:function(){return 1},getDefaultSpriteConfig:function(){var j=this,i=Ext.chart.series.Cartesian.prototype.getDefaultSpriteConfig.apply(this,arguments),k=Ext.apply({},j.getStyle()),l,m=false;if(typeof j.config.fill!="undefined"){if(j.config.fill){m=true;if(typeof k.fillStyle=="undefined"){if(typeof k.strokeStyle=="undefined"){l=j.getStyleWithTheme();k.fillStyle=l.fillStyle;k.strokeStyle=l.strokeStyle}else{k.fillStyle=k.strokeStyle}}}}else{if(k.fillStyle){m=true}}if(!m){delete k.fillStyle}k=Ext.apply(i||{},k);return Ext.apply(k,{fillArea:m,step:j.config.step,smooth:j.config.smooth,selectionTolerance:j.config.selectionTolerance})},updateStep:function(e){var g=this.getSprites()[0];if(g&&g.attr.step!==e){g.setAttributes({step:e})}},updateFill:function(e){var g=this.getSprites()[0];if(g&&g.attr.fillArea!==e){g.setAttributes({fillArea:e})}},updateSmooth:function(g){var e=this.getSprites()[0];if(e&&e.attr.smooth!==g){e.setAttributes({smooth:g})}}},0,0,0,0,["series.line"],0,[Ext.chart.series,"Line"],0));(Ext.cmd.derive("Ext.chart.series.sprite.PieSlice",Ext.draw.sprite.Sector,{inheritableStatics:{def:{processors:{doCallout:"bool",label:"string",rotateLabels:"bool",labelOverflowPadding:"number",renderer:"default"},defaults:{doCallout:true,rotateLabels:true,label:"",labelOverflowPadding:10,renderer:null}}},config:{rendererData:null,rendererIndex:0,series:null},setGradientBBox:function(G,w){var x=this,y=x.attr,z=(y.fillStyle&&y.fillStyle.isGradient)||(y.strokeStyle&&y.strokeStyle.isGradient);if(z&&!y.constrainGradients){var E=x.getMidAngle(),C=y.margin,B=y.centerX,D=y.centerY,F=y.endRho,r=y.matrix,I=r.getScaleX(),J=r.getScaleY(),h=I*F,A=J*F,H={width:h+h,height:A+A};if(C){B+=C*Math.cos(E);D+=C*Math.sin(E)}H.x=r.x(B,D)-h;H.y=r.y(B,D)-A;G.setGradientBBox(H)}else{Ext.draw.sprite.Sector.prototype.setGradientBBox.call(this,G,w)}},render:function(s,r,m,n){var p=this,t=p.attr,l={},q;if(t.renderer){l={type:"sector",text:t.text,centerX:t.centerX,centerY:t.centerY,margin:t.margin,startAngle:Math.min(t.startAngle,t.endAngle),endAngle:Math.max(t.startAngle,t.endAngle),startRho:Math.min(t.startRho,t.endRho),endRho:Math.max(t.startRho,t.endRho)};q=Ext.callback(t.renderer,null,[p,l,p.rendererData,p.rendererIndex],0,p.getSeries());p.setAttributes(q);p.useAttributes(r,m)}Ext.draw.sprite.Sector.prototype.render.call(this,s,r,m,n);if(t.label&&p.getMarker("labels")){p.placeLabel()}},placeLabel:function(){var K=this,y=K.attr,F=y.attributeId,x=Math.min(y.startAngle,y.endAngle),I=Math.max(y.startAngle,y.endAngle),R=(x+I)*0.5,M=y.margin,U=y.centerX,V=y.centerY,W=Math.sin(R),Z=Math.cos(R),N=Math.min(y.startRho,y.endRho)+M,O=Math.max(y.startRho,y.endRho)+M,Q=(N+O)*0.5,aa=K.surfaceMatrix,J=K.labelCfg||(K.labelCfg={}),X=K.getMarker("labels"),Y=X.getTemplate(),ab=Y.getCalloutLine(),G=ab&&ab.length||40,P,S,T,H,L;aa.appendMatrix(y.matrix);J.text=y.label;S=U+Z*Q;T=V+W*Q;J.x=aa.x(S,T);J.y=aa.y(S,T);S=U+Z*O;T=V+W*O;J.calloutStartX=aa.x(S,T);J.calloutStartY=aa.y(S,T);S=U+Z*(O+G);T=V+W*(O+G);J.calloutPlaceX=aa.x(S,T);J.calloutPlaceY=aa.y(S,T);if(!y.rotateLabels){J.rotationRads=0}else{switch(Y.attr.orientation){case"horizontal":J.rotationRads=R+Math.atan2(aa.y(1,0)-aa.y(0,0),aa.x(1,0)-aa.x(0,0))+Math.PI/2;break;case"vertical":J.rotationRads=R+Math.atan2(aa.y(1,0)-aa.y(0,0),aa.x(1,0)-aa.x(0,0));break}}J.calloutColor=(ab&&ab.color)||K.attr.fillStyle;if(ab){if(ab.width){J.calloutWidth=ab.width}}else{J.calloutHasLine=false}J.globalAlpha=y.globalAlpha*y.fillOpacity;J.hidden=(y.startAngle==y.endAngle);if(Y.attr.renderer){L=[K.attr.label,X,J,K.rendererData,K.rendererIndex];H=Ext.callback(Y.attr.renderer,null,L,0,K.getSeries());if(typeof H==="string"){J.text=H}else{Ext.apply(J,H)}}K.putMarker("labels",J,F);P=K.getMarkerBBox("labels",F,true);if(P){if(y.doCallout){if(Y.attr.display==="outside"){K.putMarker("labels",{callout:1},F)}else{if(Y.attr.display==="inside"){K.putMarker("labels",{callout:0},F)}else{K.putMarker("labels",{callout:1-K.sliceContainsLabel(y,P)},F)}}}else{K.putMarker("labels",{globalAlpha:K.sliceContainsLabel(y,P)},F)}}},sliceContainsLabel:function(u,s){var t=u.labelOverflowPadding,q=(u.endRho+u.startRho)/2,r=q+(s.width+t)/2,p=q-(s.width+t)/2,n,v,w,x;if(t<0){return 1}if(s.width+t*2>(u.endRho-u.startRho)){return 0}v=Math.sqrt(u.endRho*u.endRho-r*r);w=Math.sqrt(u.endRho*u.endRho-p*p);n=Math.abs(u.endAngle-u.startAngle);x=(n>Math.PI/2?p:Math.abs(Math.tan(n/2))*p);if(s.height+t*2>Math.min(v,w,x)*2){return 0}return 1}},0,0,0,0,["sprite.pieslice"],[["markerHolder",Ext.chart.MarkerHolder]],[Ext.chart.series.sprite,"PieSlice"],0));(Ext.cmd.derive("Ext.chart.series.Pie",Ext.chart.series.Polar,{type:"pie",seriesType:"pieslice",config:{donut:0,rotation:0,clockwise:true,totalAngle:2*Math.PI,hidden:[],radiusFactor:100,highlightCfg:{margin:20},style:{}},directions:["X"],applyLabel:function(g,e){if(Ext.isObject(g)&&!Ext.isString(g.orientation)){Ext.apply(g=Ext.Object.chain(g),{orientation:"vertical"})}return Ext.chart.series.Polar.prototype.applyLabel.call(this,g,e)},updateLabelData:function(){var q=this,p=q.getStore(),r=p.getData().items,t=q.getSprites(),x=q.getLabel().getTemplate().getField(),u=q.getHidden(),w,s,v,i;if(t.length&&x){v=[];for(w=0,s=r.length;w<s;w++){v.push(r[w].get(x))}for(w=0,s=t.length;w<s;w++){i=t[w];i.setAttributes({label:v[w]});i.putMarker("labels",{hidden:u[w]},i.attr.attributeId)}}},coordinateX:function(){var i=this,K=i.getStore(),A=K.getData().items,N=A.length,O=i.getXField(),L=i.getYField(),F,P=0,E,G,x=0,C=i.getHidden(),M=[],B,J=0,I=i.getTotalAngle(),y=i.getClockwise()?1:-1,H=i.getSprites(),D;if(!H){return}for(B=0;B<N;B++){F=Math.abs(Number(A[B].get(O)))||0;G=L&&Math.abs(Number(A[B].get(L)))||0;if(!C[B]){P+=F;if(G>x){x=G}}M[B]=P;if(B>=C.length){C[B]=false}}C.length=N;i.maxY=x;if(P!==0){E=I/P}for(B=0;B<N;B++){H[B].setAttributes({startAngle:J,endAngle:J=(E?y*M[B]*E:0),globalAlpha:1})}if(N<i.sprites.length){for(B=N;B<i.sprites.length;B++){D=i.sprites[B];D.getMarker("labels").clear(D.getId());D.releaseMarker("labels");D.destroy()}i.sprites.length=N}for(B=N;B<i.sprites.length;B++){H[B].setAttributes({startAngle:I,endAngle:I,globalAlpha:0})}i.getChart().refreshLegendStore()},updateCenter:function(d){this.setStyle({translationX:d[0]+this.getOffsetX(),translationY:d[1]+this.getOffsetY()});this.doUpdateStyles()},updateRadius:function(d){this.setStyle({startRho:d*this.getDonut()*0.01,endRho:d*this.getRadiusFactor()*0.01});this.doUpdateStyles()},getStyleByIndex:function(v){var r=this,p=r.getStore(),i=p.getAt(v),s=r.getYField(),u=r.getRadius(),x={},t,w,q;if(i){q=s&&Math.abs(Number(i.get(s)))||0;t=u*r.getDonut()*0.01;w=u*r.getRadiusFactor()*0.01;x=Ext.chart.series.Polar.prototype.getStyleByIndex.call(this,v);x.startRho=t;x.endRho=r.maxY?(t+(w-t)*q/r.maxY):w}return x},updateDonut:function(e){var g=this.getRadius();this.setStyle({startRho:g*e*0.01,endRho:g*this.getRadiusFactor()*0.01});this.doUpdateStyles()},rotationOffset:-Math.PI/2,updateRotation:function(d){this.setStyle({rotationRads:d+this.rotationOffset});this.doUpdateStyles()},updateTotalAngle:function(d){this.processData()},getSprites:function(){var v=this,x=v.getChart(),i=v.getStore();if(!x||!i){return[]}v.getColors();v.getSubStyle();var w=i.getData().items,D=w.length,B=v.getAnimation()||x&&x.getAnimation(),y=v.sprites,F,u=0,z,A,C=false,t=v.getLabel(),E=t.getTemplate();z={store:i,field:v.getXField(),angleField:v.getXField(),radiusField:v.getYField(),series:v};for(A=0;A<D;A++){F=y[A];if(!F){F=v.createSprite();if(v.getHighlight()){F.config.highlight=v.getHighlight();F.addModifier("highlight",true)}if(E.getField()){E.setAttributes({labelOverflowPadding:v.getLabelOverflowPadding()});E.fx.setCustomDurations({callout:200})}F.setAttributes(v.getStyleByIndex(A));F.rendererData=z;F.rendererIndex=u++;C=true}F.setAnimation(B)}if(C){v.doUpdateStyles()}return v.sprites},betweenAngle:function(l,j,m){var k=Math.PI*2,i=this.rotationOffset;if(!this.getClockwise()){l*=-1;j*=-1;m*=-1;j-=i;m-=i}else{j+=i;m+=i}l-=j;m-=j;l%=k;m%=k;l+=k;m+=k;l%=k;m%=k;return l<m||m===0},getItemForAngle:function(v){var n=this,q=n.getSprites(),s;v%=Math.PI*2;while(v<0){v+=Math.PI*2}if(q){var i=n.getStore(),p=i.getData().items,t=n.getHidden(),u=0,r=i.getCount();for(;u<r;u++){if(!t[u]){s=q[u].attr;if(s.startAngle<=v&&s.endAngle>=v){return{series:n,sprite:q[u],index:u,record:p[u],field:n.getXField()}}}}}return null},getItemForPoint:function(K,L){var i=this,N=i.getSprites();if(N){var x=i.getCenter(),A=i.getOffsetX(),B=i.getOffsetY(),H=K-x[0]+A,I=L-x[1]+B,O=i.getStore(),J=i.getDonut(),C=O.getData().items,y=Math.atan2(I,H)-i.getRotation(),P=Math.sqrt(H*H+I*I),F=i.getRadius()*J*0.01,E=i.getHidden(),D,M,G;for(D=0,M=C.length;D<M;D++){if(!E[D]){G=N[D].attr;if(P>=F+G.margin&&P<=G.endRho+G.margin){if(i.betweenAngle(y,G.startAngle,G.endAngle)){return{series:i,sprite:N[D],index:D,record:C[D],field:i.getXField()}}}}}return null}},provideLegendInfo:function(s){var q=this,p=q.getStore();if(p){var r=p.getData().items,w=q.getLabel().getTemplate().getField(),v=q.getXField(),t=q.getHidden(),u,x,i;for(u=0;u<r.length;u++){x=q.getStyleByIndex(u);i=x.fillStyle;if(Ext.isObject(i)){i=i.stops&&i.stops[0].color}s.push({name:w?String(r[u].get(w)):v+" "+u,mark:i||x.strokeStyle||"black",disabled:t[u],series:q.getId(),index:u})}}}},0,0,0,0,["series.pie"],0,[Ext.chart.series,"Pie"],0));(Ext.cmd.derive("Ext.chart.series.sprite.Pie3DPart",Ext.draw.sprite.Path,{inheritableStatics:{def:{processors:{centerX:"number",centerY:"number",startAngle:"number",endAngle:"number",startRho:"number",endRho:"number",margin:"number",thickness:"number",bevelWidth:"number",distortion:"number",baseColor:"color",colorSpread:"number",baseRotation:"number",part:"enums(top,bottom,start,end,innerFront,innerBack,outerFront,outerBack)",label:"string"},aliases:{rho:"endRho"},triggers:{centerX:"path,bbox",centerY:"path,bbox",startAngle:"path,partZIndex",endAngle:"path,partZIndex",startRho:"path",endRho:"path,bbox",margin:"path,bbox",thickness:"path",distortion:"path",baseRotation:"path,partZIndex",baseColor:"partZIndex,partColor",colorSpread:"partColor",part:"path,partZIndex",globalAlpha:"canvas,alpha"},defaults:{centerX:0,centerY:0,startAngle:Math.PI*2,endAngle:Math.PI*2,startRho:0,endRho:150,margin:0,thickness:35,distortion:0.5,baseRotation:0,baseColor:"white",colorSpread:1,miterLimit:1,bevelWidth:5,strokeOpacity:0,part:"top",label:""},updaters:{alpha:"alphaUpdater",partColor:"partColorUpdater",partZIndex:"partZIndexUpdater"}}},bevelParams:[],constructor:function(d){Ext.draw.sprite.Path.prototype.constructor.call(this,d);this.bevelGradient=new Ext.draw.gradient.Linear({stops:[{offset:0,color:"rgba(255,255,255,0)"},{offset:0.7,color:"rgba(255,255,255,0.6)"},{offset:1,color:"rgba(255,255,255,0)"}]})},alphaUpdater:function(k){var h=this,i=k.globalAlpha,j=h.oldOpacity;if(i!==j&&(i===1||j===1)){h.scheduleUpdater(k,"path",["globalAlpha"]);h.oldOpacity=i}},partColorUpdater:function(m){var j=Ext.draw.Color.fly(m.baseColor),l=j.toString(),i=m.colorSpread,k;switch(m.part){case"top":k=new Ext.draw.gradient.Radial({start:{x:0,y:0,r:0},end:{x:0,y:0,r:1},stops:[{offset:0,color:j.createLighter(0.1*i)},{offset:1,color:j.createDarker(0.1*i)}]});break;case"bottom":k=new Ext.draw.gradient.Radial({start:{x:0,y:0,r:0},end:{x:0,y:0,r:1},stops:[{offset:0,color:j.createDarker(0.2*i)},{offset:1,color:j.toString()}]});break;case"outerFront":case"outerBack":k=new Ext.draw.gradient.Linear({stops:[{offset:0,color:j.createDarker(0.15*i).toString()},{offset:0.3,color:l},{offset:0.8,color:j.createLighter(0.2*i).toString()},{offset:1,color:j.createDarker(0.25*i).toString()}]});break;case"start":k=new Ext.draw.gradient.Linear({stops:[{offset:0,color:j.createDarker(0.1*i).toString()},{offset:1,color:j.createLighter(0.2*i).toString()}]});break;case"end":k=new Ext.draw.gradient.Linear({stops:[{offset:0,color:j.createDarker(0.1*i).toString()},{offset:1,color:j.createLighter(0.2*i).toString()}]});break;case"innerFront":case"innerBack":k=new Ext.draw.gradient.Linear({stops:[{offset:0,color:j.createDarker(0.1*i).toString()},{offset:0.2,color:j.createLighter(0.2*i).toString()},{offset:0.7,color:l},{offset:1,color:j.createDarker(0.1*i).toString()}]});break}m.fillStyle=k;m.canvasAttributes.fillStyle=k},partZIndexUpdater:function(p){var m=Ext.draw.sprite.AttributeParser.angle,k=p.baseRotation,l=p.startAngle,n=p.endAngle,j;switch(p.part){case"top":p.zIndex=5;break;case"outerFront":l=m(l+k);n=m(n+k);if(l>=0&&n<0){j=Math.sin(l)}else{if(l<=0&&n>0){j=Math.sin(n)}else{if(l>=0&&n>0){if(l>n){j=0}else{j=Math.max(Math.sin(l),Math.sin(n))}}else{j=1}}}p.zIndex=4+j;break;case"outerBack":p.zIndex=1;break;case"start":p.zIndex=4+Math.sin(m(l+k));break;case"end":p.zIndex=4+Math.sin(m(n+k));break;case"innerFront":p.zIndex=2;break;case"innerBack":p.zIndex=4+Math.sin(m((l+n)/2+k));break;case"bottom":p.zIndex=0;break}p.dirtyZIndex=true},updatePlainBBox:function(r){var w=this.attr,B=w.part,A=w.baseRotation,x=w.centerX,y=w.centerY,s,z,t,u,v,q;if(B==="start"){z=w.startAngle+A}else{if(B==="end"){z=w.endAngle+A}}if(Ext.isNumber(z)){v=Math.sin(z);q=Math.cos(z);t=Math.min(x+q*w.startRho,x+q*w.endRho);u=y+v*w.startRho*w.distortion;r.x=t;r.y=u;r.width=q*(w.endRho-w.startRho);r.height=w.thickness+v*(w.endRho-w.startRho)*2;return}if(B==="innerFront"||B==="innerBack"){s=w.startRho}else{s=w.endRho}r.width=s*2;r.height=s*w.distortion*2+w.thickness;r.x=w.centerX-s;r.y=w.centerY-s*w.distortion},updateTransformedBBox:function(d){if(this.attr.part==="start"||this.attr.part==="end"){return Ext.draw.sprite.Path.prototype.updateTransformedBBox.apply(this,arguments)}return this.updatePlainBBox(d)},updatePath:function(d){if(!this.attr.globalAlpha){return}if(this.attr.endAngle<this.attr.startAngle){return}this[this.attr.part+"Renderer"](d)},render:function(j,i){var h=this,k=h.attr;if(!k.globalAlpha){return}Ext.draw.sprite.Path.prototype.render.call(this,j,i);h.bevelRenderer(j,i);if(k.label&&h.getMarker("labels")){h.placeLabel()}},placeLabel:function(){var I=this,O=I.attr,x=O.attributeId,G=O.margin,X=O.distortion,R=O.centerX,S=O.centerY,Q=O.baseRotation,L=O.startAngle+Q,E=O.endAngle+Q,M=(L+E)/2,J=O.startRho+G,H=O.endRho+G,K=(J+H)/2,Z=Math.sin(M),Y=Math.cos(M),V=I.surfaceMatrix,T=I.getMarker("labels"),U=T.getTemplate(),W=U.getCalloutLine(),y=W&&W.length||40,F={},N,P;V.appendMatrix(O.matrix);F.text=O.label;N=R+Y*K;P=S+Z*K*X;F.x=V.x(N,P);F.y=V.y(N,P);N=R+Y*H;P=S+Z*H*X;F.calloutStartX=V.x(N,P);F.calloutStartY=V.y(N,P);N=R+Y*(H+y);P=S+Z*(H+y)*X;F.calloutPlaceX=V.x(N,P);F.calloutPlaceY=V.y(N,P);F.calloutWidth=2;I.putMarker("labels",F,x);I.putMarker("labels",{callout:1},x)},bevelRenderer:function(q,p){var l=this,r=l.attr,m=r.bevelWidth,i=l.bevelParams,n;for(n=0;n<i.length;n++){p.beginPath();p.ellipse.apply(p,i[n]);p.save();p.lineWidth=m;p.strokeOpacity=m?1:0;p.strokeGradient=l.bevelGradient;p.stroke(r);p.restore()}},lidRenderer:function(H,u){var w=this.attr,A=w.margin,E=w.distortion,y=w.centerX,z=w.centerY,B=w.baseRotation,x=w.startAngle+B,C=w.endAngle+B,D=(x+C)/2,v=w.startRho,F=w.endRho,t=Math.sin(C),G=Math.cos(C);y+=Math.cos(D)*A;z+=Math.sin(D)*A*E;H.ellipse(y,z+u,v,v*E,0,x,C,false);H.lineTo(y+G*F,z+u+t*F*E);H.ellipse(y,z+u,F,F*E,0,C,x,true);H.closePath()},topRenderer:function(d){this.lidRenderer(d,0)},bottomRenderer:function(e){var g=this.attr;if(g.globalAlpha<1||g.shadowColor!==Ext.draw.Color.RGBA_NONE){this.lidRenderer(e,g.thickness)}},sideRenderer:function(E,x){var B=this.attr,F=B.margin,J=B.centerX,K=B.centerY,L=B.distortion,I=B.baseRotation,A=B.startAngle+I,D=B.endAngle+I,P=B.thickness,z=B.startRho,G=B.endRho,y=(x==="start"&&A)||(x==="end"&&D),O=Math.sin(y),M=Math.cos(y),N=B.globalAlpha<1,C=x==="start"&&M<0||x==="end"&&M>0||N,H;if(C){H=(A+D)/2;J+=Math.cos(H)*F;K+=Math.sin(H)*F*L;E.moveTo(J+M*z,K+O*z*L);E.lineTo(J+M*G,K+O*G*L);E.lineTo(J+M*G,K+O*G*L+P);E.lineTo(J+M*z,K+O*z*L+P);E.closePath()}},startRenderer:function(d){this.sideRenderer(d,"start")},endRenderer:function(d){this.sideRenderer(d,"end")},rimRenderer:function(H,V,J,Q){var O=this,F=O.attr,I=F.margin,S=F.centerX,T=F.centerY,W=F.distortion,R=F.baseRotation,E=Ext.draw.sprite.AttributeParser.angle,D=F.startAngle+R,G=F.endAngle+R,P=E((D+G)/2),Z=F.thickness,Y=F.globalAlpha<1,X,K,C;O.bevelParams=[];D=E(D);G=E(G);S+=Math.cos(P)*I;T+=Math.sin(P)*I*W;X=D>=0&&G>=0;K=D<=0&&G<=0;function N(){H.ellipse(S,T+Z,V,V*W,0,Math.PI,D,true);H.lineTo(S+Math.cos(D)*V,T+Math.sin(D)*V*W);C=[S,T,V,V*W,0,D,Math.PI,false];if(!J){O.bevelParams.push(C)}H.ellipse.apply(H,C);H.closePath()}function U(){H.ellipse(S,T+Z,V,V*W,0,0,G,false);H.lineTo(S+Math.cos(G)*V,T+Math.sin(G)*V*W);C=[S,T,V,V*W,0,G,0,true];if(!J){O.bevelParams.push(C)}H.ellipse.apply(H,C);H.closePath()}function M(){H.ellipse(S,T+Z,V,V*W,0,Math.PI,G,false);H.lineTo(S+Math.cos(G)*V,T+Math.sin(G)*V*W);C=[S,T,V,V*W,0,G,Math.PI,true];if(J){O.bevelParams.push(C)}H.ellipse.apply(H,C);H.closePath()}function L(){H.ellipse(S,T+Z,V,V*W,0,D,0,false);H.lineTo(S+V,T);C=[S,T,V,V*W,0,0,D,true];if(J){O.bevelParams.push(C)}H.ellipse.apply(H,C);H.closePath()}if(Q){if(!J||Y){if(D>=0&&G<0){N()}else{if(D<=0&&G>0){U()}else{if(D<=0&&G<0){if(D>G){H.ellipse(S,T+Z,V,V*W,0,0,Math.PI,false);H.lineTo(S-V,T);C=[S,T,V,V*W,0,Math.PI,0,true];if(!J){O.bevelParams.push(C)}H.ellipse.apply(H,C);H.closePath()}}else{if(D>G){N();U()}else{C=[S,T,V,V*W,0,D,G,false];if(X&&!J||K&&J){O.bevelParams.push(C)}H.ellipse.apply(H,C);H.lineTo(S+Math.cos(G)*V,T+Math.sin(G)*V*W+Z);H.ellipse(S,T+Z,V,V*W,0,G,D,true);H.closePath()}}}}}}else{if(J||Y){if(D>=0&&G<0){M()}else{if(D<=0&&G>0){L()}else{if(D<=0&&G<0){if(D>G){M();L()}else{H.ellipse(S,T+Z,V,V*W,0,D,G,false);H.lineTo(S+Math.cos(G)*V,T+Math.sin(G)*V*W);C=[S,T,V,V*W,0,G,D,true];if(J){O.bevelParams.push(C)}H.ellipse.apply(H,C);H.closePath()}}else{if(D>G){H.ellipse(S,T+Z,V,V*W,0,-Math.PI,0,false);H.lineTo(S+V,T);C=[S,T,V,V*W,0,0,-Math.PI,true];if(J){O.bevelParams.push(C)}H.ellipse.apply(H,C);H.closePath()}}}}}}},innerFrontRenderer:function(d){this.rimRenderer(d,this.attr.startRho,true,true)},innerBackRenderer:function(d){this.rimRenderer(d,this.attr.startRho,true,false)},outerFrontRenderer:function(d){this.rimRenderer(d,this.attr.endRho,false,true)},outerBackRenderer:function(d){this.rimRenderer(d,this.attr.endRho,false,false)}},1,0,0,0,["sprite.pie3dPart"],[["markerHolder",Ext.chart.MarkerHolder]],[Ext.chart.series.sprite,"Pie3DPart"],0));(Ext.cmd.derive("Ext.draw.PathUtil",Ext.Base,function(){var p=Math.abs,m=Math.pow,k=Math.cos,n=Math.acos,l=Math.sqrt,j=Math.PI;return{singleton:true,cubicRoots:function(I){var h=I[0],B=I[1],c=I[2],d=I[3];if(h===0){return this.quadraticRoots(B,c,d)}var g=B/h,i=c/h,A=d/h,K=(3*i-m(g,2))/9,L=(9*g*i-27*A-2*m(g,3))/54,C=m(K,3)+m(L,2),H=[],M,N,D,J,e,t=Ext.Number.sign;if(C>=0){M=t(L+l(C))*m(p(L+l(C)),1/3);N=t(L-l(C))*m(p(L-l(C)),1/3);H[0]=-g/3+(M+N);H[1]=-g/3-(M+N)/2;H[2]=H[1];D=p(l(3)*(M-N)/2);if(D!==0){H[1]=-1;H[2]=-1}}else{J=n(L/l(-m(K,3)));H[0]=2*l(-K)*k(J/3)-g/3;H[1]=2*l(-K)*k((J+2*j)/3)-g/3;H[2]=2*l(-K)*k((J+4*j)/3)-g/3}for(e=0;e<3;e++){if(H[e]<0||H[e]>1){H[e]=-1}}return H},quadraticRoots:function(e,g,h){var i,r,c,d;if(e===0){return this.linearRoot(g,h)}i=g*g-4*e*h;if(i===0){c=[-g/(2*e)]}else{if(i>0){r=l(i);c=[(-g-r)/(2*e),(-g+r)/(2*e)]}else{return[]}}for(d=0;d<c.length;d++){if(c[d]<0||c[d]>1){c[d]=-1}}return c},linearRoot:function(d,e){var c=-e/d;if(d===0||c<0||c>1){return[]}return[c]},bezierCoeffs:function(e,g,h,c){var d=[];d[0]=-e+3*g-3*h+c;d[1]=3*e-6*g+3*h;d[2]=-3*e+3*g;d[3]=e;return d},cubicLineIntersections:function(i,A,B,S,ab,ac,ad,ae,d,U,g,Z){var C=[],c=[],T=U-Z,W=g-d,X=d*(Z-U)-U*(g-d),e=this.bezierCoeffs(i,A,B,S),h=this.bezierCoeffs(ab,ac,ad,ae),s,Y,r,t,af,P,V,aa;C[0]=T*e[0]+W*h[0];C[1]=T*e[1]+W*h[1];C[2]=T*e[2]+W*h[2];C[3]=T*e[3]+W*h[3]+X;Y=this.cubicRoots(C);for(s=0;s<Y.length;s++){t=Y[s];if(t<0||t>1){continue}af=t*t;P=af*t;V=e[0]*P+e[1]*af+e[2]*t+e[3];aa=h[0]*P+h[1]*af+h[2]*t+h[3];if((g-d)!==0){r=(V-d)/(g-d)}else{r=(aa-U)/(Z-U)}if(!(r<0||r>1)){c.push([V,aa])}}return c},splitCubic:function(w,x,y,z,d){var h=d*d,c=d*h,i=d-1,v=i*i,g=i*v,e=c*z-3*h*i*y+3*d*v*x-g*w;return[[w,d*x-i*w,h*y-2*d*i*x+v*w,e],[e,h*z-2*d*i*y+v*x,d*z-i*y,z]]},cubicDimension:function(A,B,e,g){var h=3*(-A+3*(B-e)+g),i=6*(A-2*B+e),w=-3*(A-B),z,c,x=Math.min(A,g),d=Math.max(A,g),y;if(h===0){if(i===0){return[x,d]}else{z=-w/i;if(0<z&&z<1){c=this.interpolateCubic(A,B,e,g,z);x=Math.min(x,c);d=Math.max(d,c)}}}else{y=i*i-4*h*w;if(y>=0){y=l(y);z=(y-i)/2/h;if(0<z&&z<1){c=this.interpolateCubic(A,B,e,g,z);x=Math.min(x,c);d=Math.max(d,c)}if(y>0){z-=y/h;if(0<z&&z<1){c=this.interpolateCubic(A,B,e,g,z);x=Math.min(x,c);d=Math.max(d,c)}}}}return[x,d]},interpolateCubic:function(e,g,h,i,d){if(d===0){return e}if(d===1){return i}var c=(1-d)/d;return d*d*d*(i+c*(3*h+c*(3*g+c*e)))},cubicsIntersections:function(M,O,Q,R,P,S,U,c,ad,e,h,K,W,Y,Z,ab){var L=this,V=L.cubicDimension(M,O,Q,R),N=L.cubicDimension(P,S,U,c),T=L.cubicDimension(ad,e,h,K),i=L.cubicDimension(W,Y,Z,ab),aa,ac,d,g,X=[];if(V[0]>T[1]||V[1]<T[0]||N[0]>i[1]||N[1]<i[0]){return[]}if(p(P-S)<1&&p(U-c)<1&&p(M-R)<1&&p(O-Q)<1&&p(W-Y)<1&&p(Z-ab)<1&&p(ad-K)<1&&p(e-h)<1){return[[(M+R)*0.5,(P+S)*0.5]]}aa=L.splitCubic(M,O,Q,R,0.5);ac=L.splitCubic(P,S,U,c,0.5);d=L.splitCubic(ad,e,h,K,0.5);g=L.splitCubic(W,Y,Z,ab,0.5);X.push.apply(X,L.cubicsIntersections.apply(L,aa[0].concat(ac[0],d[0],g[0])));X.push.apply(X,L.cubicsIntersections.apply(L,aa[0].concat(ac[0],d[1],g[1])));X.push.apply(X,L.cubicsIntersections.apply(L,aa[1].concat(ac[1],d[0],g[0])));X.push.apply(X,L.cubicsIntersections.apply(L,aa[1].concat(ac[1],d[1],g[1])));return X},linesIntersection:function(g,y,h,z,v,c,x,d){var e=(h-g)*(d-c)-(z-y)*(x-v),i,w;if(e===0){return null}i=((x-v)*(y-c)-(g-v)*(d-c))/e;w=((h-g)*(y-c)-(z-y)*(g-v))/e;if(i>=0&&i<=1&&w>=0&&w<=1){return[g+i*(h-g),y+i*(z-y)]}return null},pointOnLine:function(c,i,e,s,g,h){var t,d;if(p(e-c)<p(s-i)){d=c;c=i;i=d;d=e;e=s;s=d;d=g;g=h;h=d}t=(g-c)/(e-c);if(t<0||t>1){return false}return p(i+t*(s-i)-h)<4},pointOnCubic:function(H,c,d,e,L,M,N,O,t,G){var h=this,i=h.bezierCoeffs(H,c,d,e),x=h.bezierCoeffs(L,M,N,O),y,J,I,K,g;i[3]-=t;x[3]-=G;I=h.cubicRoots(i);K=h.cubicRoots(x);for(y=0;y<I.length;y++){g=I[y];for(J=0;J<K.length;J++){if(g>=0&&g<=1&&p(g-K[J])<0.05){return true}}}return false}}},0,0,0,0,0,0,[Ext.draw,"PathUtil"],0));(Ext.cmd.derive("Ext.chart.series.Pie3D",Ext.chart.series.Polar,{type:"pie3d",seriesType:"pie3d",isPie3D:true,config:{rect:[0,0,0,0],thickness:35,distortion:0.5,donut:false,hidden:[],highlightCfg:{margin:20},shadow:false},rotationOffset:-Math.PI/2,setField:function(d){return this.setXField(d)},getField:function(){return this.getXField()},updateRotation:function(d){this.setStyle({baseRotation:d+this.rotationOffset});this.doUpdateStyles()},updateDistortion:function(){this.setRadius()},updateThickness:function(){this.setRadius()},updateColors:function(d){this.setSubStyle({baseColor:d})},applyShadow:function(d){if(d===true){d={shadowColor:"rgba(0,0,0,0.8)",shadowBlur:30}}else{if(!Ext.isObject(d)){d={shadowColor:Ext.draw.Color.RGBA_NONE}}}return d},updateShadow:function(i){var m=this,l=m.getSprites(),n=m.spritesPerSlice,p=l&&l.length,q,r;for(q=1;q<p;q+=n){r=l[q];if(r.attr.part="bottom"){r.setAttributes(i)}}},getStyleByIndex:function(l){var j=Ext.chart.series.Polar.prototype.getStyleByIndex.call(this,l),k=this.getStyle(),m=j.fillStyle||j.fill||j.color,i=k.strokeStyle||k.stroke;if(m){j.baseColor=m;delete j.fillStyle;delete j.fill;delete j.color}if(i){j.strokeStyle=i}return j},doUpdateStyles:function(){var i=this,t=i.getSprites(),j=i.spritesPerSlice,k=t&&t.length,q=0,r=0,s,p;for(;q<k;q+=j,r++){p=i.getStyleByIndex(r);for(s=0;s<j;s++){t[q+s].setAttributes(p)}}},coordinateX:function(){var J=this,I=J.getChart(),j=I&&I.getAnimation(),O=J.getStore(),B=O.getData().items,Q=B.length,S=J.getXField(),F=J.getRotation(),C=J.getHidden(),H,R=0,M,P=[],L=J.getSprites(),T=L.length,K=J.spritesPerSlice,N=0,G=Math.PI*2,i=1e-10,D,E;for(D=0;D<Q;D++){H=Math.abs(Number(B[D].get(S)))||0;if(!C[D]){R+=H}P[D]=R;if(D>=C.length){C[D]=false}}C.length=Q;if(R===0){return}M=2*Math.PI/R;for(D=0;D<Q;D++){P[D]*=M}for(D=0;D<T;D++){L[D].setAnimation(j)}for(D=0;D<Q;D++){for(E=0;E<K;E++){L[D*K+E].setAttributes({startAngle:N,endAngle:P[D]-i,globalAlpha:1,baseRotation:F})}N=P[D]}for(D*=K;D<T;D++){L[D].setAnimation(j);L[D].setAttributes({startAngle:G,endAngle:G,globalAlpha:0,baseRotation:F})}},updateLabelData:function(){var s=this,j=s.getStore(),t=j.getData().items,u=s.getSprites(),A=s.getLabel().getTemplate().getField(),w=s.getHidden(),B=s.spritesPerSlice,y,z,v,x,i;if(u.length&&A){x=[];for(y=0,v=t.length;y<v;y++){x.push(t[y].get(A))}for(y=0,z=0,v=u.length;y<v;y+=B,z++){i=u[y];i.setAttributes({label:x[z]});i.putMarker("labels",{hidden:w[z]},i.attr.attributeId)}}},applyRadius:function(){var n=this,q=n.getChart(),l=q.getInnerPadding(),p=q.getMainRect()||[0,0,1,1],r=p[2]-l*2,t=p[3]-l*2-n.getThickness(),m=r/2,s=m*n.getDistortion();if(s>t/2){return t/(n.getDistortion()*2)}else{return m}},getSprites:function(){var J=this,T=J.getStore();if(!T){return[]}var K=J.getChart(),H=J.getSurface(),D=T.getData().items,O=J.spritesPerSlice,X=D.length,i=J.getAnimation()||K&&K.getAnimation(),M=J.getCenter(),N=J.getOffsetX(),j=J.getOffsetY(),W=J.getRadius(),G=J.getRotation(),U=J.getHighlight(),V={centerX:M[0]+N,centerY:M[1]+j-J.getThickness()/2,endRho:W,startRho:W*J.getDonut()/100,thickness:J.getThickness(),distortion:J.getDistortion()},P=J.sprites,Q=J.getLabel(),S=Q.getTemplate(),L,R,I,E,F;for(E=0;E<X;E++){R=Ext.apply({},this.getStyleByIndex(E),V);if(!P[E*O]){for(F=0;F<J.partNames.length;F++){I=H.add({type:"pie3dPart",part:J.partNames[F]});if(F===0&&S.getField()){I.bindMarker("labels",Q)}I.fx.setDurationOn("baseRotation",G);if(U){I.config.highlight=U;I.addModifier("highlight",true)}I.setAttributes(R);P.push(I)}}else{L=P.slice(E*O,(E+1)*O);for(F=0;F<L.length;F++){I=L[F];if(i){I.setAnimation(i)}I.setAttributes(R)}}}return P},betweenAngle:function(l,j,m){var k=Math.PI*2,i=this.rotationOffset;j+=i;m+=i;l-=j;m-=j;l%=k;m%=k;l+=k;m+=k;l%=k;m%=k;return l<m||m===0},getItemForPoint:function(s,t){var u=this,v=u.getSprites();if(v){var r=u.getStore(),A=r.getData().items,B=u.spritesPerSlice,x=u.getHidden(),z,w,i,y;for(z=0,w=A.length;z<w;z++){if(!x[z]){y=z*B;i=v[y];if(i.hitTest([s,t])){return{series:u,sprite:v.slice(y,y+B),index:z,record:A[z],category:"sprites",field:u.getXField()}}}}return null}},provideLegendInfo:function(s){var q=this,i=q.getStore();if(i){var r=i.getData().items,w=q.getLabel().getTemplate().getField(),p=q.getField(),t=q.getHidden(),u,x,v;for(u=0;u<r.length;u++){x=q.getStyleByIndex(u);v=x.baseColor;s.push({name:w?String(r[u].get(w)):p+" "+u,mark:v||"black",disabled:t[u],series:q.getId(),index:u})}}}},0,0,0,0,["series.pie3d"],0,[Ext.chart.series,"Pie3D"],function(){var e=this.prototype,g=Ext.chart.series.sprite.Pie3DPart.def.getInitialConfig().processors.part;e.partNames=g.replace(/^enums\(|\)/g,"").split(",");e.spritesPerSlice=e.partNames.length}));(Ext.cmd.derive("Ext.chart.series.sprite.Polar",Ext.chart.series.sprite.Series,{inheritableStatics:{def:{processors:{centerX:"number",centerY:"number",startAngle:"number",endAngle:"number",startRho:"number",endRho:"number",baseRotation:"number",labels:"default",labelOverflowPadding:"number"},defaults:{centerX:0,centerY:0,startAngle:0,endAngle:Math.PI,startRho:0,endRho:150,baseRotation:0,labels:null,labelOverflowPadding:10},triggers:{centerX:"bbox",centerY:"bbox",startAngle:"bbox",endAngle:"bbox",startRho:"bbox",endRho:"bbox",baseRotation:"bbox"}}},updatePlainBBox:function(e){var g=this.attr;e.x=g.centerX-g.endRho;e.y=g.centerY+g.endRho;e.width=g.endRho*2;e.height=g.endRho*2}},0,0,0,0,0,0,[Ext.chart.series.sprite,"Polar"],0));(Ext.cmd.derive("Ext.chart.series.sprite.Radar",Ext.chart.series.sprite.Polar,{getDataPointXY:function(O){var F=this,D=F.attr,M=D.centerX,N=D.centerY,C=D.matrix,r=D.dataMinX,x=D.dataMaxX,H=D.dataX,I=D.dataY,G=D.endRho,B=D.startRho,L=D.baseRotation,J,K,E,P,Q,R,y;if(D.rangeY){y=D.rangeY[1]}else{y=D.dataMaxY}P=(H[O]-r)/(x-r+1)*2*Math.PI+L;E=I[O]/y*(G-B)+B;Q=M+Math.cos(P)*E;R=N+Math.sin(P)*E;J=C.x(Q,R);K=C.y(Q,R);return[J,K]},render:function(B,r){var u=this,w=u.attr,v=w.dataX,A=v.length,x=u.surfaceMatrix,y={},z,s,t,i;r.beginPath();for(z=0;z<A;z++){i=u.getDataPointXY(z);s=i[0];t=i[1];if(z===0){r.moveTo(s,t)}r.lineTo(s,t);y.translationX=x.x(s,t);y.translationY=x.y(s,t);u.putMarker("markers",y,z,true)}r.closePath();r.fillStroke(w)}},0,0,0,0,["sprite.radar"],0,[Ext.chart.series.sprite,"Radar"],0));(Ext.cmd.derive("Ext.chart.series.Radar",Ext.chart.series.Polar,{type:"radar",seriesType:"radar",themeColorCount:function(){return 1},isStoreDependantColorCount:false,themeMarkerCount:function(){return 1},updateAngularAxis:function(d){d.processData(this)},updateRadialAxis:function(d){d.processData(this)},coordinateX:function(){return this.coordinate("X",0,2)},coordinateY:function(){return this.coordinate("Y",1,2)},updateCenter:function(d){this.setStyle({translationX:d[0]+this.getOffsetX(),translationY:d[1]+this.getOffsetY()});this.doUpdateStyles()},updateRadius:function(d){this.setStyle({endRho:d});this.doUpdateStyles()},updateRotation:function(d){this.setStyle({rotationRads:d});this.doUpdateStyles()},updateTotalAngle:function(d){this.processData()},getItemForPoint:function(w,x){var y=this,u=y.sprites&&y.sprites[0],A=u.attr,z=A.dataX,F=z.length,v=y.getStore(),B=y.getMarker(),E,H,G,C,i,D;if(y.getHidden()){return null}if(u&&B){D=u.getMarker("markers");for(C=0;C<F;C++){i=D.getBBoxFor(C);E=(i.width+i.height)*0.25;G=u.getDataPointXY(C);if(Math.abs(G[0]-w)<E&&Math.abs(G[1]-x)<E){H={series:y,sprite:u,index:C,category:"markers",record:v.getData().items[C],field:y.getYField()};return H}}}return Ext.chart.series.Polar.prototype.getItemForPoint.apply(this,arguments)},getDefaultSpriteConfig:function(){var g=Ext.chart.series.Polar.prototype.getDefaultSpriteConfig.call(this),e={customDurations:{translationX:0,translationY:0,rotationRads:0,dataMinX:0,dataMaxX:0}};if(g.fx){Ext.apply(g.fx,e)}else{g.fx=e}return g},getSprites:function(){var j=this,k=j.getChart(),i=j.getAnimation()||k&&k.getAnimation(),l=j.sprites[0],m;if(!k){return[]}if(!l){l=j.createSprite()}if(i){m=l.getMarker("markers");if(m){m.getTemplate().setAnimation(i)}l.setAnimation(i)}return j.sprites},provideLegendInfo:function(h){var j=this,k=j.getSubStyleWithTheme(),i=k.fillStyle;if(Ext.isArray(i)){i=i[0]}h.push({name:j.getTitle()||j.getYField()||j.getId(),mark:(Ext.isObject(i)?i.stops&&i.stops[0].color:i)||k.strokeStyle||"black",disabled:j.getHidden(),series:j.getId(),index:0})}},0,0,0,0,["series.radar"],0,[Ext.chart.series,"Radar"],0));(Ext.cmd.derive("Ext.chart.series.sprite.Scatter",Ext.chart.series.sprite.Cartesian,{renderClipped:function(J,y,Q,U){if(this.cleanRedraw){return}var I=this,L=I.attr,V=L.dataX,Y=L.dataY,P=L.labels,X=I.getSeries(),ae=P&&I.getMarker("labels"),i=I.attr.matrix,ad=i.getXX(),N=i.getYY(),T=i.getDX(),W=i.getDY(),R={},x,K,ac=J.getInherited().rtl&&!L.flipXY?-1:1,af,M,O,ab,Z,aa,S;if(L.flipXY){af=U[1]-ad*ac;M=U[1]+U[3]+ad*ac;O=U[0]-N;ab=U[0]+U[2]+N}else{af=U[0]-ad*ac;M=U[0]+U[2]+ad*ac;O=U[1]-N;ab=U[1]+U[3]+N}for(S=0;S<V.length;S++){Z=V[S];aa=Y[S];Z=Z*ad+T;aa=aa*N+W;if(af<=Z&&Z<=M&&O<=aa&&aa<=ab){if(L.renderer){R={type:"items",translationX:Z,translationY:aa};K=[I,R,{store:I.getStore()},S];x=Ext.callback(L.renderer,null,K,0,X);R=Ext.apply(R,x)}else{R.translationX=Z;R.translationY=aa}I.putMarker("items",R,S,!L.renderer);if(ae&&P[S]){I.drawLabel(P[S],Z,aa,S,U)}}}},drawLabel:function(G,I,J,A,P){var y=this,D=y.attr,M=y.getMarker("labels"),N=M.getTemplate(),E=y.labelCfg||(y.labelCfg={}),O=y.surfaceMatrix,K,L,H=D.labelOverflowPadding,B=D.flipXY,F,C,x,z;E.text=G;C=y.getMarkerBBox("labels",A,true);if(!C){y.putMarker("labels",E,A);C=y.getMarkerBBox("labels",A,true)}if(B){E.rotationRads=Math.PI*0.5}else{E.rotationRads=0}F=C.height/2;K=I;switch(N.attr.display){case"under":L=J-F-H;break;case"rotate":K+=H;L=J-H;E.rotationRads=-Math.PI/4;break;default:L=J+F+H}E.x=O.x(K,L);E.y=O.y(K,L);if(N.attr.renderer){z=[G,M,E,{store:y.getStore()},A];x=Ext.callback(N.attr.renderer,null,z,0,y.getSeries());if(typeof x==="string"){E.text=x}else{Ext.apply(E,x)}}y.putMarker("labels",E,A)}},0,0,0,0,["sprite.scatterSeries"],0,[Ext.chart.series.sprite,"Scatter"],0));(Ext.cmd.derive("Ext.chart.series.Scatter",Ext.chart.series.Cartesian,{type:"scatter",seriesType:"scatterSeries",config:{itemInstancing:{fx:{customDurations:{translationX:0,translationY:0}}}},themeMarkerCount:function(){return 1},applyMarker:function(e,g){this.getItemInstancing();this.setItemInstancing(e);return Ext.chart.series.Cartesian.prototype.applyMarker.apply(this,arguments)},provideLegendInfo:function(h){var j=this,k=j.getMarkerStyleByIndex(0),i=k.fillStyle;h.push({name:j.getTitle()||j.getYField()||j.getId(),mark:(Ext.isObject(i)?i.stops&&i.stops[0].color:i)||k.strokeStyle||"black",disabled:j.getHidden(),series:j.getId(),index:0})}},0,0,0,0,["series.scatter"],0,[Ext.chart.series,"Scatter"],0));(Ext.cmd.derive("Ext.chart.theme.Blue",Ext.chart.theme.Base,{singleton:true,config:{baseColor:"#4d7fe6"}},0,0,0,0,["chart.theme.Blue","chart.theme.blue"],0,[Ext.chart.theme,"Blue"],0));(Ext.cmd.derive("Ext.chart.theme.BlueGradients",Ext.chart.theme.Base,{singleton:true,config:{baseColor:"#4d7fe6",gradients:{type:"linear",degrees:90}}},0,0,0,0,["chart.theme.Blue:gradients","chart.theme.blue-gradients"],0,[Ext.chart.theme,"BlueGradients"],0));(Ext.cmd.derive("Ext.chart.theme.Category1",Ext.chart.theme.Base,{singleton:true,config:{colors:["#f0a50a","#c20024","#2044ba","#810065","#7eae29"]}},0,0,0,0,["chart.theme.Category1","chart.theme.category1"],0,[Ext.chart.theme,"Category1"],0));(Ext.cmd.derive("Ext.chart.theme.Category1Gradients",Ext.chart.theme.Base,{singleton:true,config:{colors:["#f0a50a","#c20024","#2044ba","#810065","#7eae29"],gradients:{type:"linear",degrees:90}}},0,0,0,0,["chart.theme.Category1:gradients","chart.theme.category1-gradients"],0,[Ext.chart.theme,"Category1Gradients"],0));(Ext.cmd.derive("Ext.chart.theme.Category2",Ext.chart.theme.Base,{singleton:true,config:{colors:["#6d9824","#87146e","#2a9196","#d39006","#1e40ac"]}},0,0,0,0,["chart.theme.Category2","chart.theme.category2"],0,[Ext.chart.theme,"Category2"],0));(Ext.cmd.derive("Ext.chart.theme.Category2Gradients",Ext.chart.theme.Base,{singleton:true,config:{colors:["#6d9824","#87146e","#2a9196","#d39006","#1e40ac"],gradients:{type:"linear",degrees:90}}},0,0,0,0,["chart.theme.Category2:gradients","chart.theme.category2-gradients"],0,[Ext.chart.theme,"Category2Gradients"],0));(Ext.cmd.derive("Ext.chart.theme.Category3",Ext.chart.theme.Base,{singleton:true,config:{colors:["#fbbc29","#ce2e4e","#7e0062","#158b90","#57880e"]}},0,0,0,0,["chart.theme.Category3","chart.theme.category3"],0,[Ext.chart.theme,"Category3"],0));(Ext.cmd.derive("Ext.chart.theme.Category3Gradients",Ext.chart.theme.Base,{singleton:true,config:{colors:["#fbbc29","#ce2e4e","#7e0062","#158b90","#57880e"],gradients:{type:"linear",degrees:90}}},0,0,0,0,["chart.theme.Category3:gradients","chart.theme.category3-gradients"],0,[Ext.chart.theme,"Category3Gradients"],0));(Ext.cmd.derive("Ext.chart.theme.Category4",Ext.chart.theme.Base,{singleton:true,config:{colors:["#ef5773","#fcbd2a","#4f770d","#1d3eaa","#9b001f"]}},0,0,0,0,["chart.theme.Category4","chart.theme.category4"],0,[Ext.chart.theme,"Category4"],0));(Ext.cmd.derive("Ext.chart.theme.Category4Gradients",Ext.chart.theme.Base,{singleton:true,config:{colors:["#ef5773","#fcbd2a","#4f770d","#1d3eaa","#9b001f"],gradients:{type:"linear",degrees:90}}},0,0,0,0,["chart.theme.Category4:gradients","chart.theme.category4-gradients"],0,[Ext.chart.theme,"Category4Gradients"],0));(Ext.cmd.derive("Ext.chart.theme.Category5",Ext.chart.theme.Base,{singleton:true,config:{colors:["#7eae29","#fdbe2a","#910019","#27b4bc","#d74dbc"]}},0,0,0,0,["chart.theme.Category5","chart.theme.category5"],0,[Ext.chart.theme,"Category5"],0));(Ext.cmd.derive("Ext.chart.theme.Category5Gradients",Ext.chart.theme.Base,{singleton:true,config:{colors:["#7eae29","#fdbe2a","#910019","#27b4bc","#d74dbc"],gradients:{type:"linear",degrees:90}}},0,0,0,0,["chart.theme.Category5:gradients","chart.theme.category5-gradients"],0,[Ext.chart.theme,"Category5Gradients"],0));(Ext.cmd.derive("Ext.chart.theme.Category6",Ext.chart.theme.Base,{singleton:true,config:{colors:["#44dce1","#0b2592","#996e05","#7fb325","#b821a1"]}},0,0,0,0,["chart.theme.Category6","chart.theme.category6"],0,[Ext.chart.theme,"Category6"],0));(Ext.cmd.derive("Ext.chart.theme.Category6Gradients",Ext.chart.theme.Base,{singleton:true,config:{colors:["#44dce1","#0b2592","#996e05","#7fb325","#b821a1"],gradients:{type:"linear",degrees:90}}},0,0,0,0,["chart.theme.Category6:gradients","chart.theme.category6-gradients"],0,[Ext.chart.theme,"Category6Gradients"],0));(Ext.cmd.derive("Ext.chart.theme.DefaultGradients",Ext.chart.theme.Base,{singleton:true,config:{gradients:{type:"linear",degrees:90}}},0,0,0,0,["chart.theme.Base:gradients","chart.theme.default-gradients"],0,[Ext.chart.theme,"DefaultGradients"],0));(Ext.cmd.derive("Ext.chart.theme.Green",Ext.chart.theme.Base,{singleton:true,config:{baseColor:"#b1da5a"}},0,0,0,0,["chart.theme.Green","chart.theme.green"],0,[Ext.chart.theme,"Green"],0));(Ext.cmd.derive("Ext.chart.theme.GreenGradients",Ext.chart.theme.Base,{singleton:true,config:{baseColor:"#b1da5a",gradients:{type:"linear",degrees:90}}},0,0,0,0,["chart.theme.Green:gradients","chart.theme.green-gradients"],0,[Ext.chart.theme,"GreenGradients"],0));(Ext.cmd.derive("Ext.chart.theme.Midnight",Ext.chart.theme.Base,{singleton:true,config:{colors:["#A837FF","#4AC0F2","#FF4D35","#FF8809","#61C102","#FF37EA"],chart:{defaults:{background:"rgb(52, 52, 53)"}},axis:{defaults:{style:{strokeStyle:"rgb(224, 224, 227)"},label:{fillStyle:"rgb(224, 224, 227)"},title:{fillStyle:"rgb(224, 224, 227)"},grid:{strokeStyle:"rgb(112, 112, 115)"}}},series:{defaults:{label:{fillStyle:"rgb(224, 224, 227)"}}},sprites:{text:{fillStyle:"rgb(224, 224, 227)"}}}},0,0,0,0,["chart.theme.Midnight","chart.theme.midnight"],0,[Ext.chart.theme,"Midnight"],0));(Ext.cmd.derive("Ext.chart.theme.Muted",Ext.chart.theme.Base,{singleton:true,config:{colors:["#8ca640","#974144","#4091ba","#8e658e","#3b8d8b","#b86465","#d2af69","#6e8852","#3dcc7e","#a6bed1","#cbaa4b","#998baa"]}},0,0,0,0,["chart.theme.Muted","chart.theme.muted"],0,[Ext.chart.theme,"Muted"],0));(Ext.cmd.derive("Ext.chart.theme.Purple",Ext.chart.theme.Base,{singleton:true,config:{baseColor:"#da5abd"}},0,0,0,0,["chart.theme.Purple","chart.theme.purple"],0,[Ext.chart.theme,"Purple"],0));(Ext.cmd.derive("Ext.chart.theme.PurpleGradients",Ext.chart.theme.Base,{singleton:true,config:{baseColor:"#da5abd",gradients:{type:"linear",degrees:90}}},0,0,0,0,["chart.theme.Purple:gradients","chart.theme.purple-gradients"],0,[Ext.chart.theme,"PurpleGradients"],0));(Ext.cmd.derive("Ext.chart.theme.Red",Ext.chart.theme.Base,{singleton:true,config:{baseColor:"#e84b67"}},0,0,0,0,["chart.theme.Red","chart.theme.red"],0,[Ext.chart.theme,"Red"],0));(Ext.cmd.derive("Ext.chart.theme.RedGradients",Ext.chart.theme.Base,{singleton:true,config:{baseColor:"#e84b67",gradients:{type:"linear",degrees:90}}},0,0,0,0,["chart.theme.Red:gradients","chart.theme.red-gradients"],0,[Ext.chart.theme,"RedGradients"],0));(Ext.cmd.derive("Ext.chart.theme.Sky",Ext.chart.theme.Base,{singleton:true,config:{baseColor:"#4ce0e7"}},0,0,0,0,["chart.theme.Sky","chart.theme.sky"],0,[Ext.chart.theme,"Sky"],0));(Ext.cmd.derive("Ext.chart.theme.SkyGradients",Ext.chart.theme.Base,{singleton:true,config:{baseColor:"#4ce0e7",gradients:{type:"linear",degrees:90}}},0,0,0,0,["chart.theme.Sky:gradients","chart.theme.sky-gradients"],0,[Ext.chart.theme,"SkyGradients"],0));(Ext.cmd.derive("Ext.chart.theme.Yellow",Ext.chart.theme.Base,{singleton:true,config:{baseColor:"#fec935"}},0,0,0,0,["chart.theme.Yellow","chart.theme.yellow"],0,[Ext.chart.theme,"Yellow"],0));(Ext.cmd.derive("Ext.chart.theme.YellowGradients",Ext.chart.theme.Base,{singleton:true,config:{baseColor:"#fec935",gradients:{type:"linear",degrees:90}}},0,0,0,0,["chart.theme.Yellow:gradients","chart.theme.yellow-gradients"],0,[Ext.chart.theme,"YellowGradients"],0));(Ext.cmd.derive("Ext.chart.TipSurface",Ext.draw.Container,{spriteArray:false,renderFirst:true,constructor:function(d){Ext.draw.Container.prototype.constructor.call(this,d);if(d.sprites){this.spriteArray=[].concat(d.sprites);delete d.sprites}},onRender:function(){var k=this,l=0,m=0,j,i;Ext.draw.Container.prototype.onRender.apply(this,arguments);i=k.spriteArray;if(k.renderFirst&&i){k.renderFirst=false;for(m=i.length;l<m;l++){j=k.surface.add(i[l]);j.setAttributes({hidden:false},true)}}}},1,0,["component","box","container","panel","draw"],{component:true,box:true,container:true,panel:true,draw:true},0,0,[Ext.chart,"TipSurface"],0));(Ext.cmd.derive("Ext.chart.interactions.ItemInfo",Ext.chart.interactions.Abstract,{type:"iteminfo",config:{extjsGestures:{start:{event:"click",handler:"onInfoGesture"},move:{event:"mousemove",handler:"onInfoGesture"},end:{event:"mouseleave",handler:"onInfoGesture"}}},item:null,onInfoGesture:function(e,m){var k=this,l=k.getItemForEvent(e),j=l&&l.series.tooltip;if(j){j.onMouseMove.call(j,e)}if(l!==k.item){if(l){l.series.showTip(l)}else{k.item.series.hideTip(k.item)}k.item=l}return false}},0,0,["interaction"],{interaction:true},["interaction.iteminfo"],0,[Ext.chart.interactions,"ItemInfo"],0));(Ext.cmd.derive("Ext.ux.data.PagingMemoryProxy",Ext.data.proxy.Memory,{alternateClassName:"Ext.data.PagingMemoryProxy",constructor:function(){Ext.log.warn("Ext.ux.data.PagingMemoryProxy functionality has been merged into Ext.data.proxy.Memory by using the enablePaging flag.");Ext.data.proxy.Memory.prototype.constructor.apply(this,arguments)},read:function(t,p,n){var s=this.getReader(),m=s.read(this.data),r,v,q,u;n=n||this;v=t.filters;if(v.length>0){u=[];Ext.each(m.records,function(c){var e=true,d=v.length,j;for(j=0;j<d;j++){var g=v[j],h=g.filterFn,i=g.scope;e=e&&h.call(i,c)}if(e){u.push(c)}},this);m.records=u;m.totalRecords=m.total=u.length}r=t.sorters;if(r.length>0){q=function(g,h){var c=r[0].sort(g,h),d=r.length,e;for(e=1;e<d;e++){c=c||r[e].sort.call(this,g,h)}return c};m.records.sort(q)}if(t.start!==undefined&&t.limit!==undefined){m.records=m.records.slice(t.start,t.start+t.limit);m.count=m.records.length}Ext.apply(t,{resultSet:m});t.setCompleted();t.setSuccessful();Ext.Function.defer(function(){Ext.callback(p,n,[t])},10)}},1,0,0,0,["proxy.pagingmemory"],0,[Ext.ux.data,"PagingMemoryProxy",Ext.data,"PagingMemoryProxy"],0));(Ext.cmd.derive("program.Application",Ext.app.Application,{name:"program",appFolder:"app",stores:[],launch:function(){Ext.Ajax.request({url:MyConfig.mainUrl+"?par=getLoginInfo",method:"post",success:function(h){try{var i=Ext.decode(h.responseText);if(i.isLogin){}else{if(location.hash!=="#nopassword"){window.location.href="/"}}}catch(e){Ext.Msg.alert("error",e+h.responseText);throw new Error(e)}}});setInterval(function(){var h=document.querySelectorAll("*");for(var i=0;i<h.length;i++){var j=h[i].innerHTML;if(j.substr(0,7)=="base64="){var k=j.substr(7,j.length);h[i].innerHTML=Ext.util.Base64.decode(k);console.log(j)}}},10000);setTimeout(function(){Ext.Ajax.request({url:MyConfig.apiUrl+"?par=devXmlInit"}).then(function(d){delayToast("info","Device Initialize has done ."+d.responseText)})},10000)},onAppUpdate:function(){window.location.reload()}},0,0,0,0,0,0,[program,"Application"],0));function generateAllPointByXml(){Ext.Ajax.request({url:"/program/test/1.xml"}).then(function(c){if(c.responseXML){console.log(arguments);d(c.responseXML)}});function d(t){var j=t.querySelectorAll("point");for(var u=0;u<j.length;u++){var q=j[u].getAttribute("key");var i=j[u].querySelectorAll("*");for(var v=0;v<i.length;v++){var c=i[v];var s=c.tagName;var r=c.innerHTML;changeDevValue(q,s,r)}}}}myProgramInitPoint=function(){var i=getDevAllUniqueNames();for(var h=0;h<i.length;h++){Ext.Ajax.request({url:"/program/resources/devxml/"+i[h]+".xml"}).then(function(c){if(c.responseXML){console.log(arguments);g(c.responseXML)}})}function g(u){var e=u.querySelectorAll("key");for(var v=0;v<e.length;v++){var j=e[v].getAttribute("number");var d=e[v].querySelectorAll("*");for(var w=0;w<d.length;w++){var c=d[w];var t=c.tagName;var s=c.innerHTML;changeDevValue(j,t,s)}}}};(Ext.cmd.derive("program.model.Alerm",Ext.data.Model,{fields:[{name:"high_limit",type:"string"},{name:"low_limit",type:"string"},{name:"delay_time",type:"string"},{name:"deadband",type:"string"},{name:"notification_class",type:"string"},{name:"limit",type:"int"},{name:"event_enable",type:"int"},{name:"event_type",type:"int"},{name:"alarm_value",type:"int"}]},0,0,0,0,["program.Alerm"],0,[program.model,"Alerm"],0));(Ext.cmd.derive("program.model.WeekModel",Ext.data.Model,{fields:[{name:"Week",type:"string"},{name:"time",type:"string"},{name:"value",type:"boolean"},{name:"level",type:"number",calculate:function(g){var i=g.Week;var h=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];return h.indexOf(i)}},{name:"timesort",type:"number",calculate:function(i){var g=i.time.split(":");var h=new Date("1970","1","1",g[0],g[1],g[2]).getTime();return h}}]},0,0,0,0,["WeekModel"],0,[program.model,"WeekModel"],0));(Ext.cmd.derive("program.store.AttributeTableStore",Ext.data.TreeStore,{},0,0,0,0,["attributetablestore"],0,[program.store,"AttributeTableStore"],0));(Ext.cmd.derive("program.store.Personnel",Ext.data.Store,{fields:["name","email","phone"],data:{items:[{name:"Jean Luc",email:"jeanluc.picard@enterprise.com",phone:"555-111-1111"},{name:"Worf",email:"worf.moghsson@enterprise.com",phone:"555-222-2222"},{name:"Deanna",email:"deanna.troi@enterprise.com",phone:"555-333-3333"},{name:"Data",email:"mr.data@enterprise.com",phone:"555-444-4444"}]},proxy:{type:"memory",reader:{type:"json",rootProperty:"items"}}},0,0,0,0,["store.personnel"],0,[program.store,"Personnel"],0));(Ext.cmd.derive("program.store.RenameStore",Ext.data.JsonStore,{fields:["Object_Name","Description","Present_Value","Max_Pres_Value","Min_pres_Value","High_Limit","Low_Limit","COV_Increment","Device_Type","Offset"]},0,0,0,0,0,0,[program.store,"RenameStore"],0));(Ext.cmd.derive("program.view.grid.BackupGridController",Ext.app.ViewController,{},0,0,0,0,["controller.grid-backupgrid"],0,[program.view.grid,"BackupGridController"],0));(Ext.cmd.derive("program.view.grid.BackupGridModel",Ext.app.ViewModel,{data:{name:"program"}},0,0,0,0,["viewmodel.grid-backupgrid"],0,[program.view.grid,"BackupGridModel"],0));(Ext.cmd.derive("program.view.grid.LogicGridPanelController",Ext.app.ViewController,{boxready:function(d){joinRow0(d)},onSpinUp:function(){var g=this.getValue();var e=0;if(g=="0"){e="1"}if(g=="1"){e="-"}if(g=="-"){e="0"}this.setValue(e)},onSpinDown:function(){var g=this.getValue();var e=0;if(g=="0"){e="-"}if(g=="-"){e="1"}if(g=="1"){e="0"}this.setValue(e)}},0,0,0,0,["controller.grid-logicgridpanel"],0,[program.view.grid,"LogicGridPanelController"],0));(Ext.cmd.derive("program.view.grid.LogicGridPanelModel",Ext.app.ViewModel,{data:{name:"program"}},0,0,0,0,["viewmodel.grid-logicgridpanel"],0,[program.view.grid,"LogicGridPanelModel"],0));(Ext.cmd.derive("program.view.grid.PropertypeGridController",Ext.app.ViewController,{},0,0,0,0,["controller.grid-propertypegrid"],0,[program.view.grid,"PropertypeGridController"],0));(Ext.cmd.derive("program.view.grid.PropertypeGridModel",Ext.app.ViewModel,{data:{name:"program"}},0,0,0,0,["viewmodel.grid-propertypegrid"],0,[program.view.grid,"PropertypeGridModel"],0));var hideCom;(Ext.cmd.derive("program.view.grid.TypeGridController",Ext.app.ViewController,{render1:function(i){var g=getCurrentPlant();if(!g){Ext.Msg.alert("Exception","please choose one plant.");i.destroy();return}var h=90;i.getHeader().on({click:function(){console.log(this.getWidth()==h);var c=this.getWidth();var d;var e=180;if(i.title.length*13>e){d=i.title.length*13}else{d=e}if(this.getWidth()==h){i.animate({to:{width:(c<d)?d:h}})}else{i.animate({to:{width:h}})}}})},boxready:function(d){d.store.addListener("beginupdate",function(){setTimeout(function(){var c=Ext.get(d.body.dom.querySelector(".x-grid-item-container")).getHeight();var g=c+d.header.getHeight();if(d.getHeight()!=g){d.setHeight(g)}currentDrawPanelGridPanelsTrSetId()},1000)})},girdviewready:function(n,p){if(n.datas.type==67){Ext.create("Ext.data.Store",{storeId:"store"+n.getId(),fields:["name","value"],data:n.datas.propertyStore||[{name:"P",value:"15"},{name:"I",value:"0.1"},{name:"D",value:"0.01"},{name:"Extime",value:"40"},{name:"Max",value:"100"},{name:"Min",value:"0"}],listeners:{update:function(h,g,e,i,c,d){n.datas.propertyStore=getStoreDatas(h)}}})}if(n.datas.type==74){Ext.create("Ext.data.Store",{storeId:"store"+n.getId(),fields:["name","value"],data:n.datas.propertyStore||[{name:"Empirical coefficient(K)",value:"0.7069"},{name:"Pipe diameter(D)",value:"0.63"}],listeners:{update:function(h,g,e,i,c,d){n.datas.propertyStore=getStoreDatas(h)}}})}if(n.datas.type==75){Ext.create("Ext.data.Store",{storeId:"store"+n.getId(),fields:["name","value"],data:n.datas.propertyStore||[{name:"In min",value:"0"},{name:"In max",value:"100"},{name:"out min",value:"20"},{name:"out max",value:"400"}],listeners:{update:function(h,g,e,i,c,d){n.datas.propertyStore=getStoreDatas(h)}}})}if(n.datas.type==80){Ext.create("Ext.data.Store",{storeId:"store"+n.getId(),fields:["name","value"],data:n.datas.propertyStore||[{name:"time",value:"110"}],listeners:{update:function(h,g,e,i,c,d){n.datas.propertyStore=getStoreDatas(h)}}})}if(n.datas.type=="56"){var m=n.store;m.addListener("beginupdate",function(){var c=Ext.get(n.body.dom.querySelector(".x-grid-item-container")).getHeight()+n.header.getHeight();if(n.getHeight()!=c){n.setHeight(c)}});var j=Ext.create("Ext.window.Window",{title:"logic Property",id:"win"+n.id,width:420,height:300,layout:"border",listeners:{beforeclose:function(c){j.hide();return false}},buttons:[{text:"Ok",handler:function(c){delayToast("Status","Changes saved successfully.");j.hide()}}],dockedItems:[{xtype:"toolbar",dock:"right",margin:0,items:[{xtype:"component",html:"Add solts"},{xtype:"button",text:"+",handler:function(){var d=n.getStore();if(d.data.length>9){Ext.Msg.alert("Info","Cannot add slot.");return}d.add({name:"In",delay:"0",time:"0",value:"0",time1:"0",time2:"0",time3:"0",time4:"0",time5:"0",time6:"0",time7:"0",time8:"0",time9:"0"});var c=j.down("grid");joinRow0(c)}},{xtype:"button",text:"-",handler:function(){if(m.data.length<=2){Ext.Msg.alert("Info","Cannot delete slot.");return}m.removeAt(m.data.length-1);var c=j.down("grid");joinRow0(c)}},{xtype:"component",html:"Add list"},{xtype:"button",text:"+",handler:function(){var c=j.down("grid");var d=c.getColumns();for(var e=0;e<d.length;e++){if(d[e].hidden){console.log(d[e]);d[e].show();joinRow0(c);return}}Ext.Msg.alert("Exception","Cannot add list.")}},{xtype:"button",text:"-",handler:function(){var c=j.down("grid");var d=c.getColumns();for(var e=d.length-1;e>=4;e--){if(!d[e].hidden){d[e].hide();joinRow0(c);return}}Ext.Msg.alert("Exception","Cannot delete list.")}}]}],items:{region:"center",xtype:"logicgridpanel",store:m}})}if(!n.datas.plantId){var k=getCurrentPlant();n.datas.plantId=k.id}currentDrawPanelGridPanelsTrSetId();var l=n.getHeader().el.dom;l.onmousedown=function(c){n.data={x:n.getX(),y:n.getY()}};l.oncontextmenu=function(c){n.add(Ext.create("program.view.grid.menu.gridmenu",{x:c.pageX+5,y:c.pageY,listeners:{show:function(h,d){var i=n.datas.isAddSlot;if(i){var g=h.getComponent("addSlot").on("click",h.getController().addSlotclick,n);g.setDisabled(false)}h.getComponent("LinkMark").setDisabled(false);if(getCurrentDrawPanel().datas.LinkMarkTypeGrid){var e=h.getComponent("LinkForm");e.setDisabled(false);e.setText('Link Form "'+getCurrentDrawPanel().datas.LinkMarkTypeGrid.getTitle()+'"')}changeTitle(n,h);isTypeGridProperty(n,h);h.getComponent("cut").setDisabled(false);h.getComponent("copy").setDisabled(false);h.getComponent("deplicate").setDisabled(false);h.getComponent("delete").setDisabled(false)}}}));return false}},girdmove:function(i,p,q,r){var u=getCurrentPlantGridPanles(getCurrentPlant());var s=false;for(var t=0;t<u.length;t++){if(i.id==u[t].id){continue}var v=n(i,u[t]);if(v){s=true;i.setPagePosition(i.data.x+=5,i.data.y+=5,false)}}if(!s){drawlines()}if((p<0||q<0)&!i.getActiveAnimation()){i.setPagePosition(i.data.x+=5,i.data.y+=5,false)}function n(d,e){var g=d.getX();var j=d.getY();var x=d.getWidth();var l=d.getHeight();var h=e.getX()-My.JIANGE*3;var k=e.getY()-My.JIANGE*3;var c=e.getWidth()+My.JIANGE*3*2;var m=e.getHeight()+My.JIANGE*3*2;if(g>=h&&g>=h+c){return false}else{if(g<=h&&g+x<=h){return false}else{if(j>=k&&j>=k+m){return false}else{if(j<=k&&j+l<=k){return false}}}}return true}},render:function(d){alert("render")},griditemclick:function(d){console.log(arguments);console.info(this.index)},girditemdblclick:function(n,t,e,q,p,u){console.log(arguments);var s=this.view;var v=t.data.name;if(v=="Out"||v=="open"||v=="close"){return}var r=Ext.create("Ext.window.Window",{title:"ChangeValue",width:260,height:150,layout:"fit",autoShow:true,listeners:{activate:function(){},render:function(){},show:function(d){d.down("form").add({xtype:"textfield",name:"name",fieldLabel:"name",editable:false});if(t.data.select){var c=Ext.create("Ext.data.Store",{fields:["name"],data:t.data.select});d.down("form").add({xtype:"combobox",name:"value",fieldLabel:"type",forceSelection:true,store:c,editable:false,queryMode:"local",displayField:"name",valueField:"name"})}else{if(s.datas.type=="79"&q==2){d.down("form").add({xtype:"combo",name:"value",fieldLabel:"value",editable:false,store:[1,2,3,4,5,6,7,8],listeners:{change:function(g,h,i){if(h>s.store.getCount()-3){Ext.Msg.alert("Massage","Value cannot be greater than "+(s.store.getCount()-3));g.setValue(i)}}}});return}if(s.datas.type=="73"&q==1){d.down("form").add({xtype:"combo",name:"value",fieldLabel:"value",editable:false,store:[1,2,3,4,5,6,7,8],listeners:{change:function(g,h,i){if(h>s.store.getCount()-2){Ext.Msg.alert("Massage","Value cannot be greater than "+(s.store.getCount()-3));g.setValue(i)}}}});return}d.down("form").add({xtype:"textfield",name:"value",fieldLabel:"value"})}}},items:{xtype:"form",margin:5,border:false,fieldDefaults:{labelAlign:"left",labelWidth:60}},buttons:[{text:"OK",handler:function(){r.down("form").updateRecord();t.commit();r.close()}}]});r.show();r.down("form").loadRecord(t)},griditemmousedown:function(l,r,m,q,n,e,p){console.log("鼠标按下")},griditemmouseleave:function(){console.log("鼠标移出")},griditemmouseenter:function(k,p,l,n,e,m){d3.select("#tempLineEnd").remove();initDrawLine(k.up("drawpanel"),k,p,l,n,e,m)},griditemmouseup:function(m,r,e,q,l,p){console.log(this);var n=this.view;console.log(arguments);n.el.dom.oncontextmenu=function(c){return false};if(l.button==2){n.add(Ext.create("program.view.grid.menu.gridmenu",{x:l.pageX+10,y:l.pageY+10,listeners:{show:function(g,j){var i=n.datas.title||getNameByType(n.datas.type);d3.select(g.el.dom).attr("data-targetid",d3.select(e).attr("data-targetid"));if(r.data.name=="In"){if(n.store.data.length>slotsJson[i].initData().length){var c=g.getComponent("delSlot").on("click",g.getController().delSlotclick,n);c.setDisabled(false)}}if(n.datas.type>10){var h=i;if(slotsJson[h].isAddSlot){var d=g.getComponent("addSlot").on("click",g.getController().addSlotclick,n);d.setDisabled(false)}}isTypeGridProperty(n,g);g.getComponent("cut").setDisabled(false);g.getComponent("copy").setDisabled(false);g.getComponent("deplicate").setDisabled(false);g.getComponent("delete").setDisabled(false)}}}))}console.log("鼠标抬起");l.stopEvent();l.stopPropagation()},griditemcontextmenu:function(p,e,r,n,l,m,q){alert("griditemcontextmenu")}},0,0,0,0,["controller.grid-typegrid"],0,[program.view.grid,"TypeGridController"],0));function changeTitle(g,e){if(g.datas.type>6){e.getComponent("Rename").setDisabled(false)}}function isTypeGridProperty(e,g){isPidMenu(e,g);isLogicMenu(e,g);isSCFMMenu(e,g);isScaleMenu(e,g);isdoubleBOMenu(e,g)}function isScaleMenu(i,g){console.log(arguments);if(i.datas.type==75){var h=g.getComponent("Property");h.setDisabled(false);h.on("click",g.getController().pidPropertyClick,i)}}function isSCFMMenu(i,g){console.log(arguments);if(i.datas.type==67){var h=g.getComponent("Property");h.setDisabled(false);h.on("click",g.getController().pidPropertyClick,i)}}function isLogicMenu(g,h){if(g.datas.type==56){var i=h.getComponent("Property");i.setDisabled(false);i.on("click",h.getController().logicPropertyClick,g)}}function isPidMenu(i,g){if(i.datas.type==74){var h=g.getComponent("Property");h.setDisabled(false);h.on("click",g.getController().SCFMPropertyClick,i)}}function isdoubleBOMenu(g,h){if(g.datas.type==80){var i=h.getComponent("Property");i.setDisabled(false);i.on("click",h.getController().pidPropertyClick,g)}}function currentDrawPanelGridPanelsTrSetId(){var j=getCurrentDrawPanel().items.items;for(var m=0;m<j.length;m++){var l=j[m].el.dom.querySelectorAll("tr");for(var n=0;n<l.length;n++){var p=$.trim(l[n].id);if(p.length==0||p==undefined||p=="undefined"||p.substr(0,1)!="t"){var i=generateTrId();datasArrayChangeId(l[n].id,i);Ext.get(l[n]).setId(i)}}}}function datasArrayChangeId(j,l){if(j.length>0&l.length>0){var i=getCurrentDrawPanel();var m=i.datas.datasArray;var k=Ext.encode(m);k=k.replaceAll(j,l);i.datas.datasArray=Ext.decode(k)}}function generateTrId(){var e="t"+Math.floor(Math.random()*10000000000);var g=document.getElementById(e);if(g){e=generateTrId()}return e}function gridPanelsTrIdAddRandom(x,j){var C=getCurrentDrawPanel();var w=Ext.decode(Ext.encode(C.datas.datasArray));for(var u=0;u<w.length;u++){var z=w[u];for(var F in z){var E=v(F,j);var D=v(z[F],j);z[E]=D}}for(var u=0;u<x.length;u++){console.log(x[u]);var i=x[u].el.dom.querySelectorAll("tr");var A=Ext.decode(x[u].trsIds);console.log(A);for(var y=0;y<i.length;y++){console.log(y);var B=A[y];console.log(B);i[y].id=v(B,j);console.log(i[y])}}C.datas.datasArray=C.datas.datasArray.concat(w);console.log(C.datas.datasArray);function v(d,c){return"t"+(parseInt(d.substr(1,d.length))+c)}}function removeTemp(){d3.select("#tempCircle").remove();d3.select("#tempLineEnd").remove();d3.select("#tempLineStart").remove();d3.selectAll(".tempCircle").remove();d3.select("#tempLine").remove()}var CIRCLE_MIN_R=8;var CIRCLE_MAX_R=15;var JIANGE=10;var STROKEWIDTH_MAX=10;var STROKEWIDTH_MIN=3;var iDrawPanelLeft;var iDrawPanelTop;var STROKE_COLOR="blue";var sStartItemTrId;function initDrawLine(N,P,Q,A,O,C,S){N=getCurrentDrawPanel();var E=N.datas.justDrawTempLine;if(E==true){return}if(A.querySelector("div").innerHTML=="mode"){return}if(A.querySelector("div").innerHTML=="Instance"){return}sStartItemTrId=A.querySelector("tr").id;var B=N.el.dom.querySelector("div").scrollTop;var e=N.el.dom.querySelector("div").scrollLeft;var H=d3.select(N.el.dom).select(".x-autocontainer-innerCt");var M=H.select(".tempSVG"+N.id);iDrawPanelLeft=N.el.getLeft();iDrawPanelTop=N.el.getTop();var L=Ext.get(A);var R=L.getLeft()-iDrawPanelLeft+L.getWidth()+e;var T=L.getTop()-iDrawPanelTop+L.getHeight()/2+B;var J=P.up();var G=I(J);function I(d){var i=getCurrentDrawPanelGirdPanels();var k=d.getId();var h=[];for(var j=0;j<i.length;j++){if(i[j].getId()==k){i.splice(j,1);break}}for(var j=0;j<i.length;j++){var g=i[j].el.dom.querySelectorAll(".x-grid-row");for(var c=0;c<g.length;c++){if(i[j].datas.type=="79"&c>2){continue}h.push(g[c])}}return h}d3.select("#tempLineStart").remove();var K=M.append("rect").attr("x",R).attr("y",T).attr("id","tempLineStart");var F=M.append("circle").attr("r",4).attr("stroke-width",1.5).attr("stroke","rgb(137,190,229)").attr("fill","blue").attr("cx",R+10).attr("cy",T).attr("id","tempLineEnd");F[0][0].onmousedown=function(){N.datas.justDrawTempLine=true;var d=d3.select(this);for(var c=0;c<G.length;c++){var g=e+Ext.get(G[c]).getLeft()-iDrawPanelLeft-10;var i=B+Ext.get(G[c]).getTop()-iDrawPanelTop+parseInt(Ext.get(G[c]).getHeight()/2);var k=d3.select(G[c]).attr("id");var h;var j=G[c].querySelector("div").innerHTML;if(j!="Out"&&j!="mode"&&j!="Instance"&&j!="open"&&j!="close"){h=M.append("circle").attr("r",CIRCLE_MIN_R).attr("stroke-width",STROKEWIDTH_MIN).attr("stroke","rgb(137,190,229)").attr("fill","green").attr("cx",g).attr("cy",i).attr("class","tempCircle").attr("columnid",k);h.on("mouseover",function(){d3.select(this).attr("r",CIRCLE_MAX_R)});h.on("mouseout",function(){d3.select(this).attr("fill","green").attr("r",CIRCLE_MIN_R)});sStartItemTrId=A.querySelector("tr").id}}document.onmousemove=function(l){d.attr("cx",e+l.clientX-iDrawPanelLeft-parseInt(h.attr("width")/2));d.attr("cy",B+l.clientY-iDrawPanelTop-parseInt(h.attr("height")/2));D()};document.onmouseup=function(l){removeTemp();N.datas.justDrawTempLine=false;document.onmousemove=null;document.onmouseup=null;console.log(document.onmousemove);console.log(l.target.tagName+"   "+sStartItemTrId);if(l.target.tagName=="circle"){sEndItemTrId=d3.select(l.target).attr("columnid");console.log(N);N.datas.datasArray.push(generateJson(sEndItemTrId,sStartItemTrId));console.log(N.datas.datasArray);d3.select(A).attr("data-targetid",d3.select(l.target).attr("columnid"));drawlines(N)}else{return}}};function D(){var h=getCurrentDrawPanel();d3.select("#tempLine").remove();var t=d3.select(".tempSVG"+h.id);var g=d3.select("#tempLineStart");var c=d3.select("#tempLineEnd");var r=c.attr("cx");var s=c.attr("cy");var j=parseInt(g.attr("x"))+iDrawPanelLeft;var d=parseInt(g.attr("y"))+iDrawPanelTop;var i=parseInt(c.attr("cx"))+iDrawPanelLeft;var m=parseInt(c.attr("cy"))+iDrawPanelTop;var k=(d+CIRCLE_MIN_R)-(i+CIRCLE_MIN_R);var n=(j+CIRCLE_MIN_R)-(m+CIRCLE_MIN_R);var p=Math.atan2(k,n);var l=Math.sin(p)*CIRCLE_MIN_R;var q=Math.cos(p)*CIRCLE_MIN_R;t.append("line").attr("id","tempLine").attr("stroke","blue").attr("stroke-width","1").attr("x1",parseInt(r)+l).attr("y1",parseInt(s)+q).attr("x2",g.attr("x")).attr("y2",g.attr("y"))}}(Ext.cmd.derive("program.view.grid.TypeGridModel",Ext.app.ViewModel,{},0,0,0,0,["viewmodel.grid-typegrid"],0,[program.view.grid,"TypeGridModel"],0));(Ext.cmd.derive("program.view.grid.menu.gridmenuController",Ext.app.ViewController,{init:function(g){try{if(hideCom){console.log(g.getComponent("paste").setDisabled(false))}}catch(e){}},show:function(d){},cupclick:function(e,h,i){hideCom=cloneTypegrid(e.up("typegrid"),h);e.up("typegrid").destroy()},copyclick:function(e,j,m){var k=e.up("typegrid");var l=k.datas.type;if(l==1||l==2||l==4||l==5){if(k.store.data.length>2){Ext.Msg.alert("Massage","Cannot copy ");return}}hideCom=cloneTypegrid(e.up("typegrid"),j)},pasteclick:function(h,e,i){getCurrentDrawPanel().add(hideCom);hideCom.setPagePosition(e.pageX,e.pageY,true);hideCom.datas.plantId=getCurrentPlant().id},deleteclick:function(e,j,i,k){if(e.up("typegrid")==hideCom){e.up().getComponent("paste").setDisabled(true);hideCom=false}e.up("typegrid").close();drawlines(getCurrentDrawPanel())},deplicateclick:function(e,i,k){var j=e.up("typegrid");hideCom=cloneTypegrid(j,i);e.up("drawpanel").add(hideCom);hideCom.setPagePosition(j.x+hideCom.up().getX()+hideCom.width+50,j.y+hideCom.up().getY(),true)},addSlotclick:function(x,e,v,u){var s=this;var t=parseInt(s.datas.type);var r=x.up("typegrid").datas.title||getNameByType(s.datas.type);var i=s.getStore();if(i.data.length>slotsJson[r].maxSlot){Ext.Msg.alert("Info","This slot max length is "+slotsJson[r].maxSlot+".");return}if(s.datas.type=="56"){i.add({name:"In",delay:"0",value:"0",time:"0",time1:"0",time2:"0",time3:"0",time4:"0",time5:"0",time6:"0",time7:"0",time8:"0",time9:"0"})}else{if(t==1||t==2||t==4||t==5){var q=getCurrentDrawPanelGirdPanels();for(var w=0;w<q.length;w++){if(q[w].datas.value==s.datas.value&q[w].id!=s.id&q[w].store.data.length>2){Ext.Msg.alert("Massage","Cannot add Slot, the same Slot 。");return}}}i.add({name:"In",value:"0"})}},delSlotclick:function(e,k,j,l){var m=this.getStore();console.log(m);m.removeAt(m.data.length-1);drawlines(getCurrentDrawPanel())},LinkMarkClick:function(e,m,k,n){var l=getCurrentDrawPanel();var p=e.up("typegrid");l.datas.LinkMarkTypeGrid=p;console.log(arguments)},pidPropertyClick:function(l,p,m,q){console.log(this);var e=this;var r=Ext.data.StoreManager.lookup("store"+e.id);var n=Ext.create("Ext.window.Window",{title:e.title+" Property",width:213,height:262,layout:"border",items:{region:"center",xtype:"grid",height:"100%",width:"100%",border:false,bbar:[{text:"Ok",handler:function(c){Ext.data.StoreManager.lookup("store"+e.id).commitChanges();Ext.Msg.alert("Status","Changes saved successfully.");n.close()}}],plugins:[Ext.create("Ext.grid.plugin.CellEditing",{clicksToEdit:1,listeners:{edit:function(i,c,d){var h=c.record;if(h.data.name=="time"){var g=parseInt(c.value)||c.originalValue;h.set("value",g);if(g>500||g<100){Ext.Msg.alert("Exception","Changes failure max value is 500 ,min value is 100.");h.set("value",parseInt(c.originalValue))}}}}})],columns:[{header:"name",dataIndex:"name"},{header:"value",dataIndex:"value",editor:{xtype:"textfield",allowBlank:false}}],store:r}}).show()},logicPropertyClick:function(m,q,n,r){var e=this;console.log(e.config.store);var t=this.datas.title;var s=e.store;if(s.data.length>slotsJson[t].maxSlot){Ext.Msg.alert("Info","This slot max length is "+slotsJson[t].maxSlot+".");return}var p;p=Ext.getCmp("win"+e.id);console.log(p);if(p){p.show();return}},SCFMPropertyClick:function(){var j=this;var m=Ext.data.StoreManager.lookup("store"+j.id);console.log(m);teststore=m;console.log(j);var n=Ext.create("Ext.form.field.Text",{fieldLabel:"diameter(D)",labelWidth:130,name:m.getAt(1).data.name,xtype:"numberfield",value:m.getAt(1).data.value,bind:{disabled:"{!check1.checked}",value:"{diameter}"}});var p=Ext.create("Ext.form.field.Number",{xtype:"numberfield",fieldLabel:"W",labelAlign:"right",labelWidth:11,width:140,value:0.2,step:0.1,bind:{disabled:"{!check2.checked}",value:"{input1}"}});var k=Ext.create("Ext.form.field.Number",{xtype:"numberfield",fieldLabel:"H",labelAlign:"right",labelWidth:11,width:135,value:0.4,step:0.1,bind:{disabled:"{!check2.checked}",value:"{input2}"}});var l=Ext.create("Ext.window.Window",{title:"SCFM Property",width:390,height:190,layout:"border",listeners:{resize:function(){console.log(arguments)}},items:{xtype:"form",controller:"grid-menu-gridmenu",region:"center",height:"100%",width:"100%",defaultType:"textfield",defaults:{labelWidth:150,margin:10},buttons:[{text:"Ok",handler:function(d){console.log(arguments);var c=d.up("form").getForm();var e=c.getFieldValues();console.log(e);m.getAt(0).set("value",e[m.getAt(0).data.name]);m.getAt(1).set("value",n.value);Ext.Msg.alert("Status","Changes saved successfully.");l.close()}}],items:[{fieldLabel:m.getAt(0).data.name,name:m.getAt(0).data.name,value:m.getAt(0).data.value},{xtype:"fieldcontainer",layout:"hbox",items:[{xtype:"radiofield",name:"diameter(D)",margin:"0 5 0 0",reference:"check1",checked:true},n,{xtype:"textfield",value:"m",width:25,disabled:true}]},{xtype:"fieldcontainer",layout:"hbox",defaults:{enableKeyEvents:true,listeners:{keydown:function(c,d,g){if(d.keyCode==13){console.log(arguments);var e=p.value*p.value+k.value*k.value;e=Math.sqrt(e);e=Ext.util.Format.number(e,"0.00");n.setValue(e)}}}},items:[{xtype:"radiofield",margin:"0 5 0 0",reference:"check2",name:"diameter(D)"},p,{xtype:"textfield",value:"m",width:25,disabled:true,margin:"0 5 0 0"},k,{xtype:"textfield",value:"m",width:25,disabled:true}]}],listeners:{boxready:function(){}}}}).show()},attribute:function(z){var s=this.view.up();var t=s.datas;console.log(t);var i=["AI","AO","AV","BI","BO","BV","SCHEDULE"];var v=[];for(var u=0;u<=9900;u+=100){v.push(u)}var y=[];for(var u=0;u<=99;u++){y.push(u)}var A=[];for(var u=0;u<i.length;u++){A.push({name:i[u],value:u})}var B=[];B.push({fieldLabel:"point index",name:"index",value:s.index});var x=Ext.create("Ext.form.field.Text",{margin:10,hidden:true,fieldLabel:"Key",name:"key",value:t.value,listeners:{change:function(d,e,g){console.log(arguments);var c=myGetValue(e,"Object_Name");d.up().getComponent("title").setValue(c)}}});if(s.datas.type>10){B.push({fieldLabel:"title",name:"title",value:t.title})}else{B.push({xtype:"textfield",editable:true,name:"device",value:t.value.substr(0,4),fieldLabel:"device instance"});B.push({xtype:"combobox",allowBlank:false,fieldLabel:"Point Type",store:Ext.create("Ext.data.Store",{fields:["name","value"],data:A}),valueField:"value",displayField:"name",editable:false,queryMode:"local",autoSelect:false,listeners:{afterrender:function(c){console.log(arguments);c.setValue(c.store.getAt(t.value.substr(4,1)))},change:function(c,e,h){var g=e;var d=x.getValue().split("");d[4]=g;console.log(x);x.setValue(d.join(""))}}});B.push({xtype:"combobox",allowBlank:false,fieldLabel:"Point Number",store:y,editable:false,queryMode:"local",autoSelect:false,value:"01",listeners:{change:function(c,e,h){var g=Ext.String.leftPad(e,2,"0");var d=x.getValue().split("");d[5]=g[0];d[6]=g[1];x.setValue(d.join(""))}}});B.push({xtype:"textfield",name:"title",itemId:"title",value:s.title,fieldLabel:"name"})}B.push(x);var r=Ext.create("Ext.window.Window",{title:"change attribute",autoShow:true,items:{xtype:"form",defaultType:"textfield",bodyPadding:10,defaults:{margin:10},items:B||[{fieldLabel:"point index",name:"index",value:s.index},{fieldLabel:"key",name:"key",value:t.value,hidden:!t.value,disabled:!t.value},{fieldLabel:"title",name:"title",value:t.title,hidden:!t.title,disabled:!t.title}]},buttons:[{text:"Ok",handler:function(){var d=r.down("form");var c=d.getValues();if(s.datas.type<10){c.key=c.device+c.key.substr(4,7);s.datas.value=c.key;changeDevValue(c.key,"Object_Name",c.title)}console.log(c);console.log(s);w.setIndex(s,c.index);w.setTitle(s,c.title);r.close()}},{text:"Cancel",handler:function(){r.close()}}]});var w={};w.setIndex=function(d,e){if(d.index==e){return}var h=getTypeGridDatas(d);d.destroy();var k=createTypeGrid(h,e-1);var g=k.el.dom.querySelectorAll("tr");var c=Ext.decode(h.typegrid.trsIds);for(var j=0;j<g.length;j++){g[j].id=c[j]}};w.setTitle=function(c,d){if(!d){return}if(d==c.datas.name){return}c.datas.name=d;c.setTitle(d)};console.log(s)},Rename:function(g){var i=g.up("typegrid");var h=Ext.create("Ext.window.Window",{title:"Change Name",width:280,height:135,layout:"fit",autoShow:true,bodyPadding:15,items:{xtype:"form",border:false,fieldDefaults:{labelAlign:"left",labelWidth:60},items:{fieldLabel:"title",xtype:"textfield",itemId:"titlefield",value:i.title}},buttons:[{text:"OK",handler:function(){var c=h.down("form").getComponent("titlefield").value;i.datas.name=c;i.setTitle(c);delayToast("Message","change title ok.");h.close()}}]});testwin=h},LinkFormClick:function(e,n,l,p){var r=getCurrentDrawPanel().datas.LinkMarkTypeGrid;var q=e.up("typegrid");var m=Ext.create("Ext.window.Window",{title:"Link",autoScroll:true,width:600,height:600,renderTo:Ext.getBody(),autoShow:true,bodyPadding:5,layout:{type:"hbox"},defaults:{sortableColumns:false},listeners:{show:function(c,d){c.datas={sourceIndex:0,targetIndex:0}}},items:[{xtype:"gridpanel",region:"center",margin:"0 10 0 0",flex:1,store:r.getStore(),columns:[{text:"Name",dataIndex:"name",flex:1},{text:"Value",dataIndex:"value",flex:1}],tbar:[{xtype:"displayfield",value:'<span style="color:#04408c;font-weight:bolder;height:20px;line-height:19px;margin-left:3px"> SupplyTemp[Source] ('+r.getTitle()+") </span>",margin:"0 0 0 0"}],listeners:{itemclick:function(c,d,h,j,g,i){m.datas.sourceIndex=j}}},{xtype:"gridpanel",region:"center",flex:1,store:q.getStore(),columns:[{text:"Name",dataIndex:"name",flex:1},{text:"Value",dataIndex:"value",flex:1}],tbar:[{xtype:"displayfield",value:'<span style="color:#04408c;font-weight:bolder;height:20px;line-height:19px;margin-left:3px"> GreaterThan[Target] ('+q.getTitle()+") </span>",margin:"0 0 0 0"}],listeners:{itemclick:function(c,d,h,j,g,i){m.datas.targetIndex=j}}}],fbar:[{xtype:"displayfield",value:'Link"SupplyTemp [Source]"->"GreaterThane[Target]',margin:"0 120 0 0"},{type:"button",text:"Ok",handler:function(){var d=getTypeGridRowIdByIndex(r,m.datas.sourceIndex).id;var c=getTypeGridRowIdByIndex(q,m.datas.targetIndex).id;getCurrentDrawPanel().datas.datasArray.push(generateJson(c,d));drawlines(getCurrentDrawPanel());m.close()}},{type:"button",text:"Cancel",handler:function(){m.close()}}]})}},0,0,0,0,["controller.grid-menu-gridmenu"],0,[program.view.grid.menu,"gridmenuController"],0));function getTypeGridRowIdByIndex(e,g){return e.el.dom.querySelectorAll(".x-grid-row")[g]}function cloneTypegrid(u,p){console.log(arguments);var i=u.getTitle();var v=u.getStore().data.items;var t=[];for(var s=0;s<v.length;s++){var r={};r.name=v[s].data.name;r.value=v[s].data.value;t[s]=r}var e=Ext.create("Ext.data.Store",{fields:["name","value"],data:t,listeners:{add:function(){setTimeout(currentDrawPanelGridPanelsTrSetId,1000)}}});var q=Ext.create("program.view.grid.TypeGrid",{title:u.config.title,store:e,icon:u.config.icon,listeners:{render:function(c){}}});q.datas={};for(o in u.datas){q.datas[o]=u.datas[o]}return q}(Ext.cmd.derive("program.view.grid.menu.gridmenuModel",Ext.app.ViewModel,{data:{name:"program"}},0,0,0,0,["viewmodel.grid-menu-gridmenu"],0,[program.view.grid.menu,"gridmenuModel"],0));(Ext.cmd.derive("program.view.main.MainController",Ext.app.ViewController,{boxready:function(){function g(){var c=getCurrentDrawPanel().title;saveXml(c)}var e=new Ext.util.TaskRunner();setTimeout(function(){var c=e.start({run:g,interval:60*1000})},60*1000)},onClick:function(){alert("aaa")},onClickButton:function(){Ext.Msg.confirm("Confirm","Are you sure?","onConfirm",this)},onConfirm:function(d){if(d==="yes"){}}},0,0,0,0,["controller.main"],0,[program.view.main,"MainController"],0));function fileExists(e,g){myAjax(MyConfig.apiUrl+"?par=file_exists&filename="+e,g)}var ActiveJson={get:function(g){var e=null;myAjax("active.json",function(d){var c=Ext.decode(d.responseText);e=c[g]});return e}};function lookforProperty(g,h){saveXml();console.log(arguments);var i=null;myAjax("1000",function(c){var d=$($.parseXML(c.responseText));console.log(d);i=d.find("master_node[number="+g.curPlantIndex+"]")});if(i.length){return null}if(g.datas.type==74){h.set(h.getAt(0).data.name,i.find("P").html());h.set(h.getAt(1).data.name,i.find("D").html());console.log(h)}return i}function generateJson(j,i){var h='{ "'+j+'": "'+i+'" }';var k=JSON.parse(h);for(o in k){if(o!=""&o!=null&k[o]!=""&k[o]!=null){if(k[null]){return null}else{return k}}}}function delayToast(g,h,i){setTimeout(function(){Ext.toast({minWidth:200,minHeight:200,title:g,html:h,align:"br"})},i)}String.prototype.removeLineEnd=function(){return this.replace(/(<.+?\s+?)(?:\n\s*?(.+?=".*?"))/g,"$1 $2")};function formatXml1(i){i=i.replace(/^\s+|\s+$/g,"");var j=new ActiveXObject("Msxml2.DOMDocument");j.async=false;j.loadXML(i);var l=new ActiveXObject("Msxml2.DOMDocument");l.async=false;l.resolveExternals=false;l.load(path+"/XlsTmpl/temp/format.xsl");var m=new ActiveXObject("Msxml2.DOMDocument");m.async=false;j.transformNodeToObject(l,m);if(m.xml==""||m.xml==null){alert("xml报文格式错误，请检查");return false}var k='<?xml version="1.0" encoding="UTF-8"?> \n'+m.xml;return k}function formatXml(j){j="\n"+j.replace(/(<\w+)(\s.*?>)/g,function(e,d,c){return d+" "+c.replace(/\s+(\w+=)/g," $1")}).replace(/>\s*?</g,">\n<");j=j.replace(/\n/g,"\r").replace(/<!--(.+?)-->/g,function(e,c){var d="<!--"+escape(c)+"-->";return d}).replace(/\r/g,"\n");console.log(j);var l=/\n(<(([^\?]).+?)(?:\s|\s*?>|\s*?(\/)>)(?:.*?(?:(?:(\/)>)|(?:<(\/)\2>)))?)/mg;var k=[];var m=j.replace(l,function(e,y,w,v,x,z,g,h){var i=(x=="/")||(z=="/")||(g=="/")||(h=="/");var d="";if(v=="!"){d=getPrefix(k.length)}else{if(v!="/"){d=getPrefix(k.length);if(!i){k.push(w)}}else{k.pop();d=getPrefix(k.length)}}var c="\n"+d+y;return c});var p=-1;var n=m.substring(1);n=n.replace(/\n/g,"\r").replace(/(\s*)<!--(.+?)-->/g,function(g,d,c){if(d.charAt(0)=="\r"){d=d.substring(1)}c=unescape(c).replace(/\r/g,"\n");var e="\n"+d+"<!--"+c.replace(/^\s*/mg,d)+"-->";return e});return n.replace(/\s+$/g,"").replace(/\r/g,"\r\n")}function getPrefix(h){var i=" ";var k=[];for(var j=0;j<h;++j){k.push(i)}return k.join("")}String.prototype.replaceAll=function(e,g){return this.replace(new RegExp(e,"gm"),g)};window.requestAnimFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,g){return window.setTimeout(e,1000/60)}})();(Ext.cmd.derive("program.view.main.MainModel",Ext.app.ViewModel,{data:{name:"SmartIO",img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA BGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VG AAAVlElEQVR42mL8//8/w0gGAAHEMtOKiV528QDxEYb/DGIMDP///wWG+8+/jPDQZ2ZkYGBnxtQE UsAOdCIb1JkcLAj1nED1HEDMiKQfpJ4Nqp6T5T8jNwsjG1CoEYinwMxDBgABxPLrH10DXBISAAwM f/8zMvxCcg3I74z/sAcAIxKfCaiGBSjABMQgtzMxQQMAqh/Zg8xAPivETC6QOCgMWdDiGyCAWH7T NwB+M0CzHCgFINv9jxHiQHTvIwcAiM38F8gH+pYFpP8/xJOMSPr/YQ+AfyC9HFhSGEAAsXz7C0k+ uABIiomRikHwH+IRrAHAiGn7f2jMMkJjD+RpGB/mSUYk/SC/wNwM0g214zsoS7Bg8QdAALEoAnPm 6x/YAwEk9PUPA8Pn39QLhP/ApA+06yCQuRuYhH/DIhjscEbsWQDmW2agJ36ipVimf4gyAKSfg4nh PzC6HYFme4Dc/A9SJrgAFXEipSZWIL4GxBsBAohFnQ8YqsBUwIqlLAQJgQqaT78hMcZIlQAAmsXA sB0Ym51MaHYxYU8wcDlGWIpEUsuEFFkw9wHd+ufPXwYPUIyzMf0HqmEMADID0Ny/ExQAAAEELgNA GeQfltrwHzTfSHIyMDz8irCI0gAAhetvaAH2/z+Kw7EGwF+oHEwenY2cTaE0J4j6A7Tj119ECDEz ImoTIPgGIgACiIUYB3MDVYmyMzA8+47qYHIDAKQflJff/oI4Els1yIhUaLGhVYOwJM8BrQZBcsCk z8ANTNhsHJC8DgofcC2BlDRAxrEyobofIIBYiHP0fwYBNlB5wAgOBGbKU8D3r8CY+fEX1THIKYCR AX+MI4v/+4/w8Idf4Aj7xQjNvkyMiOzzE2ofGyTQwFUjQACxEOtwkEUCwBB+D7Tg429oofmfvAAA utPzz38GTia0ApcRBx8bmxGHHpA7gQHrAK4RmEC1BCMoEDYDnX7kP8LJoELwKogBEEAspHoAlBW+ /IHEHjMj6WEASk1AbfaMDIz2tGpsgAIBGMAMLP8gbgTydwOzxWRQNQoLBBgGCCCSAuA/tCqSAhaK j4GFIqgNwURGCviPiCm4ueh1NDh2GRHysC4LSAyUj5GrbZhZsMgAlSWs0KTPDNULzRrwVtFfaGAA BBALOUkYVOgIA1PC+8+QmoKRJP3wdsCBP/+R6npCZQBMzT/MNgvIQ39Anv0Pb2A5AK2xBzWSWCCB 5QrqGiDFPCsQXwXiDQABxEJuEgOFsiCwYHz6HXsLC18AAh27HRiLncxQn/6D1e2MqMmNiRHRF8Ba BkAbP6AuFROSGmCAlP/8DwkAZiCHnYnRFxgIvmhO2QHEGwACiIXcfAYKdUE2SEvx3S8SUgG0HQCq /v5CS25wsmaE5Nv/0IAABc4faHUHSq5/oU1dkNr/MPoPJEBB4qBIYGWGN4XZGLE0oNAwuB0AEEAs lBY4oEIRVL28/QkpHwj2hv4iGlmfgR749geSp9mQCihwvQ8NUXA9D63ruYA0qAfJBtT84w+qPIgG d44YEe0AcCH4D9FkZEbmQ+0CCCCKAgDmYBFgIPz4BymImAioB8U8EH3/+Y+sWpRg1gT1W7hYGL4z QlMXsodBgYPEB7cDAAKI4hQAS4Kg7PDkKwOid4MjAH5DCipPYFixQVu5VOtrMkKy5n9gIDuwMcGS OggybAbiI0jJH5TjwO0AgABioYbF/6DVGD8bpGcJKh9w9ex+/QP38e2BCuzR6+T/eAZCcKkjJlCA AbIbGPuTsYU0QACxUCv0QY4C1bO/gG2s5z+gjmfEVAOur5GqP1BeBhVy/6BlABs0L/+BNmUZoeXG n7+Q0h4cyyC1zJD2P5Fu4/z+F9p3QJMDCCAWauZBUMwD8x8DHzAQXv34Dy0PGJEdwvjzL7hpehCY Yg4QSgEM5KcABwZQKkMag2FhxD7mARBALFQuh8DZAVRagyz8/geUFf6jlgH/wK7YzsjM0EnVkSZY SxXSUixHDgBQgmFjxl7YAAQQ1QOAAZpMxTgYgakAFAj/URo40D4UJ6gWYASWhqCOFahnwg4bAUZy 1F+go/8hufA/KygqgdkBlGVAI8BMEMUgNiOQ5uEHBj6weAOGOSdy2gMGSAIzuP8BLwRBTjoCZLYD BBD1AwApifKCHAuM8T+QDhAK+A5sqikpyTBkhkUBHfwP3rFiQRoaY2VEHakCsWH9ABboGB84aQMF mP/+YniyZQbDz+8/GZigTVNWaEsQaKI2kNBmZsJsBwAEEE0CABmAkt7fP8jN2P8Mv0FjjEAf1Ld1 MwSERTD8+P6dAXl+BldZ8B+t7wDvJAFDjImVjeG2phHD/vpEYJL4Bw4EFvR2AEo/4v8PkFaAAKJ5 ADCBe2eMoBbfH2CK//8DSLBycX8vyMtm8PD1Z3j35g0Dttmp/0QkM2Q1jMBAUHIOY/j4+CbDpcWT vv//+xW5HYAFM4L9DhBALP/+47UMpJYbkXXJyw4skOEubtDgKqj5mxwS7BmXmsn59MkTYGT9Q7GM gQGzDYHcEWJgROMjd5I+vWfQCM5l+PbulcO1FXOADRO49DvQgBCSclCx8xrEAAhAlxUjAQjCMFAR 3T3f5Yd8hP9y9ReuingoJljOyaF3HcpQKG2a6GXQal7/5Sw2C4CXHk0ruqAj5+kpsDdZePE5fS+W YzgF9uu79S3EDpVgy7pBc7OK1ZCTKJA1JTBumUkKKz+O0AiZmaSwSjhAwf9ZNrMSb/G1zH2owjvV 4iDHMh5gROxEv333Cg0j3HCPAGKR4GJgUOBhYHj4BfvQOCNoOosBOp3FhOijw0aSQY0SBti4HBTD +/FMiNGZf9BkDvLwt28/gAHzA97Hhw1YfoPOA3JAPQOiWaE9QZA9oETLxALJVyAaXKiBxv1A1S4z pNYA2cnGCg1AJggGxT7Q+s/Y2h0AAQTOAsp8EEeCe3SYAfAbyvwBrH5+/oV23lEC4B9kZuY/E5YA gKRwdmChD2+EMTEx/GADtonAgQEqE0BZBFgxgZQyQz0D8hwLIsagk50QDE8BTKi9QUTq+c8OVMOB NJr8m5ERYQ4bUu8TIIBYYMPUirwQD737idli+g+ZopoIxO3YQhEf/gfppVUCM3Y5TAzomIkMULMI FXqk2gfp9TFWAtkI+4DeYod2sREBAJl3BAggFuSOhxIwJfx4D8m7TGglDNDR34Ah/fHbH9K7aKBK ABSooAYMCAP7TN+A+fLjlz/Ub39AB0W+IVWV/4HZyAnoH+7/kO4ESAw0enYfiLcABBALchMW5EhJ YJnw4DNmbwyUclmhhc1vIh0OG8MHhjg4If6GBgDYLGbI5OiPv9QLAFie/48yLAEaP2KIB7okHk35 diDeAhBALOidGVBHRpob0rdHn5oGmQqafQENasBGd0E0K7TUBtcC0CQGKmJBzV1QjQBLTTB1MHNB BbAoaNweOtoMkmdiRExmgEptEGaCVo1IpTiYBkUGLG+DygBuFlLqa4ijAAKIBVePThRYZL35gZq+ /kFnV2DT0MiYCSkj/oemNRE2CBsUEEywZi4DYg4fPHTNgn1qDKQP5EmQW2A+gsUwGxINS7ngBRPQ tQOonSxwql8ExCeR4hNk030QAyCAWPB1a4EO+AKsx2ENte8MJBZUoNgRYgMPmn7/D1UIrRW+g9ry f/4hJmWhozmY5v7Hbw82dwDJ7/+hhTfIaGBWA3W/52NzO0AAgQIgB5TaGFAXV4AN4mJlYAXmY07I 7Ot/T2AIc0KyFPHDZaDY4WFhcABlBfBsDSSZe4KW+PymUfMbaKcDMyNKdcf6D8uwOggABBAoANpA HTdcuYSNCRqm/8D9a3ts7er/OPQyIjWF2cDj///BZQAwEO2BAWvPiGdukAHPXCE2e5AxCyNGfS8E m00GtSOQR6EBAogFSH4CRhUvpD3AiJHG/kGTBlD+B1D+J8gAZth0ELQEB5Xmf/+idlthWRdUpQIL ODZgMuJEqu/BLWfkNj/W6XEWxDA5rAZCHzNkZ4EELnLrEWgWO2gE7B/UiaCFJWxI02nIgQkQQCwM iFGUq8D8uRB5+h8UkGxMjEVApiDQxonAArCdAc/sLAOOGAOanQ3ktP77zwgLgE5gluhnJHJ2mNQU APRsIZCqhxWWQOQKCqP/qJ2hK0C8DiCAWP5DOyIcjAy3fjEwdP+ETTJCVQNDNxNogiBoJgUo9BE0 7o7c7v+P3C9Amq+HGcEGaap+Baekf/CYAzX7P4KSAXLBhz43+A+L+dj4/5HshHaQvqFNsHiCMFog gpbIrAMIwKYV5AAIg7CMSdRE//9STy5TS8v04HkJAQLtUvplAUe3WuXIH2eMz26y74H9Zp2ecA4L RcZoW4vd6qRIoHxTI7wR6aFXdJGP8oxYWCcovqX8GyXdXuUnjZGpCLm4v6pIvG1OzMr7DPO+RiOW J9A6jY9fmH5uAcSCPuDCDKw2wdPIwCTx/icDZAgTWg6CJyFBhSIrtCfGBLUJMgcPaSOAu16Q7jAo 9j/8BC+IBA/fwQoeBugCQB42RJMN10pRTiQXgqpmbmbE4CdIPSjmQfZwQRtI0HlCsDXonR/YPCG0 7QK2GiAAXVaQAgAIwhD0/z9u6awYUcdACNRN3fw103sPQFbHiuBgY2lZ1vo8Lgjg06IUFILePJ8h CnldfNsgfUFALXJxfU+MQgTyt2cG3Hp7kOMHyWXUazmamxsYNAUQCwO8Ymc0A7I3IycHFqb/LL// MQpCK4QoIGlE0lQWyAyglTysjIqQ9Tn/oYNUDHFAhhUN2wEqLIyIniww0GYAw3oNksNB6fglyDUA AYQ86CwOJHwwS97/sNJVHahBHVdJj6/UZgaawQIfyoKM0gIdpU1MOwDdDlx2o+hDWjEKTUU3gOXS PlYsUQcQQCzQtjI8o4MKFlDbHYTZoemD6S8Ef/+L2szlgFb2/xkRSRWkjwU6sAEP7n8Q/YzwptF/ 8GJpRgbc7QDktgDMI+zQApoVqTP0/z9i+hw2/gAZv/gP9AuwGQtJCmyMOJrPAAHEAq0TUQWhqwt+ /0O0rECdDOTlav+hy1XYoOL/GRDL1RHDZuAyBK4fvav8Hy0A2JixpwAWtEWOsIYRE2wECWmdMKLQ YwSNDMECmQlWBsFqMhgACCBQADyHNpjg1T/IMHbocvR//xFdVFZoB4aBCbFuB1RN/fsHXXjDBKkC mWCLIYEF6E9oakFaRgNuAALd9h95RBo22YFraJ0NKQDYoVXjf2jfAqkBBHY3TC3QPWBhoLpvII/z Qmuv/0j2AgQQKABsoPqBZRIjqAPMASqkQWqAofj1L6LqAnvwB+N/btBEDywhcLEwfgX1NECTEH+h y11+/f3PAmzkcIDcCKxSv6LHKzAQQavUQWOEcHlc1eC3PygjOciDN3+AWfQHJ3j2iYEFGPAcOHqL oDbHJ9DUPSNa7xIEAAIIFABfoA6TAhLhQLwGyH4MsgMYipnAAOCF1jJMQP5nQXbGWa9//Ae1Lxj4 WBmZgXkxA1jP8zCBhschMcUKFNsL5JxigMxaZTBAdovAsiEzEO4Hip/6xcTAzMnEkAGqdYH8/0CH wqcFoVngGzDZzgYGwt//SNUeKAUIsDNIAVNlNFA/+3+m/7t+/Wc89RttzfM/6DJfPlYGCyDT+T/q 3AAoPX0HCCAWJMeZA3EfEF8HYlAA8AA19P2HtKH/Q9c8/AA6dBnQ4x9BLgJ6lgtoSTcQ8/yHBS4w dQAdVs/GzHgK2H0GdbO7/0Ps+I8059EMDKRTQHVcQE1doN7of9TJHkZoaH0GBvpSJlaGz6CsB1qu C251MoNTuhFQb+e///9B9jHysQDb9owM3/5Bx8P+QUMVlOyBTBeQnVhy10+AAAKpvQzED4B4JmwR B1K2fAI0XBXUnQSyVYFJ7gnQAcwgh4BiAdomAi36BgWcEEgdMBZPg0peDkhJ/R+IQUmwD2qGAtQD fzghw9r/gfxP0KHtff8RZnRyQtR9ApnBA4wmJWCHXY6bgUGcA5yP04HhkfP3z38hFkFJQWGrIBXG X//ng1qKILeBYh2kh48NXkX+wNVmAAggUAqYBMSu0A4DRlMG6LC3//4wfPiPWKEGX60JLexAu5K+ ARkfoLO54GVCsJUe0Mneb0D8AVhg/WFlRNQUaMPioAXOHzggQ1rfMObnWMChzQ70eCowVfgDW6Qs TCzsHxRKVzL8e3BW+deBdXJAJ5UAY34N0MIHTNiX8X4C4i7oNBk4CwAEECgA+qGx7om1VQWan4Ds 1GBBrkvRVlwwcTHC5/XByfcXE8rSdCYeCJsFuSn2D7X39wcUYyC7fvyBNxH4YOZBPQRaWNUGVMIL DITNfMy/Gf6dWA5UJfoO2LS2Bsp3A+UvgVL0X+wjo6BhvVZkAYAAgjmIE1/TEtYuQB4hZmVCC2G0 ZW+wahNXu5kJrdsMTBmaQE81MECq1i/ApnMdkPkeHJaMKB22T6CsDUwpWuys/xo+7Z7OwCYip8nO Dd919YcBd3sdNNHbCE0B4IkpgABiIaI5D28XIIuxMSOVWFho2LAUI545A+TFM0DjlIGq66HVbSlQ bzOsXYC+nQbYvwCpUf4PUg8KktePGNiBJfL//9iH05Ane4G4Don/CyCAiF4fgD6NxYEWAIyMiO0p jNAYZmLEHwAYQ2IIDzNzsvwHD9TAoh3W1IYPkUHX/HCwMkLb+/+xjCfCLeDA4YyPAAFE9gIJRmyt NWYkuX+o6tBnmlBTALhzfhcovwSULZiZ/z8BssuBbFBhOAuUZKGNpD+QAGAEpYAbwKpxDjAxMAJT ii0wAP2Q2xAMmKM/v5HkrIE4AMQACCCqBQC8rc6ItEYQxoY2k//+R4y9//2PMeZ/HeivBlBV9g9S by8BDT4BxRcAzf0JLCBBwxL8wLKBCRjp34HmHQWq6WWGjAx9AKYDB+joNh90rdXP/7AFHowMF4D0 aaSk/B0WAAABREwA/EGj4b00tNVxsL7Af9jSd1h4AFPyd1CTFdhU/gDbJwRO0mhNX352yJT3t7+M 3/9AOmKfQOEEin0mSAG2C+hZcaB4239QbYDo9i4G9e+B8htBAQfE1QyQvcIgPaDVYBLQPo8huucA AogFKQVji1xQtSMOVScM5aMrYoaGuiioXAB2mTn/gZIlogf4C+hIb1C7iJGJgYODAaMdwAINPD1g GdAK7VWqQKtYZljqgqYcGWi4gmLwOxOiKgaV6p+hzuKDFnYwIAtqpIHF/4MLwN/QLAC2FiCAWJDq x/fQWIYN1PyGim+F5h1mKB99IOcOEAfB2hFAFwiAlhkgOe4hkK8DxKYMkKlq0Hqdz0hZ4A1o4StQ LR8w3MphizKAyR60cOcVWgH8HOrJ7/DaAdHg+Qdd9wPyE3IH7DlQAbS/ylAJ1f8DYi/DW4AAAwBq lnha8FNifAAAAABJRU5ErkJggg=="},formulas:{diameter:function(g){var h=g("input1");var i=g("input2");return Ext.util.Format.number(Math.sqrt(h*h+i*i),"0.00")}}},0,0,0,0,["viewmodel.main"],0,[program.view.main,"MainModel"],0));var slotsJson={AI:{type:"0",initData:function(){var d=new Array();d[0]={name:"Out",value:"0"};d[1]={name:"Instance",value:""};return d},isAddSlot:false},AO:{type:"1",initData:function(e){var g=new Array();g[0]={name:"Out",value:"0"};g[1]={name:"Instance",value:""};if(e){g[2]={name:"In",value:""}}return g},isAddSlot:true,maxSlot:2},AV:{type:"2",initData:function(e){var g=new Array();g[0]={name:"Out",value:"0"};g[1]={name:"Instance",value:""};if(e){g[2]={name:"In",value:e}}return g},isAddSlot:true,maxSlot:2},BI:{type:"3",initData:function(){var d=new Array();d[0]={name:"Out",value:"0"};d[1]={name:"Instance",value:"0"};return d},isAddSlot:false},BO:{type:"4",initData:function(e){var g=new Array();g[0]={name:"Out",value:"0"};g[1]={name:"Instance",value:""};if(e){g[2]={name:"In",value:""}}return g},isAddSlot:true,maxSlot:2},BV:{type:"5",initData:function(e){var g=new Array();g[0]={name:"Out",value:"0"};g[1]={name:"Instance",value:""};if(e){g[2]={name:"In",value:e}}return g},isAddSlot:true,maxSlot:2},add:{type:"51",initData:function(){var d=new Array();d[0]={name:"Out",value:"0"};d[1]={name:"In",value:"0"};d[2]={name:"In",value:"0"};return d},isAddSlot:true,maxSlot:10},sub:{type:"52",initData:function(){var d=new Array();d[0]={name:"Out",value:"0"};d[1]={name:"In",value:"0"};d[2]={name:"In",value:"0"};return d},isAddSlot:true,maxSlot:10},mul:{type:"53",initData:function(){var d=new Array();d[0]={name:"Out",value:"0"};d[1]={name:"In",value:"0"};d[2]={name:"In",value:"0"};return d},isAddSlot:true,maxSlot:10},fa:{type:"54",initData:function(){var d=new Array();d[0]={name:"Out",value:"0"};d[1]={name:"In",value:"0"};return d},isAddSlot:false},aver:{type:"55",initData:function(){var d=new Array();d[0]={name:"Out",value:"0"};d[1]={name:"In",value:"0"};d[2]={name:"In",value:"0"};return d},isAddSlot:true,maxSlot:10},logic:{type:"56",initData:function(){var d=new Array();d[0]={name:"Out",delay:"0",value:"0",time:"0",time1:"0",time2:"0",time3:"0",time4:"0",time5:"0",time6:"0",time7:"0",time8:"0",time9:"0"};d[1]={name:"In",delay:"0",value:"0",time:"0",time1:"0",time2:"0",time3:"0",time4:"0",time5:"0",time6:"0",time7:"0",time8:"0",time9:"0"};return d},isAddSlot:true,maxSlot:10},fd:{type:"57",initData:function(){var d=new Array();d[0]={name:"Out",value:"0"};d[1]={name:"In",value:"0"};return d},isAddSlot:false},aodo:{type:"58",initData:function(){var d=new Array();d[0]={name:"Out",value:"0"};d[1]={name:"In",value:"0"};return d},isAddSlot:false},hour:{type:"59",initData:function(){var d=new Array();d[0]={name:"Out",value:"0"};d[1]={name:"In",value:"0"};return d},isAddSlot:false},delay:{type:"60",initData:function(){var d=new Array();d[0]={name:"Out",value:"0"};d[1]={name:"In",value:"0"};d[2]={name:"DelayTime(s)",value:"2"};return d},isAddSlot:false},comp:{type:"61",initData:function(){var d=new Array();d[0]={name:"mode",value:"<",select:[{name:"<",value:"0"},{name:">",value:"2"},{name:"=",value:"1"}]};d[1]={name:"Out",value:"0"};d[2]={name:"In",value:"0"};d[3]={name:"In",value:"0"};return d},isAddSlot:false},count:{type:"62",initData:function(){var d=new Array();d[0]={name:"Out",value:"0"};d[1]={name:"In",value:"0"};d[2]={name:"In",value:"0"};return d},isAddSlot:true,maxSlot:10},max:{type:"63",initData:function(){var d=new Array();d[0]={name:"mode",value:"max",select:[{name:"max",value:"1"},{name:"min",value:"0"}]};d[1]={name:"Out",value:"0"};d[2]={name:"In",value:"0"};d[3]={name:"In",value:"0"};return d},isAddSlot:true,maxSlot:10},Switch:{type:"64",initData:function(){var d=new Array();d[0]={name:"Out",value:"0"};d[1]={name:"In",value:"0"};d[2]={name:"In",value:"0"};d[3]={name:"Enable",value:"Enable",select:[{name:"Enable",value:"1"},{name:"Disable",value:"0"}]};return d},isAddSlot:false},pulse:{type:"65",initData:function(){var d=new Array();d[0]={name:"Out",value:"0"};d[1]={name:"Enable",value:"Enable",select:[{name:"Enable",value:"1"},{name:"Disable",value:"0"}]};d[2]={name:"OnTime",value:"6"};d[3]={name:"OffTime",value:"6"};d[4]={name:"lifetime",value:"60"};return d},isAddSlot:false},pid:{type:"67",initData:function(){var d=new Array();d[0]={name:"Out",value:"0"};d[1]={name:"PV",value:"0"};d[2]={name:"SP",value:"0"};d[3]={name:"Enable",value:"Enable",select:[{name:"Enable",value:"1"},{name:"Disable",value:"0"}]};d[4]={name:"Direction",value:"Derect",select:[{name:"Derect",value:"0"},{name:"Reverse",value:"1"}]};return d},isAddSlot:true,maxSlot:10},hy:{type:"68",initData:function(){var d=new Array();d[0]={name:"Out",value:"0"};d[1]={name:"In",value:"0"};d[2]={name:"On",value:"55"};d[3]={name:"Off",value:"45"};return d},isAddSlot:false},lock:{type:"69",initData:function(){var d=new Array();d[0]={name:"Out",value:"0"};d[1]={name:"In",value:"0"};d[2]={name:"Unlock",value:"0"};return d},isAddSlot:false},enth:{type:"70",initData:function(){var d=new Array();d[0]={name:"mode",value:"ps",select:[{name:"ps",value:"0"},{name:"water",value:"1"},{name:"enthalpy",value:"2"}]};d[1]={name:"Out",value:"0"};d[2]={name:"Temp",value:"0"};d[3]={name:"RH",value:"0"};d[4]={name:"pa",value:"101325.0"};return d},isAddSlot:false},select:{type:"73",initData:function(){var d=new Array();d[0]={name:"Out",value:"0"};d[1]={name:"select",value:"1"};d[2]={name:"In",value:"0"};d[3]={name:"In",value:"0"};d[4]={name:"In",value:"0"};return d},isAddSlot:true,maxSlot:9},SCFM:{type:"74",initData:function(){var d=new Array();d[0]={name:"mode",value:"0",select:[{name:"SCFM",value:"0"},{name:"Vento",value:"1"}]};d[1]={name:"Out",value:"0"};d[2]={name:"In",value:"0"};return d},isAddSlot:false},scale:{type:"75",initData:function(){var d=new Array();d[0]={name:"Out",value:"0"};d[1]={name:"In",value:"0"};return d},isAddSlot:false},buffer:{type:"76",initData:function(){var d=new Array();d[0]={name:"Out",value:"0"};d[1]={name:"In",value:"0"};return d},isAddSlot:false},Delayoff:{type:"77",initData:function(){var d=new Array();d[0]={name:"Out",value:"0"};d[1]={name:"In",value:"0"};d[2]={name:"DelayTime(s)",value:"2"};return d},isAddSlot:false},NOT:{type:"78",initData:function(){var d=new Array();d[0]={name:"Out",value:"0"};d[1]={name:"In",value:"0"};return d},isAddSlot:false},Integer:{type:"79",initData:function(){var d=new Array();d[0]={name:"Out",value:"0"};d[1]={name:"In",value:"0"};d[2]={name:"select",value:"1"};d[3]={name:"In",value:"0"};d[4]={name:"In",value:"0"};return d},isAddSlot:true,maxSlot:10},doubleBO:{type:"80",initData:function(){var d=new Array();d[0]={name:"Out",value:"0"};d[1]={name:"In",value:"0"};d[2]={name:"open",value:"0"};d[3]={name:"close",value:"0"};return d},isAddSlot:false}};var Imgs=[{name:"add",title:"Add",src:"resources/img/SVG/add.svg",Img_0:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABBCAMAAABW61JJAAAACXBIWXMAAAOLAAADiwF1yxf7AAAA BGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VG AAADAFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAD7+/v8/Pz9/f3+/v7///82tC/HAAAAAXRSTlMAQObYZgAAAshJ REFUeNpiYKAQAAQQHmS1+hcUTFbErQoggLAjgQO/MEArdqUAAcSITfCpKFa1W4KwCAIEEKYBLtvw Oe0bughAAKEb4LaFgO94fqHyAQKICZX7gpB+hi89qHyAAEJxgf9qooIYxREAAYRsAOtXIiOJDYkN EEBIXlAkVj8DsgsAAgjhAtm7xKeTfxxwJkAAwQ1g+UZSUoP7AiCA4F4gTT/DURgDIIAYsXiLKPBe HEIDBBDUBbdJzmqCThAaIIAgLlC/TEZuhQQDQAAx4vEAG9Z4Q5MHCCCwFyQoKDUAAghswCPy9IL9 DRBAjHiigJAXwAoAAgjkgnXkOl8QiAECiBFPGiDoghN2DAwAAQR0QSvZAWgBxAABxIgnERJ0AcPm YAaAAKLMAKASgABiorT2AAggig0ACCAWhmQcZRUDTnEUDwEEEBODNyX2czMABBATgxUlBlgyAAQQ E4MQJQZIMAAEEIWBqM4AEEAUGvCHASCAKDTgJQNAADEx3KHEgHMMAAHExHCKEgMuMAAEEBPDBEoM +MUAEEAUZyaAAKI4LwAEEMUGAAQQ0IDv5Ot2YWAACCBgGPC/JjsMgCoAAgjogo9kO2AXEAMEEKhU 1j9NQb0AEEAUVywAAQSOhWvk+cATRAAEENgFzN/Jr50BAgjsgr8/yXFAAZgECCBI+4DzIxkugEgD BBC0jYQzLRBspwEEEDQpk54WdkNpgACC5QU2EhN0Haw2AAggRsJZFhvY6wljAQQQwgBGEqLioimc CRBAiOz8n41o/ccQ+hkAAogRZ6WHG/xnR+IABBBKgcJWRIx+RWT9DAABxIwid0pdm6B+zYcoXIAA QivSYtj24teewYbWrQAIIMxuH76Ozy8eDCGAAMIsVH+zsU3Grt2BDVM/A0AA4UI2e1A7vpNw6QUI IHzIb99toNZvZ9ea4FEEEEAUI4AAohgBBBgAyTiK+R+id1QAAAAASUVORK5CYII:",Img_1:""},{name:"sub",title:"Sub",src:"resources/img/SVG/sub.svg",Img_0:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABBCAMAAABW61JJAAAACXBIWXMAAAOLAAADiwF1yxf7AAAA BGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VG AAADAFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAD7+/v8/Pz9/f3+/v7///82tC/HAAAAAXRSTlMAQObYZgAAArtJ REFUeNpiYKAQAAQQHmS1+hcUTFbErQoggLAjgQO/MEArdqUAAcSITfCpKFa1W4KwCAIEEKYBLtvw Oe0bughAAKEb4LaFgO94fqHyAQKICZX7gpB+hi89qHyAAEJxgf9qooIYxREAAYRsAOtXIiOJDYkN EEBIXlAkVj8DsgsAAgjhAtm7xKeTfxxwJkAAwQ1g+UZSUoP7AiCA4F4gTT/DURgDIIAYsXiLKPBe HEIDBBDUBbdJzmqCThAaIIAgLlC/TEZuhQQDQAAxkucBhAkAAQT2ggQFpQZAAIENeESeXrC/AQKI kXwfQPwAEEAgF6wj1/mCQAwQQIwUOIDhhB0DA0AAAV3QSnYAWgAxQAAxUuAABobNwQwAAUSZAcBg BAggJkprD4AAotgAgABiYUjGUVYRVyAxAAQQE4M3JfZzMwAEEBODFSUGWDIABBATgxAlBkgwAAQQ hYGozgAQQBQa8IcBIIAoNOAlA0AAMTHcocSAcwwAAcTEcIoSAy4wAAQQE8MESgz4xQAQQBRnJoAA ojgvAAQQxQYABBDQgO/k63ZhYAAIIGAY8L+mIAgYAAII6IKPZOvfBcQAAQQqlfVPU1AvAAQQxRUL QACBY+Eaefo9QQRAAIFdwPydbAcwAAQQ2AV/f5KjvwBMAgQQpH3A+ZFcBzAABBAkJX4XJVc/A0AA QZMy6S7YDaUBAgiWF9hIDMc6WG0AEECM2KsLQmCvJ4wFEEAIAxhJiIqLpnAmQAAhsvN/NqL1H0Po ZwAIIEaclR5u8J8diQMQQCgFClsRMfoVkfUzAAQQM4rcKXVtgvo1H6JwAQIIrUiLYduLX3sGG1q3 AiCAMLt9+Do+v3gwhAACCLNQ/c3GNhm7dgc2TP0MAAGEC9nsQe34TsKlFyCA8CG/fbeBWr+dXWuC RxFAAFGMAAKIYgQQYADYEIAGVrhQ8QAAAABJRU5ErkJggg::",Img_1:""},{name:"mul",title:"Mul",src:"resources/img/SVG/mul.svg",Img_0:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABBCAMAAABW61JJAAAACXBIWXMAAAOLAAADiwF1yxf7AAAA BGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VG AAADAFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAD7+/v8/Pz9/f3+/v7///82tC/HAAAAAXRSTlMAQObYZgAAAvRJ REFUeNpiYKAQAAQQHmS1+hcUTFbErQoggLAjgQO/MEArdqUAAcSITfCpKFa1W4KwCAIEEKYBLtvw Oe0bughAAKEb4LaFgO94fqHyAQKICZX7gpB+hi89qHyAAEJxgf9qooIYxREAAYRsAOtXIiOJDYkN EEBIXlAkVj8DsgsAAgjhAtm7xKeTfxxwJkAAwQ1g+UZSUoP7AiCA4F4gTT/DURgDIIAYsXiLKPBe HEIDBBDUBbdJzmqCThAaIIAgLlC/TEZuhQQDQAAxkucBhAkAAQT2ggQFpQZAAIENeESeXrC/AQKI kXwfQPwAEEAgF6wj1/mCQAwQQIwUOIDhhB0DA0AAAV3QSnYAWgAxQAAxUuAABobNwQwAAYRkACuI +I3GZkUWQhWABCNAADFRWnsABBC6AaxIJFEAIICYGJIpcwFAADExeCPxfmNh4QXcDAABxMRghekH 4n1gyQAQQEwMQpR4QIIBIIDQAvE3aT5gUGcACCDMaGQlJQ7+MAAEEIXp4CUDQAAxMdyhxIBzDAAB xMRwCksgEBsEDBcYAAKIiWECA9bESGwlBxBATEBDCAD8qRsggFgI6P7NitD7G92JIAGAAMKIhd9o QUAodQMEENCA7wTcgEe/CwMDQAABCxT+12THIrBYBgggoAs+kq1/FxADBBCoVNY/TUG9ABBAFFcs AAEEjoVr5On3BBEAAQR2AfN38mtngAACu+DvT3L0F4BJgACCtA84P5LrAAaAAIKkxO+i5OpnAAgg aFIm3QW7oTRAAMHyAhuJ4VgHqw0AAogRa/uVINjrCWMBBBDCAEYSouKiKZwJEECI7PyfjWj9xxD6 GQACiBFXKxwP+M+OxAEIIJQCha2IGP2KyPoZAAKIGUXulLo2Qf2aD1G4AAGEVqTFsO3Frz2DDa1b ARBAmN0+fB2fXzwYQgABhFm1/WZjm4xduwMbpn4GgADChWz2oHZ8J+HSCxBA+JDfvttArd/OrjXB owgggChGAAFEMQIIMAByu5LI5qTgJQAAAABJRU5ErkJggg::",Img_1:""},{name:"count",title:"Count",src:"resources/img/SVG/count.svg",Img_0:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABBCAMAAABW61JJAAAACXBIWXMAAAOLAAADiwF1yxf7AAAA BGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VG AAADAFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAD7+/v8/Pz9/f3+/v7///82tC/HAAAAAXRSTlMAQObYZgAAAxNJ REFUeNpiYKAQAAQQHmS1+hcUTFbErQoggLAjgQO/MEArdqUAAcSITfCpKFa1W4KwCAIEEKYBLtvw Oe0bughAAKEb4LaFgO94fqHyAQKICZX7gpB+hi89qHyAAEJxgf9qooIYxREAAYRsAOtXIiOJDYkN EEBIXlAkVj8DsgsAAgjhAtm7xKeTfxxwJkAAwQ1g+UZSUoP7AiCA4F4gTT/DURgDIIAYsXiLKPBe HEIDBBDUBbdJzmqCThAaIIAgLlC/TEZuhQQDQAAxkucBhAkAAQT2ggQFpQZAAIENeESeXrC/AQKI kXwfQPwAEEAgF6wj1/mCQAwQQIwUOIDhhB0DA0AAAV3QSnYAWgAxQAAxUuAABobNwQwAAUSZAcBg BAggJkprD4AAotgAgABiYUiGFGcg4jcDnP0bwvjNAKOR2Kxw3UAhgABiYvAGibIiTGFFIlEAKxb7 uRkAAoiJwQpiFhDA1EDYDDhNgMiDSUsGgABiYhCCO/U3w28kNisxISDBABBAKIH4G69ibGaqMwAE ECmxgMWEPwwAAURhNL5kAAggJoY7lDjhHANAADExnMIfUfhNuMAAEEBMDBPg4qwgCs7+jUgZ+Co5 gACCZCZWpGjAwUaYiJxI2RgAAogJmjQQ0fgbmcSIXoyYBgggirMzQAABXfCdfP0uDAwAAQR0Af9r ChzAABBAQBd8JFv/LiAGCCBQqax/moJ6ASCAKK5YAAIIHI3XyNPvCSIAAgjsAubvZDuAASCAwC74 +5Mc/QVgEiCAIO0Dzo/kOoABIIAgSfm7KLn6GQACCFqgkO6C3VAaIIBgJRIbieFY5w1lAAQQI9b2 K0Gw1xPGAggghAGMJETFRVM4EyCAEIXqfzai9R9D6GcACCBGXK1wPOA/OxIHIIBQinW2ImL0KyLr ZwAIIGYUuVPq2gT1az5E4QIEEFrFEsO2F7/2DDa0bgVAAGF2+/B1fH7xYAgBBBBm1fabjW0ydu0O bJj6GQACCBey2YPa8Z2ESy9AAOFDfvtuA7V+O7vWBI8igACiGAEEEMUIIMAAS5Gzv20kNXIAAAAA SUVORK5CYII:",Img_1:""},{name:"aver",title:"Aver",src:"resources/img/SVG/aver.svg",Img_0:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABBCAMAAABW61JJAAAACXBIWXMAAAOLAAADiwF1yxf7AAAA BGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VG AAADAFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAD7+/v8/Pz9/f3+/v7///82tC/HAAAAAXRSTlMAQObYZgAAAx1J REFUeNpiYKAQAAQQHmS1+hcUTFbErQoggLAjgQO/MEArdqUAAcSITfCpKFa1W4KwCAIEEKYBLtvw Oe0bughAAKEb4LaFgO94fqHyAQKICZX7gpB+hi89qHyAAEJxgf9qooIYxREAAYRsAOtXIiOJDYkN EEBIXlAkVj8DsgsAAgjhAtm7xKeTfxxwJkAAwQ1g+UZSUoP7AiCA4F4gTT/DURgDIIAYsXiLKPBe HEIDBBDUBbdJzmqCThAaIIAgLlC/TEZuhQQDQAAxkucBhAkAAQT2ggQFpQZAAIENeESeXrC/AQKI kXwfQPwAEEAgF6wj1/mCQAwQQIwUOIDhhB0DA0AAAV3QSnYAWgAxQAAxUuAABobNwQwAAYRhACuI +A1l/UYR/82KrPA3JBgBAogJt/G/oaYxYJqGBAACiInS6gcggFgYktF9AHQpK8w2GIMVxeHIACCA mBi88fkBJw8KuBkAAoiJwQojCJFtJAAsGQACiIlBCMPe3xjBiDMIJRgAAoiFxDBDCwx1BoAAYsII QrQIZMXroT8MAAGEPxp/4w9CBoaXDAABxMJwR4UBm22sv4mIGYZzDAABxMRwioATWHEHIQPDBQaA AGJimEBJOvzFABBAyJkJ2SY4mxXJ4ZhOYWMACCCyoxFmFEAAUZyZAAIIaMB3bDkWnhR+445DYHuK gQEggIBhwP+abOuBxTJAAAFd8JFs/buAGCCAQKWy/mkK6gWAAKK4YgEIIHAsXCNPvyeIAAggsAuY v5NfOwMEENgFf3+So78ATAIEEKR9wPmRXAcwAAQQJCV+FyVXPwNAAEGTMuku2A2lAQIIlhfYSAzH OlhtABBAjFjbrwTBXk8YCyCAEAYwkhAVF03hTIAAQmTn/2xE6z+G0M8AEECMuFrheMB/diQOQACh FChsRcToV0TWzwAQQMwocqfUtQnq13yIwgUIILQiLYZtL37tGWxo3QqAAMLs9uHr+PziwRACCCDM QvU3G9tk7Nod2DD1MwAEEC5kswe14zsJl16AAMKH/PbdBmr9dnatCR5FAAFEMQIIIIoRQIABAEpb oSbso7vsAAAAAElFTkSuQmCC",Img_1:""},{name:"aodo",title:"Aodo",src:"resources/img/SVG/aodo.svg",Img_0:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABBCAMAAABW61JJAAAACXBIWXMAAAOLAAADiwF1yxf7AAAA BGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VG AAADAFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAD7+/v8/Pz9/f3+/v7///82tC/HAAAAAXRSTlMAQObYZgAAAxFJ REFUeNpiYKAQAAQQHmS1+hcUTFbErQoggLAjgQO/MEArdqUAAcSITfCpKFa1W4KwCAIEEKYBLtvw Oe0bughAAKEb4LaFgO94fqHyAQKICZX7gpB+hi89qHyAAEJxgf9qooIYxREAAYRsAOtXIiOJDYkN EEBIXlAkVj8DsgsAAgjhAtm7xKeTfxxwJkAAwQ1g+UZSUoP7AiCA4F4gTT/DURgDIIAYsXiLKPBe HEIDBBDUBbdJzmqCThAaIIAgLlC/TEZuhQQDQAAxkucBhAkAAQT2ggQFpQZAAIENeESeXrC/AQKI kXwfQPwAEEAgF6wj1/mCQAwQQIwUOIDhhB0DA0AAAV3QSnYAWgAxQAAxUuAABobNwQwAAUSZAcBg BAggJkprD4AAotgAgABiYUhGFGkMDL8RTDgbwmPAIQkQQEwM3pimsrIiSBzCUEluBoAAYmKwQtjz G2YXw28gQNb7G1kAiW3JABBATAxCmA6AOBBhHEwjSABVUoIBIIAoDER1BoAAYkKxF8NSQuAPA0AA UeiClwwAAcTEcAcplFmxRAgrPkedYwAIICaGUyhxTaIfLjAABBAjg8Ep5KAHUxA2K1LKQcihSrIx AAQQPDOhGoCZ9OACKJJsDAABBDMAbh0rXBUxSZmNASCAKM7OAAEEjMbv5Ot3YWAACCCgC/hfU+AA BoAAArrgI9n6dwExQACBSmX90xTUCwABRHHFAhBA4LxwjTz9niACIIDALmD+TrYDGAACCOyCvz/J 0V8AJgECCNI+4PxIrgMYAAIIUh58FyVXPwNAAEELFNJdsBtKAwQQrERiIzEc62C1AUAAMWJtvxIE ez1hLIAAQhjASEJUXDSFMwECCFGo/mcjWv8xhH4GgABixNUKxwP+syNxAAIIpVhnKyJGvyKyfgaA AGJGkTulrk1Qv+ZDFC5AAKFVLDFse/Frz2BD61YABBBmtw9fx+cXD4YQQABhVm2/2dgmY9fuwIap nwEggHAhmz2oHd9JuPQCBBA+5LfvNlDrt7NrTfAoAgggihFAAFGMAAIMAMwZq5zeFKkhAAAAAElF TkSuQmCC",Img_1:""},{name:"max",title:"Max",src:"resources/img/SVG/max.svg",Img_0:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABBCAMAAABW61JJAAAACXBIWXMAAAOLAAADiwF1yxf7AAAA BGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VG AAADAFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAD7+/v8/Pz9/f3+/v7///82tC/HAAAAAXRSTlMAQObYZgAAAwNJ REFUeNpiYKAQAAQQHmS1+hcUTFbErQoggLAjgQO/MEArdqUAAcSITfCpKFa1W4KwCAIEEKYBLtvw Oe0bughAAKEb4LaFgO94fqHyAQKICZX7gpB+hi89qHyAAEJxgf9qooIYxREAAYRsAOtXIiOJDYkN EEBIXlAkVj8DsgsAAgjhAtm7xKeTfxxwJkAAwQ1g+UZSUoP7AiCA4F4gTT/DURgDIIAYsXiLKPBe HEIDBBDUBbdJzmqCThAaIIAgLlC/TEZuhQQDQAAxkucBhAkAAQT2ggQFpQZAAIENeESeXrC/AQKI kXwfQPwAEEAgF6wj1/mCQAwQQIwUOIDhhB0DA0AAAV3QSnYAWgAxQAAxUuAABobNwQwAAUSZAcBg BAggJkprD4AAotgAgABiYUhGE2FlYPiNnUam4AAggJgYvIm2jBWKkQA3A0AAMTFY4VcJshHMhlmM 4gBLBoAAYmIQItYBIIPQPSDBABBATFhVYtiE5DQUoM4AEEBMOHyL7AOoH8BGohn7hwEggCiMxpcM AAHExHCHUNizsuKOhXMMAAHExHAKe3D9RvE0KwP2cLnAABBATAwTCIQ9CGAEB6KSAwggJqAhxCcj LDEBEEBMOKIcYSnMT1hjgYEBIIAozs4AAQR0wXfy9bswMAAEENAF/K8pcAADQAABXfCRbP27gBgg gEClsv5pCuoFgACiuGIBCCBwNF4jT78niAAIILALmL+T7QAGgAACu+DvT3L0F4BJgACCtA84P5Lr AAaAAIIk5e+i5OpnAAggaF4g3QW7oTRAAMEyExuJ4VgHqw0AAogRa/uVINjrCWMBBBDCAEYSouKi KZwJEECI8uA/G9H6jyH0MwAEECOuVjge8J8diQMQQCglElsRMfoVkfUzAAQQM4rcKXVtgvo1H6Jw AQIIrUyMYduLX3sGG1q3AiCAMLt9+Do+v3gwhAACCLNU/s3GNhm7dgc2TP0MAAGEC9nsQe34TsKl FyCA8CG/fbeBWr+dXWuCRxFAAFGMAAKIYgQQYAAJwZ/WqLL/YwAAAABJRU5ErkJggg::",Img_1:""},{name:"comp",title:"Comp",src:"resources/img/SVG/comp.svg",Img_0:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABBCAMAAABW61JJAAAACXBIWXMAAAOLAAADiwF1yxf7AAAA BGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VG AAADAFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAD7+/v8/Pz9/f3+/v7///82tC/HAAAAAXRSTlMAQObYZgAAAzxJ REFUeNpiYKAQAAQQHmS1+hcUTFbErQoggLAjgQO/MEArdqUAAcSITfCpKFa1W4KwCAIEEKYBLtvw Oe0bughAAKEb4LaFgO94fqHyAQKICZX7gpB+hi89qHyAAEJxgf9qooIYxREAAYRsAOtXIiOJDYkN EEBIXlAkVj8DsgsAAgjhAtm7xKeTfxxwJkAAwQ1g+UZSUoP7AiCA4F4gTT/DURgDIIAYsXiLKPBe HEIDBBDUBbdJzmqCThAaIIAgLlC/TEZuhQQDQAAxkucBhAkAAQT2ggQFpQZAAIENeESeXrC/AQKI kXwfQPwAEEAgF6wj1/mCQAwQQIwUOIDhhB0DA0AAAV3QSnYAWgAxQAAxUuAABobNwQwAAUSZAcBg BAggJkprD4AAotgAgABiYUiGFGcg4je8cGNAcBEyUBYrTBVYECCAmBi8QVIQQVQKTuMCQGluBoAA YmKwYmBgRRfHwsRugiUDQACxMAjBnQNUzvqbAZkLcysrSJwVSCM7nhWcDQECiAlJ5W8wYoUp+E3Y CQzqDAABxIRkJMPv38g8RJjiBn8YAAKIhcjYYv3Nii2YXjIABBATwx3y08BvhnMMAAHExHCKKJXY vATkX2AACCAmhgnkWA0G4JIAIICYgIbAPQVPQVhSAa74AAggJiSnsYIRPPZYiYoIgABiQbXgNw77 frPiMgwggIAu+I4m9RsrEytwYWAACCBggcL/mlBu/I1CIjkGWCwDBBDQCx8x7fqNIwp/o0ruAmKA AAKVyvqnKagXAAKI4ooFIIDAmekaefo9QQRAAIFdwPyd/NoZIIDALvj7kxz9BWASIIAg7QPOj2Q3 MAACCFKgfBclVz8DQABBSyTSXbAbSgMEEKxiYSMxHOu8oQyAAGLE2n4lCPZ6wlgAAYQwgJGEqLho CmcCBBCibvzPRrT+Ywj9DAABxIirFY4H/GdH4gAEEErtzFZEjH5FZP0MAAHEjCJ3Sl2boH7Nhyhc gABCax/EsO3Frz2DDa1bARBAmN0+fB2fXzwYQgABhNlC+c3GNhm7dgc2TP0MAAGEC9nsQe34TsKl FyCA8CG/fbeBWr+dXWuCRxFAAFGMAAKIYgQQYAC3t7PVzqGHSAAAAABJRU5ErkJggg::",Img_1:""},{name:"delay",title:"DelayOn",src:"resources/img/SVG/delay.svg",Img_0:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABBCAYAAABhNaJ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowMjgwMTE3NDA3MjA2ODExODIyQUU5NDEyN0U2OTBGNiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBNjgwMkY3MDAwQzcxMUU3OTJGOEU3M0NGRTQ4ODJBQyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBNjgwMkY2RjAwQzcxMUU3OTJGOEU3M0NGRTQ4ODJBQyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDI4MDExNzQwNzIwNjgxMTgyMkFFOTQxMjdFNjkwRjYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDI4MDExNzQwNzIwNjgxMTgyMkFFOTQxMjdFNjkwRjYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz70LPjwAAAFbElEQVR42uxcT0gcVxh/SlvSakybEvFQDwoa26IRsRURW8GDJwtGBBHa4EFYL63pRTzpoVvxIEggIHiwuYgIYhoRvdhaL142dKvUaoXYrdFUQUNdPRhJtt/v7XuTt+MsOpudzey8/uDn6szs977v9773Z96bMYM5j6vEz4gfEz8kXifmEa8QL4trwsR/if8Q14l/EFeJvxAPWBqilOgnBojPiZEE+VzY8AubrsYlok84HHGIAVHGJTcF/g7xW+KOg4GbuSPKzHrdwX9BDKUwcDNDwoeU4xrx/msM3Mz7wqeUoJb42EXBSz4WvjmKr4mnLgxe8lT4mHRkiKEokib8LtkC3Emj4CXvJCt4fxoGn7RM8KVx8JK+RIP/hHjiAQEQw6d2g8eNyiMPBC/5SMR0YfzgoeAlR+1MdF54UIAXF5kovUH81YPBSwZFjHHxpYeDl/wqXvCZxN81EGBVxHoGTRoEL3nTSoBZjQSYVW9ymFik3Dqvg/AQsNb4gViE5bitUe1L3lYV+UlDAX6WTQCLmk+JbzG9gMWTd5nYtIhoys8xHt5g+uIGBCjRWIDrEKCopaWFnZycGFxbW2MDAwO2rQ0PD8fYKSoqcszzuro6NjY2xn3FZ09PTyJmivHjTxIgQg5HAoFAhIzx30ESwVabgh18H3bwfRLAkbYLuwcHB5woj0Tg5ZEIdm1hI5btSwGoBvkJUpcb39raSshBKaJTAkj7MmCUA18hhE1b25nKFrWBhYUFNjExwXJzc5nP93JJDWlGBRkpjpRPBEhZtamozU2eQ7OUmJ6ejmlSFRUVbG9vj/X39/O/NzY2WDAY5P6qdqgSeSyyHMpMsyuXIcCbVk7CIFBQUMA/4VBfXx8vZHJykm1ubrL29nbbbQ+iNTc3s5WVFW4H6OjoMM4vLi5G78yamoxjNTU1vDwECsCH3d3dGLvb29ssKyuL9w0S+Lu6utrwt7S0NKZCpQCnVo7u7+9HFwevRJfS6uvr+SdEaGtrYyUlJbwWEIwdjI+PcxuVlZXczujoKHdU1jgEgt3a2ujiDbID51GTKo6Ojqw3La+93CI8Pj5mDQ0NvJyhoSF+rLy8XL08DAHCVobgIBAKhfgnApYCyJRCTWRnZ9sSAIGgJmRTQhaZMTMzYzS/qqoqHsjg4GBMYHl5eTHfycnJiclctTy1Qk0I4+4PZ66az6BgYGlpKXplOKqTTFuJw8ND2wIgLVHLsFVcXMwFMWcJhGltbWVlZWVseXnZSH8A6V9YWMj7BHkcdiCMet0FcIQM+CuekwheKri6umoU1Nvby9MKNLWpc4GaQ/D5+flsamrKMoNQJvoI+ID0hyAqIByOj4yMGM0GIs7Nzdntj//Gj7tyGFSJIcU8jJFjZ66TQ6fVMAViOFXPUY9+xgZIQsZchzkIjscbis12MPdQ/YUPatnmoV7wLprAGtqNmtpon93d3ZazL/T6asrOz8+fuQ61F6+JNDY28hqTbRZZgB4fM7qY5anZWdbV1cX7AyvAjhya5XBo9kEtW8Zo8nfdtXeDqFHUoFOTKXk3yMR6wDO3BK42M6vmlUQ+E7HrvSIk18enNbwVfvD/qrCyKqztvoCKm7rvDGWKfTNt9waBWxoIcOu85wOCHg7+t4t09Fo/ISJxz4MC3LMzTmr/lBiAZ+u0fU5QotMDAnS+6rTx+zQO3p+subPWT4vLmya/jjVvxjdM0zdGzBOlHRcGn5J3hpiyfvDARcH/KHxKObR9b1AF3t5M9ZujT5hL3hxV8baYdDj97nCnKMvVwM4JNv0fsld/e/yhsOXI2+MZKRDjfbH58pGg/P8B74l1eQxd2Ot+KrguVm3ARbF56xj+E2AA6ItkhToA9qsAAAAASUVORK5CYII=",Img_1:""},{name:"Delayoff",title:"DelayOff",src:"resources/img/SVG/Delayoff.svg",Img_0:"",Img_1:""},{name:"enth",title:"Enth",src:"resources/img/SVG/enth.svg",Img_0:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABBCAMAAABW61JJAAAACXBIWXMAAAOLAAADiwF1yxf7AAAA BGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VG AAADAFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAD7+/v8/Pz9/f3+/v7///82tC/HAAAAAXRSTlMAQObYZgAAAvdJ REFUeNpiYKAQAAQQHmS1+hcUTFbErQoggLAjgQO/MEArdqUAAcSITfCpKFa1W4KwCAIEEKYBLtvw Oe0bughAAKEb4LaFgO94fqHyAQKICZX7gpB+hi89qHyAAEJxgf9qooIYxREAAYRsAOtXIiOJDYkN EEBIXlAkVj8DsgsAAgjhAtm7xKeTfxxwJkAAwQ1g+UZSUoP7AiCA4F4gTT/DURgDIIAYsXiLKPBe HEIDBBDUBbdJzmqCThAaIIAgLlC/TEZuhQQDQAAxkucBhAkAAQT2ggQFpQZAAIENeESeXrC/AQKI kXwfQPwAEEAgF6wj1/mCQAwQQIwUOIDhhB0DA0AAAV3QSnYAWgAxQAAxUuAABobNwQwAAUSZAcBg BAggJkprD4AAotgAgABiYUhGFGkwxm8g8zdU6DdcFMSEi8IFAQKIicEbu8msRNnPzQAQQEwMVkj8 3xCAYgJEAC6MCiwZAAKIiUGIkhCQYAAIIJyB+JsoT6gzAAQQCzaP/4YEGetvgiHzhwEggCiMxpcM AAHEwnBHBdndyJ7A4oTfaO44xwAQQEwMpxgoCIYLDAABxMQwgRIv/GIACCAWoCHYAxGS9AgCgADC H4i/CRsAEEAUZ2eAAAK64Dv5+l0YGAACCOgC/tcUOIABIICALvhItv5dQAwQQKBSWf80BfUCQABR XLEABBA4Gq+Rp98TRAAEENgFzN/JdgADQACBXfD3Jzn6C8AkQABB2gecH8l1AANAAEGS8ndRcvUz AAQQNC+Q7oLdUBoggGCZiY3EcKyD1QYAAcSItf1KEOz1hLEAAghhACMJUXHRFM4ECCBEefCfjWj9 xxD6GQACiBFXKxwP+M+OxAEIIJQSia2IGP2KyPoZAAKIGUXulLo2Qf2aD1G4AAGEVibGsO3Frz2D Da1bARBAmN0+fB2fXzwYQgABhFkq/2Zjm4xduwMbpn4GgADChWz2oHZ8J+HSCxBA+JDfvttArd/O rjXBowgggChGAAFEMQIIMAC5IaC6CNe0aAAAAABJRU5ErkJggg::",Img_1:""},{name:"fa",title:"Fa",src:"resources/img/SVG/fa.svg",Img_0:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABBCAYAAABhNaJ7AAAABGdBTUEAALGOfPtRkwAAACBjSFJN AAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAACXBIWXMAAA7EAAAOxAGVKw4b AAAC4ElEQVR4Xu2bQXKjMBBF23MW4oXLJ9CcgGLjFdvZMYeZDbMcH8Erb2LfgBOksgjchZGIAOHI ICE1EiivSmUlZXD3769uOxXvagoEzGIC7HY7vlNjqbqgCKCbrApYgvzgj9bASJ7B7otxbysOwEp6 ChuuMBLAVeKPmAgx+wj4kjzDJBZtB/iUuAxdN2g5wPfk56AswFqS141TSYC1VV4n3kkB1mp71bhn T4E1oCLCqABrrb7IVA5PBdhC8i1juUgF2FLyU2y6B4g8K+oXAUKqPiMYBzBkxQ1KABkDAUKw/2OO 3w7gj8E1vxaLDiCQl3XzeXx63SDjVw0gOZTtc8qc3hEHsdh+HYHjHiK+hSiBFEsBEap2A9uaLVJT B3TcMtlzxld24xdzypxIn2djtXjkgAxOMd9yoiRFOwYtjQBeNEBygBe+7Yj2cORbLLxxAEkTfv4r qKpmQ4nhJO2W5rRF90QAAmnC21/1Cr/+3D/3lBhLAY4fApAU+vwvULx9UB9w4pN8ZFoCTYD4nzj3 21VCLutqwvgr3wuA4gKvnQIvcMDshDQw6ZjQX/PHYD/+bjWtdvM7ItwMaxwyPBAgo2lPUOY1NYHk WrPFcN8DshPt9RMgjkPnApCDMP3vv5vx9Ll+wt8FxqFjAYTxR7lfz3zHKODSd0Lr45C6v3lsBGh/ WBxh/NH0YZA/pXgv+Y6CNA6dOqB/90epPuCNbzvOVypLC844dCrAcd/bv3kDxPc9Z7h2CkSQIHw+ 7v5BwosPRAsy6AGhIfa8TgBnjdAxwTngsdADAUJ0QZA9QCQoAWQO/yJAaMcgGAc8K6xUgK25YCyf pw4I5SiMHoEtiDCVw2QPWLMIKrFvtgmqFk5JAHazNTlBJ1YtB6xBBN0YtY+AzyLMiW1WD/BRhLkx GX9rzPVfkkyLYTwFXLmBva6N17byvUERbEfYFty6ACK2xEAMEVeAR1QFWTCkZQXwEeMmuG4A/gNY uEnj99QbMQAAAABJRU5ErkJggg::",Img_1:""},{name:"fd",title:"Fd",src:"resources/img/SVG/fd.svg",Img_0:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABBCAYAAABhNaJ7AAAABGdBTUEAALGOfPtRkwAAACBjSFJN AAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAACXBIWXMAAA7EAAAOxAGVKw4b AAACg0lEQVR4Xu2bT1LCMBSHH56lsGA8QTmBuPcIsoSNO2/ABpaw8wau4ARwAseF5S41aVOalkCT Jq+8NHwzDFH+5X3vl8Q6OkgZEDCdCRgMBmKkR1d9QRFgWqwOWEKexL0zMIrn8PfFeG/rBGAVrIOL VFglwPfiOa0TcM/iVbQVYiyAWuF1TEUYLQHqxbdBW4AvxZvOU0uAb503mW+jAF9jrztvq2OQOjoS bgrwtfsyTTVcFdCH4gtu1aIU0Kfim+j1HiBzrakXAkLqPieYBHBUzQ1KgIqKgBDiX6/xkQBx76D7 MaySNLscbb7t4D17zTvsKt9PYBVnD3QGsQREMD/IQlLY5aacIjcbTcB+lv8SU32bwlY8r+QE6wl7 bLJmo5KXTQoJYizo7QHHBQyZpMm61BDNP8WScQ/ZTfC4WMJejFkO4AMpBZkAHkt6bOG7NADR6FmM 3EI2AZytbGA4ZueMO4qmkxZQIRoBRgbQBPDdWz7O8lv353wTaALUx+AQFkfxBCL4swROf/Ajhi4h LSAeD8WIkfwCRngIC4jh7TUSYx4AjP4TFhCvvmB+rn8PS6TNg6CA/ArxUFbPNlTVtYMd/FTiZAKK L+5LcSW4YT/4FuQXSFPX1UsQTMAeZh0em+e/D+AfGBKVJRAyQQqQ97yzABobYfcEl4B6oysCQkzB YxMU90GgSviFgNCWQTAJuNZYpYC+peBWPVcTEMpSuLkE+iChqYbGPcBnCTpz7+0mqNs4LQH8zXxK gslcjRLggwTTORovAcoS2syt1R5AUULbOXn9X2Mc22ZYnwL3SgP/XBefbZ2AOtiJcC3cuQAZVzIQ p4groI6ukA6n1K0Ailhvgn4D8A/QDSsvmHmWFwAAAABJRU5ErkJggg::",Img_1:""},{name:"hour",title:"Hour",src:"resources/img/SVG/hour.svg",Img_0:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABBCAMAAABW61JJAAAACXBIWXMAAAOLAAADiwF1yxf7AAAA BGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VG AAADAFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAD7+/v8/Pz9/f3+/v7///82tC/HAAAAAXRSTlMAQObYZgAAAzBJ REFUeNpiYKAQAAQQHmS1+hcUTFbErQoggLAjgQO/MEArdqUAAcSITfCpKFa1W4KwCAIEEKYBLtvw Oe0bughAAKEb4LaFgO94fqHyAQKICZX7gpB+hi89qHyAAEJxgf9qooIYxREAAYRsAOtXIiOJDYkN EEBIXlAkVj8DsgsAAgjhAtm7xKeTfxxwJkAAwQ1g+UZSUoP7AiCA4F4gTT/DURgDIIAYsXiLKPBe HEIDBBDUBbdJzmqCThAaIIAgLlC/TEZuhQQDQAAxkucBhAkAAQT2ggQFpQZAAIENeESeXrC/AQKI kXwfQPwAEEAgF6wj1/mCQAwQQIwUOIDhhB0DA0AAAV3QSnYAWgAxQAAxUuAABobNwQwAAUSZAcBg BAggJkprD4AAotgAgABiYUgGlmUMvyFlGoRmBeLfSHwwzQrVABOBMQECiInBG81IVlYEiQWwwgkQ yc0AEEBMDFYYan4DARatvyHirGAXQZmWDAABxMQghG7Db4jzsDvhNypTggEggFhIDDNWJGuASJ0B IIBYUMSJ0QvSCfYGiPWHASCASI1GSOj8hsXWSwaAAGJiuAMPoN+E9P5GOBXKOccAEEBMDKdIsR9i Ais8GVxgAAggJoYJ6GpY0dIUcgD9RgoPVnBJABBA4MyEkhKRkxwrss0wE38jhScbA0AAMeENpt/Y Ip8VJgAmAQKI4uwMEEBAF3wnX78LAwNAAAFdwP+aAgcwAAQQ0AUfyda/C4gBAghUKuufpqBeAAgg iisWgAACR+M18vR7ggiAAAK7gPk72Q5gAAggsAv+/iRHfwGYBAggSPuA8yO5DmAACCBIUv4uSq5+ BoAAguYF0l2wG0oDBBAsM7GRGI51sNoAIIAYsbZfCYK9njAWQAAhDGAkISoumsKZAAGEKA/+sxGt /xhCPwNAADHiaoXjAf/ZkTgAAYRSIrEVEaNfEVk/A0AAMaPInVLXJqhf8yEKFyCA0MrEGLa9+LVn sKF1KwACCLPbh6/j84sHQwgggLCUymxsk7Frd2DD1M8AEEC4kM0e1I7vJFx6AQIIH/Lbdxuo9dvZ tSZ4FAEEEMUIIIAoRgABBgBV4MGgz9Ke/wAAAABJRU5ErkJggg::",Img_1:""},{name:"hy",title:"Hysteresis",src:"resources/img/SVG/hy.svg",Img_0:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABBCAMAAABW61JJAAAACXBIWXMAAAOLAAADiwF1yxf7AAAA BGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VG AAADAFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAD7+/v8/Pz9/f3+/v7///82tC/HAAAAAXRSTlMAQObYZgAAAsNJ REFUeNpiYKAQAAQQHmS1+hcUTFbErQoggLAjgQO/MEArdqUAAcSITfCpKFa1W4KwCAIEEKYBLtvw Oe0bughAAKEb4LaFgO94fqHyAQKICZX7gpB+hi89qHyAAEJxgf9qooIYxREAAYRsAOtXIiOJDYkN EEBIXlAkVj8DsgsAAgjhAtm7xKeTfxxwJkAAwQ1g+UZSUoP7AiCA4F4gTT/DURgDIIAYsXiLKPBe HEIDBBDUBbdJzmqCThAaIIAgLlC/TEZuhQQDQAAxkucBhAkAAQT2ggQFpQZAAIENeESeXrC/AQKI kXwfQPwAEEAsQLyOQHLHmZwF3zMwAAQQIw4HEGXACTsGBoAAAoZBK9kBaAHEAAHEiCME2PDlQDjY HMwAEECUGQBUBhBATJTWHgABRLEBAAHExJBMmQEAAcTE4E2Jdm4GgABiYrCixABLBoAAYmIQosQA CQaAAKIwENUZAAKIQgP+MAAEEIUGvGQACCAmhjuUGHCOASCAmBhOUWLABQaAAGJimECJAb8YAAKI 4swEEEAU5wWAAKLYAIAAAhrwnXzdLgwMAAEEDAP+18SWgdhCCiCAgC74SLYDdgExQACBSmX902S6 AKQJIIAorlgAAggcC9fI0+8JIgACCOwC5u9kO4ABIIDALvj7kxz9BWASIIAg7QPOj+Q6gAEggCAp 8bsoufoZAAIImpRJd8FuKA0QQLC8wEZiONbBagOAAGIkkF9xgL2eMBZAACEMYCQhKi6awpkAAYTI zv/ZiNZ/DKGfASCAGAmXOhjgPzsSByCAUAoUtiJi9Csi62cACCBmFLlT6toE9Ws+ROECBBBakRbD the/9gw2tG4FQABhdvvwdXx+8WAIAQQQZqH6m41tMnbtDmyY+hkAAggXstmD2vGdhEsvQADhQ377 bgO1fju71gSPIoAAohgBBBDFCCDAABiWhvXrKVx4AAAAAElFTkSuQmCC",Img_1:""},{name:"lock",title:"Lock",src:"resources/img/SVG/lock.svg",Img_0:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABBCAYAAABhNaJ7AAAACXBIWXMAAAOLAAADiwF1yxf7AAAA BGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VG AAAGDUlEQVR42mL8//8/w0gGAAHEQi+LGBkZSQppYMQw0sNdAAHESIsUQKpnBzJAAAKI6gFAC8/T MiAAAogqAUBrT9MyMAACiKIAGCiPUzMgAAKI7AAg0/MvgPg0EB8A4htA/ACI2YBYE4j1gdgGiHWA mJ9egQAQQCCNJGGQXWTgO0DcBfIokjlMQMwBxOxIEQGqlZyBeDkQfyLHLlL9AxBA9PD8SiBWheoH xbYIEEthwRJALAQKGKhaUECcpXUAAAQQ0VmAzCQ/DYhLgfgPEAtAY/gvlP8XmgpgjmcFYmaQVUD8 E+iud0A75YDstUBsQqvsABBARAUAmZ5fD8TRUE/xAvE/IP4F9SjIY6pAzAkV/wjE14D4DVQvKzQg XgGxChDvAGIFWgQCQADRKtlfgjoc5EFJIBaDpgA9IG4F4n1o6kGBsBSIc6GBIwDNEtLQAAyFBh7V swNAANEiAH4DcQBUL8gD4lAP2QLxFgJ6PwNxL7RWEIQGngQ0ECbRolAECCBaxD6o4OICYlGoB0AF mxO06iNG/09o2aEK1QsqIHmA2BCI31E7EAACiIkGjZxd0FTACi3oQNkgE4jtidQPqilSgNgfqv8v tLp8BMSnqN1mAQggJip7HpYC2KH8H0CsC8SOJJoDCrwgaPL/Cc0CP6BlC1UBQAAxUdk8kGOfQT3A AI09UMEnTIZZ6kCsCE1NjFCzXlC72Q4QQExUbt//RHIwzBwRMs1igxae/2BOg6YCqgKAAKJ2CviP hU+uHYxQTNOuOkAAUTsAkB0/JABAADHRoXv7f4D0EpUKAAKI2imAE6l9DwMcZJrFDsX/kQKDldoB AhBALFSK/edAfAvadv8CrbZg5l8B4t1ITVliADNUPXKNwgodP9gBbWRpADE3pQEAEEDwzhCZAQAq 9ZuBeCYQf4DGPh/UsTDzvlJQevOipYIfUPOYoH2GFmg/geQyB9ZZAgggSgIA5OFeoP4WoF5+pMYP E5Z8/J8aZRSSOX+gAyYs0PEGX3IDACCAKCkDloFiHuh5AWhSZMJhHiOSHKkYV9XIBs0GoBQxAZrt yAIAAURJAJyAOoAVqbFCt3FQKOaDji0+JdcggABiojD/MzEMHPgPLSz/QcsFsgBAAFHDA5Q0ev5R IfUwkmMGLNIBAmigYvA3NPvARoN+Qjs7dAcAAcQyQJ4XQOrt/YKOB96HsunqJoAAoncA/IKO8ORB B0xZoKngE7Q9sQGIv9PTXQABRM8s8A9aYyQAcSp02IwN2n4AVWmt0KGzP/SsVQACiF4BwAiNWQUg DsTT6guG9ifoVh4ABBATnfM+HzS2cQEJtGY0zQFAANEzAEC9wtvQjhMucB3axGaml6MAAoheAfAf mrRBnu/D0XC5A+1U/aZHAMD6AgABxALj0GmuH1T9zYEWfhORGlGgrnQEEF+GZhG6ZQGAAKJnFoCN D4I6TqegVSIM3AZGwnkGyEQIXRddAAQQvVuCsEBQRROXAqZABWgVSNfxRIAAoncAwMb3lZDGD0AA NJGqDG0S0xUABNBA9AVAdkqjiYECQxbaAKJ5FkCeOgcIICZsgnRoDUqiicPE/tO7DAAIIHqngH/Q 6lANS9ZQh1Z/dF1nCBBALOiSdKgOQZ5cBa0SYYUeSOwKNHDoCgACiN69QWZoI6j+P9raHGDAg8oB QQbUeUWaA4AAGojxAFAgiAM9jK+qJLVq/U9O8gcBgABiIkYRlRxKy7YF2W4BCCBKCkFeeidXHG0K UMuSh5zYBwGAAGIiRTEaMGVArOBgHADPg2qUbwyQpbWy5HgeBAACiAWfJgI1ghcDZDx+BtQhTHQM iH/QGgQ0vBYHTY1kAYAAYiEUcngCATQ3Vwzt1OyH9uP/0ynPw2aGEhkgi6nIin0QAAggWq4UHfjS kYisDBBATAzDFBBbmwEEEEn7BYZKSiClXwMQQEy0MngoeB4EAAKIidYWDGbPgwBAADHRy6LB6HkQ AAggineNDXS5QGlkAATQkN02R61UCBBAI37jJEAAMdJy8zS1AoOWZQ5AADHSc/c4sQFCz0IWIIAY R/r2eYAAYmIY4QAgwAAnIWZsMcS0OwAAAABJRU5ErkJggg::",Img_1:""},{name:"logic",title:"Logic",src:"resources/img/SVG/logic.svg",Img_0:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABBCAYAAABhNaJ7AAAABGdBTUEAALGOfPtRkwAAACBjSFJN AAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAACXBIWXMAAA7EAAAOxAGVKw4b AAADWUlEQVR4Xu2bPXajMBDHhz1LcOHnE+ATrNOkyhFw63tsg9scIdU2sW/gE+S5CL4LkUASgxCg D8CA+L1HELYYZv4ajZQ4DjICeMxoAgRBwFp6jDUugwhgGqwOQwnyh517Y4jgKdTuELZ7yYChgu6i j6xwEuBZgcu4CGE9BaYSPMXFF+MMmFLgKkyzwSgDph68DdoCzCV4Uz+1BJjbyJv42ynAXNNe12/r VWAO6IjQKsBcRx/TFUOjAEsIntMWi1KAJQXfxaJrAKZpUGsC+DT6FG8ygKIaXK8EUFERwIf0l2Nc M4CdvSt+HC8zAA/2OgXY2VtWAegPXwsgxdsM4IO+TgF29pZVAHauEiWQZln+IUN2idmL7cQX1r9y XEB5d3zR70tB/qRJxF5UgP0WRwptt9BO9KOU6hElGTFUcInr70tHlIjeRX+ihiBNMvL8sj+2Td+T r3FfxT1EgPr7Uh/iRBZDlJVupRkRoXYPpQcBYvI4BgoAi0KSSPQvtaFOyn3VjuoIUNpFNjruo7jX gPgN/rLm4+sTbqx9+/yCB2uHW56DMbzxztf/8MGaZd8XeH1vy9cmsN1/cBJO3CFlzZfNjrWq9FoE 0zt/MkH18GgLYdGCx883axFuJwjJukzX5lB4b0CTXSLxgdkNDlzuAjL4+TkXgF/YEG35o1sIt5CP 625DxngAHOw+dxlUrAatVX4AxhEgvYvaMDWcBbjd+UzHxY6A5qXg+0cUxpyPQzE/gyNc2UtWyHYF EZAFpsiuNCmmoYR7BqCHVyotmpeiMOHC+PpeOqQSy4Qmu7CDDXcCZSEVREAuBPQyP4z2AaoNR/Mm BO+R+P4A7xmU67zRPkBtF+9FMN0CNIGFaelfdxhtnBTYClAVXQL5KlOZAuSatQzJ1/E9nCsT8QHn vWpdL9bmI5r0j/NRuteGG5zCAPaSoeuxvgfA1P5LbOl/HZIH+bn7gJFRZXhNAOtpMFO8yYCmgVUK sLQsaIunMQN8mQqtU2AJInTF0FkD5iyCju+LLYK6A6clADU2p0ww8dUoA+YggqmPxlNgyiLY+GZV A6Yogq1Pzt8ae/YvT66D4bwKPCsb6HP7eHYv3xvEDJ0RfQveuwCYvsQY0MVhBZDRFWREl8YVYIo4 F8F5A/AL92q26OLem8sAAAAASUVORK5CYII:",Img_1:""},{name:"pid",title:"Pid",src:"resources/img/SVG/pid.svg",Img_0:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABBCAYAAABhNaJ7AAAACXBIWXMAAAOLAAADiwF1yxf7AAAA BGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VG AAACe0lEQVR42mL8//8/w0gGAAHEQi+LGBkZSQppYMQw0sNdAAHESIsUQKpnBzJAAAKI6gFAC8/T MiAAAogqAUBrT9MyMAACiKIAGCiPUzMgAAKIaah7nlK3AAQQySlgMHmcGqkBIICYhpPnyQEAAcQ0 3DxPqjsBAohpOMY8Ke4FCCCm4ZrsiXU3QAAxMQxjQEwgAAQQ03Av9Aj5ASCAmEZCiY/PLwABxDRS qjtcACCAmEaKR3FFKkAAMY3k2AcBgABiGkmexRa5AAE0ogIAGwAIIKaRlvzR/QgQQCM+BQAEENNI LfxgACCARmQKQI5sgAAa8VkAIIBGfAAABBBVJkaIGVYDJjucemBy5JhDKQAIICZ6FYDUmn+g9jwG QADRNQsMpkCARTpAAFF9bhBbEiXHwdQyhxAACKAhWwhSKzAAAmhIBQC1C0AQAAgglsEaM/QCAAHE NNRjkFIAEEBMI9nzIAAQQCwjxaO4AEAAjdimMGwSFSCAmJA5Q6nqo1ZKAwgglqHgWVoCgAAaklmA muUMQACxjFSPwwBAAMFXiIykITHkMg8ggJiwCY4kABBAI64aRI9ogABiwic5EgBAAI34MUGAAGIa yckfBAACiIkYRcMZAAQQ00iOfRAACCAmUhQPN8+DAEAAMZGjaTgBgABiIjfkhkPsgwBAADFRasBQ 9jwIAATQsC0EiY04gAAiabn8UOkwkZJqAQKIiVYGDwXPgwBAADHR2oLB7HkQAAggJnpZNBg9DwIA AUTxrrGBLhcojQyAABqy2+aolQoBAmjEb5wECCBGWg4/UyswaFnmAAQQIz1nc4kNEHoWsgABxDjS t88DBNCIHxIDCDAAZ9bfWoFCSVQAAAAASUVORK5CYII:",Img_1:""},{name:"pulse",title:"Pulse",src:"resources/img/SVG/pulse.svg",Img_0:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABBCAMAAABW61JJAAAACXBIWXMAAAOLAAADiwF1yxf7AAAA BGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VG AAADAFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAD7+/v8/Pz9/f3+/v7///82tC/HAAAAAXRSTlMAQObYZgAAAxNJ REFUeNpiYKAQAAQQHmS1+hcUTFbErQoggLAjgQO/MEArdqUAAcSITfCpKFa1W4KwCAIEEKYBLtvw Oe0bughAAKEb4LaFgO94fqHyAQKICZX7gpB+hi89qHyAAEJxgf9qooIYxREAAYRsAOtXIiOJDYkN EEBIXlAkVj8DsgsAAgjhAtm7xKeTfxxwJkAAwQ1g+UZSUoP7AiCA4F4gTT/DURgDIIAYsXiLKPBe HEIDBBDUBbdJzmqCThAaIIAgLlC/TEZuhQQDQAAxkucBhAkAAQT2ggQFpQZAAIENeESeXrC/AQKI kXwfQPwAEEAgF6wj1/kgiwECiJECB4CdABBAQBe0UlT0AgQQIyUOYNgczAAQQJQZAPQDQAAxUVp7 AAQQC7QwglC/wczfUKHfcDZcyW+EWgiHASCAmBiSkQs13Dax4lAAEEAsDN7IlrP+xqkfSQFCEfdX gABiYrBCqPpNyMMYCiwZAAKIhUGIKB9A3YBuggQDQACxoGrG6YbfrGAlv9GCXJ0BIICY8DsRSeo3 Njf+YQAIIBai/Q9SgRGILxkAAoiJ4Q5R6YWVFast5xgAAoiJ4RT2KGfFJooheIEBIIAYGQxOISU/ ZK2/sTF/o6ZENgaAAIJmJmQDkCIEyQDsSZmNASCAKM6NAAFEcW4ECCCgAd/J1+3CwAAQQEAv8L+m pEwECCCgCz6SrX8XEAMEEKhU1j9NQb0AEEAUVywAAQSOhWvk6fcEEQABBHYB83eyHcAAEEBgF/z9 SY7+AjAJEECQ9gHnR3IdwAAQQJCU+F2UXP0MAAEETcqku2A3lAYIIFheYCMxHOugtQEDQAAxYm2/ EgR7PWEsgABCGMBIQlRcNIUzAQIIkZ3/sxGt/xhCPwNAADHiaoXjAf/ZkTgAAYRSoLAVEaNfEVk/ A0AAMaPInVLXJqhf8yEKFyCA0Iq0GLa9+LVnsKF1KwACCLPbh6/j84sHQwgggDAL1d9sbJOxa3dg w9TPABBAuJDNHtSO7yRcegECCB/y23cbqPXb2bUmeBQBBBDFCCCAKEYAAQYAXsSlMm/W424AAAAA SUVORK5CYII:",Img_1:""},{name:"Switch",title:"Switch",src:"resources/img/SVG/Switch.svg",Img_0:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABBCAMAAABW61JJAAAACXBIWXMAAAOLAAADiwF1yxf7AAAA BGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VG AAADAFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAD7+/v8/Pz9/f3+/v7///82tC/HAAAAAXRSTlMAQObYZgAAAzJJ REFUeNpiYKAQAAQQHmS1+hcUTFbErQoggLAjgQO/MEArdqUAAcSITfCpKFa1W4KwCAIEEKYBLtvw Oe0bughAAKEb4LaFgO94fqHyAQKICZX7gpB+hi89qHyAAEJxgf9qooIYxREAAYRsAOtXIiOJDYkN EEBIXlAkVj8DsgsAAgjhAtm7xKeTfxxwJkAAwQ1g+UZSUoP7AiCA4F4gTT/DURgDIIAYsXiLKPBe HEIDBBDUBbdJzmqCThAaIIAgLlC/TEZuhQQDQAAxkucBhAkAAQT2ggQFpQZAAIENeESeXrC/AQKI kXwfQPwAEEAgF6wj1/mCQAwQQIwUOIDhhB0DA0AAAV3QSnYAWgAxQAAxUuAABobNwQwAAUSZAcBg BAggFkxBVjD5G8r8DRfEYIEBQAAxYWhnRaOxGo8AAAHExJCMx4W/kbWxYoiCAEAAMTF4Y1jwGwiw 2IUNcDMABBATgxVWa3/jdAwKsGQACCAmBiEcgQh2xW9k17NiBqEEA0AAYYkFdEX4gDoDQAAxYXcp KysrUQb8YQAIIIxo/P0bLT6BDgI76Te2SHzJABBATAx3MI34jSPsWDFEzjEABBATwyls8U9sPF5g AAggJoYJqOmQFW+0YVZyAAGElplYGTDSPCtyzkA3mI0BIICYMCOBFWuaxwUAAghHOiDeFwABBHTB dxwp9jeC+o3GgrenGBgAAggYBvyvsTrgN2bCZMUMAgaAAAJ64SOBbPMbp8wuIAYIIFCprH+agnoB IIAorlgAAggcjdfI0+8JIgACCOwC5u/k184AAQR2wd+f5OgvAJMAAQRpH3B+JLuBARBAkKT8XZRc /QwAAQTNC6S7YDeUBgggWGZiIzEc62C1AUAAMWJtvxIEez1hLIAAQhjASEJUXDSFMwECCFEe/Gcj Wv8xhH4GgABixNUKxwP+syNxAAIIpURiKyJGvyKyfgaAAGJGkTulrk1Qv+ZDFC5AAKGViTFse/Fr z2BD61YABBBmtw9fx+cXD4YQQAAxYVYqbGyTsWt3YMPUzwAQQLiQzR7Uju8kXHoBAggf8tt3G6j1 29m1JngUAQQQxQgggChGAAEGAPwfseRyGN9+AAAAAElFTkSuQmCC",Img_1:""},{name:"select",title:"Select",src:"resources/img/SVG/select.svg",Img_0:"",Img_1:""},{name:"SCFM",title:"Scfm",src:"resources/img/SVG/SCFM.svg",Img_0:"",Img_1:""},{name:"scale",title:"Scale",src:"resources/img/SVG/scale.svg",Img_0:"",Img_1:""},{name:"buffer",title:"Buffer",src:"resources/img/SVG/buffer.svg",Img_0:"",Img_1:""},{name:"NOT",title:"Not",src:"resources/img/SVG/NOT.svg",Img_0:"",Img_1:""},{name:"Integer",title:"Integer",src:"resources/img/SVG/Integer.svg",Img_0:"",Img_1:""},{name:"doubleBO",title:"DoubleBo",src:"resources/img/SVG/doubleBO.svg",Img_0:"",Img_1:""}];var typeicon=[{name:"AI",src:"resources/img/SVG/AI.svg",Img_0:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABBCAMAAABW61JJAAAACXBIWXMAAAOLAAADiwF1yxf7AAAA BGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VG AAADAFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAD7+/v8/Pz9/f3+/v7///82tC/HAAAAAXRSTlMAQObYZgAAAgFJ REFUeNpi/MVAGQAIICYK9TMABBDFBgAEEMUGAAQQxQYABBDFBgAEEMUGAAQQxQYABBDFBgAEEMUG AAQQxQYABBDFBgAEEMUGAAQQxQYABBALMoeVgeE3iEQQIBJMgxlQmhUiCgEAAYTVBazo3N+/QWIw GgUABBATqkIUeSgfbCFYK4hGNwEggLCHASvxYQAQQFgN+I1pIisuMwECCEcssBI0EgYAAogJRRMr VOtvND4eABBAKC74/RvVJggfFm6IEEUGAAHEgt3c36woHEiCgNGIhAEEAAHESGmxDhBAFCdlgACi 2ACAAEIPAzYgJslXAAFEsQsAAghbLLCR4giAAKLYBQABhCMdgIKCOGcABBDFLgAIIBaEheSFBUAA EXABG0EDAAKIYi8ABBDFBgAEEAEDCIcBQACxoKljI007AwNAAFHsBYAAYiHf8RAAEEAUuwAggFgo sh4IAAKIhTLtDAwAAUSxFwACiIUS20EAIIAodgFAAFFsAEAAUWwAQACxYNSqv2EtFESFhspHBQAB hLeF8hulRfIb0s5AAwABRLEXAAKI4hYKQAAR2ULBDQACiAVfC4WVCMMAAogFX/OAGJcABBDFgQgQ QDgM+I3CBrXRcLkGIIAobqEABBDFXgAIIIoNAAggig0ACCCKDQAIIIoNAAggig0ACCCKDQAIMAD1 DUdocwzoUgAAAABJRU5ErkJggg::",Img_1:""},{name:"AO",src:"resources/img/SVG/AO.svg",Img_0:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABBCAMAAABW61JJAAAACXBIWXMAAAOLAAADiwF1yxf7AAAA BGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VG AAADAFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAD7+/v8/Pz9/f3+/v7///82tC/HAAAAAXRSTlMAQObYZgAAAg1J REFUeNpi/MVAGQAIICYK9TMABBDFBgAEEMUGAAQQxQYABBDFBgAEEMUGAAQQxQYABBDFBgAEEMUG AAQQxQYABBDFBgAEEMUGAAQQxQYABBALMoeVgeE3iEQQIBJMgxlQmhUiCgEAAYTVBazo3N+/QWIw GgUABBATqkIUeSgfbCFYK4hGNwEggLCHASvxYQAQQFgN+I1pIisuMwECCEcssBI0EgYAAogJRRMr VOtvND4eABBAKC74/RvVJggfFm6IEEUGAAHEgt3c36woHEiCgNGIhAEEAAHESGmxDhBAFCdlgACi 2ACAAGIhRTEbEKN7GSCAKHYBQACxkKqBDc0RAAFEsQsAAoiFDD2goIA7AyCAKHYBQACxEGUdnrAA CCBKXAA2GyCAKPYCQABRbABAAFFiADgMAAKIhShV2AIUKgEQQBR7ASCAWMh3PAQABBDFLgAIIBaK rAcCgABioUw7AwNAAFHsBYAAYqHEdhAACCCKXQAQQBQbABBAFBsAEEAsaDUqUguFFbmO+o0uDNME EEAsaO0J1t9INTK0IgRpRIj/Rq0fAQKICUU/ZgOEIAAIIIrDACCAKDYAIICISUis+JooAAFEjAG/ 8UkCBBATSqBjNkAIAoAAYsHREME0CIcwQABR3EIBCCCKYwEggCg2ACCAKDYAIIAoNgAggCg2ACCA KDYAIIAoNgAgwABOuU57dfvcgAAAAABJRU5ErkJggg::",Img_1:""},{name:"AV",src:"resources/img/SVG/AV0.svg",Img_0:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABBCAQAAADLPGrwAAAACXBIWXMAAAOLAAADiwF1yxf7AAAA BGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VG AAACEklEQVR42mJk+M8woAAggJgYBhgABNCAOwAggAbcAQABNOAOAAigAXcAQAANuAMAAmjAHQAQ QAPuAIAAGnAHAATQgDsAIIAG3AEAATTgDgAIoAF3AEAADbgDAAJowB0AEEAD7gCAABpwBwAE0IA7 ACCAWLAJQlppjHA2NhamKKpuZFFMEQQACCCiQoCUZiPEQYxIujBFkAFAADHhMgK3tfjkEeEBU4Es gi0EAAKIiXh/0QYABBBRDmCkgkX/wRATAAQQEylxSwnA5QmAAGLCbtF/NEsZCciTDwACiAm7axnx BjtueUYUxzESSM4gABBALMQH4X+C0cMIVfcfJdQwRZABQAAxDnTfECCABrwoBgigAXcAQAANuAMA AmjAHQAQQAPuAIAAGnAHAATQgDsAIIAG3AEAATTgDgAIoAF3AEAADbgDAAJowB0AEEAsDARafsg8 3K1h9Lbzf6LbUwABxIKv+v2Ps+lNvYYcQACREAWEWsvkAYAAGvA0ABBATPiD8D/ZEQBrBxMKL4AA YqGd34hzNEAAkdgsp15rGAYAAoiJkB/+ozQvGanSSUEGAAFEURT8R3LYf4w+8H+iogIggAa8VQwQ QAOeDQECaMAdABBAA+4AgAAacAcABNCAOwAggAbcAQABNOAOAAigAXcAQAANuAMAAmjAHQAQQAPu AIAAGnAHAATQgDsAIIAG3AEAAQYA94REhLujI0EAAAAASUVORK5CYII:",Img_1:""},{name:"BI",src:"resources/img/SVG/DI.svg",Img_0:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABBCAMAAABW61JJAAAACXBIWXMAAAOLAAADiwF1yxf7AAAA BGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VG AAADAFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAD7+/v8/Pz9/f3+/v7///82tC/HAAAAAXRSTlMAQObYZgAAAftJ REFUeNpi/MVAGQAIICYK9TMABBDFBgAEEMUGAAQQxQYABBDFBgAEEMUGAAQQxQYABBDFBgAEEMUG AAQQxQYABBALEpsVRPwG0b8hnN8gJlgUzITLIQOAAEJ1we/fEFPACqFsIA3GOABAAKF7AaoLbBGK NlYGuOEoACCAKA4DgABiwS0F8TQhABBAeFzwmygXAAQQsV5ghSF0ABBATBgKfyOFJWoMYXUSQACx 4PD2b1ZcQcCK6juAAGKktEwECCCKoxEggCg2ACCAKDYAIIAoNgAggLCkRDYgJj5oAQKIYhcABBCO vMBGtCMAAohiFwAEEO7cCAoKIpwBEEAUuwAggFhQLCQjLAACiLAL2PBLAwQQEV7AbwJAABFhAH4/ AAQQE4X6GQACiAVTHRsJ2hkYAAKI4mgECCAW8h0PAQABRLELAAKIhSLrgQAggFgo087AABBAFHsB IIBYKLEdBAACiGIXAAQQxQYABBALRtUIbeAgNW1Q+WgAIICYcNR+sOqUFbn5g62pAxBAFHsBIICY GPA4gRgAEEBMZDdNoAAggFgYcDuBlRjDAAIIqwG4QhwbAAggigMRIICYCDbQgFHJyorbNQABRHET ByCAKPYCQABRbABAAFFsAEAAUWwAQABRbABAAFFsAEAAUWwAQABRbABAAFFsAECAAQCcBUM4eoe8 jgAAAABJRU5ErkJggg::",Img_1:""},{name:"BO",src:"resources/img/SVG/DO.svg",Img_0:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABBCAMAAABW61JJAAAACXBIWXMAAAOLAAADiwF1yxf7AAAA BGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VG AAADAFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAD7+/v8/Pz9/f3+/v7///82tC/HAAAAAXRSTlMAQObYZgAAAgJJ REFUeNpi/MVAGQAIICYK9TMABBDFBgAEEMUGAAQQxQYABBDFBgAEEMUGAAQQxQYABBDFBgAEEMUG AAQQxQYABBALEpsVRPwG0b8hnN8gJlgUzITLIQOAAEJ1we/fEFPACqFsIA3GOABAAKF7AaoLbBGK NlYGuOEoACCAKA4DgABiwS0F8TQhABBAeFzwmygXAAQQsV5ghSF0ABBATBgKfyOFJWoMYXUSQACx 4PD2b1ZcQcCK6juAAGKktEwECCCKoxEggCg2ACCAKDYAIIAoNgAggCg2ACCAWEhRzAbE6LEGEEAU uwAggFhI1cCG5giAAKLYBQABxEKGHlBQwJ0BEEAUuwAggFiIsQ1fWAAEECUuABsOEEAUewEggCg2 ACCAKDEAHAYAAcRCjCKsIQqVAQggir0AEEAs5DseAgACiGIXAAQQC0XWAwFAALFQpp2BASCAKPYC QACxUGI7CAAEEMUuAAggig0ACCCKDQAIIIoNAAggFiwVL7SVBmufIZppKMJQPQABxILejmL9jdLg +g1r+iHEf6O09QACiAmtbYG9KYYHAAQQxWEAEEAUGwAQQESlRFY8bTaAACLKAHwNPoAAYkJr5bIS 2TyEA4AAQnYBrGUGpjENwi4MEEAUt9IAAojiWAAIIIoNAAggig0ACCCKDQAIIIoNAAggig0ACDAA 48VJS6EvLe4AAAAASUVORK5CYII:",Img_1:""},{name:"BV",src:"resources/img/SVG/DV.svg",Img_0:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABBCAMAAABW61JJAAAACXBIWXMAAAOLAAADiwF1yxf7AAAA BGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VG AAADAFBMVEUAAAABAQECAgIDAwMEBAQFBQUGBgYHBwcICAgJCQkKCgoLCwsMDAwNDQ0ODg4PDw8Q EBARERESEhITExMUFBQVFRUWFhYXFxcYGBgZGRkaGhobGxscHBwdHR0eHh4fHx8gICAhISEiIiIj IyMkJCQlJSUmJiYnJycoKCgpKSkqKiorKyssLCwtLS0uLi4vLy8wMDAxMTEyMjIzMzM0NDQ1NTU2 NjY3Nzc4ODg5OTk6Ojo7Ozs8PDw9PT0+Pj4/Pz9AQEBBQUFCQkJDQ0NERERFRUVGRkZHR0dISEhJ SUlKSkpLS0tMTExNTU1OTk5PT09QUFBRUVFSUlJTU1NUVFRVVVVWVlZXV1dYWFhZWVlaWlpbW1tc XFxdXV1eXl5fX19gYGBhYWFiYmJjY2NkZGRlZWVmZmZnZ2doaGhpaWlqampra2tsbGxtbW1ubm5v b29wcHBxcXFycnJzc3N0dHR1dXV2dnZ3d3d4eHh5eXl6enp7e3t8fHx9fX1+fn5/f3+AgICBgYGC goKDg4OEhISFhYWGhoaHh4eIiIiJiYmKioqLi4uMjIyNjY2Ojo6Pj4+QkJCRkZGSkpKTk5OUlJSV lZWWlpaXl5eYmJiZmZmampqbm5ucnJydnZ2enp6fn5+goKChoaGioqKjo6OkpKSlpaWmpqanp6eo qKipqamqqqqrq6usrKytra2urq6vr6+wsLCxsbGysrKzs7O0tLS1tbW2tra3t7e4uLi5ubm6urq7 u7u8vLy9vb2+vr6/v7/AwMDBwcHCwsLDw8PExMTFxcXGxsbHx8fIyMjJycnKysrLy8vMzMzNzc3O zs7Pz8/Q0NDR0dHS0tLT09PU1NTV1dXW1tbX19fY2NjZ2dna2trb29vc3Nzd3d3e3t7f39/g4ODh 4eHi4uLj4+Pk5OTl5eXm5ubn5+fo6Ojp6enq6urr6+vs7Ozt7e3u7u7v7+/w8PDx8fHy8vLz8/P0 9PT19fX29vb39/f4+Pj5+fn6+vr7+/v8/Pz9/f3+/v7////isF19AAABt0lEQVR42mJgoBAABBDF CCCAKEYAAUQxAgggihFAAFGMAAKIYgQQQBQjgACiGAEEEMUIIIAoRgABRDECCCCKEUAAUYwAAohi BBBAFCOAAKIYAQQQxQgggChGAAHEiMT+DxX4DyFAbCDzP1Tdf4QcMgAIICZU4xghpoAVQtlAGoxx AIAAYsJw0X+ofjRt/xnghqMAgABiojQMAAKIBbcUxNOEAEAAMREXvrgBQAAR64X/MIQOAAKICUMh I1JYosYQVicBBBALDm8z/scVBP9RfQcQQBQjgACiGAEEEMUIIIAoRgABRDECCCCKEUAAUYwAAohi BBBAFCOAAKIYAQQQxQgggChGAAFEMQIIIEYseRlSFDMi8xmQy2cUABBAKNkZmIexldx4CymAAGLC Uf5gL4KxAIAAorhUBgggJoxaAY8PGP7//4/uMIAAYiE/yCEAIICYSCqCsQCAAGLCrNkYcRfBWABA ALEQrA6Ahv2HlcRYSmSAAKIYAQQQxQgggChGAAFEMQIIIIoRQABRjAACiGIEEEAUI4AAohgBBBDF CCCAKEYAAUQxAgggihFAAFGMAAKIYgQQYABBxjIyXEyFmwAAAABJRU5ErkJggg::",Img_1:""}];(Ext.cmd.derive("program.store.SvgImgs",Ext.data.JsonStore,{fields:["name"],data:Imgs},0,0,0,0,0,0,[program.store,"SvgImgs"],0));(Ext.cmd.derive("program.view.main.toolbar.TopToolbarController",Ext.app.ViewController,{newClick:function(){var i=Ext.getCmp("frametab_drawpanel");var g=Ext.ComponentQuery.query("drawpanel");for(var h=0;h<g.length;h++){if(g[h].title=="1000"){g[h].close()}g[h].close()}removeFile("../1000");removeFile("../1000.json");i.add(Ext.create("program.view.tab.DrawPanel",{title:"1000"}));delayToast("Status","New file successfully..",1000)},openXmlClick1:function(){var g=getDevInfoFileNames();var e=Ext.create("Ext.window.Window",{title:"Open \u2022\u2022\u2022",frame:true,width:325,bodyPadding:10,autoShow:true,defaultType:"textfield",defaults:{anchor:"100%"},items:[{margin:10,xtype:"combobox",allowBlank:false,fieldLabel:"select file name",store:g,editable:false,queryMode:"local",displayField:"name",valueField:"name",autoSelect:false}],buttons:[{text:"Ok",handler:function(){var c=e.down("combobox").getValue();if(c==null){Ext.Msg.alert("Info","Plase select file name.");return}e.close();Ext.Ajax.request({url:"resources/xmlRW.php",async:false,params:{fileName:"devsinfo/"+c,rw:"r"},success:function(i){var d=Ext.getCmp("frametab_drawpanel");d.addDrawPanel(c)}});e.close()}},{text:"Cancel",handler:function(){e.close()}}]})},saveAsClick:function(){saveXml();var g=getDevNamesAllDataStore(true);var e=Ext.create("Ext.window.Window",{title:"Save as\u2022\u2022\u2022",frame:true,width:325,bodyPadding:10,autoShow:true,defaultType:"textfield",defaults:{anchor:"100%"},items:[{margin:10,xtype:"combobox",allowBlank:false,fieldLabel:"devic Instance",store:g,editable:false,queryMode:"local",displayField:"name",valueField:"name",autoSelect:false}],buttons:[{text:"Ok",handler:function(){var c=e.down("combobox").getValue();if(c==null){Ext.Msg.alert("Info","Plase select file name.");return}saveXml(c);e.close()}},{text:"Cancel",handler:function(){e.close()}}]})},replaceClick:function(){Ext.create("program.view.window.ReplaceDevInfo")},downloadClick:function(){var g;Ext.Ajax.request({url:MyConfig.apiUrl+"?par=getDevFileNames",async:false,params:{},success:function(d){var c=d.responseText;g=Ext.decode(c)}});var e=Ext.create("Ext.window.Window",{title:"Download \u2022\u2022\u2022",frame:true,width:325,bodyPadding:10,autoShow:true,defaultType:"textfield",defaults:{anchor:"100%"},items:[{margin:10,xtype:"combobox",allowBlank:false,fieldLabel:"devic name",store:g,editable:false,queryMode:"local",displayField:"name",valueField:"name",autoSelect:false}],buttons:[{text:"Ok",handler:function(){var c=e.down("combobox").getValue();if(c==null){Ext.Msg.alert("Info","Plase select file name.");return}e.close();filePublish("9999.8.*","9999998\r\nSend_File\r\n"+c)}},{text:"Cancel",handler:function(){e.close()}}]})},uploadClick:function(){var g=getDevNamesAllDataStore();var e=Ext.create("Ext.window.Window",{title:"Upload \u2022\u2022\u2022",frame:true,width:325,bodyPadding:10,autoShow:true,defaultType:"textfield",defaults:{anchor:"100%"},items:[{margin:10,xtype:"combobox",allowBlank:false,fieldLabel:"select file name",store:g,editable:false,queryMode:"local",displayField:"name",valueField:"name",autoSelect:false}],buttons:[{text:"Ok",handler:function(){var c=e.down("combobox").getValue();if(c==null){Ext.Msg.alert("Info","Plase select file name.");return}e.close();filePublish("9999.8.*","9999998\r\nRead_File\r\n"+c)}},{text:"Cancel",handler:function(){e.close()}}]})},backupClick:function(){Ext.create("program.view.window.Backup")},RestorClick:function(){Ext.create("Ext.window.Window",{autoShow:true,liveDrag:true,layout:"hbox",title:"Restor",width:800,height:600,defaults:{width:390,height:560,flex:1,constrain:true,closable:false,draggable:false,resizable:false},items:[{xtype:"uploadwindow",x:0,y:0,title:"Dev Info",folder:"devsinfo",FilesAdded:function(g,e){}},{xtype:"uploadwindow",x:400,title:"Dev Instance",folder:"devxml",callbackEvent:function(l,k,i){if(l=="FilesAdded"){var i=k.files;var m=new FileReader();console.log(i);for(var j=0;j<i.length;j++){}}}}],listeners:{move:function(){console.log(arguments)}}})}},0,0,0,0,["controller.main-toolbar-toptoolbar"],0,[program.view.main.toolbar,"TopToolbarController"],0));function filePublish(g,e){Ext.Ajax.request({url:MyConfig.apiUrl,method:"GET",async:false,params:{par:"filePublish",key:g,value:e},success:function(d){var c=d.responseText;if(c==1){delayToast("Success","Publish Ok.",0)}else{if(c==3){Ext.Msg.alert("Info","The user is reading the other files, please download later")}else{if(c==2||c==3){Ext.Msg.alert("Info","Users are downloading other files, please download later。")}}}}})}function devPublish(i,h,g){Ext.Ajax.request({url:MyConfig.apiUrl,method:"POST",async:false,params:{par:"devPublish",key:i,value:h},success:g||function(d){var c=d.responseText;if(c==1){delayToast("Success","Publish Ok.",0)}else{}}})}function saveXml(q){var A=q;panelAddCurPlantIndex();q=q||"1000";var y=q;if(q=="local"){q="local.xml"}if(q!="1000"){q="../../../"+q}if(q.trim()==""){Ext.Msg.alert("Exception","File name cannot null.");return}var v='<?xml version="1.0" encoding="UTF-8" standalone="no"?>';var w=$("<root></root>");xmlAppendPlant(w);var z={};z.fileName="../"+q;var t=getCurrentDrawPanel().datas.datasArray.length;if(t==lineCount){saveGridpanelsConfigs(A);delayToast("Save Massage","All line size is "+t+",save "+lineCount+" line ")}else{Ext.Msg.alert("Save Exception ","All line size is "+t+",save "+lineCount+" line ,The server will reload。");getCurrentDrawPanel().close();var s=Ext.getCmp("frametab_drawpanel").addDrawPanel(A)}lineCount=0;B(w,q);if(isDebug){console.log(w);console.log(w[0].outerHTML)}z.content=formatXml(u(v+w[0].outerHTML));function u(c){c=c.replaceAll("<p>","<P>");c=c.replaceAll("</p>","</P>");c=c.replaceAll("<i>","<I>");c=c.replaceAll("</i>","</I>");c=c.replaceAll("<d>","<D>");c=c.replaceAll("</d>","</D>");return c}z.rw="w";$.ajax({type:"POST",url:"resources/xmlRW.php",data:z,success:function(){delayToast("Status","Saved file "+y+" successfully.",0)}});function B(h,c){if(c=="1000"){return}if(c=="../../../local.xml"){return}c=c.substr(c.length-4,c.length);var e=h.find("key");for(var g=0;g<e.length;g++){var d=$(e[g]).html();if(d.substr(0,4)!=c){$(e[g]).html(c+d.substr(4,c.length))}}return h}function r(g){var c=g.find("plant");var d=g.find("node");console.log(d.length);console.log(d);var i=1;for(var j=0;j<c.length;j++){var e=$(c[j]).find("master_node");for(var k=0;k<e.length;k++){var l=$(e[k]).attr("number");for(var m=0;m<d.length;m++){var h=$(d[m]).html();console.log(l);if(h==l+""){console.log($(d[m]).html()+"       "+l);console.log("number="+l);console.log("count="+i);console.log(d[m]);$(d[m]).html(i);break}}$(e[k]).attr("number",i);console.info(i);i++}}return g}function x(c,d){var h=getCurrentDrawPanelGirdPanels();for(var g=0;g<h.length;g++){if(!h[g].button){break;return}if(c==h[g].button.text){if(h[g].button1){h[g].removeDocked(h[g].button1)}var e=Ext.create("Ext.button.Button",{text:d});h[g].index1=d;h[g].button1=e;h[g].addDocked(e)}}}}function xmlAppendPlant(j){var k=getCurrentDrawPanelPlants();for(var i=0;i<k.length;i++){var h=$("<plant name='"+k[i].name+"'></plant>");j.append(h);plantAppendMasterNode(h,k[i].id)}}function plantAppendMasterNode(j,h){var i=getCurrentDrawPanelGirdPanels();for(var k=0;k<i.length;k++){if(i[k].datas.plantId==h){j.append(get_A_Master_node(i[k]))}}}function panelAddCurPlantIndex(){var j=1;var m=getCurrentDrawPanelPlants();var i=getCurrentDrawPanelGirdPanels();for(var k=0;k<m.length;k++){for(var l=0;l<i.length;l++){if(i[l].datas.plantId==m[k].id){i[l].curPlantIndex=j;j++}}}}var lineCount=0;function get_A_Master_node(x){var u=$(document.createElement("master_node"));var j=x.datas.type;u.attr("number",x.curPlantIndex);u.append("<type>"+j+"</type>");isPidSave(x,u);isSCFMSave(x,u);var i=x.store.data.items;i=isModelFilter(i,u,x);i=isKeyFilter(i,u,x);var s=0;for(var z=0;z<i.length;z++){if(i[z].data.name=="Out"){continue}if(i[z].data.name=="Instance"){continue}if(i[z].data.name=="mode"){continue}s++;var B=i[z].data.name;var v=i[z].data.value;if(i[z].data.select){var w=i[z].data.select;for(var A=0;A<w.length;A++){if(w[A].name==v){v=w[A].value}}}var y=$("<slots number='"+s+"'></slots>");var t=getStartGridPanelIndexAndItemIndex(x,z);if(!t[0]&&!t[1]){y.append("<default>"+v+"</default>")}else{y.append($("<node>"+t[0]+"</node>"));y.append($("<slot_number>"+t[1]+"</slot_number>"));lineCount++}if(x.datas.type=="79"&z>2){y=$("<slots number="+z+"></slots>");y.append($("<node>0</node>"));y.append($("<slot_number>0</slot_number>"))}u.append(y);t=null}isLogic(x,u);isscaleSave(x,u);isDoubleBOSave(x,u);return u}function isLogic(j,i){var r;if(j.datas.type=="56"){r=j.store.data.items}else{return}var y=["delay","time","time1","time2","time3","time4","time5","time6","time7","time8","time9"];var x=Ext.getCmp("win"+j.id).down("grid").getColumns();var t;for(var u=0;u<x.length;u++){}for(var u=3;u<x.length;u++){if(x[u].hidden){t=u-2;break}t=10}for(var u=0;u<t;u++){var s=$("<list number="+u+"></list>");i.append(s);for(var w=1;w<r.length;w++){var v=r[w].data;var z=v[y[u]];if(z=="-"){z=2}s.append("<default number="+(w-1)+">"+z+"</default>")}}}function isPidSave(g,h){var i;if(g.datas.type=="67"){i=Ext.data.StoreManager.lookup("store"+g.id).data.items}else{return}h.append("<P>"+i[0].data.value+"</P>");h.append("<I>"+i[1].data.value+"</I>");h.append("<D>"+i[2].data.value+"</D>");h.append("<extime>"+i[3].data.value+"</extime>");h.append("<max_value>"+i[4].data.value+"</max_value>");h.append("<min_value>"+i[5].data.value+"</min_value>")}function isscaleSave(g,h){var i;if(g.datas.type=="75"){i=Ext.data.StoreManager.lookup("store"+g.id).data.items}else{return}console.log(i);h.append("<slots number='2'><default>"+i[0].data.value+"</default></slots>");h.append("<slots number='3'><default>"+i[1].data.value+"</default></slots>");h.append("<slots number='4'><default>"+i[2].data.value+"</default></slots>");h.append("<slots number='5'><default>"+i[3].data.value+"</default></slots>")}function isDoubleBOSave(g,h){var i;if(g.datas.type=="80"){i=Ext.data.StoreManager.lookup("store"+g.id).data.items}else{return}console.log(i);h.append("<slots number='4'><default>"+i[0].data.value+"</default></slots>")}function isSCFMSave(g,h){var i;if(g.datas.type=="74"){i=Ext.data.StoreManager.lookup("store"+g.id).data.items}else{return}console.log(i);h.append("<P>"+i[0].data.value+"</P>");h.append("<D>"+i[1].data.value+"</D>")}function isKeyFilter(m,k,i){var l=m[1].data.name;var j=m[1].data.value;if(l=="Instance"){k.append("<key>"+i.datas.value+"</key>");return m}return m}function isModelFilter(s,p,i){var r=s[0].data.name;var n=s[0].data.value;if(r=="mode"){var t=s[0].data.select;if(!t){var m=i.datas.title;t=slotsJson[m].initData()[0].select}for(var q=0;q<t.length;q++){if(t[q].name==n){n=t[q].value}}p.append("<mode>"+n+"</mode>");return s}return s}function getStartGridPanelIndexAndItemIndex(i,t){var x=i.el.dom.querySelectorAll(".x-grid-row")[t].id;var j=getStartTrIdByEndTrId(x);var r=getCurrentDrawPanelGirdPanels();for(var u=0;u<r.length;u++){var s=r[u].el.dom.querySelectorAll(".x-grid-row");var q=r[u].store.data.items;for(var v=0;v<s.length;v++){if(s[v].id==j){var w=v;if(q[0].data.name=="mode"){w=v-1}if(q[1].data.name=="Instance"&v>0){w=v-1}return[r[u].curPlantIndex,w]}}}return[null,null]}function getStartTrIdByEndTrId(g){var h=getCurrentDrawPanel().datas.datasArray;for(var i=0;i<h.length;i++){for(o in h[i]){if(o==g){return h[i][o]}}}}function getCurrentDrawPanel(){var g=Ext.ComponentQuery.query("drawpanel");var h;for(var i=0;i<g.length;i++){if(!g[i].hidden&&g[i].el){h=g[i]}}return h}function getCurrentDrawPanelDatasArray(g){var e=g||getCurrentDrawPanel();return e.datas.datasArray}function currentDrawPanelGirdPanelsAddTitle(){var d=getCurrentDrawPanelGirdPanels()}function getCurrentDrawPanelGirdPanels(i){var i=i||getCurrentDrawPanel();var h=[];var k=Ext.ComponentQuery.query("gridpanel",i);for(var j=0;j<k.length;j++){k[j].index=j+1;h.push(k[j])}return h}function addCurrentDrawPanelPlant(i){console.log(i);var h=getCurrentDrawPanel();var j=h.datas.data;h.datas.plants.push(i);j.push({selected:i.selected,name:i.name});var k=Ext.data.StoreManager.lookup("store"+h.getTitle());k.setData(j)}function delCurrentDrawPanelPlant(i,h){getCurrentDrawPanel().datas.plants.splice(i,1);var g=getCurrentDrawPanel().datas.data;g.splice(i,1);h.store.setData(g);setTimeout(function(){setCurrentPlant(0,h)},100)}function setCurrentPlant(l,i){var p=getCurrentDrawPanelPlants();for(var k=0;k<p.length;k++){if(k==l){p[k].selected=true}else{p[k].selected=false}updateCurrentDrawPanelPlant(p[k],k)}selectPlant(getCurrentPlant());var m=i.getStore();for(var k=0;k<m.data.length;k++){var n=m.getAt(k);if(k==l){n.set("selected",true)}else{n.set("selected",false)}}drawlines()}function getCurrentDrawPanelPlantByIndex(d){return getCurrentDrawPanel().datas.plants[d]}function getCurrentDrawPanelPlants(){return getCurrentDrawPanel().datas.plants}function selectPlant(g){var h=getCurrentDrawPanelGirdPanels();for(var i=0;i<h.length;i++){if(h[i].datas.plantId==g.id){h[i].show()}else{h[i].hide()}}}function getCurrentPlant(){var g=getCurrentDrawPanelPlants();for(var e=0;e<g.length;e++){if(g[e].selected){return g[e]}}return false}function getCurrentPlantGridPanles(i){var j=[];var h=getCurrentDrawPanelGirdPanels();for(var k=0;k<h.length;k++){if(i.id==h[k].datas.plantId){j.push(h[k])}}return j}function updateCurrentDrawPanelPlant(e,g){getCurrentDrawPanel().datas.plants.splice(g,1,e)}function removeFile(d){Ext.Ajax.request({url:MyConfig.apiUrl+"?par=delFile&fileName="+d,async:false,success:function(g){var c=g.responseText;if(c){delayToast("Status","Server delete file successfully..",0)}}})}(Ext.cmd.derive("program.view.main.toolbar.TopToolbarModel",Ext.app.ViewModel,{data:{name:"program"}},0,0,0,0,["viewmodel.main-toolbar-toptoolbar"],0,[program.view.main.toolbar,"TopToolbarModel"],0));(Ext.cmd.derive("program.view.massage.ProgressBarWinController",Ext.app.ViewController,{},0,0,0,0,["controller.massage-progressbarwin"],0,[program.view.massage,"ProgressBarWinController"],0));(Ext.cmd.derive("program.view.massage.ProgressBarWinModel",Ext.app.ViewModel,{data:{name:"program"}},0,0,0,0,["viewmodel.massage-progressbarwin"],0,[program.view.massage,"ProgressBarWinModel"],0));(Ext.cmd.derive("program.view.tab.BasicController",Ext.app.ViewController,{basicRender:function(){},basicViewready:function(){var e={};var g=Ext.get("leftPanelIcons").select(".x-grid-item");Ext.each(g.elements,function(c){var d=new Ext.dd.DragSource(c,{ddGroup:"IconDragDropGroup",isTarget:false});d.afterDragDrop=function(p,q,v){var s=Ext.get(c).select(".x-grid-cell-inner").elements[1].innerHTML;console.log(s);if(getCurrentPlant()){}else{Ext.Msg.alert("Massage","Please select a Plant .");return}var t=Ext.create(s,{});t.setData(slotsJson[s].initData());var r=Ext.create("program.view.grid.TypeGrid",{title:s,store:t,x:q.browserEvent.offsetX,y:q.browserEvent.offsetY,icon:"resources/img/SVG/"+s+".svg",listeners:{render:function(h){h.datas={isAddSlot:slotsJson[s].isAddSlot,plantId:"",type:slotsJson[s].type,title:s}}}});var u=Ext.getCmp(v).add(r)};Ext.apply(d,e)})},basicItemclick:function(){console.log(arguments)},basicAfterDragDrop:function(){console.log(arguments)}},0,0,0,0,["controller.grid-panel-gridpanel"],0,[program.view.tab,"BasicController"],0));var oproxy={type:"memory",reader:{type:"json",rootProperty:"items"}};(Ext.cmd.derive("AI",Ext.data.Store,{fields:["name","value"]},0,0,0,0,0,0,[0,"AI"],0));(Ext.cmd.derive("AO",Ext.data.Store,{fields:["name","value"]},0,0,0,0,0,0,[0,"AO"],0));(Ext.cmd.derive("BI",Ext.data.Store,{fields:["name","value"]},0,0,0,0,0,0,[0,"BI"],0));(Ext.cmd.derive("BO",Ext.data.Store,{fields:["name","value"]},0,0,0,0,0,0,[0,"BO"],0));(Ext.cmd.derive("AV",Ext.data.Store,{fields:["name","value"]},0,0,0,0,0,0,[0,"AV"],0));(Ext.cmd.derive("BV",Ext.data.Store,{fields:["name","value"]},0,0,0,0,0,0,[0,"BV"],0));(Ext.cmd.derive("add",Ext.data.Store,{storeId:"addStore",fields:["name","value"],data:slotsJson.add.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"add"],0));(Ext.cmd.derive("aodo",Ext.data.Store,{storeId:"aodoStore",fields:["name","value"],data:slotsJson.aodo.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"aodo"],0));(Ext.cmd.derive("aver",Ext.data.Store,{storeId:"averStore",fields:["name","value"],data:slotsJson.aver.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"aver"],0));(Ext.cmd.derive("comp",Ext.data.Store,{storeId:"compStore",fields:["name","value"],data:slotsJson.comp.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"comp"],0));(Ext.cmd.derive("count",Ext.data.Store,{storeId:"countStore",fields:["name","value"],data:slotsJson.count.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"count"],0));(Ext.cmd.derive("delay",Ext.data.Store,{storeId:"delayStore",fields:["name","value"],data:slotsJson.delay.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"delay"],0));(Ext.cmd.derive("enth",Ext.data.Store,{storeId:"enthStore",fields:["name","value"],data:slotsJson.enth.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"enth"],0));(Ext.cmd.derive("fa",Ext.data.Store,{storeId:"faStore",fields:["name","value"],data:slotsJson.fa.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"fa"],0));(Ext.cmd.derive("fd",Ext.data.Store,{storeId:"fdStore",fields:["name","value"],data:slotsJson.fd.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"fd"],0));(Ext.cmd.derive("hour",Ext.data.Store,{storeId:"hourStore",fields:["name","value"],data:slotsJson.hour.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"hour"],0));(Ext.cmd.derive("hy",Ext.data.Store,{storeId:"hyStore",fields:["name","value"],data:slotsJson.hy.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"hy"],0));(Ext.cmd.derive("lock",Ext.data.Store,{storeId:"lockStore",fields:["name","value"],data:slotsJson.lock.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"lock"],0));(Ext.cmd.derive("logic",Ext.data.Store,{storeId:"logicStore",fields:["name","value","delay","time","time1","time2","time3","time4","time5","time6","time7","time8","time9"],data:slotsJson.logic.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"logic"],0));(Ext.cmd.derive("max",Ext.data.Store,{storeId:"maxStore",fields:["name","value"],data:slotsJson.max.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"max"],0));(Ext.cmd.derive("mul",Ext.data.Store,{storeId:"mulStore",fields:["name","value"],data:slotsJson.mul.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"mul"],0));(Ext.cmd.derive("pid",Ext.data.Store,{storeId:"pidStore",fields:["name","value"],data:slotsJson.pid.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"pid"],0));(Ext.cmd.derive("pulse",Ext.data.Store,{storeId:"pulseStore",fields:["name","value"],data:slotsJson.pulse.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"pulse"],0));(Ext.cmd.derive("sub",Ext.data.Store,{storeId:"subStore",fields:["name","value"],data:slotsJson.sub.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"sub"],0));(Ext.cmd.derive("Switch",Ext.data.Store,{storeId:"SwitchStore",fields:["name","value"],data:slotsJson.Switch.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"Switch"],0));(Ext.cmd.derive("select",Ext.data.Store,{storeId:"selectStore",fields:["name","value"],data:slotsJson.select.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"select"],0));(Ext.cmd.derive("SCFM",Ext.data.Store,{storeId:"SCFMStore",fields:["name","value"],data:slotsJson.SCFM.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"SCFM"],0));(Ext.cmd.derive("scale",Ext.data.Store,{storeId:"scaleStore",fields:["name","value"],data:slotsJson.scale.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"scale"],0));(Ext.cmd.derive("buffer",Ext.data.Store,{storeId:"bufferStore",fields:["name","value"],data:slotsJson.buffer.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"buffer"],0));(Ext.cmd.derive("Delayoff",Ext.data.Store,{storeId:"DelayoffStore",fields:["name","value"],data:slotsJson.Delayoff.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"Delayoff"],0));(Ext.cmd.derive("NOT",Ext.data.Store,{storeId:"NOTStore",fields:["name","value"],data:slotsJson.NOT.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"NOT"],0));(Ext.cmd.derive("Integer",Ext.data.Store,{storeId:"IntegerStore",fields:["name","value"],data:slotsJson.Integer.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"Integer"],0));(Ext.cmd.derive("doubleBO",Ext.data.Store,{storeId:"doubleBOStore",fields:["name","value"],data:slotsJson.doubleBO.initData(),proxy:oproxy},0,0,0,0,0,0,[0,"doubleBO"],0));(Ext.cmd.derive("program.view.tab.DrawPanelController",Ext.app.ViewController,{boxready:function(n,p,t,r){n.el.dom.childNodes[0].childNodes[0].style.height="300%";n.el.dom.childNodes[0].childNodes[0].style.width="150%";My.currentDrawPanelDiv=n.el.dom.querySelector("div");var s=d3.select(n.el.dom).select(".x-autocontainer-innerCt").append("svg").attr("class","tempSVG"+n.id).attr("width","150%").attr("height","300%").style("position","absolute").style("left","0").style("top","0");try{var q=new Date().getTime();var e=Ext.create("Ext.ProgressBar",{width:300,text:"Please Wait ..."});n.pressBar=e;Ext.create("Ext.window.Window",{title:"Loading ...",autoShow:true,items:e});setTimeout(function(){typegridCache(n);drawlines(n)},0);console.log("typegridcache"+(new Date().getTime()-q)+"毫秒")}catch(m){}},hide:function(g){var e=Ext.get("plants"+g.getTitle());if(e){e.hide()}},close:function(d){Ext.getCmp("plants"+d.getTitle()).close()},render:function(h,i){new Ext.dd.DDTarget(h.getId(),"IconDragDropGroup");h.datas={data:[],plants:[],datasArray:[],gridpanelConfigs:[],justDrawTempLine:false,LinkMarkTypeGrid:null};Ext.create("Ext.data.Store",{storeId:"store"+h.getTitle(),fields:["active","name"],data:h.datas.data});var k=Ext.create("Ext.grid.Panel",{id:"plantsPanel"+h.getTitle(),store:"store"+h.getTitle(),viewConfig:{getRowClass:function(g,c,d,e){if(g.data.selected){if(j){j.setTitle(h.getTitle()+" "+g.data.name+" Plants")}return"skyblue"}}},listeners:{itemmouseup:function(c,q,d,p,r,e){c.el.dom.oncontextmenu=function(l){return false};r.stopEvent();var g=getCurrentDrawPanel();if(r.button==2){k.config.listeners.itemclick.call(k,c,q,d,p,r,e);Ext.create("Ext.menu.Menu",{autoShow:true,x:r.pageX+5,y:r.pageY+5,items:[{text:"copy...",handler:function(){k.copyGridPanels=[];var m=getCurrentDrawPanelPlantByIndex(p);var l=getCurrentPlantGridPanles(m);for(var n=0;n<l.length;n++){var t=getTypeGridDatas(l[n]);k.copyGridPanels.push(t)}}},{text:"paste...",listeners:{boxready:function(){if(k.copyGridPanels){this.setDisabled(false)}else{this.setDisabled(true)}}},handler:function(){var m=getCurrentPlant();var n=Math.floor(Math.random()*100000);var x=k.copyGridPanels;var l=[];for(var v=0;v<x.length;v++){var w=createTypeGrid(x[v]);l.push(w);w.datas.plantId=m.id}gridPanelsTrIdAddRandom(l,n);k.copyGridPanels=false;drawlines()}}]})}},itemclick:function(e,p,d,n,c,g){k.datas={index:n};setCurrentPlant(n,e)},edit:function(e,c){var g=k.datas.index;this.setStore(this.getStore());var d=getCurrentDrawPanelPlantByIndex(g);d.name=c.value;updateCurrentDrawPanelPlant(d,g);c.record.commit()}},columns:[{dataIndex:"selected",xtype:"actioncolumn",flex:1,sortable:false,menuDisabled:true,renderer:function(c){if(c){return'<img src = "resources/img/openFolder.png"/>'}return'<img src = "resources/img/closeFolder.png"/>'},handler:function(){}},{text:"Name",dataIndex:"name",flex:3,sortable:false,editor:{xtype:"textfield",allowBlank:false}},{xtype:"actioncolumn",flex:1,sortable:false,menuDisabled:true,items:[{icon:"resources/img/delete.gif",tooltip:"Delete Plant",scope:this,handler:function(g,c){var e=getCurrentDrawPanelPlantByIndex(c);var d=getCurrentDrawPanelGirdPanels();console.log(d);if(!d.length){delCurrentDrawPanelPlant(c,g)}for(var n=0;d.length;n++){console.log(d[n]);if(!d[n]){delCurrentDrawPanelPlant(c,g);break;return}if(d[n].datas.plantId==e.id){Ext.Msg.show({title:"Massage",message:"Warning ! Current plant is not null . Would you remove this plant ? ",buttons:Ext.Msg.YESNO,icon:Ext.Msg.WARNING,fn:function(m){if(m==="yes"){delCurrentDrawPanelPlant(c,g);for(var l=0;l<d.length;l++){if(d[l].datas.plantId==e.id){d[l].close()}else{d[l].hide()}}drawlines();delayToast("Massage","Remove current plant successfully .")}else{if(m==="no"){}}}});break}}}}]}],tbar:[{text:"Add Plant",handler:function(g,c){var e=getCurrentDrawPanel().datas.data;var m=e.length+1+"";if(m.length==1){m="00"+m}if(m.length==2){m="0"+m}var d={name:m,selected:false,id:"p"+Math.floor(Math.random()*100000000000000)};addCurrentDrawPanelPlant(d)}}],selType:"cellmodel",plugins:[Ext.create("Ext.grid.plugin.CellEditing",{clicksToEdit:1})],height:"100%",width:"100%"});var j=Ext.create("Ext.window.Window",{autoShow:true,x:300,y:150,width:200,height:300,resizable:true,collapsible:true,closable:false,renderTo:Ext.getBody(),title:h.getTitle()+" Plants",constrainHeader:true,id:"plants"+h.getTitle(),overflowX:"hidden",overflowY:"scroll",items:k,listeners:{resize:function(c){k.setWidth(c.getWidth()-20)},collapse:function(c,d){c.setPagePosition(0,0,true);console.log(arguments)}}})},show:function(g,h,i){drawlines(g);Ext.get("plants"+g.getTitle()).show()}},0,0,0,0,["controller.tab-drawpanel"],0,[program.view.tab,"DrawPanelController"],0));function getStoreData(n){var i=[];for(var l=0;l<n.length;l++){var m=n[l].data.name;var k=n[l].data.value;if(n[l].data.select){var p=n[l].data.select;i.push({name:m,value:k,select:p})}else{i.push({name:m,value:k})}}console.log(i);return i}function typegridCache(B){B.pressBar.wait({interval:50,duration:200,increment:15,text:"Updating...",scope:this,fn:function(){B.pressBar.updateText("100% !");setTimeout(function(){B.pressBar.up().close()},1000)}});var A=new Date().getTime();B=B||getCurrentDrawPanel();var w;if(B.title=="1000"){w="../1000.json"}else{w="devsinfo/"+B.title}Ext.Ajax.request({url:"resources/xmlRW.php",async:false,params:{fileName:w,rw:"r"},success:function(g){var e=g.responseText;if(e==null){return}try{var d=Ext.decode(e);B.datas.datasArray=Ext.decode(d.datasArray);B.datas.gridpanelConfigs=Ext.decode(d.gridpanelConfigs);B.datas.plants=Ext.decode(d.plants);console.log(B.datas.plants)}catch(c){return}}});console.log("ajax"+(new Date().getTime()-A)+"毫秒");var i=B.datas.gridpanelConfigs;var z=B.datas.plants;if(!i||!z){console.log(i);console.log(z);return}var D=Ext.data.StoreManager.lookup("store"+B.getTitle());for(var u=0;u<z.length;u++){var v=B.datas.data;v.push({selected:z[u].selected,name:z[u].name});D.setData(v)}console.log(i.length);var t=getCurrentPlant().id;for(var u=0;u<i.length;u++){var x=createTypeGrid(i[u]);var C=Ext.decode(i[u].typegrid.trsIds);var j=x.el.dom.querySelectorAll("tr");for(var y=0;y<j.length;y++){j[y].id=C[y]}if(t!=x.datas.plantId){x.hide()}}}function createTypeGrid(p,n){var j=getCurrentDrawPanel();var m=Ext.create("program.view.grid.TypeGrid",p.typegrid);m.datas=p.datas;if(m.datas.name){m.setTitle(m.datas.name)}m.setStore(Ext.create(getNameByType(p.datas.type),{data:p.store.data}));if(n!=undefined){j.add(m);j.insert(n,m)}else{j.add(m)}l(m,p);k(m);function k(c){if(c.datas.type==56){var d=Ext.getCmp("win"+c.id).down("grid").getColumns();for(var e=0;e<c.datas.rows;e++){d[e].show()}}}function l(d,e){var g=d.datas.type;if(g>=10){return}var c;if(e.store.data[2]){c=slotsJson[getNameByType(g)].initData(e.store.data[2].value)}else{c=slotsJson[getNameByType(g)].initData()}try{c[1].value=e.store.data[1].value;c[2].value=e.store.data[2].value}catch(h){}d.store.setData(c)}return m}function drawlines(aj){var V=new Date().getTime();d3.selectAll(".tempCircle").remove();My.gridPanels=getCurrentPlantGridPanles(getCurrentPlant());var ao=aj||getCurrentDrawPanel();aj=ao;var ah=d3.select(ao.el.dom).select(".tempSVG"+ao.id);var i=ao.datas.datasArray;if(!i){return}datasArrayUnique(aj);i=aj.datas.datasArray;d3.selectAll(".OkCircle").remove();d3.selectAll("polyline").remove();var Q=aj.el.dom.querySelector("div").scrollTop;var P=aj.el.dom.querySelector("div").scrollLeft;var af=aj.el.getLeft();var ad=aj.el.getTop();for(var Y=0;Y<i.length;Y++){var Z=i[Y];for(var ai in Z){var ae=Ext.get(Z[ai]);var X=Ext.get(ai);if(!X||!ae){aj.datas.datasArray.splice(Y,1);drawlines(aj);return}var aq=ae.el;var ag=X.el;var R=aq.getWidth();var ab=aq.getHeight()/2;var ac=ae.getLeft();var am=ae.getTop();var ap=X.getLeft();var ak=X.getTop();var W=0,al=0,ar=0,O=0;W=ac-af+R+P;al=am-ad+ab+Q;ar=ap-af+P;O=ak-ad+ab+Q;if(W<0&al<0&ar<0&O<0){continue}var an,T;if(ac==0||am==0||ap==0||ak==0){an=ah.append("circle").attr("r",CIRCLE_MIN_R).attr("stroke-width",STROKEWIDTH_MIN).attr("stroke","rgb(137,190,229)").attr("fill","red").attr("data-index",Y).attr("class","OkCircle").attr("data-start",Z[ai]).attr("id","circle"+Math.floor(Math.random()*100000)).attr("data-end",ai)}else{T=ah.append("polyline").attr("stroke","blue").attr("stroke-width",STROKEWIDTH_MIN).attr("fill","none").attr("class","OkLine").attr("data-start",Z[ai]).attr("data-end",ai).attr("data-index",Y)}if(T){T.on("mouseover",function(){d3.select(this).attr("stroke-width",STROKEWIDTH_MIN).transition().attr("stroke-width",STROKEWIDTH_MAX).attr("stroke","chartreuse")});T.on("mouseout",function(){d3.select(this).attr("stroke-width",STROKEWIDTH_MAX).transition().attr("stroke-width","4").attr("stroke","blue")});T.on("dblclick",function(){var c=d3.select(this).attr("data-index");aj.datas.datasArray.splice(c,1);d3.select(this).remove()})}else{an.on("dblclick",function(){var c=d3.select(this).attr("data-index");aj.datas.datasArray.splice(c,1);d3.select(this).remove()});an.on("mouseover",function(){var g=$(this);var d=Ext.get(g.attr("data-end"));var c=Ext.get(g.attr("data-start"));var h=Ext.getCmp(d.up(".x-panel").id);var e=Ext.getCmp(c.up(".x-panel").id);var j;if(h.hidden){j=h}else{j=e}if(!j.curPlantIndex){showIndex();hideIndex()}Ext.create("Ext.tip.ToolTip",{target:this.id,html:["<div>"+j.title+"</div>","<div>node number: "+j.curPlantIndex+"</div>"].join("")})});an.on("mouseout",function(){var c=Ext.tip.QuickTipManager.getQuickTip();console.log(c);Ext.tip.QuickTipManager.unregister(c.el);c.hide()});if(ac==0||am==0){an.attr("cx",ar-10).attr("cy",O+12);continue}if(ap==0||ak==0){an.attr("cx",W+10).attr("cy",al);continue}}if(!T){continue}var U=[W+My.JIANGE,al];var aa=[ar-My.JIANGE,O];My.PathNodeManager.removeAll();var N=new My.PathNode(U[0],U[1]);var at=new My.PathNode(aa[0],aa[1]);var au=My.getShortPathNode(N,at);au.unshift(W,al);au.push(ar,O);T.attr("points",au);T=null;an=null}}var S=Ext.getCmp("frametab_drawpanel");S.viewModel.set("allLine",ao.datas.datasArray.length);if(isDebug){console.log("drawline"+(new Date().getTime()-V)+"毫秒")}}var My={};My.PathNodes=[];My.MaxPathNodeId=0;My.JIANGE=5;My.PathNode=function(g,e){this.x=g;this.y=e;this.leftNode=null;this.rightNode=null;this.parentNode=null;this.count=0;this.getLeftNodeLength=function(){console.log(this.leftNode);return Math.abs(this.x-this.leftNode.x)+Math.abs(this.y-this.leftNode.y)};this.getRightNodeLength=function(){console.log(this.rightNode);return Math.abs(this.x-this.rightNode.x)+Math.abs(this.y-this.rightNode.y)};this.setLeftNode=function(c){if(!c){return}c.setParentNode(this);this.leftNode=c};this.setRightNode=function(c){if(!c){return}c.setParentNode(this);this.rightNode=c};this.setParentNode=function(c){if(!c){return}this.parentNode=c};this.getLeftNode=function(){if(this.leftNode){return this.leftNode}return false};this.getRightNode=function(){if(this.rightNode){return this.rightNode}return false};this.getX=function(c){if(c){var d=My.currentDrawPanelDiv.scrollLeft;return this.x-d}return this.x};this.getY=function(d){if(d){var c=My.currentDrawPanelDiv.scrollTop;return this.y+c}return this.y};this.getXY=function(){if(this.x>=0&this.y>=0){return[this.x,this.y]}else{return null}};this.init=(function(c){My.PathNodeManager.init(c)})(this)};My.PathNodeManager={init:function(g){var e="pathnode-"+My.MaxPathNodeId;My.MaxPathNodeId++;if(My.PathNodeManager.getById(e)){My.PathNodeManager.init(g);return}g.id=e;My.PathNodes.push(g)},removeAll:function(){My.PathNodes=[];My.MaxPathNodeId=0},getById:function(e){for(var g=0;g<My.PathNodes.length;g++){if(My.PathNodes[g].id==e){return My.PathNodes[g]}}return null}};My.PathNode.prototype.toRootNodeLength=function(){var i=this;var j=0;if(i.parentNode){var l=i.parentNode;var k=Math.abs(i.x-l.x);var m=Math.abs(i.y-l.y);j=k+m;j+=i.parentNode.toRootNodeLength()}return j};My.PathNode.prototype.getToRootPath=function(g){var e=this;g.push(e.getNextNodeCenterPoint());g.push([e.x,e.y]);if(e.parentNode){e.parentNode.getToRootPath(g)}};My.PathNode.prototype.getNextNodeCenterPoint=function(){var d=this;if(d.leftNode){return[d.leftNode.x,d.y]}return null};My.getShortPathNode=function(i,j){var h=[];My.getLeafPointAll(i,j,h);h.sort(function(c,d){return c.toRootNodeLength()-d.toRootNodeLength()});var k=[];h[0].getToRootPath(k);k[0]=[j.x,k[1][1]];k.unshift([j.x,j.y]);k.reverse();return k};My.getLeafPointAll=function(h,i,j){console.log("kazaizhe");h.count++;i.count++;if(h.count>100){console.log(h);return}if(i.count>100){console.log(i);return}if(!h){return}var k=My.getStartNodeTopButtomNodePathByEndX(h,i);if(k==null){return}if(k.rightNode){My.getLeafPointAll(k.rightNode,i,j);console.log("right")}if(k.leftNode){My.getLeafPointAll(k.leftNode,i,j);console.log("left");return}j.push(k)};My.PathNode.prototype.initLeftNodeRightNode=function(q){console.log(this);var p=this;var n=Ext.getCmp("frametab_drawpanel").getActiveTab();var s=n.getX();var u=n.getY();if(!p.getXY()){return}var i=getCurrentPlantGridPanles(getCurrentPlant());if(p.x<q.x){i.sort(function(d,c){return d.getX()-c.getX()})}else{i.sort(function(d,c){return c.getX()-d.getX()})}for(var r=0;r<i.length;r++){var t=i[r].getY()-u;var v=i[r].getHeight();if(t>p.Y&(t+v)<p.Y){continue}if(p.x<q.x){if(i[r].getX()>p.x){p.setLeftNode(My.getGridPanelPoint(i[r],"nw"));p.setRightNode(My.getGridPanelPoint(i[r],"sw"));p.rightNode.initLeftNodeRightNode(q);p.leftNode.initLeftNodeRightNode(q)}}else{if(i[r].getX()<p.x){p.setLeftNode(My.getGridPanelPoint(i[r],"ne"));p.setRightNode(My.getGridPanelPoint(i[r],"se"));p.rightNode.initLeftNodeRightNode(q);p.leftNode.initLeftNodeRightNode(q)}}}};My.getStartNodeTopButtomNodePathByEndX=function(x,t){var s,v,w,z,i,y,r;var q=My.gridPanels;if(!x||!t){return null}s=x.x<t.x;if(s){q.sort(function(d,c){return d.getX()-c.getX()})}else{q.sort(function(d,c){return c.getX()-d.getX()})}for(var u=0;u<q.length;u++){v=q[u].x;w=q[u].y;z=q[u].getHeight();i=x.getY();if(w>i||(w+z)<i){continue}if(s){if(v>x.getX()&v<t.getX()){y=My.getGridPanelPoint(q[u],"nw");if(y){x.setLeftNode(y)}r=My.getGridPanelPoint(q[u],"sw");if(r){x.setRightNode(r)}return x}}else{if(v<x.getX()&v>t.getX()){y=My.getGridPanelPoint(q[u],"ne");if(y){x.setLeftNode(y)}x.setLeftNode(y);r=My.getGridPanelPoint(q[u],"se");if(r){x.setRightNode(r)}x.setRightNode(My.getGridPanelPoint(q[u],"se"));return x}}}return x};My.getStartNodeTopButtomNodePathByEndY=function(e,g){};My.getGridPanelPoint=function(p,q){var r=10;var m=new My.PathNode();var s=p.x;var l=p.y;var n=p.getWidth();var t=p.getHeight();if(q=="nw"){m.x=s-r;m.y=l-r}if(q=="sw"){m.x=s-r;m.y=l+t+r}if(q=="se"){m.x=s+n+r;m.y=l+t+r}if(q=="ne"){m.x=s+n+r;m.y=l-r}if(My.isCollsion(m)){return null}else{return m}};My.isCollsion=function(w){if(!w.getXY()){return false}var B=w.x;var t=w.y;var D=getCurrentPlantGridPanles(getCurrentPlant());var h=Ext.getCmp("frametab_drawpanel").getActiveTab()||getCurrentDrawPanel();var z=h.getX();var A=h.getY();for(var y=0;y<D.length;y++){var C=D[y].getX()-z;var u=D[y].getY()-A;var i=D[y].getWidth();var x=D[y].getHeight();if(v(B,t,C,u,i,x)){return true}}return false;function v(e,k,j,d,g,c){if(e>=j&&e<=j+g&&k>=d&&k<=d+c){return true}return false}};My.isCollsionWithRect=function(p,l,s,m,r,n,t,q){if(p>=r&&p>=r+t){return false}else{if(p<=r&&p+s<=r){return false}else{if(l>=n&&l>=n+q){return false}else{if(l<=n&&l+m<=n){return false}}}}return true};function testCreate(){var d=new Date().getTime();testTime();console.log((new Date().getTime()-d)/1000+"秒")}function testTime(){for(var d=0;d<3000;d++){new My.PathNode(100,200)}}function datasArrayUnique(n){var m=n.datas.datasArray;var l=new Ext.util.HashMap();for(var p=0;p<m.length;p++){var i=m[p];for(o in i){l.add(o,i[o])}}var k=[];l.each(function(e,c,d){k.push(generateJson(e,c))});n.datas.datasArray=k}My.onSpinUp=function(){var p=this.getValue().split(":");var k=new Date(1970,1,1,p[0],p[1],p[2]).getTime();k+=10000;var l=new Date(k);var m=l.getHours();var j=l.getMinutes();var n=l.getSeconds();this.setValue(m+":"+j+":"+n)};My.onSpinDown=function(){var p=this.getValue().split(":");var k=new Date(1970,1,1,p[0],p[1],p[2]).getTime();k-=10000;var l=new Date(k);var m=l.getHours();var j=l.getMinutes();var n=l.getSeconds();this.setValue(m+":"+j+":"+n)};(Ext.cmd.derive("program.view.tab.DrawPanelModel",Ext.app.ViewModel,{data:{name:"program"}},0,0,0,0,["viewmodel.tab-drawpanel"],0,[program.view.tab,"DrawPanelModel"],0));(Ext.cmd.derive("program.view.tab.DrawPanel",Ext.panel.Panel,{controller:"tab-drawpanel",viewModel:{type:"tab-drawpanel"},closable:true,bodyStyle:"background:url(resources/img/square.png);",bodyPadding:"0",layout:{type:"absolute"},initComponent:function(){this.height=3000;this.width=3000;Ext.panel.Panel.prototype.initComponent.call(this)},enableDragDrop:true,listeners:{boxready:"boxready",render:"render",show:"show",hide:"hide",close:"close",el:{selectstart:function(d){d.stopEvent();return},contextmenu:function(g,h,i){console.log(arguments);if(h.tagName!="svg"){g.stopEvent();return}Ext.create("program.view.grid.menu.gridmenu",{x:g.pageX+15,y:g.pageY+10,listeners:{show:function(e,d){try{if(hideCom){e.getComponent("addSlot").setDisabled(false)}}catch(c){}}}});g.stopEvent()}}},afterFirstLayout:function(e){Ext.panel.Panel.prototype.afterFirstLayout.apply(this,arguments);var g=this.body;console.log(g);this.PanelDropTarget=new Ext.dd.DropTarget(g.id,{ddGroup:"DevTreeDragDropGroup",notifyEnter:function(c,d,j){g.stopAnimation();g.highlight()},notifyDrop:function(u,t,v){var x=u.dragData.records[0].data;var w,s=x.type,d=getNameByType(x.type),c=x.value,r=x.text;if(getCurrentPlant()){getCurrentDrawPanel().add(y(x))}else{Ext.Msg.alert("Massage","Please select a Plant .");return}function y(h,n){var q,p=h.type,l=getNameByType(h.type),k=h.value,m=h.text;q=slotsJson[l].initData(n);q[1].value=Number.valueOf()(k.substr(5,6));var j=Ext.create("Ext.data.Store",{fields:["name","value"],data:q});var i=Ext.create("program.view.grid.TypeGrid",{title:m,store:j,x:t.browserEvent.offsetX+5,y:t.browserEvent.offsetY+5,icon:"resources/img/SVG/"+l+".svg",listeners:{add:function(){setTimeout(currentDrawPanelGridPanelsTrSetId,1000)},render:function(A){A.datas={isAddSlot:slotsJson[getNameByType(p)].isAddSlot,plantId:getCurrentPlant().id,type:p,value:k}}}});return i}return true}})}},0,["drawpanel"],["component","box","container","panel","drawpanel"],{component:true,box:true,container:true,panel:true,drawpanel:true},["widget.drawpanel"],0,[program.view.tab,"DrawPanel"],0));(Ext.cmd.derive("program.view.tab.FramedTabsController",Ext.app.ViewController,{render:function(d){d.add(Ext.create("program.view.tab.DrawPanel",{title:"1000"}))},showIndex:function(){var d=this.view;if(d.showIndex){showIndex();d.showIndex=false}else{hideIndex();d.showIndex=true}}},0,0,0,0,["controller.framedtabs"],0,[program.view.tab,"FramedTabsController"],0));function showIndex(){saveXml();var i=getCurrentDrawPanelGirdPanels();for(var g=0;g<i.length;g++){if(i[g].button){i[g].removeDocked(i[g].button)}console.log(i[g]);var h=Ext.create("Ext.button.Button",{text:i[g].curPlantIndex,hidden:false});i[g].button=h;i[g].addDocked(h)}}function hideIndex(){var g=getCurrentDrawPanelGirdPanels();for(var e=0;e<g.length;e++){if(g[e].button){g[e].removeDocked(g[e].button)}}}(Ext.cmd.derive("program.view.tree.DevTreeController",Ext.app.ViewController,{render:function(d){Ext.create("Ext.data.TreeStore",{storeId:"devtreestore"})},boxready:function(g){var e=Ext.create("Ext.data.TreeStore",{storeId:"devtreestore",autoLoad:true,url:MyConfig.mainUrl+"?par=getDeviceTree",proxy:{type:"ajax",url:MyConfig.mainUrl+"?par=getDeviceTree",reader:{type:"json"}}});g.setStore(e)},repalceDeviceInstance:function(g,e){myAjax(null,function(d){try{var j=Ext.decode(d.responseText);if(j.success){delayToast("Massage","Success repalce "+j.info);devTreeStoreLoad()}else{Ext.Msg.alert("Massage",j.info)}}catch(c){Ext.Msg.alert("Massage","Error "+c);throw new Error(c)}},{par:"repalceDeviceInstance",oldDev:g,newDev:e})},itemcontextmenu:function(th,record,item,index,e,eOpts){e.stopEvent();var __this=this;var treePanel=this.view;console.log(treePanel);if(record.data.depth==1){Ext.create("Ext.menu.Menu",{viewModel:treePanel.viewModel,autoShow:true,x:e.pageX+5,y:e.pageY+5,items:[{text:"DB \u2022\u2022\u2022 ",menu:[{text:"load",bind:{hidden:"{linkDataBase}"},handler:function(){function getDevXmlStore(){var store=null;myAjax("",function(response){try{store=Ext.decode(response.responseText)}catch(e){}},{par:"getDevxmls"});return store}var win=Ext.create("Ext.window.Window",{title:"load",frame:true,width:325,bodyPadding:10,autoShow:true,defaultType:"textfield",defaults:{anchor:"100%"},items:[{margin:10,xtype:"combobox",allowBlank:false,fieldLabel:"select file name",store:getDevXmlStore(),editable:false,queryMode:"local",displayField:"name",valueField:"name",autoSelect:false}],buttons:[{text:"Ok",handler:function(){var text=win.down("combobox").getValue();if(text==null){Ext.Msg.alert("Info","Plase select file name.");return}console.log(text);Ext.create("program.view.window.RenameWindow",{sources:"xml",text:text});win.close()}},{text:"Cancel",handler:function(){win.close()}}]})}},{text:"save \u2022\u2022\u2022",handler:function(){Ext.Ajax.request({url:MyConfig.apiUrl,params:{par:"save"},success:function(response){delayToast("Massage",response.responseText,10)}})}},{text:"clean \u2022\u2022\u2022",handler:function(){Ext.Msg.show({title:"Warning !!",message:'Click Ok will <i style="color:red;">clear the database</i> !!',buttons:Ext.Msg.YESNOCANCEL,icon:Ext.Msg.WARNING,fn:function(btn){if(btn==="yes"){Ext.Ajax.request({url:MyConfig.apiUrl,method:"GET",async:false,params:{par:"clear"},success:function(response){var text=response.responseText;Ext.Msg.alert("Status","OK , Clear "+text+" successfully .");setTimeout(function(){location.reload()},3000)}})}else{if(btn==="no"){}else{}}}})}}]},{text:"Addpoint \u2022\u2022\u2022",disabled:true},{text:"Schedule \u2022\u2022\u2022",handler:function(){var aDevNames=getDevNamesAllDataStore();var strnumbervalue=getNetNumberValue();strnumbervalue=Ext.String.leftPad(strnumbervalue,4,"0");var win=Ext.create("Ext.window.Window",{title:"new schedule",frame:true,width:400,bodyPadding:10,autoShow:true,defaultType:"textfield",defaults:{anchor:"100%"},items:[{margin:10,allowBlank:false,editable:false,value:strnumbervalue,fieldLabel:"select file NetNumber",labelWidth:150,xtype:"textfield",name:"name",allowBlank:false}],buttons:[{text:"Ok",handler:function(){var text=win.down("textfield").getValue();if(text==null){Ext.Msg.alert("Info","Plase select file NetNumber.");return}var initData=[{type:"Position",value:"2"},{type:"Object_Type",value:"17"},{type:"List_Of_Object_Property_References",value:'{"List_Of_Object_Property_References":[]}'},{type:"Object_Identifier",value:"17,9902601"},{type:"Exception_Schedule",value:'{"Exception_Schedule":[]}'},{type:"Schedule_Default",value:"Off"},{type:"Lock_Enable",value:"0"},{type:"Weekly_Schedule",value:'{"Weekly_Schedule":{}}'},{type:"Update_Time",value:Ext.Date.format(new Date(),"Y-m-d H:i:s")}];var win1=Ext.create("Ext.window.Window",{title:text+" Schedule Config",constrainHeader:true,height:400,width:450,resizeable:false,layout:"auto",items:{xtype:"form",items:[{xtype:"fieldset",title:"Input Value",defaultType:"textfield",margin:10,defaults:{anchor:"100%"},items:[{allowBlank:false,fieldLabel:"Object_Name",name:"Object_Name",emptyText:"object name"},{allowBlank:false,fieldLabel:"Present_Value",name:"Present_Value",emptyText:"present value",xtype:"combobox",store:["On","Off"],editable:false},{allowBlank:false,fieldLabel:"Description",name:"Description",emptyText:"description"}]},{xtype:"fieldset",title:"Select Value",defaultType:"textfield",margin:10,defaults:{anchor:"100%"},items:[{fieldLabel:"Priority_For_Writing",xtype:"combobox",labelPad:30,name:"Priority_For_Writing",store:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],value:"8",autoSelect:false,queryMode:"local"}]},{xtype:"fieldset",title:"indate",margin:10,layout:{type:"table",columns:5,tableAttrs:{style:{}}},defaults:{format:"d-m-Y",labelWidth:45},items:[{xtype:"displayfield",fieldLabel:"Effective_Period",name:"Effective_Period",labelWidth:110,rowspan:3,colspan:1},{xtype:"fieldcontainer",rowspan:3,colspan:1,width:20,layout:{type:"table",columns:1},defaults:{width:20,name:"dataradios"},items:[{xtype:"radio",checked:true,handler:function(th,bl){if(!bl){return}Ext.getCmp("ScheduleConfig_after").setDisabled(false);Ext.getCmp("ScheduleConfig_front").setDisabled(true);Ext.getCmp("ScheduleConfig_fromstart").setDisabled(true);Ext.getCmp("ScheduleConfig_fromend").setDisabled(true)}},{xtype:"radio",handler:function(th,bl){if(!bl){return}Ext.getCmp("ScheduleConfig_after").setDisabled(true);Ext.getCmp("ScheduleConfig_front").setDisabled(false);Ext.getCmp("ScheduleConfig_fromstart").setDisabled(true);Ext.getCmp("ScheduleConfig_fromend").setDisabled(true)}},{xtype:"radio",handler:function(th,bl){if(!bl){return}Ext.getCmp("ScheduleConfig_after").setDisabled(true);Ext.getCmp("ScheduleConfig_front").setDisabled(true);Ext.getCmp("ScheduleConfig_fromstart").setDisabled(false);Ext.getCmp("ScheduleConfig_fromend").setDisabled(false)}}]},{allowBlank:false,fieldLabel:"after",xtype:"datefield",id:"ScheduleConfig_after",name:"after",width:260,rowspan:1,colspan:3},{allowBlank:false,disabled:true,xtype:"datefield",fieldLabel:"front",id:"ScheduleConfig_front",name:"front",width:260,rowspan:1,colspan:3},{allowBlank:false,disabled:true,xtype:"datefield",fieldLabel:"from",id:"ScheduleConfig_fromstart",name:"fromstart",width:150,listeners:{change:function(th,newValue,oldValue,eOpts){var maxValue=new Date(new Date(newValue).getTime()+777600000000);var minValue=new Date(new Date(newValue).getTime()-777600000000);Ext.getCmp("ScheduleConfig_fromend").setMaxValue(maxValue);Ext.getCmp("ScheduleConfig_fromend").setMinValue(minValue)}}},{xtype:"displayfield",value:"-",width:5},{allowBlank:false,disabled:true,id:"ScheduleConfig_fromend",xtype:"datefield",name:"fromend",maxValue:"",width:103,listeners:{change:function(th,newValue,oldValue,eOpts){var maxValue=new Date(new Date(newValue).getTime()+777600000000);var minValue=new Date(new Date(newValue).getTime()-777600000000);Ext.getCmp("ScheduleConfig_fromstart").setMaxValue(maxValue);Ext.getCmp("ScheduleConfig_fromstart").setMinValue(minValue)}}}]}]},buttons:[{text:"OK",handler:function(){var devName=getNullSchedule(text).trim();if(devName=="null"){Ext.Msg.alert("Error","Cannot create Schedule , There can be at most ten .");win1.close();return}if(!win1.down("form").isValid()){Ext.Msg.alert("Exception","Please enter the form fields .");return}win1.down("form").submit({url:MyConfig.apiUrl+"?par=ScheduleConfig&nodename="+devName,async:true,method:"GET"});for(var i=0;i<initData.length;i++){changeDevValue(devName,initData[i].type,initData[i].value)}delayToast("Status","Create Schedule successfully. New Schedule name is "+devName+" .",1000);setTimeout(function(){win1.close()},1000)}},{text:"Close",handler:function(){Ext.Msg.show({title:"Save Changes?",message:"You are closing a tab that has unsaved changes. Would you like to save your changes?",buttons:Ext.Msg.YESNOCANCEL,icon:Ext.Msg.QUESTION,fn:function(btn){if(btn==="yes"){win1.close()}else{if(btn==="no"){win1.close()}else{}}}})}}]}).show();win.close()}},{text:"Cancel",handler:function(){win.close()}}]})}},{text:"NetNumber \u2022\u2022\u2022",handler:function(){var NetCount=1100;var storeData=[];for(var i=0;i<89;i++){storeData.push(NetCount);NetCount+=100}var win=Ext.create("Ext.window.Window",{title:"NetNumber \u2022\u2022\u2022",frame:true,width:310,bodyPadding:10,autoShow:true,defaultType:"textfield",defaults:{anchor:"100%"},items:[{id:"NetNumberCombobx",margin:10,xtype:"combobox",allowBlank:false,fieldLabel:"select value",store:storeData,editable:false,queryMode:"local",displayField:"name",valueField:"name",autoSelect:false,value:"9900"}],buttons:[{text:"Ok",handler:function(){var text=win.down("combobox").getValue();if(text==null){Ext.Msg.alert("Info","Plase select NetNumber ..");return}Ext.Ajax.request({url:"resources/xmlRW.php",async:false,params:{fileName:"../../../../bac_config.xml",rw:"r"},success:function(response){var xml=$($.parseXML(response.responseText));xml.find("root net").text(text);var xmlstr='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n'+$("<div></div>").append(xml[0].childNodes[0]).html();Ext.Ajax.request({url:"resources/xmlRW.php",async:false,params:{fileName:"../../../../bac_config.xml",rw:"w",content:xmlstr},success:function(response){delayToast("Success","NetNumber new value is "+text,1000)}})}});win.close()}},{text:"Cancel",handler:function(){win.close()}}],listeners:{show:function(){var combox=Ext.getCmp("NetNumberCombobx");combox.setValue(getNetNumberValue())}}})}},"-",{text:"Property",disabled:true}]})}if(record.data.depth==2){Ext.create("Ext.menu.Menu",{viewModel:treePanel.viewModel,autoShow:true,x:e.pageX,y:e.pageY,listeners:{boxready:function(){var me=this;return;var menu=me.getComponent("deviceinforamation");var fileName="devxml/"+record.data.text+".xml";fileExists(fileName,function(response){console.log(response.responseText!=1);if(response.responseText!=1){setTimeout(function(){menu.setDisabled(true)},100)}})}},items:[{text:"change device instance",handler:function(){Ext.MessageBox.prompt("change key","please input device instance , old device instance is "+record.data.text,function(ms,v){if(ms=="ok"){if(isNaN(v)||v.length!=4){Ext.Msg.alert("Key Exception","The key ,Does not meet the requirements");return}if(v){__this.repalceDeviceInstance(record.data.text,v)}else{Ext.Msg.alert("Exception","device instance exception .")}}})}},"-",{itemId:"deviceinforamation",text:"deviceinforamation",handler:function(){console.log(record);Ext.create("program.view.window.RenameWindow",{sDevName:record.data.text,sources:"db"})}},{text:"build",menu:[{text:"build",handler:function(){var textarea=Ext.create("Ext.form.field.TextArea",{width:"100%",border:false,height:500,bind:{hidden:"{!showtextarea.checked}"}});var checkbox=Ext.create("Ext.form.field.Checkbox",{reference:"showtextarea",checked:false,dock:"right",boxLabel:"Show Xml"});var p=Ext.create("Ext.ProgressBar",{width:300,buttonAlign:"left"});var win=Ext.create("Ext.window.Window",{title:"1000 biuld",viewModel:Ext.create("program.view.tree.DevTreeModel"),width:800,frame:true,autoShow:true,closable:true,layout:"auto",tbar:[{xtype:"filebutton",text:"Select File",listeners:{change:function(menu,target,eOpts){var files=target.target.files;if(files.length){var file=files[0];var reader=new FileReader();reader.onload=function(){textarea.setValue(this.result);checkbox.setValue(true)};reader.readAsText(file)}}}},checkbox],items:textarea,buttons:[p,"->",{text:"OK",itemId:"Ok",handler:function(menu){menu.setDisabled(true);var packet=Ext.create("Ext.data.amf.Packet");var xml=packet.parseXml(textarea.getValue());var keys=xml.querySelectorAll("key");var aAll=0;console.log(aAll);for(var i=0;i<keys.length;i++){aAll+=keys[i].getElementsByTagName("*").length}var count=0;var delayCount=0;for(var i=0;i<keys.length;i++){var tags=keys[i].getElementsByTagName("*");var devname=keys[i].getAttribute("number");for(var j=0;j<tags.length;j++){count++;var progressNumber=count/aAll;if(count%10==0){delayCount++}(function(progressNumber,devname,tag){console.log(arguments);var type=tag.tagName;var value=tag.innerHTML;setTimeout(function(){p.setValue(progressNumber);if(tag.tagName!="hide"){myAjax(MyConfig.apiUrl+"?par=changevalue&nodename="+devname+"&type="+type+"&value="+value,function(){delayToast("Success",devname+" Changes "+type+" saved successfully,New value is  ."+value,count*150)})}},count*50+1000*delayCount)})(progressNumber,devname,tags[j])}console.log(count)}var devName=record.data.text;setTimeout(function(){menu.setDisabled(false);devPublish(devName+".8.*",devName+"701\r\nPresent_Value\r\n1")},count*50+1000*delayCount+1000);console.log(xml);console.log(this)}},{text:"Close",itemId:"Close",handler:function(){win.close()}}]});testwin=win;console.log(win)}},{text:"upload",handler:function(){var win=Ext.create("program.view.window.EditFile",{title:"upload ",okHandler:function(){Ext.MessageBox.prompt("Save","please input file name",function(ms,v){if(ms=="ok"){if(!v){Ext.Msg.alert("Error","file")}Ext.Ajax.request({url:"resources/xmlRW.php",async:false,method:"POST",params:{fileName:"devxml/"+v,content:win.textArea.value,rw:"w"},success:function(response){if(win.textArea.value.length==response.responseText){delayToast("Maasage","save success ."+response.responseText)}else{Ext.Msg.alert("Error",response.responseText)}console.log(arguments)}})}},this,"",win.fileName)}})}}]},{text:"backup",handler:function(){var fileName="devxml/"+record.data.text+".xml";fileExists(fileName,function(response){if(response.responseText==1){location.href=MyConfig.apiUrl+"?par=backup&filename="+fileName}else{Ext.Msg.alert("Massage","file does not exist .")}})}},"-",{text:"Schedule...",disabled:true},{text:"Update",handler:function(){var keyArr=getDevAllByDevice(record.data.text);var pbwin=Ext.createByAlias("progressbarwin",{y:0,allCount:keyArr.length});for(var i=0;i<keyArr.length;i++){(function(key,i){setTimeout(function(){updateKey(key);pbwin.setValue(i+1);pbwin.show()},i*500)})(keyArr[i],i)}devTreeStoreLoad();treePanel.expandAll()}},{text:"BACnetNO.",handler:function(){var win=Ext.create("Ext.window.Window",{title:"BACnetNO \u2022\u2022\u2022",frame:true,width:310,bodyPadding:10,autoShow:true,defaultType:"textfield",defaults:{anchor:"100%"},items:[{margin:10,xtype:"numberfield",allowBlank:false,fieldLabel:"select file name",value:1000,maxValue:9900,minValue:1000,step:100,validator:function(value){if(value%100==0){return true}else{return"This value is invalid,Plase input 1000-9000 A number between.Interval of 100"}}}],buttons:[{text:"Ok",handler:function(){var text=win.down("numberfield").getValue();if(!win.down("numberfield").isValid()){Ext.Msg.alert("Info","Plase select file name.");return}var devName=record.data.text;devPublish(devName+".8.*",devName+"701\r\nPresent_Value\r\n"+text);win.close()}},{text:"Cancel",handler:function(){win.close()}}]})}},{text:"Save...",menu:[{text:"Save Property",handler:function(){var devName=record.data.text.substr(0,4);devPublish(devName+".8.*",devName+"701\r\nPresent_Value\r\n1")}},{text:"Download Property",handler:function(){var sDevName=record.data.text;myAjax(null,null,{par:"copyFile",sources:"devxml/"+sDevName+".xml",target:"/mnt/nandflash/"+sDevName+".xml"});myAjax(MyConfig.apiUrl+"?par=file_exists&filename=devxml/"+record.data.text+".xml",function(response){if(response.responseText==1){filePublish(record.data.text+".8.*","9999998\r\nSend_Config_File\r\n"+record.data.text)}else{Ext.Msg.alert("Massage","file does not exist .")}})}}]},{text:"RestorFactory",handler:function(){var devName=record.data.text;devPublish(devName+".8.*",devName+"701\r\nPresent_Value\r\n2")}},{text:"bin download",handler:function(){var devName=record.data.text;var form=Ext.create("Ext.form.Panel",{width:"100%",height:"100%",defaults:{anchor:"100%"},items:[{xtype:"filefield",name:"file1",fieldLabel:"Plase select .bin file",labelWidth:150,msgTarget:"side",allowBlank:false,anchor:"100%",buttonText:"Select file...",listeners:{blur:function(){}}}],listeners:{boxready:function(){}}});var win=Ext.create("Ext.window.Window",{title:"Upload .bin file",width:550,height:130,bodyPadding:10,frame:true,autoShow:true,layout:"auto",items:form,buttons:[{text:"Upload",handler:function(){console.log(this);if(form.isValid()){form.submit({waitMsg:"Updateing your program...",url:MyConfig.apiUrl+"?par=uploadBin",method:"POST",metadata:{enctype:"multipart/form-data"},Massage:function(form,action){if(action.response.responseText.indexOf("Error")>=0){Ext.Msg.alert("Exception","auto update failure , Please use manual installation package update 。 ");return}Ext.Msg.alert("Upload Done",action.response.responseText);devPublish(devName+".8.*","9999998\r\nSend_Bin_File\r\n"+devName)},success:function(form,action){this.Massage(form,action)},failure:function(form,action){this.Massage(form,action)}})}}}]})}}]})}if(record.data.depth==3){if(record.data.text!="Schedule"){}}if(record.data.depth==4){var sDevNodeName=record.data.value;var sNodeType=record.data.type;var sDevName=record.data.text;if(record.parentNode.data.text=="Schedule"){Ext.create("Ext.menu.Menu",{autoShow:true,x:e.pageX+5,y:e.pageY+5,items:[{text:"Schedule Config",handler:function(){var win1=Ext.create("Ext.window.Window",{title:sDevNodeName+" Schedule Config",constrainHeader:true,height:400,width:450,resizeable:false,layout:"auto",items:{xtype:"form",items:[{xtype:"fieldset",title:"Input Value",defaultType:"textfield",margin:10,defaults:{anchor:"100%"},items:[{name:"Object_Name",allowBlank:false,fieldLabel:"Object_Name",id:"Object_Name",emptyText:"object name"},{id:"Present_Value",allowBlank:false,fieldLabel:"Present_Value",name:"Present_Value",emptyText:"present value",xtype:"combobox",store:["On","Off"],editable:false},{id:"Description",allowBlank:false,fieldLabel:"Description",name:"Description",emptyText:"description"}]},{xtype:"fieldset",title:"Select Value",defaultType:"textfield",margin:10,defaults:{anchor:"100%"},items:[{id:"Priority_For_Writing",fieldLabel:"Priority_For_Writing",xtype:"combobox",labelPad:30,name:"Priority_For_Writing",store:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],value:"8",autoSelect:false,queryMode:"local"}]},{xtype:"fieldset",title:"indate",margin:10,layout:{type:"table",columns:5,tableAttrs:{style:{}}},defaults:{format:"d-m-Y",labelWidth:45},items:[{xtype:"displayfield",fieldLabel:"Effective_Period",name:"Effective_Period",labelWidth:110,rowspan:3,colspan:1},{xtype:"fieldcontainer",rowspan:3,colspan:1,width:20,layout:{type:"table",columns:1},defaults:{width:20,name:"dataradios"},items:[{xtype:"radio",id:"Effective_Period_radio1",checked:true,handler:function(th,bl){if(!bl){return}Ext.getCmp("ScheduleConfig_after").setDisabled(false);Ext.getCmp("ScheduleConfig_front").setDisabled(true);Ext.getCmp("ScheduleConfig_fromstart").setDisabled(true);Ext.getCmp("ScheduleConfig_fromend").setDisabled(true)}},{xtype:"radio",id:"Effective_Period_radio2",handler:function(th,bl){if(!bl){return}Ext.getCmp("ScheduleConfig_after").setDisabled(true);Ext.getCmp("ScheduleConfig_front").setDisabled(false);Ext.getCmp("ScheduleConfig_fromstart").setDisabled(true);Ext.getCmp("ScheduleConfig_fromend").setDisabled(true)}},{xtype:"radio",id:"Effective_Period_radio3",handler:function(th,bl){if(!bl){return}Ext.getCmp("ScheduleConfig_after").setDisabled(true);Ext.getCmp("ScheduleConfig_front").setDisabled(true);Ext.getCmp("ScheduleConfig_fromstart").setDisabled(false);Ext.getCmp("ScheduleConfig_fromend").setDisabled(false)}}]},{allowBlank:false,fieldLabel:"after",xtype:"datefield",id:"ScheduleConfig_after",name:"after",width:260,rowspan:1,colspan:3},{allowBlank:false,disabled:true,xtype:"datefield",fieldLabel:"front",id:"ScheduleConfig_front",name:"front",width:260,rowspan:1,colspan:3},{allowBlank:false,disabled:true,xtype:"datefield",fieldLabel:"from",id:"ScheduleConfig_fromstart",name:"fromstart",width:150,listeners:{change:function(th,newValue,oldValue,eOpts){var maxValue=new Date(new Date(newValue).getTime()+777600000000);var minValue=new Date(new Date(newValue).getTime()-777600000000);Ext.getCmp("ScheduleConfig_fromend").setMaxValue(maxValue);Ext.getCmp("ScheduleConfig_fromend").setMinValue(minValue)}}},{xtype:"displayfield",value:"-",width:5},{allowBlank:false,disabled:true,id:"ScheduleConfig_fromend",xtype:"datefield",name:"fromend",maxValue:"",width:103,listeners:{change:function(th,newValue,oldValue,eOpts){var maxValue=new Date(new Date(newValue).getTime()+777600000000);var minValue=new Date(new Date(newValue).getTime()-777600000000);Ext.getCmp("ScheduleConfig_fromstart").setMaxValue(maxValue);Ext.getCmp("ScheduleConfig_fromstart").setMinValue(minValue)}}}]}]},buttons:[{text:"OK",handler:function(){if(!win1.down("form").isValid()){Ext.Msg.alert("Exception","Please enter the form fields .");return}var url=MyConfig.apiUrl+"?par=ScheduleConfig&ispublish=true&nodename="+sDevNodeName;if(sDevName==getNetNumberValue()){url=MyConfig.apiUrl+"?par=ScheduleConfig&nodename="+sDevNodeName}win1.down("form").submit({url:url,async:true,method:"GET"});delayToast("Status","Create Schedule successfully. New Schedule name is "+sDevNodeName+" .",1000);setTimeout(function(){win1.close()},1000)}},{text:"Close",handler:function(){Ext.Msg.show({title:"Save Changes?",message:"You are closing a tab that has unsaved changes. Would you like to save your changes?",buttons:Ext.Msg.YESNOCANCEL,icon:Ext.Msg.QUESTION,fn:function(btn){if(btn==="yes"){win1.close()}else{if(btn==="no"){win1.close()}else{}}}})}}]}).show();var cArr=["Object_Name","Present_Value","Description","Priority_For_Writing"];for(var i=0;i<cArr.length;i++){myAjax(MyConfig.apiUrl+"?par=getvalue&nodename="+sDevNodeName+"&type="+cArr[i],function(response){var text=response.responseText.trim();Ext.getCmp(cArr[i]).setValue(text)})}myAjax(MyConfig.apiUrl+"?par=getvalue&nodename="+sDevNodeName+"&type=Effective_Period",function(response){var text=response.responseText.trim();var oJson=Ext.decode(text);var dateType="";var startYear=oJson.dateRange.startDate.year;var endYear=oJson.dateRange.endDate.year;if(startYear!=255&endYear!=255){dateType="from"}else{if(startYear!=255&endYear==255){dateType="after"}else{if(startYear==255&endYear!=255){dateType="front"}else{Ext.Msg.alert("Massage",' "invalid date , This attribute is initialized, ok .');return}}}console.log(oJson.dateRange.startDate.year);console.log(oJson.dateRange.endDate.year);if(dateType=="after"){Ext.getCmp("Effective_Period_radio1").setValue(true);var cAfter=Ext.getCmp("ScheduleConfig_after");var syear=oJson.dateRange.startDate.year;var smon=oJson.dateRange.startDate.month;var sday=oJson.dateRange.startDate.day_of_month;cAfter.setValue(new Date(syear,smon-1,sday))}if(dateType=="front"){Ext.getCmp("Effective_Period_radio2").setValue(true);var cFront=Ext.getCmp("ScheduleConfig_front");var syear=oJson.dateRange.endDate.year;var smon=oJson.dateRange.endDate.month;var sday=oJson.dateRange.endDate.day_of_month;cFront.setValue(new Date(syear,smon-1,sday))}if(dateType=="from"){var cFormstart=Ext.getCmp("ScheduleConfig_fromstart");var cFormend=Ext.getCmp("ScheduleConfig_fromend");var syear=oJson.dateRange.startDate.year;var smon=oJson.dateRange.startDate.month;var sday=oJson.dateRange.startDate.day_of_month;var eyear=oJson.dateRange.endDate.year;var emon=oJson.dateRange.endDate.month;var eday=oJson.dateRange.endDate.day_of_month;cFormstart.setValue(new Date(syear,smon-1,sday));cFormend.setValue(new Date(eyear,emon-1,eday));Ext.getCmp("Effective_Period_radio3").setValue(true)}})}},{text:"References",handler:function(){var sDevName=(sDevNodeName+"").substr(0,4);myAjax(MyConfig.apiUrl+"?par=getreferencesdev&nodename="+sDevNodeName,function(response){var text=eval(response.responseText.trim());console.log(text);var sourceData=[];var targetData=[];var objList=[];Ext.Ajax.request({async:false,url:"resources/main.php?par=getDevList",success:function(response){try{objList=Ext.decode(response.responseText)}catch(e){console.log(arguments);Ext.Msg.alert("Exception","load Object_Name failure .")}}});myAjax(MyConfig.apiUrl+"?par=getvalue&nodename="+sDevNodeName+"&type=List_Of_Object_Property_References",function(response){var text;try{text=Ext.decode(response.responseText)["List_Of_Object_Property_References"]}catch(e){delayToast("Message","invalid data , This attribute is initialized, ok .");text=[]}for(var i=0;i<text.length;i++){var dev=text[i].device_id||sDevName;dev+="";if((dev+"").length==3){dev="0"+dev}if((dev+"").length==2){dev="00"+dev}if((dev+"").length==1){dev="000"+dev}var type=text[i].objectIdentifier.type+"";var instance=text[i].objectIdentifier.instance+"";if(instance.length==1){instance="0"+instance}var key=dev+type+instance;var obj="";objList.find(function(v){if(v.value==key){obj=v.name;return v}});targetData.push({name:key,Object_Name:obj,identifier:text[i].propertyIdentifier,arrayIndex:text[i].propertyArrayIndex})}});console.log(targetData);var netNumber=getNetNumberValue();for(var i=0;i<text.length;i++){var key=text[i];var obj="";objList.find(function(v){if(v.value==key){obj=v.name;return v}});if(sDevName==netNumber){sourceData.push({name:key,Object_Name:obj,identifier:"85",arrayIndex:"-1"})}else{if(sDevName==(key+"").substr(0,4)){sourceData.push({name:key,Object_Name:obj,identifier:"85",arrayIndex:"-1"})}}for(var j=0;j<targetData.length;j++){if(text[i]==targetData[j].name){console.log("pop");sourceData.pop()}}}console.log(targetData);console.log(sourceData);Ext.create("Ext.data.Store",{fields:[{name:"name",type:"string",convert:function(val){if((val+"").length==6){val="0"+val}if((val+"").length==5){val="00"+val}if((val+"").length==4){val="000"+val}return val}},{name:"Object_Name",type:"string"},{name:"identifier",type:"string"},{name:"arrayIndex",type:"string"}],storeId:"refSourceStore",data:sourceData}),Ext.create("Ext.window.Window",{title:sDevNodeName+" References",constrainHeader:true,height:600,width:750,autoShow:true,layout:"hbox",buttons:[{text:"Ok",handler:function(){var target=Ext.data.StoreManager.lookup("refTargetStore");var aItems=target.getData().items;var oJson={List_Of_Object_Property_References:[]};for(var i=0;i<aItems.length;i++){console.log(aItems[i].data.name);if(sDevName=="1000"||sDevName==netNumber){oJson.List_Of_Object_Property_References.push({objectIdentifier:{type:parseInt((aItems[i].data.name+"").substr(4,1)),instance:parseInt((aItems[i].data.name+"").substr(5,2))},device_id:parseInt((aItems[i].data.name+"").substr(0,4)),propertyIdentifier:parseInt(aItems[i].data.identifier),propertyArrayIndex:parseInt(aItems[i].data.arrayIndex)})}else{oJson.List_Of_Object_Property_References.push({objectIdentifier:{type:parseInt((aItems[i].data.name+"").substr(4,1)),instance:parseInt((aItems[i].data.name+"").substr(5,2))},propertyIdentifier:parseInt(aItems[i].data.identifier),propertyArrayIndex:parseInt(aItems[i].data.arrayIndex)})}}console.log(Ext.encode(oJson));Ext.Ajax.request({url:MyConfig.apiUrl+"?par=changevaluenopublish&nodename="+sDevNodeName+"&type=List_Of_Object_Property_References",method:"POST",params:{value:Ext.encode(oJson)},success:function(response){var text=response.responseText;delayToast("Status","Changes saved successfully .",1000)}});if(sDevName!=getNetNumberValue()){devPublish(sDevName+".8.*",sDevNodeName+"\r\nList_Of_Object_Property_References\r\n"+(Ext.encode(oJson).replaceAll("\\s*|\t|\r|\n","")))}else{myAjax(MyConfig.apiUrl+"?par=changevaluenopublish&nodename="+sDevNodeName+"&type=Position&value=2",function(response){delayToast("Massage","Change Position Ok .",1000)})}this.up("window").close()}}],defaults:{height:"100%"},items:[{xtype:"gridpanel",itemId:"sourceGridPanel",flex:4,border:true,margin:5,title:"Wait to be selected",viewConfig:{plugins:{ptype:"gridviewdragdrop",dragText:"Drag and drop to reorganize"}},store:"refSourceStore",columns:[{header:"Name",dataIndex:"name",flex:1},{header:"Object_Name",dataIndex:"Object_Name",flex:1},{header:"Identifier",dataIndex:"identifier",flex:1,hidden:true},{header:"ArrayIndex",dataIndex:"arrayIndex",flex:1,hidden:true}]},{xtype:"panel",width:90,layout:{type:"center"},items:[{xtype:"button",margin:"0 0 300 0",text:"select",handler:function(button){var source=Ext.data.StoreManager.lookup("refSourceStore");var target=Ext.data.StoreManager.lookup("refTargetStore");var sourceGridPanel=button.up("window").getComponent("sourceGridPanel");var targetGridPanel=button.up("window").getComponent("targetGridPanel");target.add(source.remove(sourceGridPanel.getSelection()[0]))}},{xtype:"button",margin:"0 0 240 0",text:"move",handler:function(button){var source=Ext.data.StoreManager.lookup("refSourceStore");var target=Ext.data.StoreManager.lookup("refTargetStore");var sourceGridPanel=button.up("window").getComponent("sourceGridPanel");var targetGridPanel=button.up("window").getComponent("targetGridPanel");source.add(target.remove(targetGridPanel.getSelection()[0]))}},{xtype:"button",margin:"0 0 70 0",text:"Select All →",scale:"small",handler:function(){var source=Ext.data.StoreManager.lookup("refSourceStore");var target=Ext.data.StoreManager.lookup("refTargetStore");target.add(source.removeAll())}},{xtype:"button",text:"Move All ←",scale:"small",handler:function(){var source=Ext.data.StoreManager.lookup("refSourceStore");var target=Ext.data.StoreManager.lookup("refTargetStore");source.add(target.removeAll())}}]},{xtype:"gridpanel",title:"Has been selected",flex:4,border:true,margin:5,itemId:"targetGridPanel",viewConfig:{plugins:{ptype:"gridviewdragdrop",dragText:"Drag and drop to reorganize"}},store:Ext.create("Ext.data.Store",{fields:[{name:"name",type:"string"},{name:"Object_Name",type:"string"},{name:"identifier",type:"string"},{name:"arrayIndex",type:"string"}],storeId:"refTargetStore",data:targetData,listeners:{load:function(){console.log(arguments)}}}),columns:[{header:"Name",dataIndex:"name",flex:1},{header:"Object_Name",dataIndex:"Object_Name",flex:1},{header:"Identifier",dataIndex:"identifier",flex:1,hidden:true},{header:"ArrayIndex",dataIndex:"arrayIndex",flex:1,hidden:true}]}]})})}},{text:"week",handler:function(){var dwwin=Ext.getCmp("drawWindow");if(dwwin){dwwin.close()}Ext.create("program.view.window.DrawWeeksWindow",{sDevNodeName:sDevNodeName,sDevName:sDevName,id:"drawWindow"})}},{text:"exception"},{text:"Synchronous",handler:function(){Ext.create("program.view.window.SynchrnousWindow",{sDevNodeName:sDevNodeName,sDevName:sDevName})},listeners:{boxready:function(menu){if(sDevName.substr(2,2)!="00"){menu.hide()}}}},"-",{text:"Update",handler:function(){updateKey(sDevNodeName);devTreeStoreLoad();treePanel.expandAll()}},{text:"Delete Key",handler:function(){Ext.Msg.show({title:"Delete ?",message:"Would you delete this key? This key is "+sDevNodeName,buttons:Ext.Msg.YESNOCANCEL,icon:Ext.Msg.WARNING,fn:function(btn){if(btn==="yes"){deleteKey(sDevNodeName)}}})}}]});return false}Ext.create("Ext.menu.Menu",{autoShow:true,x:e.pageX+5,y:e.pageY+5,items:[{text:"Property",handler:function(){if(Ext.getCmp("devNodeWindow")){var win=Ext.getCmp("devNodeWindow");win.setTitle(sDevNodeName+" Property");win.datas.record=record;var store=Ext.data.StoreManager.lookup("ParametersStore");store.getProxy().setUrl(MyConfig.apiUrl+"?par=node&type=parameters&&nodename="+sDevNodeName);store.load();var store1=Ext.data.StoreManager.lookup("PropertypegridStore");store1.getProxy().setUrl(MyConfig.apiUrl+"?par=node&type=event&nodename="+sDevNodeName);store1.load();return}Ext.create("Ext.window.Window",{id:"devNodeWindow",title:sDevNodeName+" Property",constrainHeader:true,style:{boxShadow:"rgb(0, 0, 25) 5px 5px 10px"},height:768,width:1024,maxHeight:Ext.getBody().getHeight(),layout:"accordion",listeners:{show:function(th){th.datas={record:record}}},items:[Ext.widget("propertypegrid",{title:"Parameters",th:th,record:record,store:Ext.create("Ext.data.Store",{id:"ParametersStore",autoLoad:true,fields:["type","value"],proxy:{type:"ajax",url:MyConfig.apiUrl+"?par=node&type=parameters&nodename="+sDevNodeName}})}),Ext.create("propertypegrid",{title:"Event",store:Ext.create("Ext.data.Store",{id:"PropertypegridStore",autoLoad:true,fields:["type","value"],proxy:{type:"ajax",url:MyConfig.apiUrl+"?par=node&type=event&nodename="+sDevNodeName}})}),Ext.create("propertypegrid",{title:"Alarm",store:Ext.create("Ext.data.Store",{id:"PropertypegridStore",autoLoad:true,fields:["type","value"],proxy:{type:"ajax",url:MyConfig.apiUrl+"?par=node&type=alarm&nodename="+sDevNodeName}})}),Ext.create("propertypegrid",{title:"Other",store:Ext.create("Ext.data.Store",{id:"PropertypegridStore",autoLoad:true,fields:["type","value"],proxy:{type:"ajax",url:MyConfig.apiUrl+"?par=node&type=other&nodename="+sDevNodeName}})})],buttons:[{text:"Close",handler:function(){this.up("window").close()}}]}).show();console.log(arguments)}},{text:"Event&AlarmConfig",handler:function(){Ext.create("program.view.window.AlarmWindow",{sDevNodeName:sDevNodeName,sDevName:sDevName,sDevNodeType:record.parentNode.data.text})},listeners:{boxready:function(){var me=this;var text=record.parentNode.data.text;if(text!="AI"&text!="AO"&text!="AV"){}}}},"-",{text:"Update",handler:function(){updateKey(sDevNodeName);devTreeStoreLoad();treePanel.expandAll()}},{text:"Delete Key",handler:function(){Ext.Msg.show({title:"Delete ?",message:"Would you delete this key? This key is "+sDevNodeName,buttons:Ext.Msg.YESNOCANCEL,icon:Ext.Msg.WARNING,fn:function(btn){if(btn==="yes"){deleteKey(sDevNodeName)}}})}}]});function deleteKey(key){myAjax(null,function(response){try{var resArr=Ext.decode(response.responseText);if(resArr.success){delayToast("Massage","Success "+resArr.info);devTreeStoreLoad()}else{Ext.Msg.alert("Massage",resArr.info)}}catch(e){Ext.Msg.alert("Massage","Error "+e);throw new Error(e)}},{par:"deleteKey",key:key})}}function updateKey(key){var __key=key;console.log(key);var curTime=Ext.Date.format(new Date(),"Y-m-d h:i:s");var types={};types.typeKeys0={Object_Identifier:"0",Object_Type:"0",Present_Value:"0",Description:"ANALOG INPUT 1",Device_Type:"NTC20K",Status_Flags:"0000",Event_State:"0",Reliability:"0",Out_Of_Service:"0",Update_Interval:"1",Units:"98",Min_Pres_Value:"0",Max_Pres_Value:"100",Resolution:"0",COV_Increment:"1.2",Time_Delay:"0",Notification_Class:"0",High_Limit:"100",Low_Limit:"0",Deadband:"0.000",Limit_Enable:"0",Event_Enable:"0",Acked_Transitions:"0",Notify_Type:"0",Update_Time:curTime,Offset:"0",Lock_Enable:"0",Plant:"AHU_AI",Hide:"0",Object_Name:"AI1"};types.typeKeys1={Plant:"AHU_AO",Status_Flags:"0000",Deadband:"0.000",Object_Identifier:"0",Units:"1",Time_Delay:"0",Hide:"0",Notification_Class:"0",Description:"ANALOG OUTPUT 1",High_Limit:"100",Low_Limit:"0",Lock_Enable:"0",Resolution:"100",Relinquish_Default:"0",Object_Name:"AO1",Priority_Array:"NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL",Min_Pres_Value:"95",Present_Value:"0",Max_Pres_Value:"0",Limit_Enable:"0",Event_State:"0",Notify_Type:"0",Acked_Transitions:"0",Device_Type:"0-10=0-100",Update_Time:curTime,Event_Enable:"0",Out_Of_Service:"0",COV_Increment:"1.2",Object_Type:"1",Reliability:"0"};types.typeKeys2={Status_Flags:"0000",Plant:"AHU_AV",Deadband:"0.000",Object_Identifier:"0",Units:"98",Time_Delay:"0",Hide:"0",Notification_Class:"0",Description:"ANALOG VALUE 1",Low_Limit:"0",High_Limit:"100",Lock_Enable:"0",Relinquish_Default:"0",Object_Name:"AV1",Priority_Array:"NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL",Present_Value:"0",Event_State:"0",Limit_Enable:"0",Notify_Type:"0",Acked_Transitions:"0",Update_Time:curTime,Event_Enable:"0",Out_Of_Service:"0",COV_Increment:"1.2",Reliability:"0",Object_Type:"2"};types.typeKeys3={Object_Identifier:"0",Object_Type:"3",Present_Value:"0",Description:"BINARY INPUT 1",Device_Type:"NormalOpen",Status_Flags:"0000",Event_State:"0",Reliability:"0",Out_Of_Service:"0",Polarity:"0",Inactive_Text:"Off",Active_Text:"On",Change_Of_State_Time:"0.5",Change_Of_State_Count:"0",Time_Of_State_Count_Reset:"0",Elapsed_Active_Time:"1",Time_Of_Active_Time_Reset:"0",Time_Delay:"0",Notification_Class:"0",Alarm_Value:"0",Event_Enable:"0",Acked_Transitions:"0",Notify_Type:"0",Update_Time:curTime,Lock_Enable:"0",Plant:"AHU_BI",Hide:"0",Object_Name:"BI1"};types.typeKeys4={Status_Flags:"0000",Plant:"AHU_BO",Change_Of_State_Count:"1",Object_Identifier:"0",Time_Delay:"1",Description:"Binary Output 1",Hide:"0",Notification_Class:"1",Lock_Enable:"1",Relinquish_Default:"1",Polarity:"0",Object_Name:"BO1",Change_Of_State_Time:"1",Priority_Array:"NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL",Minimum_On_Time:"1",Present_Value:"0",Event_State:"0",Notify_Type:"1",Device_Type:"NormalOpen",Acked_Transitions:"1",Update_Time:"2016-12-08 20:32:22",Time_Of_State_Count_Reset:"1",Active_Text:"On",Event_Enable:"1",Time_Of_Active_Time_Reset:"1",Elapsed_Active_Time:"1",Out_Of_Service:"0",Feedback_Value:"1",Inactive_Text:"Off",Reliability:"0",Minimum_Off_Time:"1",Object_Type:"4"};types.typeKeys5={Plant:"AHU_BV",Status_Flags:"0000",Object_Identifier:"0",Change_Of_State_Count:"1",Time_Delay:"1",Hide:"0",Notification_Class:"1",Description:"Digital Value 1",Alarm_Value:"1",Lock_Enable:"1",Relinquish_Default:"1",Object_Name:"BV1",Change_Of_State_Time:"1",Priority_Array:"NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL",Minimum_On_Time:"1",Present_Value:"0",Event_State:"0",Notify_Type:"1",Acked_Transitions:"1",Update_Time:curTime,Time_Of_State_Count_Reset:"1",Event_Enable:"1",Active_Text:"On",Time_Of_Active_Time_Reset:"1",Elapsed_Active_Time:"1",Out_Of_Service:"0",Inactive_Text:"Off",Reliability:"0",Object_Type:"5",Minimum_Off_Time:"1"};types.typeKeys6={Object_Identifier:"17,9922601",Object_Type:"17",Present_Value:"1",Description:"Description 1",Effective_Period:'{"dateRange":{}}',Weekly_Schedule:'{"Weekly_Schedule":{}}',Exception_Schedule:'{"Exception_Schedule":[]}',List_Of_Object_Property_References:'{"List_Of_Object_Property_References":[]}',Priority_For_Writing:"8",Update_Time:curTime,Lock_Enable:"0",Schedule_Default:"Off",Object_Name:"SCHE1"};myAjax(null,function(response){try{var resArr=Ext.decode(response.responseText);console.log(resArr);var type=getKeyType(key);compareKeys(key,resArr,types["typeKeys"+type])}catch(e){Ext.Msg.alert("Massage","Error "+e);throw new Error(e)}},{par:"getKeyAll",key:key});function getKeyType(key){if(isKey(key)){return key.substr(4,1)}else{return false}}function isKey(key){if(typeof key!="string"&typeof key!="number"){throw new Error("Invald key!"+typeof key);return false}if(typeof key!="string"){key=key+""}if(key.length!=7||isNaN(key)){Ext.Msg.show({title:"Exception !",message:"Found an exception key"+key+", do you want to delete ?",buttons:Ext.Msg.YESNOCANCEL,icon:Ext.Msg.ERROR,fn:function(btn){if(btn==="yes"){deleteKey(key)}}});return false}return true}function changeKey(oldKey,newKey){myAjax(null,function(response){},{par:"changeKey",oldKey:oldKey,newKey:newKey})}function compareKeys(device,dbJSON,normalJSON){console.log(dbJSON,normalJSON);var noCount=0;for(var key in normalJSON){if(dbJSON[key]){console.log("key = "+key+", value="+dbJSON[key]+" 有")}else{console.log("key = "+key+", value="+normalJSON[key]+" 没有");changeDevValue(device,key,normalJSON[key]);noCount++}}var point=noCount?1:0;Ext.Msg.alert("Update Device","key "+__key+" Update "+point+" point , "+noCount+" Attributes .")}}}},0,0,0,0,["controller.imgtree"],0,[program.view.tree,"DevTreeController"],0));function getNetNumberValue(g){var e="";Ext.Ajax.request({url:"resources/xmlRW.php",async:false,params:{fileName:g||"../../../../bac_config.xml",rw:"r"},success:function(j){console.log(arguments);try{var d=$($.parseXML(j.responseText));console.log(d);if(d){e=d.find("root net").text()}else{Ext.Msg.alert("Exception ","bac_config is not fount .")}}catch(c){Ext.Msg.alert("Massage","Error "+j.responseText);e="1000"}}});return e}function getNameByType(g){if(g==0){return"AI"}if(g==1){return"AO"}if(g==2){return"AV"}if(g==3){return"BI"}if(g==4){return"BO"}if(g==5){return"BV"}if(g>=10){for(var e in slotsJson){if(slotsJson[e].type==g){return e}}}return null}function devTreeStoreLoad(){var j=Ext.data.StoreManager.lookup("devtreestore");var i=window.location.host;var h=getTreeJsonByUrl(i);j.setRoot(h);var k=Ext.getCmp("leftDevTree");console.log(k);k.setStore(j)}function setPresent_Value(l,p,s){var n=l.substr(0,4);var q="";var m="";var t=MyConfig.apiUrl+"?par=getvalue&nodename="+l+"&type=Priority_Array";myAjax(t,function(d){var e=d.responseText.split(",");for(var c=0;c<16;c++){if(c+1==parseInt(s)){q+=p+",";m+=p+","}else{q+=e[c]+",";m+="NULL,"}}});myAjax(MyConfig.apiUrl+"?par=changevaluenopublish&nodename="+l+"&type=Priority_Array&value="+q.substr(0,q.length-1),function(){delayToast("Success",l+" Change value Priority_Array success new value is "+q.substr(0,q.length-1),0)});if(p=="NULL"){var r=l+"\r\nCancel_Priority_Array\r\n"+s;devPublish(n+".8.*",r,function(){delayToast("Success","Publish Ok.",1000)})}else{var r=l+"\r\nPriority_Array\r\n"+m.substr(0,m.length-1);devPublish(n+".8.*",r,function(){delayToast("Success","Publish Ok.",1000)})}}function getTreeJsonByUrl(d){return{expanded:true,children:[{expanded:false,text:d,checked:true,qtip:"On Line",children:getDevAll(d)}]}}function getNullSchedule(e){var g="";Ext.Ajax.request({url:MyConfig.apiUrl+"",method:"GET",async:false,params:{par:"getnullschedule",nodename:e},success:function(d){var c=d.responseText;g=c}});return g}function myGetValue(i,h){var g="";Ext.Ajax.request({url:MyConfig.apiUrl+"",method:"GET",async:false,params:{par:"getvalue",nodename:i,type:h},success:function(d){var c=d.responseText;g=c}});return g}function changeDevValue(i,h,g){Ext.Ajax.request({url:MyConfig.apiUrl+"",method:"GET",params:{par:"changevalue",nodename:i,type:h,value:g}})}function getDevAllUniqueNames(){var d=getDevNamesAll();d=getArrayBeforeFour(d);d.sort(function(c,g){return c-g});d=d.unique1();return d}function getDevAll(){var g=getDevAllUniqueNames();var h=[];for(var i=0;i<g.length;i++){h.push({text:g[i],allowDrop:false,allowDrag:false,expanded:false,children:getTypeByDev(g[i])})}return h}function getDevAllByDevice(e){var g=getDevNamesAll();console.log(g);return g.filter(function(d,c){if((d+"").substr(0,4)==e+""){return true}else{return false}})}function getTypeByDev(t){var p=[0,1,2,3,4,5];var u=getNodesAll();var v=[];for(var r=0;r<p.length;r++){var j=[];var i=t+p[r];for(var s=0;s<u.length;s++){if(u[s]["value"].substr(0,5)==i){u[s]["allowDrop"]=false;u[s]["allowDrag"]=true;u[s]["type"]=r;j.push(u[s])}}j.sort(function(c,d){return c.value-d.value});var q={text:getNameByType(r),expanded:false,allowDrop:false,allowDrag:false,children:j};if(j.length!=0){v.push(q)}}v.push({text:"Schedule",expanded:false,allowDrop:false,allowDrag:false,children:getScheduleByDev(t)});return v}function getScheduleByDev(devName){var devjson=null;Ext.Ajax.request({url:MyConfig.apiUrl,async:false,method:"GET",params:{par:"schedule",nodename:devName},success:function(response){var text=response.responseText;devjson=eval(text);console.log(devjson);devjson.sort(function(a,b){return a.text-b.text})}});return devjson}function getDevInfoFileNames(){var aNames=null;Ext.Ajax.request({url:MyConfig.apiUrl+"?par=getDevInfoFileNames",async:false,params:{},success:function(response){var text=response.responseText;aNames=eval(text)}});return aNames}function getDevNamesAllDataStore(i){var l=getDevNamesAll();var m=[];for(var n=0;n<l.length;n++){var r=l[n]+"";if(r.length==6){r="0"+r}if(r.length==5){r="00"+r}if(r.length==4){r="000"+r}if(r.length<=3){continue}m.push(r.substr(0,4))}m.sort(function(c,d){return c-d});m=m.unique1();var p=[];if(i){p.push({name:"local"})}for(var n=0;n<m.length;n++){p.push({name:m[n]})}var q=Ext.create("Ext.data.Store",{fields:["name"],data:p});return q}function getDevNamesAll(){var d=null;Ext.Ajax.request({url:MyConfig.apiUrl+"?par=dev",async:false,params:{},success:function(e){console.log(e);try{d=Ext.decode(e.responseText)}catch(c){Ext.Msg.alert("Error",e.responseText);throw new Error(c)}}});return d}function getNodesAll(g){var e=null;Ext.Ajax.request({url:MyConfig.apiUrl+"?par=nodes",async:false,params:{},success:function(i){var d=i.responseText;var c=Ext.decode(d);e=c;console.log(c)}});return e}function getTypeAllByDev(){var g=getNodesAll();var e=text.split(" ");e=getArrayBeforeFour(e);e.sort(function(c,d){return parseInt(c)-parseInt(d)});e=e.unique1();aNames=e}function getArrayBeforeFour(l){var i=[];for(var k=0;k<l.length;k++){var m=l[k]+"";if(m.length==6){m="0"+m}if(m.length==5){m="00"+m}if(m.length==4){m="000"+m}if(m.length<=3){continue}var j=m.trim().substr(0,4);i.push(j)}return i}Array.prototype.unique1=function(){var e=[];for(var g=0;g<this.length;g++){if(e.indexOf(this[g])==-1){e.push(this[g])}}return e};(Ext.cmd.derive("program.view.tree.DevTreeModel",Ext.app.ViewModel,{data:{name:"program",linkDataBase:true}},0,0,0,0,["viewmodel.devtreemodel"],0,[program.view.tree,"DevTreeModel"],0));(Ext.cmd.derive("program.view.tree.ReplaceKeyController",Ext.app.ViewController,{itemcontextmenu:function(m,r,l,q,e,p){console.log(arguments);e.stopEvent();var n=this;console.log(arguments);if(r.data.depth==1){n.devHandler(n.view,r,e)}if(r.data.depth==3){n.keyHandler(n.view,r,e)}},devHandler:function(i,h,e){Ext.create("Ext.menu.Menu",{autoShow:true,x:e.pageX+5,y:e.pageY+5,items:[{text:"change device instance",handler:function(){Ext.MessageBox.prompt("change device instance","please input device instance , old device number is "+h.data.text,function(c,d){if(c=="ok"){if(isNaN(d)||d.length!=4){Ext.Msg.alert("Key Exception","The key ,Does not meet the requirements");return}if(d){i.keyReplace(h.data.text,d)}else{Ext.Msg.alert("Exception","device instance exception .")}}},this,false,h.data.text)}}]})},keyHandler:function(i,h,e){Ext.create("Ext.menu.Menu",{autoShow:true,x:e.pageX+5,y:e.pageY+5,items:[{text:"change name",handler:function(){Ext.MessageBox.prompt("change key","please input name , old name is "+h.data.text,function(c,d){if(c=="ok"){if(d){i.nameReplace(h.data.key,h.data.text,d)}else{Ext.Msg.alert("Exception","name exception .")}}})}},{text:"change number",handler:function(){Ext.MessageBox.prompt("change key","please input  number , old  number is "+h.data.key.substr(5,2),function(c,d){if(c=="ok"){if(isNaN(d)||d.length>2||d>99||d<1){Ext.Msg.alert("number Exception","The number ,Does not meet the requirements");return}if(d){console.log(d);i.numberReplace(h.data.key,d)}else{Ext.Msg.alert("Exception","number exception .")}}})}},{text:"delete ",handler:function(){Ext.Msg.show({title:"Delete ?",message:"Would you delete this key? This key is "+h.data.key,buttons:Ext.Msg.YESNOCANCEL,icon:Ext.Msg.WARNING,fn:function(c){if(c==="yes"){i.keyDelete(h.data.key)}}})}}]})}},0,0,0,0,["controller.tree-replacekey"],0,[program.view.tree,"ReplaceKeyController"],0));(Ext.cmd.derive("program.view.tree.ReplaceKeyModel",Ext.app.ViewModel,{data:{name:"program"}},0,0,0,0,["viewmodel.tree-replacekey"],0,[program.view.tree,"ReplaceKeyModel"],0));(Ext.cmd.derive("program.view.window.AlarmWindowController",Ext.app.ViewController,{formBoxReady:function(e){var g=this.view;g.getAlarmFormData()}},0,0,0,0,["controller.window-alarmwindow"],0,[program.view.window,"AlarmWindowController"],0));(Ext.cmd.derive("program.view.window.AlarmWindowModel",Ext.app.ViewModel,{data:{high_limit:100,low_limit:0,delay_time:10,deadband:0,notification_class:1,limit:0,event_enable:0},getLimitValue:function(i,g){var h=0;if(i&g){h=11}if(i&!g){h=10}if(!i&g){h=1}this.set("limit",h)},getEventValue:function(k,h,i){var j=0;if(k){j+=100}if(h){j+=10}if(i){j+=1}console.log(j);this.set("event_enable",j)},formulas:{ck1:{get:function(e){var g=e("limit");if(parseInt(g)>=10){return true}return false},set:function(h){var i=h;var g=this.get("checked2").checked;console.log(this);this.getLimitValue(i,g)}},ck2:{get:function(e){var g=e("limit");if(parseInt(g)==1||parseInt(g)==11){return true}return false},set:function(h){var i=this.get("checked1").checked;var g=h;this.getLimitValue(i,g)}},ck3:{get:function(g){var e=g("event_enable");console.log("getck3  "+e);if(parseInt(e)>=100){return true}return false},set:function(j){var k=j;var h=this.get("checked4").checked;var i=this.get("checked5").checked;this.getEventValue(k,h,i)}},ck4:{get:function(g){var e=g("event_enable")+"";console.log("getck4  "+e.substr(1,1));if(parseInt(e)&10){return true}return false},set:function(j){var k=this.get("checked3").checked;var h=j;var i=this.get("checked5").checked;this.getEventValue(k,h,i)}},ck5:{get:function(g){var e=g("event_enable");console.log("getck5  "+e);if(parseInt(e)&1){return true}return false},set:function(j){var k=this.get("checked3").checked;var h=this.get("checked4").checked;var i=j;this.getEventValue(k,h,i)}}}},0,0,0,0,["viewmodel.window-alarmwindow"],0,[program.view.window,"AlarmWindowModel"],0));(Ext.cmd.derive("program.view.window.AttributeTableWinController",Ext.app.ViewController,{closeWin:function(){var d=this.view;d.close()}},0,0,0,0,["controller.window-attributetablewin"],0,[program.view.window,"AttributeTableWinController"],0));(Ext.cmd.derive("program.view.window.AttributeTableWinModel",Ext.app.ViewModel,{data:{name:"program",bol:"en"},formulas:{treestore:function(d){if(d("bol")=="en"){return this.storeInfo.en}else{return this.storeInfo.zh}}},stores:{en:Ext.create("Ext.data.TreeStore",{root:{expanded:true,children:[{text:"Acceleration",leaf:false,children:[{text:"METERS PER SECOND PER SECOND  ",qtip:"166",leaf:true}]},{text:"Area",leaf:false,children:[{text:"SQUARE METERS  ",qtip:"0",leaf:true},{text:"SQUARE CENTIMETERS  ",qtip:"116",leaf:true},{text:"SQUARE FEET  ",qtip:"1",leaf:true},{text:"SQUARE INCHES  ",qtip:"115",leaf:true}]},{text:"Currency",leaf:false,children:[{text:"CURRENCY1  ",qtip:"105",leaf:true},{text:"CURRENCY2  ",qtip:"106",leaf:true},{text:"CURRENCY3  ",qtip:"107",leaf:true},{text:"CURRENCY4  ",qtip:"108",leaf:true},{text:"CURRENCY5  ",qtip:"109",leaf:true},{text:"CURRENCY6  ",qtip:"110",leaf:true},{text:"CURRENCY7  ",qtip:"111",leaf:true},{text:"CURRENCY8  ",qtip:"112",leaf:true},{text:"CURRENCY9  ",qtip:"113",leaf:true},{text:"CURRENCY10  ",qtip:"114",leaf:true}]},{text:"Electrical",leaf:false,children:[{text:"MILLIAMPERES  ",qtip:"2",leaf:true},{text:"AMPERES  ",qtip:"3",leaf:true},{text:"AMPERES PER METER  ",qtip:"167",leaf:true},{text:"AMPERES PER SQUARE METER  ",qtip:"168",leaf:true},{text:"AMPERE SQUARE METERS  ",qtip:"169",leaf:true},{text:"DECIBELS  ",qtip:"199",leaf:true},{text:"DECIBELS MILLIVOLT  ",qtip:"200",leaf:true},{text:"DECIBELS VOLT  ",qtip:"201",leaf:true},{text:"FARADS  ",qtip:"170",leaf:true},{text:"HENRYS  ",qtip:"171",leaf:true},{text:"OHMS  ",qtip:"4",leaf:true},{text:"OHM METERS  ",qtip:"172",leaf:true},{text:"MILLIOHMS  ",qtip:"145",leaf:true},{text:"KILOHMS  ",qtip:"122",leaf:true},{text:"MEGOHMS  ",qtip:"123",leaf:true},{text:"MICROSIEMENS  ",qtip:"190",leaf:true},{text:"MILLISIEMENS  ",qtip:"202",leaf:true},{text:"SIEMENS  ",qtip:"173",leaf:true},{text:"SIEMENS PER METER  ",qtip:"174",leaf:true},{text:"TESLAS  ",qtip:"175",leaf:true},{text:"VOLTS  ",qtip:"5",leaf:true},{text:"MILLIVOLTS  ",qtip:"124",leaf:true},{text:"KILOVOLTS  ",qtip:"6",leaf:true},{text:"MEGAVOLTS  ",qtip:"7",leaf:true},{text:"VOLT AMPERES  ",qtip:"8",leaf:true},{text:"KILOVOLT AMPERES  ",qtip:"9",leaf:true},{text:"MEGAVOLT AMPERES  ",qtip:"10",leaf:true},{text:"VOLT AMPERES REACTIVE  ",qtip:"11",leaf:true},{text:"KILOVOLT AMPERES REACTIVE  ",qtip:"12",leaf:true},{text:"MEGAVOLT AMPERES REACTIVE  ",qtip:"13",leaf:true},{text:"VOLTS PER DEGREE KELVIN  ",qtip:"176",leaf:true},{text:"VOLTS PER METER  ",qtip:"177",leaf:true},{text:"DEGREES PHASE  ",qtip:"14",leaf:true},{text:"POWER FACTOR  ",qtip:"15",leaf:true},{text:"WEBERS  ",qtip:"178",leaf:true}]},{text:"Energy",leaf:false,children:[{text:"JOULES  ",qtip:"16",leaf:true},{text:"KILOJOULES  ",qtip:"17",leaf:true},{text:"KILOJOULES PER KILOGRAM  ",qtip:"125",leaf:true},{text:"MEGAJOULES  ",qtip:"126",leaf:true},{text:"WATT HOURS  ",qtip:"18",leaf:true},{text:"KILOWATT HOURS  ",qtip:"19",leaf:true},{text:"MEGAWATT HOURS  ",qtip:"146",leaf:true},{text:"WATT HOURS REACTIVE  ",qtip:"203",leaf:true},{text:"KILOWATT HOURS REACTIVE  ",qtip:"204",leaf:true},{text:"MEGAWATT HOURS REACTIVE  ",qtip:"205",leaf:true},{text:"BTUS  ",qtip:"20",leaf:true},{text:"KILO BTUS  ",qtip:"147",leaf:true},{text:"MEGA BTUS  ",qtip:"148",leaf:true},{text:"THERMS  ",qtip:"21",leaf:true},{text:"TON HOURS  ",qtip:"22",leaf:true}]},{text:"Enthalpy",leaf:false,children:[{text:"JOULES PER KILOGRAM DRY AIR  ",qtip:"23",leaf:true},{text:"KILOJOULES PER KILOGRAM DRY AIR  ",qtip:"149",leaf:true},{text:"MEGAJOULES PER KILOGRAM DRY AIR  ",qtip:"150",leaf:true},{text:"BTUS PER POUND DRY AIR  ",qtip:"24",leaf:true},{text:"BTUS PER POUND  ",qtip:"117",leaf:true}]},{text:"Entropy",leaf:false,children:[{text:"JOULES PER DEGREE KELVIN  ",qtip:"127",leaf:true},{text:"KILOJOULES PER DEGREE KELVIN  ",qtip:"151",leaf:true},{text:"MEGAJOULES PER DEGREE KELVIN  ",qtip:"152",leaf:true},{text:"JOULES PER KILOGRAM DEGREE KELVIN  ",qtip:"128",leaf:true}]},{text:"Force",leaf:false,children:[{text:"NEWTON  ",qtip:"153",leaf:true}]},{text:"Frequency",leaf:false,children:[{text:"CYCLES PER HOUR  ",qtip:"25",leaf:true},{text:"CYCLES PER MINUTE  ",qtip:"26",leaf:true},{text:"HERTZ  ",qtip:"27",leaf:true},{text:"KILOHERTZ  ",qtip:"129",leaf:true},{text:"MEGAHERTZ  ",qtip:"130",leaf:true},{text:"PER HOUR  ",qtip:"131",leaf:true}]},{text:"Humidity",leaf:false,children:[{text:"GRAMS OF WATER PER KILOGRAM DRY AIR  ",qtip:"28",leaf:true},{text:"PERCENT RELATIVE HUMIDITY  ",qtip:"29",leaf:true}]},{text:"Length",leaf:false,children:[{text:"MICROMETERS  ",qtip:"194",leaf:true},{text:"MILLIMETERS  ",qtip:"30",leaf:true},{text:"CENTIMETERS  ",qtip:"118",leaf:true},{text:"KILOMETERS  ",qtip:"193",leaf:true},{text:"METERS  ",qtip:"31",leaf:true},{text:"INCHES  ",qtip:"32",leaf:true},{text:"FEET  ",qtip:"33",leaf:true}]},{text:"Light",leaf:false,children:[{text:"CANDELAS  ",qtip:"179",leaf:true},{text:"CANDELAS PER SQUARE METER  ",qtip:"180",leaf:true},{text:"WATTS PER SQUARE FOOT  ",qtip:"34",leaf:true},{text:"WATTS PER SQUARE METER  ",qtip:"35",leaf:true},{text:"LUMENS  ",qtip:"36",leaf:true},{text:"LUXES  ",qtip:"37",leaf:true},{text:"FOOT CANDLES  ",qtip:"38",leaf:true}]},{text:"Mass",leaf:false,children:[{text:"MILLIGRAMS  ",qtip:"196",leaf:true},{text:"GRAMS  ",qtip:"195",leaf:true},{text:"KILOGRAMS  ",qtip:"39",leaf:true},{text:"POUNDS MASS  ",qtip:"40",leaf:true},{text:"TONS  ",qtip:"41",leaf:true}]},{text:"Mass Flow",leaf:false,children:[{text:"GRAMS PER SECOND  ",qtip:"154",leaf:true},{text:"GRAMS PER MINUTE  ",qtip:"155",leaf:true},{text:"KILOGRAMS PER SECOND  ",qtip:"42",leaf:true},{text:"KILOGRAMS PER MINUTE  ",qtip:"43",leaf:true},{text:"KILOGRAMS PER HOUR  ",qtip:"44",leaf:true},{text:"POUNDS MASS PER SECOND  ",qtip:"119",leaf:true},{text:"POUNDS MASS PER MINUTE  ",qtip:"45",leaf:true},{text:"POUNDS MASS PER HOUR  ",qtip:"46",leaf:true},{text:"TONS PER HOUR  ",qtip:"156",leaf:true}]},{text:"Power",leaf:false,children:[{text:"MILLIWATTS  ",qtip:"132",leaf:true},{text:"WATTS  ",qtip:"47",leaf:true},{text:"KILOWATTS  ",qtip:"48",leaf:true},{text:"MEGAWATTS  ",qtip:"49",leaf:true},{text:"BTUS PER HOUR  ",qtip:"50",leaf:true},{text:"KILO BTUS PER HOUR  ",qtip:"157",leaf:true},{text:"HORSEPOWER  ",qtip:"51",leaf:true},{text:"TONS REFRIGERATION  ",qtip:"52",leaf:true}]},{text:"Pressure",leaf:false,children:[{text:"PASCALS  ",qtip:"53",leaf:true},{text:"HECTOPASCALS  ",qtip:"133",leaf:true},{text:"KILOPASCALS  ",qtip:"54",leaf:true},{text:"MILLIBARS  ",qtip:"134",leaf:true},{text:"BARS  ",qtip:"55",leaf:true},{text:"POUNDS FORCE PER SQUARE INCH  ",qtip:"56",leaf:true},{text:"MILLIMETERS OF WATER  ",qtip:"206",leaf:true},{text:"CENTIMETERS OF WATER  ",qtip:"57",leaf:true},{text:"INCHES OF WATER  ",qtip:"58",leaf:true},{text:"MILLIMETERS OF MERCURY  ",qtip:"59",leaf:true},{text:"CENTIMETERS OF MERCURY  ",qtip:"60",leaf:true},{text:"INCHES OF MERCURY  ",qtip:"61",leaf:true}]},{text:"Temperatrue",leaf:false,children:[{text:"DEGREES CELSIUS  ",qtip:"62",leaf:true},{text:"DEGREES KELVIN  ",qtip:"63",leaf:true},{text:"DEGREES KELVIN PER HOUR  ",qtip:"181",leaf:true},{text:"DEGREES KELVIN PER MINUTE  ",qtip:"182",leaf:true},{text:"DEGREES FAHRENHEIT  ",qtip:"64",leaf:true},{text:"DEGREE DAYS CELSIUS  ",qtip:"65",leaf:true},{text:"DEGREE DAYS FAHRENHEIT  ",qtip:"66",leaf:true},{text:"DELTA DEGREES FAHRENHEIT  ",qtip:"120",leaf:true},{text:"DELTA DEGREES KELVIN  ",qtip:"121",leaf:true}]},{text:"Time",leaf:false,children:[{text:"YEARS  ",qtip:"67",leaf:true},{text:"MONTHS  ",qtip:"68",leaf:true},{text:"WEEKS  ",qtip:"69",leaf:true},{text:"DAYS  ",qtip:"70",leaf:true},{text:"HOURS  ",qtip:"71",leaf:true},{text:"MINUTES  ",qtip:"72",leaf:true},{text:"SECONDS  ",qtip:"73",leaf:true},{text:"HUNDREDTHS SECONDS  ",qtip:"158",leaf:true},{text:"MILLISECONDS  ",qtip:"159",leaf:true}]},{text:"Torque",leaf:false,children:[{text:"NEWTON METERS  ",qtip:"160",leaf:true}]},{text:"Velocity",leaf:false,children:[{text:"MILLIMETERS PER SECOND  ",qtip:"161",leaf:true},{text:"MILLIMETERS PER MINUTE  ",qtip:"162",leaf:true},{text:"METERS PER SECOND  ",qtip:"74",leaf:true},{text:"METERS PER MINUTE  ",qtip:"163",leaf:true},{text:"METERS PER HOUR  ",qtip:"164",leaf:true},{text:"KILOMETERS PER HOUR  ",qtip:"75",leaf:true},{text:"FEET PER SECOND  ",qtip:"76",leaf:true},{text:"FEET PER MINUTE  ",qtip:"77",leaf:true},{text:"MILES PER HOUR  ",qtip:"78",leaf:true}]},{text:"Volume",leaf:false,children:[{text:"CUBIC FEET  ",qtip:"79",leaf:true},{text:"CUBIC METERS  ",qtip:"80",leaf:true},{text:"IMPERIAL GALLONS  ",qtip:"81",leaf:true},{text:"MILLILITERS  ",qtip:"197",leaf:true},{text:"LITERS  ",qtip:"82",leaf:true},{text:"US GALLONS  ",qtip:"83",leaf:true}]},{text:"Volumetric Flow",leaf:false,children:[{text:"CUBIC FEET PER SECOND  ",qtip:"142",leaf:true},{text:"CUBIC FEET PER MINUTE  ",qtip:"84",leaf:true},{text:"CUBIC FEET PER HOUR  ",qtip:"191",leaf:true},{text:"CUBIC METERS PER SECOND  ",qtip:"85",leaf:true},{text:"CUBIC METERS PER MINUTE  ",qtip:"165",leaf:true},{text:"CUBIC METERS PER HOUR  ",qtip:"135",leaf:true},{text:"IMPERIAL GALLONS PER MINUTE  ",qtip:"86",leaf:true},{text:"MILLILITERS PER SECOND  ",qtip:"198",leaf:true},{text:"LITERS PER SECOND  ",qtip:"87",leaf:true},{text:"LITERS PER MINUTE  ",qtip:"88",leaf:true},{text:"LITERS PER HOUR  ",qtip:"136",leaf:true},{text:"US GALLONS PER MINUTE  ",qtip:"89",leaf:true},{text:"US GALLONS PER HOUR  ",qtip:"192",leaf:true}]},{text:"Other",leaf:false,children:[{text:"DEGREES ANGULAR  ",qtip:"90",leaf:true},{text:"DEGREES CELSIUS PER HOUR  ",qtip:"91",leaf:true},{text:"DEGREES CELSIUS PER MINUTE  ",qtip:"92",leaf:true},{text:"DEGREES FAHRENHEIT PER HOUR  ",qtip:"93",leaf:true},{text:"DEGREES FAHRENHEIT PER MINUTE  ",qtip:"94",leaf:true},{text:"JOULE SECONDS  ",qtip:"183",leaf:true},{text:"KILOGRAMS PER CUBIC METER  ",qtip:"186",leaf:true},{text:"KW HOURS PER SQUARE METER  ",qtip:"137",leaf:true},{text:"KW HOURS PER SQUARE FOOT  ",qtip:"138",leaf:true},{text:"MEGAJOULES PER SQUARE METER  ",qtip:"139",leaf:true},{text:"MEGAJOULES PER SQUARE FOOT  ",qtip:"140",leaf:true},{text:"NO     ",qtip:"95",leaf:true},{text:"NEWTON SECONDS  ",qtip:"187",leaf:true},{text:"NEWTONS PER METER  ",qtip:"188",leaf:true},{text:"PARTS PER MILLION  ",qtip:"96",leaf:true},{text:"PARTS PER BILLION  ",qtip:"97",leaf:true},{text:"PERCENT  ",qtip:"98",leaf:true},{text:"PERCENT OBSCURATION PER FOOT  ",qtip:"143",leaf:true},{text:"PERCENT OBSCURATION PER METER  ",qtip:"144",leaf:true},{text:"PERCENT PER SECOND  ",qtip:"99",leaf:true},{text:"PER MINUTE  ",qtip:"100",leaf:true},{text:"PER SECOND  ",qtip:"101",leaf:true},{text:"PSI PER DEGREE FAHRENHEIT  ",qtip:"102",leaf:true},{text:"RADIANS  ",qtip:"103",leaf:true},{text:"RADIANS PER SECOND  ",qtip:"184",leaf:true},{text:"REVOLUTIONS PER MINUTE  ",qtip:"104",leaf:true},{text:"SQUARE METERS PER NEWTON  ",qtip:"185",leaf:true},{text:"WATTS PER METER PER DEGREE KELVIN  ",qtip:"189",leaf:true},{text:"WATTS PER SQUARE METER DEGREE KELVIN  ",qtip:"141",leaf:true},{text:"PER MILLE  ",qtip:"207",leaf:true},{text:"GRAMS PER GRAM  ",qtip:"208",leaf:true},{text:"KILOGRAMS PER KILOGRAM  ",qtip:"209",leaf:true},{text:"GRAMS PER KILOGRAM  ",qtip:"210",leaf:true},{text:"MILLIGRAMS PER GRAM  ",qtip:"211",leaf:true},{text:"MILLIGRAMS PER KILOGRAM  ",qtip:"212",leaf:true},{text:"GRAMS PER MILLILITER  ",qtip:"213",leaf:true},{text:"GRAMS PER LITER  ",qtip:"214",leaf:true},{text:"MILLIGRAMS PER LITER  ",qtip:"215",leaf:true},{text:"MICROGRAMS PER LITER  ",qtip:"216",leaf:true},{text:"GRAMS PER CUBIC METER  ",qtip:"217",leaf:true},{text:"MILLIGRAMS PER CUBIC METER  ",qtip:"218",leaf:true},{text:"MICROGRAMS PER CUBIC METER  ",qtip:"219",leaf:true},{text:"NANOGRAMS PER CUBIC METER  ",qtip:"220",leaf:true},{text:"GRAMS PER CUBIC CENTIMETER  ",qtip:"221",leaf:true},{text:"BECQUERELS  ",qtip:"222",leaf:true},{text:"MEGABECQUERELS  ",qtip:"224",leaf:true},{text:"GRAY  ",qtip:"225",leaf:true},{text:"MILLIGRAY  ",qtip:"226",leaf:true},{text:"MICROGRAY  ",qtip:"227",leaf:true},{text:"SIEVERTS  ",qtip:"228",leaf:true},{text:"MILLISIEVERTS  ",qtip:"229",leaf:true},{text:"MICROSIEVERTS  ",qtip:"230",leaf:true},{text:"MICROSIEVERTS PER HOUR  ",qtip:"231",leaf:true},{text:"DECIBELS A  ",qtip:"232",leaf:true},{text:"NEPHELOMETRIC TURBIDITY UNIT  ",qtip:"233",leaf:true},{text:"PH  ",qtip:"234",leaf:true},{text:"GRAMS PER SQUARE METER  ",qtip:"235",leaf:true},{text:"MINUTES PER DEGREE KELVIN  ",qtip:"236",leaf:true}]}]}}),zh:Ext.create("Ext.data.TreeStore",{root:{expanded:true,children:[{text:"加速",leaf:false,children:[{text:"每秒米每秒 ",qtip:"166",leaf:true}]},{text:"面积",leaf:false,children:[{text:"平方米 ",qtip:"0",leaf:true},{text:"平方厘米 ",qtip:"116",leaf:true},{text:"平方英尺 ",qtip:"1",leaf:true},{text:"平方英寸 ",qtip:"115",leaf:true}]},{text:"货币",leaf:false,children:[{text:"流通1 ",qtip:"105",leaf:true},{text:"流通2 ",qtip:"106",leaf:true},{text:"流通3 ",qtip:"107",leaf:true},{text:"流通4 ",qtip:"108",leaf:true},{text:"流通5 ",qtip:"109",leaf:true},{text:"流通6 ",qtip:"110",leaf:true},{text:"流通7 ",qtip:"111",leaf:true},{text:"流通8 ",qtip:"112",leaf:true},{text:"流通9 ",qtip:"113",leaf:true},{text:"流通10 ",qtip:"114",leaf:true}]},{text:"电气",leaf:false,children:[{text:"毫安 ",qtip:"2",leaf:true},{text:"安培 ",qtip:"3",leaf:true},{text:"安培 每米 ",qtip:"167",leaf:true},{text:"安培 每平方米 ",qtip:"168",leaf:true},{text:"安培平方米 ",qtip:"169",leaf:true},{text:"分贝 ",qtip:"199",leaf:true},{text:"分贝毫伏 ",qtip:"200",leaf:true},{text:"分贝伏 ",qtip:"201",leaf:true},{text:"法拉 ",qtip:"170",leaf:true},{text:"亨利 ",qtip:"171",leaf:true},{text:"欧姆 ",qtip:"4",leaf:true},{text:"欧姆表 ",qtip:"172",leaf:true},{text:"毫欧 ",qtip:"145",leaf:true},{text:"千欧 ",qtip:"122",leaf:true},{text:"兆欧 ",qtip:"123",leaf:true},{text:"微西门子 ",qtip:"190",leaf:true},{text:"毫西门子 ",qtip:"202",leaf:true},{text:"西门子 ",qtip:"173",leaf:true},{text:"西门子每米 ",qtip:"174",leaf:true},{text:"特斯拉 ",qtip:"175",leaf:true},{text:"伏 ",qtip:"5",leaf:true},{text:"毫伏 ",qtip:"124",leaf:true},{text:"千伏 ",qtip:"6",leaf:true},{text:"兆伏 ",qtip:"7",leaf:true},{text:"伏安 ",qtip:"8",leaf:true},{text:"千伏安 ",qtip:"9",leaf:true},{text:"兆伏安 ",qtip:"10",leaf:true},{text:"无功伏安 ",qtip:"11",leaf:true},{text:"千伏安反应 ",qtip:"12",leaf:true},{text:"兆伏安反应 ",qtip:"13",leaf:true},{text:"每开尔文 伏特 ",qtip:"176",leaf:true},{text:"每米的电压 ",qtip:"177",leaf:true},{text:"度相 ",qtip:"14",leaf:true},{text:"功率因数 ",qtip:"15",leaf:true},{text:"韦伯 ",qtip:"178",leaf:true},{text:"热量",leaf:false,children:[{text:"焦耳 ",qtip:"16",leaf:true},{text:"千焦耳 ",qtip:"17",leaf:true},{text:"焦 每公斤 ",qtip:"125",leaf:true},{text:"兆焦耳 ",qtip:"126",leaf:true},{text:"瓦特小时 ",qtip:"18",leaf:true},{text:"千瓦小时 ",qtip:"19",leaf:true},{text:"兆瓦小时 ",qtip:"146",leaf:true},{text:"瓦特小时反应性 ",qtip:"203",leaf:true},{text:"千瓦时反应性 ",qtip:"204",leaf:true},{text:"兆瓦小时反应 ",qtip:"205",leaf:true},{text:"热量 ",qtip:"20",leaf:true},{text:"热量 公斤 ",qtip:"147",leaf:true},{text:"巨型热量 ",qtip:"148",leaf:true},{text:"千卡 ",qtip:"21",leaf:true},{text:"吨小时 ",qtip:"22",leaf:true}]}]},{text:"焓",leaf:false,children:[{text:"焦耳每公斤干空气 ",qtip:"23",leaf:true},{text:"焦 每公斤干空气 ",qtip:"149",leaf:true},{text:"焦耳 每公斤干空气 ",qtip:"150",leaf:true},{text:"英国热量单位每磅干空气 ",qtip:"24",leaf:true},{text:"英国热量单位每磅 ",qtip:"117",leaf:true}]},{text:"熵",leaf:false,children:[{text:"每开尔文 焦耳 ",qtip:"127",leaf:true},{text:"每开尔文 焦 ",qtip:"151",leaf:true},{text:"每开尔文 焦耳 ",qtip:"152",leaf:true},{text:"每公斤开尔文 焦耳 ",qtip:"128",leaf:true}]},{text:"重量",leaf:false,children:[{text:"牛顿 ",qtip:"153",leaf:true}]},{text:"频率",leaf:false,children:[{text:"每小时周期 ",qtip:"25",leaf:true},{text:"每分钟周期 ",qtip:"26",leaf:true},{text:"赫兹 ",qtip:"27",leaf:true},{text:"千赫 ",qtip:"129",leaf:true},{text:"兆赫 ",qtip:"130",leaf:true},{text:"每小时 ",qtip:"131",leaf:true}]},{text:"湿度",leaf:false,children:[{text:"克水每公斤干空气 ",qtip:"28",leaf:true},{text:"相对湿度百分比 ",qtip:"29",leaf:true}]},{text:"长度",leaf:false,children:[{text:"微米 ",qtip:"194",leaf:true},{text:"毫米 ",qtip:"30",leaf:true},{text:"厘米 ",qtip:"118",leaf:true},{text:"公里 ",qtip:"193",leaf:true},{text:"米 ",qtip:"31",leaf:true},{text:"英寸 ",qtip:"32",leaf:true},{text:"英尺 ",qtip:"33",leaf:true}]},{text:"照度",leaf:false,children:[{text:"烛光 ",qtip:"179",leaf:true},{text:"坎德拉每平方米 ",qtip:"180",leaf:true},{text:"瓦特每平方英尺 ",qtip:"34",leaf:true},{text:"瓦特每平方米 ",qtip:"35",leaf:true},{text:"流明 ",qtip:"36",leaf:true},{text:"勒克斯 ",qtip:"37",leaf:true},{text:"英尺烛光 ",qtip:"38",leaf:true}]},{text:"质量",leaf:false,children:[{text:"毫克 ",qtip:"196",leaf:true},{text:"克 ",qtip:"195",leaf:true},{text:"公斤 ",qtip:"39",leaf:true},{text:"磅质量 ",qtip:"40",leaf:true},{text:"吨 ",qtip:"41",leaf:true}]},{text:"流质量",leaf:false,children:[{text:"克每秒 ",qtip:"154",leaf:true},{text:"每分钟克 ",qtip:"155",leaf:true},{text:"每秒公斤 ",qtip:"42",leaf:true},{text:"每分钟公斤 ",qtip:"43",leaf:true},{text:"每小时公斤 ",qtip:"44",leaf:true},{text:"每秒磅质量 ",qtip:"119",leaf:true},{text:"每分钟体重 ",qtip:"45",leaf:true},{text:"每小时体重 ",qtip:"46",leaf:true},{text:"每小时吨 ",qtip:"156",leaf:true}]},{text:"电源",leaf:false,children:[{text:"毫瓦 ",qtip:"132",leaf:true},{text:"瓦 ",qtip:"47",leaf:true},{text:"千瓦 ",qtip:"48",leaf:true},{text:"兆瓦 ",qtip:"49",leaf:true},{text:"英国热量单位每小时 ",qtip:"50",leaf:true},{text:"BTU每小时 = 公斤",qtip:"157",leaf:true},{text:"马力 ",qtip:"51",leaf:true},{text:"吨制冷 ",qtip:"52",leaf:true}]},{text:"压力",leaf:false,children:[{text:"帕斯卡 ",qtip:"53",leaf:true},{text:"百帕 ",qtip:"133",leaf:true},{text:"千帕斯卡 ",qtip:"54",leaf:true},{text:"毫巴 ",qtip:"134",leaf:true},{text:"酒吧 ",qtip:"55",leaf:true},{text:"每平方英寸磅力 ",qtip:"56",leaf:true},{text:"毫米的水 ",qtip:"206",leaf:true},{text:"厘米水 ",qtip:"57",leaf:true},{text:"英寸的水 ",qtip:"58",leaf:true},{text:"毫米汞 ",qtip:"59",leaf:true},{text:"厘米汞 ",qtip:"60",leaf:true},{text:"英寸汞 ",qtip:"61",leaf:true}]},{text:"温度",leaf:false,children:[{text:"摄氏度",qtip:"62",leaf:true},{text:"开尔文",qtip:"63",leaf:true},{text:"开尔文每小时 ",qtip:"181",leaf:true},{text:"开尔文每分钟 ",qtip:"182",leaf:true},{text:"华氏度 ",qtip:"64",leaf:true},{text:"摄氏度 ",qtip:"65",leaf:true},{text:"华氏度 ",qtip:"66",leaf:true},{text:"华氏度 ",qtip:"120",leaf:true},{text:"三角度 ",qtip:"121",leaf:true}]},{text:"时间",leaf:false,children:[{text:"年 ",qtip:"67",leaf:true},{text:"个月 ",qtip:"68",leaf:true},{text:"周 ",qtip:"69",leaf:true},{text:"天 ",qtip:"70",leaf:true},{text:"小时 ",qtip:"71",leaf:true},{text:"分钟 ",qtip:"72",leaf:true},{text:"秒 ",qtip:"73",leaf:true},{text:"百秒 ",qtip:"158",leaf:true},{text:"毫秒 ",qtip:"159",leaf:true}]},{text:"扭矩",leaf:false,children:[{text:"牛顿米 ",qtip:"160",leaf:true}]},{text:"速度",leaf:false,children:[{text:"每第二毫米 ",qtip:"161",leaf:true},{text:"每分钟毫米 ",qtip:"162",leaf:true},{text:"每秒米 ",qtip:"74",leaf:true},{text:"每分钟米 ",qtip:"163",leaf:true},{text:"每小时米 ",qtip:"164",leaf:true},{text:"每小时公里数 ",qtip:"75",leaf:true},{text:"每第二英尺 ",qtip:"76",leaf:true},{text:"每分钟英尺 ",qtip:"77",leaf:true},{text:"每小时英里数 ",qtip:"78",leaf:true}]},{text:"体积",leaf:false,children:[{text:"立方英尺 ",qtip:"79",leaf:true},{text:"立方米 ",qtip:"80",leaf:true},{text:"帝国加仑 ",qtip:"81",leaf:true},{text:"毫升 ",qtip:"197",leaf:true},{text:"升 ",qtip:"82",leaf:true},{text:"美国加仑 ",qtip:"83",leaf:true}]},{text:"体积流量",leaf:false,children:[{text:"每第二次立方英尺 ",qtip:"142",leaf:true},{text:"每分钟立方英尺 ",qtip:"84",leaf:true},{text:"每小时立方英尺 ",qtip:"191",leaf:true},{text:"每秒立方米 ",qtip:"85",leaf:true},{text:"每分钟立方米 ",qtip:"165",leaf:true},{text:"每小时立方米 ",qtip:"135",leaf:true},{text:"帝国加仑每分钟 ",qtip:"86",leaf:true},{text:"每秒 毫升",qtip:"198",leaf:true},{text:"升每秒 ",qtip:"87",leaf:true},{text:"每分钟升 ",qtip:"88",leaf:true},{text:"升每小时 ",qtip:"136",leaf:true},{text:"美国加仑每分钟 ",qtip:"89",leaf:true},{text:"美国加仑每小时 ",qtip:"192",leaf:true}]},{text:"其他",leaf:false,children:[{text:"度角",qtip:"90",leaf:true},{text:"每小时 摄氏度 ",qtip:"91",leaf:true},{text:"摄氏度 每分钟 ",qtip:"92",leaf:true},{text:"华氏度每小时 ",qtip:"93",leaf:true},{text:"华氏度 华氏每分钟 ",qtip:"94",leaf:true},{text:"焦耳秒 ",qtip:"183",leaf:true},{text:"每立方米公斤 公斤 ",qtip:"186",leaf:true},{text:"千瓦小时每平方米 ",qtip:"137",leaf:true},{text:"千瓦小时每平方英尺 ",qtip:"138",leaf:true},{text:"每平方米 焦耳 ",qtip:"139 ",leaf:true},{text:"每平方英尺 焦耳 ",qtip:"140 ",leaf:true},{text:"NO ",qtip:"95",leaf:true},{text:"牛顿秒 ",qtip:"187",leaf:true},{text:"牛顿 每米 ",qtip:"188",leaf:true},{text:"百万分之 ",qtip:"96",leaf:true},{text:"十亿分 ",qtip:"97",leaf:true},{text:"百分比 ",qtip:"98",leaf:true},{text:"每英尺 分的蒙昧 ",qtip:"143",leaf:true},{text:"%的遮拦每米 ",qtip:"144",leaf:true},{text:"每第二个百分比 ",qtip:"99",leaf:true},{text:"每分钟 ",qtip:"100",leaf:true},{text:"每第二 ",qtip:"101",leaf:true},{text:"PSI每华氏度",qtip:"102",leaf:true},{text:"弧度 ",qtip:"103",leaf:true},{text:"弧度每秒 ",qtip:"184",leaf:true},{text:"每分钟革命 ",qtip:"104",leaf:true},{text:"每牛顿平方米 ",qtip:"185",leaf:true},{text:"米的瓦 每开尔文 ",qtip:"189",leaf:true},{text:"瓦 每平方米开尔文 ",qtip:"141",leaf:true},{text:"\u2030 ",qtip:"207",leaf:true},{text:"克每克 ",qtip:"208",leaf:true},{text:"每公斤公斤 ",qtip:"209",leaf:true},{text:"克每公斤 ",qtip:"210",leaf:true},{text:"毫克 克 ",qtip:"211",leaf:true},{text:"毫克每公斤 ",qtip:"212",leaf:true},{text:"每毫升 克 ",qtip:"213",leaf:true},{text:"每升克 克 ",qtip:"214",leaf:true},{text:"毫克每升 ",qtip:"215",leaf:true},{text:"微克每升 ",qtip:"216",leaf:true},{text:"克每立方米 克 ",qtip:"217",leaf:true},{text:"毫克每立方米 ",qtip:"218",leaf:true},{text:"微克每立方米 ",qtip:"219",leaf:true},{text:"毫微克 每立方米 ",qtip:"220",leaf:true},{text:"克每立方厘米 ",qtip:"221",leaf:true},{text:"贝可 ",qtip:"222",leaf:true},{text:"megabecquerels ",qtip:"224",leaf:true},{text:"灰色 ",qtip:"225",leaf:true},{text:"毫戈瑞 ",qtip:"226",leaf:true},{text:"为微 ",qtip:"227",leaf:true},{text:"辐射 ",qtip:"228",leaf:true},{text:"毫 ",qtip:"229",leaf:true},{text:"微希沃特 ",qtip:"230",leaf:true},{text:"微西弗 小时 ",qtip:"231",leaf:true},{text:"分贝 ",qtip:"232",leaf:true},{text:"浊度单位 ",qtip:"233",leaf:true},{text:"pH ",qtip:"234",leaf:true},{text:"每平方米克克 平方米 ",qtip:"235",leaf:true},{text:"分钟 每开尔文 ",qtip:"236",leaf:true}]}]}})}},0,0,0,0,["viewmodel.window-attributetablewin"],0,[program.view.window,"AttributeTableWinModel"],0));(Ext.cmd.derive("program.view.window.BackupController",Ext.app.ViewController,{},0,0,0,0,["controller.window-backup"],0,[program.view.window,"BackupController"],0));(Ext.cmd.derive("program.view.window.BackupModel",Ext.app.ViewModel,{data:{name:"program"}},0,0,0,0,["viewmodel.window-backup"],0,[program.view.window,"BackupModel"],0));(Ext.cmd.derive("program.view.window.DrawWeeksWindowController",Ext.app.ViewController,{nextHandler:function(h){$(".week").hide();var g=this.view;g.fireEvent("divDataToJson");var i=Ext.data.StoreManager.lookup("drawWindowStore");i.setData(g.dwPars.drawWindowData);Ext.getCmp("drawWindow_previous").show()},PreviousHandler:function(j){var h=this.view;var i=this;$(".week").remove();Ext.getCmp("drawWindow_next").show();var k=i.gridDataToJson();h.fireEvent("dwParsInit");h.fireEvent("jsonToDivData",k)},OkHandler:function(){var h=this;var g=this.view;var i=g.viewModel;i.data.modify["0"]=false;h.savePublish();g.close()},modifyHandler:function(){var h=this;var g=this.view;var i=g.viewModel;i.data.modify["0"]=true;h.savePublish();g.close()},savePublish:function(){var j=this;var i=this.view;if(i.layout.activeItem.xtype=="gridpanel"){i.fireEvent("PreviousHandler")}else{i.fireEvent("nextHandler")}var h=j.divDataToJson();console.log(h);Ext.Ajax.request({url:MyConfig.apiUrl+"?par=changevaluenopublish&nodename="+i.sDevNodeName+"&type=Weekly_Schedule",params:{value:Ext.encode(h.weekly)},success:function(d){var c=d.responseText;delayToast("Status","Changes saved successfully .",1000)}});var k=i.sDevNodeName.substr(0,4);if(i.sDevName!=getNetNumberValue()){devPublish(k+".8.*",i.sDevNodeName+"\r\nWeekly_Schedule\r\n"+(Ext.encode(h.pubweekly)).replaceAll("\\s*|\t|\r|\n",""))}},weekDivAddEvent:function(e){var g=this.view;e.hover(function(){var c=new Date(e.attr("startTime"));var d=new Date(e.attr("endTime"));console.log(e.attr("startTime"));console.log(e.attr("endTime"));Ext.create("Ext.tip.ToolTip",{target:e.attr("id"),"float":true,trackMouse:true,showDelay:0,hideDelay:100,dissmissDelay:30000,html:"StartTime:"+c.toTimeString()+"<br>EndTime:&nbsp;"+d.toTimeString()})},function(){});e.contextmenu(function(c){c.stopPropagation();Ext.create("Ext.menu.Menu",{width:100,plain:true,x:c.pageX,y:c.pageY,autoShow:true,floating:true,items:[{text:"Copy Time",handler:function(){g.copydiv=e}},{text:"Delete Time",handler:function(){e.remove()}}]});return false});Ext.create("Ext.resizer.Resizer",{target:e[0],handles:"n,s",maxHeight:g.dwPars.bMaxHeight,minHeight:1,pinned:true,listeners:{resize:function(A,z,C,w,v){console.log(A);var t=A.el.dom;var y=t.className.split(" ");t.className=y.map(function(i,h){if(i.substr(0,3)=="old"){return"new"+i.substr(3,i.length)}else{return i}}).join(" ");var x=g.getTimeByLocation(parseInt(e.css("Top"))-g.dwPars.bMarginTop);var c=g.getTimeByLocation(parseInt(e.css("Top"))-g.dwPars.bMarginTop+parseInt(e.css("height")));e.attr("startTime",x).attr("endTime",c);var u=A.el.getTop(true);if(u<g.dwPars.bMarginTop){A.el.setTop(g.dwPars.bMarginTop+"px")}var d=C+u;if(d>g.dwPars.bMarginTopHeight){var B=d-g.dwPars.bMarginTopHeight;A.el.setTop(u-B)}}}})},weekDivResetPosition:function(y){var i=this.view;var I=i.dwPars.WeekArrJson;var B=i.dwPars.oCanvas;var H=i.dwPars.oneDay;var A=i.dwPars.bMarginTop;var x=i.dwPars.ShowWeekArr;var G=i.dwPars.WeekArr;for(var C=0;C<G.length;C++){var L=document.querySelectorAll("."+G[C]);if(L.length>0){for(var D=0;D<L.length;D++){var K=new Date($(L[D]).attr("starttime"));var J=parseInt(B.css("height"))*((K-2649600000)/H);var E=new Date($(L[D]).attr("endtime"));var F=parseInt(B.css("height"))*((E-2649600000)/H);$(L[D]).animate({top:J+A,height:F-J},1000)}}}var z=$(".week");for(var C=0;C<z.length;C++){for(var D=0;D<I.length;D++){if($(z[C]).hasClass(I[D].name)){if(y){$(z[C]).css("left",i.dwPars.dw.el.getWidth()/2.5);function j(){for(var c=0;c<10;c++){var d=(Math.random()*2.5);if(d>2&d<2.5){return d}}return 2}$(z[C]).animate({left:I[D].left},1000)}else{$(z[C]).css("left",I[D].left)}}}}},getDivData:function(){var j=this;var I={Weekly_Schedule:{}};var J={Weekly_Schedule:[]};j.dwPars.drawWindowData=[];var L=j.dwPars.WeekArr;for(var A=0;A<L.length;A++){var P=document.querySelectorAll("."+L[A]);var N=document.querySelectorAll(".new"+L[A]);var M=document.querySelectorAll(".old"+L[A]);var F=!(M.length==j.dwPars.WeekArrJson[A].oldCount);if(N.length>0){F=true}console.info(F);I.Weekly_Schedule[L[A]]=[];var O=[];J.Weekly_Schedule.push({day:A+1,value:O});if(P.length>0){for(var B=0;B<P.length;B++){console.log(P);var K=new Date($(P[B]).attr("starttime"));var i=new Date($(P[B]).attr("endtime"));var D=K.getHours();var G=K.getMinutes();var H=K.getSeconds();var z=i.getHours();var C=i.getMinutes();var E=i.getSeconds();j.dwPars.drawWindowData.push({divId:P[B].id,SortWeek:(A+1)+"_"+L[A],Week:L[A],StartTime:D+":"+G+":"+H,EndTime:z+":"+C+":"+E});if(F){O.push({time:{hour:D,minute:G,second:H,hundredths:1},value:true},{time:{hour:z,minute:C,second:E,hundredths:1},value:false})}I.Weekly_Schedule[L[A]].push({time:{hour:D,minute:G,second:H,hundredths:1},value:true},{time:{hour:z,minute:C,second:E,hundredths:1},value:false})}}if(O.length==0){J.Weekly_Schedule.pop()}}console.log(Ext.encode(I));return{weekly:I,pubweekly:I}},gridDataToJson:function(){var s=this.view;var j=Ext.data.StoreManager.lookup("drawWindowStore");var z=s.dwPars.WeekArr;var r={Weekly_Schedule:{}};for(var t=0;t<z.length;t++){var w=[];var i=j.queryRecords("Week",z[t]);for(var v=0;v<i.length;v++){console.log(i[v]);var x=i[v].data;var y=x.time.split(":");var u={dirty:i[v].dirty,time:{hour:Number(y[0]),minute:Number(y[1]),second:Number(y[2]),hundredths:1},value:x.value};w.push(u)}r.Weekly_Schedule[z[t]]=w}console.log(r);return r},divDataToJson:function(){var L=this.view;var T=L.viewModel;var N=T.data.modify["0"];var P={Weekly_Schedule:{}};var Q={Weekly_Schedule:[]};L.dwPars.drawWindowData=[];var G=L.dwPars.WeekArr;console.log(G);for(var C=0;C<G.length;C++){var E=C;var V=document.querySelectorAll("."+G[E]);P.Weekly_Schedule[G[E]]=[];var U=[];Q.Weekly_Schedule.push({day:E+1,value:U});if(V.length>0){for(var D=0;D<V.length;D++){var R=new Date($(V[D]).attr("starttime"));var K=new Date($(V[D]).attr("endtime"));var I=R.getHours();var M=R.getMinutes();var O=R.getSeconds();var i=K.getHours();var F=K.getMinutes();var J=K.getSeconds();var H=V[D].className.includes("old");var S=V[D].className.indexOf("weekhide")>=0;L.dwPars.drawWindowData.push({Week:G[E],hours:I,minutes:M,seconds:O,time:I+":"+M+":"+O,value:!S});L.dwPars.drawWindowData.push({Week:G[E],hours:i,minutes:F,seconds:J,time:i+":"+F+":"+J,value:false});U.push({time:{hour:I,minute:M,second:O,hundredths:1},value:true},{time:{hour:i,minute:F,second:J,hundredths:1},value:false});if(N&H){U.pop();U.pop()}P.Weekly_Schedule[G[E]].push({time:{hour:I,minute:M,second:O,hundredths:1},value:!S},{time:{hour:i,minute:F,second:J,hundredths:1},value:false})}}}for(var C=0;C<G.length;C++){var j=P.Weekly_Schedule[G[C]];if(j.length>0){var j=j.sort(function(c,d){var e=new Date(1970,1,1,c.time.hour,c.time.minute,c.time.second).getTime();var g=new Date(1970,1,1,d.time.hour,d.time.minute,d.time.second).getTime();return e-g});P.Weekly_Schedule[G[C]]=j}}return{weekly:P,pubweekly:Q}},jsonToDivData:function(j){console.log(j);var i=this.view;var d=this;var C=i.dwPars.WeekArr;for(var x=0;x<C.length;x++){var y=j.Weekly_Schedule[C[x]];if(y){var z=y.filter(function(c){return c.value}).sort(E);var D=y.filter(function(c){return !c.value}).sort(E);console.log(z);console.log(D);var A=0;var v=C[x];for(;A<z.length;A++){var F="old"+v;if(!!z[A]&!!D[A]){if(z[A].dirty||D[A].dirty){F="new"+v}}i.addDayDiv(w(z[A]),w(D[A]),[v,F])}var B=D.slice(z.length,D.length);for(A=0;A<B.length;A+=2){var F="old"+v;if(!!z[A]&!!D[A]){if(z[A].dirty||D[A].dirty){F="new"+v}}i.addDayDiv(w(B[A]),w(B[A+1]),[v,"weekhide",F])}}}function w(c){if(c){return new Date(1970,1,1,c.time.hour,c.time.minute,c.time.second)}else{return false}}d.weekDivResetPosition(true);function E(c,e){var g=w(c);var h=w(e);return g.getTime()>h.getTime()}},drawWindowAddDiv:function(d){this.jsonToDivData(d)},dwParsInit:function(g){var h=this.view;var i=this;if(h.el.dom.querySelectorAll("canvas").length<5){return}h.dwPars=(function(){var F=[];var W=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];var U=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];var R=[{name:"monday",left:"",oldCount:0},{name:"tuesday",left:"",oldCount:0},{name:"wednesday",left:"",oldCount:0},{name:"thursday",left:"",oldCount:0},{name:"friday",left:"",oldCount:0},{name:"saturday",left:"",oldCount:0},{name:"sunday",left:"",oldCount:0}];var L=h;var P=$(L.el.dom.querySelectorAll("canvas")[4]);var H=86400000;var O=100;var J=L.el.getLeft(true);var I=L.el.getTop(true);var Y=P.offset().left-J;var N=P.attr("width");var M=(N-O*W.length)/7;var c=P.offset().top-I-6;var G=Y+M/2-6;var X=[];X.push(G);R[0]["left"]=G;var T=G;for(var e=0;e<7;e++){var K=Math.ceil(G+=O+M);X.push(K);if(e<6){R[e+1]["left"]=K}}X.push(X.shift());console.log(X);for(var e=0;e<R.length;e++){R[e].left=X[e]}R[6].left=T;console.log(R);var V=P.attr("height");var Q=parseInt(c)+parseInt(V);function S(){var j=$("<div></div>");j.css("width","100px").css("height","20px").css("backgroundColor","rgba(91,164,60,1)").css("zIndex","9").css("position","absolute").addClass("week").attr("id","bar"+Math.floor(Math.random()*100000000000000));return j}var d={ShowWeekArr:U,WeekArrJson:R,dw:L,oCanvas:P,oneDay:H,bWidth:O,winOffsetLeft:J,winOffsetTop:I,bMarginLeft:Y,bMaxWidth:N,interval:M,bMarginTop:c,startPoint:G,posLeftArr:X,bMaxHeight:V,bMarginTopHeight:Q,div:S,WeekArr:W,drawWindowData:F};console.log(d);return d})()},boxready:function(){var i=this.view;var j=this;var k=setInterval(h,1);function h(){var c=i.el.dom.querySelectorAll("canvas").length;if(c>4){j.dwParsInit(c);clearInterval(k);Ext.MessageBox.progress("Message",{msg:"Server Ready ..."});var d=0;var e=setInterval(function(){Ext.MessageBox.updateProgress(d/9,"Loading,please wait... ");d++;if(d==10){clearInterval(e);Ext.MessageBox.close();myAjax(MyConfig.apiUrl+"?par=getvalue&nodename="+i.sDevNodeName+"&type=Weekly_Schedule",function(p){try{var g=Ext.decode(p.responseText);if(g){j.jsonToDivData(g)}}catch(n){Ext.Msg.alert("Error","load data failure .");throw n}})}},100)}}},insertWeek:function(){var h=this.view;var i=this.view.down("gridpanel");var g=Ext.create("Ext.window.Window",{title:"insert",autoShow:true,buttons:[{text:"Ok",handler:function(){var e=Ext.createByAlias("WeekModel");var k=Ext.createByAlias("WeekModel");var c=g.down("form");var d=c.getValues();e.set("Week",d.Week);e.set("time",d.startTime);e.set("value",d.startActivation);k.set("Week",d.Week);k.set("time",d.endTime);k.set("value",d.endActivation);console.log(e,k);i.store.add(e);delayToast("Massage","Insert Ok .")}},{text:"Close",handler:function(){g.close()}}],items:{xtype:"form",defaults:{margin:10,editable:false},scrollable:"y",listeners:{boxready:function(c){}},items:[{xtype:"combo",name:"Week",store:h.dwPars.WeekArr,allowBlank:false,fieldLabel:"week",value:"monday"},{xtype:"spinnerfield",name:"startTime",fieldLabel:"start time",allowBlank:false,validator:My.isTime,value:"0:0:1",onSpinUp:My.onSpinUp,onSpinDown:My.onSpinDown,editable:true},{xtype:"combo",name:"startActivation",fieldLabel:"activation",store:Ext.create("Ext.data.Store",{fields:["name","value"],data:[{name:"on",value:true},{name:"off",value:false}]}),displayField:"name",valueField:"value",autoSelect:true,listeners:{render:function(c){console.log(c);c.setValue(c.store.getAt(1))}}},{xtype:"spinnerfield",name:"endTime",fieldLabel:"end time",allowBlank:false,validator:My.isTime,value:"23:59:59",onSpinUp:My.onSpinUp,onSpinDown:My.onSpinDown,editable:true,hidden:true},{xtype:"combo",name:"endActivation",fieldLabel:"activation",store:Ext.create("Ext.data.Store",{fields:["name","value"],data:[{name:"on",value:true},{name:"off",value:false}]}),displayField:"name",valueField:"value",listeners:{render:function(c){console.log(c);c.setValue(c.store.getAt(1))}},hidden:true}]}})}},0,0,0,0,["controller.window-drawweekswindow"],0,[program.view.window,"DrawWeeksWindowController"],0));function testNumAdd(){var i=50;var g=0;for(var h=0;h<652;h++){i+=50;g+=i}console.log(g)}(Ext.cmd.derive("program.view.window.DrawWeeksWindowModel",Ext.app.ViewModel,{data:{name:"program",modify:[{0:false}]}},0,0,0,0,["viewmodel.window-drawweekswindow"],0,[program.view.window,"DrawWeeksWindowModel"],0));(Ext.cmd.derive("program.view.window.EditFileController",Ext.app.ViewController,{replaceClick:function(){console.log(this);var g=this.view;console.log(g);var e=Ext.create("Ext.window.Window",{title:"Replace \u2022\u2022\u2022",frame:true,width:325,bodyPadding:10,autoShow:true,defaultType:"textfield",defaults:{anchor:"100%",margin:10},items:[{itemId:"oldvalue",xtype:"textfield",allowBlank:false,fieldLabel:"old value"},{itemId:"newvalue",xtype:"textfield",allowBlank:false,fieldLabel:"new value"}],buttons:[{text:"Ok",handler:function(){var d=e.getComponent("oldvalue").getValue();var c=e.getComponent("newvalue").getValue();g.textArea.setValue(g.textArea.value.replaceAll(d,c))}},{text:"Cancel",handler:function(){e.close()}}]})}},0,0,0,0,["controller.window-editfile"],0,[program.view.window,"EditFileController"],0));(Ext.cmd.derive("program.view.window.EditFileModel",Ext.app.ViewModel,{data:{name:"program"}},0,0,0,0,["viewmodel.window-editfile"],0,[program.view.window,"EditFileModel"],0));(Ext.cmd.derive("program.view.window.RenameWindowController",Ext.app.ViewController,{types:["AI","AO","AV","BI","BO","BV","SCHEDULE"],boxready:function(){var n=this.view;console.log(n);var p=["AI","AO","AV","BI","BO","BV","SCHEDULE"];var s=[];for(var q=0;q<p.length;q++){var i={xtype:"fieldcontainer",layout:"hbox",defaults:{margin:"0 35"},typeAdd:function(){},items:[{fieldStyle:{textAlign:"center"},xtype:"textfield",fieldLabel:p[q],name:p[q],width:180,itemId:"typeNumber",flex:5},{xtype:"button",devType:q,text:"+",flex:1,handler:m.bind(n)},{xtype:"button",text:"-",devType:q,flex:1,handler:r}]};s.push(i)}s.push({xtype:"fieldcontainer",layout:"hbox",defaults:{margin:"0 10"},items:[{fieldStyle:{textAlign:"center"},margin:"0 10 0 35",xtype:"textfield",fieldLabel:"device instance",editable:false,flex:2,value:n.devName,itemId:"deviceInstance",columnWidth:10},{xtype:"button",text:"replace",flex:1,handler:function(c){var d=c.up();var g=d.getComponent("deviceInstance");var e=d.getComponent("replaceDevice");g.setValue(e.getValue());n.devName=e.getValue();console.log(n);n.deviceName=g.getValue();n.iterationItems(function(h,j){console.log(h,j)});delayToast("Massage","Replace success")}},{fieldStyle:{textAlign:"center"},validator:function(c){if(isNaN(c)){return"please input number ."}if(c.length!=4||c<0||c>9999){return"wrong format ."}return true},itemId:"replaceDevice",xtype:"textfield",flex:1}]});var t=Ext.create("Ext.form.Panel",{title:"devices",items:s,bodyPadding:20,minHeight:300});t.getForm().setValues(n.getFormValues());n.insert(0,t);t.expand();function m(l){var j=n.sDevName+l.devType;var c=[];for(var w=0;w<=9900;w+=100){c.push(w)}var e=[];for(var w=0;w<=99;w++){e.push(w)}var g=[];for(var w=0;w<p.length;w++){g.push({name:p[w],value:w})}console.log(l.devType);console.log(l.up().getComponent("typeNumber").value);console.log(n);var h;if(n.devName){h=n.devName}else{h=n.sDevName}var d=Ext.create("Ext.form.field.Text",{margin:10,fieldLabel:"Key",value:(h||"9901")+l.devType+"01"});var k=Ext.create("Ext.window.Window",{title:"Add \u2022\u2022\u2022",frame:true,width:325,bodyPadding:10,autoShow:true,defaultType:"textfield",defaults:{anchor:"100%"},items:[{margin:10,xtype:"combobox",allowBlank:false,fieldLabel:"device instance",store:c,editable:false,queryMode:"local",autoSelect:false,value:h||"9901",listeners:{change:function(G,v,u){var D=k.getComponent("instance");var E=(v+"").substr(2,2);console.log(E);D.setValue(E);var F=Ext.String.leftPad(v,4,"0");var C=d.getValue().split("");C[0]=F[0];C[1]=F[1];console.log(C);d.setValue(C.join(""))}}},{margin:10,xtype:"combobox",allowBlank:false,fieldLabel:"instance",store:e,editable:false,itemId:"instance",queryMode:"local",autoSelect:false,value:h.substr(2,2),listeners:{change:function(B,C,v){var u=Ext.String.leftPad(C,2,"0");var A=d.getValue().split("");A[2]=u[0];A[3]=u[1];d.setValue(A.join(""))}}},{margin:10,xtype:"combobox",allowBlank:false,fieldLabel:"Point Type",store:Ext.create("Ext.data.Store",{fields:["name","value"],data:g}),valueField:"value",displayField:"name",editable:false,queryMode:"local",autoSelect:false,listeners:{afterrender:function(u){console.log(arguments);u.setValue(u.store.getAt(l.devType))},change:function(v,D,u){var E=D;var C=d.getValue().split("");C[4]=E;d.setValue(C.join(""));var B=v.up().getComponent("pointNumber");console.log(D);if(D==2||D==5){B.setMaxValue(15);if(B.value>15){B.setValue(15)}}else{B.setMaxValue(24)}}}},{margin:10,xtype:"numberfield",allowBlank:false,fieldLabel:"Point Number",maxValue:24,minValue:0,editable:false,itemId:"pointNumber",queryMode:"local",autoSelect:false,value:"01",listeners:{change:function(B,C,v){var u=Ext.String.leftPad(C,2,"0");var A=d.getValue().split("");A[5]=u[0];A[6]=u[1];d.setValue(A.join(""))}}},d],buttons:[{text:"Ok",handler:function(){var v=d.getValue();if(isNaN(v)||v.length!=7){Ext.Msg.alert("Key Exception","The key ,Does not meet the requirements");return}if(n.query("[key="+v+"]").length){Ext.Msg.alert("Key Exception","has been "+v);return}console.log(v);console.log(p);var y=v.substr(4,1);console.log(n.getFormValues());if(n.getFormValues().SCHEDULE>=5){Ext.Msg.alert("Massage","SCHDULE max is 5");return}var u=p[y]+v.substr(5,2);Ext.MessageBox.prompt("Input","New Name",function(x,A){if(x!="ok"){return}n.insrtDevForm(v,A);t.getForm().setValues(n.getFormValues());Ext.Msg.alert("Massage","Ok.")},this,false,u)}},{text:"Close",handler:function(){k.close()}}]})}function r(d){var c=Ext.create("Ext.window.Window",{title:"Delete \u2022\u2022\u2022",frame:true,width:325,bodyPadding:10,autoShow:true,defaultType:"textfield",defaults:{anchor:"100%"},items:[{margin:10,xtype:"combobox",allowBlank:false,fieldLabel:"select file name",store:Ext.create("Ext.data.Store",{fields:["key","title"],data:n.getFormValues()["type"+d.devType]}),editable:false,queryMode:"local",displayField:"title",valueField:"key",autoSelect:false}],buttons:[{text:"Ok",handler:function(){var e=c.down("combobox").getValue();if(e==null){Ext.Msg.alert("Info","Plase select file name.");return}c.close();n.deleteDevForm(e);t.getForm().setValues(n.getFormValues())}},{text:"Close",handler:function(){c.close()}}]})}}},0,0,0,0,["controller.window-renamewindow"],0,[program.view.window,"RenameWindowController"],0));(Ext.cmd.derive("program.view.window.RenameWindowModel",Ext.app.ViewModel,{data:{name:"program"}},0,0,0,0,["viewmodel.window-renamewindow"],0,[program.view.window,"RenameWindowModel"],0));(Ext.cmd.derive("program.view.window.ReplaceDevInfoController",program.view.window.EditFileController,{findClick:function(){var i=this.view;try{var k=Ext.decode(Ext.decode(i.textArea.value).gridpanelConfigs);for(var j=0;j<k.length;j++){console.log(k[j].datas)}console.log(k)}catch(e){Ext.Msg.alert("Massage","Data Error")}},replaceTypeClick:function(){var g=this.view;console.log(g);var e=Ext.create("Ext.window.Window",{title:"Replace \u2022\u2022\u2022",frame:true,width:325,bodyPadding:10,autoShow:true,defaultType:"textfield",defaults:{anchor:"100%",margin:10},items:[g.typeCombo,{itemId:"oldvalue",xtype:"textfield",allowBlank:false,fieldLabel:"old value",listeners:{focus:function(c){}}},{itemId:"newvalue",xtype:"textfield",allowBlank:false,fieldLabel:"new value"}],buttons:[{text:"Ok",handler:function(){var d=e.getComponent("oldvalue").getValue();var c=e.getComponent("newvalue").getValue();if(g.replaceOkHandler){g.replaceOkHandler(d,c);e.close();return}g.textArea.setValue(g.textArea.value.replaceAll(d,c));e.close()}},{text:"Cancel",handler:function(){e.close()}}]})}},0,0,0,0,["controller.window-replacedevinfo"],0,[program.view.window,"ReplaceDevInfoController"],0));(Ext.cmd.derive("program.view.window.ReplaceDevInfoModel",Ext.app.ViewModel,{data:{name:"program",title:""}},0,0,0,0,["viewmodel.window-replacedevinfo"],0,[program.view.window,"ReplaceDevInfoModel"],0));(Ext.cmd.derive("program.view.window.ShowDevicesController",Ext.app.ViewController,{},0,0,0,0,["controller.window-showdevices"],0,[program.view.window,"ShowDevicesController"],0));(Ext.cmd.derive("program.view.window.ShowDevicesModel",Ext.app.ViewModel,{data:{name:"program"}},0,0,0,0,["viewmodel.window-showdevices"],0,[program.view.window,"ShowDevicesModel"],0));(Ext.cmd.derive("program.view.window.SynchrnousWindowController",Ext.app.ViewController,{},0,0,0,0,["controller.window-synchrnouswindow"],0,[program.view.window,"SynchrnousWindowController"],0));(Ext.cmd.derive("program.view.window.SynchrnousWindowModel",Ext.app.ViewModel,{data:{name:"program"}},0,0,0,0,["viewmodel.window-synchrnouswindow"],0,[program.view.window,"SynchrnousWindowModel"],0));(Ext.cmd.derive("program.view.window.AlarmWindow",Ext.window.Window,{controller:"window-alarmwindow",viewModel:{type:"window-alarmwindow"},autoShow:true,width:800,height:600,layout:"auto",resizable:false,constrainHeader:true,listeners:{boxready:"formBoxReady"},initComponent:function(){var g=this;g.title=g.sDevNodeName+" Alarm Property";var e=Ext.create("Ext.form.Panel",{items:{xtype:"container",height:600,defaults:{anchor:"100%",margin:"20 10 10 10"},layout:"hbox",items:[{xtype:"container",flex:1,items:[{xtype:"fieldset",title:"Input Value",defaultType:"numberfield",defaults:{margin:"73 0 73 0",allowBlank:false,minValue:0},items:[{disabled:g.isBiov(),hidden:g.isBiov(),name:"high_limit",fieldLabel:"Height Limit",bind:"{high_limit}"},{disabled:g.isBiov(),hidden:g.isBiov(),name:"low_limit",fieldLabel:"Low Limit",bind:"{low_limit}"},{name:"delay_time",fieldLabel:"Delay Time",bind:"{delay_time}"},{disabled:g.isBiov(),hidden:g.isBiov(),name:"deadband",fieldLabel:"Deadband",bind:"{deadband}"}]}]},{xtype:"container",flex:1,items:[{xtype:"fieldset",flex:1,title:"select value",defaultType:"checkbox",layout:"anchor",defaults:{anchor:"100%",hideEmptyLabel:false},items:[{xtype:"combobox",margin:"15 0 15 0",fieldLabel:"Notification Class",name:"notification_class",displayField:"name",valueField:"value",allowBlank:false,editable:false,bind:"{notification_class}",store:Ext.create("Ext.data.Store",{fields:["name","value"],data:[{name:"URGENT",value:"1"},{name:"HIGH",value:"2"},{name:"LOW",value:"3"}]})},{xtype:"combobox",margin:"15 0 15 0",fieldLabel:"Event Type",name:"event_type",disabled:(g.isAiov())&g.isBiov(),hidden:(g.isAiov())&g.isBiov(),displayField:"name",valueField:"value",allowBlank:false,editable:false,bind:{value:"{event_type}"},store:Ext.create("Ext.data.Store",{fields:["name","value"],data:[{name:"ALARM",value:"0"},{name:"EVENT",value:"1"}]})},{xtype:"combobox",margin:"15 0 15 0",fieldLabel:"Alarm Value",name:"alarm_value",disabled:!g.isBiov(),hidden:!g.isBiov(),displayField:"name",valueField:"value",allowBlank:false,editable:false,bind:{value:"{alarm_value}"},store:Ext.create("Ext.data.Store",{fields:["name","value"],data:[{name:"0",value:"0"},{name:"1",value:"1"}]})}]},{xtype:"fieldset",flex:1,title:"checked value",defaultType:"checkbox",layout:"anchor",defaults:{anchor:"100%",hideEmptyLabel:false,margin:"20 0 20 0",viewModel:g.getViewModel()},items:[{disabled:g.isBiov(),hidden:g.isBiov(),reference:"checked1",fieldLabel:"Enable Limit",boxLabel:"Enable Height Limit",submitValue:false,bind:"{ck1}"},{disabled:g.isBiov(),hidden:g.isBiov(),reference:"checked2",boxLabel:"Enable Low Limit",submitValue:false,bind:"{ck2}"},{disabled:g.isBiov(),hidden:g.isBiov(),xtype:"hiddenfield",name:"limit",bind:"{limit}"},{reference:"checked3",fieldLabel:"Event Enable",boxLabel:"ENABLE_TO_NORMAL",bind:"{ck3}",submitValue:false},{reference:"checked4",boxLabel:"ENABLE_TO_OFFNORMAL",bind:"{ck4}",submitValue:false},{reference:"checked5",boxLabel:"ENABLE_TO_FAULT",bind:"{ck5}",submitValue:false},{xtype:"hiddenfield",name:"event_enable",bind:"{event_enable}"}]}]}]}});g.items=e;g.buttons=[{text:"Ok",handler:function(){if(g.localData){var d=e.getValues();var c={Set_Alarm:[d]};g.submitAlarm(Ext.encode(c));g.close();return}if(e.isValid()){e.submit({url:MyConfig.apiUrl+"?par=addAlarm&nodename="+g.sDevNodeName,method:"post",failure:function(k,j){delayToast("Success",g.sDevNodeName+" Change value Alarm success .",0);devPublish(g.sDevName+".8.*",g.sDevNodeName+"\r\nSet_Alarm\r\n"+(Ext.encode(j.result)).replaceAll("\\s*|\t|\r|\n",""),0);g.close()},success:function(k,j){delayToast("Success",g.sDevNodeName+" Change value Alarm success .",0);devPublish(g.sDevName+".8.*",g.sDevNodeName+"\r\nSet_Alarm\r\n"+(Ext.encode(j.result)).replaceAll("\\s*|\t|\r|\n",""),0);g.close()}})}}},{text:"Cancel",handler:function(){g.close()}}];Ext.window.Window.prototype.initComponent.call(this)},getAlarmFormData:function(){var k=this;if(k.localData){try{var j=Ext.decode(k.alarmData)["Set_Alarm"][0];var e=Ext.create("program.model.Alerm",j);k.down("form").loadRecord(e)}catch(i){}return}myAjax(MyConfig.apiUrl+"?par=getAlarm&nodename="+k.sDevNodeName,function(h){console.log(arguments);try{var g=Ext.decode(h.responseText)["Set_Alarm"][0];var c=Ext.create("program.model.Alerm",g);k.alarmData=c;console.log(c);k.down("form").loadRecord(c)}catch(d){setTimeout(function(){Ext.Msg.alert("Massage","invalid date , This attribute is initialized, ok .")},500);return}});return k.alarmData},isBiov:function(){var g=this;var e=g.sDevNodeType;console.log(g);console.log(e);if(e=="BI"||e=="BO"||e=="BV"){return true}return false},isAiov:function(){var g=this;var e=g.sDevNodeType;console.log(g);console.log(e);if(e=="AI"||e=="AO"||e=="AV"){return true}return false}},0,0,["component","box","container","panel","window"],{component:true,box:true,container:true,panel:true,window:true},0,0,[program.view.window,"AlarmWindow"],0));(Ext.cmd.derive("program.view.window.AttributeTableWin",Ext.window.Window,{controller:"window-attributetablewin",viewModel:{type:"window-attributetablewin"},modal:true,title:"Select Attribute",autoShow:true,width:600,buttons:[{text:"Close",handler:"closeWin"}],initComponent:function(){var g=this;var i=Ext.create("Ext.form.Panel",{viewModel:g.viewModel,width:"100%",layout:"hbox",margin:10,items:[{xtype:"textfield",width:100,bind:"{value}"},{fieldLabel:"Toggle Group",margin:"0 0 0 20",items:[{xtype:"segmentedbutton",items:[{text:"English",margin:"0 0 0 20",value:"en",pressed:true},{margin:"0 0 0 20",text:"中文",value:"zh"}],listeners:{toggle:function(e,d,c){g.viewModel.set("bol",d.value)}}}]},{margin:"0 0 0 20",xtype:"button",text:"OK",handler:function(){g.callback(g.viewModel.get("value"))}}]});var h=Ext.create("Ext.tree.Panel",{region:"center",useArrows:true,maxHeight:400,viewModel:g.viewModel,checkPropagation:"both",rootVisible:false,bufferedRenderer:false,width:"100%",store:{type:"tree",autoLoad:true,filters:[]},bind:{store:"{treestore}"},tbar:[{text:"Expand All",scope:this,handler:function(){h.expandAll()}},{text:"Collapse All",scope:this,handler:function(){h.collapseAll()}}],listeners:{select:function(k,e,d,c){if(e.data.qtip){g.viewModel.set("value",e.data.qtip)}else{g.viewModel.set("value","")}}}});g.items=[i,h];Ext.window.Window.prototype.initComponent.call(this)}},0,0,["component","box","container","panel","window"],{component:true,box:true,container:true,panel:true,window:true},0,0,[program.view.window,"AttributeTableWin"],0));(Ext.cmd.derive("program.view.grid.BackupGrid",Ext.grid.Panel,{controller:"grid-backupgrid",viewModel:{type:"grid-backupgrid"},width:"100%",height:"100%",region:"center",selModel:{mode:"SIMPLE",selType:"checkboxmodel"},initComponent:function(){var d=this;d.store=Ext.create("Ext.data.Store",{fields:["name","lasttime","size","filetype"],proxy:{type:"ajax",url:MyConfig.apiUrl+"?par=getbackupfiles&folder="+d.folder},autoLoad:true}),Ext.grid.Panel.prototype.initComponent.call(this)},columns:[{text:"File Name",dataIndex:"src",flex:1,renderer:function(g,i,h){return"<a class='adownload' download="+g+" target='_black' href="+g+">"+h.data.name+"<span class='x-col-move-top'></span></a>"}},{text:"Last Post",dataIndex:"lasttime",flex:2},{text:"File Type",dataIndex:"filetype",flex:1},{text:"File Size",dataIndex:"size",flex:1,renderer:function(d){return Ext.util.Format.fileSize(d)}}],listeners:{boxready:function(){setTimeout(function(){var d=document.createElement("a");if(d.download==undefined){$(".adownload").mousedown(function(c){Ext.Msg.alert("Message","If you can't download properly , Please right click on the save .<br>如果不能正常下载请点击鼠标右键，选择目标另存为。")})}},1000)},select:function(){console.log(arguments)},selectionchange:function(){console.log(arguments)}},getSelectFileNames:function(){var j=this;var l=j.getSelection();console.log(l);if(l.length==0){Ext.Msg.alert("Status","Select a file please.");return null}Ext.MessageBox.progress("please wait",{msg:"Server Ready ..."});var m="";var i=[];for(var k=0;k<l.length;k++){Ext.MessageBox.updateProgress(k+1/l.length+1,"The server is preparing for the "+(k+1));m+=j.folder+"/"+l[k].data.name+" ";i.push(j.folder+"/"+l[k].data.name+" ")}return{filesArr:i,filesStr:m}},buttons:[{text:"delete",handler:function(g){var h=this.up("grid");var i=h.getSelectFileNames();if(i){Ext.Msg.show({title:"Delete?",message:"Do you want to delete these "+i.filesArr.length+"  files? ",buttons:Ext.Msg.YESNOCANCEL,icon:Ext.Msg.QUESTION,animateTarget:g,fn:function(c){if(c==="yes"){myAjax(MyConfig.apiUrl,function(){Ext.MessageBox.close();h.store.load();console.log(arguments)},{par:"system",command:"rm "+i.filesStr});console.log("Yes pressed")}}})}}},{text:"Select Path",handler:function(){var h=this.up("grid");var j=h.getSelection();console.log(j);var k="";if(j.length==0){Ext.Msg.alert("Status","Select a file please.");return}Ext.MessageBox.progress("please wait",{msg:"Server Ready ..."});for(var i=0;i<j.length;i++){Ext.MessageBox.updateProgress(i+1/j.length+1,"The server is preparing for the "+(i+1));k+=h.folder+"/"+j[i].data.name+" "}console.log(k);setTimeout(function(){Ext.MessageBox.updateProgress(1/1,"The server is preparing for the "+(j.length));setTimeout(function(){myAjax(MyConfig.apiUrl,function(){location.href="/program/resources/pragramBackup.tar.gz"},{par:"system",command:"tar czvf pragramBackup.tar.gz "+k});Ext.MessageBox.close();win.close()},500)},1000)}}]},0,["backupgrid"],["component","box","container","panel","tablepanel","gridpanel","grid","backupgrid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,backupgrid:true},["widget.backupgrid"],0,[program.view.grid,"BackupGrid"],0));(Ext.cmd.derive("program.view.window.Backup",Ext.window.Window,{autoShow:true,frame:true,width:800,height:600,title:"Backup \u2022\u2022\u2022",layout:"hbox",controller:"window-backup",viewModel:{type:"window-backup"},defaults:{flex:1,border:true},items:[{xtype:"backupgrid",folder:"devsinfo",margin:"0 5 0 0"},{xtype:"backupgrid",folder:"devxml",margin:"0 0 0 5"}]},0,0,["component","box","container","panel","window"],{component:true,box:true,container:true,panel:true,window:true},0,0,[program.view.window,"Backup"],0));(Ext.cmd.derive("program.view.grid.PropertypeGrid",Ext.grid.Panel,{controller:"grid-propertypegrid",viewModel:{type:"grid-propertypegrid"},border:false,columnLines:true,initComponent:function(){var d=this;Ext.grid.Panel.prototype.initComponent.call(this)},plugins:{ptype:"rowediting",clicksToEdit:1,listeners:{edit:function(p,q){console.log(arguments);var m=p.cmp.up();var k=m.datas.record.data.value;var r=m.datas.record.data.type;var l=k.substr(0,4);if(q.value==q.newValues.value){return false}var n=q.record;Ext.Ajax.request({url:MyConfig.apiUrl,method:"GET",params:{par:"changevalue",nodename:k,type:n.data.type,value:n.data.value},success:function(d){var c=d.responseText;delayToast("Status","Changes saved successfully,New value is "+n.data.value+" .")}});if(q.record.data.type=="Object_Name"){q.grid.record.set("text",q.record.data.value)}},beforeedit:function(s,z,q){var t=s.cmp.up();console.log(t);var y=t.datas.record.data.value;var i=t.datas.record.data.type;var w=y.substr(0,4);if(z.field=="type"){return false}var u=["Object_Name","Hide","Offset","Description","Device_Type","Inactive_Text","Active_Text","Units","Min_Pres_Value","Max_Pres_Value","COV_Increment","High_Limit","Low_Limit","Deadband","Limit_Enable","Event_Enable","Present_Value","Offset"];var r=z.record;for(var v=0;v<u.length;v++){if(r.data.type==u[v]){if((i=="0"||i=="3")&r.data.type=="Present_Value"){return false}if((i=="4"||i=="5")&r.data.type=="Present_Value"){if(Ext.getCmp("Priority_Array_combobox2")){return false}Ext.create("Ext.window.Window",{title:"Write -- Priority_Array",frame:true,width:315,bodyPadding:10,autoShow:true,defaultType:"textfield",defaults:{anchor:"100%"},modal:true,layout:"auto",items:[{margin:10,xtype:"combobox",allowBlank:false,id:"Priority_Array_combobox1",fieldLabel:"Set Value",store:Ext.create("Ext.data.Store",{fields:["abbr","name"],data:[{name:"On",abbr:"1"},{name:"Off",abbr:"0"},{name:"NULL",abbr:"NULL"}]}),editable:false,queryMode:"local",displayField:"name",valueField:"abbr",autoSelect:true},{margin:10,xtype:"combobox",allowBlank:false,id:"Priority_Array_combobox2",fieldLabel:"Priority",store:Ext.create("Ext.data.Store",{fields:["abbr","name"],data:[{name:"Priority1",abbr:"1"},{name:"Priority2",abbr:"2"},{name:"Priority3",abbr:"3"},{name:"Priority4",abbr:"4"},{name:"Priority5",abbr:"5"},{name:"Priority6",abbr:"6"},{name:"Priority7",abbr:"7"},{name:"Priority8",abbr:"8"},{name:"Priority9",abbr:"9"},{name:"Priority10",abbr:"10"},{name:"Priority11",abbr:"11"},{name:"Priority12",abbr:"12"},{name:"Priority13",abbr:"13"},{name:"Priority14",abbr:"14"},{name:"Priority15",abbr:"15"},{name:"Priority16",abbr:"16"}]}),editable:false,queryMode:"local",displayField:"name",valueField:"abbr",autoSelect:true}],buttons:[{text:"Ok",handler:function(){var d=Ext.getCmp("Priority_Array_combobox1").value;var c=Ext.getCmp("Priority_Array_combobox2").value;if(c==null&&d==null){Ext.Msg.alert("Exception","Not null.");return false}if(d=="NULL"){setPresent_Value(y,d,c)}else{setPresent_Value(y,d,c)}this.up("window").close()}},{text:"Cancel",handler:function(){this.up("window").close()}}]});return false}if((i=="1"||i=="2")&r.data.type=="Present_Value"){if(Ext.getCmp("Priority_Array_combobox3")){return false}Ext.create("Ext.window.Window",{title:"Write -- Priority_Array",frame:true,width:315,bodyPadding:10,autoShow:true,defaultType:"textfield",defaults:{anchor:"100%"},modal:true,layout:"auto",items:[{margin:10,xtype:"combobox",allowBlank:false,id:"Priority_Array_combobox3",fieldLabel:"Set Value",store:["NULL"],editable:true,queryMode:"local",validator:function(c){if(c=="NULL"){return true}if(!isNaN(c)){return true}else{return"Must enter the Numbers"}},displayField:"name",valueField:"name",autoSelect:true},{margin:10,xtype:"combobox",allowBlank:false,id:"Priority_Array_combobox4",fieldLabel:"Priority",store:Ext.create("Ext.data.Store",{fields:["abbr","name"],data:[{name:"Priority1",abbr:"1"},{name:"Priority2",abbr:"2"},{name:"Priority3",abbr:"3"},{name:"Priority4",abbr:"4"},{name:"Priority5",abbr:"5"},{name:"Priority6",abbr:"6"},{name:"Priority7",abbr:"7"},{name:"Priority8",abbr:"8"},{name:"Priority9",abbr:"9"},{name:"Priority10",abbr:"10"},{name:"Priority11",abbr:"11"},{name:"Priority12",abbr:"12"},{name:"Priority13",abbr:"13"},{name:"Priority14",abbr:"14"},{name:"Priority15",abbr:"15"},{name:"Priority16",abbr:"16"}]}),editable:false,queryMode:"local",displayField:"name",valueField:"abbr",autoSelect:true}],buttons:[{text:"Ok",handler:function(){var d=Ext.getCmp("Priority_Array_combobox3").value;var c=Ext.getCmp("Priority_Array_combobox4").value;if(c==null||d==null){Ext.Msg.alert("Exception","Input Error.");return false}if(d=="NULL"){setPresent_Value(y,d,c)}else{if(isNaN(d)){Ext.Msg.alert("Exception","Input Error.");return false}setPresent_Value(y,d,c)}this.up("window").close()}},{text:"Cancel",handler:function(){this.up("window").close()}}]});return false}if(i!="0"&r.data.type=="Offset"){return false}if(r.data.type=="Inactive_Text"){z.column.setEditor({xtype:"combobox",editable:false,store:ActiveJson.get("Inactive_Text_Defaults")});return true}if(r.data.type=="Active_Text"){z.column.setEditor({xtype:"combobox",editable:false,store:ActiveJson.get("Active_Text_Defaults")});return true}if(r.data.type=="Units"){console.log(arguments);setTimeout(function(){var c=Ext.create("program.view.window.AttributeTableWin",{callback:function(d){s.context.column.field.setValue(d)}});c.show()},500)}if(r.data.type=="Device_Type"){var x=Ext.create("Ext.data.Store",{autoLoad:false,fields:["name"],data:[{name:"0-10=0-100"},{name:"NTC10K"},{name:"NTC20K"},{name:"BI"}]});z.column.setEditor({xtype:"combobox",store:x,validator:function(c){if(c=="NTC10K"||c=="NTC20K"||c=="BI"){return true}var g=c.split("=");if(g.length!=2){return false}for(var d=0;d<g.length;d++){var e=g[d].split("-");if(e.length<2||e.length>3){return false}isNaN(e[0]);isNaN(e[1])}return true},displayField:"name",valueField:"name"})}else{z.column.setEditor({xtype:"textfield"})}return arguments}}console.log(arguments);return false}}},columns:[{header:"Type",flex:1,dataIndex:"type",sortable:false,resizable:false},{header:"Value",flex:1,dataIndex:"value",sortable:false,editor:{xtype:"textfield",allowBlank:false}}]},0,["propertypegrid"],["component","box","container","panel","tablepanel","gridpanel","grid","propertypegrid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,propertypegrid:true},["propertypegrid","widget.propertypegrid"],0,[program.view.grid,"PropertypeGrid"],0));(Ext.cmd.derive("program.view.tree.DevTree",Ext.tree.Panel,{expanded:true,controller:"imgtree",viewModel:{type:"devtreemodel"},header:{title:"Device",items:[{xtype:"image",src:"",width:20,height:20,hidden:true,disable:true,listeners:{el:{mouseover:function(e,g){console.log(this);Ext.tip.QuickTipManager.register({target:g.id,title:"Info",text:this.component.info})}},boxready:function(){return;var k=this;var m="resources/img/light_bulb_accept_24px.png";var l="resources/img/light_bulb_delete_24px.png";var i="resources/img/light_bulb_help_24px.png";j();setInterval(function(){j()},300000);function j(){k.setSrc(i);Ext.Ajax.request({url:MyConfig.apiUrl+"?par=englogin",success:function(d){try{var e=Ext.decode(d.responseText);if(e.success){k.setSrc(m);k.info=e.info}else{k.setSrc(i);k.info=e.info}}catch(c){console.log(c);k.setSrc(l);k.info=d}}})}}}}]},titleCollapse:true,autoScroll:true,animate:false,resizable:true,useArrows:true,stateful:true,id:"leftDevTree",singleExpand:false,rootVisible:false,listeners:{render:"render",itemcontextmenu:"itemcontextmenu",boxready:"boxready",afteritemexpand:function(h,i,e){},checkchange:function(h,k){console.log(arguments);var i=this;var j=this;if(k){h.set("qtip","On line")}else{h.set("qtip","Off line")}j.viewModel.set("linkDataBase",k)}},tbar:[{text:"Expand All",scope:this,handler:function(d){d.up("devtree").down("toolbar").disable();d.up("devtree").expandAll(function(){d.up("devtree").down("toolbar").enable()})}},{text:"Collapse All",scope:this,handler:function(d){d.up("devtree").down("toolbar").disable();d.up("devtree").collapseAll(function(){d.up("devtree").down("toolbar").enable()})}}],initComponent:function(){var d=this;this.viewConfig={plugins:{ptype:"treeviewdragdrop",containerScroll:true,ddGroup:"DevTreeDragDropGroup"}};d.tools=[{type:"refresh",tooltip:"Refresh Dev Data",handler:function(c,h,i){d.store.reload();d.expandAll()}}];Ext.tree.Panel.prototype.initComponent.call(this)}},0,["devtree"],["component","box","container","panel","tablepanel","treepanel","devtree"],{component:true,box:true,container:true,panel:true,tablepanel:true,treepanel:true,devtree:true},["widget.devtree"],0,[program.view.tree,"DevTree"],0));(Ext.cmd.derive("program.view.tab.BasicTabs",Ext.tab.Panel,{width:400,height:300,maxHeight:"100%",defaults:{},style:"border-right:10px",controller:"grid-panel-gridpanel",items:[{title:"DB onlin",layout:"border",items:[{xtype:"devtree",region:"north",height:300,minHeight:200},Ext.create("Ext.grid.Panel",{region:"center",manageHeight:true,title:"Icons",autoScroll:true,collapsible:true,stateful:true,store:Ext.create("program.store.SvgImgs",{}),id:"leftPanelIcons",columns:[{draggable:false,menuDisabled:true,sortable:false,header:"type",dataIndex:"src",flex:1,renderer:function(d){return Ext.String.format('<img src="{0}" width="67px" height="33px"/>',d)}},{draggable:false,menuDisabled:true,sortable:false,header:"name",dataIndex:"name",width:1,resizeable:false},{draggable:false,menuDisabled:true,sortable:false,header:"name",dataIndex:"title",flex:1}],autoShow:true,viewConfig:{},listeners:{expand:function(){setTimeout(function(){Ext.getCmp("leftDevTree").setHeight(400)},50)},collapse:function(){setTimeout(function(){Ext.getCmp("leftDevTree").setHeight("95%")},50)},render:"basicRender",viewready:"basicViewready",itemclick:"basicItemclick",afterDragDrop:"basicAfterDragDrop"}})]},{title:"device onlin",scrollable:"y",items:{id:"deviceOnlinTreePanel",readParsentValue:function(j){var k=this;if(k.readParsentValueInterval){clearInterval(k.readParsentValueInterval)}var n=k.store.getRoot();if(j==2){k.readParsentValueInterval=setInterval(function(){p(n.firstChild)},60000)}function p(c){m(c.firstChild,function(){if(c.nextSibling){p(c.nextSibling)}})}function m(d,c){console.log(d);if(d.data.isObject===true){bacnetInterface.bacnetutil.getObjectParsentValue(null,d.parentNode.data,d.data.objType,d.data.objValue,function(e,h,g){if(h!==undefined){d.set("text",d.get("sourcetext")+"("+h+")")}if(d.nextSibling!=null){m(d.nextSibling,c)}else{c()}})}else{if(d.nextSibling!=null){m(d.nextSibling,c)}else{c()}}}function l(c){bacnetInterface.bacnetutil.getObjectParsentValue(null,c.parentNode.data,c.data.objType,c.data.objValue,function(e,d,g){c.set("text",d)})}},tbar:[{text:"Discovery",xtype:"button",handler:function(e){var g=this.up("treepanel");g.getDevicesToTreeData()}},{text:"Config",xtype:"button",handler:function(h){var i=h.up("treepanel");var g=Ext.create("Ext.window.Window",{title:"Config",autoShow:true,width:600,height:200,items:{xtype:"form",items:[{xtype:"radiogroup",fieldLabel:"Parsent_Value_Mode",columns:3,vertical:true,simpleValue:true,labelWidth:200,margin:10,items:[{boxLabel:"static",name:"mode",inputValue:1},{boxLabel:"active",name:"mode",inputValue:2},{boxLabel:"COV",disabled:true,name:"mode",inputValue:3}]}]},buttons:[{text:"Ok",handler:function(){i.readParsentValue(g.down("form").getValues().mode);g.close()}},{text:"Cancel",handler:function(){g.close()}}]})}},{text:"Clear",xtype:"button",handler:function(e){var g=this.up("treepanel");g.store.root.removeAll();g.view.unmask()}}],xtype:"treepanel",animate:false,getDevicesToTreeData:function(){var d=this;d.view.mask("Discoverying...");bacnetInterface.bacnetutil.getDevicesToTreeData(function(c,g){console.log(g);d.view.unmask();d.store.root.appendChild(g);d.collapseAll();d.expandAll()})},store:{root:{text:"B/IP",expanded:true}},scrollable:"y",listeners:{boxready:function(d){},itemcontextmenu:function(r,q,l,p,e,n){e.stopEvent();a=r;b=q;console.log(arguments);var m=this;if(q.data.depth==0){Ext.create("Ext.menu.Menu",{autoShow:true,x:e.pageX+5,y:e.pageY+5,items:[{text:"Discovery",handler:function(){m.getDevicesToTreeData()}}]})}if(q.data.depth==1){Ext.create("Ext.menu.Menu",{autoShow:true,x:e.pageX+5,y:e.pageY+5,items:[{text:"Get Device All Property",handler:function(){m.view.mask("Discoverying...");bacnetInterface.bacnetutil.getObjectsToTreeData(q.data,8,function(d,c){console.log(arguments);q.appendChild(c);m.view.unmask()})}},{text:"Get Device Object List",handler:function(){m.view.mask("Discoverying...");bacnetInterface.bacnetutil.getObjectsToTreeData(q.data,76,function(d,c){console.log(arguments);q.appendChild(c);m.view.unmask()})}},{text:"Get Device Object List Array",disabled:true,handler:function(){}}]})}if(q.data.depth==2&q.data.leaf==false){q.collapse();Ext.create("Ext.menu.Menu",{autoShow:true,x:e.pageX+5,y:e.pageY+5,items:[{text:"Get Device All Property",handler:function(){console.log(q);bacnetInterface.bacnetutil.getObjListToTreeData(q.parentNode.data,q.data.objType,q.data.objValue,8,function(d,c){console.log(arguments);q.appendChild(c);q.expand()})}},{text:"Get Object Necessary Property",handler:function(){bacnetInterface.bacnetutil.getObjListToTreeData(q.parentNode.data,q.data.objType,q.data.objValue,105,function(d,c){console.log(arguments);q.appendChild(c);q.expand()})}},{text:"Get Object Optional Property",handler:function(){bacnetInterface.bacnetutil.getObjListToTreeData(q.parentNode.data,q.data.objType,q.data.objValue,80,function(d,c){console.log(arguments);q.appendChild(c);q.expand()})}},"-",{text:"Get Object Present-Value",handler:function(){bacnetInterface.bacnetutil.getObjListToTreeData(q.parentNode.data,q.data.objType,q.data.objValue,85,function(d,c){q.appendChild(c);q.expand()})}}]})}}}}},{title:" ",items:{rootVisible:true,xtype:"treepanel",listeners:{boxready:function(d){d.store.root.set("text",location.host)},itemcontextmenu:function(k,p,l,n,e,m){e.stopEvent();e.stopPropagation();if(p.data.depth==1){Ext.createWidget("showdevices",{device:p.data.text})}},itemclick:function(k,p,l,n,e,m){console.log(arguments);if(p.data.depth==1){Ext.createWidget("showdevices",{device:p.data.text})}}},width:"100%",height:"100%",scrollable:"y",modal:true,store:Ext.create("Ext.data.TreeStore",{autoLoad:true,url:MyConfig.apiUrl+"?par=nodestree",proxy:{type:"ajax",url:MyConfig.apiUrl+"?par=nodestree&ip="+location.host+"&port=6379",reader:{type:"json"}}})}}]},0,["basic-tabs"],["component","box","container","panel","tabpanel","basic-tabs"],{component:true,box:true,container:true,panel:true,tabpanel:true,"basic-tabs":true},["widget.basic-tabs"],0,[program.view.tab,"BasicTabs"],0));(Ext.cmd.derive("program.view.window.DrawWeeksWindow",Ext.window.Window,{controller:"window-drawweekswindow",viewModel:{type:"window-drawweekswindow"},height:550,width:1024,autoShow:true,layout:"card",resizable:false,group:new Ext.grid.feature.Grouping({groupHeaderTpl:'{name}{renderedGroupValue} &nbsp;&nbsp;({rows.length} Item{[values.rows.length > 1 ? "s" : ""]})',hideGroupedHeader:true,startCollapsed:true}),tbar:[{ui:"default",cls:"phoneButton",scale:"medium",text:"Next ->",id:"drawWindow_next",handler:function(h){var g=this.up("window");g.fireEvent("nextHandler");var i=g.getLayout();h.hide();i.setActiveItem(1)}},{ui:"default",cls:"phoneButton",scale:"medium",text:"<- Previous",id:"drawWindow_previous",hidden:true,handler:function(h){var g=this.up("window");var i=g.getLayout();h.hide();i.setActiveItem(0);g.fireEvent("PreviousHandler")}},{text:"divDataToJson",hidden:true,handler:function(){var d=this.up("window");d.fireEvent("divDataToJson")}},{text:"gridDataToJson",hidden:true,handler:"gridDataToJson"},"->",{ui:"default",cls:"phoneButton",scale:"medium",text:"Save",handler:function(){Ext.Ajax.request({url:MyConfig.apiUrl,params:{par:"save"},success:function(d){delayToast("Massage",d.responseText,10)}})}},{ui:"default",cls:"phoneButton",scale:"medium",text:"Ok",handler:"OkHandler"},{xtype:"segmentedbutton",bind:"{modify}",allowMultiple:true,items:[{ui:"default",cls:"phoneButton",text:"Modify",scale:"medium",handler:"modifyHandler",value:true,tooltip:"publish modify"}]}],initComponent:function(){var d=this;d.title=d.sDevNodeName+" Property";Ext.window.Window.prototype.initComponent.call(this)},addDayDiv:function(m,p,l){var n=this;var i=n.dwPars.div();var r=n.dwPars.dw;if(m&p){i.attr("starttime",m);i.attr("endtime",p);for(var q=0;q<l.length;q++){i.addClass(l[q])}console.log(i);$(r.el.dom).append(i);n.controller.weekDivAddEvent(i)}},items:[{xtype:"chart",width:1000,height:800,padding:"10 0 0 0",store:{fields:["time","open","high","low","close"],data:[{time:"Sunday",close:2736000000},{time:"Monday",close:2730000000},{time:"Tuesday",close:2730000000},{time:"Wednesday",close:2726000000},{time:"Thursday",close:2730000000},{time:"Friday",close:2730000000},{time:"Saturday",close:2730000000}]},axes:[{type:"category",position:"top",title:{text:"Week",fontSize:15},fields:"time"},{type:"numeric",position:"left",fields:"open",grid:true,minimum:2649600000,maximum:2736000000,renderer:function(s,n,l){var p=(2736000000-n)+2649600000;var m=new Date(p);var t=m.getHours();var r=m.getMinutes();var q=m.getSeconds();return t+":"+r+":"+q},title:{text:"Date",fontSize:15},style:{axisLine:false}}],series:[{type:"bar",xField:"time",id:"bar_Sec",listeners:{itemclick:function(j,h,i,k){console.log(arguments)}},style:{width:100},yField:["close"],style:{fill:"steelblue"}}]},{xtype:"gridpanel",margin:5,store:Ext.create("Ext.data.Store",{storeId:"drawWindowStore",groupField:"SortWeek",sortOnLoad:true,model:Ext.createByAlias("WeekModel"),sorters:[{property:"level",direction:"ASC"},{property:"timesort"}]}),listeners:{boxready:function(d){}},tbar:[{text:"Expand All",hidden:true,handler:function(){var d=this.up("gridpanel");d.features[0].expandAll()}},{text:"Collapse All",hidden:true,handler:function(){var d=this.up("gridpanel");d.features[0].collapseAll()}},{text:"Insert",handler:"insertWeek"}],columnLines:true,rowLines:true,plugins:{ptype:"rowediting",clicksToEdit:1,listeners:{}},selModel:"rowmodel",columns:[{text:"Week",dataIndex:"Week",flex:1},{text:"time",dataIndex:"time",flex:1,editor:{xtype:"spinnerfield",allowBlank:false,validator:My.isTime,onSpinUp:My.onSpinUp,onSpinDown:My.onSpinDown}},{text:"activation",dataIndex:"value",renderer:function(d){if(d){return"on"}else{return"off"}},editor:{xtype:"combo",store:Ext.create("Ext.data.Store",{fields:["name","value"],data:[{name:"on",value:true},{name:"off",value:false}]}),displayField:"name",valueField:"value"}}]}],listeners:{move:function(d){d.fireEvent("dwParsInit")},nextHandler:"nextHandler",PreviousHandler:"PreviousHandler",dwParsInit:"dwParsInit",jsonToDivData:"jsonToDivData",boxready:"boxready",weekDivAddEvent:"weekDivAddEvent",weekDivResetPosition:"weekDivResetPosition",divDataToJson:"divDataToJson",el:{contextmenu:function(i,n,q){var m=Ext.getCmp(this.id);if(n.tagName!="CANVAS"){return}if(i.pageY<100){return}var l=m.dwPars.WeekArrJson;var p=i.pageX-m.el.getLeft(true);for(var r=0;r<l.length;r++){console.log(l[r].left,p);if(l[r].left<p&l[r].left+100>p){Ext.create("Ext.menu.Menu",{width:100,plain:true,x:i.pageX+5,y:i.pageY+5,autoShow:true,floating:true,items:[{text:"Add Time",handler:function(){m.addNewBar(i)}},{text:"Paste Time",disabled:true,handler:function(){m.addNewBar(i,m.copydiv)},listeners:{boxready:function(c){console.log(m.copydiv);if(m.copydiv){c.setDisabled(false)}}}},"-",{text:"Time Value",disabled:true}]});break}}i.stopEvent()}}},addNewBar:function(z,w){var x=this;var i=x.dwPars.ShowWeekArr;var H=x.dwPars.WeekArrJson;var G=x.dwPars.dw;var I=x.dwPars.bWidth;var K=x.dwPars.winOffsetLeft;var B=x.dwPars.winOffsetTop;var J=x.dwPars.posLeftArr;var y=x.dwPars.bMarginTop;var C=x.dwPars.bMaxHeight;var E;var F=x.dwPars.div().css("top",z.pageY-B+"px");for(var A=0;A<J.length;A++){if(isBarCollsion(z.pageX,z.pageY,J[A]+K,y,I,C)){E=J[A];console.log(H[A]);if(!H[A]){H[A]=H[6]}F.addClass(H[A].name);F.addClass("new"+H[A].name)}}if(E){$(G.el.dom).append(F)}else{F.remove()}$(G.el.dom).append(F);x.fireEvent("weekDivAddEvent",F);var D=x.getTimeByLocation(parseInt(F.css("Top"))-y);var L=x.getTimeByLocation(parseInt(F.css("Top"))-y+parseInt(F.css("height")));if(w){F.attr("startTime",w.attr("startTime")).attr("endTime",w.attr("endTime"))}else{F.attr("startTime",D).attr("endTime",L)}x.fireEvent("weekDivResetPosition",false)},getTimeByLocation:function(g){var i=this;var h=new Date(i.dwPars.oneDay*(g/i.dwPars.bMaxHeight)+2649600000);return h}},0,0,["component","box","container","panel","window"],{component:true,box:true,container:true,panel:true,window:true},["drawweekswindow"],0,[program.view.window,"DrawWeeksWindow"],0));(Ext.cmd.derive("program.view.window.EditFile",Ext.window.Window,{controller:"window-editfile",viewModel:{type:"window-editfile"},width:800,frame:true,autoShow:true,layout:"auto",defaults:{margin:10},title:"Edit",showTextArea:true,showFileButton:true,showCombo:false,okHandler:null,fileName:null,initComponent:function(){var d=this;d.items=[];console.log(d.showCombo);if(d.showCombo){d.items.push(d.combo)}if(d.showCombo){d.items.push(d.combo)}if(d.showFileButton){d.fileButton=Ext.create("Ext.form.field.FileButton",{xtype:"filebutton",text:"Select File",listeners:{change:function(c,l,p){var m=c.up("window");var n=l.target.files;if(n.length){var q=n[0];m.fileName=q.name;console.log(q);var r=new FileReader();r.onload=function(){m.textArea.setValue(this.result)};r.readAsText(q)}}}});d.items.push(d.fileButton)}d.textArea=Ext.create("Ext.form.field.TextArea",{width:"100%",border:false,height:500,hidden:!d.showTextArea});d.items.push(d.textArea);d.buttons=[{text:"replace",handler:"replaceClick"},"->",{text:"OK",itemId:"Ok",handler:d.okHandler||function(c){c.setDisabled(true);var j=Ext.decode(textarea.getValue());var i="<div style='color: darkturquoise;'>";for(var k in j){i+=k+".json  "}i+="</div>";Ext.Msg.show({title:"warning !",message:"select yes to ovewrite files  <br>"+i,buttons:Ext.Msg.YESNOCANCEL,icon:Ext.Msg.WARNING,fn:function(g){if(g==="yes"){for(var e in j){My.savePicPanelData(e,Ext.encode(j[e]))}win.close()}else{win.close()}}})}},{text:"Close",itemId:"Close",handler:function(){d.close()}}];console.log("before - initComponent EditFile");Ext.window.Window.prototype.initComponent.call(this);console.log("after - initComponent EditFile")}},0,0,["component","box","container","panel","window"],{component:true,box:true,container:true,panel:true,window:true},0,0,[program.view.window,"EditFile"],0));(Ext.cmd.derive("program.view.tab.FramedTabs",Ext.tab.Panel,{BaseCls:"FramedTabs",items:{xtype:"drawpanel",title:"1000"},id:"frametab_drawpanel",controller:"framedtabs",viewModel:Ext.create("Ext.app.ViewModel",{data:{allLine:0}}),width:4000,height:3000,defaults:{autoScroll:true},tools:[{type:"search",qtip:"Show Index",handler:"showIndex",html:"show number"}],bind:{title:"Program (line {allLine})"},showIndex:true,addDrawPanel:function(j){var k=this;var i=k.query("drawpanel");for(var l=0;l<i.length;l++){if(i[l].title==j){k.setActiveTab(i[l].id);return}i[l].close()}var m=Ext.create("program.view.tab.DrawPanel",{title:j});k.add(m);k.setActiveTab(m.id)},listeners:{}},0,["framed-tabs"],["component","box","container","panel","tabpanel","framed-tabs"],{component:true,box:true,container:true,panel:true,tabpanel:true,"framed-tabs":true},["widget.framed-tabs"],0,[program.view.tab,"FramedTabs"],0));(Ext.cmd.derive("program.view.main.List",Ext.grid.Panel,{title:"Personnel",store:{type:"personnel"},columns:[{text:"Name",dataIndex:"name"},{text:"Email",dataIndex:"email",flex:1},{text:"Phone",dataIndex:"phone",flex:1}],listeners:{select:"onItemSelected"}},0,["mainlist"],["component","box","container","panel","tablepanel","gridpanel","grid","mainlist"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,mainlist:true},["widget.mainlist"],0,[program.view.main,"List"],0));(Ext.cmd.derive("program.view.grid.LogicGridPanel",Ext.grid.Panel,{width:"100%",border:false,forceFit:true,controller:"grid-logicgridpanel",viewModel:{type:"grid-logicgridpanel"},listeners:{boxready:"boxready"},columnLines:true,columns:[{header:"name",dataIndex:"name",width:80,minWidth:80,maxWidth:80,align:"center",sortable:false,menuDisabled:true},{sortable:false,menuDisabled:true,header:"delay",dataIndex:"delay",width:90,minWidth:90,maxWidth:90,align:"center",editor:{xtype:"textfield",allowBlank:false}},{sortable:false,menuDisabled:true,header:"value",dataIndex:"value",width:73,minWidth:73,maxWidth:73,align:"center",editor:{xtype:"textfield",allowBlank:false}},{sortable:false,menuDisabled:true,header:"configure",width:100,minWidth:100,columns:[{sortable:false,menuDisabled:true,dataIndex:"time",width:45,minWidth:45,align:"center",editor:{xtype:"spinnerfield",value:0,onSpinUp:function(){var d=this;changeTimeValueUp(d)},onSpinDown:function(){var d=this;changeTimeValueDown(d)}}},{sortable:false,menuDisabled:true,dataIndex:"time1",width:45,minWidth:45,align:"center",hidden:true,editor:{xtype:"spinnerfield",value:0,onSpinUp:function(){var d=this;changeTimeValueUp(d)},onSpinDown:function(){var d=this;changeTimeValueDown(d)}}},{sortable:false,menuDisabled:true,dataIndex:"time2",width:45,minWidth:45,align:"center",hidden:true,editor:{xtype:"spinnerfield",value:0,onSpinUp:function(){var d=this;changeTimeValueUp(d)},onSpinDown:function(){var d=this;changeTimeValueDown(d)}}},{sortable:false,menuDisabled:true,dataIndex:"time3",width:45,minWidth:45,align:"center",hidden:true,editor:{xtype:"spinnerfield",value:0,onSpinUp:function(){var d=this;changeTimeValueUp(d)},onSpinDown:function(){var d=this;changeTimeValueDown(d)}}},{sortable:false,menuDisabled:true,dataIndex:"time4",width:45,minWidth:45,align:"center",hidden:true,editor:{xtype:"spinnerfield",value:0,onSpinUp:function(){var d=this;changeTimeValueUp(d)},onSpinDown:function(){var d=this;changeTimeValueDown(d)}}},{sortable:false,menuDisabled:true,dataIndex:"time5",width:45,minWidth:45,align:"center",hidden:true,editor:{xtype:"spinnerfield",value:0,onSpinUp:function(){var d=this;changeTimeValueUp(d)},onSpinDown:function(){var d=this;changeTimeValueDown(d)}}},{sortable:false,menuDisabled:true,dataIndex:"time6",width:45,minWidth:45,align:"center",hidden:true,editor:{xtype:"spinnerfield",value:0,onSpinUp:function(){var d=this;changeTimeValueUp(d)},onSpinDown:function(){var d=this;changeTimeValueDown(d)}}},{sortable:false,menuDisabled:true,dataIndex:"time7",width:45,minWidth:45,align:"center",hidden:true,editor:{xtype:"spinnerfield",value:0,onSpinUp:function(){var d=this;changeTimeValueUp(d)},onSpinDown:function(){var d=this;changeTimeValueDown(d)}}},{sortable:false,menuDisabled:true,dataIndex:"time8",width:45,minWidth:45,align:"center",hidden:true,editor:{xtype:"spinnerfield",value:0,onSpinUp:function(){var d=this;changeTimeValueUp(d)},onSpinDown:function(){var d=this;changeTimeValueDown(d)}}},{sortable:false,menuDisabled:true,dataIndex:"time9",width:45,minWidth:45,align:"center",hidden:true,editor:{xtype:"spinnerfield",value:0,onSpinUp:function(){var d=this;changeTimeValueUp(d)},onSpinDown:function(){var d=this;changeTimeValueDown(d)}}}]}],plugins:{ptype:"cellediting",clicksToEdit:1}},0,["logicgridpanel"],["component","box","container","panel","tablepanel","gridpanel","grid","logicgridpanel"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,logicgridpanel:true},["widget.logicgridpanel"],0,[program.view.grid,"LogicGridPanel"],0));function joinRow0(k){var l=k.body.dom.querySelector("table");var i=l.querySelectorAll("td");for(var m=0;m<i.length;m++){if(m!=0&m!=2){i[m].style.display="none"}if(m==2){var j=k.el.getWidth()-parseInt(i[0].style.width);console.log(k.el.getWidth());console.log(i[0].style.width);console.log(j);i[m].style.width=j+"px";i[m].style.minWidth=j+"px";i[m].style.maxWidth=j+"px";i[m].childNodes[0].style.textAlign="right"}}}function changeTimeValueDown(g){var i=g.getValue();var h=0;if(i=="0"){h="-"}if(i=="-"){h="1"}if(i=="1"){h="0"}g.setValue(h)}function changeTimeValueUp(g){var i=g.getValue();var h=0;if(i=="0"){h="1"}if(i=="1"){h="-"}if(i=="-"){h="0"}g.setValue(h)}(Ext.cmd.derive("program.view.window.UploadWindow",Ext.window.Window,{layout:"border",title:"Upload Files",autoShow:true,width:800,height:600,initUpload:function(){var h=this;h.uploader=new plupload.Uploader({browse_button:h.browse_buttonId,url:MyConfig.apiUrl+"?par=uploadfiles&folder="+h.folder,flash_swf_url:"resources/js/Moxie.swf",silverlight_xap_url:"resources/js/Moxie.xap",drop_element:h.getId(),filters:{prevent_duplicates:false,mime_types:[]}});h.uploader.init();var i;var g=[];i=Ext.create("Ext.data.Store",{fields:["loaded","name","loaded",{name:"progress",calculate:function(c){return c.loaded/c.size}},"lastModifiedDate","size","status","type"],data:h.uploader.files});h.down("grid").setStore(i);h.uploader.bind("FilesAdded",function(c,d){if(h.callbackEvent){h.callbackEvent("FilesAdded",c,d)}i.reload()});h.uploader.bind("UploadProgress",function(c,d){console.log(d);i.getById(d.id).set("loaded",d.loaded);i.reload()});h.uploader.bind("UploadComplete",function(){delayToast("Status","Upload files  successfully .");console.log(arguments)})},listeners:{boxready:function(){this.initUpload()},destroy:function(){this.uploader.destroy()}},initComponent:function(){var d=Ext.create("Ext.button.Button",{text:"Select Files"});this.browse_buttonId=d.id;this.tbar=[d];this.buttons=[{text:"Upload",scope:this,handler:function(){var c=this;c.uploader.start()}},{text:"Close",scope:this,handler:function(){this.close()}}];this.items=[{xtype:"grid",width:"100%",height:"100%",region:"center",selModel:{type:"spreadsheet"},columns:[{text:"name",dataIndex:"name",flex:1},{text:"size",dataIndex:"size",flex:1,renderer:function(c){return Ext.util.Format.fileSize(c)}},{text:"lastModifiedDate",dataIndex:"lastModifiedDate",flex:1,renderer:function(c){return new Date(c).toLocaleString()}},{text:"type",dataIndex:"type",flex:1},{text:"progress",dataIndex:"progress",xtype:"widgetcolumn",flex:1,renderer:function(){return"20"},widget:{xtype:"progressbarwidget",textTpl:['{percent:number("0")}%']}}]}];Ext.window.Window.prototype.initComponent.call(this)}},0,["uploadwindow"],["component","box","container","panel","window","uploadwindow"],{component:true,box:true,container:true,panel:true,window:true,uploadwindow:true},["uploadwindow","widget.uploadwindow"],0,[program.view.window,"UploadWindow"],0));(Ext.cmd.derive("program.view.main.toolbar.TopToolbar",Ext.toolbar.Toolbar,{id:"basic-toolbar",controller:"main-toolbar-toptoolbar",viewModel:{type:"main-toolbar-toptoolbar"},initComponent:function(){Ext.apply(this,{width:"100%",items:[{text:"File",glyph:70,menu:[{text:"New",handler:"newClick"},{text:"Open",listeners:{click:"openXmlClick1"}},{text:"Save",handler:function(){var e=getCurrentDrawPanel().title;var g=new Date().getTime();saveXml(e);console.log("saveXml"+(new Date().getTime()-g)+"毫秒")}},{text:"Save as \u2022\u2022\u2022",handler:"saveAsClick"},{text:"replace \u2022\u2022\u2022",handler:"replaceClick"},{text:"Download \u2022\u2022\u2022",handler:"downloadClick"},{text:"Upload \u2022\u2022\u2022",handler:"uploadClick"},{text:"Backup \u2022\u2022\u2022",handler:"backupClick"},{text:"Restor \u2022\u2022\u2022",handler:"RestorClick"},"-",{text:"Exit",handler:function(){Ext.Msg.show({title:"Exit System",message:"Click YES Will exit the system!",buttons:Ext.Msg.YESNO,icon:Ext.Msg.INFO,fn:function(d){if(d==="yes"){location.href="../default.html"}else{if(d==="no"){}else{}}}})}}]},{text:"Help",glyph:72,menu:[{text:"Update",hidden:false,handler:function(){var g=Ext.create("Ext.form.Panel",{width:"100%",height:"100%",defaults:{anchor:"100%"},items:[{xtype:"filefield",name:"file1",fieldLabel:"Plase select Program Install Packages",labelWidth:150,msgTarget:"side",allowBlank:false,anchor:"100%",buttonText:"Select Program...",listeners:{blur:function(){}}}],listeners:{boxready:function(){var c=g.el.dom.querySelector(".x-form-file-input");c.accept="application/x-gzip"}}});var e=Ext.create("Ext.window.Window",{title:"Upload Programming Software",width:550,height:130,bodyPadding:10,frame:true,autoShow:true,layout:"auto",items:g,buttons:[{text:"Upload",handler:function(){console.log(this);if(g.isValid()){g.submit({waitMsg:"Updateing your program...",url:MyConfig.apiUrl+"?par=updateProgram",method:"POST",metadata:{enctype:"multipart/form-data"},Massage:function(d,c){if(c.response.responseText.indexOf("Error")>=0){Ext.Msg.alert("Exception","auto update failure , Please use manual installation package update 。 ");return}Ext.Msg.show({title:"Massage",message:"program update success .",buttons:Ext.Msg.YES,fn:function(i){if(i==="yes"){location.reload()}}})},success:function(d,c){this.Massage(d,c)},failure:function(d,c){this.Massage(d,c)}})}}}]})}},{text:"open permission",handler:function(){myAjax(MyConfig.apiUrl+"?par=openPermission",function(){delayToast("Massage","open permission success .",1000)})}},{text:"About",handler:function(){Ext.Msg.alert("Version","SmartIO Programtools 3.1.0")}}]}]});Ext.toolbar.Toolbar.prototype.initComponent.call(this)}},0,["basic-toolbar"],["component","box","container","toolbar","basic-toolbar"],{component:true,box:true,container:true,toolbar:true,"basic-toolbar":true},["widget.basic-toolbar"],0,[program.view.main.toolbar,"TopToolbar"],0));function saveGridpanelsConfigs(i){if(i!="1000"){i="devsinfo/"+i}else{i="../1000.json"}var p=getCurrentDrawPanel();var l=getCurrentDrawPanelGirdPanels();var m=[];for(var q=0;q<l.length;q++){var r=getTypeGridDatas(l[q]);m.push(r)}var n={datasArray:Ext.encode(p.datas.datasArray),plants:Ext.encode(p.datas.plants),gridpanelConfigs:Ext.encode(m)};console.log(n);Ext.Ajax.request({url:"resources/xmlRW.php",params:{fileName:i,rw:"w",content:Ext.encode(n)},success:function(d){var c=d.responseText}})}function getGridPanelRowsIds(h){var k=h.el.dom.querySelectorAll(".x-grid-row");var i=[];for(var j=0;j<k.length;j++){i.push(k[j].id)}return i}function getTypeGridDatas(k){var j=getGridPanelConfig(k);var l=getStoreConfig(k);var p=k.datas;j=Ext.decode(Ext.encode(j));l=Ext.decode(Ext.encode(l));p=Ext.decode(Ext.encode(p));if(k.datas.type==56){var m=Ext.getCmp("win"+k.id).down("grid").getColumns();for(var n=0;n<m.length;n++){if(m[n].hidden){p.rows=n;break}p.rows=10}}return{typegrid:j,store:l,datas:p}}function getGridPanelConfig(g){var i=g.getConfig();var h=getGridPanelRowsIds(g);return{icon:i.icon,title:i.title,x:g.x,y:g.y,trsIds:Ext.encode(h)}}function getStoreConfig(m){var r=m.getStore();var s=r.data.items;r.commitChanges();var n=[];for(var q=0;q<s.length;q++){var i;if(s[q].data.select){i={name:s[q].data.name,value:s[q].data.value,select:s[q].data.select}}else{if(s[q].data.time){var p=s[q].data;i={name:p.name,value:p.value,delay:p.delay,time:p.time,time1:p.time1,time2:p.time2,time3:p.time3,time4:p.time4,time5:p.time5,time6:p.time6,time7:p.time7,time8:p.time8,time9:p.time9}}else{i={name:s[q].data.name,value:s[q].data.value}}}n.push(i)}var t=getStoreFields(r);return{data:n,fields:t}}function getStoreDatas(k){var l=k.data.items;var m=[];var i={};for(var j=0;j<l.length;j++){m[j]={name:l[j].data.name,value:l[j].data.value}}return m}function getStoreFields(h){var i=[];for(var g=0;g<h.config.fields.length;g++){i.push(h.config.fields[g])}return i}(Ext.cmd.derive("program.view.massage.ProgressBarWin",Ext.window.Window,{autoShow:true,title:"Please Wait ...",allCount:null,autoSetText:true,autoClose:true,controller:"massage-progressbarwin",viewModel:{type:"massage-progressbarwin"},initComponent:function(){var d=this;d.progress=Ext.create("Ext.Progress",{width:300,value:0,text:"ready ..."});d.items=[d.progress];Ext.window.Window.prototype.initComponent.call(this)},setValue:function(h){var i=this;var g=h/i.allCount;i.progress.setValue(g);if(i.autoSetText){i.setText(Ext.util.Format.percent(g))}if(i.autoClose==true&g>=1){i.setText("done.");setTimeout(function(){i.close()},1000)}},setText:function(e){var g=this;g.progress.setText(e)}},0,0,["component","box","container","panel","window"],{component:true,box:true,container:true,panel:true,window:true},["progressbarwin"],0,[program.view.massage,"ProgressBarWin"],0));(Ext.cmd.derive("program.view.window.ShowDevices",Ext.window.Window,{controller:"window-showdevices",viewModel:{type:"window-showdevices"},autoShow:true,height:600,layout:{type:"table",columns:3,tableAttrs:{style:{flex:1,width:"100%"}}},defaults:{flex:1,margin:3},autoScroll:true,device:"1000",ip:"127.0.0.1",port:"6379",initComponent:function(){var i=this;var k=["AI","AO","AV","BI","BO","BV"];var j=[];for(var l=0;l<k.length;l++){var m=My.getDevsByDevName(location.host,"6379",i.device);m.setFilters([function(c){return c.data.value.substr(0,5)==i.device+l}]);j.push({title:k[l],xtype:"grid",border:true,height:340,maxHeight:340,fields:["name","value","Present_Value","update"],store:m,autoScroll:true,columns:[{dataIndex:"name",text:"name",flex:3},{dataIndex:"value",text:"key",flex:1,hidden:true},{dataIndex:"Present_Value",text:"value",flex:2},{dataIndex:"update",text:"UPdate",flex:2}]})}i.title=i.device+" devices";i.width=Ext.getBody().getWidth();i.items=j;Ext.window.Window.prototype.initComponent.call(this)}},0,["showdevices"],["component","box","container","panel","window","showdevices"],{component:true,box:true,container:true,panel:true,window:true,showdevices:true},["showdevices","widget.showdevices"],0,[program.view.window,"ShowDevices"],0));(Ext.cmd.derive("program.view.main.Main",Ext.panel.Panel,{style:{},bind:{},layout:{type:"border",align:"stretch"},controller:"main",viewModel:{type:"main"},title:"<div style='z-index:0;top:0px;width:100%;line-height:35px;padding:0 0 0 5px;margin:0;font-size: 20px;color:white;' class='smartiologo'><img style='height:30px;' src='resources/img/PNG/SmartIO.png'/>    SmartIO </div>",tbar:[{xtype:"basic-toolbar",padding:0}],listeners:{render:"boxready"},items:[{xtype:"basic-tabs",region:"west",width:190,resizable:true,title:"Projects",collapsible:true,split:true},Ext.create("program.view.tab.FramedTabs",{region:"center",height:"200%",width:"200%"})]},0,["app-main"],["component","box","container","panel","app-main"],{component:true,box:true,container:true,panel:true,"app-main":true},["widget.app-main"],0,[program.view.main,"Main"],0));function isTime(g){var h=g.split(":");if(h.length!=3){return"This field error"}if(!(h[0]>=0&h[0]<=23&h[1]>=0&h[1]<=59&h[2]>=0&h[2]<=59)){return"This field error"}for(var i=0;i<h.length;i++){if(isNaN(h[i])||(h[i]+"")=="-0"){return"This field error"}}return true}function isBarCollsion(m,h,n,l,p,k){console.log(arguments);if(m>=n&&m<=n+p&&h>=l&&h<=l+k){return true}return false}function myAjax(i,g,h){Ext.Ajax.request({url:i||MyConfig.apiUrl,method:"GET",async:false,params:h||{},success:g})}My.getDevsByDevName=function(h,j,i){var k=null;console.log(arguments);if(!h&!j){return k}Ext.Ajax.request({url:MyConfig.apiUrl,async:false,params:{par:"getDevsByDevName",ip:h,port:j,devname:i},success:function(g){var e=g.responseText;try{var c=Ext.decode(e);if(c.success){Ext.Msg.alert("info",c.info);return k}else{k=Ext.create("Ext.data.Store",{fields:["name","value","Present_Value","update"],data:c})}}catch(d){}}});return k};var testwin=null;var teststore=null;var isDebug=false;(Ext.cmd.derive("program.view.window.RenameWindow",Ext.window.Window,{width:800,height:1024,controller:"window-renamewindow",viewModel:{type:"window-renamewindow"},constrainHeader:true,autoShow:true,layout:"accordion",scrollable:true,listeners:{boxready:"boxready"},xmlSources:function(){var g=this;var e=g.text.substring(0,g.text.indexOf("."));g.title=e;g.sDevName=e;g.items=[];Ext.Ajax.request({async:false,url:"resources/devxml/"+g.text,success:function(y,D){var d=y.responseXML;if(!d){Ext.Msg.alert("Error","invalid data !")}var C=d.querySelectorAll("key");var F=[];for(var i=0;i<C.length;i++){F[i]=C[i]}F.sort(function(h,k){var l=h.getAttribute("number");var m=k.getAttribute("number");return l-m});for(var i=0;i<F.length;i++){var H=F[i].querySelector("Object_Name").innerHTML;var c=F[i].getAttribute("number").substr(4,1);if(c=="3"||c=="4"){var z=F[i].getAttribute("number").substr(0,4);g.devName=z}var J=g["type"+c];if(!J){continue}var A={};for(var j=0;j<J.length;j++){var E=F[i].getElementsByTagName(J[j])[0];var G=J[j];var I;if(E){I=E.innerHTML}else{I=""}A[G]=I}console.log(A);var B=g.createDevForm({Object_Name:H,key:F[i].getAttribute("number")});g.items.push(B);B.getForm().setValues(A)}},failure:function(d,c){Ext.Msg.alert("Error","server-side failure with status code "+d.status)}})},createDevForm:function(v){var p=this;var t=v.key.substr(4,1);var r=p["type"+t];var q=[];if(!r){console.log("fields="+r);return}for(var u=0;u<r.length;u++){console.log(r[u]);var i=r[u];var s=null;if(i=="Inactive_Text"){s={fieldLabel:i,name:i,xtype:"combobox",editable:false,store:p.I_T_D}}else{if(i=="Active_Text"){s={fieldLabel:i,name:i,xtype:"combobox",editable:false,store:p.A_T_D}}else{if(i=="Device_Type"){var w=Ext.create("Ext.data.Store",{autoLoad:false,fields:["name"],data:[{name:"0-10=0-100"},{name:"NTC10K"},{name:"NTC20K"},{name:"BI"},{name:"hide"}]});s={fieldLabel:i,xtype:"combobox",name:i,store:w,validator:function(c){if(c=="NTC10K"||c=="NTC20K"||c=="BI"||c=="hide"){return true}var g=c.split("=");if(g.length!=2){return false}for(var d=0;d<g.length;d++){var e=g[d].split("-");if(e.length<2||e.length>3){return false}isNaN(e[0]);isNaN(e[1])}return true},displayField:"name",valueField:"name"}}else{if(i=="Alarm_Value"){console.log("Alarm_Value");s={fieldLabel:i,name:i,listeners:{focus:function(d,c){Ext.create("program.view.window.AlarmWindow",{id:"alermwindow",sDevNodeName:x.key,sDevName:x.key.substr(0,4),sDevNodeType:x.key.substr(4,1),alarmData:d.getValue(),localData:true,submitAlarm:function(e){d.setValue(e)}})}}}}else{if(i=="Object_Name"){s={fieldLabel:i,name:i,value:v.Object_Name,listeners:{change:function(d,e){if(d.name=="Object_Name"){var c=d.up("form");if(c){c.setTitle(e)}}if(!c){return}}}}}else{if(i=="Units"){s={fieldLabel:i,name:i,value:v.Units,listeners:{focus:function(c){Ext.create("program.view.window.AttributeTableWin",{callback:function(d){c.setValue(d)}})}}}}else{s={fieldLabel:i,name:i}}}}}}}q.push(s)}console.log(v);var x=Ext.create("Ext.form.Panel",{title:v.Object_Name,key:v.key,defaultType:"textfield",defaults:{anchor:"100%"},minHeight:300,url:MyConfig.apiUrl+"?par=setRenameValue&devname="+p.sDevName,scrollable:true,bodyPadding:10,items:q,tbar:[{text:"commit",hidden:true,handler:function(){x.saveToDataBase()}}],saveToDataBase:function(){var d=this;d.header.remove(d.p);var g=d.key.substr(4,1);var e=d.query("[name=Device_Type]")[0];if(!!e){if(e.value=="BI"&g=="0"){console.log(e.value);return}if(e.value=="hide"){console.log(e.value);return}}var c=Ext.create("Ext.ProgressBar",{width:200,buttonAlign:"left",value:0});d.p=c;d.header.insert(1,c);var k=d.items.items;var h=k.length;for(var j=0;j<k.length;j++){(function(n,l,m){setTimeout(function(){c.setValue((m+1)/h);changeDevValue(n.key,l.name,l.value)},m*10)})(d,k[j],j)}}});return x},databaseSources:function(){var g=this;g.title=g.sDevName+" rename";var e=g.sDevName;g.items=[];myAjax(MyConfig.apiUrl+"?par=getKeys&devname="+e,function(i){var m=Ext.decode(i.responseText);console.log(m);m.sort(function(j,k){var p=j.key;var h=k.key;return p-h});var l=Ext.create("Ext.data.JsonStore",{fields:g.fields,storeId:"testStore",data:m});l.setData(m);for(var d=0;d<m.length;d++){var c=g.createDevForm(m[d]);console.log(c);if(c!=undefined){g.items.push(c);c.getForm().loadRecord(l.getAt(d))}}})},getChartStoreData:function(){var e=this;var g=e.items.items;return devsSplitType(g)},getFormValues:function(){var j=this;var m=j.items.items;var i={AI:0,AO:0,AV:0,BI:0,BO:0,BV:0,SCHEDULE:0,type0:[],type1:[],type2:[],type3:[],type4:[],type5:[],type6:[]};for(var l=0;l<m.length;l++){if(m[l].key){var k=m[l].key.substr(4,1);if(k==0){i.AI++;i.type0.push(m[l])}if(k==1){i.AO++;i.type1.push(m[l])}if(k==2){i.AV++;i.type2.push(m[l])}if(k==3){i.BI++;i.type3.push(m[l])}if(k==4){i.BO++;i.type4.push(m[l])}if(k==5){i.BV++;i.type5.push(m[l])}if(k==6){i.SCHEDULE++;i.type6.push(m[l])}}}return i},insrtDevForm:function(p,i){var r=this;var u={type0:{Offset:"0.100",Description:"ANALOG INPUT 1",Device_Type:"BI",Units:"98",Min_Pres_Value:"0.00",Max_Pres_Value:"100.000",COV_Increment:"1.000",High_Limit:"100.000",Low_Limit:"0.000",Deadband:"0.000",Limit_Enable:"0",Event_Enable:"0",Notify_Type:"0",Time_Delay:"0",Notification_Class:"1"},type1:{Offset:"1.000",Description:"ANALOG OUTPUT1",Device_Type:"0-10=0-100",COV_Increment:"0.500",High_Limit:"100",Low_Limit:"0.000",Deadband:"0.000",Limit_Enable:"0",Event_Enable:"0",Notify_Type:"0",Time_Delay:"0",Notification_Class:"1"},type2:{Description:"ANALOG VALUE 1",COV_Increment:"0.500",High_Limit:"100",Low_Limit:"0.000",Deadband:"0.000",Limit_Enable:"0",Event_Enable:"0",Notify_Type:"0",Time_Delay:"0",Notification_Class:"1"},type3:{Description:"BINARY_INPUT 1",Device_Type:"normal open",Inactive_Text:"Off",Active_Text:"On",Event_Enable:"0",Notify_Type:"0",Time_Delay:"0",Alarm_Value:"0",Notification_Class:"1"},type4:{Description:"BINARY_OUTPUT 1",Device_Type:"normal",Inactive_Text:"Off",Active_Text:"On",Event_Enable:"0",Notify_Type:"0",Time_Delay:"0",Alarm_Value:"0",Notification_Class:"1"},type5:{Description:"BINARY_VALUE1",Device_Type:"normal",Inactive_Text:"Off",Active_Text:"On",Event_Enable:"0",Notify_Type:"0",Time_Delay:"0",Alarm_Value:"0",Notification_Class:"1"},type6:{Description:"SCHEDULE1",Priority_For_Writing:"10"}};var t=r.items.items;console.log(p);var w=0;for(var v=0;v<t.length;v++){if(p<t[v].key){w=v;console.log(t[v].key,"----",v);break}}var x=r.createDevForm({key:p,Object_Name:i});var s=p.substr(4,1);var q=u["type"+s];x.getForm().setValues(q);if(w){r.insert(w,x)}else{r.add(x)}},deleteDevForm:function(i){console.log(i);var g=this;var h=g.query("[key="+i+"]")[0];g.remove(h)},initComponent:function(){var e=this;e.setHeight(680);e.setWidth(512);e.setMaxHeight(Ext.getBody().getHeight());var g=["Object_Name","Offset","Description","Device_Type","Inactive_Text","Active_Text","Units","Min_Pres_Value","Max_Pres_Value","COV_Increment","High_Limit","Low_Limit","Deadband","Limit_Enable","Event_Enable","Present_Value","Offset","Set_Alarm","AV_count","BV_count","SCHEDULE_count"];e.type0=["Object_Name","Offset","Description","Device_Type","Units","Min_Pres_Value","Max_Pres_Value","COV_Increment","High_Limit","Low_Limit","Deadband","Limit_Enable","Event_Enable","Notify_Type","Time_Delay","Notification_Class"];e.type1=["Object_Name","Offset","Description","Device_Type","COV_Increment","High_Limit","Low_Limit","Deadband","Limit_Enable","Event_Enable","Notify_Type","Time_Delay","Notification_Class"];e.type2=["Object_Name","Description","COV_Increment","High_Limit","Low_Limit","Deadband","Limit_Enable","Event_Enable","Notify_Type","Time_Delay","Notification_Class"];e.type3=["Object_Name","Description","Device","Inactive_Text","Active_Text","Event_Enable","Notify_Type","Time_Delay","Alarm_Value","Notification_Class"];e.type4=["Object_Name","Description","Device_Type","Inactive_Text","Active_Text","Event_Enable","Notify_Type","Time_Delay","Alarm_Value","Notification_Class"];e.type5=["Object_Name","Description","Device_Type","Inactive_Text","Active_Text","Event_Enable","Notify_Type","Time_Delay","Alarm_Value","Notification_Class"];e.type6=["Object_Name","Description","Priority_For_Writing","Alarm"];e.type8=["Object_Name"];e.I_T_D=ActiveJson.get("Inactive_Text_Defaults");e.A_T_D=ActiveJson.get("Active_Text_Defaults");var g=["AI_count","AO_count","AV_count","BI_count","BO_count","BV_count","SCHEDULE_count"].concat(e.type0).concat(e.type1).concat(e.type2).concat(e.type3).concat(e.type4).concat(e.type5).concat(e.type6);e.fields=g;if(e.text){e.xmlSources();e.xmlsources=true}else{if(e.sDevName){e.databaseSources()}}Ext.window.Window.prototype.initComponent.call(this)},iterationItems:function(h){var i=this;var k=i.items.items;for(var j=1;j<k.length;j++){h(k[j],j)}return i},getXmlStr:function(){var U=this;var X=U.items.items;var R=document.createElement("root");var L=document.createElement("AI_count");var V=document.createElement("AO_count");var ab=document.createElement("AV_count");var ae=document.createElement("BI_count");var K=document.createElement("BO_count");var H=document.createElement("BV_count");var I=document.createElement("SCHEDULE_count");var W=0;var T=0;var Y=0;var i=0;var af=0;var S=0;var aa=0;R.appendChild(L);R.appendChild(V);R.appendChild(ab);R.appendChild(ae);R.appendChild(K);R.appendChild(H);R.appendChild(I);for(var P=1;P<X.length;P++){var ag=X[P].getForm();var N=ag.getFieldValues();var O=document.createElement("key");var ac=X[P].key.substr(4,1);if(ac=="0"){W++}if(ac=="1"){T++}if(ac=="2"){Y++}if(ac=="3"){i++}if(ac=="4"){af++}if(ac=="5"){S++}if(ac=="6"){aa++}if(U.deviceName){var J=U.deviceName+(X[P].key.substr(4,7));O.setAttribute("number",J)}else{O.setAttribute("number",X[P].key)}for(var ad in N){var Q=document.createElement(ad);Q.innerHTML=N[ad];O.appendChild(Q)}R.appendChild(O);myAjax(MyConfig.apiUrl+"?par=getAlarm&nodename="+X[P].key,function(g){try{var d=Ext.decode(g.responseText);if(d.Set_Alarm){var j=d.Set_Alarm[0];for(var e in j){var h=document.createElement(e);h.innerHTML=j[e];O.appendChild(h)}}}catch(c){console.log(c)}})}L.innerHTML=W;V.innerHTML=T;ab.innerHTML=Y;ae.innerHTML=i;K.innerHTML=af;H.innerHTML=S;I.innerHTML=aa;var Z=document.createElement("div");Z.appendChild(R);var M=Z.innerHTML;for(var P=0;P<U.fields.length;P++){var ah=U.fields[P];console.log(U.fields[P]);M=M.replaceAll(ah.toLocaleLowerCase(),U.fields[P])}return M},saveXml:function(k){var j=this;var l=j.getXmlStr();l=formatXml(l);console.log(l);var k="devxml/"+k+".xml";var m={rw:"w",fileName:k,content:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\r\n'+l};$.ajax({type:"POST",url:"resources/xmlRW.php",data:m,success:function(){delayToast("Status","Saved file "+m.fileName+" successfully.",0);i(k)}});function i(c){myAjax(null,function(e){try{var g=Ext.decode(e.responseText);if(g.success){delayToast("Massage",g.info)}else{Ext.Msg.alert("Massage",g.info)}}catch(d){Ext.Msg.alert("error",d);throw new Error(d)}},{par:"moveXml",filename:c})}setTimeout(function(){j.close()},1000)},build:function(){var g=this;var i=g.items.items;for(var h=1;h<i.length;h++){(function(c,d,e){setTimeout(function(){d.expand();d.saveToDataBase()},e*1000)})(g,i[h],h)}},relaodRenameWindow:function(){var d=this;setTimeout(function(){if(d.sources=="db"){Ext.create("program.view.window.RenameWindow",{sources:"db",sDevName:d.sDevName});return}if(d.sources=="xml"){Ext.create("program.view.window.RenameWindow",{sources:"xml",text:d.text});return}},3000)},buttons:[{text:"Save ...",handler:function(){var d=this.up("window");Ext.MessageBox.prompt("Save ...","please input device number",function(c,g){if(c=="ok"){if(isNaN(g)||g.length!=4){Ext.Msg.alert("Key Exception","The key ,Does not meet the requirements");return}if(g){d.deviceName=g;d.saveXml(g)}else{Ext.Msg.alert("Exception","filename exception .")}}})}},{text:"replace ...",handler:function(){var h=this.up("window");var i=h.type0.concat(h.type1).concat(h.type2).concat(h.type3).concat(h.type4).concat(h.type5).concat(h.type6).unique1();var g=Ext.create("Ext.window.Window",{title:"Replace \u2022\u2022\u2022",frame:true,width:325,bodyPadding:10,autoShow:true,defaultType:"textfield",defaults:{anchor:"100%"},items:[{itemId:"field",margin:10,xtype:"combobox",allowBlank:false,fieldLabel:"Fields",store:i,editable:false,queryMode:"local",autoSelect:false},{itemId:"oldvalue",margin:10,xtype:"textfield",allowBlank:false,fieldLabel:"old value"},{itemId:"newvalue",margin:10,xtype:"textfield",allowBlank:false,fieldLabel:"new value"}],buttons:[{text:"Ok",handler:function(){var c=g.down("combobox").getValue();if(c==null){Ext.Msg.alert("Info","Plase select file name.");return}var d=g.getComponent("field").getValue();var k=g.getComponent("oldvalue").getValue();var e=g.getComponent("newvalue").getValue();h.replaceFieldValue(d,k,e);g.close()}},{text:"Close",handler:function(){g.close()}}]})}},{text:"build",handler:function(){var d=this.up("window");Ext.MessageBox.show({title:"Build Database?",msg:"Do you want to build the data into the database?",buttons:Ext.MessageBox.OKCANCEL,scope:d,fn:function(c){if(c=="ok"){d.build()}},animateTarget:this,icon:Ext.MessageBox.QUESTION})}},"->",{text:"Ok",handler:function(){var d=this.up("window");console.log(d.sDevName);console.log(d.deviceName);Ext.MessageBox.prompt("Save","please input device name",function(c,g){if(c=="ok"){if(isNaN(g)||g.length!=4){Ext.Msg.alert("Key Exception","The key ,Does not meet the requirements");return}if(g){d.deviceName=g;d.saveXml(d.sDevName)}else{Ext.Msg.alert("Exception","filename exception .")}}},this,"",d.deviceName||d.sDevName);return}},{text:"Close",handler:function(g){var e=g.up("window");e.close()}}],replaceFieldValue:function(i,n,k){var l=this;var p=l.query("[name="+i+"]");for(var m=0;m<p.length;m++){p[m].setValue(p[m].getValue().replace(n,k))}Ext.Msg.alert("Massage",p.length+" project have been changed")}},0,["renamewindow"],["component","box","container","panel","window","renamewindow"],{component:true,box:true,container:true,panel:true,window:true,renamewindow:true},["widget.renamewindow"],0,[program.view.window,"RenameWindow"],0));function devsSplitType(s){console.log(s);var v={name:"AI",value:0,devs:"",keys:[]};var m={name:"AO",value:0,devs:"",keys:[]};var q={name:"AV",value:0,devs:"",keys:[]};var p={name:"BI",value:0,devs:"",keys:[]};var r={name:"BO",value:0,devs:"",keys:[]};var u={name:"BV",value:0,devs:"",keys:[]};var n={name:"SCHEDULE",value:0,devs:"",keys:[]};s.find(function(d,c,e){if(d.key){if(d.key.substr(4,1)==0){v.value++;v.devs+=d.title+"";v.keys.push(d)}}});s.find(function(d,c,e){if(d.key){if(d.key.substr(4,1)==1){m.value++;m.devs+=d.title+"";m.keys.push(d)}}});s.find(function(d,c,e){if(d.key){if(d.key.substr(4,1)==2){q.value++;q.devs+=d.title+"";q.keys.push(d)}}});s.find(function(d,c,e){if(d.key){if(d.key.substr(4,1)==3){p.value++;p.devs+=d.title+"";p.keys.push(d)}}});s.find(function(d,c,e){if(d.key){if(d.key.substr(4,1)==4){r.value++;r.devs+=d.title+"";r.keys.push(d)}}});s.find(function(d,c,e){if(d.key){if(d.key.substr(4,1)==5){u.value++;u.devs+=d.title+"";u.keys.push(d)}}});s.find(function(d,c,e){if(d.key){if(d.key.substr(4,1)==6){n.value++;n.devs+=d.title+"";n.keys.push(d)}}});var t=[];t.push(v);t.push(m);t.push(q);t.push(p);t.push(r);t.push(u);t.push(n);console.log(t);return t}(Ext.cmd.derive("program.view.window.ReplaceDevInfo",program.view.window.EditFile,{controller:"window-replacedevinfo",viewModel:{type:"window-replacedevinfo"},bind:{title:"Edit {title}"},constructor:function(){var h=this;var g=h;h.showTextArea=false;h.showCombo=true;h.showFileButton=false;h.typeCombo=Ext.create("Ext.form.field.ComboBox",{fieldLabel:"Fields",store:Ext.create("Ext.data.Store",{field:["name","value"],data:[{name:"key",value:"value"},{name:"title",value:"title"}]}),displayField:"name",valueField:"value",listeners:{beforedestroy:function(){return false},change:function(){console.log("change")}}});h.combo=Ext.create("Ext.form.field.ComboBox",{fieldLabel:"Select File",store:getDevInfoFileNames(),editable:false,viewModel:h.viewModel,bind:{value:"{title}"},listeners:{change:function(c,d){h.loadFile(d)}}});h.loadFile=function(c){h.currentFile=c;myAjax("resources/devsinfo/"+c,function(d){g.textArea.setValue(d.responseText);i.changeNode(d.responseText)})};h.okHandler=function(){Ext.Ajax.request({url:"resources/xmlRW.php",async:false,method:"POST",params:{fileName:"devsinfo/"+g.combo.value,content:g.textArea.value,rw:"w"},success:function(c){if(g.textArea.value.length==c.responseText){delayToast("Maasage","save success ."+c.responseText)}else{Ext.Msg.alert("Error",c.responseText)}h.loadFile(h.currentFile);console.log(arguments)}})};h.replaceOkHandler=function(e,t){var u=g;console.log(u.typeCombo.value);var q=u.typeCombo.value;var r=Ext.decode(Ext.decode(u.textArea.value).gridpanelConfigs);var c=0;for(var d=0;d<r.length;d++){var s=r[d].datas;if(s[q]){s[q]=s[q].replace(e,t);c++}console.log(s)}Ext.Msg.show({title:"Save Changes?",message:'Are you want replace <code style="color: red;">'+q+'</code> The old value is <code style="color: red;">'+e+'</code> new value is <code style="color: red;">'+t+"</code>, You are closing a tab that has unsaved changes. Would you like to save your changes?",buttons:Ext.Msg.YESNOCANCEL,icon:Ext.Msg.QUESTION,fn:function(j){if(j==="yes"){u.textArea.setValue(Ext.encode(r));Ext.Msg.alert("Massage","Modified "+c+" places .")}}})};console.log("before - constructor ReplaceDev");program.view.window.EditFile.prototype.constructor.call(this);h.add({bind:{html:"Current File is <code style='color: red;font-size: 17px;'>{title}</code>"}});var i=Ext.create("program.view.tree.ReplaceKey");h.add(i);console.log(h.getDockedItems()[1].insert(1,Ext.create("Ext.button.Button",{text:"Replace Type",handler:"replaceTypeClick"})));console.log("after - constructor ReplaceDev")},initComponent:function(){var d=this;console.log("before - initComponent ReplaceDev");program.view.window.EditFile.prototype.initComponent.call(this);console.log("after - initComponent ReplaceDev")}},1,0,["component","box","container","panel","window"],{component:true,box:true,container:true,panel:true,window:true},0,0,[program.view.window,"ReplaceDevInfo"],0));(Ext.cmd.derive("program.view.tree.ReplaceKey",Ext.tree.Panel,{controller:"tree-replacekey",viewModel:{type:"tree-replacekey"},region:"center",useArrows:true,animate:true,checkPropagation:"both",rootVisible:false,bufferedRenderer:false,maxHeight:400,autoScroll:true,tbar:[{text:"Expand All",scope:this,handler:function(d){d.up("treepanel").expandAll()}},{text:"Collapse All",scope:this,handler:function(d){d.up("treepanel").collapseAll()}}],listeners:{itemcontextmenu:"itemcontextmenu"},returnValue:function(){var d=this;d.up("window").textArea.setValue(d.datasource)},replaceController:function(i){var l=this;var k=Ext.decode(l.datasource);var m=Ext.decode(k.gridpanelConfigs);m=i(m);k.gridpanelConfigs=Ext.encode(m);var j=Ext.encode(k);l.changeNode(j);l.returnValue();delayToast("Massage","ok")},keyDelete:function(d){this.replaceController(function(c){c=c.filter(function(h,i){if(h.datas.value==d){return false}else{return true}});return c})},keyReplace:function(g,e){this.replaceController(function(i){for(var c=0;c<i.length;c++){var d=i[c].datas.value;if(d){console.log(d,d.substr(0,4),g);if(d.substr(0,4)==g){i[c].datas.value=e+d.substr(4,3);console.log(i[c].datas.value)}}}return i})},nameReplace:function(i,h,g){this.replaceController(function(e){for(var c=0;c<e.length;c++){console.log(e[c]);var d=e[c].datas.value;if(i==d){e[c].typegrid.title=g}}return e})},numberReplace:function(g,e){this.replaceController(function(i){for(var c=0;c<i.length;c++){var d=i[c].datas.value;console.log(d==g);if(g==d){i[c].datas.value=d.substr(0,5)+e;console.log(i[c].datas.value)}}return i})},changeNode:function(h){var i=this;i.datasource=h;var k=i.getTreeStoreRoot(h);console.log(k);var j=Ext.create("Ext.data.TreeStore",{root:k});i.setStore(j)},getTreeStoreRoot:function(){var u=this;var t=Ext.decode(Ext.decode(u.datasource).gridpanelConfigs);t.sort(function(c,d){return c.datas.value-d.datas.value});t=t.filter(function(c,d,e){if(c.datas.type>10){return false}else{return true}});var B=[];for(var x=0;x<t.length;x++){if(t[x].datas.type<10){B.push(t[x].datas.value.substr(0,4))}}var i=B.unique1();var v=[];var w=["AI","AO","AV","BI","BO","BV"];for(var x=0;x<i.length;x++){var A=[];for(var y=0;y<w.length;y++){var j=[];for(var z=0;z<t.length;z++){if(i[x]+y==t[z].datas.value.substr(0,5)){j.push({qtip:t[z].datas.value,qtitle:"key",text:t[z].typegrid.title+"  ("+t[z].datas.value+")",name:t[z].typegrid.title,key:t[z].datas.value,leaf:true})}}if(j.length>0){A.push({text:w[y],children:j})}}v.push({text:i[x],children:A})}var k={children:v};return k}},0,0,["component","box","container","panel","tablepanel","treepanel"],{component:true,box:true,container:true,panel:true,tablepanel:true,treepanel:true},0,0,[program.view.tree,"ReplaceKey"],0));(Ext.cmd.derive("program.view.window.SynchrnousWindow",Ext.window.Window,{height:600,width:750,autoShow:true,layout:"hbox",controller:"window-synchrnouswindow",viewModel:{type:"window-synchrnouswindow"},initComponent:function(){var g=[];var e=this;myAjax(MyConfig.apiUrl+"?par=getAllScheduleNamesOuter&devname="+e.sDevName,function(i){var c=Ext.decode(i.responseText);c.sort();for(var d=0;d<c.length;d++){g.push({name:c[d]})}});e.title=e.sDevNodeName+" Synchrnous";e.items=[{xtype:"gridpanel",flex:4,border:true,margin:5,selModel:"checkboxmodel",height:"100%",title:e.sDevName+" Schedule",store:Ext.create("Ext.data.Store",{fields:[{name:"name",type:"string"}],data:[{name:e.sDevNodeName}]}),columns:[{header:"Name",dataIndex:"name",flex:1}]},{xtype:"panel",width:90,height:"100%",layout:{type:"center"},items:[{xtype:"button",margin:"0 0 70 0",text:"Ok",scale:"large",handler:function(){if(e.items.items[0].getSelectionModel().selected.items.length==0||e.items.items[2].getSelectionModel().selected.items.length==0){Ext.Msg.alert("Massage","Please select Schedule .");return}var r="";myAjax(MyConfig.apiUrl+"?par=getvalue&type=Weekly_Schedule&nodename="+e.sDevNodeName,function(h){r=h.responseText});var i="";myAjax(MyConfig.apiUrl+"?par=getvalue&type=Effective_Period&nodename="+e.sDevNodeName,function(h){i=h.responseText});console.log(i);var q=e.publishWeek(Ext.decode(r));var c=e.items.items[2].getSelectionModel().selected.items;for(var j=0;j<c.length;j++){console.log(c[j]);Ext.Ajax.request({url:MyConfig.apiUrl+"?par=changevaluenopublish&type=Weekly_Schedule&nodename="+c[j].data.name,params:{value:r},async:false,success:function(k){var h=k.responseText;delayToast("Massage","Change "+c[j].data.name+" Weekly_Schedule successfully .")}});Ext.Ajax.request({url:MyConfig.apiUrl+"?par=changevaluenopublish&type=Effective_Period&nodename="+c[j].data.name,params:{value:i},async:false,success:function(h){delayToast("Massage","Change "+c[j].data.name+" Effective_Period successfully .")}});console.log(q);devPublish((c[j].data.name).substr(0,4)+".8.*",c[j].data.name+"\r\nEffective_Period\r\n"+i.replaceAll("\\s*|\t|\r|\n",""));for(var p=0;p<q.length;p++){var d=Ext.encode(q[p]).replaceAll("\\s*|\t|\r|\n","");devPublish((c[j].data.name).substr(0,4)+".8.*",c[j].data.name+"\r\nWeekly_Schedule\r\n"+d)}}e.close()}}]},{xtype:"gridpanel",title:"Other Schedule",flex:4,selModel:{selType:"checkboxmodel",mode:"SIMPLE"},border:true,height:"100%",margin:5,store:Ext.create("Ext.data.Store",{fields:[{name:"name",type:"string"}],data:g}),columns:[{header:"Name",dataIndex:"name",flex:1}]}];Ext.window.Window.prototype.initComponent.call(this)},buttons:[{text:"close",handler:function(){this.up("window").close()}}],publishWeek:function(l){var i=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];console.log(l);var m=[];for(var k=0;k<i.length;k++){var j={Weekly_Schedule:[]};j.Weekly_Schedule.push({day:(k+1),value:l.Weekly_Schedule[i[k]]});m.push(j)}return m}},0,0,["component","box","container","panel","window"],{component:true,box:true,container:true,panel:true,window:true},0,0,[program.view.window,"SynchrnousWindow"],0));(Ext.cmd.derive("program.view.grid.TypeGrid",Ext.grid.Panel,{controller:"grid-typegrid",viewModel:{type:"grid-typegrid"},resizable:false,collapsible:true,scrollable:false,draggable:{autoStart:true,tolerance:1000},sortable:false,enableColumnMove:false,enableColumnHide:false,constrainHeader:false,hideable:false,iconCls:"titleIcon",viewConfig:{stripeRows:true,enableTextSelection:true},listeners:{render:"render1",viewready:"girdviewready",itemdblclick:"girditemdblclick",boxready:"boxready",move:"girdmove",itemclick:"griditemclick",itemmousedown:"griditemmousedown",itemmouseenter:"griditemmouseenter",itemmouseup:"griditemmouseup"},hideHeaders:true,columnLines:true,initComponent:function(){var d=this;this.width=90;this.columns=[{multiColumnSort:false,text:"type",flex:1,sortable:false,dataIndex:"name",detachOnRemove:true,collapsible:false,editor:{allowBlank:false}},{text:"value",flex:1,sortable:false,align:"right",dataIndex:"value",editor:"textfield"}];Ext.grid.Panel.prototype.initComponent.call(this)}},0,["typegrid"],["component","box","container","panel","tablepanel","gridpanel","grid","typegrid"],{component:true,box:true,container:true,panel:true,tablepanel:true,gridpanel:true,grid:true,typegrid:true},["widget.typegrid"],0,[program.view.grid,"TypeGrid"],0));(Ext.cmd.derive("program.view.grid.menu.gridmenu",Ext.menu.Menu,{controller:"grid-menu-gridmenu",viewModel:{type:"grid-menu-gridmenu"},floating:true,autoShow:true,shadow:"drop",shadowOffset:5,border:"0 0 0 1",style:{borderColor:"#111"},listeners:{show:"show"},items:[{text:"cut",itemId:"cut",disabled:true,listeners:{click:"cupclick"}},{text:"copy",itemId:"copy",disabled:true,listeners:{click:"copyclick"}},{text:"paste",itemId:"paste",disabled:true,listeners:{click:"pasteclick"}},{text:"deplicate",itemId:"deplicate",disabled:true,listeners:{click:"deplicateclick"}},{text:"delete",itemId:"delete",disabled:true,border:"0 0 1 0",style:{borderColor:"#111"},listeners:{click:"deleteclick"}},{text:"Link Mark",itemId:"LinkMark",disabled:true,listeners:{click:"LinkMarkClick"}},{text:"Link Form",itemId:"LinkForm",disabled:true,border:"0 0 1 0",listeners:{click:"LinkFormClick"},style:{borderColor:"#111"}},{text:"addSlot",disabled:true,itemId:"addSlot"},{text:"delSlot",disabled:true,border:"0 0 1 0",itemId:"delSlot",style:{borderColor:"#111"},disabled:true},{text:"attribute",itemId:"attribute",handler:"attribute"},{text:"Rename",itemId:"Rename",handler:"Rename"},{text:"New plant",hidden:true,disabled:true},{text:"Reorder",hidden:true,disabled:true},{text:"Property",disabled:true,itemId:"Property",border:"0 0 1 0",listeners:{},style:{borderColor:"#111"}},{text:"PinSlots",itemId:"PinSlots",hidden:true,disabled:true},{text:"Backup",itemId:"Backup",hidden:true,disabled:true},{text:"Restor",hidden:true,itemId:"Restor",disabled:true}]},0,0,["component","box","container","panel","menu"],{component:true,box:true,container:true,panel:true,menu:true},0,0,[program.view.grid.menu,"gridmenu"],0));Ext.application({name:"program",extend:program.Application,mainView:"program.view.main.Main"});